/*! For license information please see main.js.LICENSE.txt */
(()=>{var t={604:(t,e,n)=>{var i;!function(){"use strict";var r={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function o(t){return function(t,e){var n,i,s,a,l,c,u,h,d,f=1,p=t.length,g="";for(i=0;i<p;i++)if("string"==typeof t[i])g+=t[i];else if("object"==typeof t[i]){if((a=t[i]).keys)for(n=e[f],s=0;s<a.keys.length;s++){if(null==n)throw new Error(o('[sprintf] Cannot access property "%s" of undefined value "%s"',a.keys[s],a.keys[s-1]));n=n[a.keys[s]]}else n=a.param_no?e[a.param_no]:e[f++];if(r.not_type.test(a.type)&&r.not_primitive.test(a.type)&&n instanceof Function&&(n=n()),r.numeric_arg.test(a.type)&&"number"!=typeof n&&isNaN(n))throw new TypeError(o("[sprintf] expecting number but found %T",n));switch(r.number.test(a.type)&&(h=n>=0),a.type){case"b":n=parseInt(n,10).toString(2);break;case"c":n=String.fromCharCode(parseInt(n,10));break;case"d":case"i":n=parseInt(n,10);break;case"j":n=JSON.stringify(n,null,a.width?parseInt(a.width):0);break;case"e":n=a.precision?parseFloat(n).toExponential(a.precision):parseFloat(n).toExponential();break;case"f":n=a.precision?parseFloat(n).toFixed(a.precision):parseFloat(n);break;case"g":n=a.precision?String(Number(n.toPrecision(a.precision))):parseFloat(n);break;case"o":n=(parseInt(n,10)>>>0).toString(8);break;case"s":n=String(n),n=a.precision?n.substring(0,a.precision):n;break;case"t":n=String(!!n),n=a.precision?n.substring(0,a.precision):n;break;case"T":n=Object.prototype.toString.call(n).slice(8,-1).toLowerCase(),n=a.precision?n.substring(0,a.precision):n;break;case"u":n=parseInt(n,10)>>>0;break;case"v":n=n.valueOf(),n=a.precision?n.substring(0,a.precision):n;break;case"x":n=(parseInt(n,10)>>>0).toString(16);break;case"X":n=(parseInt(n,10)>>>0).toString(16).toUpperCase()}r.json.test(a.type)?g+=n:(!r.number.test(a.type)||h&&!a.sign?d="":(d=h?"+":"-",n=n.toString().replace(r.sign,"")),c=a.pad_char?"0"===a.pad_char?"0":a.pad_char.charAt(1):" ",u=a.width-(d+n).length,l=a.width&&u>0?c.repeat(u):"",g+=a.align?d+n+l:"0"===c?d+l+n:l+d+n)}return g}(function(t){if(a[t])return a[t];for(var e,n=t,i=[],o=0;n;){if(null!==(e=r.text.exec(n)))i.push(e[0]);else if(null!==(e=r.modulo.exec(n)))i.push("%");else{if(null===(e=r.placeholder.exec(n)))throw new SyntaxError("[sprintf] unexpected placeholder");if(e[2]){o|=1;var s=[],l=e[2],c=[];if(null===(c=r.key.exec(l)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(s.push(c[1]);""!==(l=l.substring(c[0].length));)if(null!==(c=r.key_access.exec(l)))s.push(c[1]);else{if(null===(c=r.index_access.exec(l)))throw new SyntaxError("[sprintf] failed to parse named argument key");s.push(c[1])}e[2]=s}else o|=2;if(3===o)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");i.push({placeholder:e[0],param_no:e[1],keys:e[2],sign:e[3],pad_char:e[4],align:e[5],width:e[6],precision:e[7],type:e[8]})}n=n.substring(e[0].length)}return a[t]=i}(t),arguments)}function s(t,e){return o.apply(null,[t].concat(e||[]))}var a=Object.create(null);e.sprintf=o,e.vsprintf=s,"undefined"!=typeof window&&(window.sprintf=o,window.vsprintf=s,void 0===(i=function(){return{sprintf:o,vsprintf:s}}.call(e,n,e,t))||(t.exports=i))}()},262:(t,e)=>{"use strict";e.A=(t,e)=>{const n=t.__vccOpts||t;for(const[t,i]of e)n[t]=i;return n}}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var o=e[i]={exports:{}};return t[i](o,o.exports,n),o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{"use strict";var t={};function e(t,e){const n=new Set(t.split(","));return e?t=>n.has(t.toLowerCase()):t=>n.has(t)}n.r(t),n.d(t,{hasBrowserEnv:()=>qm,hasStandardBrowserEnv:()=>Gm,hasStandardBrowserWebWorkerEnv:()=>Km,origin:()=>Xm});const i={},r=[],o=()=>{},s=()=>!1,a=t=>111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),l=t=>t.startsWith("onUpdate:"),c=Object.assign,u=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},h=Object.prototype.hasOwnProperty,d=(t,e)=>h.call(t,e),f=Array.isArray,p=t=>"[object Map]"===w(t),g=t=>"[object Set]"===w(t),m=t=>"function"==typeof t,b=t=>"string"==typeof t,y=t=>"symbol"==typeof t,v=t=>null!==t&&"object"==typeof t,_=t=>(v(t)||m(t))&&m(t.then)&&m(t.catch),x=Object.prototype.toString,w=t=>x.call(t),S=t=>w(t).slice(8,-1),O=t=>"[object Object]"===w(t),k=t=>b(t)&&"NaN"!==t&&"-"!==t[0]&&""+parseInt(t,10)===t,E=e(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),A=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},P=/-(\w)/g,C=A((t=>t.replace(P,((t,e)=>e?e.toUpperCase():"")))),T=/\B([A-Z])/g,M=A((t=>t.replace(T,"-$1").toLowerCase())),L=A((t=>t.charAt(0).toUpperCase()+t.slice(1))),R=A((t=>t?`on${L(t)}`:"")),D=(t,e)=>!Object.is(t,e),j=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},I=(t,e,n,i=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:i,value:n})},F=t=>{const e=parseFloat(t);return isNaN(e)?t:e},N=t=>{const e=b(t)?Number(t):NaN;return isNaN(e)?t:e};let B;const V=()=>B||(B="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:{});function z(t){if(f(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],r=b(i)?W(i):z(i);if(r)for(const t in r)e[t]=r[t]}return e}if(b(t)||v(t))return t}const H=/;(?![^(]*\))/g,U=/:([^]+)/,$=/\/\*[^]*?\*\//g;function W(t){const e={};return t.replace($,"").split(H).forEach((t=>{if(t){const n=t.split(U);n.length>1&&(e[n[0].trim()]=n[1].trim())}})),e}function q(t){let e="";if(b(t))e=t;else if(f(t))for(let n=0;n<t.length;n++){const i=q(t[n]);i&&(e+=i+" ")}else if(v(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const G=e("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function Y(t){return!!t||""===t}const K=t=>b(t)?t:null==t?"":f(t)||v(t)&&(t.toString===x||!m(t.toString))?JSON.stringify(t,X,2):String(t),X=(t,e)=>e&&e.__v_isRef?X(t,e.value):p(e)?{[`Map(${e.size})`]:[...e.entries()].reduce(((t,[e,n],i)=>(t[J(e,i)+" =>"]=n,t)),{})}:g(e)?{[`Set(${e.size})`]:[...e.values()].map((t=>J(t)))}:y(e)?J(e):!v(e)||f(e)||O(e)?e:String(e),J=(t,e="")=>{var n;return y(t)?`Symbol(${null!=(n=t.description)?n:e})`:t};let Q,Z;class tt{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Q,!t&&Q&&(this.index=(Q.scopes||(Q.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const e=Q;try{return Q=this,t()}finally{Q=e}}}on(){Q=this}off(){Q=this.parent}stop(t){if(this._active){let e,n;for(e=0,n=this.effects.length;e<n;e++)this.effects[e].stop();for(e=0,n=this.cleanups.length;e<n;e++)this.cleanups[e]();if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!t){const t=this.parent.scopes.pop();t&&t!==this&&(this.parent.scopes[this.index]=t,t.index=this.index)}this.parent=void 0,this._active=!1}}}class et{constructor(t,e,n,i){this.fn=t,this.trigger=e,this.scheduler=n,this.active=!0,this.deps=[],this._dirtyLevel=5,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,function(t,e=Q){e&&e.active&&e.effects.push(t)}(this,i)}get dirty(){if(2===this._dirtyLevel)return!1;if(3===this._dirtyLevel||4===this._dirtyLevel){this._dirtyLevel=1,ct();for(let t=0;t<this._depsLength;t++){const e=this.deps[t];if(e.computed){if(2===e.computed.effect._dirtyLevel)return!0;if(nt(e.computed),this._dirtyLevel>=5)break}}1===this._dirtyLevel&&(this._dirtyLevel=0),ut()}return this._dirtyLevel>=5}set dirty(t){this._dirtyLevel=t?5:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=st,e=Z;try{return st=!0,Z=this,this._runnings++,it(this),this.fn()}finally{rt(this),this._runnings--,Z=e,st=t}}stop(){this.active&&(it(this),rt(this),this.onStop&&this.onStop(),this.active=!1)}}function nt(t){return t.value}function it(t){t._trackId++,t._depsLength=0}function rt(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)ot(t.deps[e],t);t.deps.length=t._depsLength}}function ot(t,e){const n=t.get(e);void 0!==n&&e._trackId!==n&&(t.delete(e),0===t.size&&t.cleanup())}let st=!0,at=0;const lt=[];function ct(){lt.push(st),st=!1}function ut(){const t=lt.pop();st=void 0===t||t}function ht(){at++}function dt(){for(at--;!at&&pt.length;)pt.shift()()}function ft(t,e,n){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const n=t.deps[t._depsLength];n!==e?(n&&ot(n,t),t.deps[t._depsLength++]=e):t._depsLength++}}const pt=[];function gt(t,e,n){ht();for(const n of t.keys()){if(!t.computed&&n.computed&&t.get(n)===n._trackId&&n._runnings>0){n._dirtyLevel=2;continue}let i;n._dirtyLevel<e&&(null!=i?i:i=t.get(n)===n._trackId)&&(n._shouldSchedule||(n._shouldSchedule=0===n._dirtyLevel),n.computed&&2===n._dirtyLevel&&(n._shouldSchedule=!0),n._dirtyLevel=e),n._shouldSchedule&&(null!=i?i:i=t.get(n)===n._trackId)&&(n.trigger(),n._runnings&&!n.allowRecurse||3===n._dirtyLevel||(n._shouldSchedule=!1,n.scheduler&&pt.push(n.scheduler)))}dt()}const mt=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},bt=new WeakMap,yt=Symbol(""),vt=Symbol("");function _t(t,e,n){if(st&&Z){let e=bt.get(t);e||bt.set(t,e=new Map);let i=e.get(n);i||e.set(n,i=mt((()=>e.delete(n)))),ft(Z,i)}}function xt(t,e,n,i,r,o){const s=bt.get(t);if(!s)return;let a=[];if("clear"===e)a=[...s.values()];else if("length"===n&&f(t)){const t=Number(i);s.forEach(((e,n)=>{("length"===n||!y(n)&&n>=t)&&a.push(e)}))}else switch(void 0!==n&&a.push(s.get(n)),e){case"add":f(t)?k(n)&&a.push(s.get("length")):(a.push(s.get(yt)),p(t)&&a.push(s.get(vt)));break;case"delete":f(t)||(a.push(s.get(yt)),p(t)&&a.push(s.get(vt)));break;case"set":p(t)&&a.push(s.get(yt))}ht();for(const t of a)t&&gt(t,5);dt()}const wt=e("__proto__,__v_isRef,__isVue"),St=new Set(Object.getOwnPropertyNames(Symbol).filter((t=>"arguments"!==t&&"caller"!==t)).map((t=>Symbol[t])).filter(y)),Ot=kt();function kt(){const t={};return["includes","indexOf","lastIndexOf"].forEach((e=>{t[e]=function(...t){const n=de(this);for(let t=0,e=this.length;t<e;t++)_t(n,0,t+"");const i=n[e](...t);return-1===i||!1===i?n[e](...t.map(de)):i}})),["push","pop","shift","unshift","splice"].forEach((e=>{t[e]=function(...t){ct(),ht();const n=de(this)[e].apply(this,t);return dt(),ut(),n}})),t}function Et(t){y(t)||(t=String(t));const e=de(this);return _t(e,0,t),e.hasOwnProperty(t)}class At{constructor(t=!1,e=!1){this._isReadonly=t,this._isShallow=e}get(t,e,n){const i=this._isReadonly,r=this._isShallow;if("__v_isReactive"===e)return!i;if("__v_isReadonly"===e)return i;if("__v_isShallow"===e)return r;if("__v_raw"===e)return n===(i?r?ie:ne:r?ee:te).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const o=f(t);if(!i){if(o&&d(Ot,e))return Reflect.get(Ot,e,n);if("hasOwnProperty"===e)return Et}const s=Reflect.get(t,e,n);return(y(e)?St.has(e):wt(e))?s:(i||_t(t,0,e),r?s:ye(s)?o&&k(e)?s:s.value:v(s)?i?se(s):re(s):s)}}class Pt extends At{constructor(t=!1){super(!1,t)}set(t,e,n,i){let r=t[e];if(!this._isShallow){const e=ce(r);if(ue(n)||ce(n)||(r=de(r),n=de(n)),!f(t)&&ye(r)&&!ye(n))return!e&&(r.value=n,!0)}const o=f(t)&&k(e)?Number(e)<t.length:d(t,e),s=Reflect.set(t,e,n,i);return t===de(i)&&(o?D(n,r)&&xt(t,"set",e,n):xt(t,"add",e,n)),s}deleteProperty(t,e){const n=d(t,e),i=(t[e],Reflect.deleteProperty(t,e));return i&&n&&xt(t,"delete",e,void 0),i}has(t,e){const n=Reflect.has(t,e);return y(e)&&St.has(e)||_t(t,0,e),n}ownKeys(t){return _t(t,0,f(t)?"length":yt),Reflect.ownKeys(t)}}class Ct extends At{constructor(t=!1){super(!0,t)}set(t,e){return!0}deleteProperty(t,e){return!0}}const Tt=new Pt,Mt=new Ct,Lt=new Pt(!0),Rt=t=>t,Dt=t=>Reflect.getPrototypeOf(t);function jt(t,e,n=!1,i=!1){const r=de(t=t.__v_raw),o=de(e);n||(D(e,o)&&_t(r,0,e),_t(r,0,o));const{has:s}=Dt(r),a=i?Rt:n?pe:fe;return s.call(r,e)?a(t.get(e)):s.call(r,o)?a(t.get(o)):void(t!==r&&t.get(e))}function It(t,e=!1){const n=this.__v_raw,i=de(n),r=de(t);return e||(D(t,r)&&_t(i,0,t),_t(i,0,r)),t===r?n.has(t):n.has(t)||n.has(r)}function Ft(t,e=!1){return t=t.__v_raw,!e&&_t(de(t),0,yt),Reflect.get(t,"size",t)}function Nt(t){t=de(t);const e=de(this);return Dt(e).has.call(e,t)||(e.add(t),xt(e,"add",t,t)),this}function Bt(t,e){e=de(e);const n=de(this),{has:i,get:r}=Dt(n);let o=i.call(n,t);o||(t=de(t),o=i.call(n,t));const s=r.call(n,t);return n.set(t,e),o?D(e,s)&&xt(n,"set",t,e):xt(n,"add",t,e),this}function Vt(t){const e=de(this),{has:n,get:i}=Dt(e);let r=n.call(e,t);r||(t=de(t),r=n.call(e,t)),i&&i.call(e,t);const o=e.delete(t);return r&&xt(e,"delete",t,void 0),o}function zt(){const t=de(this),e=0!==t.size,n=t.clear();return e&&xt(t,"clear",void 0,void 0),n}function Ht(t,e){return function(n,i){const r=this,o=r.__v_raw,s=de(o),a=e?Rt:t?pe:fe;return!t&&_t(s,0,yt),o.forEach(((t,e)=>n.call(i,a(t),a(e),r)))}}function Ut(t,e,n){return function(...i){const r=this.__v_raw,o=de(r),s=p(o),a="entries"===t||t===Symbol.iterator&&s,l="keys"===t&&s,c=r[t](...i),u=n?Rt:e?pe:fe;return!e&&_t(o,0,l?vt:yt),{next(){const{value:t,done:e}=c.next();return e?{value:t,done:e}:{value:a?[u(t[0]),u(t[1])]:u(t),done:e}},[Symbol.iterator](){return this}}}}function $t(t){return function(...e){return"delete"!==t&&("clear"===t?void 0:this)}}function Wt(){const t={get(t){return jt(this,t)},get size(){return Ft(this)},has:It,add:Nt,set:Bt,delete:Vt,clear:zt,forEach:Ht(!1,!1)},e={get(t){return jt(this,t,!1,!0)},get size(){return Ft(this)},has:It,add:Nt,set:Bt,delete:Vt,clear:zt,forEach:Ht(!1,!0)},n={get(t){return jt(this,t,!0)},get size(){return Ft(this,!0)},has(t){return It.call(this,t,!0)},add:$t("add"),set:$t("set"),delete:$t("delete"),clear:$t("clear"),forEach:Ht(!0,!1)},i={get(t){return jt(this,t,!0,!0)},get size(){return Ft(this,!0)},has(t){return It.call(this,t,!0)},add:$t("add"),set:$t("set"),delete:$t("delete"),clear:$t("clear"),forEach:Ht(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach((r=>{t[r]=Ut(r,!1,!1),n[r]=Ut(r,!0,!1),e[r]=Ut(r,!1,!0),i[r]=Ut(r,!0,!0)})),[t,n,e,i]}const[qt,Gt,Yt,Kt]=Wt();function Xt(t,e){const n=e?t?Kt:Yt:t?Gt:qt;return(e,i,r)=>"__v_isReactive"===i?!t:"__v_isReadonly"===i?t:"__v_raw"===i?e:Reflect.get(d(n,i)&&i in e?n:e,i,r)}const Jt={get:Xt(!1,!1)},Qt={get:Xt(!1,!0)},Zt={get:Xt(!0,!1)},te=new WeakMap,ee=new WeakMap,ne=new WeakMap,ie=new WeakMap;function re(t){return ce(t)?t:ae(t,!1,Tt,Jt,te)}function oe(t){return ae(t,!1,Lt,Qt,ee)}function se(t){return ae(t,!0,Mt,Zt,ne)}function ae(t,e,n,i,r){if(!v(t))return t;if(t.__v_raw&&(!e||!t.__v_isReactive))return t;const o=r.get(t);if(o)return o;const s=(a=t).__v_skip||!Object.isExtensible(a)?0:function(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}(S(a));var a;if(0===s)return t;const l=new Proxy(t,2===s?i:n);return r.set(t,l),l}function le(t){return ce(t)?le(t.__v_raw):!(!t||!t.__v_isReactive)}function ce(t){return!(!t||!t.__v_isReadonly)}function ue(t){return!(!t||!t.__v_isShallow)}function he(t){return!!t&&!!t.__v_raw}function de(t){const e=t&&t.__v_raw;return e?de(e):t}const fe=t=>v(t)?re(t):t,pe=t=>v(t)?se(t):t;class ge{constructor(t,e,n,i){this.getter=t,this._setter=e,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new et((()=>t(this._value)),(()=>be(this,3===this.effect._dirtyLevel?3:4))),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=n}get value(){const t=de(this);return t._cacheable&&!t.effect.dirty||!D(t._value,t._value=t.effect.run())||be(t,5),me(t),t.effect._dirtyLevel>=2&&be(t,3),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function me(t){var e;st&&Z&&(t=de(t),ft(Z,null!=(e=t.dep)?e:t.dep=mt((()=>t.dep=void 0),t instanceof ge?t:void 0)))}function be(t,e=5,n,i){const r=(t=de(t)).dep;r&&gt(r,e)}function ye(t){return!(!t||!0!==t.__v_isRef)}function ve(t){return xe(t,!1)}function _e(t){return xe(t,!0)}function xe(t,e){return ye(t)?t:new we(t,e)}class we{constructor(t,e){this.__v_isShallow=e,this.dep=void 0,this.__v_isRef=!0,this._rawValue=e?t:de(t),this._value=e?t:fe(t)}get value(){return me(this),this._value}set value(t){const e=this.__v_isShallow||ue(t)||ce(t);t=e?t:de(t),D(t,this._rawValue)&&(this._rawValue,this._rawValue=t,this._value=e?t:fe(t),be(this,5))}}function Se(t){return ye(t)?t.value:t}const Oe={get:(t,e,n)=>Se(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const r=t[e];return ye(r)&&!ye(n)?(r.value=n,!0):Reflect.set(t,e,n,i)}};function ke(t){return le(t)?t:new Proxy(t,Oe)}function Ee(t,e,n,i){try{return i?t(...i):t()}catch(t){Pe(t,e,n)}}function Ae(t,e,n,i){if(m(t)){const r=Ee(t,e,n,i);return r&&_(r)&&r.catch((t=>{Pe(t,e,n)})),r}if(f(t)){const r=[];for(let o=0;o<t.length;o++)r.push(Ae(t[o],e,n,i));return r}}function Pe(t,e,n,i=!0){if(e&&e.vnode,e){let i=e.parent;const r=e.proxy,o=`https://vuejs.org/error-reference/#runtime-${n}`;for(;i;){const e=i.ec;if(e)for(let n=0;n<e.length;n++)if(!1===e[n](t,r,o))return;i=i.parent}const s=e.appContext.config.errorHandler;if(s)return ct(),Ee(s,null,10,[t,r,o]),void ut()}!function(t,e,n,i=!0){console.error(t)}(t,0,0,i)}let Ce=!1,Te=!1;const Me=[];let Le=0;const Re=[];let De=null,je=0;const Ie=Promise.resolve();let Fe=null;function Ne(t){const e=Fe||Ie;return t?e.then(this?t.bind(this):t):e}function Be(t){Me.length&&Me.includes(t,Ce&&t.allowRecurse?Le+1:Le)||(null==t.id?Me.push(t):Me.splice(function(t){let e=Le+1,n=Me.length;for(;e<n;){const i=e+n>>>1,r=Me[i],o=Ue(r);o<t||o===t&&r.pre?e=i+1:n=i}return e}(t.id),0,t),Ve())}function Ve(){Ce||Te||(Te=!0,Fe=Ie.then(We))}function ze(t,e,n=(Ce?Le+1:0)){for(;n<Me.length;n++){const e=Me[n];if(e&&e.pre){if(t&&e.id!==t.uid)continue;Me.splice(n,1),n--,e()}}}function He(t){if(Re.length){const t=[...new Set(Re)].sort(((t,e)=>Ue(t)-Ue(e)));if(Re.length=0,De)return void De.push(...t);for(De=t,je=0;je<De.length;je++){const t=De[je];!1!==t.active&&t()}De=null,je=0}}const Ue=t=>null==t.id?1/0:t.id,$e=(t,e)=>{const n=Ue(t)-Ue(e);if(0===n){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function We(t){Te=!1,Ce=!0,Me.sort($e);try{for(Le=0;Le<Me.length;Le++){const t=Me[Le];t&&!1!==t.active&&Ee(t,null,14)}}finally{Le=0,Me.length=0,He(),Ce=!1,Fe=null,(Me.length||Re.length)&&We(t)}}let qe,Ge=[],Ye=!1;function Ke(t,...e){qe?qe.emit(t,...e):Ye||Ge.push({event:t,args:e})}function Xe(t,e){var n,i;qe=t,qe?(qe.enabled=!0,Ge.forEach((({event:t,args:e})=>qe.emit(t,...e))),Ge=[]):"undefined"!=typeof window&&window.HTMLElement&&!(null==(i=null==(n=window.navigator)?void 0:n.userAgent)?void 0:i.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push((t=>{Xe(t,e)})),setTimeout((()=>{qe||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Ye=!0,Ge=[])}),3e3)):(Ye=!0,Ge=[])}const Je=en("component:added"),Qe=en("component:updated"),Ze=en("component:removed"),tn=t=>{qe&&"function"==typeof qe.cleanupBuffer&&!qe.cleanupBuffer(t)&&Ze(t)};function en(t){return e=>{Ke(t,e.appContext.app,e.uid,e.parent?e.parent.uid:void 0,e)}}function nn(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||i;let o=n;const s=e.startsWith("update:"),a=s&&e.slice(7);if(a&&a in r){const t=`${"modelValue"===a?"model":a}Modifiers`,{number:e,trim:s}=r[t]||i;s&&(o=n.map((t=>b(t)?t.trim():t))),e&&(o=n.map(F))}let l;__VUE_PROD_DEVTOOLS__&&function(t,e,n){Ke("component:emit",t.appContext.app,t,e,n)}(t,e,o);let c=r[l=R(e)]||r[l=R(C(e))];!c&&s&&(c=r[l=R(M(e))]),c&&Ae(c,t,6,o);const u=r[l+"Once"];if(u){if(t.emitted){if(t.emitted[l])return}else t.emitted={};t.emitted[l]=!0,Ae(u,t,6,o)}}function rn(t,e,n=!1){const i=e.emitsCache,r=i.get(t);if(void 0!==r)return r;const o=t.emits;let s={},a=!1;if(__VUE_OPTIONS_API__&&!m(t)){const i=t=>{const n=rn(t,e,!0);n&&(a=!0,c(s,n))};!n&&e.mixins.length&&e.mixins.forEach(i),t.extends&&i(t.extends),t.mixins&&t.mixins.forEach(i)}return o||a?(f(o)?o.forEach((t=>s[t]=null)):c(s,o),v(t)&&i.set(t,s),s):(v(t)&&i.set(t,null),null)}function on(t,e){return!(!t||!a(e))&&(e=e.slice(2).replace(/Once$/,""),d(t,e[0].toLowerCase()+e.slice(1))||d(t,M(e))||d(t,e))}let sn=null,an=null;function ln(t){const e=sn;return sn=t,an=t&&t.type.__scopeId||null,e}function cn(t){an=t}function un(){an=null}function hn(t,e=sn,n){if(!e)return t;if(t._n)return t;const i=(...n)=>{i._d&&ur(-1);const r=ln(e);let o;try{o=t(...n)}finally{ln(r),i._d&&ur(1)}return __VUE_PROD_DEVTOOLS__&&Qe(e),o};return i._n=!0,i._c=!0,i._d=!0,i}function dn(t){const{type:e,vnode:n,proxy:i,withProxy:r,propsOptions:[o],slots:s,attrs:a,emit:c,render:u,renderCache:h,props:d,data:f,setupState:p,ctx:g,inheritAttrs:m}=t,b=ln(t);let y,v;try{if(4&n.shapeFlag){const t=r||i,e=t;y=Sr(u.call(e,t,h,d,p,f,g)),v=a}else{const t=e;y=Sr(t.length>1?t(d,{attrs:a,slots:s,emit:c}):t(d,null)),v=e.props?a:fn(a)}}catch(e){sr.length=0,Pe(e,t,1),y=vr(rr)}let _=y;if(v&&!1!==m){const t=Object.keys(v),{shapeFlag:e}=_;t.length&&7&e&&(o&&t.some(l)&&(v=pn(v,o)),_=_r(_,v,!1,!0))}return n.dirs&&(_=_r(_,null,!1,!0),_.dirs=_.dirs?_.dirs.concat(n.dirs):n.dirs),n.transition&&(_.transition=n.transition),y=_,ln(b),y}const fn=t=>{let e;for(const n in t)("class"===n||"style"===n||a(n))&&((e||(e={}))[n]=t[n]);return e},pn=(t,e)=>{const n={};for(const i in t)l(i)&&i.slice(9)in e||(n[i]=t[i]);return n};function gn(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let r=0;r<i.length;r++){const o=i[r];if(e[o]!==t[o]&&!on(n,o))return!0}return!1}const mn="components";function bn(t,e){return function(t,e,n=!0,i=!1){const r=sn||Cr;if(r){const n=r.type;if(t===mn){const t=function(t,e=!0){return m(t)?t.displayName||t.name:t.name||e&&t.__name}(n,!1);if(t&&(t===e||t===C(e)||t===L(C(e))))return n}const o=vn(r[t]||n[t],e)||vn(r.appContext[t],e);return!o&&i?n:o}}(mn,t,!0,e)||t}const yn=Symbol.for("v-ndc");function vn(t,e){return t&&(t[e]||t[C(e)]||t[L(C(e))])}function _n(t,e,n=Cr,i=!1){if(n){const r=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...i)=>{ct();const r=Rr(n),o=Ae(e,n,t,i);return r(),ut(),o});return i?r.unshift(o):r.push(o),o}}const xn=t=>(e,n=Cr)=>{Nr&&"sp"!==t||_n(t,((...t)=>e(...t)),n)},wn=xn("bm"),Sn=xn("m"),On=xn("bu"),kn=xn("u"),En=xn("bum"),An=xn("um"),Pn=xn("sp"),Cn=xn("rtg"),Tn=xn("rtc");function Mn(t,e=Cr){_n("ec",t,e)}function Ln(t,e,n,i){const r=t.dirs,o=e&&e.dirs;for(let s=0;s<r.length;s++){const a=r[s];o&&(a.oldValue=o[s].value);let l=a.dir[i];l&&(ct(),Ae(l,n,8,[t.el,a,t,e]),ut())}}function Rn(t,e,n,i){let r;const o=n&&n[i];if(f(t)||b(t)){r=new Array(t.length);for(let n=0,i=t.length;n<i;n++)r[n]=e(t[n],n,void 0,o&&o[n])}else if("number"==typeof t){r=new Array(t);for(let n=0;n<t;n++)r[n]=e(n+1,n,void 0,o&&o[n])}else if(v(t))if(t[Symbol.iterator])r=Array.from(t,((t,n)=>e(t,n,void 0,o&&o[n])));else{const n=Object.keys(t);r=new Array(n.length);for(let i=0,s=n.length;i<s;i++){const s=n[i];r[i]=e(t[s],s,i,o&&o[i])}}else r=[];return n&&(n[i]=r),r}function Dn(t,e){return m(t)?(()=>c({name:t.name},e,{setup:t}))():t}const jn=t=>!!t.type.__asyncLoader;function In(t,e,n={},i,r){if(sn.isCE||sn.parent&&jn(sn.parent)&&sn.parent.isCE)return"default"!==e&&(n.name=e),vr("slot",n,i&&i());let o=t[e];o&&o._c&&(o._d=!1),lr();const s=o&&Fn(o(n)),a=fr(nr,{key:n.key||s&&s.key||`_${e}`},s||(i?i():[]),s&&1===t._?64:-2);return!r&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),o&&o._c&&(o._d=!0),a}function Fn(t){return t.some((t=>!pr(t)||t.type!==rr&&!(t.type===nr&&!Fn(t.children))))?t:null}const Nn=t=>t?jr(t)?Hr(t):Nn(t.parent):null,Bn=c(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Nn(t.parent),$root:t=>Nn(t.root),$emit:t=>t.emit,$options:t=>__VUE_OPTIONS_API__?qn(t):t.type,$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,Be(t.update)}),$nextTick:t=>t.n||(t.n=Ne.bind(t.proxy)),$watch:t=>__VUE_OPTIONS_API__?Ii.bind(t):o}),Vn=(t,e)=>t!==i&&!t.__isScriptSetup&&d(t,e),zn={get({_:t},e){if("__v_skip"===e)return!0;const{ctx:n,setupState:r,data:o,props:s,accessCache:a,type:l,appContext:c}=t;let u;if("$"!==e[0]){const l=a[e];if(void 0!==l)switch(l){case 1:return r[e];case 2:return o[e];case 4:return n[e];case 3:return s[e]}else{if(Vn(r,e))return a[e]=1,r[e];if(o!==i&&d(o,e))return a[e]=2,o[e];if((u=t.propsOptions[0])&&d(u,e))return a[e]=3,s[e];if(n!==i&&d(n,e))return a[e]=4,n[e];__VUE_OPTIONS_API__&&!Un||(a[e]=0)}}const h=Bn[e];let f,p;return h?("$attrs"===e&&_t(t.attrs,0,""),h(t)):(f=l.__cssModules)&&(f=f[e])?f:n!==i&&d(n,e)?(a[e]=4,n[e]):(p=c.config.globalProperties,d(p,e)?p[e]:void 0)},set({_:t},e,n){const{data:r,setupState:o,ctx:s}=t;return Vn(o,e)?(o[e]=n,!0):r!==i&&d(r,e)?(r[e]=n,!0):!(d(t.props,e)||"$"===e[0]&&e.slice(1)in t||(s[e]=n,0))},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:o,propsOptions:s}},a){let l;return!!n[a]||t!==i&&d(t,a)||Vn(e,a)||(l=s[0])&&d(l,a)||d(r,a)||d(Bn,a)||d(o.config.globalProperties,a)},defineProperty(t,e,n){return null!=n.get?t._.accessCache[e]=0:d(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Hn(t){return f(t)?t.reduce(((t,e)=>(t[e]=null,t)),{}):t}let Un=!0;function $n(t,e,n){Ae(f(t)?t.map((t=>t.bind(e.proxy))):t.bind(e.proxy),e,n)}function Wn(t,e,n,i){const r=i.includes(".")?Fi(n,i):()=>n[i];if(b(t)){const n=e[t];m(n)&&Di(r,n)}else if(m(t))Di(r,t.bind(n));else if(v(t))if(f(t))t.forEach((t=>Wn(t,e,n,i)));else{const i=m(t.handler)?t.handler.bind(n):e[t.handler];m(i)&&Di(r,i,t)}}function qn(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:r,optionsCache:o,config:{optionMergeStrategies:s}}=t.appContext,a=o.get(e);let l;return a?l=a:r.length||n||i?(l={},r.length&&r.forEach((t=>Gn(l,t,s,!0))),Gn(l,e,s)):l=e,v(e)&&o.set(e,l),l}function Gn(t,e,n,i=!1){const{mixins:r,extends:o}=e;o&&Gn(t,o,n,!0),r&&r.forEach((e=>Gn(t,e,n,!0)));for(const r in e)if(i&&"expose"===r);else{const i=Yn[r]||n&&n[r];t[r]=i?i(t[r],e[r]):e[r]}return t}const Yn={data:Kn,props:Zn,emits:Zn,methods:Qn,computed:Qn,beforeCreate:Jn,created:Jn,beforeMount:Jn,mounted:Jn,beforeUpdate:Jn,updated:Jn,beforeDestroy:Jn,beforeUnmount:Jn,destroyed:Jn,unmounted:Jn,activated:Jn,deactivated:Jn,errorCaptured:Jn,serverPrefetch:Jn,components:Qn,directives:Qn,watch:function(t,e){if(!t)return e;if(!e)return t;const n=c(Object.create(null),t);for(const i in e)n[i]=Jn(t[i],e[i]);return n},provide:Kn,inject:function(t,e){return Qn(Xn(t),Xn(e))}};function Kn(t,e){return e?t?function(){return c(m(t)?t.call(this,this):t,m(e)?e.call(this,this):e)}:e:t}function Xn(t){if(f(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Jn(t,e){return t?[...new Set([].concat(t,e))]:e}function Qn(t,e){return t?c(Object.create(null),t,e):e}function Zn(t,e){return t?f(t)&&f(e)?[...new Set([...t,...e])]:c(Object.create(null),Hn(t),Hn(null!=e?e:{})):e}function ti(){return{app:null,config:{isNativeTag:s,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ei=0;function ni(t,e){return function(n,i=null){m(n)||(n=c({},n)),null==i||v(i)||(i=null);const r=ti(),o=new WeakSet;let s=!1;const a=r.app={_uid:ei++,_component:n,_props:i,_container:null,_context:r,_instance:null,version:Wr,get config(){return r.config},set config(t){},use:(t,...e)=>(o.has(t)||(t&&m(t.install)?(o.add(t),t.install(a,...e)):m(t)&&(o.add(t),t(a,...e))),a),mixin:t=>(__VUE_OPTIONS_API__&&(r.mixins.includes(t)||r.mixins.push(t)),a),component:(t,e)=>e?(r.components[t]=e,a):r.components[t],directive:(t,e)=>e?(r.directives[t]=e,a):r.directives[t],mount(o,l,c){if(!s){const u=vr(n,i);return u.appContext=r,!0===c?c="svg":!1===c&&(c=void 0),l&&e?e(u,o):t(u,o,c),s=!0,a._container=o,o.__vue_app__=a,__VUE_PROD_DEVTOOLS__&&(a._instance=u.component,function(t,e){Ke("app:init",t,e,{Fragment:nr,Text:ir,Comment:rr,Static:or})}(a,Wr)),Hr(u.component)}},unmount(){s&&(t(null,a._container),__VUE_PROD_DEVTOOLS__&&(a._instance=null,function(t){Ke("app:unmount",t)}(a)),delete a._container.__vue_app__)},provide:(t,e)=>(r.provides[t]=e,a),runWithContext(t){const e=ii;ii=a;try{return t()}finally{ii=e}}};return a}}let ii=null;function ri(t,e){if(Cr){let n=Cr.provides;const i=Cr.parent&&Cr.parent.provides;i===n&&(n=Cr.provides=Object.create(i)),n[t]=e}}function oi(t,e,n=!1){const i=Cr||sn;if(i||ii){const r=i?null==i.parent?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:ii._context.provides;if(r&&t in r)return r[t];if(arguments.length>1)return n&&m(e)?e.call(i&&i.proxy):e}}const si={},ai=()=>Object.create(si),li=t=>Object.getPrototypeOf(t)===si;function ci(t,e,n,r){const[o,s]=t.propsOptions;let a,l=!1;if(e)for(let i in e){if(E(i))continue;const c=e[i];let u;o&&d(o,u=C(i))?s&&s.includes(u)?(a||(a={}))[u]=c:n[u]=c:on(t.emitsOptions,i)||i in r&&c===r[i]||(r[i]=c,l=!0)}if(s){const e=de(n),r=a||i;for(let i=0;i<s.length;i++){const a=s[i];n[a]=ui(o,e,a,r[a],t,!d(r,a))}}return l}function ui(t,e,n,i,r,o){const s=t[n];if(null!=s){const t=d(s,"default");if(t&&void 0===i){const t=s.default;if(s.type!==Function&&!s.skipFactory&&m(t)){const{propsDefaults:o}=r;if(n in o)i=o[n];else{const s=Rr(r);i=o[n]=t.call(null,e),s()}}else i=t}s[0]&&(o&&!t?i=!1:!s[1]||""!==i&&i!==M(n)||(i=!0))}return i}function hi(t,e,n=!1){const o=e.propsCache,s=o.get(t);if(s)return s;const a=t.props,l={},u=[];let h=!1;if(__VUE_OPTIONS_API__&&!m(t)){const i=t=>{h=!0;const[n,i]=hi(t,e,!0);c(l,n),i&&u.push(...i)};!n&&e.mixins.length&&e.mixins.forEach(i),t.extends&&i(t.extends),t.mixins&&t.mixins.forEach(i)}if(!a&&!h)return v(t)&&o.set(t,r),r;if(f(a))for(let t=0;t<a.length;t++){const e=C(a[t]);di(e)&&(l[e]=i)}else if(a)for(const t in a){const e=C(t);if(di(e)){const n=a[t],i=l[e]=f(n)||m(n)?{type:n}:c({},n);if(i){const t=gi(Boolean,i.type),n=gi(String,i.type);i[0]=t>-1,i[1]=n<0||t<n,(t>-1||d(i,"default"))&&u.push(e)}}}const p=[l,u];return v(t)&&o.set(t,p),p}function di(t){return"$"!==t[0]&&!E(t)}function fi(t){return null===t?"null":"function"==typeof t?t.name||"":"object"==typeof t&&t.constructor&&t.constructor.name||""}function pi(t,e){return fi(t)===fi(e)}function gi(t,e){return f(e)?e.findIndex((e=>pi(e,t))):m(e)&&pi(e,t)?0:-1}const mi=t=>"_"===t[0]||"$stable"===t,bi=t=>f(t)?t.map(Sr):[Sr(t)],yi=(t,e,n)=>{if(e._n)return e;const i=hn(((...t)=>bi(e(...t))),n);return i._c=!1,i},vi=(t,e,n)=>{const i=t._ctx;for(const n in t){if(mi(n))continue;const r=t[n];if(m(r))e[n]=yi(0,r,i);else if(null!=r){const t=bi(r);e[n]=()=>t}}},_i=(t,e)=>{const n=bi(e);t.slots.default=()=>n},xi=(t,e)=>{const n=t.slots=ai();if(32&t.vnode.shapeFlag){const t=e._;t?(c(n,e),I(n,"_",t,!0)):vi(e,n)}else e&&_i(t,e)},wi=(t,e,n)=>{const{vnode:r,slots:o}=t;let s=!0,a=i;if(32&r.shapeFlag){const t=e._;t?n&&1===t?s=!1:(c(o,e),n||1!==t||delete o._):(s=!e.$stable,vi(e,o)),a=e}else e&&(_i(t,e),a={default:1});if(s)for(const t in o)mi(t)||null!=a[t]||delete o[t]};function Si(t,e,n,r,o=!1){if(f(t))return void t.forEach(((t,i)=>Si(t,e&&(f(e)?e[i]:e),n,r,o)));if(jn(r)&&!o)return;const s=4&r.shapeFlag?Hr(r.component):r.el,a=o?null:s,{i:l,r:c}=t,h=e&&e.r,p=l.refs===i?l.refs={}:l.refs,g=l.setupState;if(null!=h&&h!==c&&(b(h)?(p[h]=null,d(g,h)&&(g[h]=null)):ye(h)&&(h.value=null)),m(c))Ee(c,l,12,[a,p]);else{const e=b(c),i=ye(c);if(e||i){const r=()=>{if(t.f){const n=e?d(g,c)?g[c]:p[c]:c.value;o?f(n)&&u(n,s):f(n)?n.includes(s)||n.push(s):e?(p[c]=[s],d(g,c)&&(g[c]=p[c])):(c.value=[s],t.k&&(p[t.k]=c.value))}else e?(p[c]=a,d(g,c)&&(g[c]=a)):i&&(c.value=a,t.k&&(p[t.k]=a))};a?(r.id=-1,Oi(r,n)):r()}}}const Oi=function(t,e){var n;e&&e.pendingBranch?f(t)?e.effects.push(...t):e.effects.push(t):(f(n=t)?Re.push(...n):De&&De.includes(n,n.allowRecurse?je+1:je)||Re.push(n),Ve())};function ki(t,e){"boolean"!=typeof __VUE_OPTIONS_API__&&(V().__VUE_OPTIONS_API__=!0),"boolean"!=typeof __VUE_PROD_DEVTOOLS__&&(V().__VUE_PROD_DEVTOOLS__=!1),"boolean"!=typeof __VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&(V().__VUE_PROD_HYDRATION_MISMATCH_DETAILS__=!1);const n=V();n.__VUE__=!0,__VUE_PROD_DEVTOOLS__&&Xe(n.__VUE_DEVTOOLS_GLOBAL_HOOK__,n);const{insert:s,remove:a,patchProp:l,createElement:c,createText:u,createComment:h,setText:f,setElementText:p,parentNode:g,nextSibling:m,setScopeId:b=o,insertStaticContent:y}=t,v=(t,e,n,i=null,r=null,o=null,s=void 0,a=null,l=!!e.dynamicChildren)=>{if(t===e)return;t&&!gr(t,e)&&(i=J(t),q(t,r,o,!0),t=null),-2===e.patchFlag&&(l=!1,e.dynamicChildren=null);const{type:c,ref:u,shapeFlag:h}=e;switch(c){case ir:x(t,e,n,i);break;case rr:w(t,e,n,i);break;case or:null==t&&S(e,n,i,s);break;case nr:D(t,e,n,i,r,o,s,a,l);break;default:1&h?O(t,e,n,i,r,o,s,a,l):6&h?I(t,e,n,i,r,o,s,a,l):(64&h||128&h)&&c.process(t,e,n,i,r,o,s,a,l,nt)}null!=u&&r&&Si(u,t&&t.ref,o,e||t,!e)},x=(t,e,n,i)=>{if(null==t)s(e.el=u(e.children),n,i);else{const n=e.el=t.el;e.children!==t.children&&f(n,e.children)}},w=(t,e,n,i)=>{null==t?s(e.el=h(e.children||""),n,i):e.el=t.el},S=(t,e,n,i)=>{[t.el,t.anchor]=y(t.children,e,n,i,t.el,t.anchor)},O=(t,e,n,i,r,o,s,a,l)=>{"svg"===e.type?s="svg":"math"===e.type&&(s="mathml"),null==t?k(e,n,i,r,o,s,a,l):T(t,e,r,o,s,a,l)},k=(t,e,n,i,r,o,a,u)=>{let h,d;const{props:f,shapeFlag:g,transition:m,dirs:b}=t;if(h=t.el=c(t.type,o,f&&f.is,f),8&g?p(h,t.children):16&g&&P(t.children,h,null,i,r,Ei(t,o),a,u),b&&Ln(t,null,i,"created"),A(h,t,t.scopeId,a,i),f){for(const e in f)"value"===e||E(e)||l(h,e,null,f[e],o,t.children,i,r,X);"value"in f&&l(h,"value",null,f.value,o),(d=f.onVnodeBeforeMount)&&Er(d,i,t)}__VUE_PROD_DEVTOOLS__&&(Object.defineProperty(h,"__vnode",{value:t,enumerable:!1}),Object.defineProperty(h,"__vueParentComponent",{value:i,enumerable:!1})),b&&Ln(t,null,i,"beforeMount");const y=function(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}(r,m);y&&m.beforeEnter(h),s(h,e,n),((d=f&&f.onVnodeMounted)||y||b)&&Oi((()=>{d&&Er(d,i,t),y&&m.enter(h),b&&Ln(t,null,i,"mounted")}),r)},A=(t,e,n,i,r)=>{if(n&&b(t,n),i)for(let e=0;e<i.length;e++)b(t,i[e]);if(r&&e===r.subTree){const e=r.vnode;A(t,e,e.scopeId,e.slotScopeIds,r.parent)}},P=(t,e,n,i,r,o,s,a,l=0)=>{for(let c=l;c<t.length;c++){const l=t[c]=a?Or(t[c]):Sr(t[c]);v(null,l,e,n,i,r,o,s,a)}},T=(t,e,n,r,o,s,a)=>{const c=e.el=t.el;let{patchFlag:u,dynamicChildren:h,dirs:d}=e;u|=16&t.patchFlag;const f=t.props||i,g=e.props||i;let m;if(n&&Ai(n,!1),(m=g.onVnodeBeforeUpdate)&&Er(m,n,e,t),d&&Ln(e,t,n,"beforeUpdate"),n&&Ai(n,!0),h?L(t.dynamicChildren,h,c,n,r,Ei(e,o),s):a||H(t,e,c,null,n,r,Ei(e,o),s,!1),u>0){if(16&u)R(c,e,f,g,n,r,o);else if(2&u&&f.class!==g.class&&l(c,"class",null,g.class,o),4&u&&l(c,"style",f.style,g.style,o),8&u){const i=e.dynamicProps;for(let e=0;e<i.length;e++){const s=i[e],a=f[s],u=g[s];u===a&&"value"!==s||l(c,s,a,u,o,t.children,n,r,X)}}1&u&&t.children!==e.children&&p(c,e.children)}else a||null!=h||R(c,e,f,g,n,r,o);((m=g.onVnodeUpdated)||d)&&Oi((()=>{m&&Er(m,n,e,t),d&&Ln(e,t,n,"updated")}),r)},L=(t,e,n,i,r,o,s)=>{for(let a=0;a<e.length;a++){const l=t[a],c=e[a],u=l.el&&(l.type===nr||!gr(l,c)||70&l.shapeFlag)?g(l.el):n;v(l,c,u,null,i,r,o,s,!0)}},R=(t,e,n,r,o,s,a)=>{if(n!==r){if(n!==i)for(const i in n)E(i)||i in r||l(t,i,n[i],null,a,e.children,o,s,X);for(const i in r){if(E(i))continue;const c=r[i],u=n[i];c!==u&&"value"!==i&&l(t,i,u,c,a,e.children,o,s,X)}"value"in r&&l(t,"value",n.value,r.value,a)}},D=(t,e,n,i,r,o,a,l,c)=>{const h=e.el=t?t.el:u(""),d=e.anchor=t?t.anchor:u("");let{patchFlag:f,dynamicChildren:p,slotScopeIds:g}=e;g&&(l=l?l.concat(g):g),null==t?(s(h,n,i),s(d,n,i),P(e.children||[],n,d,r,o,a,l,c)):f>0&&64&f&&p&&t.dynamicChildren?(L(t.dynamicChildren,p,n,r,o,a,l),(null!=e.key||r&&e===r.subTree)&&Pi(t,e,!0)):H(t,e,n,d,r,o,a,l,c)},I=(t,e,n,i,r,o,s,a,l)=>{e.slotScopeIds=a,null==t?512&e.shapeFlag?r.ctx.activate(e,n,i,s,l):F(e,n,i,r,o,s,l):N(t,e,l)},F=(t,e,n,r,o,s,a)=>{const l=t.component=function(t,e,n){const r=t.type,o=(e?e.appContext:t.appContext)||Ar,s={uid:Pr++,vnode:t,type:r,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new tt(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:hi(r,o),emitsOptions:rn(r,o),emit:null,emitted:null,propsDefaults:i,inheritAttrs:r.inheritAttrs,ctx:i,data:i,props:i,attrs:i,slots:i,refs:i,setupState:i,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=nn.bind(null,s),t.ce&&t.ce(s),s}(t,r,o);if(Bi(t)&&(l.ctx.renderer=nt),function(t,e=!1){e&&Lr(e);const{props:n,children:i}=t.vnode,r=jr(t);!function(t,e,n,i=!1){const r={},o=ai();t.propsDefaults=Object.create(null),ci(t,e,r,o);for(const e in t.propsOptions[0])e in r||(r[e]=void 0);n?t.props=i?r:oe(r):t.type.props?t.props=r:t.props=o,t.attrs=o}(t,n,r,e),xi(t,i);const o=r?function(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,zn);const{setup:i}=n;if(i){const n=t.setupContext=i.length>1?function(t){const e=e=>{t.exposed=e||{}};return{attrs:new Proxy(t.attrs,zr),slots:t.slots,emit:t.emit,expose:e}}(t):null,r=Rr(t);ct();const o=Ee(i,t,0,[t.props,n]);if(ut(),r(),_(o)){if(o.then(Dr,Dr),e)return o.then((n=>{Br(t,n,e)})).catch((e=>{Pe(e,t,0)}));t.asyncDep=o}else Br(t,o,e)}else Vr(t,e)}(t,e):void 0;e&&Lr(!1)}(l),l.asyncDep){if(o&&o.registerDep(l,B,a),!t.el){const t=l.subTree=vr(rr);w(null,t,e,n)}}else B(l,t,e,n,o,s,a)},N=(t,e,n)=>{const i=e.component=t.component;if(function(t,e,n){const{props:i,children:r,component:o}=t,{props:s,children:a,patchFlag:l}=e,c=o.emitsOptions;if(e.dirs||e.transition)return!0;if(!(n&&l>=0))return!(!r&&!a||a&&a.$stable)||i!==s&&(i?!s||gn(i,s,c):!!s);if(1024&l)return!0;if(16&l)return i?gn(i,s,c):!!s;if(8&l){const t=e.dynamicProps;for(let e=0;e<t.length;e++){const n=t[e];if(s[n]!==i[n]&&!on(c,n))return!0}}return!1}(t,e,n)){if(i.asyncDep&&!i.asyncResolved)return void z(i,e,n);i.next=e,function(t){const e=Me.indexOf(t);e>Le&&Me.splice(e,1)}(i.update),i.effect.dirty=!0,i.update()}else e.el=t.el,i.vnode=e},B=(t,e,n,i,r,s,a)=>{const l=()=>{if(t.isMounted){let{next:e,bu:n,u:i,parent:o,vnode:c}=t;{const n=Ci(t);if(n)return e&&(e.el=c.el,z(t,e,a)),void n.asyncDep.then((()=>{t.isUnmounted||l()}))}let u,h=e;Ai(t,!1),e?(e.el=c.el,z(t,e,a)):e=c,n&&j(n),(u=e.props&&e.props.onVnodeBeforeUpdate)&&Er(u,o,e,c),Ai(t,!0);const d=dn(t),f=t.subTree;t.subTree=d,v(f,d,g(f.el),J(f),t,r,s),e.el=d.el,null===h&&function({vnode:t,parent:e},n){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===t&&(i.el=t.el),i!==t)break;(t=e.vnode).el=n,e=e.parent}}(t,d.el),i&&Oi(i,r),(u=e.props&&e.props.onVnodeUpdated)&&Oi((()=>Er(u,o,e,c)),r),__VUE_PROD_DEVTOOLS__&&Qe(t)}else{let o;const{el:a,props:l}=e,{bm:c,m:u,parent:h}=t,d=jn(e);if(Ai(t,!1),c&&j(c),!d&&(o=l&&l.onVnodeBeforeMount)&&Er(o,h,e),Ai(t,!0),a&&rt){const n=()=>{t.subTree=dn(t),rt(a,t.subTree,t,r,null)};d?e.type.__asyncLoader().then((()=>!t.isUnmounted&&n())):n()}else{const o=t.subTree=dn(t);v(null,o,n,i,t,r,s),e.el=o.el}if(u&&Oi(u,r),!d&&(o=l&&l.onVnodeMounted)){const t=e;Oi((()=>Er(o,h,t)),r)}(256&e.shapeFlag||h&&jn(h.vnode)&&256&h.vnode.shapeFlag)&&t.a&&Oi(t.a,r),t.isMounted=!0,__VUE_PROD_DEVTOOLS__&&Je(t),e=n=i=null}},c=t.effect=new et(l,o,(()=>Be(u)),t.scope),u=t.update=()=>{c.dirty&&c.run()};u.id=t.uid,Ai(t,!0),u()},z=(t,e,n)=>{e.component=t;const i=t.vnode.props;t.vnode=e,t.next=null,function(t,e,n,i){const{props:r,attrs:o,vnode:{patchFlag:s}}=t,a=de(r),[l]=t.propsOptions;let c=!1;if(!(i||s>0)||16&s){let i;ci(t,e,r,o)&&(c=!0);for(const o in a)e&&(d(e,o)||(i=M(o))!==o&&d(e,i))||(l?!n||void 0===n[o]&&void 0===n[i]||(r[o]=ui(l,a,o,void 0,t,!0)):delete r[o]);if(o!==a)for(const t in o)e&&d(e,t)||(delete o[t],c=!0)}else if(8&s){const n=t.vnode.dynamicProps;for(let i=0;i<n.length;i++){let s=n[i];if(on(t.emitsOptions,s))continue;const u=e[s];if(l)if(d(o,s))u!==o[s]&&(o[s]=u,c=!0);else{const e=C(s);r[e]=ui(l,a,e,u,t,!1)}else u!==o[s]&&(o[s]=u,c=!0)}}c&&xt(t.attrs,"set","")}(t,e.props,i,n),wi(t,e.children,n),ct(),ze(t),ut()},H=(t,e,n,i,r,o,s,a,l=!1)=>{const c=t&&t.children,u=t?t.shapeFlag:0,h=e.children,{patchFlag:d,shapeFlag:f}=e;if(d>0){if(128&d)return void $(c,h,n,i,r,o,s,a,l);if(256&d)return void U(c,h,n,i,r,o,s,a,l)}8&f?(16&u&&X(c,r,o),h!==c&&p(n,h)):16&u?16&f?$(c,h,n,i,r,o,s,a,l):X(c,r,o,!0):(8&u&&p(n,""),16&f&&P(h,n,i,r,o,s,a,l))},U=(t,e,n,i,o,s,a,l,c)=>{e=e||r;const u=(t=t||r).length,h=e.length,d=Math.min(u,h);let f;for(f=0;f<d;f++){const i=e[f]=c?Or(e[f]):Sr(e[f]);v(t[f],i,n,null,o,s,a,l,c)}u>h?X(t,o,s,!0,!1,d):P(e,n,i,o,s,a,l,c,d)},$=(t,e,n,i,o,s,a,l,c)=>{let u=0;const h=e.length;let d=t.length-1,f=h-1;for(;u<=d&&u<=f;){const i=t[u],r=e[u]=c?Or(e[u]):Sr(e[u]);if(!gr(i,r))break;v(i,r,n,null,o,s,a,l,c),u++}for(;u<=d&&u<=f;){const i=t[d],r=e[f]=c?Or(e[f]):Sr(e[f]);if(!gr(i,r))break;v(i,r,n,null,o,s,a,l,c),d--,f--}if(u>d){if(u<=f){const t=f+1,r=t<h?e[t].el:i;for(;u<=f;)v(null,e[u]=c?Or(e[u]):Sr(e[u]),n,r,o,s,a,l,c),u++}}else if(u>f)for(;u<=d;)q(t[u],o,s,!0),u++;else{const p=u,g=u,m=new Map;for(u=g;u<=f;u++){const t=e[u]=c?Or(e[u]):Sr(e[u]);null!=t.key&&m.set(t.key,u)}let b,y=0;const _=f-g+1;let x=!1,w=0;const S=new Array(_);for(u=0;u<_;u++)S[u]=0;for(u=p;u<=d;u++){const i=t[u];if(y>=_){q(i,o,s,!0);continue}let r;if(null!=i.key)r=m.get(i.key);else for(b=g;b<=f;b++)if(0===S[b-g]&&gr(i,e[b])){r=b;break}void 0===r?q(i,o,s,!0):(S[r-g]=u+1,r>=w?w=r:x=!0,v(i,e[r],n,null,o,s,a,l,c),y++)}const O=x?function(t){const e=t.slice(),n=[0];let i,r,o,s,a;const l=t.length;for(i=0;i<l;i++){const l=t[i];if(0!==l){if(r=n[n.length-1],t[r]<l){e[i]=r,n.push(i);continue}for(o=0,s=n.length-1;o<s;)a=o+s>>1,t[n[a]]<l?o=a+1:s=a;l<t[n[o]]&&(o>0&&(e[i]=n[o-1]),n[o]=i)}}for(o=n.length,s=n[o-1];o-- >0;)n[o]=s,s=e[s];return n}(S):r;for(b=O.length-1,u=_-1;u>=0;u--){const t=g+u,r=e[t],d=t+1<h?e[t+1].el:i;0===S[u]?v(null,r,n,d,o,s,a,l,c):x&&(b<0||u!==O[b]?W(r,n,d,2):b--)}}},W=(t,e,n,i,r=null)=>{const{el:o,type:a,transition:l,children:c,shapeFlag:u}=t;if(6&u)W(t.component.subTree,e,n,i);else if(128&u)t.suspense.move(e,n,i);else if(64&u)a.move(t,e,n,nt);else if(a!==nr)if(a!==or)if(2!==i&&1&u&&l)if(0===i)l.beforeEnter(o),s(o,e,n),Oi((()=>l.enter(o)),r);else{const{leave:t,delayLeave:i,afterLeave:r}=l,a=()=>s(o,e,n),c=()=>{t(o,(()=>{a(),r&&r()}))};i?i(o,a,c):c()}else s(o,e,n);else(({el:t,anchor:e},n,i)=>{let r;for(;t&&t!==e;)r=m(t),s(t,n,i),t=r;s(e,n,i)})(t,e,n);else{s(o,e,n);for(let t=0;t<c.length;t++)W(c[t],e,n,i);s(t.anchor,e,n)}},q=(t,e,n,i=!1,r=!1)=>{const{type:o,props:s,ref:a,children:l,dynamicChildren:c,shapeFlag:u,patchFlag:h,dirs:d,memoIndex:f}=t;if(null!=a&&Si(a,null,n,t,!0),null!=f&&(e.renderCache[f]=void 0),256&u)return void e.ctx.deactivate(t);const p=1&u&&d,g=!jn(t);let m;if(g&&(m=s&&s.onVnodeBeforeUnmount)&&Er(m,e,t),6&u)K(t.component,n,i);else{if(128&u)return void t.suspense.unmount(n,i);p&&Ln(t,null,e,"beforeUnmount"),64&u?t.type.remove(t,e,n,r,nt,i):c&&(o!==nr||h>0&&64&h)?X(c,e,n,!1,!0):(o===nr&&384&h||!r&&16&u)&&X(l,e,n),i&&G(t)}(g&&(m=s&&s.onVnodeUnmounted)||p)&&Oi((()=>{m&&Er(m,e,t),p&&Ln(t,null,e,"unmounted")}),n)},G=t=>{const{type:e,el:n,anchor:i,transition:r}=t;if(e===nr)return void Y(n,i);if(e===or)return void(({el:t,anchor:e})=>{let n;for(;t&&t!==e;)n=m(t),a(t),t=n;a(e)})(t);const o=()=>{a(n),r&&!r.persisted&&r.afterLeave&&r.afterLeave()};if(1&t.shapeFlag&&r&&!r.persisted){const{leave:e,delayLeave:i}=r,s=()=>e(n,o);i?i(t.el,o,s):s()}else o()},Y=(t,e)=>{let n;for(;t!==e;)n=m(t),a(t),t=n;a(e)},K=(t,e,n)=>{const{bum:i,scope:r,update:o,subTree:s,um:a,m:l,a:c}=t;Ti(l),Ti(c),i&&j(i),r.stop(),o&&(o.active=!1,q(s,t,e,n)),a&&Oi(a,e),Oi((()=>{t.isUnmounted=!0}),e),e&&e.pendingBranch&&!e.isUnmounted&&t.asyncDep&&!t.asyncResolved&&t.suspenseId===e.pendingId&&(e.deps--,0===e.deps&&e.resolve()),__VUE_PROD_DEVTOOLS__&&tn(t)},X=(t,e,n,i=!1,r=!1,o=0)=>{for(let s=o;s<t.length;s++)q(t[s],e,n,i,r)},J=t=>6&t.shapeFlag?J(t.component.subTree):128&t.shapeFlag?t.suspense.next():m(t.anchor||t.el);let Q=!1;const Z=(t,e,n)=>{null==t?e._vnode&&q(e._vnode,null,null,!0):v(e._vnode||null,t,e,null,null,null,n),Q||(Q=!0,ze(),He(),Q=!1),e._vnode=t},nt={p:v,um:q,m:W,r:G,mt:F,mc:P,pc:H,pbc:L,n:J,o:t};let it,rt;return e&&([it,rt]=e(nt)),{render:Z,hydrate:it,createApp:ni(Z,it)}}function Ei({type:t,props:e},n){return"svg"===n&&"foreignObject"===t||"mathml"===n&&"annotation-xml"===t&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Ai({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function Pi(t,e,n=!1){const i=t.children,r=e.children;if(f(i)&&f(r))for(let t=0;t<i.length;t++){const e=i[t];let o=r[t];1&o.shapeFlag&&!o.dynamicChildren&&((o.patchFlag<=0||32===o.patchFlag)&&(o=r[t]=Or(r[t]),o.el=e.el),n||-2===o.patchFlag||Pi(e,o)),o.type===ir&&(o.el=e.el)}}function Ci(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Ci(e)}function Ti(t){if(t)for(let e=0;e<t.length;e++)t[e].active=!1}const Mi=Symbol.for("v-scx"),Li=()=>oi(Mi),Ri={};function Di(t,e,n){return ji(t,e,n)}function ji(t,e,{immediate:n,deep:r,flush:s,once:a,onTrack:l,onTrigger:c}=i){if(e&&a){const t=e;e=(...e)=>{t(...e),E()}}const h=Cr,d=t=>!0===r?t:Ni(t,!1===r?1:void 0);let p,g,b=!1,y=!1;if(ye(t)?(p=()=>t.value,b=ue(t)):le(t)?(p=()=>d(t),b=!0):f(t)?(y=!0,b=t.some((t=>le(t)||ue(t))),p=()=>t.map((t=>ye(t)?t.value:le(t)?d(t):m(t)?Ee(t,h,2):void 0))):p=m(t)?e?()=>Ee(t,h,2):()=>(g&&g(),Ae(t,h,3,[_])):o,e&&r){const t=p;p=()=>Ni(t())}let v,_=t=>{g=O.onStop=()=>{Ee(t,h,4),g=O.onStop=void 0}};if(Nr){if(_=o,e?n&&Ae(e,h,3,[p(),y?[]:void 0,_]):p(),"sync"!==s)return o;{const t=Li();v=t.__watcherHandles||(t.__watcherHandles=[])}}let x=y?new Array(t.length).fill(Ri):Ri;const w=()=>{if(O.active&&O.dirty)if(e){const t=O.run();(r||b||(y?t.some(((t,e)=>D(t,x[e]))):D(t,x)))&&(g&&g(),Ae(e,h,3,[t,x===Ri?void 0:y&&x[0]===Ri?[]:x,_]),x=t)}else O.run()};let S;w.allowRecurse=!!e,"sync"===s?S=w:"post"===s?S=()=>Oi(w,h&&h.suspense):(w.pre=!0,h&&(w.id=h.uid),S=()=>Be(w));const O=new et(p,o,S),k=Q,E=()=>{O.stop(),k&&u(k.effects,O)};return e?n?w():x=O.run():"post"===s?Oi(O.run.bind(O),h&&h.suspense):O.run(),v&&v.push(E),E}function Ii(t,e,n){const i=this.proxy,r=b(t)?t.includes(".")?Fi(i,t):()=>i[t]:t.bind(i,i);let o;m(e)?o=e:(o=e.handler,n=e);const s=Rr(this),a=ji(r,o.bind(i),n);return s(),a}function Fi(t,e){const n=e.split(".");return()=>{let e=t;for(let t=0;t<n.length&&e;t++)e=e[n[t]];return e}}function Ni(t,e=1/0,n){if(e<=0||!v(t)||t.__v_skip)return t;if((n=n||new Set).has(t))return t;if(n.add(t),e--,ye(t))Ni(t.value,e,n);else if(f(t))for(let i=0;i<t.length;i++)Ni(t[i],e,n);else if(g(t)||p(t))t.forEach((t=>{Ni(t,e,n)}));else if(O(t)){for(const i in t)Ni(t[i],e,n);for(const i of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,i)&&Ni(t[i],e,n)}return t}const Bi=t=>t.type.__isKeepAlive;function Vi(t,e){Hi(t,"a",e)}function zi(t,e){Hi(t,"da",e)}function Hi(t,e,n=Cr){const i=t.__wdc||(t.__wdc=()=>{let e=n;for(;e;){if(e.isDeactivated)return;e=e.parent}return t()});if(_n(e,i,n),n){let t=n.parent;for(;t&&t.parent;)Bi(t.parent.vnode)&&Ui(i,e,n,t),t=t.parent}}function Ui(t,e,n,i){const r=_n(e,t,i,!0);An((()=>{u(i[e],r)}),n)}RegExp,RegExp;const $i=Symbol("_leaveCb"),Wi=Symbol("_enterCb");const qi=[Function,Array],Gi={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:qi,onEnter:qi,onAfterEnter:qi,onEnterCancelled:qi,onBeforeLeave:qi,onLeave:qi,onAfterLeave:qi,onLeaveCancelled:qi,onBeforeAppear:qi,onAppear:qi,onAfterAppear:qi,onAppearCancelled:qi},Yi=t=>{const e=t.subTree;return e.component?Yi(e.component):e},Ki={name:"BaseTransition",props:Gi,setup(t,{slots:e}){const n=Tr(),i=function(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Sn((()=>{t.isMounted=!0})),En((()=>{t.isUnmounting=!0})),t}();return()=>{const r=e.default&&er(e.default(),!0);if(!r||!r.length)return;let o=r[0];if(r.length>1){let t=!1;for(const e of r)if(e.type!==rr){o=e,t=!0;break}}const s=de(t),{mode:a}=s;if(i.isLeaving)return Qi(o);const l=Zi(o);if(!l)return Qi(o);let c=Ji(l,s,i,n,(t=>c=t));tr(l,c);const u=n.subTree,h=u&&Zi(u);if(h&&h.type!==rr&&!gr(l,h)&&Yi(n).type!==rr){const t=Ji(h,s,i,n);if(tr(h,t),"out-in"===a&&l.type!==rr)return i.isLeaving=!0,t.afterLeave=()=>{i.isLeaving=!1,!1!==n.update.active&&(n.effect.dirty=!0,n.update())},Qi(o);"in-out"===a&&l.type!==rr&&(t.delayLeave=(t,e,n)=>{Xi(i,h)[String(h.key)]=h,t[$i]=()=>{e(),t[$i]=void 0,delete c.delayedLeave},c.delayedLeave=n})}return o}}};function Xi(t,e){const{leavingVNodes:n}=t;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function Ji(t,e,n,i,r){const{appear:o,mode:s,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:h,onBeforeLeave:d,onLeave:p,onAfterLeave:g,onLeaveCancelled:m,onBeforeAppear:b,onAppear:y,onAfterAppear:v,onAppearCancelled:_}=e,x=String(t.key),w=Xi(n,t),S=(t,e)=>{t&&Ae(t,i,9,e)},O=(t,e)=>{const n=e[1];S(t,e),f(t)?t.every((t=>t.length<=1))&&n():t.length<=1&&n()},k={mode:s,persisted:a,beforeEnter(e){let i=l;if(!n.isMounted){if(!o)return;i=b||l}e[$i]&&e[$i](!0);const r=w[x];r&&gr(t,r)&&r.el[$i]&&r.el[$i](),S(i,[e])},enter(t){let e=c,i=u,r=h;if(!n.isMounted){if(!o)return;e=y||c,i=v||u,r=_||h}let s=!1;const a=t[Wi]=e=>{s||(s=!0,S(e?r:i,[t]),k.delayedLeave&&k.delayedLeave(),t[Wi]=void 0)};e?O(e,[t,a]):a()},leave(e,i){const r=String(t.key);if(e[Wi]&&e[Wi](!0),n.isUnmounting)return i();S(d,[e]);let o=!1;const s=e[$i]=n=>{o||(o=!0,i(),S(n?m:g,[e]),e[$i]=void 0,w[r]===t&&delete w[r])};w[r]=t,p?O(p,[e,s]):s()},clone(t){const o=Ji(t,e,n,i,r);return r&&r(o),o}};return k}function Qi(t){if(Bi(t))return(t=_r(t)).children=null,t}function Zi(t){if(!Bi(t))return t;const{shapeFlag:e,children:n}=t;if(n){if(16&e)return n[0];if(32&e&&m(n.default))return n.default()}}function tr(t,e){6&t.shapeFlag&&t.component?tr(t.component.subTree,e):128&t.shapeFlag?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function er(t,e=!1,n){let i=[],r=0;for(let o=0;o<t.length;o++){let s=t[o];const a=null==n?s.key:String(n)+String(null!=s.key?s.key:o);s.type===nr?(128&s.patchFlag&&r++,i=i.concat(er(s.children,e,a))):(e||s.type!==rr)&&i.push(null!=a?_r(s,{key:a}):s)}if(r>1)for(let t=0;t<i.length;t++)i[t].patchFlag=-2;return i}const nr=Symbol.for("v-fgt"),ir=Symbol.for("v-txt"),rr=Symbol.for("v-cmt"),or=Symbol.for("v-stc"),sr=[];let ar=null;function lr(t=!1){sr.push(ar=t?null:[])}let cr=1;function ur(t){cr+=t}function hr(t){return t.dynamicChildren=cr>0?ar||r:null,sr.pop(),ar=sr[sr.length-1]||null,cr>0&&ar&&ar.push(t),t}function dr(t,e,n,i,r,o){return hr(yr(t,e,n,i,r,o,!0))}function fr(t,e,n,i,r){return hr(vr(t,e,n,i,r,!0))}function pr(t){return!!t&&!0===t.__v_isVNode}function gr(t,e){return t.type===e.type&&t.key===e.key}const mr=({key:t})=>null!=t?t:null,br=({ref:t,ref_key:e,ref_for:n})=>("number"==typeof t&&(t=""+t),null!=t?b(t)||ye(t)||m(t)?{i:sn,r:t,k:e,f:!!n}:t:null);function yr(t,e=null,n=null,i=0,r=null,o=(t===nr?0:1),s=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&mr(e),ref:e&&br(e),scopeId:an,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:sn};return a?(kr(l,n),128&o&&t.normalize(l)):n&&(l.shapeFlag|=b(n)?8:16),cr>0&&!s&&ar&&(l.patchFlag>0||6&o)&&32!==l.patchFlag&&ar.push(l),l}const vr=function(t,e=null,n=null,i=0,r=null,o=!1){if(t&&t!==yn||(t=rr),pr(t)){const i=_r(t,e,!0);return n&&kr(i,n),cr>0&&!o&&ar&&(6&i.shapeFlag?ar[ar.indexOf(t)]=i:ar.push(i)),i.patchFlag=-2,i}if(s=t,m(s)&&"__vccOpts"in s&&(t=t.__vccOpts),e){e=function(t){return t?he(t)||li(t)?c({},t):t:null}(e);let{class:t,style:n}=e;t&&!b(t)&&(e.class=q(t)),v(n)&&(he(n)&&!f(n)&&(n=c({},n)),e.style=z(n))}var s;return yr(t,e,n,i,r,b(t)?1:(t=>t.__isSuspense)(t)?128:(t=>t.__isTeleport)(t)?64:v(t)?4:m(t)?2:0,o,!0)};function _r(t,e,n=!1,i=!1){const{props:r,ref:o,patchFlag:s,children:l,transition:c}=t,u=e?function(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const t in i)if("class"===t)e.class!==i.class&&(e.class=q([e.class,i.class]));else if("style"===t)e.style=z([e.style,i.style]);else if(a(t)){const n=e[t],r=i[t];!r||n===r||f(n)&&n.includes(r)||(e[t]=n?[].concat(n,r):r)}else""!==t&&(e[t]=i[t])}return e}(r||{},e):r,h={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&mr(u),ref:e&&e.ref?n&&o?f(o)?o.concat(br(e)):[o,br(e)]:br(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==nr?-1===s?16:16|s:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&_r(t.ssContent),ssFallback:t.ssFallback&&_r(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&i&&tr(h,c.clone(h)),h}function xr(t=" ",e=0){return vr(ir,null,t,e)}function wr(t="",e=!1){return e?(lr(),fr(rr,null,t)):vr(rr,null,t)}function Sr(t){return null==t||"boolean"==typeof t?vr(rr):f(t)?vr(nr,null,t.slice()):"object"==typeof t?Or(t):vr(ir,null,String(t))}function Or(t){return null===t.el&&-1!==t.patchFlag||t.memo?t:_r(t)}function kr(t,e){let n=0;const{shapeFlag:i}=t;if(null==e)e=null;else if(f(e))n=16;else if("object"==typeof e){if(65&i){const n=e.default;return void(n&&(n._c&&(n._d=!1),kr(t,n()),n._c&&(n._d=!0)))}{n=32;const i=e._;i||li(e)?3===i&&sn&&(1===sn.slots._?e._=1:(e._=2,t.patchFlag|=1024)):e._ctx=sn}}else m(e)?(e={default:e,_ctx:sn},n=32):(e=String(e),64&i?(n=16,e=[xr(e)]):n=8);t.children=e,t.shapeFlag|=n}function Er(t,e,n,i=null){Ae(t,e,7,[n,i])}const Ar=ti();let Pr=0;let Cr=null;const Tr=()=>Cr||sn;let Mr,Lr;{const t=V(),e=(e,n)=>{let i;return(i=t[e])||(i=t[e]=[]),i.push(n),t=>{i.length>1?i.forEach((e=>e(t))):i[0](t)}};Mr=e("__VUE_INSTANCE_SETTERS__",(t=>Cr=t)),Lr=e("__VUE_SSR_SETTERS__",(t=>Nr=t))}const Rr=t=>{const e=Cr;return Mr(t),t.scope.on(),()=>{t.scope.off(),Mr(e)}},Dr=()=>{Cr&&Cr.scope.off(),Mr(null)};function jr(t){return 4&t.vnode.shapeFlag}let Ir,Fr,Nr=!1;function Br(t,e,n){m(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:v(e)&&(__VUE_PROD_DEVTOOLS__&&(t.devtoolsRawSetupState=e),t.setupState=ke(e)),Vr(t,n)}function Vr(t,e,n){const i=t.type;if(!t.render){if(!e&&Ir&&!i.render){const e=i.template||qn(t).template;if(e){const{isCustomElement:n,compilerOptions:r}=t.appContext.config,{delimiters:o,compilerOptions:s}=i,a=c(c({isCustomElement:n,delimiters:o},r),s);i.render=Ir(e,a)}}t.render=i.render||o,Fr&&Fr(t)}if(__VUE_OPTIONS_API__){const e=Rr(t);ct();try{!function(t){const e=qn(t),n=t.proxy,i=t.ctx;Un=!1,e.beforeCreate&&$n(e.beforeCreate,t,"bc");const{data:r,computed:s,methods:a,watch:l,provide:c,inject:u,created:h,beforeMount:d,mounted:p,beforeUpdate:g,updated:b,activated:y,deactivated:_,beforeDestroy:x,beforeUnmount:w,destroyed:S,unmounted:O,render:k,renderTracked:E,renderTriggered:A,errorCaptured:P,serverPrefetch:C,expose:T,inheritAttrs:M,components:L,directives:R,filters:D}=e;if(u&&function(t,e,n=o){f(t)&&(t=Xn(t));for(const n in t){const i=t[n];let r;r=v(i)?"default"in i?oi(i.from||n,i.default,!0):oi(i.from||n):oi(i),ye(r)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>r.value,set:t=>r.value=t}):e[n]=r}}(u,i,null),a)for(const t in a){const e=a[t];m(e)&&(i[t]=e.bind(n))}if(r){const e=r.call(n,n);v(e)&&(t.data=re(e))}if(Un=!0,s)for(const t in s){const e=s[t],r=m(e)?e.bind(n,n):m(e.get)?e.get.bind(n,n):o,a=!m(e)&&m(e.set)?e.set.bind(n):o,l=Ur({get:r,set:a});Object.defineProperty(i,t,{enumerable:!0,configurable:!0,get:()=>l.value,set:t=>l.value=t})}if(l)for(const t in l)Wn(l[t],i,n,t);if(c){const t=m(c)?c.call(n):c;Reflect.ownKeys(t).forEach((e=>{ri(e,t[e])}))}function j(t,e){f(e)?e.forEach((e=>t(e.bind(n)))):e&&t(e.bind(n))}if(h&&$n(h,t,"c"),j(wn,d),j(Sn,p),j(On,g),j(kn,b),j(Vi,y),j(zi,_),j(Mn,P),j(Tn,E),j(Cn,A),j(En,w),j(An,O),j(Pn,C),f(T))if(T.length){const e=t.exposed||(t.exposed={});T.forEach((t=>{Object.defineProperty(e,t,{get:()=>n[t],set:e=>n[t]=e})}))}else t.exposed||(t.exposed={});k&&t.render===o&&(t.render=k),null!=M&&(t.inheritAttrs=M),L&&(t.components=L),R&&(t.directives=R)}(t)}finally{ut(),e()}}}const zr={get:(t,e)=>(_t(t,0,""),t[e])};function Hr(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(ke((e=t.exposed,Object.isExtensible(e)&&I(e,"__v_skip",!0),e)),{get:(e,n)=>n in e?e[n]:n in Bn?Bn[n](t):void 0,has:(t,e)=>e in t||e in Bn})):t.proxy;var e}const Ur=(t,e)=>function(t,e,n=!1){let i,r;const s=m(t);return s?(i=t,r=o):(i=t.get,r=t.set),new ge(i,r,s||!r,n)}(t,0,Nr);function $r(t,e,n){const i=arguments.length;return 2===i?v(e)&&!f(e)?pr(e)?vr(t,null,[e]):vr(t,e):vr(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):3===i&&pr(n)&&(n=[n]),vr(t,e,n))}const Wr="3.4.29",qr="undefined"!=typeof document?document:null,Gr=qr&&qr.createElement("template"),Yr={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const r="svg"===e?qr.createElementNS("http://www.w3.org/2000/svg",t):"mathml"===e?qr.createElementNS("http://www.w3.org/1998/Math/MathML",t):n?qr.createElement(t,{is:n}):qr.createElement(t);return"select"===t&&i&&null!=i.multiple&&r.setAttribute("multiple",i.multiple),r},createText:t=>qr.createTextNode(t),createComment:t=>qr.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>qr.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,r,o){const s=n?n.previousSibling:e.lastChild;if(r&&(r===o||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),r!==o&&(r=r.nextSibling););else{Gr.innerHTML="svg"===i?`<svg>${t}</svg>`:"mathml"===i?`<math>${t}</math>`:t;const r=Gr.content;if("svg"===i||"mathml"===i){const t=r.firstChild;for(;t.firstChild;)r.appendChild(t.firstChild);r.removeChild(t)}e.insertBefore(r,n)}return[s?s.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Kr="transition",Xr="animation",Jr=Symbol("_vtc"),Qr=(t,{slots:e})=>$r(Ki,function(t){const e={};for(const n in t)n in Zr||(e[n]=t[n]);if(!1===t.css)return e;const{name:n="v",type:i,duration:r,enterFromClass:o=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=o,appearActiveClass:u=s,appearToClass:h=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=t,g=function(t){if(null==t)return null;if(v(t))return[no(t.enter),no(t.leave)];{const e=no(t);return[e,e]}}(r),m=g&&g[0],b=g&&g[1],{onBeforeEnter:y,onEnter:_,onEnterCancelled:x,onLeave:w,onLeaveCancelled:S,onBeforeAppear:O=y,onAppear:k=_,onAppearCancelled:E=x}=e,A=(t,e,n)=>{ro(t,e?h:a),ro(t,e?u:s),n&&n()},P=(t,e)=>{t._isLeaving=!1,ro(t,d),ro(t,p),ro(t,f),e&&e()},C=t=>(e,n)=>{const r=t?k:_,s=()=>A(e,t,n);to(r,[e,s]),oo((()=>{ro(e,t?l:o),io(e,t?h:a),eo(r)||ao(e,i,m,s)}))};return c(e,{onBeforeEnter(t){to(y,[t]),io(t,o),io(t,s)},onBeforeAppear(t){to(O,[t]),io(t,l),io(t,u)},onEnter:C(!1),onAppear:C(!0),onLeave(t,e){t._isLeaving=!0;const n=()=>P(t,e);io(t,d),io(t,f),document.body.offsetHeight,oo((()=>{t._isLeaving&&(ro(t,d),io(t,p),eo(w)||ao(t,i,b,n))})),to(w,[t,n])},onEnterCancelled(t){A(t,!1),to(x,[t])},onAppearCancelled(t){A(t,!0),to(E,[t])},onLeaveCancelled(t){P(t),to(S,[t])}})}(t),e);Qr.displayName="Transition";const Zr={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},to=(Qr.props=c({},Gi,Zr),(t,e=[])=>{f(t)?t.forEach((t=>t(...e))):t&&t(...e)}),eo=t=>!!t&&(f(t)?t.some((t=>t.length>1)):t.length>1);function no(t){return N(t)}function io(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.add(e))),(t[Jr]||(t[Jr]=new Set)).add(e)}function ro(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.remove(e)));const n=t[Jr];n&&(n.delete(e),n.size||(t[Jr]=void 0))}function oo(t){requestAnimationFrame((()=>{requestAnimationFrame(t)}))}let so=0;function ao(t,e,n,i){const r=t._endId=++so,o=()=>{r===t._endId&&i()};if(n)return setTimeout(o,n);const{type:s,timeout:a,propCount:l}=function(t,e){const n=window.getComputedStyle(t),i=t=>(n[t]||"").split(", "),r=i(`${Kr}Delay`),o=i(`${Kr}Duration`),s=lo(r,o),a=i(`${Xr}Delay`),l=i(`${Xr}Duration`),c=lo(a,l);let u=null,h=0,d=0;return e===Kr?s>0&&(u=Kr,h=s,d=o.length):e===Xr?c>0&&(u=Xr,h=c,d=l.length):(h=Math.max(s,c),u=h>0?s>c?Kr:Xr:null,d=u?u===Kr?o.length:l.length:0),{type:u,timeout:h,propCount:d,hasTransform:u===Kr&&/\b(transform|all)(,|$)/.test(i(`${Kr}Property`).toString())}}(t,e);if(!s)return i();const c=s+"end";let u=0;const h=()=>{t.removeEventListener(c,d),o()},d=e=>{e.target===t&&++u>=l&&h()};setTimeout((()=>{u<l&&h()}),a+1),t.addEventListener(c,d)}function lo(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map(((e,n)=>co(e)+co(t[n]))))}function co(t){return"auto"===t?0:1e3*Number(t.slice(0,-1).replace(",","."))}const uo=Symbol("_vod"),ho=Symbol("_vsh"),fo=Symbol(""),po=/(^|;)\s*display\s*:/,go=/\s*!important$/;function mo(t,e,n){if(f(n))n.forEach((n=>mo(t,e,n)));else if(null==n&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=function(t,e){const n=yo[e];if(n)return n;let i=C(e);if("filter"!==i&&i in t)return yo[e]=i;i=L(i);for(let n=0;n<bo.length;n++){const r=bo[n]+i;if(r in t)return yo[e]=r}return e}(t,e);go.test(n)?t.setProperty(M(i),n.replace(go,""),"important"):t[i]=n}}const bo=["Webkit","Moz","ms"],yo={},vo="http://www.w3.org/1999/xlink";function _o(t,e,n,i,r,o=G(e)){i&&e.startsWith("xlink:")?null==n?t.removeAttributeNS(vo,e.slice(6,e.length)):t.setAttributeNS(vo,e,n):null==n||o&&!Y(n)?t.removeAttribute(e):t.setAttribute(e,o?"":String(n))}const xo=Symbol("_vei");const wo=/(?:Once|Passive|Capture)$/;let So=0;const Oo=Promise.resolve(),ko=()=>So||(Oo.then((()=>So=0)),So=Date.now()),Eo=t=>111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123;"undefined"!=typeof HTMLElement&&HTMLElement,Symbol("_moveCb"),Symbol("_enterCb"),Symbol("_assign");const Ao=["ctrl","shift","alt","meta"],Po={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&0!==t.button,middle:t=>"button"in t&&1!==t.button,right:t=>"button"in t&&2!==t.button,exact:(t,e)=>Ao.some((n=>t[`${n}Key`]&&!e.includes(n)))},Co=(t,e)=>{const n=t._withMods||(t._withMods={}),i=e.join(".");return n[i]||(n[i]=(n,...i)=>{for(let t=0;t<e.length;t++){const i=Po[e[t]];if(i&&i(n,e))return}return t(n,...i)})},To=c({patchProp:(t,e,n,i,r,o,s,c,u)=>{const h="svg"===r;"class"===e?function(t,e,n){const i=t[Jr];i&&(e=(e?[e,...i]:[...i]).join(" ")),null==e?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}(t,i,h):"style"===e?function(t,e,n){const i=t.style,r=b(n);let o=!1;if(n&&!r){if(e)if(b(e))for(const t of e.split(";")){const e=t.slice(0,t.indexOf(":")).trim();null==n[e]&&mo(i,e,"")}else for(const t in e)null==n[t]&&mo(i,t,"");for(const t in n)"display"===t&&(o=!0),mo(i,t,n[t])}else if(r){if(e!==n){const t=i[fo];t&&(n+=";"+t),i.cssText=n,o=po.test(n)}}else e&&t.removeAttribute("style");uo in t&&(t[uo]=o?i.display:"",t[ho]&&(i.display="none"))}(t,n,i):a(e)?l(e)||function(t,e,n,i,r=null){const o=t[xo]||(t[xo]={}),s=o[e];if(i&&s)s.value=i;else{const[n,a]=function(t){let e;if(wo.test(t)){let n;for(e={};n=t.match(wo);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[":"===t[2]?t.slice(3):M(t.slice(2)),e]}(e);if(i){const s=o[e]=function(t,e){const n=t=>{if(t._vts){if(t._vts<=n.attached)return}else t._vts=Date.now();Ae(function(t,e){if(f(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map((t=>e=>!e._stopped&&t&&t(e)))}return e}(t,n.value),e,5,[t])};return n.value=t,n.attached=ko(),n}(i,r);!function(t,e,n,i){t.addEventListener(e,n,i)}(t,n,s,a)}else s&&(function(t,e,n,i){t.removeEventListener(e,n,i)}(t,n,s,a),o[e]=void 0)}}(t,e,0,i,s):("."===e[0]?(e=e.slice(1),1):"^"===e[0]?(e=e.slice(1),0):function(t,e,n,i){if(i)return"innerHTML"===e||"textContent"===e||!!(e in t&&Eo(e)&&m(n));if("spellcheck"===e||"draggable"===e||"translate"===e)return!1;if("form"===e)return!1;if("list"===e&&"INPUT"===t.tagName)return!1;if("type"===e&&"TEXTAREA"===t.tagName)return!1;if("width"===e||"height"===e){const e=t.tagName;if("IMG"===e||"VIDEO"===e||"CANVAS"===e||"SOURCE"===e)return!1}return(!Eo(e)||!b(n))&&e in t}(t,e,i,h))?(function(t,e,n,i,r,o,s){if("innerHTML"===e||"textContent"===e)return i&&s(i,r,o),void(t[e]=null==n?"":n);const a=t.tagName;if("value"===e&&"PROGRESS"!==a&&!a.includes("-")){const i="OPTION"===a?t.getAttribute("value")||"":t.value,r=null==n?"":String(n);return i===r&&"_value"in t||(t.value=r),null==n&&t.removeAttribute(e),void(t._value=n)}let l=!1;if(""===n||null==n){const i=typeof t[e];"boolean"===i?n=Y(n):null==n&&"string"===i?(n="",l=!0):"number"===i&&(n=0,l=!0)}try{t[e]=n}catch(t){}l&&t.removeAttribute(e)}(t,e,i,o,s,c,u),"value"!==e&&"checked"!==e&&"selected"!==e||_o(t,e,i,h,0,"value"!==e)):("true-value"===e?t._trueValue=i:"false-value"===e&&(t._falseValue=i),_o(t,e,i,h))}},Yr);let Mo;const Lo=function(t){return"string"!=typeof t||""===t?(console.error("The namespace must be a non-empty string."),!1):!!/^[a-zA-Z][a-zA-Z0-9_.\-\/]*$/.test(t)||(console.error("The namespace can only contain numbers, letters, dashes, periods, underscores and slashes."),!1)},Ro=function(t){return"string"!=typeof t||""===t?(console.error("The hook name must be a non-empty string."),!1):/^__/.test(t)?(console.error("The hook name cannot begin with `__`."),!1):!!/^[a-zA-Z][a-zA-Z0-9_.-]*$/.test(t)||(console.error("The hook name can only contain numbers, letters, dashes, periods and underscores."),!1)},Do=function(t,e){return function(n,i,r,o=10){const s=t[e];if(!Ro(n))return;if(!Lo(i))return;if("function"!=typeof r)return void console.error("The hook callback must be a function.");if("number"!=typeof o)return void console.error("If specified, the hook priority must be a number.");const a={callback:r,priority:o,namespace:i};if(s[n]){const t=s[n].handlers;let e;for(e=t.length;e>0&&!(o>=t[e-1].priority);e--);e===t.length?t[e]=a:t.splice(e,0,a),s.__current.forEach((t=>{t.name===n&&t.currentIndex>=e&&t.currentIndex++}))}else s[n]={handlers:[a],runs:0};"hookAdded"!==n&&t.doAction("hookAdded",n,i,r,o)}},jo=function(t,e,n=!1){return function(i,r){const o=t[e];if(!Ro(i))return;if(!n&&!Lo(r))return;if(!o[i])return 0;let s=0;if(n)s=o[i].handlers.length,o[i]={runs:o[i].runs,handlers:[]};else{const t=o[i].handlers;for(let e=t.length-1;e>=0;e--)t[e].namespace===r&&(t.splice(e,1),s++,o.__current.forEach((t=>{t.name===i&&t.currentIndex>=e&&t.currentIndex--})))}return"hookRemoved"!==i&&t.doAction("hookRemoved",i,r),s}},Io=function(t,e){return function(n,i){const r=t[e];return void 0!==i?n in r&&r[n].handlers.some((t=>t.namespace===i)):n in r}},Fo=function(t,e,n=!1){return function(i,...r){const o=t[e];o[i]||(o[i]={handlers:[],runs:0}),o[i].runs++;const s=o[i].handlers;if(!s||!s.length)return n?r[0]:void 0;const a={name:i,currentIndex:0};for(o.__current.push(a);a.currentIndex<s.length;){const t=s[a.currentIndex].callback.apply(null,r);n&&(r[0]=t),a.currentIndex++}return o.__current.pop(),n?r[0]:void 0}},No=function(t,e){return function(){var n;const i=t[e];return null!==(n=i.__current[i.__current.length-1]?.name)&&void 0!==n?n:null}},Bo=function(t,e){return function(n){const i=t[e];return void 0===n?void 0!==i.__current[0]:!!i.__current[0]&&n===i.__current[0].name}},Vo=function(t,e){return function(n){const i=t[e];if(Ro(n))return i[n]&&i[n].runs?i[n].runs:0}};class zo{constructor(){this.actions=Object.create(null),this.actions.__current=[],this.filters=Object.create(null),this.filters.__current=[],this.addAction=Do(this,"actions"),this.addFilter=Do(this,"filters"),this.removeAction=jo(this,"actions"),this.removeFilter=jo(this,"filters"),this.hasAction=Io(this,"actions"),this.hasFilter=Io(this,"filters"),this.removeAllActions=jo(this,"actions",!0),this.removeAllFilters=jo(this,"filters",!0),this.doAction=Fo(this,"actions"),this.applyFilters=Fo(this,"filters",!0),this.currentAction=No(this,"actions"),this.currentFilter=No(this,"filters"),this.doingAction=Bo(this,"actions"),this.doingFilter=Bo(this,"filters"),this.didAction=Vo(this,"actions"),this.didFilter=Vo(this,"filters")}}const Ho=function(){return new zo},Uo=Ho(),{addAction:$o,addFilter:Wo,removeAction:qo,removeFilter:Go,hasAction:Yo,hasFilter:Ko,removeAllActions:Xo,removeAllFilters:Jo,doAction:Qo,applyFilters:Zo,currentAction:ts,currentFilter:es,doingAction:ns,doingFilter:is,didAction:rs,didFilter:os,actions:ss,filters:as}=Uo;var ls={id:"wp-am-vue-app"},cs={key:0,class:"wp-am-notice-bar"},us={class:"wp-am-notice-bar-container"},hs=["innerHTML"],ds={class:"main-content"},fs={class:"wp-am-header"},ps={id:"wp-am-vue-app-tabs"},gs={class:"tab-item"},ms={class:"tab-item"},bs={class:"tab-item"};const ys={name:"Tabs",components:{},data:function(){return{}}};var vs=n(262);const _s=(0,vs.A)(ys,[["render",function(t,e,n,i,r,o){var s=bn("router-link");return lr(),dr("div",ps,[yr("div",gs,[vr(s,{to:"/"},{default:hn((function(){return[xr(" Settings ")]})),_:1})]),yr("div",ms,[vr(s,{to:"/table"},{default:hn((function(){return[xr(" Table ")]})),_:1})]),yr("div",bs,[vr(s,{to:"/graph"},{default:hn((function(){return[xr(" Graph ")]})),_:1})])])}]]);function xs(){var t=jQuery,e=t("#toplevel_page_wp-am-vue-app"),n=window.location.href,i=n.substr(n.indexOf("admin.php"));t("ul.wp-submenu li",e).removeClass("current"),e.on("click","a",(function(){var n=t(this);t("ul.wp-submenu li",e).removeClass("current"),n.hasClass("wp-has-submenu")?t("li.wp-first-item",e).addClass("current"):n.parents("li").addClass("current")})),t("ul.wp-submenu a",e).each((function(e,n){t(n).attr("href").substring(t(n).attr("href").indexOf("/admin.php")+1)===i&&t(n).parent().addClass("current")}))}xs();const ws={name:"App",components:{Tabs:_s},data:function(){return{proUpgradeLink:"https://example.com/upgrade",showNotice:!0}},computed:{noticeMessage:function(){return sprintf('Youre using WP Am Lite. To unlock more features, consider <a href="%s">upgrading to Pro</a>.',this.proUpgradeLink)}},created:function(){var t=localStorage.getItem("wpAmNoticeDismissed");t&&Date.now()-t<864e5&&(this.showNotice=!1)},methods:{dismissNotice:function(){this.showNotice=!1,localStorage.setItem("wpAmNoticeDismissed",Date.now())}},watch:{$route:function(){xs()}}},Ss=(0,vs.A)(ws,[["render",function(t,e,n,i,r,o){var s=bn("tabs"),a=bn("router-view");return lr(),dr("div",ls,[r.showNotice?(lr(),dr("div",cs,[yr("div",us,[yr("span",{class:"wp-am-notice-bar-message",innerHTML:o.noticeMessage},null,8,hs),yr("button",{type:"button",class:"dismiss",title:"Dismiss this message.",onClick:e[0]||(e[0]=function(){return o.dismissNotice&&o.dismissNotice.apply(o,arguments)})})])])):wr("v-if",!0),yr("div",ds,[yr("div",fs,[yr("h1",null,K(t.__("WP AM Vue App","wp-am-vue-app")),1),yr("p",null,K(t.__("Vue JS based admin page")),1)]),vr(s),vr(a)])])}]]);function Os(){return"undefined"!=typeof navigator&&"undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:{}}const ks="function"==typeof Proxy,Es="devtools-plugin:setup";let As,Ps;class Cs{constructor(t,e){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=e;const n={};if(t.settings)for(const e in t.settings){const i=t.settings[e];n[e]=i.defaultValue}const i=`__vue-devtools-plugin-settings__${t.id}`;let r=Object.assign({},n);try{const t=localStorage.getItem(i),e=JSON.parse(t);Object.assign(r,e)}catch(t){}this.fallbacks={getSettings:()=>r,setSettings(t){try{localStorage.setItem(i,JSON.stringify(t))}catch(t){}r=t},now:()=>{return void 0!==As||("undefined"!=typeof window&&window.performance?(As=!0,Ps=window.performance):"undefined"!=typeof globalThis&&(null===(t=globalThis.perf_hooks)||void 0===t?void 0:t.performance)?(As=!0,Ps=globalThis.perf_hooks.performance):As=!1),As?Ps.now():Date.now();var t}},e&&e.on("plugin:settings:set",((t,e)=>{t===this.plugin.id&&this.fallbacks.setSettings(e)})),this.proxiedOn=new Proxy({},{get:(t,e)=>this.target?this.target.on[e]:(...t)=>{this.onQueue.push({method:e,args:t})}}),this.proxiedTarget=new Proxy({},{get:(t,e)=>this.target?this.target[e]:"on"===e?this.proxiedOn:Object.keys(this.fallbacks).includes(e)?(...t)=>(this.targetQueue.push({method:e,args:t,resolve:()=>{}}),this.fallbacks[e](...t)):(...t)=>new Promise((n=>{this.targetQueue.push({method:e,args:t,resolve:n})}))})}async setRealTarget(t){this.target=t;for(const t of this.onQueue)this.target.on[t.method](...t.args);for(const t of this.targetQueue)t.resolve(await this.target[t.method](...t.args))}}function Ts(t,e){const n=t,i=Os(),r=Os().__VUE_DEVTOOLS_GLOBAL_HOOK__,o=ks&&n.enableEarlyProxy;if(!r||!i.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&o){const t=o?new Cs(n,r):null;(i.__VUE_DEVTOOLS_PLUGINS__=i.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:e,proxy:t}),t&&e(t.proxiedTarget)}else r.emit(Es,t,e)}const Ms="undefined"!=typeof document;const Ls=Object.assign;function Rs(t,e){const n={};for(const i in e){const r=e[i];n[i]=js(r)?r.map(t):t(r)}return n}const Ds=()=>{},js=Array.isArray,Is=/#/g,Fs=/&/g,Ns=/\//g,Bs=/=/g,Vs=/\?/g,zs=/\+/g,Hs=/%5B/g,Us=/%5D/g,$s=/%5E/g,Ws=/%60/g,qs=/%7B/g,Gs=/%7C/g,Ys=/%7D/g,Ks=/%20/g;function Xs(t){return encodeURI(""+t).replace(Gs,"|").replace(Hs,"[").replace(Us,"]")}function Js(t){return Xs(t).replace(zs,"%2B").replace(Ks,"+").replace(Is,"%23").replace(Fs,"%26").replace(Ws,"`").replace(qs,"{").replace(Ys,"}").replace($s,"^")}function Qs(t){return null==t?"":function(t){return Xs(t).replace(Is,"%23").replace(Vs,"%3F")}(t).replace(Ns,"%2F")}function Zs(t){try{return decodeURIComponent(""+t)}catch(t){}return""+t}const ta=/\/$/,ea=t=>t.replace(ta,"");function na(t,e,n="/"){let i,r={},o="",s="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(i=e.slice(0,l),o=e.slice(l+1,a>-1?a:e.length),r=t(o)),a>-1&&(i=i||e.slice(0,a),s=e.slice(a,e.length)),i=function(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),i=t.split("/"),r=i[i.length-1];".."!==r&&"."!==r||i.push("");let o,s,a=n.length-1;for(o=0;o<i.length;o++)if(s=i[o],"."!==s){if(".."!==s)break;a>1&&a--}return n.slice(0,a).join("/")+"/"+i.slice(o).join("/")}(null!=i?i:e,n),{fullPath:i+(o&&"?")+o+s,path:i,query:r,hash:Zs(s)}}function ia(t,e){return e&&t.toLowerCase().startsWith(e.toLowerCase())?t.slice(e.length)||"/":t}function ra(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function oa(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!sa(t[n],e[n]))return!1;return!0}function sa(t,e){return js(t)?aa(t,e):js(e)?aa(e,t):t===e}function aa(t,e){return js(e)?t.length===e.length&&t.every(((t,n)=>t===e[n])):1===t.length&&t[0]===e}var la,ca;!function(t){t.pop="pop",t.push="push"}(la||(la={})),function(t){t.back="back",t.forward="forward",t.unknown=""}(ca||(ca={}));const ua=/^[^#]+#/;function ha(t,e){return t.replace(ua,"#")+e}const da=()=>({left:window.scrollX,top:window.scrollY});function fa(t,e){return(history.state?history.state.position-e:-1)+t}const pa=new Map;let ga=()=>location.protocol+"//"+location.host;function ma(t,e){const{pathname:n,search:i,hash:r}=e,o=t.indexOf("#");if(o>-1){let e=r.includes(t.slice(o))?t.slice(o).length:1,n=r.slice(e);return"/"!==n[0]&&(n="/"+n),ia(n,"")}return ia(n,t)+i+r}function ba(t,e,n,i=!1,r=!1){return{back:t,current:e,forward:n,replaced:i,position:window.history.length,scroll:r?da():null}}function ya(t){return"string"==typeof t||t&&"object"==typeof t}function va(t){return"string"==typeof t||"symbol"==typeof t}const _a={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},xa=Symbol("");var wa;function Sa(t,e){return Ls(new Error,{type:t,[xa]:!0},e)}function Oa(t,e){return t instanceof Error&&xa in t&&(null==e||!!(t.type&e))}!function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"}(wa||(wa={}));const ka="[^/]+?",Ea={sensitive:!1,strict:!1,start:!0,end:!0},Aa=/[.+*?^${}()[\]/\\]/g;function Pa(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=e[n]-t[n];if(i)return i;n++}return t.length<e.length?1===t.length&&80===t[0]?-1:1:t.length>e.length?1===e.length&&80===e[0]?1:-1:0}function Ca(t,e){let n=0;const i=t.score,r=e.score;for(;n<i.length&&n<r.length;){const t=Pa(i[n],r[n]);if(t)return t;n++}if(1===Math.abs(r.length-i.length)){if(Ta(i))return 1;if(Ta(r))return-1}return r.length-i.length}function Ta(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Ma={type:0,value:""},La=/[a-zA-Z0-9_]/;function Ra(t,e,n){const i=function(t,e){const n=Ls({},Ea,e),i=[];let r=n.start?"^":"";const o=[];for(const e of t){const t=e.length?[]:[90];n.strict&&!e.length&&(r+="/");for(let i=0;i<e.length;i++){const s=e[i];let a=40+(n.sensitive?.25:0);if(0===s.type)i||(r+="/"),r+=s.value.replace(Aa,"\\$&"),a+=40;else if(1===s.type){const{value:t,repeatable:n,optional:l,regexp:c}=s;o.push({name:t,repeatable:n,optional:l});const u=c||ka;if(u!==ka){a+=10;try{new RegExp(`(${u})`)}catch(e){throw new Error(`Invalid custom RegExp for param "${t}" (${u}): `+e.message)}}let h=n?`((?:${u})(?:/(?:${u}))*)`:`(${u})`;i||(h=l&&e.length<2?`(?:/${h})`:"/"+h),l&&(h+="?"),r+=h,a+=20,l&&(a+=-8),n&&(a+=-20),".*"===u&&(a+=-50)}t.push(a)}i.push(t)}if(n.strict&&n.end){const t=i.length-1;i[t][i[t].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const s=new RegExp(r,n.sensitive?"":"i");return{re:s,score:i,keys:o,parse:function(t){const e=t.match(s),n={};if(!e)return null;for(let t=1;t<e.length;t++){const i=e[t]||"",r=o[t-1];n[r.name]=i&&r.repeatable?i.split("/"):i}return n},stringify:function(e){let n="",i=!1;for(const r of t){i&&n.endsWith("/")||(n+="/"),i=!1;for(const t of r)if(0===t.type)n+=t.value;else if(1===t.type){const{value:o,repeatable:s,optional:a}=t,l=o in e?e[o]:"";if(js(l)&&!s)throw new Error(`Provided param "${o}" is an array but it is not repeatable (* or + modifiers)`);const c=js(l)?l.join("/"):l;if(!c){if(!a)throw new Error(`Missing required param "${o}"`);r.length<2&&(n.endsWith("/")?n=n.slice(0,-1):i=!0)}n+=c}}return n||"/"}}}(function(t){if(!t)return[[]];if("/"===t)return[[Ma]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(t){throw new Error(`ERR (${n})/"${c}": ${t}`)}let n=0,i=n;const r=[];let o;function s(){o&&r.push(o),o=[]}let a,l=0,c="",u="";function h(){c&&(0===n?o.push({type:0,value:c}):1===n||2===n||3===n?(o.length>1&&("*"===a||"+"===a)&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:u,repeatable:"*"===a||"+"===a,optional:"*"===a||"?"===a})):e("Invalid state to consume buffer"),c="")}function d(){c+=a}for(;l<t.length;)if(a=t[l++],"\\"!==a||2===n)switch(n){case 0:"/"===a?(c&&h(),s()):":"===a?(h(),n=1):d();break;case 4:d(),n=i;break;case 1:"("===a?n=2:La.test(a)?d():(h(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&l--);break;case 2:")"===a?"\\"==u[u.length-1]?u=u.slice(0,-1)+a:n=3:u+=a;break;case 3:h(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&l--,u="";break;default:e("Unknown state")}else i=n,n=4;return 2===n&&e(`Unfinished custom RegExp for param "${c}"`),h(),s(),r}(t.path),n),r=Ls(i,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function Da(t,e){const n={};for(const i of e)i in t&&(n[i]=t[i]);return n}function ja(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const i in t.components)e[i]="object"==typeof n?n[i]:n;return e}function Ia(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Fa(t){return t.reduce(((t,e)=>Ls(t,e.meta)),{})}function Na(t,e){const n={};for(const i in t)n[i]=i in e?e[i]:t[i];return n}function Ba({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Va(t){const e={};if(""===t||"?"===t)return e;const n=("?"===t[0]?t.slice(1):t).split("&");for(let t=0;t<n.length;++t){const i=n[t].replace(zs," "),r=i.indexOf("="),o=Zs(r<0?i:i.slice(0,r)),s=r<0?null:Zs(i.slice(r+1));if(o in e){let t=e[o];js(t)||(t=e[o]=[t]),t.push(s)}else e[o]=s}return e}function za(t){let e="";for(let n in t){const i=t[n];(n=Js(n).replace(Bs,"%3D"),null!=i)?(js(i)?i.map((t=>t&&Js(t))):[i&&Js(i)]).forEach((t=>{void 0!==t&&(e+=(e.length?"&":"")+n,null!=t&&(e+="="+t))})):void 0!==i&&(e+=(e.length?"&":"")+n)}return e}function Ha(t){const e={};for(const n in t){const i=t[n];void 0!==i&&(e[n]=js(i)?i.map((t=>null==t?null:""+t)):null==i?i:""+i)}return e}const Ua=Symbol(""),$a=Symbol(""),Wa=Symbol(""),qa=Symbol(""),Ga=Symbol("");function Ya(){let t=[];return{add:function(e){return t.push(e),()=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)}},list:()=>t.slice(),reset:function(){t=[]}}}function Ka(t,e,n,i,r,o=(t=>t())){const s=i&&(i.enterCallbacks[r]=i.enterCallbacks[r]||[]);return()=>new Promise(((a,l)=>{const c=t=>{!1===t?l(Sa(4,{from:n,to:e})):t instanceof Error?l(t):ya(t)?l(Sa(2,{from:e,to:t})):(s&&i.enterCallbacks[r]===s&&"function"==typeof t&&s.push(t),a())},u=o((()=>t.call(i&&i.instances[r],e,n,c)));let h=Promise.resolve(u);t.length<3&&(h=h.then(c)),h.catch((t=>l(t)))}))}function Xa(t,e,n,i,r=(t=>t())){const o=[];for(const a of t)for(const t in a.components){let l=a.components[t];if("beforeRouteEnter"===e||a.instances[t])if("object"==typeof(s=l)||"displayName"in s||"props"in s||"__vccOpts"in s){const s=(l.__vccOpts||l)[e];s&&o.push(Ka(s,n,i,a,t,r))}else{let s=l();o.push((()=>s.then((o=>{if(!o)return Promise.reject(new Error(`Couldn't resolve component "${t}" at "${a.path}"`));const s=(l=o).__esModule||"Module"===l[Symbol.toStringTag]?o.default:o;var l;a.components[t]=s;const c=(s.__vccOpts||s)[e];return c&&Ka(c,n,i,a,t,r)()}))))}}var s;return o}function Ja(t){const e=oi(Wa),n=oi(qa),i=Ur((()=>{const n=Se(t.to);return e.resolve(n)})),r=Ur((()=>{const{matched:t}=i.value,{length:e}=t,r=t[e-1],o=n.matched;if(!r||!o.length)return-1;const s=o.findIndex(ra.bind(null,r));if(s>-1)return s;const a=Za(t[e-2]);return e>1&&Za(r)===a&&o[o.length-1].path!==a?o.findIndex(ra.bind(null,t[e-2])):s})),o=Ur((()=>r.value>-1&&function(t,e){for(const n in e){const i=e[n],r=t[n];if("string"==typeof i){if(i!==r)return!1}else if(!js(r)||r.length!==i.length||i.some(((t,e)=>t!==r[e])))return!1}return!0}(n.params,i.value.params))),s=Ur((()=>r.value>-1&&r.value===n.matched.length-1&&oa(n.params,i.value.params)));if(__VUE_PROD_DEVTOOLS__&&Ms){const e=Tr();if(e){const n={route:i.value,isActive:o.value,isExactActive:s.value,error:null};e.__vrl_devtools=e.__vrl_devtools||[],e.__vrl_devtools.push(n),ji((()=>{n.route=i.value,n.isActive=o.value,n.isExactActive=s.value,n.error=ya(Se(t.to))?null:'Invalid "to" value'}),null,{flush:"post"})}}return{route:i,href:Ur((()=>i.value.href)),isActive:o,isExactActive:s,navigate:function(n={}){return function(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey||t.defaultPrevented||void 0!==t.button&&0!==t.button)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}(n)?e[Se(t.replace)?"replace":"push"](Se(t.to)).catch(Ds):Promise.resolve()}}}const Qa=Dn({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Ja,setup(t,{slots:e}){const n=re(Ja(t)),{options:i}=oi(Wa),r=Ur((()=>({[tl(t.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[tl(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive})));return()=>{const i=e.default&&e.default(n);return t.custom?i:$r("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}});function Za(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const tl=(t,e,n)=>null!=t?t:null!=e?e:n,el=Dn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const i=oi(Ga),r=Ur((()=>t.route||i.value)),o=oi($a,0),s=Ur((()=>{let t=Se(o);const{matched:e}=r.value;let n;for(;(n=e[t])&&!n.components;)t++;return t})),a=Ur((()=>r.value.matched[s.value]));ri($a,Ur((()=>s.value+1))),ri(Ua,a),ri(Ga,r);const l=ve();return Di((()=>[l.value,a.value,t.name]),(([t,e,n],[i,r,o])=>{e&&(e.instances[n]=t,r&&r!==e&&t&&t===i&&(e.leaveGuards.size||(e.leaveGuards=r.leaveGuards),e.updateGuards.size||(e.updateGuards=r.updateGuards))),!t||!e||r&&ra(e,r)&&i||(e.enterCallbacks[n]||[]).forEach((e=>e(t)))}),{flush:"post"}),()=>{const i=r.value,o=t.name,c=a.value,u=c&&c.components[o];if(!u)return nl(n.default,{Component:u,route:i});const h=c.props[o],d=h?!0===h?i.params:"function"==typeof h?h(i):h:null,f=$r(u,Ls({},d,e,{onVnodeUnmounted:t=>{t.component.isUnmounted&&(c.instances[o]=null)},ref:l}));if(__VUE_PROD_DEVTOOLS__&&Ms&&f.ref){const t={depth:s.value,name:c.name,path:c.path,meta:c.meta};(js(f.ref)?f.ref.map((t=>t.i)):[f.ref.i]).forEach((e=>{e.__vrv_devtools=t}))}return nl(n.default,{Component:f,route:i})||f}}});function nl(t,e){if(!t)return null;const n=t(e);return 1===n.length?n[0]:n}const il=el;function rl(t,e){const n=Ls({},t,{matched:t.matched.map((t=>function(t,e){const n={};for(const i in t)e.includes(i)||(n[i]=t[i]);return n}(t,["instances","children","aliasOf"])))});return{_custom:{type:null,readOnly:!0,display:t.fullPath,tooltip:e,value:n}}}function ol(t){return{_custom:{display:t}}}let sl=0;function al(t,e,n){if(e.__hasDevtools)return;e.__hasDevtools=!0;const i=sl++;Ts({id:"org.vuejs.router"+(i?"."+i:""),label:"Vue Router",packageName:"vue-router",homepage:"https://router.vuejs.org",logo:"https://router.vuejs.org/logo.png",componentStateTypes:["Routing"],app:t},(r=>{"function"!=typeof r.now&&console.warn("[Vue Router]: You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),r.on.inspectComponent(((t,n)=>{t.instanceData&&t.instanceData.state.push({type:"Routing",key:"$route",editable:!1,value:rl(e.currentRoute.value,"Current Route")})})),r.on.visitComponentTree((({treeNode:t,componentInstance:e})=>{if(e.__vrv_devtools){const n=e.__vrv_devtools;t.tags.push({label:(n.name?`${n.name.toString()}: `:"")+n.path,textColor:0,tooltip:"This component is rendered by &lt;router-view&gt;",backgroundColor:cl})}js(e.__vrl_devtools)&&(e.__devtoolsApi=r,e.__vrl_devtools.forEach((e=>{let n=e.route.path,i=fl,r="",o=0;e.error?(n=e.error,i=gl,o=ml):e.isExactActive?(i=hl,r="This is exactly active"):e.isActive&&(i=ul,r="This link is active"),t.tags.push({label:n,textColor:o,tooltip:r,backgroundColor:i})})))})),Di(e.currentRoute,(()=>{l(),r.notifyComponentUpdate(),r.sendInspectorTree(a),r.sendInspectorState(a)}));const o="router:navigations:"+i;r.addTimelineLayer({id:o,label:`Router${i?" "+i:""} Navigations`,color:4237508}),e.onError(((t,e)=>{r.addTimelineEvent({layerId:o,event:{title:"Error during Navigation",subtitle:e.fullPath,logType:"error",time:r.now(),data:{error:t},groupId:e.meta.__navigationId}})}));let s=0;e.beforeEach(((t,e)=>{const n={guard:ol("beforeEach"),from:rl(e,"Current Location during this navigation"),to:rl(t,"Target location")};Object.defineProperty(t.meta,"__navigationId",{value:s++}),r.addTimelineEvent({layerId:o,event:{time:r.now(),title:"Start of navigation",subtitle:t.fullPath,data:n,groupId:t.meta.__navigationId}})})),e.afterEach(((t,e,n)=>{const i={guard:ol("afterEach")};n?(i.failure={_custom:{type:Error,readOnly:!0,display:n?n.message:"",tooltip:"Navigation Failure",value:n}},i.status=ol("")):i.status=ol(""),i.from=rl(e,"Current Location during this navigation"),i.to=rl(t,"Target location"),r.addTimelineEvent({layerId:o,event:{title:"End of navigation",subtitle:t.fullPath,time:r.now(),data:i,logType:n?"warning":"default",groupId:t.meta.__navigationId}})}));const a="router-inspector:"+i;function l(){if(!c)return;const t=c;let i=n.getRoutes().filter((t=>!t.parent||!t.parent.record.components));i.forEach(xl),t.filter&&(i=i.filter((e=>wl(e,t.filter.toLowerCase())))),i.forEach((t=>_l(t,e.currentRoute.value))),t.rootNodes=i.map(bl)}let c;r.addInspector({id:a,label:"Routes"+(i?" "+i:""),icon:"book",treeFilterPlaceholder:"Search routes"}),r.on.getInspectorTree((e=>{c=e,e.app===t&&e.inspectorId===a&&l()})),r.on.getInspectorState((e=>{if(e.app===t&&e.inspectorId===a){const t=n.getRoutes().find((t=>t.record.__vd_id===e.nodeId));t&&(e.state={options:ll(t)})}})),r.sendInspectorTree(a),r.sendInspectorState(a)}))}function ll(t){const{record:e}=t,n=[{editable:!1,key:"path",value:e.path}];return null!=e.name&&n.push({editable:!1,key:"name",value:e.name}),n.push({editable:!1,key:"regexp",value:t.re}),t.keys.length&&n.push({editable:!1,key:"keys",value:{_custom:{type:null,readOnly:!0,display:t.keys.map((t=>`${t.name}${function(t){return t.optional?t.repeatable?"*":"?":t.repeatable?"+":""}(t)}`)).join(" "),tooltip:"Param keys",value:t.keys}}}),null!=e.redirect&&n.push({editable:!1,key:"redirect",value:e.redirect}),t.alias.length&&n.push({editable:!1,key:"aliases",value:t.alias.map((t=>t.record.path))}),Object.keys(t.record.meta).length&&n.push({editable:!1,key:"meta",value:t.record.meta}),n.push({key:"score",editable:!1,value:{_custom:{type:null,readOnly:!0,display:t.score.map((t=>t.join(", "))).join(" | "),tooltip:"Score used to sort routes",value:t.score}}}),n}const cl=15485081,ul=2450411,hl=8702998,dl=2282478,fl=16486972,pl=6710886,gl=16704226,ml=12131356;function bl(t){const e=[],{record:n}=t;null!=n.name&&e.push({label:String(n.name),textColor:0,backgroundColor:dl}),n.aliasOf&&e.push({label:"alias",textColor:0,backgroundColor:fl}),t.__vd_match&&e.push({label:"matches",textColor:0,backgroundColor:cl}),t.__vd_exactActive&&e.push({label:"exact",textColor:0,backgroundColor:hl}),t.__vd_active&&e.push({label:"active",textColor:0,backgroundColor:ul}),n.redirect&&e.push({label:"string"==typeof n.redirect?`redirect: ${n.redirect}`:"redirects",textColor:16777215,backgroundColor:pl});let i=n.__vd_id;return null==i&&(i=String(yl++),n.__vd_id=i),{id:i,label:n.path,tags:e,children:t.children.map(bl)}}let yl=0;const vl=/^\/(.*)\/([a-z]*)$/;function _l(t,e){const n=e.matched.length&&ra(e.matched[e.matched.length-1],t.record);t.__vd_exactActive=t.__vd_active=n,n||(t.__vd_active=e.matched.some((e=>ra(e,t.record)))),t.children.forEach((t=>_l(t,e)))}function xl(t){t.__vd_match=!1,t.children.forEach(xl)}function wl(t,e){const n=String(t.re).match(vl);if(t.__vd_match=!1,!n||n.length<3)return!1;if(new RegExp(n[1].replace(/\$$/,""),n[2]).test(e))return t.children.forEach((t=>wl(t,e))),("/"!==t.record.path||"/"===e)&&(t.__vd_match=t.re.test(e),!0);const i=t.record.path.toLowerCase(),r=Zs(i);return!(e.startsWith("/")||!r.includes(e)&&!i.includes(e))||!(!r.startsWith(e)&&!i.startsWith(e))||!(!t.record.name||!String(t.record.name).includes(e))||t.children.some((t=>wl(t,e)))}var Sl={class:"table-page"},Ol=yr("h4",null,"Table Page",-1);function kl(t,e){Object.keys(t).forEach((function(n){return e(t[n],n)}))}function El(t){return null!==t&&"object"==typeof t}function Al(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function Pl(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;Tl(t,n,[],t._modules.root,!0),Cl(t,n,e)}function Cl(t,e,n){var i=t._state,r=t._scope;t.getters={},t._makeLocalGettersCache=Object.create(null);var o=t._wrappedGetters,s={},a={},l=new tt(!0);l.run((function(){kl(o,(function(e,n){s[n]=function(t,e){return function(){return t(e)}}(e,t),a[n]=Ur((function(){return s[n]()})),Object.defineProperty(t.getters,n,{get:function(){return a[n].value},enumerable:!0})}))})),t._state=re({data:e}),t._scope=l,t.strict&&function(t){Di((function(){return t._state.data}),(function(){}),{deep:!0,flush:"sync"})}(t),i&&n&&t._withCommit((function(){i.data=null})),r&&r.stop()}function Tl(t,e,n,i,r){var o=!n.length,s=t._modules.getNamespace(n);if(i.namespaced&&(t._modulesNamespaceMap[s],t._modulesNamespaceMap[s]=i),!o&&!r){var a=Ll(e,n.slice(0,-1)),l=n[n.length-1];t._withCommit((function(){a[l]=i.state}))}var c=i.context=function(t,e,n){var i=""===e,r={dispatch:i?t.dispatch:function(n,i,r){var o=Rl(n,i,r),s=o.payload,a=o.options,l=o.type;return a&&a.root||(l=e+l),t.dispatch(l,s)},commit:i?t.commit:function(n,i,r){var o=Rl(n,i,r),s=o.payload,a=o.options,l=o.type;a&&a.root||(l=e+l),t.commit(l,s,a)}};return Object.defineProperties(r,{getters:{get:i?function(){return t.getters}:function(){return Ml(t,e)}},state:{get:function(){return Ll(t.state,n)}}}),r}(t,s,n);i.forEachMutation((function(e,n){!function(t,e,n,i){(t._mutations[e]||(t._mutations[e]=[])).push((function(e){n.call(t,i.state,e)}))}(t,s+n,e,c)})),i.forEachAction((function(e,n){var i=e.root?n:s+n,r=e.handler||e;!function(t,e,n,i){(t._actions[e]||(t._actions[e]=[])).push((function(e){var r,o=n.call(t,{dispatch:i.dispatch,commit:i.commit,getters:i.getters,state:i.state,rootGetters:t.getters,rootState:t.state},e);return(r=o)&&"function"==typeof r.then||(o=Promise.resolve(o)),t._devtoolHook?o.catch((function(e){throw t._devtoolHook.emit("vuex:error",e),e})):o}))}(t,i,r,c)})),i.forEachGetter((function(e,n){!function(t,e,n,i){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(t){return n(i.state,i.getters,t.state,t.getters)})}(t,s+n,e,c)})),i.forEachChild((function(i,o){Tl(t,e,n.concat(o),i,r)}))}function Ml(t,e){if(!t._makeLocalGettersCache[e]){var n={},i=e.length;Object.keys(t.getters).forEach((function(r){if(r.slice(0,i)===e){var o=r.slice(i);Object.defineProperty(n,o,{get:function(){return t.getters[r]},enumerable:!0})}})),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}function Ll(t,e){return e.reduce((function(t,e){return t[e]}),t)}function Rl(t,e,n){return El(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}var Dl="vuex:mutations",jl="vuex:actions",Il="vuex",Fl=0;function Nl(t,e){Ts({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:["vuex bindings"]},(function(n){n.addTimelineLayer({id:Dl,label:"Vuex Mutations",color:Bl}),n.addTimelineLayer({id:jl,label:"Vuex Actions",color:Bl}),n.addInspector({id:Il,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree((function(n){if(n.app===t&&n.inspectorId===Il)if(n.filter){var i=[];Ul(i,e._modules.root,n.filter,""),n.rootNodes=i}else n.rootNodes=[Hl(e._modules.root,"")]})),n.on.getInspectorState((function(n){if(n.app===t&&n.inspectorId===Il){var i=n.nodeId;Ml(e,i),n.state=function(t,e,n){e="root"===n?e:e[n];var i=Object.keys(e),r={state:Object.keys(t.state).map((function(e){return{key:e,editable:!0,value:t.state[e]}}))};if(i.length){var o=function(t){var e={};return Object.keys(t).forEach((function(n){var i=n.split("/");if(i.length>1){var r=e,o=i.pop();i.forEach((function(t){r[t]||(r[t]={_custom:{value:{},display:t,tooltip:"Module",abstract:!0}}),r=r[t]._custom.value})),r[o]=$l((function(){return t[n]}))}else e[n]=$l((function(){return t[n]}))})),e}(e);r.getters=Object.keys(o).map((function(t){return{key:t.endsWith("/")?zl(t):t,editable:!1,value:$l((function(){return o[t]}))}}))}return r}(function(t,e){var n=e.split("/").filter((function(t){return t}));return n.reduce((function(t,i,r){var o=t[i];if(!o)throw new Error('Missing module "'+i+'" for path "'+e+'".');return r===n.length-1?o:o._children}),"root"===e?t:t.root._children)}(e._modules,i),"root"===i?e.getters:e._makeLocalGettersCache,i)}})),n.on.editInspectorState((function(n){if(n.app===t&&n.inspectorId===Il){var i=n.nodeId,r=n.path;"root"!==i&&(r=i.split("/").filter(Boolean).concat(r)),e._withCommit((function(){n.set(e._state.data,r,n.state.value)}))}})),e.subscribe((function(t,e){var i={};t.payload&&(i.payload=t.payload),i.state=e,n.notifyComponentUpdate(),n.sendInspectorTree(Il),n.sendInspectorState(Il),n.addTimelineEvent({layerId:Dl,event:{time:Date.now(),title:t.type,data:i}})})),e.subscribeAction({before:function(t,e){var i={};t.payload&&(i.payload=t.payload),t._id=Fl++,t._time=Date.now(),i.state=e,n.addTimelineEvent({layerId:jl,event:{time:t._time,title:t.type,groupId:t._id,subtitle:"start",data:i}})},after:function(t,e){var i={},r=Date.now()-t._time;i.duration={_custom:{type:"duration",display:r+"ms",tooltip:"Action duration",value:r}},t.payload&&(i.payload=t.payload),i.state=e,n.addTimelineEvent({layerId:jl,event:{time:Date.now(),title:t.type,groupId:t._id,subtitle:"end",data:i}})}})}))}var Bl=8702998,Vl={label:"namespaced",textColor:16777215,backgroundColor:6710886};function zl(t){return t&&"root"!==t?t.split("/").slice(-2,-1)[0]:"Root"}function Hl(t,e){return{id:e||"root",label:zl(e),tags:t.namespaced?[Vl]:[],children:Object.keys(t._children).map((function(n){return Hl(t._children[n],e+n+"/")}))}}function Ul(t,e,n,i){i.includes(n)&&t.push({id:i||"root",label:i.endsWith("/")?i.slice(0,i.length-1):i||"Root",tags:e.namespaced?[Vl]:[]}),Object.keys(e._children).forEach((function(r){Ul(t,e._children[r],n,i+r+"/")}))}function $l(t){try{return t()}catch(t){return t}}var Wl=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var n=t.state;this.state=("function"==typeof n?n():n)||{}},ql={namespaced:{configurable:!0}};ql.namespaced.get=function(){return!!this._rawModule.namespaced},Wl.prototype.addChild=function(t,e){this._children[t]=e},Wl.prototype.removeChild=function(t){delete this._children[t]},Wl.prototype.getChild=function(t){return this._children[t]},Wl.prototype.hasChild=function(t){return t in this._children},Wl.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},Wl.prototype.forEachChild=function(t){kl(this._children,t)},Wl.prototype.forEachGetter=function(t){this._rawModule.getters&&kl(this._rawModule.getters,t)},Wl.prototype.forEachAction=function(t){this._rawModule.actions&&kl(this._rawModule.actions,t)},Wl.prototype.forEachMutation=function(t){this._rawModule.mutations&&kl(this._rawModule.mutations,t)},Object.defineProperties(Wl.prototype,ql);var Gl=function(t){this.register([],t,!1)};function Yl(t,e,n){if(e.update(n),n.modules)for(var i in n.modules){if(!e.getChild(i))return;Yl(t.concat(i),e.getChild(i),n.modules[i])}}Gl.prototype.get=function(t){return t.reduce((function(t,e){return t.getChild(e)}),this.root)},Gl.prototype.getNamespace=function(t){var e=this.root;return t.reduce((function(t,n){return t+((e=e.getChild(n)).namespaced?n+"/":"")}),"")},Gl.prototype.update=function(t){Yl([],this.root,t)},Gl.prototype.register=function(t,e,n){var i=this;void 0===n&&(n=!0);var r=new Wl(e,n);0===t.length?this.root=r:this.get(t.slice(0,-1)).addChild(t[t.length-1],r),e.modules&&kl(e.modules,(function(e,r){i.register(t.concat(r),e,n)}))},Gl.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1],i=e.getChild(n);i&&i.runtime&&e.removeChild(n)},Gl.prototype.isRegistered=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1];return!!e&&e.hasChild(n)};var Kl=function(t){var e=this;void 0===t&&(t={});var n=t.plugins;void 0===n&&(n=[]);var i=t.strict;void 0===i&&(i=!1);var r=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Gl(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=r;var o=this,s=this.dispatch,a=this.commit;this.dispatch=function(t,e){return s.call(o,t,e)},this.commit=function(t,e,n){return a.call(o,t,e,n)},this.strict=i;var l=this._modules.root.state;Tl(this,l,[],this._modules.root),Cl(this,l),n.forEach((function(t){return t(e)}))},Xl={state:{configurable:!0}};Kl.prototype.install=function(t,e){t.provide(e||"store",this),t.config.globalProperties.$store=this,(void 0!==this._devtools?this._devtools:__VUE_PROD_DEVTOOLS__)&&Nl(t,this)},Xl.state.get=function(){return this._state.data},Xl.state.set=function(t){},Kl.prototype.commit=function(t,e,n){var i=this,r=Rl(t,e,n),o=r.type,s=r.payload,a=(r.options,{type:o,payload:s}),l=this._mutations[o];l&&(this._withCommit((function(){l.forEach((function(t){t(s)}))})),this._subscribers.slice().forEach((function(t){return t(a,i.state)})))},Kl.prototype.dispatch=function(t,e){var n=this,i=Rl(t,e),r=i.type,o=i.payload,s={type:r,payload:o},a=this._actions[r];if(a){try{this._actionSubscribers.slice().filter((function(t){return t.before})).forEach((function(t){return t.before(s,n.state)}))}catch(t){}var l=a.length>1?Promise.all(a.map((function(t){return t(o)}))):a[0](o);return new Promise((function(t,e){l.then((function(e){try{n._actionSubscribers.filter((function(t){return t.after})).forEach((function(t){return t.after(s,n.state)}))}catch(t){}t(e)}),(function(t){try{n._actionSubscribers.filter((function(t){return t.error})).forEach((function(e){return e.error(s,n.state,t)}))}catch(t){}e(t)}))}))}},Kl.prototype.subscribe=function(t,e){return Al(t,this._subscribers,e)},Kl.prototype.subscribeAction=function(t,e){return Al("function"==typeof t?{before:t}:t,this._actionSubscribers,e)},Kl.prototype.watch=function(t,e,n){var i=this;return Di((function(){return t(i.state,i.getters)}),e,Object.assign({},n))},Kl.prototype.replaceState=function(t){var e=this;this._withCommit((function(){e._state.data=t}))},Kl.prototype.registerModule=function(t,e,n){void 0===n&&(n={}),"string"==typeof t&&(t=[t]),this._modules.register(t,e),Tl(this,this.state,t,this._modules.get(t),n.preserveState),Cl(this,this.state)},Kl.prototype.unregisterModule=function(t){var e=this;"string"==typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit((function(){delete Ll(e.state,t.slice(0,-1))[t[t.length-1]]})),Pl(this)},Kl.prototype.hasModule=function(t){return"string"==typeof t&&(t=[t]),this._modules.isRegistered(t)},Kl.prototype.hotUpdate=function(t){this._modules.update(t),Pl(this,!0)},Kl.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(Kl.prototype,Xl),tc((function(t,e){var n={};return Zl(e).forEach((function(e){var i=e.key,r=e.val;n[i]=function(){var e=this.$store.state,n=this.$store.getters;if(t){var i=ec(this.$store,0,t);if(!i)return;e=i.context.state,n=i.context.getters}return"function"==typeof r?r.call(this,e,n):e[r]},n[i].vuex=!0})),n})),tc((function(t,e){var n={};return Zl(e).forEach((function(e){var i=e.key,r=e.val;n[i]=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];var i=this.$store.commit;if(t){var o=ec(this.$store,0,t);if(!o)return;i=o.context.commit}return"function"==typeof r?r.apply(this,[i].concat(e)):i.apply(this.$store,[r].concat(e))}})),n}));var Jl=tc((function(t,e){var n={};return Zl(e).forEach((function(e){var i=e.key,r=e.val;r=t+r,n[i]=function(){if(!t||ec(this.$store,0,t))return this.$store.getters[r]},n[i].vuex=!0})),n})),Ql=tc((function(t,e){var n={};return Zl(e).forEach((function(e){var i=e.key,r=e.val;n[i]=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];var i=this.$store.dispatch;if(t){var o=ec(this.$store,0,t);if(!o)return;i=o.context.dispatch}return"function"==typeof r?r.apply(this,[i].concat(e)):i.apply(this.$store,[r].concat(e))}})),n}));function Zl(t){return function(t){return Array.isArray(t)||El(t)}(t)?Array.isArray(t)?t.map((function(t){return{key:t,val:t}})):Object.keys(t).map((function(e){return{key:e,val:t[e]}})):[]}function tc(t){return function(e,n){return"string"!=typeof e?(n=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,n)}}function ec(t,e,n){return t._modulesNamespaceMap[n]}var nc={class:"table-responsive"},ic={key:1,class:"base-table"},rc=["innerHTML"],oc={key:1};const sc={name:"SkeletonText",props:{width:{type:String,required:!1,default:"100%"}},computed:{skeletonWidthStyle:function(){return{width:this.width}}}},ac={name:"TableLoading",components:{SkeletonText:(0,vs.A)(sc,[["render",function(t,e,n,i,r,o){return lr(),dr("div",{class:"skeleton skeleton-text",style:z(o.skeletonWidthStyle)},null,4)}],["__scopeId","data-v-3ee24822"]])}};function lc(t){return lc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lc(t)}function cc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function uc(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=lc(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!=lc(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==lc(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const hc={name:"BaseTable",components:{TableLoading:(0,vs.A)(ac,[["render",function(t,e,n,i,r,o){var s=bn("SkeletonText");return lr(),dr("table",null,[yr("thead",null,[yr("tr",null,[yr("th",null,[vr(s,{width:"100px"})]),yr("th",null,[vr(s,{width:"100px"})]),yr("th",null,[vr(s,{width:"100px"})]),yr("th",null,[vr(s,{width:"100px"})]),yr("th",null,[vr(s,{width:"100px"})])])]),yr("tbody",null,[(lr(),dr(nr,null,Rn(5,(function(t,e){return yr("tr",{key:e,style:{"margin-top":"50px"}},[yr("td",null,[vr(s,{width:"100px"})]),yr("td",null,[vr(s,{width:"100px"})]),yr("td",null,[vr(s,{width:"100px"})]),yr("td",null,[vr(s,{width:"100px"})]),yr("td",null,[vr(s,{width:"100px"})])])})),64))])])}],["__scopeId","data-v-a0ba0642"]])},props:{headers:{type:Array,required:!0},rows:{type:Array,required:!0},loading:{type:Boolean,required:!1,default:!1},htmlColumns:{type:Array,required:!1,default:function(){return[]}}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?cc(Object(n),!0).forEach((function(e){uc(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cc(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Jl(["settings"])),methods:{isHtml:function(t){return this.htmlColumns.includes(t)}}};function dc(t){return dc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dc(t)}function fc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function pc(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?fc(Object(n),!0).forEach((function(e){gc(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fc(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function gc(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=dc(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!=dc(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==dc(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const mc={name:"Table",components:{BaseTable:(0,vs.A)(hc,[["render",function(t,e,n,i,r,o){var s=bn("TableLoading");return lr(),dr("div",nc,[n.loading?(lr(),fr(s,{key:0})):wr("v-if",!0),n.loading?wr("v-if",!0):(lr(),dr("table",ic,[yr("thead",null,[yr("tr",null,[(lr(!0),dr(nr,null,Rn(n.headers,(function(t){return lr(),dr("th",{key:t},K(t),1)})),128))])]),yr("tbody",null,[(lr(!0),dr(nr,null,Rn(n.rows,(function(t){return lr(),dr("tr",{key:t.id},[(lr(!0),dr(nr,null,Rn(n.headers,(function(e){return lr(),dr("td",{key:e},[o.isHtml(null==e?void 0:e.toLowerCase())?(lr(),dr("div",{key:0,innerHTML:null==t?void 0:t[null==e?void 0:e.toLowerCase()]},null,8,rc)):(lr(),dr("span",oc,K(null==t?void 0:t[null==e?void 0:e.toLowerCase()]),1))])})),128))])})),128))])]))])}],["__scopeId","data-v-e4c0f1bc"]])},computed:pc({},Jl({tableHeaders:"getTableHeaders",tableRows:"getTableRows",settings:"settings"})),watch:{settings:{handler:function(){this.getTableData()},immediate:!0}},methods:pc({},Ql(["getTableData"]))},bc=(0,vs.A)(mc,[["render",function(t,e,n,i,r,o){var s=bn("BaseTable");return lr(),dr("div",Sl,[Ol,vr(s,{headers:t.tableHeaders,rows:t.tableRows},null,8,["headers","rows"])])}]]);var yc=function(t){return cn("data-v-6fbf9142"),t=t(),un(),t},vc={class:"settings-page"},_c=yc((function(){return yr("h4",null,"Settings",-1)})),xc={class:"form-group"},wc=yc((function(){return yr("label",{for:"row"},"Number of Row",-1)})),Sc={class:"form-group"},Oc=yc((function(){return yr("label",{for:"readable"},"Readable Date",-1)})),kc={class:"form-group"},Ec=yc((function(){return yr("label",null,"Emails (1-5):",-1)})),Ac={class:"email-group"},Pc=["onClick"];const Cc={name:"Button"},Tc=(0,vs.A)(Cc,[["render",function(t,e,n,i,r,o){return lr(),dr("button",null,[In(t.$slots,"default",{},void 0,!0),wr(" slot button content ")])}],["__scopeId","data-v-3f70e246"]]);var Mc={class:"input-area"},Lc=["id","name","type","value","placeholder","onchange","min","max"],Rc={key:1},Dc=["checked","onchange"],jc=function(t){return cn("data-v-392e2529"),t=t(),un(),t}((function(){return yr("span",{class:"toggle-switch"},null,-1)}));const Ic={name:"BaseInput",props:{name:{type:String,required:!0},type:{type:String,required:!1,default:"text"},value:{type:[String,Number,Array],required:!1,default:""},placeholder:{type:String,required:!1,default:""},required:{type:Boolean,required:!1,default:!1},onChange:{type:Function,required:!1,default:function(){}},min:{type:Number,required:!1},max:{type:Number,required:!1}},computed:{isDefaultInput:function(){return["text","number","email","search","url"].includes(this.type)},isCheckbox:function(){return"switch"===this.type||"checkbox"===this.type},isChecked:function(){return 1===parseInt(this.value)}},methods:{onChangeInput:function(t){this.isCheckbox?this.onChange({key:this.name,value:t.target.checked?1:0}):this.onChange({key:this.name,value:t.target.value})}}};function Fc(t){return Fc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fc(t)}function Nc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function Bc(){Bc=function(){return e};var t,e={},n=Object.prototype,i=n.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,i){var o=e&&e.prototype instanceof b?e:b,s=Object.create(o.prototype),a=new T(i||[]);return r(s,"_invoke",{value:E(t,n,a)}),s}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var d="suspendedStart",f="suspendedYield",p="executing",g="completed",m={};function b(){}function y(){}function v(){}var _={};c(_,s,(function(){return this}));var x=Object.getPrototypeOf,w=x&&x(x(M([])));w&&w!==n&&i.call(w,s)&&(_=w);var S=v.prototype=b.prototype=Object.create(_);function O(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(r,o,s,a){var l=h(t[r],t,o);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==Fc(u)&&i.call(u,"__await")?e.resolve(u.__await).then((function(t){n("next",t,s,a)}),(function(t){n("throw",t,s,a)})):e.resolve(u).then((function(t){c.value=t,s(c)}),(function(t){return n("throw",t,s,a)}))}a(l.arg)}var o;r(this,"_invoke",{value:function(t,i){function r(){return new e((function(e,r){n(t,i,e,r)}))}return o=o?o.then(r,r):r()}})}function E(e,n,i){var r=d;return function(o,s){if(r===p)throw Error("Generator is already running");if(r===g){if("throw"===o)throw s;return{value:t,done:!0}}for(i.method=o,i.arg=s;;){var a=i.delegate;if(a){var l=A(a,i);if(l){if(l===m)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===d)throw r=g,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=p;var c=h(e,n,i);if("normal"===c.type){if(r=i.done?g:f,c.arg===m)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(r=g,i.method="throw",i.arg=c.arg)}}}function A(e,n){var i=n.method,r=e.iterator[i];if(r===t)return n.delegate=null,"throw"===i&&e.iterator.return&&(n.method="return",n.arg=t,A(e,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),m;var o=h(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var s=o.arg;return s?s.done?(n[e.resultName]=s.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function M(e){if(e||""===e){var n=e[s];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function n(){for(;++r<e.length;)if(i.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(Fc(e)+" is not iterable")}return y.prototype=v,r(S,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:y,configurable:!0}),y.displayName=c(v,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,c(t,l,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},O(k.prototype),c(k.prototype,a,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,i,r,o){void 0===o&&(o=Promise);var s=new k(u(t,n,i,r),o);return e.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},O(S),c(S,l,"Generator"),c(S,s,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var i in e)n.push(i);return n.reverse(),function t(){for(;n.length;){var i=n.pop();if(i in e)return t.value=i,t.done=!1,t}return t.done=!0,t}},e.values=M,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(i,r){return a.type="throw",a.arg=e,n.next=i,r&&(n.method="next",n.arg=t),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var l=i.call(s,"catchLoc"),c=i.call(s,"finallyLoc");if(l&&c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;C(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(e,n,i){return this.delegate={iterator:M(e),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=t),m}},e}function Vc(t,e,n,i,r,o,s){try{var a=t[o](s),l=a.value}catch(t){return void n(t)}a.done?e(l):Promise.resolve(l).then(i,r)}function zc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Hc(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?zc(Object(n),!0).forEach((function(e){Uc(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zc(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Uc(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Fc(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!=Fc(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Fc(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const $c={name:"Settings",components:{Button:Tc,BaseInput:(0,vs.A)(Ic,[["render",function(t,e,n,i,r,o){return lr(),dr("div",Mc,[wr(" Handle input component for general inputs like, text, number, email "),o.isDefaultInput?(lr(),dr("input",{key:0,id:n.name,class:"input-main",name:n.name,type:n.type,value:n.value,placeholder:n.placeholder,onchange:o.onChangeInput,min:n.min,max:n.max},null,8,Lc)):wr("v-if",!0),wr(" Handle input component for switch type input "),o.isCheckbox?(lr(),dr("label",Rc,[yr("input",{type:"checkbox",checked:o.isChecked,onchange:o.onChangeInput},null,8,Dc),jc,yr("span",null,K(o.isChecked?"On":"Off"),1)])):wr("v-if",!0)])}],["__scopeId","data-v-392e2529"]])},data:function(){return{wpAmVue,rownumber:"rownumber",numrows:5,checkboxName:"toggleSwitch",checkboxType:"checkbox",checkboxValue:1,checkboxPlaceholder:"Toggle Switch",emails:[],showMessage:!1,message:"",messageType:"success"}},computed:Hc(Hc({},Jl(["isSaving","settings"])),{},{isCheckbox:function(){return"checkbox"===this.checkboxType}}),watch:{settings:function(){this.populateFormFields()}},mounted:function(){this.getSettings()},methods:Hc(Hc({},Ql(["storeSettings","getSettings"])),{},{onSubmit:function(t){var e,n=this;return(e=Bc().mark((function e(){var i;return Bc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!n.emails.some((function(t){return""===t.trim()}))){e.next=6;break}return n.messageType="error",n.message="Email fields cannot be empty.",n.showMessage=!0,e.abrupt("return");case 6:return i={rows:parseInt(n.numrows),readable:n.checkboxValue,emails:n.emails.map((function(t){return t}))},e.prev=7,e.next=10,n.storeSettings(i);case 10:n.messageType="success",n.message="Settings saved successfully!",n.showMessage=!0,n.populateFormFields(),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(7),n.messageType="error",n.message="Failed to save settings.",n.showMessage=!0;case 21:setTimeout((function(){n.showMessage=!1}),5e3);case 22:case"end":return e.stop()}}),e,null,[[7,16]])})),function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function s(t){Vc(o,i,r,s,a,"next",t)}function a(t){Vc(o,i,r,s,a,"throw",t)}s(void 0)}))})()},onNumRowsChange:function(t){this.numrows=t.value},onCheckboxChange:function(t){this.checkboxValue=t.value},onEmailChange:function(t,e){this.emails[t]=e.value},removeEmail:function(t){this.emails=this.emails.filter((function(e,n){return n!==t}))},addEmail:function(){var t;this.emails.length<5&&(this.emails=[].concat(function(t){if(Array.isArray(t))return Nc(t)}(t=this.emails)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Nc(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nc(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[""]))},populateFormFields:function(){this.numrows=this.settings.rows||5,this.checkboxValue=this.settings.readable?1:0,this.emails=this.settings.emails||[this.wpAmVue.user.email]}})},Wc=(0,vs.A)($c,[["render",function(t,e,n,i,r,o){var s=bn("BaseInput"),a=bn("Button");return lr(),dr("div",vc,[_c,yr("form",{method:"post",onSubmit:e[1]||(e[1]=Co((function(){return o.onSubmit&&o.onSubmit.apply(o,arguments)}),["prevent"]))},[yr("div",xc,[wc,vr(s,{name:r.rownumber,type:"number",value:r.numrows,min:1,max:5,"on-change":o.onNumRowsChange},null,8,["name","value","on-change"])]),yr("div",Sc,[Oc,o.isCheckbox?(lr(),fr(s,{key:0,name:r.checkboxName,type:r.checkboxType,value:r.checkboxValue,placeholder:r.checkboxPlaceholder,"on-change":o.onCheckboxChange},null,8,["name","type","value","placeholder","on-change"])):wr("v-if",!0)]),yr("div",kc,[Ec,yr("div",Ac,[(lr(!0),dr(nr,null,Rn(r.emails,(function(t,e){return lr(),dr("div",{key:e,class:"email-input"},[vr(s,{name:"email["+e+"]",type:"email",value:t,required:"",placeholder:"email@example.com","on-change":function(t){return o.onEmailChange(e,t)}},null,8,["name","value","on-change"]),r.emails.length>1?(lr(),dr("button",{key:0,class:"remove-button",onClick:Co((function(t){return o.removeEmail(e)}),["prevent"])},"Remove",8,Pc)):wr("v-if",!0)])})),128))]),r.emails.length<5?(lr(),dr("button",{key:0,class:"add-button",onClick:e[0]||(e[0]=Co((function(){return o.addEmail&&o.addEmail.apply(o,arguments)}),["prevent"]))},"Add Email")):wr("v-if",!0)]),vr(a,{type:"submit"},{default:hn((function(){return[xr("Save")]})),_:1}),r.showMessage?(lr(),dr("div",{key:0,class:q(["message",r.messageType])},K(r.message),3)):wr("v-if",!0)],32)])}],["__scopeId","data-v-6fbf9142"]]);var qc={class:"graph-page"},Gc=yr("h4",null,"Graph Page",-1);function Yc(t){return t+.5|0}const Kc=(t,e,n)=>Math.max(Math.min(t,n),e);function Xc(t){return Kc(Yc(2.55*t),0,255)}function Jc(t){return Kc(Yc(255*t),0,255)}function Qc(t){return Kc(Yc(t/2.55)/100,0,1)}function Zc(t){return Kc(Yc(100*t),0,100)}const tu={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},eu=[..."0123456789ABCDEF"],nu=t=>eu[15&t],iu=t=>eu[(240&t)>>4]+eu[15&t],ru=t=>(240&t)>>4==(15&t);const ou=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function su(t,e,n){const i=e*Math.min(n,1-n),r=(e,r=(e+t/30)%12)=>n-i*Math.max(Math.min(r-3,9-r,1),-1);return[r(0),r(8),r(4)]}function au(t,e,n){const i=(i,r=(i+t/60)%6)=>n-n*e*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function lu(t,e,n){const i=su(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)i[r]*=1-e-n,i[r]+=e;return i}function cu(t){const e=t.r/255,n=t.g/255,i=t.b/255,r=Math.max(e,n,i),o=Math.min(e,n,i),s=(r+o)/2;let a,l,c;return r!==o&&(c=r-o,l=s>.5?c/(2-r-o):c/(r+o),a=function(t,e,n,i,r){return t===r?(e-n)/i+(e<n?6:0):e===r?(n-t)/i+2:(t-e)/i+4}(e,n,i,c,r),a=60*a+.5),[0|a,l||0,s]}function uu(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(Jc)}function hu(t,e,n){return uu(su,t,e,n)}function du(t){return(t%360+360)%360}const fu={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},pu={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let gu;const mu=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,bu=t=>t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055,yu=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function vu(t,e,n){if(t){let i=cu(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,0===e?360:1)),i=hu(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function _u(t,e){return t?Object.assign(e||{},t):t}function xu(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Jc(t[3]))):(e=_u(t,{r:0,g:0,b:0,a:1})).a=Jc(e.a),e}function wu(t){return"r"===t.charAt(0)?function(t){const e=mu.exec(t);let n,i,r,o=255;if(e){if(e[7]!==n){const t=+e[7];o=e[8]?Xc(t):Kc(255*t,0,255)}return n=+e[1],i=+e[3],r=+e[5],n=255&(e[2]?Xc(n):Kc(n,0,255)),i=255&(e[4]?Xc(i):Kc(i,0,255)),r=255&(e[6]?Xc(r):Kc(r,0,255)),{r:n,g:i,b:r,a:o}}}(t):function(t){const e=ou.exec(t);let n,i=255;if(!e)return;e[5]!==n&&(i=e[6]?Xc(+e[5]):Jc(+e[5]));const r=du(+e[2]),o=+e[3]/100,s=+e[4]/100;return n="hwb"===e[1]?function(t,e,n){return uu(lu,t,e,n)}(r,o,s):"hsv"===e[1]?function(t,e,n){return uu(au,t,e,n)}(r,o,s):hu(r,o,s),{r:n[0],g:n[1],b:n[2],a:i}}(t)}class Su{constructor(t){if(t instanceof Su)return t;const e=typeof t;let n;var i,r,o;"object"===e?n=xu(t):"string"===e&&(o=(i=t).length,"#"===i[0]&&(4===o||5===o?r={r:255&17*tu[i[1]],g:255&17*tu[i[2]],b:255&17*tu[i[3]],a:5===o?17*tu[i[4]]:255}:7!==o&&9!==o||(r={r:tu[i[1]]<<4|tu[i[2]],g:tu[i[3]]<<4|tu[i[4]],b:tu[i[5]]<<4|tu[i[6]],a:9===o?tu[i[7]]<<4|tu[i[8]]:255})),n=r||function(t){gu||(gu=function(){const t={},e=Object.keys(pu),n=Object.keys(fu);let i,r,o,s,a;for(i=0;i<e.length;i++){for(s=a=e[i],r=0;r<n.length;r++)o=n[r],a=a.replace(o,fu[o]);o=parseInt(pu[s],16),t[a]=[o>>16&255,o>>8&255,255&o]}return t}(),gu.transparent=[0,0,0,0]);const e=gu[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}(t)||wu(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=_u(this._rgb);return t&&(t.a=Qc(t.a)),t}set rgb(t){this._rgb=xu(t)}rgbString(){return this._valid?(t=this._rgb)&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Qc(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`):void 0;var t}hexString(){return this._valid?(t=this._rgb,e=(t=>ru(t.r)&&ru(t.g)&&ru(t.b)&&ru(t.a))(t)?nu:iu,t?"#"+e(t.r)+e(t.g)+e(t.b)+((t,e)=>t<255?e(t):"")(t.a,e):void 0):void 0;var t,e}hslString(){return this._valid?function(t){if(!t)return;const e=cu(t),n=e[0],i=Zc(e[1]),r=Zc(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${r}%, ${Qc(t.a)})`:`hsl(${n}, ${i}%, ${r}%)`}(this._rgb):void 0}mix(t,e){if(t){const n=this.rgb,i=t.rgb;let r;const o=e===r?.5:e,s=2*o-1,a=n.a-i.a,l=((s*a==-1?s:(s+a)/(1+s*a))+1)/2;r=1-l,n.r=255&l*n.r+r*i.r+.5,n.g=255&l*n.g+r*i.g+.5,n.b=255&l*n.b+r*i.b+.5,n.a=o*n.a+(1-o)*i.a,this.rgb=n}return this}interpolate(t,e){return t&&(this._rgb=function(t,e,n){const i=yu(Qc(t.r)),r=yu(Qc(t.g)),o=yu(Qc(t.b));return{r:Jc(bu(i+n*(yu(Qc(e.r))-i))),g:Jc(bu(r+n*(yu(Qc(e.g))-r))),b:Jc(bu(o+n*(yu(Qc(e.b))-o))),a:t.a+n*(e.a-t.a)}}(this._rgb,t._rgb,e)),this}clone(){return new Su(this.rgb)}alpha(t){return this._rgb.a=Jc(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=Yc(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return vu(this._rgb,2,t),this}darken(t){return vu(this._rgb,2,-t),this}saturate(t){return vu(this._rgb,1,t),this}desaturate(t){return vu(this._rgb,1,-t),this}rotate(t){return function(t,e){var n=cu(t);n[0]=du(n[0]+e),n=hu(n),t.r=n[0],t.g=n[1],t.b=n[2]}(this._rgb,t),this}}function Ou(){}const ku=(()=>{let t=0;return()=>t++})();function Eu(t){return null==t}function Au(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return"[object"===e.slice(0,7)&&"Array]"===e.slice(-6)}function Pu(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}function Cu(t){return("number"==typeof t||t instanceof Number)&&isFinite(+t)}function Tu(t,e){return Cu(t)?t:e}function Mu(t,e){return void 0===t?e:t}function Lu(t,e,n){if(t&&"function"==typeof t.call)return t.apply(n,e)}function Ru(t,e,n,i){let r,o,s;if(Au(t))if(o=t.length,i)for(r=o-1;r>=0;r--)e.call(n,t[r],r);else for(r=0;r<o;r++)e.call(n,t[r],r);else if(Pu(t))for(s=Object.keys(t),o=s.length,r=0;r<o;r++)e.call(n,t[s[r]],s[r])}function Du(t,e){let n,i,r,o;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],o=e[n],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function ju(t){if(Au(t))return t.map(ju);if(Pu(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let r=0;for(;r<i;++r)e[n[r]]=ju(t[n[r]]);return e}return t}function Iu(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}function Fu(t,e,n,i){if(!Iu(t))return;const r=e[t],o=n[t];Pu(r)&&Pu(o)?Nu(r,o,i):e[t]=ju(o)}function Nu(t,e,n){const i=Au(e)?e:[e],r=i.length;if(!Pu(t))return t;const o=(n=n||{}).merger||Fu;let s;for(let e=0;e<r;++e){if(s=i[e],!Pu(s))continue;const r=Object.keys(s);for(let e=0,i=r.length;e<i;++e)o(r[e],t,s,n)}return t}function Bu(t,e){return Nu(t,e,{merger:Vu})}function Vu(t,e,n){if(!Iu(t))return;const i=e[t],r=n[t];Pu(i)&&Pu(r)?Bu(i,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=ju(r))}const zu={"":t=>t,x:t=>t.x,y:t=>t.y};function Hu(t,e){const n=zu[e]||(zu[e]=function(t){const e=function(t){const e=t.split("."),n=[];let i="";for(const t of e)i+=t,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}(t);return t=>{for(const n of e){if(""===n)break;t=t&&t[n]}return t}}(e));return n(t)}function Uu(t){return t.charAt(0).toUpperCase()+t.slice(1)}const $u=t=>void 0!==t,Wu=t=>"function"==typeof t,qu=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0},Gu=Math.PI,Yu=2*Gu,Ku=Number.POSITIVE_INFINITY,Xu=Gu/180,Ju=Gu/2,Qu=Gu/4,Zu=2*Gu/3,th=Math.log10,eh=Math.sign;function nh(t,e,n){return Math.abs(t-e)<n}function ih(t){const e=Math.round(t);t=nh(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(th(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function rh(t){return!isNaN(parseFloat(t))&&isFinite(t)}function oh(t){return t*(Gu/180)}function sh(t){if(!Cu(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function ah(t){return(t%Yu+Yu)%Yu}function lh(t,e,n){return Math.max(e,Math.min(n,t))}function ch(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function uh(t,e,n){n=n||(n=>t[n]<e);let i,r=t.length-1,o=0;for(;r-o>1;)i=o+r>>1,n(i)?o=i:r=i;return{lo:o,hi:r}}const hh=(t,e,n,i)=>uh(t,n,i?i=>{const r=t[i][e];return r<n||r===n&&t[i+1][e]===n}:i=>t[i][e]<n),dh=(t,e,n)=>uh(t,n,(i=>t[i][e]>=n)),fh=["push","pop","shift","splice","unshift"];function ph(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(e);-1!==r&&i.splice(r,1),i.length>0||(fh.forEach((e=>{delete t[e]})),delete t._chartjs)}const gh="undefined"==typeof window?function(t){return t()}:window.requestAnimationFrame;function mh(t,e){let n=[],i=!1;return function(...r){n=r,i||(i=!0,gh.call(window,(()=>{i=!1,t.apply(e,n)})))}}const bh=t=>"start"===t?"left":"end"===t?"right":"center",yh=(t,e,n)=>"start"===t?e:"end"===t?n:(e+n)/2,vh=t=>0===t||1===t,_h=(t,e,n)=>-Math.pow(2,10*(t-=1))*Math.sin((t-e)*Yu/n),xh=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Yu/n)+1,wh={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>1-Math.cos(t*Ju),easeOutSine:t=>Math.sin(t*Ju),easeInOutSine:t=>-.5*(Math.cos(Gu*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>vh(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1))),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>vh(t)?t:_h(t,.075,.3),easeOutElastic:t=>vh(t)?t:xh(t,.075,.3),easeInOutElastic(t){const e=.1125;return vh(t)?t:t<.5?.5*_h(2*t,e,.45):.5+.5*xh(2*t-1,e,.45)},easeInBack(t){const e=1.70158;return t*t*((e+1)*t-e)},easeOutBack(t){const e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:t=>1-wh.easeOutBounce(1-t),easeOutBounce(t){const e=7.5625,n=2.75;return t<1/n?e*t*t:t<2/n?e*(t-=1.5/n)*t+.75:t<2.5/n?e*(t-=2.25/n)*t+.9375:e*(t-=2.625/n)*t+.984375},easeInOutBounce:t=>t<.5?.5*wh.easeInBounce(2*t):.5*wh.easeOutBounce(2*t-1)+.5};function Sh(t){if(t&&"object"==typeof t){const e=t.toString();return"[object CanvasPattern]"===e||"[object CanvasGradient]"===e}return!1}function Oh(t){return Sh(t)?t:new Su(t)}function kh(t){return Sh(t)?t:new Su(t).saturate(.5).darken(.1).hexString()}const Eh=["x","y","borderWidth","radius","tension"],Ah=["color","borderColor","backgroundColor"],Ph=new Map;function Ch(t,e,n){return function(t,e){e=e||{};const n=t+JSON.stringify(e);let i=Ph.get(n);return i||(i=new Intl.NumberFormat(t,e),Ph.set(n,i)),i}(e,n).format(t)}const Th={values:t=>Au(t)?t:""+t,numeric(t,e,n){if(0===t)return"0";const i=this.chart.options.locale;let r,o=t;if(n.length>1){const e=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(e<1e-4||e>1e15)&&(r="scientific"),o=function(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}(t,n)}const s=th(Math.abs(o)),a=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Ch(t,i,l)},logarithmic(t,e,n){if(0===t)return"0";const i=n[e].significand||t/Math.pow(10,Math.floor(th(t)));return[1,2,3,5,10,15].includes(i)||e>.8*n.length?Th.numeric.call(this,t,e,n):""}};var Mh={formatters:Th};const Lh=Object.create(null),Rh=Object.create(null);function Dh(t,e){if(!e)return t;const n=e.split(".");for(let e=0,i=n.length;e<i;++e){const i=n[e];t=t[i]||(t[i]=Object.create(null))}return t}function jh(t,e,n){return"string"==typeof e?Nu(Dh(t,e),n):Nu(Dh(t,""),e)}class Ih{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,e)=>kh(e.backgroundColor),this.hoverBorderColor=(t,e)=>kh(e.borderColor),this.hoverColor=(t,e)=>kh(e.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return jh(this,t,e)}get(t){return Dh(this,t)}describe(t,e){return jh(Rh,t,e)}override(t,e){return jh(Lh,t,e)}route(t,e,n,i){const r=Dh(this,t),o=Dh(this,n),s="_"+e;Object.defineProperties(r,{[s]:{value:r[e],writable:!0},[e]:{enumerable:!0,get(){const t=this[s],e=o[i];return Pu(t)?Object.assign({},e,t):Mu(t,e)},set(t){this[s]=t}}})}apply(t){t.forEach((t=>t(this)))}}var Fh=new Ih({_scriptable:t=>!t.startsWith("on"),_indexable:t=>"events"!==t,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),t.set("animations",{colors:{type:"color",properties:Ah},numbers:{type:"number",properties:Eh}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}})},function(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Mh.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t&&"dash"!==t}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t})}]);function Nh(t,e,n,i,r){let o=e[r];return o||(o=e[r]=t.measureText(r).width,n.push(r)),o>i&&(i=o),i}function Bh(t,e,n){const i=t.currentDevicePixelRatio,r=0!==n?Math.max(n/2,.5):0;return Math.round((e-r)*i)/i+r}function Vh(t,e){(e||t)&&((e=e||t.getContext("2d")).save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function zh(t,e,n,i){Hh(t,e,n,i,null)}function Hh(t,e,n,i,r){let o,s,a,l,c,u,h,d;const f=e.pointStyle,p=e.rotation,g=e.radius;let m=(p||0)*Xu;if(f&&"object"==typeof f&&(o=f.toString(),"[object HTMLImageElement]"===o||"[object HTMLCanvasElement]"===o))return t.save(),t.translate(n,i),t.rotate(m),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),void t.restore();if(!(isNaN(g)||g<=0)){switch(t.beginPath(),f){default:r?t.ellipse(n,i,r/2,g,0,0,Yu):t.arc(n,i,g,0,Yu),t.closePath();break;case"triangle":u=r?r/2:g,t.moveTo(n+Math.sin(m)*u,i-Math.cos(m)*g),m+=Zu,t.lineTo(n+Math.sin(m)*u,i-Math.cos(m)*g),m+=Zu,t.lineTo(n+Math.sin(m)*u,i-Math.cos(m)*g),t.closePath();break;case"rectRounded":c=.516*g,l=g-c,s=Math.cos(m+Qu)*l,h=Math.cos(m+Qu)*(r?r/2-c:l),a=Math.sin(m+Qu)*l,d=Math.sin(m+Qu)*(r?r/2-c:l),t.arc(n-h,i-a,c,m-Gu,m-Ju),t.arc(n+d,i-s,c,m-Ju,m),t.arc(n+h,i+a,c,m,m+Ju),t.arc(n-d,i+s,c,m+Ju,m+Gu),t.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,u=r?r/2:l,t.rect(n-u,i-l,2*u,2*l);break}m+=Qu;case"rectRot":h=Math.cos(m)*(r?r/2:g),s=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(r?r/2:g),t.moveTo(n-h,i-a),t.lineTo(n+d,i-s),t.lineTo(n+h,i+a),t.lineTo(n-d,i+s),t.closePath();break;case"crossRot":m+=Qu;case"cross":h=Math.cos(m)*(r?r/2:g),s=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(r?r/2:g),t.moveTo(n-h,i-a),t.lineTo(n+h,i+a),t.moveTo(n+d,i-s),t.lineTo(n-d,i+s);break;case"star":h=Math.cos(m)*(r?r/2:g),s=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(r?r/2:g),t.moveTo(n-h,i-a),t.lineTo(n+h,i+a),t.moveTo(n+d,i-s),t.lineTo(n-d,i+s),m+=Qu,h=Math.cos(m)*(r?r/2:g),s=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(r?r/2:g),t.moveTo(n-h,i-a),t.lineTo(n+h,i+a),t.moveTo(n+d,i-s),t.lineTo(n-d,i+s);break;case"line":s=r?r/2:Math.cos(m)*g,a=Math.sin(m)*g,t.moveTo(n-s,i-a),t.lineTo(n+s,i+a);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(m)*(r?r/2:g),i+Math.sin(m)*g);break;case!1:t.closePath()}t.fill(),e.borderWidth>0&&t.stroke()}}function Uh(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function $h(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Wh(t){t.restore()}function qh(t,e,n,i,r){if(r.strikethrough||r.underline){const o=t.measureText(i),s=e-o.actualBoundingBoxLeft,a=e+o.actualBoundingBoxRight,l=n-o.actualBoundingBoxAscent,c=n+o.actualBoundingBoxDescent,u=r.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(s,u),t.lineTo(a,u),t.stroke()}}function Gh(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Yh(t,e,n,i,r,o={}){const s=Au(e)?e:[e],a=o.strokeWidth>0&&""!==o.strokeColor;let l,c;for(t.save(),t.font=r.string,function(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Eu(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}(t,o),l=0;l<s.length;++l)c=s[l],o.backdrop&&Gh(t,o.backdrop),a&&(o.strokeColor&&(t.strokeStyle=o.strokeColor),Eu(o.strokeWidth)||(t.lineWidth=o.strokeWidth),t.strokeText(c,n,i,o.maxWidth)),t.fillText(c,n,i,o.maxWidth),qh(t,n,i,c,o),i+=Number(r.lineHeight);t.restore()}function Kh(t,e){const{x:n,y:i,w:r,h:o,radius:s}=e;t.arc(n+s.topLeft,i+s.topLeft,s.topLeft,1.5*Gu,Gu,!0),t.lineTo(n,i+o-s.bottomLeft),t.arc(n+s.bottomLeft,i+o-s.bottomLeft,s.bottomLeft,Gu,Ju,!0),t.lineTo(n+r-s.bottomRight,i+o),t.arc(n+r-s.bottomRight,i+o-s.bottomRight,s.bottomRight,Ju,0,!0),t.lineTo(n+r,i+s.topRight),t.arc(n+r-s.topRight,i+s.topRight,s.topRight,0,-Ju,!0),t.lineTo(n+s.topLeft,i)}const Xh=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Jh=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Qh(t,e){const n=(""+t).match(Xh);if(!n||"normal"===n[1])return 1.2*e;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100}return e*t}const Zh=t=>+t||0;function td(t,e){const n={},i=Pu(e),r=i?Object.keys(e):e,o=Pu(t)?i?n=>Mu(t[n],t[e[n]]):e=>t[e]:()=>t;for(const t of r)n[t]=Zh(o(t));return n}function ed(t){return td(t,{top:"y",right:"x",bottom:"y",left:"x"})}function nd(t){return td(t,["topLeft","topRight","bottomLeft","bottomRight"])}function id(t){const e=ed(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function rd(t,e){t=t||{},e=e||Fh.font;let n=Mu(t.size,e.size);"string"==typeof n&&(n=parseInt(n,10));let i=Mu(t.style,e.style);i&&!(""+i).match(Jh)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Mu(t.family,e.family),lineHeight:Qh(Mu(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:Mu(t.weight,e.weight),string:""};return r.string=function(t){return!t||Eu(t.size)||Eu(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}(r),r}function od(t,e,n,i){let r,o,s,a=!0;for(r=0,o=t.length;r<o;++r)if(s=t[r],void 0!==s&&(void 0!==e&&"function"==typeof s&&(s=s(e),a=!1),void 0!==n&&Au(s)&&(s=s[n%s.length],a=!1),void 0!==s))return i&&!a&&(i.cacheable=!1),s}function sd(t,e){return Object.assign(Object.create(t),e)}function ad(t,e=[""],n,i,r=(()=>t[0])){const o=n||t;void 0===i&&(i=yd("_fallback",t));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:o,_fallback:i,_getTarget:r,override:n=>ad([n,...t],e,o,i)};return new Proxy(s,{deleteProperty:(e,n)=>(delete e[n],delete e._keys,delete t[0][n],!0),get:(n,i)=>dd(n,i,(()=>function(t,e,n,i){let r;for(const o of e)if(r=yd(ud(o,t),n),void 0!==r)return hd(t,r)?md(n,i,t,r):r}(i,e,t,n))),getOwnPropertyDescriptor:(t,e)=>Reflect.getOwnPropertyDescriptor(t._scopes[0],e),getPrototypeOf:()=>Reflect.getPrototypeOf(t[0]),has:(t,e)=>vd(t).includes(e),ownKeys:t=>vd(t),set(t,e,n){const i=t._storage||(t._storage=r());return t[e]=i[e]=n,delete t._keys,!0}})}function ld(t,e,n,i){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:cd(t,i),setContext:e=>ld(t,e,n,i),override:r=>ld(t.override(r),e,n,i)};return new Proxy(r,{deleteProperty:(e,n)=>(delete e[n],delete t[n],!0),get:(t,e,n)=>dd(t,e,(()=>function(t,e,n){const{_proxy:i,_context:r,_subProxy:o,_descriptors:s}=t;let a=i[e];return Wu(a)&&s.isScriptable(e)&&(a=function(t,e,n,i){const{_proxy:r,_context:o,_subProxy:s,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(o,s||i);return a.delete(t),hd(t,l)&&(l=md(r._scopes,r,t,l)),l}(e,a,t,n)),Au(a)&&a.length&&(a=function(t,e,n,i){const{_proxy:r,_context:o,_subProxy:s,_descriptors:a}=n;if(void 0!==o.index&&i(t))return e[o.index%e.length];if(Pu(e[0])){const n=e,i=r._scopes.filter((t=>t!==n));e=[];for(const l of n){const n=md(i,r,t,l);e.push(ld(n,o,s&&s[t],a))}}return e}(e,a,t,s.isIndexable)),hd(e,a)&&(a=ld(a,r,o&&o[e],s)),a}(t,e,n))),getOwnPropertyDescriptor:(e,n)=>e._descriptors.allKeys?Reflect.has(t,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,n),getPrototypeOf:()=>Reflect.getPrototypeOf(t),has:(e,n)=>Reflect.has(t,n),ownKeys:()=>Reflect.ownKeys(t),set:(e,n,i)=>(t[n]=i,delete e[n],!0)})}function cd(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:i,isScriptable:Wu(n)?n:()=>n,isIndexable:Wu(i)?i:()=>i}}const ud=(t,e)=>t?t+Uu(e):e,hd=(t,e)=>Pu(e)&&"adapters"!==t&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function dd(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||"constructor"===e)return t[e];const i=n();return t[e]=i,i}function fd(t,e,n){return Wu(t)?t(e,n):t}const pd=(t,e)=>!0===t?e:"string"==typeof t?Hu(e,t):void 0;function gd(t,e,n,i,r){for(const o of e){const e=pd(n,o);if(e){t.add(e);const o=fd(e._fallback,n,r);if(void 0!==o&&o!==n&&o!==i)return o}else if(!1===e&&void 0!==i&&n!==i)return null}return!1}function md(t,e,n,i){const r=e._rootScopes,o=fd(e._fallback,n,i),s=[...t,...r],a=new Set;a.add(i);let l=bd(a,s,n,o||n,i);return null!==l&&(void 0===o||o===n||(l=bd(a,s,o,l,i),null!==l))&&ad(Array.from(a),[""],r,o,(()=>function(t,e,n){const i=t._getTarget();e in i||(i[e]={});const r=i[e];return Au(r)&&Pu(n)?n:r||{}}(e,n,i)))}function bd(t,e,n,i,r){for(;n;)n=gd(t,e,n,i,r);return n}function yd(t,e){for(const n of e){if(!n)continue;const e=n[t];if(void 0!==e)return e}}function vd(t){let e=t._keys;return e||(e=t._keys=function(t){const e=new Set;for(const n of t)for(const t of Object.keys(n).filter((t=>!t.startsWith("_"))))e.add(t);return Array.from(e)}(t._scopes)),e}function _d(){return"undefined"!=typeof window&&"undefined"!=typeof document}function xd(t){let e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function wd(t,e,n){let i;return"string"==typeof t?(i=parseInt(t,10),-1!==t.indexOf("%")&&(i=i/100*e.parentNode[n])):i=t,i}Number.EPSILON;const Sd=t=>t.ownerDocument.defaultView.getComputedStyle(t,null),Od=["top","right","bottom","left"];function kd(t,e,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const o=Od[r];i[o]=parseFloat(t[e+"-"+o+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const Ed=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function Ad(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,r=Sd(n),o="border-box"===r.boxSizing,s=kd(r,"padding"),a=kd(r,"border","width"),{x:l,y:c,box:u}=function(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:r,offsetY:o}=i;let s,a,l=!1;if(Ed(r,o,t.target))s=r,a=o;else{const t=e.getBoundingClientRect();s=i.clientX-t.left,a=i.clientY-t.top,l=!0}return{x:s,y:a,box:l}}(t,n),h=s.left+(u&&a.left),d=s.top+(u&&a.top);let{width:f,height:p}=e;return o&&(f-=s.width+a.width,p-=s.height+a.height),{x:Math.round((l-h)/f*n.width/i),y:Math.round((c-d)/p*n.height/i)}}const Pd=t=>Math.round(10*t)/10;function Cd(t,e,n){const i=e||1,r=Math.floor(t.height*i),o=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const s=t.canvas;return s.style&&(n||!s.style.height&&!s.style.width)&&(s.style.height=`${t.height}px`,s.style.width=`${t.width}px`),(t.currentDevicePixelRatio!==i||s.height!==r||s.width!==o)&&(t.currentDevicePixelRatio=i,s.height=r,s.width=o,t.ctx.setTransform(i,0,0,i,0,0),!0)}const Td=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};_d()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch(t){}return t}();function Md(t,e){const n=function(t,e){return Sd(t).getPropertyValue(e)}(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Ld(t,e,n){return t?function(t,e){return{x:n=>t+t+e-n,setWidth(t){e=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,e)=>t-e,leftForLtr:(t,e)=>t-e}}(e,n):{x:t=>t,setWidth(t){},textAlign:t=>t,xPlus:(t,e)=>t+e,leftForLtr:(t,e)=>t}}function Rd(t,e){let n,i;"ltr"!==e&&"rtl"!==e||(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function Dd(t,e){void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}class jd{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,n,i){const r=e.listeners[i],o=e.duration;r.forEach((i=>i({chart:t,initial:e.initial,numSteps:o,currentStep:Math.min(n-e.start,o)})))}_refresh(){this._request||(this._running=!0,this._request=gh.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(t=Date.now()){let e=0;this._charts.forEach(((n,i)=>{if(!n.running||!n.items.length)return;const r=n.items;let o,s=r.length-1,a=!1;for(;s>=0;--s)o=r[s],o._active?(o._total>n.duration&&(n.duration=o._total),o.tick(t),a=!0):(r[s]=r[r.length-1],r.pop());a&&(i.draw(),this._notify(i,n,t,"progress")),r.length||(n.running=!1,this._notify(i,n,t,"complete"),n.initial=!1),e+=r.length})),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let n=e.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,n)),n}listen(t,e,n){this._getAnims(t).listeners[e].push(n)}add(t,e){e&&e.length&&this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce(((t,e)=>Math.max(t,e._duration)),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!!(e&&e.running&&e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const n=e.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Id=new jd;const Fd="transparent",Nd={boolean:(t,e,n)=>n>.5?e:t,color(t,e,n){const i=Oh(t||Fd),r=i.valid&&Oh(e||Fd);return r&&r.valid?r.mix(i,n).hexString():e},number:(t,e,n)=>t+(e-t)*n};class Bd{constructor(t,e,n,i){const r=e[n];i=od([t.to,i,r,t.from]);const o=od([t.from,r,i]);this._active=!0,this._fn=t.fn||Nd[t.type||typeof o],this._easing=wh[t.easing]||wh.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=n,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(t,e,n){if(this._active){this._notify(!1);const i=this._target[this._prop],r=n-this._start,o=this._duration-r;this._start=n,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=od([t.to,e,i,t.from]),this._from=od([t.from,i,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,n=this._duration,i=this._prop,r=this._from,o=this._loop,s=this._to;let a;if(this._active=r!==s&&(o||e<n),!this._active)return this._target[i]=s,void this._notify(!0);e<0?this._target[i]=r:(a=e/n%2,a=o&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[i]=this._fn(r,s,a))}wait(){const t=this._promises||(this._promises=[]);return new Promise(((e,n)=>{t.push({res:e,rej:n})}))}_notify(t){const e=t?"res":"rej",n=this._promises||[];for(let t=0;t<n.length;t++)n[t][e]()}}class Vd{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Pu(t))return;const e=Object.keys(Fh.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach((i=>{const r=t[i];if(!Pu(r))return;const o={};for(const t of e)o[t]=r[t];(Au(r.properties)&&r.properties||[i]).forEach((t=>{t!==i&&n.has(t)||n.set(t,o)}))}))}_animateOptions(t,e){const n=e.options,i=function(t,e){if(!e)return;let n=t.options;if(n)return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n;t.options=e}(t,n);if(!i)return[];const r=this._createAnimations(i,n);return n.$shared&&function(t,e){const n=[],i=Object.keys(e);for(let e=0;e<i.length;e++){const r=t[i[e]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}(t.options.$animations,n).then((()=>{t.options=n}),(()=>{})),r}_createAnimations(t,e){const n=this._properties,i=[],r=t.$animations||(t.$animations={}),o=Object.keys(e),s=Date.now();let a;for(a=o.length-1;a>=0;--a){const l=o[a];if("$"===l.charAt(0))continue;if("options"===l){i.push(...this._animateOptions(t,e));continue}const c=e[l];let u=r[l];const h=n.get(l);if(u){if(h&&u.active()){u.update(h,c,s);continue}u.cancel()}h&&h.duration?(r[l]=u=new Bd(h,t,l,c),i.push(u)):t[l]=c}return i}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const n=this._createAnimations(t,e);return n.length?(Id.add(this._chart,n),!0):void 0}}function zd(t,e){const n=t&&t.options||{},i=n.reverse,r=void 0===n.min?e:0,o=void 0===n.max?e:0;return{start:i?o:r,end:i?r:o}}function Hd(t,e){const n=[],i=t._getSortedDatasetMetas(e);let r,o;for(r=0,o=i.length;r<o;++r)n.push(i[r].index);return n}function Ud(t,e,n,i={}){const r=t.keys,o="single"===i.mode;let s,a,l,c;if(null!==e){for(s=0,a=r.length;s<a;++s){if(l=+r[s],l===n){if(i.all)continue;break}c=t.values[l],Cu(c)&&(o||0===e||eh(e)===eh(c))&&(e+=c)}return e}}function $d(t,e){const n=t&&t.options.stacked;return n||void 0===n&&void 0!==e.stack}function Wd(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function qd(t,e,n,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const e=t[r.index];if(n&&e>0||!n&&e<0)return r.index}return null}function Gd(t,e){const{chart:n,_cachedMeta:i}=t,r=n._stacks||(n._stacks={}),{iScale:o,vScale:s,index:a}=i,l=o.axis,c=s.axis,u=function(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}(o,s,i),h=e.length;let d;for(let t=0;t<h;++t){const n=e[t],{[l]:o,[c]:h}=n;d=(n._stacks||(n._stacks={}))[c]=Wd(r,u,o),d[a]=h,d._top=qd(d,s,!0,i.type),d._bottom=qd(d,s,!1,i.type),(d._visualValues||(d._visualValues={}))[a]=h}}function Yd(t,e){const n=t.scales;return Object.keys(n).filter((t=>n[t].axis===e)).shift()}function Kd(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const t of e){const e=t._stacks;if(!e||void 0===e[i]||void 0===e[i][n])return;delete e[i][n],void 0!==e[i]._visualValues&&void 0!==e[i]._visualValues[n]&&delete e[i]._visualValues[n]}}}const Xd=t=>"reset"===t||"none"===t,Jd=(t,e)=>e?t:Object.assign({},t);class Qd{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=$d(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Kd(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,n=this.getDataset(),i=(t,e,n,i)=>"x"===t?e:"r"===t?i:n,r=e.xAxisID=Mu(n.xAxisID,Yd(t,"x")),o=e.yAxisID=Mu(n.yAxisID,Yd(t,"y")),s=e.rAxisID=Mu(n.rAxisID,Yd(t,"r")),a=e.indexAxis,l=e.iAxisID=i(a,r,o,s),c=e.vAxisID=i(a,o,r,s);e.xScale=this.getScaleForId(r),e.yScale=this.getScaleForId(o),e.rScale=this.getScaleForId(s),e.iScale=this.getScaleForId(l),e.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&ph(this._data,this),t._stacked&&Kd(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),n=this._data;if(Pu(e)){const t=this._cachedMeta;this._data=function(t,e){const{iScale:n,vScale:i}=e,r="x"===n.axis?"x":"y",o="x"===i.axis?"x":"y",s=Object.keys(t),a=new Array(s.length);let l,c,u;for(l=0,c=s.length;l<c;++l)u=s[l],a[l]={[r]:u,[o]:t[u]};return a}(e,t)}else if(n!==e){if(n){ph(n,this);const t=this._cachedMeta;Kd(t),t._parsed=[]}e&&Object.isExtensible(e)&&((i=e)._chartjs?i._chartjs.listeners.push(this):(Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[this]}}),fh.forEach((t=>{const e="_onData"+Uu(t),n=i[t];Object.defineProperty(i,t,{configurable:!0,enumerable:!1,value(...t){const r=n.apply(this,t);return i._chartjs.listeners.forEach((n=>{"function"==typeof n[e]&&n[e](...t)})),r}})})))),this._syncList=[],this._data=e}var i}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const r=e._stacked;e._stacked=$d(e.vScale,e),e.stack!==n.stack&&(i=!0,Kd(e),e.stack=n.stack),this._resyncElements(t),(i||r!==e._stacked)&&Gd(this,e._parsed)}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:n,_data:i}=this,{iScale:r,_stacked:o}=n,s=r.axis;let a,l,c,u=0===t&&e===i.length||n._sorted,h=t>0&&n._parsed[t-1];if(!1===this._parsing)n._parsed=i,n._sorted=!0,c=i;else{c=Au(i[t])?this.parseArrayData(n,i,t,e):Pu(i[t])?this.parseObjectData(n,i,t,e):this.parsePrimitiveData(n,i,t,e);const r=()=>null===l[s]||h&&l[s]<h[s];for(a=0;a<e;++a)n._parsed[a+t]=l=c[a],u&&(r()&&(u=!1),h=l);n._sorted=u}o&&Gd(this,c)}parsePrimitiveData(t,e,n,i){const{iScale:r,vScale:o}=t,s=r.axis,a=o.axis,l=r.getLabels(),c=r===o,u=new Array(i);let h,d,f;for(h=0,d=i;h<d;++h)f=h+n,u[h]={[s]:c||r.parse(l[f],f),[a]:o.parse(e[f],f)};return u}parseArrayData(t,e,n,i){const{xScale:r,yScale:o}=t,s=new Array(i);let a,l,c,u;for(a=0,l=i;a<l;++a)c=a+n,u=e[c],s[a]={x:r.parse(u[0],c),y:o.parse(u[1],c)};return s}parseObjectData(t,e,n,i){const{xScale:r,yScale:o}=t,{xAxisKey:s="x",yAxisKey:a="y"}=this._parsing,l=new Array(i);let c,u,h,d;for(c=0,u=i;c<u;++c)h=c+n,d=e[h],l[c]={x:r.parse(Hu(d,s),h),y:o.parse(Hu(d,a),h)};return l}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,n){const i=this.chart,r=this._cachedMeta,o=e[t.axis];return Ud({keys:Hd(i,!0),values:e._stacks[t.axis]._visualValues},o,r.index,{mode:n})}updateRangeFromParsed(t,e,n,i){const r=n[e.axis];let o=null===r?NaN:r;const s=i&&n._stacks[e.axis];i&&s&&(i.values=s,o=Ud(i,r,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,e){const n=this._cachedMeta,i=n._parsed,r=n._sorted&&t===n.iScale,o=i.length,s=this._getOtherScale(t),a=((t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:Hd(n,!0),values:null})(e,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:u}=function(t){const{min:e,max:n,minDefined:i,maxDefined:r}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}(s);let h,d;function f(){d=i[h];const e=d[s.axis];return!Cu(d[t.axis])||c>e||u<e}for(h=0;h<o&&(f()||(this.updateRangeFromParsed(l,t,d,a),!r));++h);if(r)for(h=o-1;h>=0;--h)if(!f()){this.updateRangeFromParsed(l,t,d,a);break}return l}getAllParsedValues(t){const e=this._cachedMeta._parsed,n=[];let i,r,o;for(i=0,r=e.length;i<r;++i)o=e[i][t.axis],Cu(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,n=e.iScale,i=e.vScale,r=this.getParsed(t);return{label:n?""+n.getLabelForValue(r[n.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=function(t){let e,n,i,r;return Pu(t)?(e=t.top,n=t.right,i=t.bottom,r=t.left):e=n=i=r=t,{top:e,right:n,bottom:i,left:r,disabled:!1===t}}(Mu(this.options.clip,function(t,e,n){if(!1===n)return!1;const i=zd(t,n),r=zd(e,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,n=this._cachedMeta,i=n.data||[],r=e.chartArea,o=[],s=this._drawStart||0,a=this._drawCount||i.length-s,l=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(t,r,s,a),c=s;c<s+a;++c){const e=i[c];e.hidden||(e.active&&l?o.push(e):e.draw(t,r))}for(c=0;c<o.length;++c)o[c].draw(t,r)}getStyle(t,e){const n=e?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,e,n){const i=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const e=this._cachedMeta.data[t];r=e.$context||(e.$context=function(t,e,n){return sd(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}(this.getContext(),t,e)),r.parsed=this.getParsed(t),r.raw=i.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=function(t,e){return sd(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!e,r.mode=n,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",n){const i="active"===e,r=this._cachedDataOpts,o=t+"-"+e,s=r[o],a=this.enableOptionSharing&&$u(n);if(s)return Jd(s,a);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,t),u=i?[`${t}Hover`,"hover",t,""]:[t,""],h=l.getOptionScopes(this.getDataset(),c),d=Object.keys(Fh.elements[t]),f=l.resolveNamedOptions(h,d,(()=>this.getContext(n,i,e)),u);return f.$shared&&(f.$shared=a,r[o]=Object.freeze(Jd(f,a))),f}_resolveAnimations(t,e,n){const i=this.chart,r=this._cachedDataOpts,o=`animation-${e}`,s=r[o];if(s)return s;let a;if(!1!==i.options.animation){const i=this.chart.config,r=i.datasetAnimationScopeKeys(this._type,e),o=i.getOptionScopes(this.getDataset(),r);a=i.createResolver(o,this.getContext(t,n,e))}const l=new Vd(i,a&&a.animations);return a&&a._cacheable&&(r[o]=Object.freeze(l)),l}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Xd(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const n=this.resolveDataElementOptions(t,e),i=this._sharedOptions,r=this.getSharedOptions(n),o=this.includeOptions(e,r)||r!==i;return this.updateSharedOptions(r,e,n),{sharedOptions:r,includeOptions:o}}updateElement(t,e,n,i){Xd(i)?Object.assign(t,n):this._resolveAnimations(e,i).update(t,n)}updateSharedOptions(t,e,n){t&&!Xd(e)&&this._resolveAnimations(void 0,e).update(t,n)}_setStyle(t,e,n,i){t.active=i;const r=this.getStyle(e,i);this._resolveAnimations(e,n,i).update(t,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(t,e,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,e,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,n=this._cachedMeta.data;for(const[t,e,n]of this._syncList)this[t](e,n);this._syncList=[];const i=n.length,r=e.length,o=Math.min(r,i);o&&this.parse(0,o),r>i?this._insertElements(i,r-i,t):r<i&&this._removeElements(r,i-r)}_insertElements(t,e,n=!0){const i=this._cachedMeta,r=i.data,o=t+e;let s;const a=t=>{for(t.length+=e,s=t.length-1;s>=o;s--)t[s]=t[s-e]};for(a(r),s=t;s<o;++s)r[s]=new this.dataElementType;this._parsing&&a(i._parsed),this.parse(t,e),n&&this.updateElements(r,t,e,"reset")}updateElements(t,e,n,i){}_removeElements(t,e){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(t,e);n._stacked&&Kd(n,i)}n.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,n,i]=t;this[e](n,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Zd(t){const e=t.iScale,n=function(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let e=0,r=n.length;e<r;e++)i=i.concat(n[e].controller.getAllParsedValues(t));t._cache.$bar=function(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}(i.sort(((t,e)=>t-e)))}return t._cache.$bar}(e,t.type);let i,r,o,s,a=e._length;const l=()=>{32767!==o&&-32768!==o&&($u(s)&&(a=Math.min(a,Math.abs(o-s)||a)),s=o)};for(i=0,r=n.length;i<r;++i)o=e.getPixelForValue(n[i]),l();for(s=void 0,i=0,r=e.ticks.length;i<r;++i)o=e.getPixelForTick(i),l();return a}function tf(t,e,n,i){return Au(t)?function(t,e,n,i){const r=n.parse(t[0],i),o=n.parse(t[1],i),s=Math.min(r,o),a=Math.max(r,o);let l=s,c=a;Math.abs(s)>Math.abs(a)&&(l=a,c=s),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:r,end:o,min:s,max:a}}(t,e,n,i):e[n.axis]=n.parse(t,i),e}function ef(t,e,n,i){const r=t.iScale,o=t.vScale,s=r.getLabels(),a=r===o,l=[];let c,u,h,d;for(c=n,u=n+i;c<u;++c)d=e[c],h={},h[r.axis]=a||r.parse(s[c],c),l.push(tf(d,h,o,c));return l}function nf(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}function rf(t,e,n,i){let r=e.borderSkipped;const o={};if(!r)return void(t.borderSkipped=o);if(!0===r)return void(t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:s,end:a,reverse:l,top:c,bottom:u}=function(t){let e,n,i,r,o;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(r="end",o="start"):(r="start",o="end"),{start:n,end:i,reverse:e,top:r,bottom:o}}(t);"middle"===r&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?r=c:(n._bottom||0)===i?r=u:(o[of(u,s,a,l)]=!0,r=c)),o[of(r,s,a,l)]=!0,t.borderSkipped=o}function of(t,e,n,i){var r,o,s;return i?(s=n,t=sf(t=(r=t)===(o=e)?s:r===s?o:r,n,e)):t=sf(t,e,n),t}function sf(t,e,n){return"start"===t?e:"end"===t?n:t}function af(t,{inflateAmount:e},n){t.inflateAmount="auto"===e?1===n?.33:0:e}class lf extends Qd{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,n,i){return ef(t,e,n,i)}parseArrayData(t,e,n,i){return ef(t,e,n,i)}parseObjectData(t,e,n,i){const{iScale:r,vScale:o}=t,{xAxisKey:s="x",yAxisKey:a="y"}=this._parsing,l="x"===r.axis?s:a,c="x"===o.axis?s:a,u=[];let h,d,f,p;for(h=n,d=n+i;h<d;++h)p=e[h],f={},f[r.axis]=r.parse(Hu(p,l),h),u.push(tf(Hu(p,c),f,o,h));return u}updateRangeFromParsed(t,e,n,i){super.updateRangeFromParsed(t,e,n,i);const r=n._custom;r&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:n,vScale:i}=e,r=this.getParsed(t),o=r._custom,s=nf(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+n.getLabelForValue(r[n.axis]),value:s}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,n,i){const r="reset"===i,{index:o,_cachedMeta:{vScale:s}}=this,a=s.getBasePixel(),l=s.isHorizontal(),c=this._getRuler(),{sharedOptions:u,includeOptions:h}=this._getSharedOptions(e,i);for(let d=e;d<e+n;d++){const e=this.getParsed(d),n=r||Eu(e[s.axis])?{base:a,head:a}:this._calculateBarValuePixels(d),f=this._calculateBarIndexPixels(d,c),p=(e._stacks||{})[s.axis],g={horizontal:l,base:n.base,enableBorderRadius:!p||nf(e._custom)||o===p._top||o===p._bottom,x:l?n.head:f.center,y:l?f.center:n.head,height:l?f.size:Math.abs(n.size),width:l?Math.abs(n.size):f.size};h&&(g.options=u||this.resolveDataElementOptions(d,t[d].active?"active":i));const m=g.options||t[d].options;rf(g,m,p,o),af(g,m,c.ratio),this.updateElement(t[d],d,g,i)}}_getStacks(t,e){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter((t=>t.controller.options.grouped)),r=n.options.stacked,o=[],s=t=>{const n=t.controller.getParsed(e),i=n&&n[t.vScale.axis];if(Eu(i)||isNaN(i))return!0};for(const n of i)if((void 0===e||!s(n))&&((!1===r||-1===o.indexOf(n.stack)||void 0===r&&void 0===n.stack)&&o.push(n.stack),n.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,n){const i=this._getStacks(t,n),r=void 0!==e?i.indexOf(e):-1;return-1===r?i.length-1:r}_getRuler(){const t=this.options,e=this._cachedMeta,n=e.iScale,i=[];let r,o;for(r=0,o=e.data.length;r<o;++r)i.push(n.getPixelForValue(this.getParsed(r)[n.axis],r));const s=t.barThickness;return{min:s||Zd(e),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:s?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:n,index:i},options:{base:r,minBarLength:o}}=this,s=r||0,a=this.getParsed(t),l=a._custom,c=nf(l);let u,h,d=a[e.axis],f=0,p=n?this.applyStack(e,a,n):d;p!==d&&(f=p-d,p=d),c&&(d=l.barStart,p=l.barEnd-l.barStart,0!==d&&eh(d)!==eh(l.barEnd)&&(f=0),f+=d);const g=Eu(r)||c?f:r;let m=e.getPixelForValue(g);if(u=this.chart.getDataVisibility(t)?e.getPixelForValue(f+p):m,h=u-m,Math.abs(h)<o){h=function(t,e,n){return 0!==t?eh(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}(h,e,s)*o,d===s&&(m-=h/2);const t=e.getPixelForDecimal(0),r=e.getPixelForDecimal(1),l=Math.min(t,r),f=Math.max(t,r);m=Math.max(Math.min(m,f),l),u=m+h,n&&!c&&(a._stacks[e.axis]._visualValues[i]=e.getValueForPixel(u)-e.getValueForPixel(m))}if(m===e.getPixelForValue(s)){const t=eh(h)*e.getLineWidthForValue(s)/2;m+=t,h-=t}return{size:h,base:m,head:u,center:u+h/2}}_calculateBarIndexPixels(t,e){const n=e.scale,i=this.options,r=i.skipNull,o=Mu(i.maxBarThickness,1/0);let s,a;if(e.grouped){const n=r?this._getStackCount(t):e.stackCount,l="flex"===i.barThickness?function(t,e,n,i){const r=e.pixels,o=r[t];let s=t>0?r[t-1]:null,a=t<r.length-1?r[t+1]:null;const l=n.categoryPercentage;null===s&&(s=o-(null===a?e.end-e.start:a-o)),null===a&&(a=o+o-s);const c=o-(o-Math.min(s,a))/2*l;return{chunk:Math.abs(a-s)/2*l/i,ratio:n.barPercentage,start:c}}(t,e,i,n):function(t,e,n,i){const r=n.barThickness;let o,s;return Eu(r)?(o=e.min*n.categoryPercentage,s=n.barPercentage):(o=r*i,s=1),{chunk:o/i,ratio:s,start:e.pixels[t]-o/2}}(t,e,i,n),c=this._getStackIndex(this.index,this._cachedMeta.stack,r?t:void 0);s=l.start+l.chunk*c+l.chunk/2,a=Math.min(o,l.chunk*l.ratio)}else s=n.getPixelForValue(this.getParsed(t)[n.axis],t),a=Math.min(o,e.min*e.ratio);return{base:s-a/2,head:s+a/2,center:s,size:a}}draw(){const t=this._cachedMeta,e=t.vScale,n=t.data,i=n.length;let r=0;for(;r<i;++r)null===this.getParsed(r)[e.axis]||n[r].hidden||n[r].draw(this._ctx)}}function cf(t,e,n,i){const{controller:r,data:o,_sorted:s}=t,a=r._cachedMeta.iScale;if(a&&e===a.axis&&"r"!==e&&s&&o.length){const t=a._reversePixels?dh:hh;if(!i)return t(o,e,n);if(r._sharedOptions){const i=o[0],r="function"==typeof i.getRange&&i.getRange(e);if(r){const i=t(o,e,n-r),s=t(o,e,n+r);return{lo:i.lo,hi:s.hi}}}}return{lo:0,hi:o.length-1}}function uf(t,e,n,i,r){const o=t.getSortedVisibleDatasetMetas(),s=n[e];for(let t=0,n=o.length;t<n;++t){const{index:n,data:a}=o[t],{lo:l,hi:c}=cf(o[t],e,s,r);for(let t=l;t<=c;++t){const e=a[t];e.skip||i(e,n,t)}}}function hf(t,e,n,i,r){const o=[];return r||t.isPointInArea(e)?(uf(t,n,e,(function(n,s,a){(r||Uh(n,t.chartArea,0))&&n.inRange(e.x,e.y,i)&&o.push({element:n,datasetIndex:s,index:a})}),!0),o):o}function df(t,e,n,i,r,o){return o||t.isPointInArea(e)?"r"!==n||i?function(t,e,n,i,r,o){let s=[];const a=function(t){const e=-1!==t.indexOf("x"),n=-1!==t.indexOf("y");return function(t,i){const r=e?Math.abs(t.x-i.x):0,o=n?Math.abs(t.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}(n);let l=Number.POSITIVE_INFINITY;return uf(t,n,e,(function(n,c,u){const h=n.inRange(e.x,e.y,r);if(i&&!h)return;const d=n.getCenterPoint(r);if(!o&&!t.isPointInArea(d)&&!h)return;const f=a(e,d);f<l?(s=[{element:n,datasetIndex:c,index:u}],l=f):f===l&&s.push({element:n,datasetIndex:c,index:u})})),s}(t,e,n,i,r,o):function(t,e,n,i){let r=[];return uf(t,n,e,(function(t,n,o){const{startAngle:s,endAngle:a}=t.getProps(["startAngle","endAngle"],i),{angle:l}=function(t,e){const n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i);let o=Math.atan2(i,n);return o<-.5*Gu&&(o+=Yu),{angle:o,distance:r}}(t,{x:e.x,y:e.y});(function(t,e,n,i){const r=ah(t),o=ah(e),s=ah(n),a=ah(o-r),l=ah(s-r),c=ah(r-o),u=ah(r-s);return r===o||r===s||i&&o===s||a>l&&c<u})(l,s,a)&&r.push({element:t,datasetIndex:n,index:o})})),r}(t,e,n,r):[]}function ff(t,e,n,i,r){const o=[],s="x"===n?"inXRange":"inYRange";let a=!1;return uf(t,n,e,((t,i,l)=>{t[s](e[n],r)&&(o.push({element:t,datasetIndex:i,index:l}),a=a||t.inRange(e.x,e.y,r))})),i&&!a?[]:o}var pf={evaluateInteractionItems:uf,modes:{index(t,e,n,i){const r=Ad(e,t),o=n.axis||"x",s=n.includeInvisible||!1,a=n.intersect?hf(t,r,o,i,s):df(t,r,o,!1,i,s),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach((t=>{const e=a[0].index,n=t.data[e];n&&!n.skip&&l.push({element:n,datasetIndex:t.index,index:e})})),l):[]},dataset(t,e,n,i){const r=Ad(e,t),o=n.axis||"xy",s=n.includeInvisible||!1;let a=n.intersect?hf(t,r,o,i,s):df(t,r,o,!1,i,s);if(a.length>0){const e=a[0].datasetIndex,n=t.getDatasetMeta(e).data;a=[];for(let t=0;t<n.length;++t)a.push({element:n[t],datasetIndex:e,index:t})}return a},point:(t,e,n,i)=>hf(t,Ad(e,t),n.axis||"xy",i,n.includeInvisible||!1),nearest(t,e,n,i){const r=Ad(e,t),o=n.axis||"xy",s=n.includeInvisible||!1;return df(t,r,o,n.intersect,i,s)},x:(t,e,n,i)=>ff(t,Ad(e,t),"x",n.intersect,i),y:(t,e,n,i)=>ff(t,Ad(e,t),"y",n.intersect,i)}};const gf=["left","top","right","bottom"];function mf(t,e){return t.filter((t=>t.pos===e))}function bf(t,e){return t.filter((t=>-1===gf.indexOf(t.pos)&&t.box.axis===e))}function yf(t,e){return t.sort(((t,n)=>{const i=e?n:t,r=e?t:n;return i.weight===r.weight?i.index-r.index:i.weight-r.weight}))}function vf(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function _f(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function xf(t,e,n,i){const{pos:r,box:o}=n,s=t.maxPadding;if(!Pu(r)){n.size&&(t[r]-=n.size);const e=i[n.stack]||{size:0,count:1};e.size=Math.max(e.size,n.horizontal?o.height:o.width),n.size=e.size/e.count,t[r]+=n.size}o.getPadding&&_f(s,o.getPadding());const a=Math.max(0,e.outerWidth-vf(s,t,"left","right")),l=Math.max(0,e.outerHeight-vf(s,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function wf(t,e){const n=e.maxPadding;return function(t){const i={left:0,top:0,right:0,bottom:0};return t.forEach((t=>{i[t]=Math.max(e[t],n[t])})),i}(t?["left","right"]:["top","bottom"])}function Sf(t,e,n,i){const r=[];let o,s,a,l,c,u;for(o=0,s=t.length,c=0;o<s;++o){a=t[o],l=a.box,l.update(a.width||e.w,a.height||e.h,wf(a.horizontal,e));const{same:s,other:h}=xf(e,n,a,i);c|=s&&r.length,u=u||h,l.fullSize||r.push(a)}return c&&Sf(r,e,n,i)||u}function Of(t,e,n,i,r){t.top=n,t.left=e,t.right=e+i,t.bottom=n+r,t.width=i,t.height=r}function kf(t,e,n,i){const r=n.padding;let{x:o,y:s}=e;for(const a of t){const t=a.box,l=i[a.stack]||{count:1,placed:0,weight:1},c=a.stackWeight/l.weight||1;if(a.horizontal){const i=e.w*c,o=l.size||t.height;$u(l.start)&&(s=l.start),t.fullSize?Of(t,r.left,s,n.outerWidth-r.right-r.left,o):Of(t,e.left+l.placed,s,i,o),l.start=s,l.placed+=i,s=t.bottom}else{const i=e.h*c,s=l.size||t.width;$u(l.start)&&(o=l.start),t.fullSize?Of(t,o,r.top,s,n.outerHeight-r.bottom-r.top):Of(t,o,e.top+l.placed,s,i),l.start=o,l.placed+=i,o=t.right}}e.x=o,e.y=s}var Ef={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;-1!==n&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const r=id(t.options.layout.padding),o=Math.max(e-r.width,0),s=Math.max(n-r.height,0),a=function(t){const e=function(t){const e=[];let n,i,r,o,s,a;for(n=0,i=(t||[]).length;n<i;++n)r=t[n],({position:o,options:{stack:s,stackWeight:a=1}}=r),e.push({index:n,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:s&&o+s,stackWeight:a});return e}(t),n=yf(e.filter((t=>t.box.fullSize)),!0),i=yf(mf(e,"left"),!0),r=yf(mf(e,"right")),o=yf(mf(e,"top"),!0),s=yf(mf(e,"bottom")),a=bf(e,"x"),l=bf(e,"y");return{fullSize:n,leftAndTop:i.concat(o),rightAndBottom:r.concat(l).concat(s).concat(a),chartArea:mf(e,"chartArea"),vertical:i.concat(r).concat(l),horizontal:o.concat(s).concat(a)}}(t.boxes),l=a.vertical,c=a.horizontal;Ru(t.boxes,(t=>{"function"==typeof t.beforeLayout&&t.beforeLayout()}));const u=l.reduce(((t,e)=>e.box.options&&!1===e.box.options.display?t:t+1),0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:o,availableHeight:s,vBoxMaxWidth:o/2/u,hBoxMaxHeight:s/2}),d=Object.assign({},r);_f(d,id(i));const f=Object.assign({maxPadding:d,w:o,h:s,x:r.left,y:r.top},r),p=function(t,e){const n=function(t){const e={};for(const n of t){const{stack:t,pos:i,stackWeight:r}=n;if(!t||!gf.includes(i))continue;const o=e[t]||(e[t]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return e}(t),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let o,s,a;for(o=0,s=t.length;o<s;++o){a=t[o];const{fullSize:s}=a.box,l=n[a.stack],c=l&&a.stackWeight/l.weight;a.horizontal?(a.width=c?c*i:s&&e.availableWidth,a.height=r):(a.width=i,a.height=c?c*r:s&&e.availableHeight)}return n}(l.concat(c),h);Sf(a.fullSize,f,h,p),Sf(l,f,h,p),Sf(c,f,h,p)&&Sf(l,f,h,p),function(t){const e=t.maxPadding;function n(n){const i=Math.max(e[n]-t[n],0);return t[n]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}(f),kf(a.leftAndTop,f,h,p),f.x+=f.w,f.y+=f.h,kf(a.rightAndBottom,f,h,p),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},Ru(a.chartArea,(e=>{const n=e.box;Object.assign(n,t.chartArea),n.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})}))}};class Af{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,n){}removeEventListener(t,e,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,n,i){return e=Math.max(0,e||t.width),n=n||t.height,{width:e,height:Math.max(0,i?Math.floor(e/i):n)}}isAttached(t){return!0}updateConfig(t){}}class Pf extends Af{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Cf="$chartjs",Tf={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Mf=t=>null===t||""===t,Lf=!!Td&&{passive:!0};function Rf(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,Lf)}function Df(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function jf(t,e,n){const i=t.canvas,r=new MutationObserver((t=>{let e=!1;for(const n of t)e=e||Df(n.addedNodes,i),e=e&&!Df(n.removedNodes,i);e&&n()}));return r.observe(document,{childList:!0,subtree:!0}),r}function If(t,e,n){const i=t.canvas,r=new MutationObserver((t=>{let e=!1;for(const n of t)e=e||Df(n.removedNodes,i),e=e&&!Df(n.addedNodes,i);e&&n()}));return r.observe(document,{childList:!0,subtree:!0}),r}const Ff=new Map;let Nf=0;function Bf(){const t=window.devicePixelRatio;t!==Nf&&(Nf=t,Ff.forEach(((e,n)=>{n.currentDevicePixelRatio!==t&&e()})))}function Vf(t,e,n){const i=t.canvas,r=i&&xd(i);if(!r)return;const o=mh(((t,e)=>{const i=r.clientWidth;n(t,e),i<r.clientWidth&&n()}),window),s=new ResizeObserver((t=>{const e=t[0],n=e.contentRect.width,i=e.contentRect.height;0===n&&0===i||o(n,i)}));return s.observe(r),function(t,e){Ff.size||window.addEventListener("resize",Bf),Ff.set(t,e)}(t,o),s}function zf(t,e,n){n&&n.disconnect(),"resize"===e&&function(t){Ff.delete(t),Ff.size||window.removeEventListener("resize",Bf)}(t)}function Hf(t,e,n){const i=t.canvas,r=mh((e=>{null!==t.ctx&&n(function(t,e){const n=Tf[t.type]||t.type,{x:i,y:r}=Ad(t,e);return{type:n,chart:e,native:t,x:void 0!==i?i:null,y:void 0!==r?r:null}}(e,t))}),t);return function(t,e,n){t&&t.addEventListener(e,n,Lf)}(i,e,r),r}class Uf extends Af{acquireContext(t,e){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(function(t,e){const n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[Cf]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Mf(r)){const e=Md(t,"width");void 0!==e&&(t.width=e)}if(Mf(i))if(""===t.style.height)t.height=t.width/(e||2);else{const e=Md(t,"height");void 0!==e&&(t.height=e)}}(t,e),n):null}releaseContext(t){const e=t.canvas;if(!e[Cf])return!1;const n=e[Cf].initial;["height","width"].forEach((t=>{const i=n[t];Eu(i)?e.removeAttribute(t):e.setAttribute(t,i)}));const i=n.style||{};return Object.keys(i).forEach((t=>{e.style[t]=i[t]})),e.width=e.width,delete e[Cf],!0}addEventListener(t,e,n){this.removeEventListener(t,e);const i=t.$proxies||(t.$proxies={}),r={attach:jf,detach:If,resize:Vf}[e]||Hf;i[e]=r(t,e,n)}removeEventListener(t,e){const n=t.$proxies||(t.$proxies={}),i=n[e];i&&(({attach:zf,detach:zf,resize:zf}[e]||Rf)(t,e,i),n[e]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,n,i){return function(t,e,n,i){const r=Sd(t),o=kd(r,"margin"),s=wd(r.maxWidth,t,"clientWidth")||Ku,a=wd(r.maxHeight,t,"clientHeight")||Ku,l=function(t,e,n){let i,r;if(void 0===e||void 0===n){const o=t&&xd(t);if(o){const t=o.getBoundingClientRect(),s=Sd(o),a=kd(s,"border","width"),l=kd(s,"padding");e=t.width-l.width-a.width,n=t.height-l.height-a.height,i=wd(s.maxWidth,o,"clientWidth"),r=wd(s.maxHeight,o,"clientHeight")}else e=t.clientWidth,n=t.clientHeight}return{width:e,height:n,maxWidth:i||Ku,maxHeight:r||Ku}}(t,e,n);let{width:c,height:u}=l;if("content-box"===r.boxSizing){const t=kd(r,"border","width"),e=kd(r,"padding");c-=e.width+t.width,u-=e.height+t.height}return c=Math.max(0,c-o.width),u=Math.max(0,i?c/i:u-o.height),c=Pd(Math.min(c,s,l.maxWidth)),u=Pd(Math.min(u,a,l.maxHeight)),c&&!u&&(u=Pd(c/2)),(void 0!==e||void 0!==n)&&i&&l.height&&u>l.height&&(u=l.height,c=Pd(Math.floor(u*i))),{width:c,height:u}}(t,e,n,i)}isAttached(t){const e=t&&xd(t);return!(!e||!e.isConnected)}}class $f{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}hasValue(){return rh(this.x)&&rh(this.y)}getProps(t,e){const n=this.$animations;if(!e||!n)return this;const i={};return t.forEach((t=>{i[t]=n[t]&&n[t].active()?n[t]._to:this[t]})),i}}function Wf(t,e,n,i,r){const o=Mu(i,0),s=Math.min(Mu(r,t.length),t.length);let a,l,c,u=0;for(n=Math.ceil(n),r&&(a=r-i,n=a/Math.floor(a/n)),c=o;c<0;)u++,c=Math.round(o+u*n);for(l=Math.max(o,0);l<s;l++)l===c&&(e.push(t[l]),u++,c=Math.round(o+u*n))}const qf=(t,e,n)=>"top"===e||"left"===e?t[e]+n:t[e]-n,Gf=(t,e)=>Math.min(e||t,t);function Yf(t,e){const n=[],i=t.length/e,r=t.length;let o=0;for(;o<r;o+=i)n.push(t[Math.floor(o)]);return n}function Kf(t,e,n){const i=t.ticks.length,r=Math.min(e,i-1),o=t._startPixel,s=t._endPixel,a=1e-6;let l,c=t.getPixelForTick(r);if(!(n&&(l=1===i?Math.max(c-o,s-c):0===e?(t.getPixelForTick(1)-c)/2:(c-t.getPixelForTick(r-1))/2,c+=r<e?l:-l,c<o-a||c>s+a)))return c}function Xf(t){return t.drawTicks?t.tickLength:0}function Jf(t,e){if(!t.display)return 0;const n=rd(t.font,e),i=id(t.padding);return(Au(t.text)?t.text.length:1)*n.lineHeight+i.height}function Qf(t,e,n){let i=bh(t);return(n&&"right"!==e||!n&&"right"===e)&&(i=(t=>"left"===t?"right":"right"===t?"left":t)(i)),i}class Zf extends $f{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:n,_suggestedMax:i}=this;return t=Tu(t,Number.POSITIVE_INFINITY),e=Tu(e,Number.NEGATIVE_INFINITY),n=Tu(n,Number.POSITIVE_INFINITY),i=Tu(i,Number.NEGATIVE_INFINITY),{min:Tu(t,n),max:Tu(e,i),minDefined:Cu(t),maxDefined:Cu(e)}}getMinMax(t){let e,{min:n,max:i,minDefined:r,maxDefined:o}=this.getUserBounds();if(r&&o)return{min:n,max:i};const s=this.getMatchingVisibleMetas();for(let a=0,l=s.length;a<l;++a)e=s[a].controller.getMinMax(this,t),r||(n=Math.min(n,e.min)),o||(i=Math.max(i,e.max));return n=o&&n>i?i:n,i=r&&n>i?n:i,{min:Tu(n,Tu(i,n)),max:Tu(i,Tu(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Lu(this.options.beforeUpdate,[this])}update(t,e,n){const{beginAtZero:i,grace:r,ticks:o}=this.options,s=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(t,e,n){const{min:i,max:r}=t,o=(l=(r-i)/2,"string"==typeof(a=e)&&a.endsWith("%")?parseFloat(a)/100*l:+a),s=(t,e)=>n&&0===t?0:t+e;var a,l;return{min:s(i,-Math.abs(o)),max:s(r,o)}}(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const a=s<this.ticks.length;this._convertTicksToLabels(a?Yf(this.ticks,s):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||"auto"===o.source)&&(this.ticks=function(t,e){const n=t.options.ticks,i=function(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(i,r))}(t),r=Math.min(n.maxTicksLimit||i,i),o=n.major.enabled?function(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}(e):[],s=o.length,a=o[0],l=o[s-1],c=[];if(s>r)return function(t,e,n,i){let r,o=0,s=n[0];for(i=Math.ceil(i),r=0;r<t.length;r++)r===s&&(e.push(t[r]),o++,s=n[o*i])}(e,c,o,s/r),c;const u=function(t,e,n){const i=function(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}(t),r=e.length/n;if(!i)return Math.max(r,1);const o=function(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i==0&&(e.push(i),e.push(t/i));return n===(0|n)&&e.push(n),e.sort(((t,e)=>t-e)).pop(),e}(i);for(let t=0,e=o.length-1;t<e;t++){const e=o[t];if(e>r)return e}return Math.max(r,1)}(o,e,r);if(s>0){let t,n;const i=s>1?Math.round((l-a)/(s-1)):null;for(Wf(e,c,u,Eu(i)?0:a-i,a),t=0,n=s-1;t<n;t++)Wf(e,c,u,o[t],o[t+1]);return Wf(e,c,u,l,Eu(i)?e.length:l+i),c}return Wf(e,c,u),c}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),a&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,e,n=this.options.reverse;this.isHorizontal()?(t=this.left,e=this.right):(t=this.top,e=this.bottom,n=!n),this._startPixel=t,this._endPixel=e,this._reversePixels=n,this._length=e-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Lu(this.options.afterUpdate,[this])}beforeSetDimensions(){Lu(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Lu(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Lu(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Lu(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let n,i,r;for(n=0,i=t.length;n<i;n++)r=t[n],r.label=Lu(e.callback,[r.value,n,t],this)}afterTickToLabelConversion(){Lu(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Lu(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,n=Gf(this.ticks.length,t.ticks.maxTicksLimit),i=e.minRotation||0,r=e.maxRotation;let o,s,a,l=i;if(!this._isVisible()||!e.display||i>=r||n<=1||!this.isHorizontal())return void(this.labelRotation=i);const c=this._getLabelSizes(),u=c.widest.width,h=c.highest.height,d=lh(this.chart.width-u,0,this.maxWidth);o=t.offset?this.maxWidth/n:d/(n-1),u+6>o&&(o=d/(n-(t.offset?.5:1)),s=this.maxHeight-Xf(t.grid)-e.padding-Jf(t.title,this.chart.options.font),a=Math.sqrt(u*u+h*h),l=Math.min(Math.asin(lh((c.highest.height+6)/o,-1,1)),Math.asin(lh(s/a,-1,1))-Math.asin(lh(h/a,-1,1)))*(180/Gu),l=Math.max(i,Math.min(r,l))),this.labelRotation=l}afterCalculateLabelRotation(){Lu(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Lu(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:n,title:i,grid:r}}=this,o=this._isVisible(),s=this.isHorizontal();if(o){const o=Jf(i,e.options.font);if(s?(t.width=this.maxWidth,t.height=Xf(r)+o):(t.height=this.maxHeight,t.width=Xf(r)+o),n.display&&this.ticks.length){const{first:e,last:i,widest:r,highest:o}=this._getLabelSizes(),a=2*n.padding,l=oh(this.labelRotation),c=Math.cos(l),u=Math.sin(l);if(s){const e=n.mirror?0:u*r.width+c*o.height;t.height=Math.min(this.maxHeight,t.height+e+a)}else{const e=n.mirror?0:c*r.width+u*o.height;t.width=Math.min(this.maxWidth,t.width+e+a)}this._calculatePadding(e,i,u,c)}}this._handleMargins(),s?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,n,i){const{ticks:{align:r,padding:o},position:s}=this.options,a=0!==this.labelRotation,l="top"!==s&&"x"===this.axis;if(this.isHorizontal()){const s=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let u=0,h=0;a?l?(u=i*t.width,h=n*e.height):(u=n*t.height,h=i*e.width):"start"===r?h=e.width:"end"===r?u=t.width:"inner"!==r&&(u=t.width/2,h=e.width/2),this.paddingLeft=Math.max((u-s+o)*this.width/(this.width-s),0),this.paddingRight=Math.max((h-c+o)*this.width/(this.width-c),0)}else{let n=e.height/2,i=t.height/2;"start"===r?(n=0,i=t.height):"end"===r&&(n=e.height,i=0),this.paddingTop=n+o,this.paddingBottom=i+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Lu(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,n=t.length;e<n;e++)Eu(t[e].label)&&(t.splice(e,1),n--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let n=this.ticks;e<n.length&&(n=Yf(n,e)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,n){const{ctx:i,_longestTextCache:r}=this,o=[],s=[],a=Math.floor(e/Gf(e,n));let l,c,u,h,d,f,p,g,m,b,y,v=0,_=0;for(l=0;l<e;l+=a){if(h=t[l].label,d=this._resolveTickFontOptions(l),i.font=f=d.string,p=r[f]=r[f]||{data:{},gc:[]},g=d.lineHeight,m=b=0,Eu(h)||Au(h)){if(Au(h))for(c=0,u=h.length;c<u;++c)y=h[c],Eu(y)||Au(y)||(m=Nh(i,p.data,p.gc,m,y),b+=g)}else m=Nh(i,p.data,p.gc,m,h),b=g;o.push(m),s.push(b),v=Math.max(m,v),_=Math.max(b,_)}!function(t,e){Ru(t,(t=>{const n=t.gc,i=n.length/2;let r;if(i>e){for(r=0;r<i;++r)delete t.data[n[r]];n.splice(0,i)}}))}(r,e);const x=o.indexOf(v),w=s.indexOf(_),S=t=>({width:o[t]||0,height:s[t]||0});return{first:S(0),last:S(e-1),widest:S(x),highest:S(w),widths:o,heights:s}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return lh(this._alignToPixels?Bh(this.chart,e,0):e,-32768,32767)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const n=e[t];return n.$context||(n.$context=function(t,e,n){return sd(t,{tick:n,index:e,type:"tick"})}(this.getContext(),t,n))}return this.$context||(this.$context=sd(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const t=this.options.ticks,e=oh(this.labelRotation),n=Math.abs(Math.cos(e)),i=Math.abs(Math.sin(e)),r=this._getLabelSizes(),o=t.autoSkipPadding||0,s=r?r.widest.width+o:0,a=r?r.highest.height+o:0;return this.isHorizontal()?a*n>s*i?s/n:a/i:a*i<s*n?a/n:s/i}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,n=this.chart,i=this.options,{grid:r,position:o,border:s}=i,a=r.offset,l=this.isHorizontal(),c=this.ticks.length+(a?1:0),u=Xf(r),h=[],d=s.setContext(this.getContext()),f=d.display?d.width:0,p=f/2,g=function(t){return Bh(n,t,f)};let m,b,y,v,_,x,w,S,O,k,E,A;if("top"===o)m=g(this.bottom),x=this.bottom-u,S=m-p,k=g(t.top)+p,A=t.bottom;else if("bottom"===o)m=g(this.top),k=t.top,A=g(t.bottom)-p,x=m+p,S=this.top+u;else if("left"===o)m=g(this.right),_=this.right-u,w=m-p,O=g(t.left)+p,E=t.right;else if("right"===o)m=g(this.left),O=t.left,E=g(t.right)-p,_=m+p,w=this.left+u;else if("x"===e){if("center"===o)m=g((t.top+t.bottom)/2+.5);else if(Pu(o)){const t=Object.keys(o)[0],e=o[t];m=g(this.chart.scales[t].getPixelForValue(e))}k=t.top,A=t.bottom,x=m+p,S=x+u}else if("y"===e){if("center"===o)m=g((t.left+t.right)/2);else if(Pu(o)){const t=Object.keys(o)[0],e=o[t];m=g(this.chart.scales[t].getPixelForValue(e))}_=m-p,w=_-u,O=t.left,E=t.right}const P=Mu(i.ticks.maxTicksLimit,c),C=Math.max(1,Math.ceil(c/P));for(b=0;b<c;b+=C){const t=this.getContext(b),e=r.setContext(t),i=s.setContext(t),o=e.lineWidth,c=e.color,u=i.dash||[],d=i.dashOffset,f=e.tickWidth,p=e.tickColor,g=e.tickBorderDash||[],m=e.tickBorderDashOffset;y=Kf(this,b,a),void 0!==y&&(v=Bh(n,y,o),l?_=w=O=E=v:x=S=k=A=v,h.push({tx1:_,ty1:x,tx2:w,ty2:S,x1:O,y1:k,x2:E,y2:A,width:o,color:c,borderDash:u,borderDashOffset:d,tickWidth:f,tickColor:p,tickBorderDash:g,tickBorderDashOffset:m}))}return this._ticksLength=c,this._borderValue=m,h}_computeLabelItems(t){const e=this.axis,n=this.options,{position:i,ticks:r}=n,o=this.isHorizontal(),s=this.ticks,{align:a,crossAlign:l,padding:c,mirror:u}=r,h=Xf(n.grid),d=h+c,f=u?-c:d,p=-oh(this.labelRotation),g=[];let m,b,y,v,_,x,w,S,O,k,E,A,P="middle";if("top"===i)x=this.bottom-f,w=this._getXAxisLabelAlignment();else if("bottom"===i)x=this.top+f,w=this._getXAxisLabelAlignment();else if("left"===i){const t=this._getYAxisLabelAlignment(h);w=t.textAlign,_=t.x}else if("right"===i){const t=this._getYAxisLabelAlignment(h);w=t.textAlign,_=t.x}else if("x"===e){if("center"===i)x=(t.top+t.bottom)/2+d;else if(Pu(i)){const t=Object.keys(i)[0],e=i[t];x=this.chart.scales[t].getPixelForValue(e)+d}w=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===i)_=(t.left+t.right)/2-d;else if(Pu(i)){const t=Object.keys(i)[0],e=i[t];_=this.chart.scales[t].getPixelForValue(e)}w=this._getYAxisLabelAlignment(h).textAlign}"y"===e&&("start"===a?P="top":"end"===a&&(P="bottom"));const C=this._getLabelSizes();for(m=0,b=s.length;m<b;++m){y=s[m],v=y.label;const t=r.setContext(this.getContext(m));S=this.getPixelForTick(m)+r.labelOffset,O=this._resolveTickFontOptions(m),k=O.lineHeight,E=Au(v)?v.length:1;const e=E/2,n=t.color,a=t.textStrokeColor,c=t.textStrokeWidth;let h,d=w;if(o?(_=S,"inner"===w&&(d=m===b-1?this.options.reverse?"left":"right":0===m?this.options.reverse?"right":"left":"center"),A="top"===i?"near"===l||0!==p?-E*k+k/2:"center"===l?-C.highest.height/2-e*k+k:-C.highest.height+k/2:"near"===l||0!==p?k/2:"center"===l?C.highest.height/2-e*k:C.highest.height-E*k,u&&(A*=-1),0===p||t.showLabelBackdrop||(_+=k/2*Math.sin(p))):(x=S,A=(1-E)*k/2),t.showLabelBackdrop){const e=id(t.backdropPadding),n=C.heights[m],i=C.widths[m];let r=A-e.top,o=0-e.left;switch(P){case"middle":r-=n/2;break;case"bottom":r-=n}switch(w){case"center":o-=i/2;break;case"right":o-=i;break;case"inner":m===b-1?o-=i:m>0&&(o-=i/2)}h={left:o,top:r,width:i+e.width,height:n+e.height,color:t.backdropColor}}g.push({label:v,font:O,textOffset:A,options:{rotation:p,color:n,strokeColor:a,strokeWidth:c,textAlign:d,textBaseline:P,translation:[_,x],backdrop:h}})}return g}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-oh(this.labelRotation))return"top"===t?"left":"right";let n="center";return"start"===e.align?n="left":"end"===e.align?n="right":"inner"===e.align&&(n="inner"),n}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:n,mirror:i,padding:r}}=this.options,o=t+r,s=this._getLabelSizes().widest.width;let a,l;return"left"===e?i?(l=this.right+r,"near"===n?a="left":"center"===n?(a="center",l+=s/2):(a="right",l+=s)):(l=this.right-o,"near"===n?a="right":"center"===n?(a="center",l-=s/2):(a="left",l=this.left)):"right"===e?i?(l=this.left+r,"near"===n?a="right":"center"===n?(a="center",l-=s/2):(a="left",l-=s)):(l=this.left+o,"near"===n?a="left":"center"===n?(a="center",l+=s/2):(a="right",l=this.right)):a="right",{textAlign:a,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:n,top:i,width:r,height:o}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(n,i,r,o),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const n=this.ticks.findIndex((e=>e.value===t));return n>=0?e.setContext(this.getContext(n)).lineWidth:0}drawGrid(t){const e=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,o;const s=(t,e,i)=>{i.width&&i.color&&(n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.setLineDash(i.borderDash||[]),n.lineDashOffset=i.borderDashOffset,n.beginPath(),n.moveTo(t.x,t.y),n.lineTo(e.x,e.y),n.stroke(),n.restore())};if(e.display)for(r=0,o=i.length;r<o;++r){const t=i[r];e.drawOnChartArea&&s({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},t),e.drawTicks&&s({x:t.tx1,y:t.ty1},{x:t.tx2,y:t.ty2},{color:t.tickColor,width:t.tickWidth,borderDash:t.tickBorderDash,borderDashOffset:t.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:n,grid:i}}=this,r=n.setContext(this.getContext()),o=n.display?r.width:0;if(!o)return;const s=i.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let l,c,u,h;this.isHorizontal()?(l=Bh(t,this.left,o)-o/2,c=Bh(t,this.right,s)+s/2,u=h=a):(u=Bh(t,this.top,o)-o/2,h=Bh(t,this.bottom,s)+s/2,l=c=a),e.save(),e.lineWidth=r.width,e.strokeStyle=r.color,e.beginPath(),e.moveTo(l,u),e.lineTo(c,h),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const e=this.ctx,n=this._computeLabelArea();n&&$h(e,n);const i=this.getLabelItems(t);for(const t of i){const n=t.options,i=t.font;Yh(e,t.label,0,t.textOffset,i,n)}n&&Wh(e)}drawTitle(){const{ctx:t,options:{position:e,title:n,reverse:i}}=this;if(!n.display)return;const r=rd(n.font),o=id(n.padding),s=n.align;let a=r.lineHeight/2;"bottom"===e||"center"===e||Pu(e)?(a+=o.bottom,Au(n.text)&&(a+=r.lineHeight*(n.text.length-1))):a+=o.top;const{titleX:l,titleY:c,maxWidth:u,rotation:h}=function(t,e,n,i){const{top:r,left:o,bottom:s,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let h,d,f,p=0;const g=s-r,m=a-o;if(t.isHorizontal()){if(d=yh(i,o,a),Pu(n)){const t=Object.keys(n)[0],i=n[t];f=u[t].getPixelForValue(i)+g-e}else f="center"===n?(c.bottom+c.top)/2+g-e:qf(t,n,e);h=a-o}else{if(Pu(n)){const t=Object.keys(n)[0],i=n[t];d=u[t].getPixelForValue(i)-m+e}else d="center"===n?(c.left+c.right)/2-m+e:qf(t,n,e);f=yh(i,s,r),p="left"===n?-Ju:Ju}return{titleX:d,titleY:f,maxWidth:h,rotation:p}}(this,a,e,s);Yh(t,n.text,0,0,r,{color:n.color,maxWidth:u,rotation:h,textAlign:Qf(s,e,i),textBaseline:"middle",translation:[l,c]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,n=Mu(t.grid&&t.grid.z,-1),i=Mu(t.border&&t.border.z,0);return this._isVisible()&&this.draw===Zf.prototype.draw?[{z:n,draw:t=>{this.drawBackground(),this.drawGrid(t),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:e,draw:t=>{this.drawLabels(t)}}]:[{z:e,draw:t=>{this.draw(t)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let r,o;for(r=0,o=e.length;r<o;++r){const o=e[r];o[n]!==this.id||t&&o.type!==t||i.push(o)}return i}_resolveTickFontOptions(t){return rd(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class tp{constructor(t,e,n){this.type=t,this.scope=e,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let n;(function(t){return"id"in t&&"defaults"in t})(e)&&(n=this.register(e));const i=this.items,r=t.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in i||(i[r]=t,function(t,e,n){const i=Nu(Object.create(null),[n?Fh.get(n):{},Fh.get(e),t.defaults]);Fh.set(e,i),t.defaultRoutes&&function(t,e){Object.keys(e).forEach((n=>{const i=n.split("."),r=i.pop(),o=[t].concat(i).join("."),s=e[n].split("."),a=s.pop(),l=s.join(".");Fh.route(o,r,l,a)}))}(e,t.defaultRoutes),t.descriptors&&Fh.describe(e,t.descriptors)}(t,o,n),this.override&&Fh.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const e=this.items,n=t.id,i=this.scope;n in e&&delete e[n],i&&n in Fh[i]&&(delete Fh[i][n],this.override&&delete Lh[n])}}class ep{constructor(){this.controllers=new tp(Qd,"datasets",!0),this.elements=new tp($f,"elements"),this.plugins=new tp(Object,"plugins"),this.scales=new tp(Zf,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,n){[...e].forEach((e=>{const i=n||this._getRegistryForType(e);n||i.isForType(e)||i===this.plugins&&e.id?this._exec(t,i,e):Ru(e,(e=>{const i=n||this._getRegistryForType(e);this._exec(t,i,e)}))}))}_exec(t,e,n){const i=Uu(t);Lu(n["before"+i],[],n),e[t](n),Lu(n["after"+i],[],n)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const n=this._typedRegistries[e];if(n.isForType(t))return n}return this.plugins}_get(t,e,n){const i=e.get(t);if(void 0===i)throw new Error('"'+t+'" is not a registered '+n+".");return i}}var np=new ep;class ip{constructor(){this._init=[]}notify(t,e,n,i){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const r=i?this._descriptors(t).filter(i):this._descriptors(t),o=this._notify(r,t,e,n);return"afterDestroy"===e&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,e,n,i){i=i||{};for(const r of t){const t=r.plugin;if(!1===Lu(t[n],[e,i,r.options],t)&&i.cancelable)return!1}return!0}invalidate(){Eu(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const n=t&&t.config,i=Mu(n.options&&n.options.plugins,{}),r=function(t){const e={},n=[],i=Object.keys(np.plugins.items);for(let t=0;t<i.length;t++)n.push(np.getPlugin(i[t]));const r=t.plugins||[];for(let t=0;t<r.length;t++){const i=r[t];-1===n.indexOf(i)&&(n.push(i),e[i.id]=!0)}return{plugins:n,localIds:e}}(n);return!1!==i||e?function(t,{plugins:e,localIds:n},i,r){const o=[],s=t.getContext();for(const a of e){const e=a.id,l=rp(i[e],r);null!==l&&o.push({plugin:a,options:op(t.config,{plugin:a,local:n[e]},l,s)})}return o}(t,r,i,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],n=this._cache,i=(t,e)=>t.filter((t=>!e.some((e=>t.plugin.id===e.plugin.id))));this._notify(i(e,n),t,"stop"),this._notify(i(n,e),t,"start")}}function rp(t,e){return e||!1!==t?!0===t?{}:t:null}function op(t,{plugin:e,local:n},i,r){const o=t.pluginScopeKeys(e),s=t.getOptionScopes(i,o);return n&&e.defaults&&s.push(e.defaults),t.createResolver(s,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function sp(t,e){const n=Fh.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function ap(t){if("x"===t||"y"===t||"r"===t)return t}function lp(t,...e){if(ap(t))return t;for(const i of e){const e=i.axis||("top"===(n=i.position)||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0)||t.length>1&&ap(t[0].toLowerCase());if(e)return e}var n;throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function cp(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function up(t){const e=t.options||(t.options={});e.plugins=Mu(e.plugins,{}),e.scales=function(t,e){const n=Lh[t.type]||{scales:{}},i=e.scales||{},r=sp(t.type,e),o=Object.create(null);return Object.keys(i).forEach((e=>{const s=i[e];if(!Pu(s))return console.error(`Invalid scale configuration for scale: ${e}`);if(s._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${e}`);const a=lp(e,s,function(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter((e=>e.xAxisID===t||e.yAxisID===t));if(n.length)return cp(t,"x",n[0])||cp(t,"y",n[0])}return{}}(e,t),Fh.scales[s.type]),l=function(t,e){return t===e?"_index_":"_value_"}(a,r),c=n.scales||{};o[e]=Bu(Object.create(null),[{axis:a},s,c[a],c[l]])})),t.data.datasets.forEach((n=>{const r=n.type||t.type,s=n.indexAxis||sp(r,e),a=(Lh[r]||{}).scales||{};Object.keys(a).forEach((t=>{const e=function(t,e){let n=t;return"_index_"===t?n=e:"_value_"===t&&(n="x"===e?"y":"x"),n}(t,s),r=n[e+"AxisID"]||e;o[r]=o[r]||Object.create(null),Bu(o[r],[{axis:e},i[r],a[t]])}))})),Object.keys(o).forEach((t=>{const e=o[t];Bu(e,[Fh.scales[e.type],Fh.scale])})),o}(t,e)}function hp(t){return(t=t||{}).datasets=t.datasets||[],t.labels=t.labels||[],t}const dp=new Map,fp=new Set;function pp(t,e){let n=dp.get(t);return n||(n=e(),dp.set(t,n),fp.add(n)),n}const gp=(t,e,n)=>{const i=Hu(e,n);void 0!==i&&t.add(i)};class mp{constructor(t){this._config=function(t){return(t=t||{}).data=hp(t.data),up(t),t}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=hp(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),up(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return pp(t,(()=>[[`datasets.${t}`,""]]))}datasetAnimationScopeKeys(t,e){return pp(`${t}.transition.${e}`,(()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]]))}datasetElementScopeKeys(t,e){return pp(`${t}-${e}`,(()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]]))}pluginScopeKeys(t){const e=t.id;return pp(`${this.type}-plugin-${e}`,(()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]]))}_cachedScopes(t,e){const n=this._scopeCache;let i=n.get(t);return i&&!e||(i=new Map,n.set(t,i)),i}getOptionScopes(t,e,n){const{options:i,type:r}=this,o=this._cachedScopes(t,n),s=o.get(e);if(s)return s;const a=new Set;e.forEach((e=>{t&&(a.add(t),e.forEach((e=>gp(a,t,e)))),e.forEach((t=>gp(a,i,t))),e.forEach((t=>gp(a,Lh[r]||{},t))),e.forEach((t=>gp(a,Fh,t))),e.forEach((t=>gp(a,Rh,t)))}));const l=Array.from(a);return 0===l.length&&l.push(Object.create(null)),fp.has(e)&&o.set(e,l),l}chartOptionScopes(){const{options:t,type:e}=this;return[t,Lh[e]||{},Fh.datasets[e]||{},{type:e},Fh,Rh]}resolveNamedOptions(t,e,n,i=[""]){const r={$shared:!0},{resolver:o,subPrefixes:s}=bp(this._resolverCache,t,i);let a=o;(function(t,e){const{isScriptable:n,isIndexable:i}=cd(t);for(const r of e){const e=n(r),o=i(r),s=(o||e)&&t[r];if(e&&(Wu(s)||yp(s))||o&&Au(s))return!0}return!1})(o,e)&&(r.$shared=!1,a=ld(o,n=Wu(n)?n():n,this.createResolver(t,n,s)));for(const t of e)r[t]=a[t];return r}createResolver(t,e,n=[""],i){const{resolver:r}=bp(this._resolverCache,t,n);return Pu(e)?ld(r,e,void 0,i):r}}function bp(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const r=n.join();let o=i.get(r);return o||(o={resolver:ad(e,n),subPrefixes:n.filter((t=>!t.toLowerCase().includes("hover")))},i.set(r,o)),o}const yp=t=>Pu(t)&&Object.getOwnPropertyNames(t).some((e=>Wu(t[e]))),vp=["top","bottom","left","right","chartArea"];function _p(t,e){return"top"===t||"bottom"===t||-1===vp.indexOf(t)&&"x"===e}function xp(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function wp(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Lu(n&&n.onComplete,[t],e)}function Sp(t){const e=t.chart,n=e.options.animation;Lu(n&&n.onProgress,[t],e)}function Op(t){return _d()&&"string"==typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const kp={},Ep=t=>{const e=Op(t);return Object.values(kp).filter((t=>t.canvas===e)).pop()};function Ap(t,e,n){const i=Object.keys(t);for(const r of i){const i=+r;if(i>=e){const o=t[r];delete t[r],(n>0||i>e)&&(t[i+n]=o)}}}function Pp(t,e,n){return t.options.clip?t[n]:e[n]}class Cp{static defaults=Fh;static instances=kp;static overrides=Lh;static registry=np;static version="4.4.3";static getChart=Ep;static register(...t){np.add(...t),Tp()}static unregister(...t){np.remove(...t),Tp()}constructor(t,e){const n=this.config=new mp(e),i=Op(t),r=Ep(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(t){return!_d()||"undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas?Pf:Uf}(i)),this.platform.updateConfig(n);const s=this.platform.acquireContext(i,o.aspectRatio),a=s&&s.canvas,l=a&&a.height,c=a&&a.width;this.id=ku(),this.ctx=s,this.canvas=a,this.width=c,this.height=l,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new ip,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}((t=>this.update(t)),o.resizeDelay||0),this._dataChanges=[],kp[this.id]=this,s&&a?(Id.listen(this,"complete",wp),Id.listen(this,"progress",Sp),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:n,height:i,_aspectRatio:r}=this;return Eu(t)?e&&r?r:i?n/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return np}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Cd(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Vh(this.canvas,this.ctx),this}stop(){return Id.stop(this),this}resize(t,e){Id.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const n=this.options,i=this.canvas,r=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,t,e,r),s=n.devicePixelRatio||this.platform.getDevicePixelRatio(),a=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Cd(this,s,!0)&&(this.notifyPlugins("resize",{size:o}),Lu(n.onResize,[this,o],this),this.attached&&this._doResize(a)&&this.render())}ensureScalesHaveIDs(){Ru(this.options.scales||{},((t,e)=>{t.id=e}))}buildOrUpdateScales(){const t=this.options,e=t.scales,n=this.scales,i=Object.keys(n).reduce(((t,e)=>(t[e]=!1,t)),{});let r=[];e&&(r=r.concat(Object.keys(e).map((t=>{const n=e[t],i=lp(t,n),r="r"===i,o="x"===i;return{options:n,dposition:r?"chartArea":o?"bottom":"left",dtype:r?"radialLinear":o?"category":"linear"}})))),Ru(r,(e=>{const r=e.options,o=r.id,s=lp(o,r),a=Mu(r.type,e.dtype);void 0!==r.position&&_p(r.position,s)===_p(e.dposition)||(r.position=e.dposition),i[o]=!0;let l=null;o in n&&n[o].type===a?l=n[o]:(l=new(np.getScale(a))({id:o,type:a,ctx:this.ctx,chart:this}),n[l.id]=l),l.init(r,t)})),Ru(i,((t,e)=>{t||delete n[e]})),Ru(n,(t=>{Ef.configure(this,t,t.options),Ef.addBox(this,t)}))}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,n=t.length;if(t.sort(((t,e)=>t.index-e.index)),n>e){for(let t=e;t<n;++t)this._destroyDatasetMeta(t);t.splice(e,n-e)}this._sortedMetasets=t.slice(0).sort(xp("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach(((t,n)=>{0===e.filter((e=>e===t._dataset)).length&&this._destroyDatasetMeta(n)}))}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=e.length;n<i;n++){const i=e[n];let r=this.getDatasetMeta(n);const o=i.type||this.config.type;if(r.type&&r.type!==o&&(this._destroyDatasetMeta(n),r=this.getDatasetMeta(n)),r.type=o,r.indexAxis=i.indexAxis||sp(o,this.options),r.order=i.order||0,r.index=n,r.label=""+i.label,r.visible=this.isDatasetVisible(n),r.controller)r.controller.updateIndex(n),r.controller.linkScales();else{const e=np.getController(o),{datasetElementType:i,dataElementType:s}=Fh.datasets[o];Object.assign(e,{dataElementType:np.getElement(s),datasetElementType:i&&np.getElement(i)}),r.controller=new e(this,n),t.push(r.controller)}}return this._updateMetasets(),t}_resetElements(){Ru(this.data.datasets,((t,e)=>{this.getDatasetMeta(e).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const n=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let t=0,e=this.data.datasets.length;t<e;t++){const{controller:e}=this.getDatasetMeta(t),n=!i&&-1===r.indexOf(e);e.buildOrUpdateElements(n),o=Math.max(+e.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),i||Ru(r,(t=>{t.reset()})),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(xp("z","_idx"));const{_active:s,_lastEvent:a}=this;a?this._eventHandler(a,!0):s.length&&this._updateHoverStyles(s,s,!0),this.render()}_updateScales(){Ru(this.scales,(t=>{Ef.removeBox(this,t)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),n=new Set(t.events);qu(e,n)&&!!this._responsiveListeners===t.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:r}of e)Ap(t,i,"_removeElements"===n?-r:r)}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,n=e=>new Set(t.filter((t=>t[0]===e)).map(((t,e)=>e+","+t.splice(1).join(",")))),i=n(0);for(let t=1;t<e;t++)if(!qu(i,n(t)))return;return Array.from(i).map((t=>t.split(","))).map((t=>({method:t[1],start:+t[2],count:+t[3]})))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Ef.update(this,this.width,this.height,t);const e=this.chartArea,n=e.width<=0||e.height<=0;this._layers=[],Ru(this.boxes,(t=>{n&&"chartArea"===t.position||(t.configure&&t.configure(),this._layers.push(...t._layers()))}),this),this._layers.forEach(((t,e)=>{t._idx=e})),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let t=0,e=this.data.datasets.length;t<e;++t)this.getDatasetMeta(t).controller.configure();for(let e=0,n=this.data.datasets.length;e<n;++e)this._updateDataset(e,Wu(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const n=this.getDatasetMeta(t),i={meta:n,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",i)&&(n.controller._update(e),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Id.has(this)?this.attached&&!Id.running(this)&&Id.start(this):(this.draw(),wp({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:t,height:e}=this._resizeBeforeDraw;this._resize(t,e),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,n=[];let i,r;for(i=0,r=e.length;i<r;++i){const r=e[i];t&&!r.visible||n.push(r)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,n=t._clip,i=!n.disabled,r=function(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:Pp(n,e,"left"),right:Pp(n,e,"right"),top:Pp(i,e,"top"),bottom:Pp(i,e,"bottom")}:e}(t,this.chartArea),o={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",o)&&(i&&$h(e,{left:!1===n.left?0:r.left-n.left,right:!1===n.right?this.width:r.right+n.right,top:!1===n.top?0:r.top-n.top,bottom:!1===n.bottom?this.height:r.bottom+n.bottom}),t.controller.draw(),i&&Wh(e),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(t){return Uh(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,n,i){const r=pf.modes[e];return"function"==typeof r?r(this,t,n,i):[]}getDatasetMeta(t){const e=this.data.datasets[t],n=this._metasets;let i=n.filter((t=>t&&t._dataset===e)).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=sd(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const n=this.getDatasetMeta(t);return"boolean"==typeof n.hidden?!n.hidden:!e.hidden}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,n){const i=n?"show":"hide",r=this.getDatasetMeta(t),o=r.controller._resolveAnimations(void 0,i);$u(e)?(r.data[e].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),o.update(r,{visible:n}),this.update((e=>e.datasetIndex===t?i:void 0)))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Id.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Vh(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete kp[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,n=(n,i)=>{e.addEventListener(this,n,i),t[n]=i},i=(t,e,n)=>{t.offsetX=e,t.offsetY=n,this._eventHandler(t)};Ru(this.options.events,(t=>n(t,i)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,n=(n,i)=>{e.addEventListener(this,n,i),t[n]=i},i=(n,i)=>{t[n]&&(e.removeEventListener(this,n,i),delete t[n])},r=(t,e)=>{this.canvas&&this.resize(t,e)};let o;const s=()=>{i("attach",s),this.attached=!0,this.resize(),n("resize",r),n("detach",o)};o=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),n("attach",s)},e.isAttached(this.canvas)?s():o()}unbindEvents(){Ru(this._listeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._listeners={},Ru(this._responsiveListeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._responsiveListeners=void 0}updateHoverStyle(t,e,n){const i=n?"set":"remove";let r,o,s,a;for("dataset"===e&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),s=0,a=t.length;s<a;++s){o=t[s];const e=o&&this.getDatasetMeta(o.datasetIndex).controller;e&&e[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],n=t.map((({datasetIndex:t,index:e})=>{const n=this.getDatasetMeta(t);if(!n)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:n.data[e],index:e}}));!Du(n,e)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,e))}notifyPlugins(t,e,n){return this._plugins.notify(this,t,e,n)}isPluginEnabled(t){return 1===this._plugins._cache.filter((e=>e.plugin.id===t)).length}_updateHoverStyles(t,e,n){const i=this.options.hover,r=(t,e)=>t.filter((t=>!e.some((e=>t.datasetIndex===e.datasetIndex&&t.index===e.index)))),o=r(e,t),s=n?t:r(t,e);o.length&&this.updateHoverStyle(o,i.mode,!1),s.length&&i.mode&&this.updateHoverStyle(s,i.mode,!0)}_eventHandler(t,e){const n={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},i=e=>(e.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",n,i))return;const r=this._handleEvent(t,e,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(r||n.changed)&&this.render(),this}_handleEvent(t,e,n){const{_active:i=[],options:r}=this,o=e,s=this._getActiveElements(t,i,n,o),a=function(t){return"mouseup"===t.type||"click"===t.type||"contextmenu"===t.type}(t),l=function(t,e,n,i){return n&&"mouseout"!==t.type?i?e:t:null}(t,this._lastEvent,n,a);n&&(this._lastEvent=null,Lu(r.onHover,[t,s,this],this),a&&Lu(r.onClick,[t,s,this],this));const c=!Du(s,i);return(c||e)&&(this._active=s,this._updateHoverStyles(s,i,e)),this._lastEvent=l,c}_getActiveElements(t,e,n,i){if("mouseout"===t.type)return[];if(!n)return e;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,i)}}function Tp(){return Ru(Cp.instances,(t=>t._plugins.invalidate()))}function Mp(t,e){const{x:n,y:i,base:r,width:o,height:s}=t.getProps(["x","y","base","width","height"],e);let a,l,c,u,h;return t.horizontal?(h=s/2,a=Math.min(n,r),l=Math.max(n,r),c=i-h,u=i+h):(h=o/2,a=n-h,l=n+h,c=Math.min(i,r),u=Math.max(i,r)),{left:a,top:c,right:l,bottom:u}}function Lp(t,e,n,i){return t?0:lh(e,n,i)}function Rp(t,e,n,i){const r=null===e,o=null===n,s=t&&!(r&&o)&&Mp(t,i);return s&&(r||ch(e,s.left,s.right))&&(o||ch(n,s.top,s.bottom))}function Dp(t,e){t.rect(e.x,e.y,e.w,e.h)}function jp(t,e,n={}){const i=t.x!==n.x?-e:0,r=t.y!==n.y?-e:0,o=(t.x+t.w!==n.x+n.w?e:0)-i,s=(t.y+t.h!==n.y+n.h?e:0)-r;return{x:t.x+i,y:t.y+r,w:t.w+o,h:t.h+s,radius:t.radius}}class Ip extends $f{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:n,backgroundColor:i}}=this,{inner:r,outer:o}=function(t){const e=Mp(t),n=e.right-e.left,i=e.bottom-e.top,r=function(t,e,n){const i=t.options.borderWidth,r=t.borderSkipped,o=ed(i);return{t:Lp(r.top,o.top,0,n),r:Lp(r.right,o.right,0,e),b:Lp(r.bottom,o.bottom,0,n),l:Lp(r.left,o.left,0,e)}}(t,n/2,i/2),o=function(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,o=nd(r),s=Math.min(e,n),a=t.borderSkipped,l=i||Pu(r);return{topLeft:Lp(!l||a.top||a.left,o.topLeft,0,s),topRight:Lp(!l||a.top||a.right,o.topRight,0,s),bottomLeft:Lp(!l||a.bottom||a.left,o.bottomLeft,0,s),bottomRight:Lp(!l||a.bottom||a.right,o.bottomRight,0,s)}}(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:o},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}(this),s=(a=o.radius).topLeft||a.topRight||a.bottomLeft||a.bottomRight?Kh:Dp;var a;t.save(),o.w===r.w&&o.h===r.h||(t.beginPath(),s(t,jp(o,e,r)),t.clip(),s(t,jp(r,-e,o)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),s(t,jp(r,e)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,e,n){return Rp(this,t,e,n)}inXRange(t,e){return Rp(this,t,null,e)}inYRange(t,e){return Rp(this,null,t,e)}getCenterPoint(t){const{x:e,y:n,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(e+i)/2:e,y:r?n:(n+i)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}const Fp=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}};class Np extends $f{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,n){this.maxWidth=t,this.maxHeight=e,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=Lu(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter((e=>t.filter(e,this.chart.data)))),t.sort&&(e=e.sort(((e,n)=>t.sort(e,n,this.chart.data)))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const n=t.labels,i=rd(n.font),r=i.size,o=this._computeTitleHeight(),{boxWidth:s,itemHeight:a}=Fp(n,r);let l,c;e.font=i.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(o,r,s,a)+10):(c=this.maxHeight,l=this._fitCols(o,i,s,a)+10),this.width=Math.min(l,t.maxWidth||this.maxWidth),this.height=Math.min(c,t.maxHeight||this.maxHeight)}_fitRows(t,e,n,i){const{ctx:r,maxWidth:o,options:{labels:{padding:s}}}=this,a=this.legendHitBoxes=[],l=this.lineWidths=[0],c=i+s;let u=t;r.textAlign="left",r.textBaseline="middle";let h=-1,d=-c;return this.legendItems.forEach(((t,f)=>{const p=n+e/2+r.measureText(t.text).width;(0===f||l[l.length-1]+p+2*s>o)&&(u+=c,l[l.length-(f>0?0:1)]=0,d+=c,h++),a[f]={left:0,top:d,row:h,width:p,height:i},l[l.length-1]+=p+s})),u}_fitCols(t,e,n,i){const{ctx:r,maxHeight:o,options:{labels:{padding:s}}}=this,a=this.legendHitBoxes=[],l=this.columnSizes=[],c=o-t;let u=s,h=0,d=0,f=0,p=0;return this.legendItems.forEach(((t,o)=>{const{itemWidth:g,itemHeight:m}=function(t,e,n,i,r){const o=function(t,e,n,i){let r=t.text;return r&&"string"!=typeof r&&(r=r.reduce(((t,e)=>t.length>e.length?t:e))),e+n.size/2+i.measureText(r).width}(i,t,e,n),s=function(t,e,n){let i=t;return"string"!=typeof e.text&&(i=Bp(e,n)),i}(r,i,e.lineHeight);return{itemWidth:o,itemHeight:s}}(n,e,r,t,i);o>0&&d+m+2*s>c&&(u+=h+s,l.push({width:h,height:d}),f+=h+s,p++,h=d=0),a[o]={left:f,top:d,col:p,width:g,height:m},h=Math.max(h,g),d+=m+s})),u+=h,l.push({width:h,height:d}),u}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:n,labels:{padding:i},rtl:r}}=this,o=Ld(r,this.left,this.width);if(this.isHorizontal()){let r=0,s=yh(n,this.left+i,this.right-this.lineWidths[r]);for(const a of e)r!==a.row&&(r=a.row,s=yh(n,this.left+i,this.right-this.lineWidths[r])),a.top+=this.top+t+i,a.left=o.leftForLtr(o.x(s),a.width),s+=a.width+i}else{let r=0,s=yh(n,this.top+t+i,this.bottom-this.columnSizes[r].height);for(const a of e)a.col!==r&&(r=a.col,s=yh(n,this.top+t+i,this.bottom-this.columnSizes[r].height)),a.top=s,a.left+=this.left+i,a.left=o.leftForLtr(o.x(a.left),a.width),s+=a.height+i}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;$h(t,this),this._draw(),Wh(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:n,ctx:i}=this,{align:r,labels:o}=t,s=Fh.color,a=Ld(t.rtl,this.left,this.width),l=rd(o.font),{padding:c}=o,u=l.size,h=u/2;let d;this.drawTitle(),i.textAlign=a.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=l.string;const{boxWidth:f,boxHeight:p,itemHeight:g}=Fp(o,u),m=this.isHorizontal(),b=this._computeTitleHeight();d=m?{x:yh(r,this.left+c,this.right-n[0]),y:this.top+c+b,line:0}:{x:this.left+c,y:yh(r,this.top+b+c,this.bottom-e[0].height),line:0},Rd(this.ctx,t.textDirection);const y=g+c;this.legendItems.forEach(((v,_)=>{i.strokeStyle=v.fontColor,i.fillStyle=v.fontColor;const x=i.measureText(v.text).width,w=a.textAlign(v.textAlign||(v.textAlign=o.textAlign)),S=f+h+x;let O=d.x,k=d.y;if(a.setWidth(this.width),m?_>0&&O+S+c>this.right&&(k=d.y+=y,d.line++,O=d.x=yh(r,this.left+c,this.right-n[d.line])):_>0&&k+y>this.bottom&&(O=d.x=O+e[d.line].width+c,d.line++,k=d.y=yh(r,this.top+b+c,this.bottom-e[d.line].height)),function(t,e,n){if(isNaN(f)||f<=0||isNaN(p)||p<0)return;i.save();const r=Mu(n.lineWidth,1);if(i.fillStyle=Mu(n.fillStyle,s),i.lineCap=Mu(n.lineCap,"butt"),i.lineDashOffset=Mu(n.lineDashOffset,0),i.lineJoin=Mu(n.lineJoin,"miter"),i.lineWidth=r,i.strokeStyle=Mu(n.strokeStyle,s),i.setLineDash(Mu(n.lineDash,[])),o.usePointStyle){const s={radius:p*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:r},l=a.xPlus(t,f/2);Hh(i,s,l,e+h,o.pointStyleWidth&&f)}else{const o=e+Math.max((u-p)/2,0),s=a.leftForLtr(t,f),l=nd(n.borderRadius);i.beginPath(),Object.values(l).some((t=>0!==t))?Kh(i,{x:s,y:o,w:f,h:p,radius:l}):i.rect(s,o,f,p),i.fill(),0!==r&&i.stroke()}i.restore()}(a.x(O),k,v),O=((t,e,n,i)=>t===(i?"left":"right")?n:"center"===t?(e+n)/2:e)(w,O+f+h,m?O+S:this.right,t.rtl),function(t,e,n){Yh(i,n.text,t,e+g/2,l,{strikethrough:n.hidden,textAlign:a.textAlign(n.textAlign)})}(a.x(O),k,v),m)d.x+=S+c;else if("string"!=typeof v.text){const t=l.lineHeight;d.y+=Bp(v,t)+c}else d.y+=y})),Dd(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,n=rd(e.font),i=id(e.padding);if(!e.display)return;const r=Ld(t.rtl,this.left,this.width),o=this.ctx,s=e.position,a=n.size/2,l=i.top+a;let c,u=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),c=this.top+l,u=yh(t.align,u,this.right-h);else{const e=this.columnSizes.reduce(((t,e)=>Math.max(t,e.height)),0);c=l+yh(t.align,this.top,this.bottom-e-t.labels.padding-this._computeTitleHeight())}const d=yh(s,u,u+h);o.textAlign=r.textAlign(bh(s)),o.textBaseline="middle",o.strokeStyle=e.color,o.fillStyle=e.color,o.font=n.string,Yh(o,e.text,d,c,n)}_computeTitleHeight(){const t=this.options.title,e=rd(t.font),n=id(t.padding);return t.display?e.lineHeight+n.height:0}_getLegendItemAt(t,e){let n,i,r;if(ch(t,this.left,this.right)&&ch(e,this.top,this.bottom))for(r=this.legendHitBoxes,n=0;n<r.length;++n)if(i=r[n],ch(t,i.left,i.left+i.width)&&ch(e,i.top,i.top+i.height))return this.legendItems[n];return null}handleEvent(t){const e=this.options;if(!function(t,e){return!("mousemove"!==t&&"mouseout"!==t||!e.onHover&&!e.onLeave)||!(!e.onClick||"click"!==t&&"mouseup"!==t)}(t.type,e))return;const n=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const o=this._hoveredItem,s=(r=n,null!==(i=o)&&null!==r&&i.datasetIndex===r.datasetIndex&&i.index===r.index);o&&!s&&Lu(e.onLeave,[t,o,this],this),this._hoveredItem=n,n&&!s&&Lu(e.onHover,[t,n,this],this)}else n&&Lu(e.onClick,[t,n,this],this);var i,r}}function Bp(t,e){return e*(t.text?t.text.length:0)}var Vp={id:"legend",_element:Np,start(t,e,n){const i=t.legend=new Np({ctx:t.ctx,options:n,chart:t});Ef.configure(t,i,n),Ef.addBox(t,i)},stop(t){Ef.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;Ef.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:o,useBorderRadius:s,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map((t=>{const l=t.controller.getStyle(n?0:void 0),c=id(l.borderWidth);return{text:e[t.index].label,fillStyle:l.backgroundColor,fontColor:o,hidden:!t.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:i||l.pointStyle,rotation:l.rotation,textAlign:r||l.textAlign,borderRadius:s&&(a||l.borderRadius),datasetIndex:t.index}}),this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class zp extends $f{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const i=Au(n.text)?n.text.length:1;this._padding=id(n.padding);const r=i*rd(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:n,bottom:i,right:r,options:o}=this,s=o.align;let a,l,c,u=0;return this.isHorizontal()?(l=yh(s,n,r),c=e+t,a=r-n):("left"===o.position?(l=n+t,c=yh(s,i,e),u=-.5*Gu):(l=r-t,c=yh(s,e,i),u=.5*Gu),a=i-e),{titleX:l,titleY:c,maxWidth:a,rotation:u}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const n=rd(e.font),i=n.lineHeight/2+this._padding.top,{titleX:r,titleY:o,maxWidth:s,rotation:a}=this._drawArgs(i);Yh(t,e.text,0,0,n,{color:e.color,maxWidth:s,rotation:a,textAlign:bh(e.align),textBaseline:"middle",translation:[r,o]})}}var Hp={id:"title",_element:zp,start(t,e,n){!function(t,e){const n=new zp({ctx:t.ctx,options:e,chart:t});Ef.configure(t,n,e),Ef.addBox(t,n),t.titleBlock=n}(t,n)},stop(t){const e=t.titleBlock;Ef.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;Ef.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};new WeakMap;const Up={average(t){if(!t.length)return!1;let e,n,i=new Set,r=0,o=0;for(e=0,n=t.length;e<n;++e){const n=t[e].element;if(n&&n.hasValue()){const t=n.tooltipPosition();i.add(t.x),r+=t.y,++o}}return{x:[...i].reduce(((t,e)=>t+e))/i.size,y:r/o}},nearest(t,e){if(!t.length)return!1;let n,i,r,o=e.x,s=e.y,a=Number.POSITIVE_INFINITY;for(n=0,i=t.length;n<i;++n){const i=t[n].element;if(i&&i.hasValue()){const t=(l=e,c=i.getCenterPoint(),Math.sqrt(Math.pow(c.x-l.x,2)+Math.pow(c.y-l.y,2)));t<a&&(a=t,r=i)}}var l,c;if(r){const t=r.tooltipPosition();o=t.x,s=t.y}return{x:o,y:s}}};function $p(t,e){return e&&(Au(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Wp(t){return("string"==typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function qp(t,e){const{element:n,datasetIndex:i,index:r}=e,o=t.getDatasetMeta(i).controller,{label:s,value:a}=o.getLabelAndValue(r);return{chart:t,label:s,parsed:o.getParsed(r),raw:t.data.datasets[i].data[r],formattedValue:a,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function Gp(t,e){const n=t.chart.ctx,{body:i,footer:r,title:o}=t,{boxWidth:s,boxHeight:a}=e,l=rd(e.bodyFont),c=rd(e.titleFont),u=rd(e.footerFont),h=o.length,d=r.length,f=i.length,p=id(e.padding);let g=p.height,m=0,b=i.reduce(((t,e)=>t+e.before.length+e.lines.length+e.after.length),0);b+=t.beforeBody.length+t.afterBody.length,h&&(g+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),b&&(g+=f*(e.displayColors?Math.max(a,l.lineHeight):l.lineHeight)+(b-f)*l.lineHeight+(b-1)*e.bodySpacing),d&&(g+=e.footerMarginTop+d*u.lineHeight+(d-1)*e.footerSpacing);let y=0;const v=function(t){m=Math.max(m,n.measureText(t).width+y)};return n.save(),n.font=c.string,Ru(t.title,v),n.font=l.string,Ru(t.beforeBody.concat(t.afterBody),v),y=e.displayColors?s+2+e.boxPadding:0,Ru(i,(t=>{Ru(t.before,v),Ru(t.lines,v),Ru(t.after,v)})),y=0,n.font=u.string,Ru(t.footer,v),n.restore(),m+=p.width,{width:m,height:g}}function Yp(t,e,n,i){const{x:r,width:o}=n,{width:s,chartArea:{left:a,right:l}}=t;let c="center";return"center"===i?c=r<=(a+l)/2?"left":"right":r<=o/2?c="left":r>=s-o/2&&(c="right"),function(t,e,n,i){const{x:r,width:o}=i,s=n.caretSize+n.caretPadding;return"left"===t&&r+o+s>e.width||"right"===t&&r-o-s<0||void 0}(c,t,e,n)&&(c="center"),c}function Kp(t,e,n){const i=n.yAlign||e.yAlign||function(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}(t,n);return{xAlign:n.xAlign||e.xAlign||Yp(t,e,n,i),yAlign:i}}function Xp(t,e,n,i){const{caretSize:r,caretPadding:o,cornerRadius:s}=t,{xAlign:a,yAlign:l}=n,c=r+o,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=nd(s);let p=function(t,e){let{x:n,width:i}=t;return"right"===e?n-=i:"center"===e&&(n-=i/2),n}(e,a);const g=function(t,e,n){let{y:i,height:r}=t;return"top"===e?i+=n:i-="bottom"===e?r+n:r/2,i}(e,l,c);return"center"===l?"left"===a?p+=c:"right"===a&&(p-=c):"left"===a?p-=Math.max(u,d)+r:"right"===a&&(p+=Math.max(h,f)+r),{x:lh(p,0,i.width-e.width),y:lh(g,0,i.height-e.height)}}function Jp(t,e,n){const i=id(n.padding);return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-i.right:t.x+i.left}function Qp(t){return $p([],Wp(t))}function Zp(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const tg={beforeTitle:Ou,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:Ou,beforeBody:Ou,beforeLabel:Ou,label(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Eu(n)||(e+=n),e},labelColor(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Ou,afterBody:Ou,beforeFooter:Ou,footer:Ou,afterFooter:Ou};function eg(t,e,n,i){const r=t[e].call(n,i);return void 0===r?tg[e].call(n,i):r}class ng extends $f{static positioners=Up;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&e.options.animation&&n.animations,r=new Vd(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=sd(this.chart.getContext(),{tooltip:this,tooltipItems:this._tooltipItems,type:"tooltip"}))}getTitle(t,e){const{callbacks:n}=e,i=eg(n,"beforeTitle",this,t),r=eg(n,"title",this,t),o=eg(n,"afterTitle",this,t);let s=[];return s=$p(s,Wp(i)),s=$p(s,Wp(r)),s=$p(s,Wp(o)),s}getBeforeBody(t,e){return Qp(eg(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:n}=e,i=[];return Ru(t,(t=>{const e={before:[],lines:[],after:[]},r=Zp(n,t);$p(e.before,Wp(eg(r,"beforeLabel",this,t))),$p(e.lines,eg(r,"label",this,t)),$p(e.after,Wp(eg(r,"afterLabel",this,t))),i.push(e)})),i}getAfterBody(t,e){return Qp(eg(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:n}=e,i=eg(n,"beforeFooter",this,t),r=eg(n,"footer",this,t),o=eg(n,"afterFooter",this,t);let s=[];return s=$p(s,Wp(i)),s=$p(s,Wp(r)),s=$p(s,Wp(o)),s}_createItems(t){const e=this._active,n=this.chart.data,i=[],r=[],o=[];let s,a,l=[];for(s=0,a=e.length;s<a;++s)l.push(qp(this.chart,e[s]));return t.filter&&(l=l.filter(((e,i,r)=>t.filter(e,i,r,n)))),t.itemSort&&(l=l.sort(((e,i)=>t.itemSort(e,i,n)))),Ru(l,(e=>{const n=Zp(t.callbacks,e);i.push(eg(n,"labelColor",this,e)),r.push(eg(n,"labelPointStyle",this,e)),o.push(eg(n,"labelTextColor",this,e))})),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=l,l}update(t,e){const n=this.options.setContext(this.getContext()),i=this._active;let r,o=[];if(i.length){const t=Up[n.position].call(this,i,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const e=this._size=Gp(this,n),s=Object.assign({},t,e),a=Kp(this.chart,n,s),l=Xp(n,s,a,this.chart);this.xAlign=a.xAlign,this.yAlign=a.yAlign,r={opacity:1,x:l.x,y:l.y,width:e.width,height:e.height,caretX:t.x,caretY:t.y}}else 0!==this.opacity&&(r={opacity:0});this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,n,i){const r=this.getCaretPosition(t,n,i);e.lineTo(r.x1,r.y1),e.lineTo(r.x2,r.y2),e.lineTo(r.x3,r.y3)}getCaretPosition(t,e,n){const{xAlign:i,yAlign:r}=this,{caretSize:o,cornerRadius:s}=n,{topLeft:a,topRight:l,bottomLeft:c,bottomRight:u}=nd(s),{x:h,y:d}=t,{width:f,height:p}=e;let g,m,b,y,v,_;return"center"===r?(v=d+p/2,"left"===i?(g=h,m=g-o,y=v+o,_=v-o):(g=h+f,m=g+o,y=v-o,_=v+o),b=g):(m="left"===i?h+Math.max(a,c)+o:"right"===i?h+f-Math.max(l,u)-o:this.caretX,"top"===r?(y=d,v=y-o,g=m-o,b=m+o):(y=d+p,v=y+o,g=m+o,b=m-o),_=y),{x1:g,x2:m,x3:b,y1:y,y2:v,y3:_}}drawTitle(t,e,n){const i=this.title,r=i.length;let o,s,a;if(r){const l=Ld(n.rtl,this.x,this.width);for(t.x=Jp(this,n.titleAlign,n),e.textAlign=l.textAlign(n.titleAlign),e.textBaseline="middle",o=rd(n.titleFont),s=n.titleSpacing,e.fillStyle=n.titleColor,e.font=o.string,a=0;a<r;++a)e.fillText(i[a],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+s,a+1===r&&(t.y+=n.titleMarginBottom-s)}}_drawColorBox(t,e,n,i,r){const o=this.labelColors[n],s=this.labelPointStyles[n],{boxHeight:a,boxWidth:l}=r,c=rd(r.bodyFont),u=Jp(this,"left",r),h=i.x(u),d=a<c.lineHeight?(c.lineHeight-a)/2:0,f=e.y+d;if(r.usePointStyle){const e={radius:Math.min(l,a)/2,pointStyle:s.pointStyle,rotation:s.rotation,borderWidth:1},n=i.leftForLtr(h,l)+l/2,c=f+a/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,zh(t,e,n,c),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,zh(t,e,n,c)}else{t.lineWidth=Pu(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const e=i.leftForLtr(h,l),n=i.leftForLtr(i.xPlus(h,1),l-2),s=nd(o.borderRadius);Object.values(s).some((t=>0!==t))?(t.beginPath(),t.fillStyle=r.multiKeyBackground,Kh(t,{x:e,y:f,w:l,h:a,radius:s}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),Kh(t,{x:n,y:f+1,w:l-2,h:a-2,radius:s}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(e,f,l,a),t.strokeRect(e,f,l,a),t.fillStyle=o.backgroundColor,t.fillRect(n,f+1,l-2,a-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,e,n){const{body:i}=this,{bodySpacing:r,bodyAlign:o,displayColors:s,boxHeight:a,boxWidth:l,boxPadding:c}=n,u=rd(n.bodyFont);let h=u.lineHeight,d=0;const f=Ld(n.rtl,this.x,this.width),p=function(n){e.fillText(n,f.x(t.x+d),t.y+h/2),t.y+=h+r},g=f.textAlign(o);let m,b,y,v,_,x,w;for(e.textAlign=o,e.textBaseline="middle",e.font=u.string,t.x=Jp(this,g,n),e.fillStyle=n.bodyColor,Ru(this.beforeBody,p),d=s&&"right"!==g?"center"===o?l/2+c:l+2+c:0,v=0,x=i.length;v<x;++v){for(m=i[v],b=this.labelTextColors[v],e.fillStyle=b,Ru(m.before,p),y=m.lines,s&&y.length&&(this._drawColorBox(e,t,v,f,n),h=Math.max(u.lineHeight,a)),_=0,w=y.length;_<w;++_)p(y[_]),h=u.lineHeight;Ru(m.after,p)}d=0,h=u.lineHeight,Ru(this.afterBody,p),t.y-=r}drawFooter(t,e,n){const i=this.footer,r=i.length;let o,s;if(r){const a=Ld(n.rtl,this.x,this.width);for(t.x=Jp(this,n.footerAlign,n),t.y+=n.footerMarginTop,e.textAlign=a.textAlign(n.footerAlign),e.textBaseline="middle",o=rd(n.footerFont),e.fillStyle=n.footerColor,e.font=o.string,s=0;s<r;++s)e.fillText(i[s],a.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+n.footerSpacing}}drawBackground(t,e,n,i){const{xAlign:r,yAlign:o}=this,{x:s,y:a}=t,{width:l,height:c}=n,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=nd(i.cornerRadius);e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.beginPath(),e.moveTo(s+u,a),"top"===o&&this.drawCaret(t,e,n,i),e.lineTo(s+l-h,a),e.quadraticCurveTo(s+l,a,s+l,a+h),"center"===o&&"right"===r&&this.drawCaret(t,e,n,i),e.lineTo(s+l,a+c-f),e.quadraticCurveTo(s+l,a+c,s+l-f,a+c),"bottom"===o&&this.drawCaret(t,e,n,i),e.lineTo(s+d,a+c),e.quadraticCurveTo(s,a+c,s,a+c-d),"center"===o&&"left"===r&&this.drawCaret(t,e,n,i),e.lineTo(s,a+u),e.quadraticCurveTo(s,a,s+u,a),e.closePath(),e.fill(),i.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,n=this.$animations,i=n&&n.x,r=n&&n.y;if(i||r){const n=Up[t.position].call(this,this._active,this._eventPosition);if(!n)return;const o=this._size=Gp(this,t),s=Object.assign({},n,this._size),a=Kp(e,t,s),l=Xp(t,s,a,e);i._to===l.x&&r._to===l.y||(this.xAlign=a.xAlign,this.yAlign=a.yAlign,this.width=o.width,this.height=o.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(e);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=id(e.padding),s=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&s&&(t.save(),t.globalAlpha=n,this.drawBackground(r,t,i,e),Rd(t,e.textDirection),r.y+=o.top,this.drawTitle(r,t,e),this.drawBody(r,t,e),this.drawFooter(r,t,e),Dd(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const n=this._active,i=t.map((({datasetIndex:t,index:e})=>{const n=this.chart.getDatasetMeta(t);if(!n)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:n.data[e],index:e}})),r=!Du(n,i),o=this._positionChanged(i,e);(r||o)&&(this._active=i,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,n=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],o=this._getActiveElements(t,r,e,n),s=this._positionChanged(o,t),a=e||!Du(o,r)||s;return a&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),a}_getActiveElements(t,e,n,i){const r=this.options;if("mouseout"===t.type)return[];if(!i)return e.filter((t=>this.chart.data.datasets[t.datasetIndex]&&void 0!==this.chart.getDatasetMeta(t.datasetIndex).controller.getParsed(t.index)));const o=this.chart.getElementsAtEventForMode(t,r.mode,r,n);return r.reverse&&o.reverse(),o}_positionChanged(t,e){const{caretX:n,caretY:i,options:r}=this,o=Up[r.position].call(this,t,e);return!1!==o&&(n!==o.x||i!==o.y)}}var ig={id:"tooltip",_element:ng,positioners:Up,afterInit(t,e,n){n&&(t.tooltip=new ng({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(!1===t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0}))return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:tg},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>"filter"!==t&&"itemSort"!==t&&"external"!==t,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function rg(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class og extends Zf{static id="category";static defaults={ticks:{callback:rg}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const t=this.getLabels();for(const{index:n,label:i}of e)t[n]===i&&t.splice(n,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Eu(t))return null;const n=this.getLabels();return((t,e)=>null===t?null:lh(Math.round(t),0,e))(e=isFinite(e)&&n[e]===t?e:function(t,e,n,i){const r=t.indexOf(e);return-1===r?((t,e,n,i)=>("string"==typeof e?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n))(t,e,n,i):r!==t.lastIndexOf(e)?n:r}(n,t,Mu(e,t),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(n=0),e||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const t=this.min,e=this.max,n=this.options.offset,i=[];let r=this.getLabels();r=0===t&&e===r.length-1?r:r.slice(t,e+1),this._valueRange=Math.max(r.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let n=t;n<=e;n++)i.push({value:n});return i}getLabelForValue(t){return rg.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!=typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function sg(t,e,{horizontal:n,minRotation:i}){const r=oh(i),o=(n?Math.sin(r):Math.cos(r))||.001,s=.75*e*(""+t).length;return Math.min(e/o,s)}class ag extends Zf{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Eu(t)||("number"==typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this;const o=t=>i=e?i:t,s=t=>r=n?r:t;if(t){const t=eh(i),e=eh(r);t<0&&e<0?s(0):t>0&&e>0&&o(0)}if(i===r){let e=0===r?1:Math.abs(.05*r);s(r+e),t||o(i-e)}this.min=i,this.max=r}getTickLimit(){const t=this.options.ticks;let e,{maxTicksLimit:n,stepSize:i}=t;return i?(e=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,e>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${e} ticks. Limiting to 1000.`),e=1e3)):(e=this.computeTickLimit(),n=n||11),n&&(e=Math.min(n,e)),e}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i=function(t,e){const n=[],{bounds:i,step:r,min:o,max:s,precision:a,count:l,maxTicks:c,maxDigits:u,includeBounds:h}=t,d=r||1,f=c-1,{min:p,max:g}=e,m=!Eu(o),b=!Eu(s),y=!Eu(l),v=(g-p)/(u+1);let _,x,w,S,O=ih((g-p)/f/d)*d;if(O<1e-14&&!m&&!b)return[{value:p},{value:g}];S=Math.ceil(g/O)-Math.floor(p/O),S>f&&(O=ih(S*O/f/d)*d),Eu(a)||(_=Math.pow(10,a),O=Math.ceil(O*_)/_),"ticks"===i?(x=Math.floor(p/O)*O,w=Math.ceil(g/O)*O):(x=p,w=g),m&&b&&r&&function(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}((s-o)/r,O/1e3)?(S=Math.round(Math.min((s-o)/O,c)),O=(s-o)/S,x=o,w=s):y?(x=m?o:x,w=b?s:w,S=l-1,O=(w-x)/S):(S=(w-x)/O,S=nh(S,Math.round(S),O/1e3)?Math.round(S):Math.ceil(S));const k=Math.max(sh(O),sh(x));_=Math.pow(10,Eu(a)?k:a),x=Math.round(x*_)/_,w=Math.round(w*_)/_;let E=0;for(m&&(h&&x!==o?(n.push({value:o}),x<o&&E++,nh(Math.round((x+E*O)*_)/_,o,sg(o,v,t))&&E++):x<o&&E++);E<S;++E){const t=Math.round((x+E*O)*_)/_;if(b&&t>s)break;n.push({value:t})}return b&&h&&w!==s?n.length&&nh(n[n.length-1].value,s,sg(s,v,t))?n[n.length-1].value=s:n.push({value:s}):b&&w!==s||n.push({value:w}),n}({maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&function(t,e,n){let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i][n],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}configure(){const t=this.ticks;let e=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const i=(n-e)/Math.max(t.length-1,1)/2;e-=i,n+=i}this._startValue=e,this._endValue=n,this._valueRange=n-e}getLabelForValue(t){return Ch(t,this.chart.options.locale,this.options.ticks.format)}}class lg extends ag{static id="linear";static defaults={ticks:{callback:Mh.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Cu(t)?t:0,this.max=Cu(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,n=oh(this.options.ticks.minRotation),i=(t?Math.sin(n):Math.cos(n))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,r.lineHeight/i))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Mh.formatters.logarithmic,Mh.formatters.numeric;const cg={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},ug={ariaLabel:{type:String},ariaDescribedby:{type:String}},hg={type:{type:String,required:!0},destroyDelay:{type:Number,default:0},...cg,...ug},dg="2"===Wr[0]?(t,e)=>Object.assign(t,{attrs:e}):(t,e)=>Object.assign(t,e);function fg(t){return he(t)?de(t):t}function pg(t,e){t.labels=e}function gg(t,e,n){const i=[];t.datasets=e.map((e=>{const r=t.datasets.find((t=>t[n]===e[n]));return r&&e.data&&!i.includes(r)?(i.push(r),Object.assign(r,e),r):{...e}}))}const mg=Dn({props:hg,setup(t,e){let{expose:n,slots:i}=e;const r=ve(null),o=_e(null);return n({chart:o}),Sn((()=>{if(!r.value)return;const{type:e,data:n,options:i,plugins:s,datasetIdKey:a}=t,l=function(t,e){const n={labels:[],datasets:[]};return pg(n,t.labels),gg(n,t.datasets,e),n}(n,a),c=function(t){return he(arguments.length>1&&void 0!==arguments[1]?arguments[1]:t)?new Proxy(t,{}):t}(l,n);o.value=new Cp(r.value,{type:e,data:c,options:{...i},plugins:s})})),An((()=>{const e=de(o.value);e&&(t.destroyDelay>0?setTimeout((()=>{e.destroy(),o.value=null}),t.destroyDelay):(e.destroy(),o.value=null))})),Di([()=>t.options,()=>t.data],((e,n)=>{let[i,r]=e,[s,a]=n;const l=de(o.value);if(!l)return;let c=!1;if(i){const t=fg(i),e=fg(s);t&&t!==e&&(function(t,e){const n=t.options;n&&e&&Object.assign(n,e)}(l,t),c=!0)}if(r){const e=fg(r.labels),n=fg(a.labels),i=fg(r.datasets),o=fg(a.datasets);e!==n&&(pg(l.config.data,e),c=!0),i&&i!==o&&(gg(l.config.data,i,t.datasetIdKey),c=!0)}c&&Ne((()=>{(e=>{e.update(t.updateMode)})(l)}))}),{deep:!0}),()=>$r("canvas",{role:"img",ariaLabel:t.ariaLabel,ariaDescribedby:t.ariaDescribedby,ref:r},[$r("p",{},[i.default?i.default():""])])}});function bg(t,e){return Cp.register(e),Dn({props:cg,setup(e,n){let{expose:i}=n;const r=_e(null),o=t=>{r.value=t?.chart};return i({chart:r}),()=>$r(mg,dg({ref:o},{type:t,...e}))}})}const yg=bg("bar",lf);var vg={name:"BarChart",components:{Bar:yg},props:{chartId:{type:String,default:"bar-chart"},width:{type:Number,default:400},height:{type:Number,default:400},cssClasses:{default:"",type:String},styles:{type:Object,default:function(){}},plugins:{type:Array,default:function(){return[]}},labels:{type:Array,default:function(){return[]}},datasets:{type:Object,default:function(){}},chartOptions:{type:Object,required:!1,default:{responsive:!0,maintainAspectRatio:!1}}},computed:{chartData:function(){return{labels:this.labels,datasets:this.datasets}}}};function _g(t){return _g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_g(t)}function xg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function wg(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?xg(Object(n),!0).forEach((function(e){Sg(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xg(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Sg(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=_g(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!=_g(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==_g(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const Og={name:"Graph",components:{BarChart:Object.assign(vg,{setup:function(t){return Cp.register(Hp,ig,Vp,Ip,og,lg),function(e,n){return lr(),dr("div",null,[vr(Se(yg),{data:e.chartData,"chart-options":t.chartOptions,"chart-id":t.chartId,styles:t.styles,width:t.width,height:t.height,plugins:t.plugins,"css-classes":t.cssClasses},null,8,["data","chart-options","chart-id","styles","width","height","plugins","css-classes"])])}}})},computed:wg(wg({},Jl(["getGraphData"])),{},{graphData:function(){return{labels:this.getGraphData.labels,datasets:[{label:"Values",backgroundColor:"rgba(75, 192, 192, 1)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:5,data:this.getGraphData.values}]}}}),created:function(){this.fetchGraphData()},methods:wg({},Ql(["fetchGraphData"]))};var kg=[{path:"/",name:"Settings",component:Wc,alias:"/settings"},{path:"/table",name:"Table",component:bc},{path:"/graph",name:"Graph",component:(0,vs.A)(Og,[["render",function(t,e,n,i,r,o){var s=bn("BarChart");return lr(),dr("div",qc,[Gc,vr(s,{labels:o.graphData.labels,datasets:o.graphData.datasets,height:100},null,8,["labels","datasets"])])}]])}],Eg=function(t){const e=function(t,e){const n=[],i=new Map;function r(t,n,i){const a=!i,l=function(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:ja(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}(t);l.aliasOf=i&&i.record;const c=Na(e,t),u=[l];if("alias"in t){const e="string"==typeof t.alias?[t.alias]:t.alias;for(const t of e)u.push(Ls({},l,{components:i?i.record.components:l.components,path:t,aliasOf:i?i.record:l}))}let h,d;for(const e of u){const{path:u}=e;if(n&&"/"!==u[0]){const t=n.record.path,i="/"===t[t.length-1]?"":"/";e.path=n.record.path+(u&&i+u)}if(h=Ra(e,n,c),i?i.alias.push(h):(d=d||h,d!==h&&d.alias.push(h),a&&t.name&&!Ia(h)&&o(t.name)),Ba(h)&&s(h),l.children){const t=l.children;for(let e=0;e<t.length;e++)r(t[e],h,i&&i.children[e])}i=i||h}return d?()=>{o(d)}:Ds}function o(t){if(va(t)){const e=i.get(t);e&&(i.delete(t),n.splice(n.indexOf(e),1),e.children.forEach(o),e.alias.forEach(o))}else{const e=n.indexOf(t);e>-1&&(n.splice(e,1),t.record.name&&i.delete(t.record.name),t.children.forEach(o),t.alias.forEach(o))}}function s(t){const e=function(t,e){let n=0,i=e.length;for(;n!==i;){const r=n+i>>1;Ca(t,e[r])<0?i=r:n=r+1}const r=function(t){let e=t;for(;e=e.parent;)if(Ba(e)&&0===Ca(t,e))return e}(t);return r&&(i=e.lastIndexOf(r,i-1)),i}(t,n);n.splice(e,0,t),t.record.name&&!Ia(t)&&i.set(t.record.name,t)}return e=Na({strict:!1,end:!0,sensitive:!1},e),t.forEach((t=>r(t))),{addRoute:r,resolve:function(t,e){let r,o,s,a={};if("name"in t&&t.name){if(r=i.get(t.name),!r)throw Sa(1,{location:t});s=r.record.name,a=Ls(Da(e.params,r.keys.filter((t=>!t.optional)).concat(r.parent?r.parent.keys.filter((t=>t.optional)):[]).map((t=>t.name))),t.params&&Da(t.params,r.keys.map((t=>t.name)))),o=r.stringify(a)}else if(null!=t.path)o=t.path,r=n.find((t=>t.re.test(o))),r&&(a=r.parse(o),s=r.record.name);else{if(r=e.name?i.get(e.name):n.find((t=>t.re.test(e.path))),!r)throw Sa(1,{location:t,currentLocation:e});s=r.record.name,a=Ls({},e.params,t.params),o=r.stringify(a)}const l=[];let c=r;for(;c;)l.unshift(c.record),c=c.parent;return{name:s,path:o,params:a,matched:l,meta:Fa(l)}},removeRoute:o,getRoutes:function(){return n},getRecordMatcher:function(t){return i.get(t)}}}(t.routes,t),n=t.parseQuery||Va,i=t.stringifyQuery||za,r=t.history,o=Ya(),s=Ya(),a=Ya(),l=_e(_a);let c=_a;Ms&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Rs.bind(null,(t=>""+t)),h=Rs.bind(null,Qs),d=Rs.bind(null,Zs);function f(t,o){if(o=Ls({},o||l.value),"string"==typeof t){const i=na(n,t,o.path),s=e.resolve({path:i.path},o),a=r.createHref(i.fullPath);return Ls(i,s,{params:d(s.params),hash:Zs(i.hash),redirectedFrom:void 0,href:a})}let s;if(null!=t.path)s=Ls({},t,{path:na(n,t.path,o.path).path});else{const e=Ls({},t.params);for(const t in e)null==e[t]&&delete e[t];s=Ls({},t,{params:h(e)}),o.params=h(o.params)}const a=e.resolve(s,o),c=t.hash||"";a.params=u(d(a.params));const f=function(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}(i,Ls({},t,{hash:(p=c,Xs(p).replace(qs,"{").replace(Ys,"}").replace($s,"^")),path:a.path}));var p;const g=r.createHref(f);return Ls({fullPath:f,hash:c,query:i===za?Ha(t.query):t.query||{}},a,{redirectedFrom:void 0,href:g})}function p(t){return"string"==typeof t?na(n,t,l.value.path):Ls({},t)}function g(t,e){if(c!==t)return Sa(8,{from:e,to:t})}function m(t){return y(t)}function b(t){const e=t.matched[t.matched.length-1];if(e&&e.redirect){const{redirect:n}=e;let i="function"==typeof n?n(t):n;return"string"==typeof i&&(i=i.includes("?")||i.includes("#")?i=p(i):{path:i},i.params={}),Ls({query:t.query,hash:t.hash,params:null!=i.path?{}:t.params},i)}}function y(t,e){const n=c=f(t),r=l.value,o=t.state,s=t.force,a=!0===t.replace,u=b(n);if(u)return y(Ls(p(u),{state:"object"==typeof u?Ls({},o,u.state):o,force:s,replace:a}),e||n);const h=n;let d;return h.redirectedFrom=e,!s&&function(t,e,n){const i=e.matched.length-1,r=n.matched.length-1;return i>-1&&i===r&&ra(e.matched[i],n.matched[r])&&oa(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}(i,r,n)&&(d=Sa(16,{to:h,from:r}),T(r,r,!0,!1)),(d?Promise.resolve(d):x(h,r)).catch((t=>Oa(t)?Oa(t,2)?t:C(t):P(t,h,r))).then((t=>{if(t){if(Oa(t,2))return y(Ls({replace:a},p(t.to),{state:"object"==typeof t.to?Ls({},o,t.to.state):o,force:s}),e||h)}else t=S(h,r,!0,a,o);return w(h,r,t),t}))}function v(t,e){const n=g(t,e);return n?Promise.reject(n):Promise.resolve()}function _(t){const e=R.values().next().value;return e&&"function"==typeof e.runWithContext?e.runWithContext(t):t()}function x(t,e){let n;const[i,r,a]=function(t,e){const n=[],i=[],r=[],o=Math.max(e.matched.length,t.matched.length);for(let s=0;s<o;s++){const o=e.matched[s];o&&(t.matched.find((t=>ra(t,o)))?i.push(o):n.push(o));const a=t.matched[s];a&&(e.matched.find((t=>ra(t,a)))||r.push(a))}return[n,i,r]}(t,e);n=Xa(i.reverse(),"beforeRouteLeave",t,e);for(const r of i)r.leaveGuards.forEach((i=>{n.push(Ka(i,t,e))}));const l=v.bind(null,t,e);return n.push(l),j(n).then((()=>{n=[];for(const i of o.list())n.push(Ka(i,t,e));return n.push(l),j(n)})).then((()=>{n=Xa(r,"beforeRouteUpdate",t,e);for(const i of r)i.updateGuards.forEach((i=>{n.push(Ka(i,t,e))}));return n.push(l),j(n)})).then((()=>{n=[];for(const i of a)if(i.beforeEnter)if(js(i.beforeEnter))for(const r of i.beforeEnter)n.push(Ka(r,t,e));else n.push(Ka(i.beforeEnter,t,e));return n.push(l),j(n)})).then((()=>(t.matched.forEach((t=>t.enterCallbacks={})),n=Xa(a,"beforeRouteEnter",t,e,_),n.push(l),j(n)))).then((()=>{n=[];for(const i of s.list())n.push(Ka(i,t,e));return n.push(l),j(n)})).catch((t=>Oa(t,8)?t:Promise.reject(t)))}function w(t,e,n){a.list().forEach((i=>_((()=>i(t,e,n)))))}function S(t,e,n,i,o){const s=g(t,e);if(s)return s;const a=e===_a,c=Ms?history.state:{};n&&(i||a?r.replace(t.fullPath,Ls({scroll:a&&c&&c.scroll},o)):r.push(t.fullPath,o)),l.value=t,T(t,e,n,a),C()}let O;let k,E=Ya(),A=Ya();function P(t,e,n){C(t);const i=A.list();return i.length?i.forEach((i=>i(t,e,n))):console.error(t),Promise.reject(t)}function C(t){return k||(k=!t,O||(O=r.listen(((t,e,n)=>{if(!D.listening)return;const i=f(t),o=b(i);if(o)return void y(Ls(o,{replace:!0}),i).catch(Ds);c=i;const s=l.value;var a,u;Ms&&(a=fa(s.fullPath,n.delta),u=da(),pa.set(a,u)),x(i,s).catch((t=>Oa(t,12)?t:Oa(t,2)?(y(t.to,i).then((t=>{Oa(t,20)&&!n.delta&&n.type===la.pop&&r.go(-1,!1)})).catch(Ds),Promise.reject()):(n.delta&&r.go(-n.delta,!1),P(t,i,s)))).then((t=>{(t=t||S(i,s,!1))&&(n.delta&&!Oa(t,8)?r.go(-n.delta,!1):n.type===la.pop&&Oa(t,20)&&r.go(-1,!1)),w(i,s,t)})).catch(Ds)}))),E.list().forEach((([e,n])=>t?n(t):e())),E.reset()),t}function T(e,n,i,r){const{scrollBehavior:o}=t;if(!Ms||!o)return Promise.resolve();const s=!i&&function(t){const e=pa.get(t);return pa.delete(t),e}(fa(e.fullPath,0))||(r||!i)&&history.state&&history.state.scroll||null;return Ne().then((()=>o(e,n,s))).then((t=>t&&function(t){let e;if("el"in t){const n=t.el,i="string"==typeof n&&n.startsWith("#"),r="string"==typeof n?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=function(t,e){const n=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-n.left-(e.left||0),top:i.top-n.top-(e.top||0)}}(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(null!=e.left?e.left:window.scrollX,null!=e.top?e.top:window.scrollY)}(t))).catch((t=>P(t,e,n)))}const M=t=>r.go(t);let L;const R=new Set,D={currentRoute:l,listening:!0,addRoute:function(t,n){let i,r;return va(t)?(i=e.getRecordMatcher(t),r=n):r=t,e.addRoute(r,i)},removeRoute:function(t){const n=e.getRecordMatcher(t);n&&e.removeRoute(n)},hasRoute:function(t){return!!e.getRecordMatcher(t)},getRoutes:function(){return e.getRoutes().map((t=>t.record))},resolve:f,options:t,push:m,replace:function(t){return m(Ls(p(t),{replace:!0}))},go:M,back:()=>M(-1),forward:()=>M(1),beforeEach:o.add,beforeResolve:s.add,afterEach:a.add,onError:A.add,isReady:function(){return k&&l.value!==_a?Promise.resolve():new Promise(((t,e)=>{E.add([t,e])}))},install(t){const n=this;t.component("RouterLink",Qa),t.component("RouterView",il),t.config.globalProperties.$router=n,Object.defineProperty(t.config.globalProperties,"$route",{enumerable:!0,get:()=>Se(l)}),Ms&&!L&&l.value===_a&&(L=!0,m(r.location).catch((t=>{})));const i={};for(const t in _a)Object.defineProperty(i,t,{get:()=>l.value[t],enumerable:!0});t.provide(Wa,n),t.provide(qa,oe(i)),t.provide(Ga,l);const o=t.unmount;R.add(t),t.unmount=function(){R.delete(t),R.size<1&&(c=_a,O&&O(),O=null,l.value=_a,L=!1,k=!1),o()},__VUE_PROD_DEVTOOLS__&&Ms&&al(t,n,e)}};function j(t){return t.reduce(((t,e)=>t.then((()=>_(e)))),Promise.resolve())}return D}({history:function(t){const e=function(t){const{history:e,location:n}=window,i={value:ma(t,n)},r={value:e.state};function o(i,o,s){const a=t.indexOf("#"),l=a>-1?(n.host&&document.querySelector("base")?t:t.slice(a))+i:ga()+t+i;try{e[s?"replaceState":"pushState"](o,"",l),r.value=o}catch(t){console.error(t),n[s?"replace":"assign"](l)}}return r.value||o(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0),{location:i,state:r,push:function(t,n){const s=Ls({},r.value,e.state,{forward:t,scroll:da()});o(s.current,s,!0),o(t,Ls({},ba(i.value,t,null),{position:s.position+1},n),!1),i.value=t},replace:function(t,n){o(t,Ls({},e.state,ba(r.value.back,t,r.value.forward,!0),n,{position:r.value.position}),!0),i.value=t}}}(t=function(t){if(!t)if(Ms){const e=document.querySelector("base");t=(t=e&&e.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return"/"!==t[0]&&"#"!==t[0]&&(t="/"+t),ea(t)}(t)),n=function(t,e,n,i){let r=[],o=[],s=null;const a=({state:o})=>{const a=ma(t,location),l=n.value,c=e.value;let u=0;if(o){if(n.value=a,e.value=o,s&&s===l)return void(s=null);u=c?o.position-c.position:0}else i(a);r.forEach((t=>{t(n.value,l,{delta:u,type:la.pop,direction:u?u>0?ca.forward:ca.back:ca.unknown})}))};function l(){const{history:t}=window;t.state&&t.replaceState(Ls({},t.state,{scroll:da()}),"")}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",l,{passive:!0}),{pauseListeners:function(){s=n.value},listen:function(t){r.push(t);const e=()=>{const e=r.indexOf(t);e>-1&&r.splice(e,1)};return o.push(e),e},destroy:function(){for(const t of o)t();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",l)}}}(t,e.state,e.location,e.replace),i=Ls({location:"",base:t,go:function(t,e=!0){e||n.pauseListeners(),history.go(t)},createHref:ha.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}(wpAmVue.site.base_url),routes:kg});const Ag=Eg;var Pg=n(604),Cg=n.n(Pg);const Tg=function(t,e){var n,i,r=0;function o(){var o,s,a=n,l=arguments.length;t:for(;a;){if(a.args.length===arguments.length){for(s=0;s<l;s++)if(a.args[s]!==arguments[s]){a=a.next;continue t}return a!==n&&(a===i&&(i=a.prev),a.prev.next=a.next,a.next&&(a.next.prev=a.prev),a.next=n,a.prev=null,n.prev=a,n=a),a.val}a=a.next}for(o=new Array(l),s=0;s<l;s++)o[s]=arguments[s];return a={args:o,val:t.apply(null,o)},n?(n.prev=a,a.next=n):i=a,r===e.maxSize?(i=i.prev).next=null:r++,n=a,a.val}return e=e||{},o.clear=function(){n=null,i=null,r=0},o}(console.error);var Mg,Lg,Rg,Dg;Mg={"(":9,"!":8,"*":7,"/":7,"%":7,"+":6,"-":6,"<":5,"<=":5,">":5,">=":5,"==":4,"!=":4,"&&":3,"||":2,"?":1,"?:":1},Lg=["(","?"],Rg={")":["("],":":["?","?:"]},Dg=/<=|>=|==|!=|&&|\|\||\?:|\(|!|\*|\/|%|\+|-|<|>|\?|\)|:/;var jg={"!":function(t){return!t},"*":function(t,e){return t*e},"/":function(t,e){return t/e},"%":function(t,e){return t%e},"+":function(t,e){return t+e},"-":function(t,e){return t-e},"<":function(t,e){return t<e},"<=":function(t,e){return t<=e},">":function(t,e){return t>e},">=":function(t,e){return t>=e},"==":function(t,e){return t===e},"!=":function(t,e){return t!==e},"&&":function(t,e){return t&&e},"||":function(t,e){return t||e},"?:":function(t,e,n){if(t)throw e;return n}};var Ig={contextDelimiter:"",onMissingKey:null};function Fg(t,e){var n;for(n in this.data=t,this.pluralForms={},this.options={},Ig)this.options[n]=void 0!==e&&n in e?e[n]:Ig[n]}Fg.prototype.getPluralForm=function(t,e){var n,i,r,o,s=this.pluralForms[t];return s||("function"!=typeof(r=(n=this.data[t][""])["Plural-Forms"]||n["plural-forms"]||n.plural_forms)&&(i=function(t){var e,n,i;for(e=t.split(";"),n=0;n<e.length;n++)if(0===(i=e[n].trim()).indexOf("plural="))return i.substr(7)}(n["Plural-Forms"]||n["plural-forms"]||n.plural_forms),o=function(t){var e=function(t){for(var e,n,i,r,o=[],s=[];e=t.match(Dg);){for(n=e[0],(i=t.substr(0,e.index).trim())&&o.push(i);r=s.pop();){if(Rg[n]){if(Rg[n][0]===r){n=Rg[n][1]||n;break}}else if(Lg.indexOf(r)>=0||Mg[r]<Mg[n]){s.push(r);break}o.push(r)}Rg[n]||s.push(n),t=t.substr(e.index+n.length)}return(t=t.trim())&&o.push(t),o.concat(s.reverse())}(t);return function(t){return function(t,e){var n,i,r,o,s,a,l=[];for(n=0;n<t.length;n++){if(s=t[n],o=jg[s]){for(i=o.length,r=Array(i);i--;)r[i]=l.pop();try{a=o.apply(null,r)}catch(t){return t}}else a=e.hasOwnProperty(s)?e[s]:+s;l.push(a)}return l[0]}(e,t)}}(i),r=function(t){return+o({n:t})}),s=this.pluralForms[t]=r),s(e)},Fg.prototype.dcnpgettext=function(t,e,n,i,r){var o,s,a;return o=void 0===r?0:this.getPluralForm(t,r),s=n,e&&(s=e+this.options.contextDelimiter+n),(a=this.data[t][s])&&a[o]?a[o]:(this.options.onMissingKey&&this.options.onMissingKey(n,t),0===o?n:i)};const Ng={plural_forms:t=>1===t?0:1},Bg=/^i18n\.(n?gettext|has_translation)(_|$)/,Vg=((t,e,n)=>{const i=new Fg({}),r=new Set,o=()=>{r.forEach((t=>t()))},s=(t,e="default")=>{i.data[e]={...i.data[e],...t},i.data[e][""]={...Ng,...i.data[e]?.[""]},delete i.pluralForms[e]},a=(t,e)=>{s(t,e),o()},l=(t="default",e,n,r,o)=>(i.data[t]||s(void 0,t),i.dcnpgettext(t,e,n,r,o)),c=(t="default")=>t,u=(t,e,i)=>{let r=l(i,e,t);return n?(r=n.applyFilters("i18n.gettext_with_context",r,t,e,i),n.applyFilters("i18n.gettext_with_context_"+c(i),r,t,e,i)):r};if(n){const t=t=>{Bg.test(t)&&o()};n.addAction("hookAdded","core/i18n",t),n.addAction("hookRemoved","core/i18n",t)}return{getLocaleData:(t="default")=>i.data[t],setLocaleData:a,addLocaleData:(t,e="default")=>{i.data[e]={...i.data[e],...t,"":{...Ng,...i.data[e]?.[""],...t?.[""]}},delete i.pluralForms[e],o()},resetLocaleData:(t,e)=>{i.data={},i.pluralForms={},a(t,e)},subscribe:t=>(r.add(t),()=>r.delete(t)),__:(t,e)=>{let i=l(e,void 0,t);return n?(i=n.applyFilters("i18n.gettext",i,t,e),n.applyFilters("i18n.gettext_"+c(e),i,t,e)):i},_x:u,_n:(t,e,i,r)=>{let o=l(r,void 0,t,e,i);return n?(o=n.applyFilters("i18n.ngettext",o,t,e,i,r),n.applyFilters("i18n.ngettext_"+c(r),o,t,e,i,r)):o},_nx:(t,e,i,r,o)=>{let s=l(o,r,t,e,i);return n?(s=n.applyFilters("i18n.ngettext_with_context",s,t,e,i,r,o),n.applyFilters("i18n.ngettext_with_context_"+c(o),s,t,e,i,r,o)):s},isRTL:()=>"rtl"===u("ltr","text direction"),hasTranslation:(t,e,r)=>{const o=e?e+""+t:t;let s=!!i.data?.[null!=r?r:"default"]?.[o];return n&&(s=n.applyFilters("i18n.has_translation",s,t,e,r),s=n.applyFilters("i18n.has_translation_"+c(r),s,t,e,r)),s}}})(0,0,Uo),zg=(Vg.getLocaleData.bind(Vg),Vg.setLocaleData.bind(Vg),Vg.resetLocaleData.bind(Vg),Vg.subscribe.bind(Vg),Vg.__.bind(Vg));Vg._x.bind(Vg),Vg._n.bind(Vg),Vg._nx.bind(Vg),Vg.isRTL.bind(Vg),Vg.hasTranslation.bind(Vg),window.__=zg,window.sprintf=function(t,...e){try{return Cg().sprintf(t,...e)}catch(e){return e instanceof Error&&Tg("sprintf error: \n\n"+e.toString()),t}};const Hg={methods:{__:function(t){function e(e,n){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t,e){return __(t,e)})),sprintf:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return sprintf.apply(void 0,[t].concat(n))}))}};function Ug(t,e){return function(){return t.apply(e,arguments)}}const{toString:$g}=Object.prototype,{getPrototypeOf:Wg}=Object,qg=(Gg=Object.create(null),t=>{const e=$g.call(t);return Gg[e]||(Gg[e]=e.slice(8,-1).toLowerCase())});var Gg;const Yg=t=>(t=t.toLowerCase(),e=>qg(e)===t),Kg=t=>e=>typeof e===t,{isArray:Xg}=Array,Jg=Kg("undefined"),Qg=Yg("ArrayBuffer"),Zg=Kg("string"),tm=Kg("function"),em=Kg("number"),nm=t=>null!==t&&"object"==typeof t,im=t=>{if("object"!==qg(t))return!1;const e=Wg(t);return!(null!==e&&e!==Object.prototype&&null!==Object.getPrototypeOf(e)||Symbol.toStringTag in t||Symbol.iterator in t)},rm=Yg("Date"),om=Yg("File"),sm=Yg("Blob"),am=Yg("FileList"),lm=Yg("URLSearchParams"),[cm,um,hm,dm]=["ReadableStream","Request","Response","Headers"].map(Yg);function fm(t,e,{allOwnKeys:n=!1}={}){if(null==t)return;let i,r;if("object"!=typeof t&&(t=[t]),Xg(t))for(i=0,r=t.length;i<r;i++)e.call(null,t[i],i,t);else{const r=n?Object.getOwnPropertyNames(t):Object.keys(t),o=r.length;let s;for(i=0;i<o;i++)s=r[i],e.call(null,t[s],s,t)}}function pm(t,e){e=e.toLowerCase();const n=Object.keys(t);let i,r=n.length;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const gm="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,mm=t=>!Jg(t)&&t!==gm,bm=(ym="undefined"!=typeof Uint8Array&&Wg(Uint8Array),t=>ym&&t instanceof ym);var ym;const vm=Yg("HTMLFormElement"),_m=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),xm=Yg("RegExp"),wm=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};fm(n,((n,r)=>{let o;!1!==(o=e(n,r,t))&&(i[r]=o||n)})),Object.defineProperties(t,i)},Sm="abcdefghijklmnopqrstuvwxyz",Om="0123456789",km={DIGIT:Om,ALPHA:Sm,ALPHA_DIGIT:Sm+Sm.toUpperCase()+Om},Em=Yg("AsyncFunction"),Am={isArray:Xg,isArrayBuffer:Qg,isBuffer:function(t){return null!==t&&!Jg(t)&&null!==t.constructor&&!Jg(t.constructor)&&tm(t.constructor.isBuffer)&&t.constructor.isBuffer(t)},isFormData:t=>{let e;return t&&("function"==typeof FormData&&t instanceof FormData||tm(t.append)&&("formdata"===(e=qg(t))||"object"===e&&tm(t.toString)&&"[object FormData]"===t.toString()))},isArrayBufferView:function(t){let e;return e="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&Qg(t.buffer),e},isString:Zg,isNumber:em,isBoolean:t=>!0===t||!1===t,isObject:nm,isPlainObject:im,isReadableStream:cm,isRequest:um,isResponse:hm,isHeaders:dm,isUndefined:Jg,isDate:rm,isFile:om,isBlob:sm,isRegExp:xm,isFunction:tm,isStream:t=>nm(t)&&tm(t.pipe),isURLSearchParams:lm,isTypedArray:bm,isFileList:am,forEach:fm,merge:function t(){const{caseless:e}=mm(this)&&this||{},n={},i=(i,r)=>{const o=e&&pm(n,r)||r;im(n[o])&&im(i)?n[o]=t(n[o],i):im(i)?n[o]=t({},i):Xg(i)?n[o]=i.slice():n[o]=i};for(let t=0,e=arguments.length;t<e;t++)arguments[t]&&fm(arguments[t],i);return n},extend:(t,e,n,{allOwnKeys:i}={})=>(fm(e,((e,i)=>{n&&tm(e)?t[i]=Ug(e,n):t[i]=e}),{allOwnKeys:i}),t),trim:t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:t=>(65279===t.charCodeAt(0)&&(t=t.slice(1)),t),inherits:(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},toFlatObject:(t,e,n,i)=>{let r,o,s;const a={};if(e=e||{},null==t)return e;do{for(r=Object.getOwnPropertyNames(t),o=r.length;o-- >0;)s=r[o],i&&!i(s,t,e)||a[s]||(e[s]=t[s],a[s]=!0);t=!1!==n&&Wg(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},kindOf:qg,kindOfTest:Yg,endsWith:(t,e,n)=>{t=String(t),(void 0===n||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return-1!==i&&i===n},toArray:t=>{if(!t)return null;if(Xg(t))return t;let e=t.length;if(!em(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},forEachEntry:(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=n.next())&&!i.done;){const n=i.value;e.call(t,n[0],n[1])}},matchAll:(t,e)=>{let n;const i=[];for(;null!==(n=t.exec(e));)i.push(n);return i},isHTMLForm:vm,hasOwnProperty:_m,hasOwnProp:_m,reduceDescriptors:wm,freezeMethods:t=>{wm(t,((e,n)=>{if(tm(t)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const i=t[n];tm(i)&&(e.enumerable=!1,"writable"in e?e.writable=!1:e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(t,e)=>{const n={},i=t=>{t.forEach((t=>{n[t]=!0}))};return Xg(t)?i(t):i(String(t).split(e)),n},toCamelCase:t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(t,e,n){return e.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(t,e)=>null!=t&&Number.isFinite(t=+t)?t:e,findKey:pm,global:gm,isContextDefined:mm,ALPHABET:km,generateString:(t=16,e=km.ALPHA_DIGIT)=>{let n="";const{length:i}=e;for(;t--;)n+=e[Math.random()*i|0];return n},isSpecCompliantForm:function(t){return!!(t&&tm(t.append)&&"FormData"===t[Symbol.toStringTag]&&t[Symbol.iterator])},toJSONObject:t=>{const e=new Array(10),n=(t,i)=>{if(nm(t)){if(e.indexOf(t)>=0)return;if(!("toJSON"in t)){e[i]=t;const r=Xg(t)?[]:{};return fm(t,((t,e)=>{const o=n(t,i+1);!Jg(o)&&(r[e]=o)})),e[i]=void 0,r}}return t};return n(t,0)},isAsyncFn:Em,isThenable:t=>t&&(nm(t)||tm(t))&&tm(t.then)&&tm(t.catch)};function Pm(t,e,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r)}Am.inherits(Pm,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Am.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Cm=Pm.prototype,Tm={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((t=>{Tm[t]={value:t}})),Object.defineProperties(Pm,Tm),Object.defineProperty(Cm,"isAxiosError",{value:!0}),Pm.from=(t,e,n,i,r,o)=>{const s=Object.create(Cm);return Am.toFlatObject(t,s,(function(t){return t!==Error.prototype}),(t=>"isAxiosError"!==t)),Pm.call(s,t.message,e,n,i,r),s.cause=t,s.name=t.name,o&&Object.assign(s,o),s};const Mm=Pm;function Lm(t){return Am.isPlainObject(t)||Am.isArray(t)}function Rm(t){return Am.endsWith(t,"[]")?t.slice(0,-2):t}function Dm(t,e,n){return t?t.concat(e).map((function(t,e){return t=Rm(t),!n&&e?"["+t+"]":t})).join(n?".":""):e}const jm=Am.toFlatObject(Am,{},null,(function(t){return/^is[A-Z]/.test(t)})),Im=function(t,e,n){if(!Am.isObject(t))throw new TypeError("target must be an object");e=e||new FormData;const i=(n=Am.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(t,e){return!Am.isUndefined(e[t])}))).metaTokens,r=n.visitor||c,o=n.dots,s=n.indexes,a=(n.Blob||"undefined"!=typeof Blob&&Blob)&&Am.isSpecCompliantForm(e);if(!Am.isFunction(r))throw new TypeError("visitor must be a function");function l(t){if(null===t)return"";if(Am.isDate(t))return t.toISOString();if(!a&&Am.isBlob(t))throw new Mm("Blob is not supported. Use a Buffer instead.");return Am.isArrayBuffer(t)||Am.isTypedArray(t)?a&&"function"==typeof Blob?new Blob([t]):Buffer.from(t):t}function c(t,n,r){let a=t;if(t&&!r&&"object"==typeof t)if(Am.endsWith(n,"{}"))n=i?n:n.slice(0,-2),t=JSON.stringify(t);else if(Am.isArray(t)&&function(t){return Am.isArray(t)&&!t.some(Lm)}(t)||(Am.isFileList(t)||Am.endsWith(n,"[]"))&&(a=Am.toArray(t)))return n=Rm(n),a.forEach((function(t,i){!Am.isUndefined(t)&&null!==t&&e.append(!0===s?Dm([n],i,o):null===s?n:n+"[]",l(t))})),!1;return!!Lm(t)||(e.append(Dm(r,n,o),l(t)),!1)}const u=[],h=Object.assign(jm,{defaultVisitor:c,convertValue:l,isVisitable:Lm});if(!Am.isObject(t))throw new TypeError("data must be an object");return function t(n,i){if(!Am.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+i.join("."));u.push(n),Am.forEach(n,(function(n,o){!0===(!(Am.isUndefined(n)||null===n)&&r.call(e,n,Am.isString(o)?o.trim():o,i,h))&&t(n,i?i.concat(o):[o])})),u.pop()}}(t),e};function Fm(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,(function(t){return e[t]}))}function Nm(t,e){this._pairs=[],t&&Im(t,this,e)}const Bm=Nm.prototype;Bm.append=function(t,e){this._pairs.push([t,e])},Bm.toString=function(t){const e=t?function(e){return t.call(this,e,Fm)}:Fm;return this._pairs.map((function(t){return e(t[0])+"="+e(t[1])}),"").join("&")};const Vm=Nm;function zm(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Hm(t,e,n){if(!e)return t;const i=n&&n.encode||zm,r=n&&n.serialize;let o;if(o=r?r(e,n):Am.isURLSearchParams(e)?e.toString():new Vm(e,n).toString(i),o){const e=t.indexOf("#");-1!==e&&(t=t.slice(0,e)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}const Um=class{constructor(){this.handlers=[]}use(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Am.forEach(this.handlers,(function(e){null!==e&&t(e)}))}},$m={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Wm={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:Vm,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},qm="undefined"!=typeof window&&"undefined"!=typeof document,Gm=(Ym="undefined"!=typeof navigator&&navigator.product,qm&&["ReactNative","NativeScript","NS"].indexOf(Ym)<0);var Ym;const Km="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,Xm=qm&&window.location.href||"http://localhost",Jm={...t,...Wm},Qm=function(t){function e(t,n,i,r){let o=t[r++];if("__proto__"===o)return!0;const s=Number.isFinite(+o),a=r>=t.length;return o=!o&&Am.isArray(i)?i.length:o,a?(Am.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!s):(i[o]&&Am.isObject(i[o])||(i[o]=[]),e(t,n,i[o],r)&&Am.isArray(i[o])&&(i[o]=function(t){const e={},n=Object.keys(t);let i;const r=n.length;let o;for(i=0;i<r;i++)o=n[i],e[o]=t[o];return e}(i[o])),!s)}if(Am.isFormData(t)&&Am.isFunction(t.entries)){const n={};return Am.forEachEntry(t,((t,i)=>{e(function(t){return Am.matchAll(/\w+|\[(\w*)]/g,t).map((t=>"[]"===t[0]?"":t[1]||t[0]))}(t),i,n,0)})),n}return null},Zm={transitional:$m,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){const n=e.getContentType()||"",i=n.indexOf("application/json")>-1,r=Am.isObject(t);if(r&&Am.isHTMLForm(t)&&(t=new FormData(t)),Am.isFormData(t))return i?JSON.stringify(Qm(t)):t;if(Am.isArrayBuffer(t)||Am.isBuffer(t)||Am.isStream(t)||Am.isFile(t)||Am.isBlob(t)||Am.isReadableStream(t))return t;if(Am.isArrayBufferView(t))return t.buffer;if(Am.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(t,e){return Im(t,new Jm.classes.URLSearchParams,Object.assign({visitor:function(t,e,n,i){return Jm.isNode&&Am.isBuffer(t)?(this.append(e,t.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}(t,this.formSerializer).toString();if((o=Am.isFileList(t))||n.indexOf("multipart/form-data")>-1){const e=this.env&&this.env.FormData;return Im(o?{"files[]":t}:t,e&&new e,this.formSerializer)}}return r||i?(e.setContentType("application/json",!1),function(t,e,n){if(Am.isString(t))try{return(0,JSON.parse)(t),Am.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(0,JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){const e=this.transitional||Zm.transitional,n=e&&e.forcedJSONParsing,i="json"===this.responseType;if(Am.isResponse(t)||Am.isReadableStream(t))return t;if(t&&Am.isString(t)&&(n&&!this.responseType||i)){const n=!(e&&e.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(t){if(n){if("SyntaxError"===t.name)throw Mm.from(t,Mm.ERR_BAD_RESPONSE,this,null,this.response);throw t}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Jm.classes.FormData,Blob:Jm.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Am.forEach(["delete","get","head","post","put","patch"],(t=>{Zm.headers[t]={}}));const tb=Zm,eb=Am.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),nb=Symbol("internals");function ib(t){return t&&String(t).trim().toLowerCase()}function rb(t){return!1===t||null==t?t:Am.isArray(t)?t.map(rb):String(t)}function ob(t,e,n,i,r){return Am.isFunction(i)?i.call(this,e,n):(r&&(e=n),Am.isString(e)?Am.isString(i)?-1!==e.indexOf(i):Am.isRegExp(i)?i.test(e):void 0:void 0)}class sb{constructor(t){t&&this.set(t)}set(t,e,n){const i=this;function r(t,e,n){const r=ib(e);if(!r)throw new Error("header name must be a non-empty string");const o=Am.findKey(i,r);(!o||void 0===i[o]||!0===n||void 0===n&&!1!==i[o])&&(i[o||e]=rb(t))}const o=(t,e)=>Am.forEach(t,((t,n)=>r(t,n,e)));if(Am.isPlainObject(t)||t instanceof this.constructor)o(t,e);else if(Am.isString(t)&&(t=t.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim()))o((t=>{const e={};let n,i,r;return t&&t.split("\n").forEach((function(t){r=t.indexOf(":"),n=t.substring(0,r).trim().toLowerCase(),i=t.substring(r+1).trim(),!n||e[n]&&eb[n]||("set-cookie"===n?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)})),e})(t),e);else if(Am.isHeaders(t))for(const[e,i]of t.entries())r(i,e,n);else null!=t&&r(e,t,n);return this}get(t,e){if(t=ib(t)){const n=Am.findKey(this,t);if(n){const t=this[n];if(!e)return t;if(!0===e)return function(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}(t);if(Am.isFunction(e))return e.call(this,t,n);if(Am.isRegExp(e))return e.exec(t);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=ib(t)){const n=Am.findKey(this,t);return!(!n||void 0===this[n]||e&&!ob(0,this[n],n,e))}return!1}delete(t,e){const n=this;let i=!1;function r(t){if(t=ib(t)){const r=Am.findKey(n,t);!r||e&&!ob(0,n[r],r,e)||(delete n[r],i=!0)}}return Am.isArray(t)?t.forEach(r):r(t),i}clear(t){const e=Object.keys(this);let n=e.length,i=!1;for(;n--;){const r=e[n];t&&!ob(0,this[r],r,t,!0)||(delete this[r],i=!0)}return i}normalize(t){const e=this,n={};return Am.forEach(this,((i,r)=>{const o=Am.findKey(n,r);if(o)return e[o]=rb(i),void delete e[r];const s=t?function(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((t,e,n)=>e.toUpperCase()+n))}(r):String(r).trim();s!==r&&delete e[r],e[s]=rb(i),n[s]=!0})),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return Am.forEach(this,((n,i)=>{null!=n&&!1!==n&&(e[i]=t&&Am.isArray(n)?n.join(", "):n)})),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([t,e])=>t+": "+e)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const n=new this(t);return e.forEach((t=>n.set(t))),n}static accessor(t){const e=(this[nb]=this[nb]={accessors:{}}).accessors,n=this.prototype;function i(t){const i=ib(t);e[i]||(function(t,e){const n=Am.toCamelCase(" "+e);["get","set","has"].forEach((i=>{Object.defineProperty(t,i+n,{value:function(t,n,r){return this[i].call(this,e,t,n,r)},configurable:!0})}))}(n,t),e[i]=!0)}return Am.isArray(t)?t.forEach(i):i(t),this}}sb.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Am.reduceDescriptors(sb.prototype,(({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(t){this[n]=t}}})),Am.freezeMethods(sb);const ab=sb;function lb(t,e){const n=this||tb,i=e||n,r=ab.from(i.headers);let o=i.data;return Am.forEach(t,(function(t){o=t.call(n,o,r.normalize(),e?e.status:void 0)})),r.normalize(),o}function cb(t){return!(!t||!t.__CANCEL__)}function ub(t,e,n){Mm.call(this,null==t?"canceled":t,Mm.ERR_CANCELED,e,n),this.name="CanceledError"}Am.inherits(ub,Mm,{__CANCEL__:!0});const hb=ub;function db(t,e,n){const i=n.config.validateStatus;n.status&&i&&!i(n.status)?e(new Mm("Request failed with status code "+n.status,[Mm.ERR_BAD_REQUEST,Mm.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):t(n)}const fb=(t,e,n=3)=>{let i=0;const r=function(t,e){t=t||10;const n=new Array(t),i=new Array(t);let r,o=0,s=0;return e=void 0!==e?e:1e3,function(a){const l=Date.now(),c=i[s];r||(r=l),n[o]=a,i[o]=l;let u=s,h=0;for(;u!==o;)h+=n[u++],u%=t;if(o=(o+1)%t,o===s&&(s=(s+1)%t),l-r<e)return;const d=c&&l-c;return d?Math.round(1e3*h/d):void 0}}(50,250);return function(t,e){let n=0;const i=1e3/e;let r=null;return function(){const e=!0===this,o=Date.now();if(e||o-n>i)return r&&(clearTimeout(r),r=null),n=o,t.apply(null,arguments);r||(r=setTimeout((()=>(r=null,n=Date.now(),t.apply(null,arguments))),i-(o-n)))}}((n=>{const o=n.loaded,s=n.lengthComputable?n.total:void 0,a=o-i,l=r(a);i=o;const c={loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:l||void 0,estimated:l&&s&&o<=s?(s-o)/l:void 0,event:n,lengthComputable:null!=s};c[e?"download":"upload"]=!0,t(c)}),n)},pb=Jm.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");let n;function i(n){let i=n;return t&&(e.setAttribute("href",i),i=e.href),e.setAttribute("href",i),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:"/"===e.pathname.charAt(0)?e.pathname:"/"+e.pathname}}return n=i(window.location.href),function(t){const e=Am.isString(t)?i(t):t;return e.protocol===n.protocol&&e.host===n.host}}():function(){return!0},gb=Jm.hasStandardBrowserEnv?{write(t,e,n,i,r,o){const s=[t+"="+encodeURIComponent(e)];Am.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),Am.isString(i)&&s.push("path="+i),Am.isString(r)&&s.push("domain="+r),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function mb(t,e){return t&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)?function(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}(t,e):e}const bb=t=>t instanceof ab?{...t}:t;function yb(t,e){e=e||{};const n={};function i(t,e,n){return Am.isPlainObject(t)&&Am.isPlainObject(e)?Am.merge.call({caseless:n},t,e):Am.isPlainObject(e)?Am.merge({},e):Am.isArray(e)?e.slice():e}function r(t,e,n){return Am.isUndefined(e)?Am.isUndefined(t)?void 0:i(void 0,t,n):i(t,e,n)}function o(t,e){if(!Am.isUndefined(e))return i(void 0,e)}function s(t,e){return Am.isUndefined(e)?Am.isUndefined(t)?void 0:i(void 0,t):i(void 0,e)}function a(n,r,o){return o in e?i(n,r):o in t?i(void 0,n):void 0}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(t,e)=>r(bb(t),bb(e),!0)};return Am.forEach(Object.keys(Object.assign({},t,e)),(function(i){const o=l[i]||r,s=o(t[i],e[i],i);Am.isUndefined(s)&&o!==a||(n[i]=s)})),n}const vb=t=>{const e=yb({},t);let n,{data:i,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:s,headers:a,auth:l}=e;if(e.headers=a=ab.from(a),e.url=Hm(mb(e.baseURL,e.url),t.params,t.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Am.isFormData(i))if(Jm.hasStandardBrowserEnv||Jm.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(n=a.getContentType())){const[t,...e]=n?n.split(";").map((t=>t.trim())).filter(Boolean):[];a.setContentType([t||"multipart/form-data",...e].join("; "))}if(Jm.hasStandardBrowserEnv&&(r&&Am.isFunction(r)&&(r=r(e)),r||!1!==r&&pb(e.url))){const t=o&&s&&gb.read(s);t&&a.set(o,t)}return e},_b="undefined"!=typeof XMLHttpRequest&&function(t){return new Promise((function(e,n){const i=vb(t);let r=i.data;const o=ab.from(i.headers).normalize();let s,{responseType:a}=i;function l(){i.cancelToken&&i.cancelToken.unsubscribe(s),i.signal&&i.signal.removeEventListener("abort",s)}let c=new XMLHttpRequest;function u(){if(!c)return;const i=ab.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders());db((function(t){e(t),l()}),(function(t){n(t),l()}),{data:a&&"text"!==a&&"json"!==a?c.response:c.responseText,status:c.status,statusText:c.statusText,headers:i,config:t,request:c}),c=null}c.open(i.method.toUpperCase(),i.url,!0),c.timeout=i.timeout,"onloadend"in c?c.onloadend=u:c.onreadystatechange=function(){c&&4===c.readyState&&(0!==c.status||c.responseURL&&0===c.responseURL.indexOf("file:"))&&setTimeout(u)},c.onabort=function(){c&&(n(new Mm("Request aborted",Mm.ECONNABORTED,i,c)),c=null)},c.onerror=function(){n(new Mm("Network Error",Mm.ERR_NETWORK,i,c)),c=null},c.ontimeout=function(){let t=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const e=i.transitional||$m;i.timeoutErrorMessage&&(t=i.timeoutErrorMessage),n(new Mm(t,e.clarifyTimeoutError?Mm.ETIMEDOUT:Mm.ECONNABORTED,i,c)),c=null},void 0===r&&o.setContentType(null),"setRequestHeader"in c&&Am.forEach(o.toJSON(),(function(t,e){c.setRequestHeader(e,t)})),Am.isUndefined(i.withCredentials)||(c.withCredentials=!!i.withCredentials),a&&"json"!==a&&(c.responseType=i.responseType),"function"==typeof i.onDownloadProgress&&c.addEventListener("progress",fb(i.onDownloadProgress,!0)),"function"==typeof i.onUploadProgress&&c.upload&&c.upload.addEventListener("progress",fb(i.onUploadProgress)),(i.cancelToken||i.signal)&&(s=e=>{c&&(n(!e||e.type?new hb(null,t,c):e),c.abort(),c=null)},i.cancelToken&&i.cancelToken.subscribe(s),i.signal&&(i.signal.aborted?s():i.signal.addEventListener("abort",s)));const h=function(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}(i.url);h&&-1===Jm.protocols.indexOf(h)?n(new Mm("Unsupported protocol "+h+":",Mm.ERR_BAD_REQUEST,t)):c.send(r||null)}))},xb=(t,e)=>{let n,i=new AbortController;const r=function(t){if(!n){n=!0,s();const e=t instanceof Error?t:this.reason;i.abort(e instanceof Mm?e:new hb(e instanceof Error?e.message:e))}};let o=e&&setTimeout((()=>{r(new Mm(`timeout ${e} of ms exceeded`,Mm.ETIMEDOUT))}),e);const s=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach((t=>{t&&(t.removeEventListener?t.removeEventListener("abort",r):t.unsubscribe(r))})),t=null)};t.forEach((t=>t&&t.addEventListener&&t.addEventListener("abort",r)));const{signal:a}=i;return a.unsubscribe=s,[a,()=>{o&&clearTimeout(o),o=null}]},wb=function*(t,e){let n=t.byteLength;if(!e||n<e)return void(yield t);let i,r=0;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},Sb=(t,e,n,i,r)=>{const o=async function*(t,e,n){for await(const i of t)yield*wb(ArrayBuffer.isView(i)?i:await n(String(i)),e)}(t,e,r);let s=0;return new ReadableStream({type:"bytes",async pull(t){const{done:e,value:r}=await o.next();if(e)return t.close(),void i();let a=r.byteLength;n&&n(s+=a),t.enqueue(new Uint8Array(r))},cancel:t=>(i(t),o.return())},{highWaterMark:2})},Ob=(t,e)=>{const n=null!=t;return i=>setTimeout((()=>e({lengthComputable:n,total:t,loaded:i})))},kb="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,Eb=kb&&"function"==typeof ReadableStream,Ab=kb&&("function"==typeof TextEncoder?(Pb=new TextEncoder,t=>Pb.encode(t)):async t=>new Uint8Array(await new Response(t).arrayBuffer()));var Pb;const Cb=Eb&&(()=>{let t=!1;const e=new Request(Jm.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e})(),Tb=Eb&&!!(()=>{try{return Am.isReadableStream(new Response("").body)}catch(t){}})(),Mb={stream:Tb&&(t=>t.body)};var Lb;kb&&(Lb=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((t=>{!Mb[t]&&(Mb[t]=Am.isFunction(Lb[t])?e=>e[t]():(e,n)=>{throw new Mm(`Response type '${t}' is not supported`,Mm.ERR_NOT_SUPPORT,n)})})));const Rb=kb&&(async t=>{let{url:e,method:n,data:i,signal:r,cancelToken:o,timeout:s,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:h="same-origin",fetchOptions:d}=vb(t);c=c?(c+"").toLowerCase():"text";let f,p,[g,m]=r||o||s?xb([r,o],s):[];const b=()=>{!f&&setTimeout((()=>{g&&g.unsubscribe()})),f=!0};let y;try{if(l&&Cb&&"get"!==n&&"head"!==n&&0!==(y=await(async(t,e)=>{const n=Am.toFiniteNumber(t.getContentLength());return null==n?(async t=>null==t?0:Am.isBlob(t)?t.size:Am.isSpecCompliantForm(t)?(await new Request(t).arrayBuffer()).byteLength:Am.isArrayBufferView(t)?t.byteLength:(Am.isURLSearchParams(t)&&(t+=""),Am.isString(t)?(await Ab(t)).byteLength:void 0))(e):n})(u,i))){let t,n=new Request(e,{method:"POST",body:i,duplex:"half"});Am.isFormData(i)&&(t=n.headers.get("content-type"))&&u.setContentType(t),n.body&&(i=Sb(n.body,65536,Ob(y,fb(l)),null,Ab))}Am.isString(h)||(h=h?"cors":"omit"),p=new Request(e,{...d,signal:g,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:i,duplex:"half",withCredentials:h});let r=await fetch(p);const o=Tb&&("stream"===c||"response"===c);if(Tb&&(a||o)){const t={};["status","statusText","headers"].forEach((e=>{t[e]=r[e]}));const e=Am.toFiniteNumber(r.headers.get("content-length"));r=new Response(Sb(r.body,65536,a&&Ob(e,fb(a,!0)),o&&b,Ab),t)}c=c||"text";let s=await Mb[Am.findKey(Mb,c)||"text"](r,t);return!o&&b(),m&&m(),await new Promise(((e,n)=>{db(e,n,{data:s,headers:ab.from(r.headers),status:r.status,statusText:r.statusText,config:t,request:p})}))}catch(e){if(b(),e&&"TypeError"===e.name&&/fetch/i.test(e.message))throw Object.assign(new Mm("Network Error",Mm.ERR_NETWORK,t,p),{cause:e.cause||e});throw Mm.from(e,e&&e.code,t,p)}}),Db={http:null,xhr:_b,fetch:Rb};Am.forEach(Db,((t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch(t){}Object.defineProperty(t,"adapterName",{value:e})}}));const jb=t=>`- ${t}`,Ib=t=>Am.isFunction(t)||null===t||!1===t,Fb=t=>{t=Am.isArray(t)?t:[t];const{length:e}=t;let n,i;const r={};for(let o=0;o<e;o++){let e;if(n=t[o],i=n,!Ib(n)&&(i=Db[(e=String(n)).toLowerCase()],void 0===i))throw new Mm(`Unknown adapter '${e}'`);if(i)break;r[e||"#"+o]=i}if(!i){const t=Object.entries(r).map((([t,e])=>`adapter ${t} `+(!1===e?"is not supported by the environment":"is not available in the build")));let n=e?t.length>1?"since :\n"+t.map(jb).join("\n"):" "+jb(t[0]):"as no adapter specified";throw new Mm("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return i};function Nb(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new hb(null,t)}function Bb(t){return Nb(t),t.headers=ab.from(t.headers),t.data=lb.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Fb(t.adapter||tb.adapter)(t).then((function(e){return Nb(t),e.data=lb.call(t,t.transformResponse,e),e.headers=ab.from(e.headers),e}),(function(e){return cb(e)||(Nb(t),e&&e.response&&(e.response.data=lb.call(t,t.transformResponse,e.response),e.response.headers=ab.from(e.response.headers))),Promise.reject(e)}))}const Vb={};["object","boolean","number","function","string","symbol"].forEach(((t,e)=>{Vb[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}}));const zb={};Vb.transitional=function(t,e,n){function i(t,e){return"[Axios v1.7.2] Transitional option '"+t+"'"+e+(n?". "+n:"")}return(n,r,o)=>{if(!1===t)throw new Mm(i(r," has been removed"+(e?" in "+e:"")),Mm.ERR_DEPRECATED);return e&&!zb[r]&&(zb[r]=!0,console.warn(i(r," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,r,o)}};const Hb={assertOptions:function(t,e,n){if("object"!=typeof t)throw new Mm("options must be an object",Mm.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let r=i.length;for(;r-- >0;){const o=i[r],s=e[o];if(s){const e=t[o],n=void 0===e||s(e,o,t);if(!0!==n)throw new Mm("option "+o+" must be "+n,Mm.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Mm("Unknown option "+o,Mm.ERR_BAD_OPTION)}},validators:Vb},Ub=Hb.validators;class $b{constructor(t){this.defaults=t,this.interceptors={request:new Um,response:new Um}}async request(t,e){try{return await this._request(t,e)}catch(t){if(t instanceof Error){let e;Error.captureStackTrace?Error.captureStackTrace(e={}):e=new Error;const n=e.stack?e.stack.replace(/^.+\n/,""):"";try{t.stack?n&&!String(t.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(t.stack+="\n"+n):t.stack=n}catch(t){}}throw t}}_request(t,e){"string"==typeof t?(e=e||{}).url=t:e=t||{},e=yb(this.defaults,e);const{transitional:n,paramsSerializer:i,headers:r}=e;void 0!==n&&Hb.assertOptions(n,{silentJSONParsing:Ub.transitional(Ub.boolean),forcedJSONParsing:Ub.transitional(Ub.boolean),clarifyTimeoutError:Ub.transitional(Ub.boolean)},!1),null!=i&&(Am.isFunction(i)?e.paramsSerializer={serialize:i}:Hb.assertOptions(i,{encode:Ub.function,serialize:Ub.function},!0)),e.method=(e.method||this.defaults.method||"get").toLowerCase();let o=r&&Am.merge(r.common,r[e.method]);r&&Am.forEach(["delete","get","head","post","put","patch","common"],(t=>{delete r[t]})),e.headers=ab.concat(o,r);const s=[];let a=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(a=a&&t.synchronous,s.unshift(t.fulfilled,t.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(t){l.push(t.fulfilled,t.rejected)}));let u,h=0;if(!a){const t=[Bb.bind(this),void 0];for(t.unshift.apply(t,s),t.push.apply(t,l),u=t.length,c=Promise.resolve(e);h<u;)c=c.then(t[h++],t[h++]);return c}u=s.length;let d=e;for(h=0;h<u;){const t=s[h++],e=s[h++];try{d=t(d)}catch(t){e.call(this,t);break}}try{c=Bb.call(this,d)}catch(t){return Promise.reject(t)}for(h=0,u=l.length;h<u;)c=c.then(l[h++],l[h++]);return c}getUri(t){return Hm(mb((t=yb(this.defaults,t)).baseURL,t.url),t.params,t.paramsSerializer)}}Am.forEach(["delete","get","head","options"],(function(t){$b.prototype[t]=function(e,n){return this.request(yb(n||{},{method:t,url:e,data:(n||{}).data}))}})),Am.forEach(["post","put","patch"],(function(t){function e(e){return function(n,i,r){return this.request(yb(r||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:n,data:i}))}}$b.prototype[t]=e(),$b.prototype[t+"Form"]=e(!0)}));const Wb=$b;class qb{constructor(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");let e;this.promise=new Promise((function(t){e=t}));const n=this;this.promise.then((t=>{if(!n._listeners)return;let e=n._listeners.length;for(;e-- >0;)n._listeners[e](t);n._listeners=null})),this.promise.then=t=>{let e;const i=new Promise((t=>{n.subscribe(t),e=t})).then(t);return i.cancel=function(){n.unsubscribe(e)},i},t((function(t,i,r){n.reason||(n.reason=new hb(t,i,r),e(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}static source(){let t;return{token:new qb((function(e){t=e})),cancel:t}}}const Gb=qb,Yb={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Yb).forEach((([t,e])=>{Yb[e]=t}));const Kb=Yb,Xb=function t(e){const n=new Wb(e),i=Ug(Wb.prototype.request,n);return Am.extend(i,Wb.prototype,n,{allOwnKeys:!0}),Am.extend(i,n,null,{allOwnKeys:!0}),i.create=function(n){return t(yb(e,n))},i}(tb);Xb.Axios=Wb,Xb.CanceledError=hb,Xb.CancelToken=Gb,Xb.isCancel=cb,Xb.VERSION="1.7.2",Xb.toFormData=Im,Xb.AxiosError=Mm,Xb.Cancel=Xb.CanceledError,Xb.all=function(t){return Promise.all(t)},Xb.spread=function(t){return function(e){return t.apply(null,e)}},Xb.isAxiosError=function(t){return Am.isObject(t)&&!0===t.isAxiosError},Xb.mergeConfig=yb,Xb.AxiosHeaders=ab,Xb.formToJSON=t=>Qm(Am.isHTMLForm(t)?new FormData(t):t),Xb.getAdapter=Fb,Xb.HttpStatusCode=Kb,Xb.default=Xb;const Jb=Xb;function Qb(t){return Qb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qb(t)}function Zb(){Zb=function(){return e};var t,e={},n=Object.prototype,i=n.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,i){var o=e&&e.prototype instanceof b?e:b,s=Object.create(o.prototype),a=new T(i||[]);return r(s,"_invoke",{value:E(t,n,a)}),s}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var d="suspendedStart",f="suspendedYield",p="executing",g="completed",m={};function b(){}function y(){}function v(){}var _={};c(_,s,(function(){return this}));var x=Object.getPrototypeOf,w=x&&x(x(M([])));w&&w!==n&&i.call(w,s)&&(_=w);var S=v.prototype=b.prototype=Object.create(_);function O(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(r,o,s,a){var l=h(t[r],t,o);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==Qb(u)&&i.call(u,"__await")?e.resolve(u.__await).then((function(t){n("next",t,s,a)}),(function(t){n("throw",t,s,a)})):e.resolve(u).then((function(t){c.value=t,s(c)}),(function(t){return n("throw",t,s,a)}))}a(l.arg)}var o;r(this,"_invoke",{value:function(t,i){function r(){return new e((function(e,r){n(t,i,e,r)}))}return o=o?o.then(r,r):r()}})}function E(e,n,i){var r=d;return function(o,s){if(r===p)throw Error("Generator is already running");if(r===g){if("throw"===o)throw s;return{value:t,done:!0}}for(i.method=o,i.arg=s;;){var a=i.delegate;if(a){var l=A(a,i);if(l){if(l===m)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===d)throw r=g,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=p;var c=h(e,n,i);if("normal"===c.type){if(r=i.done?g:f,c.arg===m)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(r=g,i.method="throw",i.arg=c.arg)}}}function A(e,n){var i=n.method,r=e.iterator[i];if(r===t)return n.delegate=null,"throw"===i&&e.iterator.return&&(n.method="return",n.arg=t,A(e,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),m;var o=h(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var s=o.arg;return s?s.done?(n[e.resultName]=s.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function M(e){if(e||""===e){var n=e[s];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function n(){for(;++r<e.length;)if(i.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(Qb(e)+" is not iterable")}return y.prototype=v,r(S,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:y,configurable:!0}),y.displayName=c(v,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,c(t,l,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},O(k.prototype),c(k.prototype,a,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,i,r,o){void 0===o&&(o=Promise);var s=new k(u(t,n,i,r),o);return e.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},O(S),c(S,l,"Generator"),c(S,s,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var i in e)n.push(i);return n.reverse(),function t(){for(;n.length;){var i=n.pop();if(i in e)return t.value=i,t.done=!1,t}return t.done=!0,t}},e.values=M,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(i,r){return a.type="throw",a.arg=e,n.next=i,r&&(n.method="next",n.arg=t),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var l=i.call(s,"catchLoc"),c=i.call(s,"finallyLoc");if(l&&c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;C(n)}return r}}throw Error("illegal catch attempt")},delegateYield:function(e,n,i){return this.delegate={iterator:M(e),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=t),m}},e}function ty(t,e,n,i,r,o,s){try{var a=t[o](s),l=a.value}catch(t){return void n(t)}a.done?e(l):Promise.resolve(l).then(i,r)}function ey(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var o=t.apply(e,n);function s(t){ty(o,i,r,s,a,"next",t)}function a(t){ty(o,i,r,s,a,"throw",t)}s(void 0)}))}}var ny={storeSettings:function(t,e){return ey(Zb().mark((function n(){var i,r;return Zb().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=t.commit,n.prev=1,i("setSettingsSaving",!0),n.next=5,Jb.post("".concat(wpAmVue.site.rest_base,"/wp-am-vue-app/v1/settings"),e,{headers:{"X-WP-Nonce":"".concat(wpAmVue.site.nonce),"content-type":"application/json"}});case 5:r=n.sent,i("storeSettings",r.data),i("setSettingsSaving",!1),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(1),console.error("Error while saving settings:",n.t0),i("setSettingsSaving",!1);case 14:case"end":return n.stop()}}),n,null,[[1,10]])})))()},getSettings:function(t){return ey(Zb().mark((function e(){var n,i;return Zb().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,e.prev=1,e.next=4,Jb.get("".concat(wpAmVue.site.rest_base,"/wp-am-vue-app/v1/settings"));case 4:i=e.sent,n("storeSettings",i.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error while fetching settings:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))()}};function iy(t){return iy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iy(t)}function ry(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function oy(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ry(Object(n),!0).forEach((function(e){sy(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ry(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function sy(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=iy(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,"string");if("object"!=iy(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==iy(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ay(t){return function(t){if(Array.isArray(t))return ly(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return ly(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ly(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ly(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}var cy={getTableData:function(t){var e=t.commit,n=t.rootGetters.settings;n?Jb.get("".concat(wpAmVue.site.rest_base,"/wp-am-vue-app/v1/data")).then((function(t){var i=t.data.table.data,r=i.headers,o=i.rows.map((function(t){return{id:t.id,url:t.url,title:t.title,pageviews:t.pageviews,date:1===n.readable?new Date(1e3*t.date).toLocaleString():t.date}})).slice(0,n.rows);e("SET_TABLE_HEADERS",r),e("SET_TABLE_ROWS",o)})).catch((function(t){console.error("Error fetching table data:",t)})):console.error("Settings not found")}};const uy=new Kl({modules:{global:{state:function(){return{alert:{isVisible:!1,message:"",type:"default"}}},getters:{alert:function(t){return t.alert}},actions:{setAlert:function(t,e){var n=t.commit;n("setAlert",e),"success"===e.type&&setTimeout((function(){n("hideAlert")}),5e3)},showAlert:function(t){(0,t.commit)("setIsAlertVisible",!0)},hideAlert:function(t){(0,t.commit)("hideAlert",!1)}},mutations:{setAlert:function(t,e){t.alert=oy(oy({},t.alert),{},{isVisible:!0},e)},hideAlert:function(t){t.alert={isVisible:!1,message:"",type:"default"}},setIsAlertVisible:function(t,e){t.alert=oy(oy({},t.alert),{},{isVisible:e})}}},settings:{state:function(){return{settings:null,isSaving:!1}},getters:{settings:function(t){return t.settings},isSaving:function(t){return t.isSaving}},actions:ny,mutations:{storeSettings:function(t,e){t.settings=e},setSettingsSaving:function(t,e){t.isSaving=e}}},graph:{state:{graphData:{labels:[],values:[]}},mutations:{SET_GRAPH_DATA:function(t,e){var n,i;t.graphData.labels=[],t.graphData.values=[],(n=t.graphData.labels).push.apply(n,ay(e.labels)),(i=t.graphData.values).push.apply(i,ay(e.values))}},actions:{fetchGraphData:function(t){var e=t.commit;Jb.get("".concat(wpAmVue.site.rest_base,"/wp-am-vue-app/v1/data")).then((function(t){var n=t.data.graph,i=[],r=[];Object.values(n).forEach((function(t){var e=new Date(1e3*t.date);i.push(e.toLocaleString("default",{month:"long"})),r.push(t.value)})),e("SET_GRAPH_DATA",{labels:i,values:r})})).catch((function(t){console.error("Error fetching data in:",t)}))}},getters:{getGraphData:function(t){return t.graphData}}},table:{state:{tableHeaders:[],tableRows:[]},mutations:{SET_TABLE_HEADERS:function(t,e){t.tableHeaders=e},SET_TABLE_ROWS:function(t,e){t.tableRows=e}},actions:cy,getters:{getTableHeaders:function(t){return t.tableHeaders},getTableRows:function(t){return t.tableRows}}}},strict:!1,plugins:[]});var hy=((...t)=>{const e=(Mo||(Mo=ki(To))).createApp(...t),{mount:n}=e;return e.mount=t=>{const i=function(t){return b(t)?document.querySelector(t):t}(t);if(!i)return;const r=e._component;m(r)||r.render||r.template||(r.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,function(t){return t instanceof SVGElement?"svg":"function"==typeof MathMLElement&&t instanceof MathMLElement?"mathml":void 0}(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e})({extends:Ss,mixins:[Hg]});hy.use(Ag).use(uy),hy.config.devtools=!1,hy.mount("#wp-am-vue-app"),window.wpAmVueHooks=Ho(),wpAmVueHooks.addFilter=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;wpAmVueHooks.hooks.addFilter(t,e,(function(t){return t.push(n),t}),i)}})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YkMsS0FBTSxPQUNOQyxVQUFXLFNBQ1hDLEtBQU0sU0FDTkMsTUFBTyxTQUNQQyxPQUFRLFNBQ1JDLE1BQU8sSUFDUEMsYUFBYyxTQUNkQyxHQUFJLEtBQ0pDLFFBQVMsU0FDVEMsS0FBTSxTQUNOQyxVQUFXLFNBQ1hDLE9BQVEsU0FDUkMsU0FBVSxTQUNWQyxRQUFTLFNBQ1RDLElBQUssU0FDTEMsWUFBYSxTQUNiQyxRQUFTLFNBQ1RDLFFBQVMsU0FDVEMsS0FBTSxPQUNOQyxJQUFLLEtBQ0xDLE1BQU8sT0FDUEMsUUFBUyxTQUNUQyxLQUFNLFNBQ05DLEtBQU0sT0FDTkMsS0FBTSxTQUNOQyxPQUFRLFNBQ1JDLFFBQVMsU0FDVEMsU0FBVSxTQUNWQyxPQUFRLFNBQ1JDLE1BQU8sU0FDUEMsSUFBSyxTQUNMQyxPQUFRLFNBQ1JDLE9BQVEsU0FDUkMsS0FBTSxTQUNOQyxNQUFPLFNBQ1BDLE1BQU8sU0FDUEMsSUFBSyxPQUNMQyxPQUFRLFNBQ1JDLE9BQVEsU0FDUkMsU0FBVSxPQUNWQyxPQUFRLFNBQ1JDLE9BQVEsU0FDUkMsU0FBVSxTQUNWQyxTQUFVLFNBQ1ZDLFNBQVUsU0FDVkMsU0FBVSxTQUNWQyxPQUFRLFNBQ1JDLFFBQVMsU0FDVEMsVUFBVyxTQUNYQyxJQUFLLFNBQ0xDLE9BQVEsU0FDUkMsSUFBSyxTQUNMQyxJQUFLLE9BQ0xDLE1BQU8sU0FDUEMsSUFBSyxTQUNMQyxRQUFTLFNBQ1RDLE9BQVEsU0FDUkMsUUFBUyxTQUNUQyxNQUFPLFNBQ1BDLEtBQU0sU0FDTkMsTUFBTyxTQUNQQyxPQUFRLFNBQ1JDLFVBQVcsU0FDWEMsUUFBUyxTQUNUQyxXQUFZLFNBQ1pDLElBQUssU0FDTEMsS0FBTSxTQUNOQyxNQUFPLFNBQ1BDLFVBQVcsU0FDWEMsS0FBTSxTQUNOQyxLQUFNLFNBQ05DLEtBQU0sU0FDTkMsS0FBTSxTQUNOQyxPQUFRLFNBQ1JDLE9BQVEsU0FDUkMsT0FBUSxTQUNSQyxNQUFPLFNBQ1BDLE1BQU8sU0FDUEMsUUFBUyxTQUNUQyxJQUFLLFNBQ0xDLEtBQU0sT0FDTkMsUUFBUyxT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QjgyQixFQUFRM3VDLFVBQUFsRCxPQUFBLFFBQUFHLElBQUErQyxVQUFBLEdBQUFBLFVBQUEsR0FBRyxHQUNqRWk3SSxhQUFhdjlILE1BQU1neUIsVUFDZmpCLEVBQ0FsbkIsR0FDQSxTQUFBckMsR0FFSSxPQURBQSxFQUFXeGxCLEtBQUttWSxHQUNUcU4sQ0FDWCxHQUNBeXBCLEVBRVIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93cGFtdnVlYXBwLy4vbm9kZV9tb2R1bGVzL3NwcmludGYtanMvc3JjL3NwcmludGYuanMiLCJ3ZWJwYWNrOi8vd3BhbXZ1ZWFwcC8uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2Rpc3QvZXhwb3J0SGVscGVyLmpzIiwid2VicGFjazovL3dwYW12dWVhcHAvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vd3BhbXZ1ZWFwcC93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly93cGFtdnVlYXBwL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly93cGFtdnVlYXBwL3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vd3BhbXZ1ZWFwcC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3dwYW12dWVhcHAvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly93cGFtdnVlYXBwLy4vbm9kZV9tb2R1bGVzL0B2dWUvc2hhcmVkL2Rpc3Qvc2hhcmVkLmVzbS1idW5kbGVyLmpzIiwid2VicGFjazovL3dwYW12dWVhcHAvLi9ub2RlX21vZHVsZXMvQHZ1ZS9yZWFjdGl2aXR5L2Rpc3QvcmVhY3Rpdml0eS5lc20tYnVuZGxlci5qcyIsIndlYnBhY2s6Ly93cGFtdnVlYXBwLy4vbm9kZV9tb2R1bGVzL0B2dWUvcnVudGltZS1jb3JlL2Rpc3QvcnVudGltZS1jb3JlLmVzbS1idW5kbGVyLmpzIiwid2VicGFjazovL3dwYW12dWVhcHAvLi9ub2RlX21vZHVsZXMvQHZ1ZS9ydW50aW1lLWRvbS9kaXN0L3J1bnRpbWUtZG9tLmVzbS1idW5kbGVyLmpzIiwid2VicGFjazovL3dwYW12dWVhcHAvLi9ub2RlX21vZHVsZXMvQHdvcmRwcmVzcy9ob29rcy9idWlsZC1tb2R1bGUvdmFsaWRhdGVOYW1lc3BhY2UuanMiLCJ3ZWJwYWNrOi8vd3BhbXZ1ZWFwcC8uL25vZGVfbW9kdWxlcy9Ad29yZHByZXNzL2hvb2tzL2J1aWxkLW1vZHVsZS92YWxpZGF0ZUhvb2tOYW1lLmpzIiwid2VicGFjazovL3dwYW12dWVhcHAvLi9ub2RlX21vZHVsZXMvQHdvcmRwcmVzcy9ob29rcy9idWlsZC1tb2R1bGUvY3JlYXRlQWRkSG9vay5qcyIsIndlYnBhY2s6Ly93cGFtdnVlYXBwLy4vbm9kZV9tb2R1bGVzL0B3b3JkcHJlc3MvaG9va3MvYnVpbGQtbW9kdWxlL2NyZWF0ZVJlbW92ZUhvb2suanMiLCJ3ZWJwYWNrOi8vd3BhbXZ1ZWFwcC8uL25vZGVfbW9kdWxlcy9Ad29yZHByZXNzL2hvb2tzL2J1aWxkLW1vZHVsZS9jcmVhdGVIYXNIb29rLmpzIiwid2VicGFjazovL3dwYW12dWVhcHAvLi9ub2RlX21vZHVsZXMvQHdvcmRwcmVzcy9ob29rcy9idWlsZC1tb2R1bGUvY3JlYXRlUnVuSG9vay5qcyIsIndlYnBhY2s6Ly93cGFtdnVlYXBwLy4vbm9kZV9tb2R1bGVzL0B3b3JkcHJlc3MvaG9va3MvYnVpbGQtbW9kdWxlL2NyZWF0ZUN1cnJlbnRIb29rLmpzIiwid2VicGFjazovL3dwYW12dWVhcHAvLi9ub2RlX21vZHVsZXMvQHdvcmRwcmVzcy9ob29rcy9idWlsZC1tb2R1bGUvY3JlYXRlRG9pbmdIb29rLmpzIiwid2VicGFjazovL3dwYW12dWVhcHAvLi9ub2RlX21vZHVsZXMvQHdvcmRwcmVzcy9ob29rcy9idWlsZC1tb2R1bGUvY3JlYXRlRGlkSG9vay5qcyIsIndlYnBhY2s6Ly93cGFtdnVlYXBwLy4vbm9kZV9tb2R1bGVzL0B3b3JkcHJlc3MvaG9va3MvYnVpbGQtbW9kdWxlL2NyZWF0ZUhvb2tzLmpzIiwid2VicGFjazovL3dwYW12dWVhcHAvLi9ub2RlX21vZHVsZXMvQHdvcmRwcmVzcy9ob29rcy9idWlsZC1tb2R1bGUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vd3BhbXZ1ZWFwcC8uL3NyYy9BcHAudnVlIiwid2VicGFjazovL3dwYW12dWVhcHAvLi9zcmMvY29tcG9uZW50cy90YWJzL1RhYnMudnVlIiwid2VicGFjazovL3dwYW12dWVhcHAvLi9zcmMvY29tcG9uZW50cy90YWJzL1RhYnMudnVlPzVjYTMiLCJ3ZWJwYWNrOi8vd3BhbXZ1ZWFwcC8uL3NyYy91dGlscy9tZW51LWZpeC5qcyIsIndlYnBhY2s6Ly93cGFtdnVlYXBwLy4vc3JjL0FwcC52dWU/NjgzOSIsIndlYnBhY2s6Ly93cGFtdnVlYXBwLy4vbm9kZV9tb2R1bGVzL0B2dWUvZGV2dG9vbHMtYXBpL2xpYi9lc20vZW52LmpzIiwid2VicGFjazovL3dwYW12dWVhcHAvLi9ub2RlX21vZHVsZXMvQHZ1ZS9kZXZ0b29scy1hcGkvbGliL2VzbS9jb25zdC5qcyIsIndlYnBhY2s6Ly93cGFtdnVlYXBwLy4vbm9kZV9tb2R1bGVzL0B2dWUvZGV2dG9vbHMtYXBpL2xpYi9lc20vdGltZS5qcyIsIndlYnBhY2s6Ly93cGFtdnVlYXBwLy4vbm9kZV9tb2R1bGVzL0B2dWUvZGV2dG9vbHMtYXBpL2xpYi9lc20vcHJveHkuanMiLCJ3ZWJwYWNrOi8vd3BhbXZ1ZWFwcC8uL25vZGVfbW9kdWxlcy9AdnVlL2RldnRvb2xzLWFwaS9saWIvZXNtL2luZGV4LmpzIiwid2VicGFjazovL3dwYW12dWVhcHAvLi9ub2RlX21vZHVsZXMvdnVlLXJvdXRlci9kaXN0L3Z1ZS1yb3V0ZXIubWpzIiwid2VicGFjazovL3dwYW12dWVhcHAvLi9zcmMvcGFnZXMvVGFibGUudnVlIiwid2VicGFjazovL3dwYW12dWVhcHAvLi9ub2RlX21vZHVsZXMvdnVleC9kaXN0L3Z1ZXguZXNtLWJ1bmRsZXIuanMiLCJ3ZWJwYWNrOi8vd3BhbXZ1ZWFwcC8uL3NyYy9jb21wb25lbnRzL3RhYmxlcy9CYXNlVGFibGUudnVlIiwid2VicGFjazovL3dwYW12dWVhcHAvLi9zcmMvY29tcG9uZW50cy9za2VsZXRvbi9Ta2VsZXRvblRleHQudnVlIiwid2VicGFjazovL3dwYW12dWVhcHAvLi9zcmMvY29tcG9uZW50cy90YWJsZXMvVGFibGVMb2FkaW5nLnZ1ZSIsIndlYnBhY2s6Ly93cGFtdnVlYXBwLy4vc3JjL2NvbXBvbmVudHMvc2tlbGV0b24vU2tlbGV0b25UZXh0LnZ1ZT9hMDk5Iiwid2VicGFjazovL3dwYW12dWVhcHAvLi9zcmMvY29tcG9uZW50cy90YWJsZXMvVGFibGVMb2FkaW5nLnZ1ZT9kZWFjIiwid2VicGFjazovL3dwYW12dWVhcHAvLi9zcmMvY29tcG9uZW50cy90YWJsZXMvQmFzZVRhYmxlLnZ1ZT82MTg3Iiwid2VicGFjazovL3dwYW12dWVhcHAvLi9zcmMvcGFnZXMvVGFibGUudnVlPzkwNTMiLCJ3ZWJwYWNrOi8vd3BhbXZ1ZWFwcC8uL3NyYy9wYWdlcy9TZXR0aW5ncy52dWUiLCJ3ZWJwYWNrOi8vd3BhbXZ1ZWFwcC8uL3NyYy9jb21wb25lbnRzL2J1dHRvbi9CdXR0b24udnVlIiwid2VicGFjazovL3dwYW12dWVhcHAvLi9zcmMvY29tcG9uZW50cy9idXR0b24vQnV0dG9uLnZ1ZT9hMGE1Iiwid2VicGFjazovL3dwYW12dWVhcHAvLi9zcmMvY29tcG9uZW50cy9pbnB1dC9CYXNlSW5wdXQudnVlIiwid2VicGFjazovL3dwYW12dWVhcHAvLi9zcmMvY29tcG9uZW50cy9pbnB1dC9CYXNlSW5wdXQudnVlPzY2YmIiLCJ3ZWJwYWNrOi8vd3BhbXZ1ZWFwcC8uL3NyYy9wYWdlcy9TZXR0aW5ncy52dWU/MGM2NyIsIndlYnBhY2s6Ly93cGFtdnVlYXBwLy4vc3JjL3BhZ2VzL0dyYXBoLnZ1ZSIsIndlYnBhY2s6Ly93cGFtdnVlYXBwLy4vbm9kZV9tb2R1bGVzL0BrdXJrbGUvY29sb3IvZGlzdC9jb2xvci5lc20uanMiLCJ3ZWJwYWNrOi8vd3BhbXZ1ZWFwcC8uL25vZGVfbW9kdWxlcy9jaGFydC5qcy9kaXN0L2NodW5rcy9oZWxwZXJzLnNlZ21lbnQuanMiLCJ3ZWJwYWNrOi8vd3BhbXZ1ZWFwcC8uL25vZGVfbW9kdWxlcy9jaGFydC5qcy9kaXN0L2NoYXJ0LmpzIiwid2VicGFjazovL3dwYW12dWVhcHAvLi9ub2RlX21vZHVsZXMvdnVlLWNoYXJ0anMvZGlzdC9pbmRleC5qcyIsIndlYnBhY2s6Ly93cGFtdnVlYXBwLy4vc3JjL2NvbXBvbmVudHMvY2hhcnQvQmFyQ2hhcnQudnVlIiwid2VicGFjazovL3dwYW12dWVhcHAvLi9zcmMvcm91dGVyL2luZGV4LmpzIiwid2VicGFjazovL3dwYW12dWVhcHAvLi9zcmMvcGFnZXMvR3JhcGgudnVlP2JmNGEiLCJ3ZWJwYWNrOi8vd3BhbXZ1ZWFwcC8uL25vZGVfbW9kdWxlcy9Ad29yZHByZXNzL2kxOG4vYnVpbGQtbW9kdWxlL3NwcmludGYuanMiLCJ3ZWJwYWNrOi8vd3BhbXZ1ZWFwcC8uL25vZGVfbW9kdWxlcy9tZW1pemUvZGlzdC9pbmRleC5qcyIsIndlYnBhY2s6Ly93cGFtdnVlYXBwLy4vbm9kZV9tb2R1bGVzL0B0YW5uaW4vcG9zdGZpeC9pbmRleC5qcyIsIndlYnBhY2s6Ly93cGFtdnVlYXBwLy4vbm9kZV9tb2R1bGVzL0B0YW5uaW4vZXZhbHVhdGUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vd3BhbXZ1ZWFwcC8uL25vZGVfbW9kdWxlcy90YW5uaW4vaW5kZXguanMiLCJ3ZWJwYWNrOi8vd3BhbXZ1ZWFwcC8uL25vZGVfbW9kdWxlcy9AdGFubmluL3BsdXJhbC1mb3Jtcy9pbmRleC5qcyIsIndlYnBhY2s6Ly93cGFtdnVlYXBwLy4vbm9kZV9tb2R1bGVzL0B0YW5uaW4vY29tcGlsZS9pbmRleC5qcyIsIndlYnBhY2s6Ly93cGFtdnVlYXBwLy4vbm9kZV9tb2R1bGVzL0B3b3JkcHJlc3MvaTE4bi9idWlsZC1tb2R1bGUvY3JlYXRlLWkxOG4uanMiLCJ3ZWJwYWNrOi8vd3BhbXZ1ZWFwcC8uL25vZGVfbW9kdWxlcy9Ad29yZHByZXNzL2kxOG4vYnVpbGQtbW9kdWxlL2RlZmF1bHQtaTE4bi5qcyIsIndlYnBhY2s6Ly93cGFtdnVlYXBwLy4vc3JjL2kxOG4uanMiLCJ3ZWJwYWNrOi8vd3BhbXZ1ZWFwcC8uL3NyYy9taXhpbnMvaTE4bi5qcyIsIndlYnBhY2s6Ly93cGFtdnVlYXBwLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2JpbmQuanMiLCJ3ZWJwYWNrOi8vd3BhbXZ1ZWFwcC8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vd3BhbXZ1ZWFwcC8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9BeGlvc0Vycm9yLmpzIiwid2VicGFjazovL3dwYW12dWVhcHAvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvdG9Gb3JtRGF0YS5qcyIsIndlYnBhY2s6Ly93cGFtdnVlYXBwLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL0F4aW9zVVJMU2VhcmNoUGFyYW1zLmpzIiwid2VicGFjazovL3dwYW12dWVhcHAvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvYnVpbGRVUkwuanMiLCJ3ZWJwYWNrOi8vd3BhbXZ1ZWFwcC8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9JbnRlcmNlcHRvck1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vd3BhbXZ1ZWFwcC8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvZGVmYXVsdHMvdHJhbnNpdGlvbmFsLmpzIiwid2VicGFjazovL3dwYW12dWVhcHAvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL3BsYXRmb3JtL2Jyb3dzZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vd3BhbXZ1ZWFwcC8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvcGxhdGZvcm0vYnJvd3Nlci9jbGFzc2VzL1VSTFNlYXJjaFBhcmFtcy5qcyIsIndlYnBhY2s6Ly93cGFtdnVlYXBwLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9wbGF0Zm9ybS9icm93c2VyL2NsYXNzZXMvRm9ybURhdGEuanMiLCJ3ZWJwYWNrOi8vd3BhbXZ1ZWFwcC8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvcGxhdGZvcm0vYnJvd3Nlci9jbGFzc2VzL0Jsb2IuanMiLCJ3ZWJwYWNrOi8vd3BhbXZ1ZWFwcC8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvcGxhdGZvcm0vY29tbW9uL3V0aWxzLmpzIiwid2VicGFjazovL3dwYW12dWVhcHAvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL3BsYXRmb3JtL2luZGV4LmpzIiwid2VicGFjazovL3dwYW12dWVhcHAvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvZm9ybURhdGFUb0pTT04uanMiLCJ3ZWJwYWNrOi8vd3BhbXZ1ZWFwcC8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvZGVmYXVsdHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vd3BhbXZ1ZWFwcC8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy90b1VSTEVuY29kZWRGb3JtLmpzIiwid2VicGFjazovL3dwYW12dWVhcHAvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvcGFyc2VIZWFkZXJzLmpzIiwid2VicGFjazovL3dwYW12dWVhcHAvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvQXhpb3NIZWFkZXJzLmpzIiwid2VicGFjazovL3dwYW12dWVhcHAvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvdHJhbnNmb3JtRGF0YS5qcyIsIndlYnBhY2s6Ly93cGFtdnVlYXBwLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jYW5jZWwvaXNDYW5jZWwuanMiLCJ3ZWJwYWNrOi8vd3BhbXZ1ZWFwcC8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY2FuY2VsL0NhbmNlbGVkRXJyb3IuanMiLCJ3ZWJwYWNrOi8vd3BhbXZ1ZWFwcC8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9zZXR0bGUuanMiLCJ3ZWJwYWNrOi8vd3BhbXZ1ZWFwcC8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9zcGVlZG9tZXRlci5qcyIsIndlYnBhY2s6Ly93cGFtdnVlYXBwLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL3Byb2dyZXNzRXZlbnRSZWR1Y2VyLmpzIiwid2VicGFjazovL3dwYW12dWVhcHAvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvdGhyb3R0bGUuanMiLCJ3ZWJwYWNrOi8vd3BhbXZ1ZWFwcC8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9pc1VSTFNhbWVPcmlnaW4uanMiLCJ3ZWJwYWNrOi8vd3BhbXZ1ZWFwcC8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9jb29raWVzLmpzIiwid2VicGFjazovL3dwYW12dWVhcHAvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvYnVpbGRGdWxsUGF0aC5qcyIsIndlYnBhY2s6Ly93cGFtdnVlYXBwLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2lzQWJzb2x1dGVVUkwuanMiLCJ3ZWJwYWNrOi8vd3BhbXZ1ZWFwcC8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9jb21iaW5lVVJMcy5qcyIsIndlYnBhY2s6Ly93cGFtdnVlYXBwLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL21lcmdlQ29uZmlnLmpzIiwid2VicGFjazovL3dwYW12dWVhcHAvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvcmVzb2x2ZUNvbmZpZy5qcyIsIndlYnBhY2s6Ly93cGFtdnVlYXBwLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9hZGFwdGVycy94aHIuanMiLCJ3ZWJwYWNrOi8vd3BhbXZ1ZWFwcC8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9wYXJzZVByb3RvY29sLmpzIiwid2VicGFjazovL3dwYW12dWVhcHAvLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2hlbHBlcnMvY29tcG9zZVNpZ25hbHMuanMiLCJ3ZWJwYWNrOi8vd3BhbXZ1ZWFwcC8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy90cmFja1N0cmVhbS5qcyIsIndlYnBhY2s6Ly93cGFtdnVlYXBwLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9hZGFwdGVycy9mZXRjaC5qcyIsIndlYnBhY2s6Ly93cGFtdnVlYXBwLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9hZGFwdGVycy9hZGFwdGVycy5qcyIsIndlYnBhY2s6Ly93cGFtdnVlYXBwLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL251bGwuanMiLCJ3ZWJwYWNrOi8vd3BhbXZ1ZWFwcC8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9kaXNwYXRjaFJlcXVlc3QuanMiLCJ3ZWJwYWNrOi8vd3BhbXZ1ZWFwcC8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvZW52L2RhdGEuanMiLCJ3ZWJwYWNrOi8vd3BhbXZ1ZWFwcC8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy92YWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vd3BhbXZ1ZWFwcC8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9BeGlvcy5qcyIsIndlYnBhY2s6Ly93cGFtdnVlYXBwLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jYW5jZWwvQ2FuY2VsVG9rZW4uanMiLCJ3ZWJwYWNrOi8vd3BhbXZ1ZWFwcC8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9IdHRwU3RhdHVzQ29kZS5qcyIsIndlYnBhY2s6Ly93cGFtdnVlYXBwLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9heGlvcy5qcyIsIndlYnBhY2s6Ly93cGFtdnVlYXBwLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL3NwcmVhZC5qcyIsIndlYnBhY2s6Ly93cGFtdnVlYXBwLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2lzQXhpb3NFcnJvci5qcyIsIndlYnBhY2s6Ly93cGFtdnVlYXBwLy4vc3JjL3N0b3JlL21vZHVsZXMvc2V0dGluZ3MuanMiLCJ3ZWJwYWNrOi8vd3BhbXZ1ZWFwcC8uL3NyYy9zdG9yZS9tb2R1bGVzL3RhYmxlLmpzIiwid2VicGFjazovL3dwYW12dWVhcHAvLi9zcmMvc3RvcmUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vd3BhbXZ1ZWFwcC8uL3NyYy9zdG9yZS9tb2R1bGVzL2dsb2JhbC5qcyIsIndlYnBhY2s6Ly93cGFtdnVlYXBwLy4vc3JjL3N0b3JlL21vZHVsZXMvZ3JhcGguanMiLCJ3ZWJwYWNrOi8vd3BhbXZ1ZWFwcC8uL3NyYy9tYWluLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGdsb2JhbCB3aW5kb3csIGV4cG9ydHMsIGRlZmluZSAqL1xuXG4hZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnXG5cbiAgICB2YXIgcmUgPSB7XG4gICAgICAgIG5vdF9zdHJpbmc6IC9bXnNdLyxcbiAgICAgICAgbm90X2Jvb2w6IC9bXnRdLyxcbiAgICAgICAgbm90X3R5cGU6IC9bXlRdLyxcbiAgICAgICAgbm90X3ByaW1pdGl2ZTogL1tedl0vLFxuICAgICAgICBudW1iZXI6IC9bZGllZmddLyxcbiAgICAgICAgbnVtZXJpY19hcmc6IC9bYmNkaWVmZ3V4WF0vLFxuICAgICAgICBqc29uOiAvW2pdLyxcbiAgICAgICAgbm90X2pzb246IC9bXmpdLyxcbiAgICAgICAgdGV4dDogL15bXlxceDI1XSsvLFxuICAgICAgICBtb2R1bG86IC9eXFx4MjV7Mn0vLFxuICAgICAgICBwbGFjZWhvbGRlcjogL15cXHgyNSg/OihbMS05XVxcZCopXFwkfFxcKChbXildKylcXCkpPyhcXCspPygwfCdbXiRdKT8oLSk/KFxcZCspPyg/OlxcLihcXGQrKSk/KFtiLWdpam9zdFR1dnhYXSkvLFxuICAgICAgICBrZXk6IC9eKFthLXpfXVthLXpfXFxkXSopL2ksXG4gICAgICAgIGtleV9hY2Nlc3M6IC9eXFwuKFthLXpfXVthLXpfXFxkXSopL2ksXG4gICAgICAgIGluZGV4X2FjY2VzczogL15cXFsoXFxkKylcXF0vLFxuICAgICAgICBzaWduOiAvXlsrLV0vXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc3ByaW50ZihrZXkpIHtcbiAgICAgICAgLy8gYGFyZ3VtZW50c2AgaXMgbm90IGFuIGFycmF5LCBidXQgc2hvdWxkIGJlIGZpbmUgZm9yIHRoaXMgY2FsbFxuICAgICAgICByZXR1cm4gc3ByaW50Zl9mb3JtYXQoc3ByaW50Zl9wYXJzZShrZXkpLCBhcmd1bWVudHMpXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdnNwcmludGYoZm10LCBhcmd2KSB7XG4gICAgICAgIHJldHVybiBzcHJpbnRmLmFwcGx5KG51bGwsIFtmbXRdLmNvbmNhdChhcmd2IHx8IFtdKSlcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzcHJpbnRmX2Zvcm1hdChwYXJzZV90cmVlLCBhcmd2KSB7XG4gICAgICAgIHZhciBjdXJzb3IgPSAxLCB0cmVlX2xlbmd0aCA9IHBhcnNlX3RyZWUubGVuZ3RoLCBhcmcsIG91dHB1dCA9ICcnLCBpLCBrLCBwaCwgcGFkLCBwYWRfY2hhcmFjdGVyLCBwYWRfbGVuZ3RoLCBpc19wb3NpdGl2ZSwgc2lnblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdHJlZV9sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBwYXJzZV90cmVlW2ldID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIG91dHB1dCArPSBwYXJzZV90cmVlW2ldXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgcGFyc2VfdHJlZVtpXSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICBwaCA9IHBhcnNlX3RyZWVbaV0gLy8gY29udmVuaWVuY2UgcHVycG9zZXMgb25seVxuICAgICAgICAgICAgICAgIGlmIChwaC5rZXlzKSB7IC8vIGtleXdvcmQgYXJndW1lbnRcbiAgICAgICAgICAgICAgICAgICAgYXJnID0gYXJndltjdXJzb3JdXG4gICAgICAgICAgICAgICAgICAgIGZvciAoayA9IDA7IGsgPCBwaC5rZXlzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXJnID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihzcHJpbnRmKCdbc3ByaW50Zl0gQ2Fubm90IGFjY2VzcyBwcm9wZXJ0eSBcIiVzXCIgb2YgdW5kZWZpbmVkIHZhbHVlIFwiJXNcIicsIHBoLmtleXNba10sIHBoLmtleXNbay0xXSkpXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmcgPSBhcmdbcGgua2V5c1trXV1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwaC5wYXJhbV9ubykgeyAvLyBwb3NpdGlvbmFsIGFyZ3VtZW50IChleHBsaWNpdClcbiAgICAgICAgICAgICAgICAgICAgYXJnID0gYXJndltwaC5wYXJhbV9ub11cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7IC8vIHBvc2l0aW9uYWwgYXJndW1lbnQgKGltcGxpY2l0KVxuICAgICAgICAgICAgICAgICAgICBhcmcgPSBhcmd2W2N1cnNvcisrXVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChyZS5ub3RfdHlwZS50ZXN0KHBoLnR5cGUpICYmIHJlLm5vdF9wcmltaXRpdmUudGVzdChwaC50eXBlKSAmJiBhcmcgaW5zdGFuY2VvZiBGdW5jdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBhcmcgPSBhcmcoKVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChyZS5udW1lcmljX2FyZy50ZXN0KHBoLnR5cGUpICYmICh0eXBlb2YgYXJnICE9PSAnbnVtYmVyJyAmJiBpc05hTihhcmcpKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHNwcmludGYoJ1tzcHJpbnRmXSBleHBlY3RpbmcgbnVtYmVyIGJ1dCBmb3VuZCAlVCcsIGFyZykpXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHJlLm51bWJlci50ZXN0KHBoLnR5cGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzX3Bvc2l0aXZlID0gYXJnID49IDBcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHBoLnR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnYic6XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmcgPSBwYXJzZUludChhcmcsIDEwKS50b1N0cmluZygyKVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnYyc6XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmcgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KGFyZywgMTApKVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZCc6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2knOlxuICAgICAgICAgICAgICAgICAgICAgICAgYXJnID0gcGFyc2VJbnQoYXJnLCAxMClcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2onOlxuICAgICAgICAgICAgICAgICAgICAgICAgYXJnID0gSlNPTi5zdHJpbmdpZnkoYXJnLCBudWxsLCBwaC53aWR0aCA/IHBhcnNlSW50KHBoLndpZHRoKSA6IDApXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdlJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZyA9IHBoLnByZWNpc2lvbiA/IHBhcnNlRmxvYXQoYXJnKS50b0V4cG9uZW50aWFsKHBoLnByZWNpc2lvbikgOiBwYXJzZUZsb2F0KGFyZykudG9FeHBvbmVudGlhbCgpXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdmJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZyA9IHBoLnByZWNpc2lvbiA/IHBhcnNlRmxvYXQoYXJnKS50b0ZpeGVkKHBoLnByZWNpc2lvbikgOiBwYXJzZUZsb2F0KGFyZylcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2cnOlxuICAgICAgICAgICAgICAgICAgICAgICAgYXJnID0gcGgucHJlY2lzaW9uID8gU3RyaW5nKE51bWJlcihhcmcudG9QcmVjaXNpb24ocGgucHJlY2lzaW9uKSkpIDogcGFyc2VGbG9hdChhcmcpXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdvJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZyA9IChwYXJzZUludChhcmcsIDEwKSA+Pj4gMCkudG9TdHJpbmcoOClcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3MnOlxuICAgICAgICAgICAgICAgICAgICAgICAgYXJnID0gU3RyaW5nKGFyZylcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZyA9IChwaC5wcmVjaXNpb24gPyBhcmcuc3Vic3RyaW5nKDAsIHBoLnByZWNpc2lvbikgOiBhcmcpXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgICAgICBjYXNlICd0JzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZyA9IFN0cmluZyghIWFyZylcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZyA9IChwaC5wcmVjaXNpb24gPyBhcmcuc3Vic3RyaW5nKDAsIHBoLnByZWNpc2lvbikgOiBhcmcpXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdUJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhcmcpLnNsaWNlKDgsIC0xKS50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmcgPSAocGgucHJlY2lzaW9uID8gYXJnLnN1YnN0cmluZygwLCBwaC5wcmVjaXNpb24pIDogYXJnKVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAndSc6XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmcgPSBwYXJzZUludChhcmcsIDEwKSA+Pj4gMFxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAndic6XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmcgPSBhcmcudmFsdWVPZigpXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmcgPSAocGgucHJlY2lzaW9uID8gYXJnLnN1YnN0cmluZygwLCBwaC5wcmVjaXNpb24pIDogYXJnKVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAneCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmcgPSAocGFyc2VJbnQoYXJnLCAxMCkgPj4+IDApLnRvU3RyaW5nKDE2KVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnWCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmcgPSAocGFyc2VJbnQoYXJnLCAxMCkgPj4+IDApLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocmUuanNvbi50ZXN0KHBoLnR5cGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIG91dHB1dCArPSBhcmdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZS5udW1iZXIudGVzdChwaC50eXBlKSAmJiAoIWlzX3Bvc2l0aXZlIHx8IHBoLnNpZ24pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaWduID0gaXNfcG9zaXRpdmUgPyAnKycgOiAnLSdcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZyA9IGFyZy50b1N0cmluZygpLnJlcGxhY2UocmUuc2lnbiwgJycpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaWduID0gJydcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBwYWRfY2hhcmFjdGVyID0gcGgucGFkX2NoYXIgPyBwaC5wYWRfY2hhciA9PT0gJzAnID8gJzAnIDogcGgucGFkX2NoYXIuY2hhckF0KDEpIDogJyAnXG4gICAgICAgICAgICAgICAgICAgIHBhZF9sZW5ndGggPSBwaC53aWR0aCAtIChzaWduICsgYXJnKS5sZW5ndGhcbiAgICAgICAgICAgICAgICAgICAgcGFkID0gcGgud2lkdGggPyAocGFkX2xlbmd0aCA+IDAgPyBwYWRfY2hhcmFjdGVyLnJlcGVhdChwYWRfbGVuZ3RoKSA6ICcnKSA6ICcnXG4gICAgICAgICAgICAgICAgICAgIG91dHB1dCArPSBwaC5hbGlnbiA/IHNpZ24gKyBhcmcgKyBwYWQgOiAocGFkX2NoYXJhY3RlciA9PT0gJzAnID8gc2lnbiArIHBhZCArIGFyZyA6IHBhZCArIHNpZ24gKyBhcmcpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXRwdXRcbiAgICB9XG5cbiAgICB2YXIgc3ByaW50Zl9jYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbClcblxuICAgIGZ1bmN0aW9uIHNwcmludGZfcGFyc2UoZm10KSB7XG4gICAgICAgIGlmIChzcHJpbnRmX2NhY2hlW2ZtdF0pIHtcbiAgICAgICAgICAgIHJldHVybiBzcHJpbnRmX2NhY2hlW2ZtdF1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBfZm10ID0gZm10LCBtYXRjaCwgcGFyc2VfdHJlZSA9IFtdLCBhcmdfbmFtZXMgPSAwXG4gICAgICAgIHdoaWxlIChfZm10KSB7XG4gICAgICAgICAgICBpZiAoKG1hdGNoID0gcmUudGV4dC5leGVjKF9mbXQpKSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHBhcnNlX3RyZWUucHVzaChtYXRjaFswXSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKChtYXRjaCA9IHJlLm1vZHVsby5leGVjKF9mbXQpKSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHBhcnNlX3RyZWUucHVzaCgnJScpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICgobWF0Y2ggPSByZS5wbGFjZWhvbGRlci5leGVjKF9mbXQpKSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmIChtYXRjaFsyXSkge1xuICAgICAgICAgICAgICAgICAgICBhcmdfbmFtZXMgfD0gMVxuICAgICAgICAgICAgICAgICAgICB2YXIgZmllbGRfbGlzdCA9IFtdLCByZXBsYWNlbWVudF9maWVsZCA9IG1hdGNoWzJdLCBmaWVsZF9tYXRjaCA9IFtdXG4gICAgICAgICAgICAgICAgICAgIGlmICgoZmllbGRfbWF0Y2ggPSByZS5rZXkuZXhlYyhyZXBsYWNlbWVudF9maWVsZCkpICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZF9saXN0LnB1c2goZmllbGRfbWF0Y2hbMV0pXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoKHJlcGxhY2VtZW50X2ZpZWxkID0gcmVwbGFjZW1lbnRfZmllbGQuc3Vic3RyaW5nKGZpZWxkX21hdGNoWzBdLmxlbmd0aCkpICE9PSAnJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoZmllbGRfbWF0Y2ggPSByZS5rZXlfYWNjZXNzLmV4ZWMocmVwbGFjZW1lbnRfZmllbGQpKSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZF9saXN0LnB1c2goZmllbGRfbWF0Y2hbMV0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKChmaWVsZF9tYXRjaCA9IHJlLmluZGV4X2FjY2Vzcy5leGVjKHJlcGxhY2VtZW50X2ZpZWxkKSkgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRfbGlzdC5wdXNoKGZpZWxkX21hdGNoWzFdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdbc3ByaW50Zl0gZmFpbGVkIHRvIHBhcnNlIG5hbWVkIGFyZ3VtZW50IGtleScpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdbc3ByaW50Zl0gZmFpbGVkIHRvIHBhcnNlIG5hbWVkIGFyZ3VtZW50IGtleScpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hbMl0gPSBmaWVsZF9saXN0XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhcmdfbmFtZXMgfD0gMlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYXJnX25hbWVzID09PSAzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignW3NwcmludGZdIG1peGluZyBwb3NpdGlvbmFsIGFuZCBuYW1lZCBwbGFjZWhvbGRlcnMgaXMgbm90ICh5ZXQpIHN1cHBvcnRlZCcpXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcGFyc2VfdHJlZS5wdXNoKFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogbWF0Y2hbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbV9ubzogICAgbWF0Y2hbMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXlzOiAgICAgICAgbWF0Y2hbMl0sXG4gICAgICAgICAgICAgICAgICAgICAgICBzaWduOiAgICAgICAgbWF0Y2hbM10sXG4gICAgICAgICAgICAgICAgICAgICAgICBwYWRfY2hhcjogICAgbWF0Y2hbNF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGlnbjogICAgICAgbWF0Y2hbNV0sXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogICAgICAgbWF0Y2hbNl0sXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmVjaXNpb246ICAgbWF0Y2hbN10sXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAgICAgICAgbWF0Y2hbOF1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignW3NwcmludGZdIHVuZXhwZWN0ZWQgcGxhY2Vob2xkZXInKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX2ZtdCA9IF9mbXQuc3Vic3RyaW5nKG1hdGNoWzBdLmxlbmd0aClcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3ByaW50Zl9jYWNoZVtmbXRdID0gcGFyc2VfdHJlZVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGV4cG9ydCB0byBlaXRoZXIgYnJvd3NlciBvciBub2RlLmpzXG4gICAgICovXG4gICAgLyogZXNsaW50LWRpc2FibGUgcXVvdGUtcHJvcHMgKi9cbiAgICBpZiAodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGV4cG9ydHNbJ3NwcmludGYnXSA9IHNwcmludGZcbiAgICAgICAgZXhwb3J0c1sndnNwcmludGYnXSA9IHZzcHJpbnRmXG4gICAgfVxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB3aW5kb3dbJ3NwcmludGYnXSA9IHNwcmludGZcbiAgICAgICAgd2luZG93Wyd2c3ByaW50ZiddID0gdnNwcmludGZcblxuICAgICAgICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmVbJ2FtZCddKSB7XG4gICAgICAgICAgICBkZWZpbmUoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgJ3NwcmludGYnOiBzcHJpbnRmLFxuICAgICAgICAgICAgICAgICAgICAndnNwcmludGYnOiB2c3ByaW50ZlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9XG4gICAgLyogZXNsaW50LWVuYWJsZSBxdW90ZS1wcm9wcyAqL1xufSgpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8vIHJ1bnRpbWUgaGVscGVyIGZvciBzZXR0aW5nIHByb3BlcnRpZXMgb24gY29tcG9uZW50c1xuLy8gaW4gYSB0cmVlLXNoYWthYmxlIHdheVxuZXhwb3J0cy5kZWZhdWx0ID0gKHNmYywgcHJvcHMpID0+IHtcbiAgICBjb25zdCB0YXJnZXQgPSBzZmMuX192Y2NPcHRzIHx8IHNmYztcbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbF0gb2YgcHJvcHMpIHtcbiAgICAgICAgdGFyZ2V0W2tleV0gPSB2YWw7XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXQ7XG59O1xuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiLyoqXG4qIEB2dWUvc2hhcmVkIHYzLjQuMjlcbiogKGMpIDIwMTgtcHJlc2VudCBZdXhpIChFdmFuKSBZb3UgYW5kIFZ1ZSBjb250cmlidXRvcnNcbiogQGxpY2Vuc2UgTUlUXG4qKi9cbi8qISAjX19OT19TSURFX0VGRkVDVFNfXyAqL1xuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmZ1bmN0aW9uIG1ha2VNYXAoc3RyLCBleHBlY3RzTG93ZXJDYXNlKSB7XG4gIGNvbnN0IHNldCA9IG5ldyBTZXQoc3RyLnNwbGl0KFwiLFwiKSk7XG4gIHJldHVybiBleHBlY3RzTG93ZXJDYXNlID8gKHZhbCkgPT4gc2V0Lmhhcyh2YWwudG9Mb3dlckNhc2UoKSkgOiAodmFsKSA9PiBzZXQuaGFzKHZhbCk7XG59XG5cbmNvbnN0IEVNUFRZX09CSiA9ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBPYmplY3QuZnJlZXplKHt9KSA6IHt9O1xuY29uc3QgRU1QVFlfQVJSID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IE9iamVjdC5mcmVlemUoW10pIDogW107XG5jb25zdCBOT09QID0gKCkgPT4ge1xufTtcbmNvbnN0IE5PID0gKCkgPT4gZmFsc2U7XG5jb25zdCBpc09uID0gKGtleSkgPT4ga2V5LmNoYXJDb2RlQXQoMCkgPT09IDExMSAmJiBrZXkuY2hhckNvZGVBdCgxKSA9PT0gMTEwICYmIC8vIHVwcGVyY2FzZSBsZXR0ZXJcbihrZXkuY2hhckNvZGVBdCgyKSA+IDEyMiB8fCBrZXkuY2hhckNvZGVBdCgyKSA8IDk3KTtcbmNvbnN0IGlzTW9kZWxMaXN0ZW5lciA9IChrZXkpID0+IGtleS5zdGFydHNXaXRoKFwib25VcGRhdGU6XCIpO1xuY29uc3QgZXh0ZW5kID0gT2JqZWN0LmFzc2lnbjtcbmNvbnN0IHJlbW92ZSA9IChhcnIsIGVsKSA9PiB7XG4gIGNvbnN0IGkgPSBhcnIuaW5kZXhPZihlbCk7XG4gIGlmIChpID4gLTEpIHtcbiAgICBhcnIuc3BsaWNlKGksIDEpO1xuICB9XG59O1xuY29uc3QgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuY29uc3QgaGFzT3duID0gKHZhbCwga2V5KSA9PiBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbCwga2V5KTtcbmNvbnN0IGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuY29uc3QgaXNNYXAgPSAodmFsKSA9PiB0b1R5cGVTdHJpbmcodmFsKSA9PT0gXCJbb2JqZWN0IE1hcF1cIjtcbmNvbnN0IGlzU2V0ID0gKHZhbCkgPT4gdG9UeXBlU3RyaW5nKHZhbCkgPT09IFwiW29iamVjdCBTZXRdXCI7XG5jb25zdCBpc0RhdGUgPSAodmFsKSA9PiB0b1R5cGVTdHJpbmcodmFsKSA9PT0gXCJbb2JqZWN0IERhdGVdXCI7XG5jb25zdCBpc1JlZ0V4cCA9ICh2YWwpID0+IHRvVHlwZVN0cmluZyh2YWwpID09PSBcIltvYmplY3QgUmVnRXhwXVwiO1xuY29uc3QgaXNGdW5jdGlvbiA9ICh2YWwpID0+IHR5cGVvZiB2YWwgPT09IFwiZnVuY3Rpb25cIjtcbmNvbnN0IGlzU3RyaW5nID0gKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gXCJzdHJpbmdcIjtcbmNvbnN0IGlzU3ltYm9sID0gKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gXCJzeW1ib2xcIjtcbmNvbnN0IGlzT2JqZWN0ID0gKHZhbCkgPT4gdmFsICE9PSBudWxsICYmIHR5cGVvZiB2YWwgPT09IFwib2JqZWN0XCI7XG5jb25zdCBpc1Byb21pc2UgPSAodmFsKSA9PiB7XG4gIHJldHVybiAoaXNPYmplY3QodmFsKSB8fCBpc0Z1bmN0aW9uKHZhbCkpICYmIGlzRnVuY3Rpb24odmFsLnRoZW4pICYmIGlzRnVuY3Rpb24odmFsLmNhdGNoKTtcbn07XG5jb25zdCBvYmplY3RUb1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5jb25zdCB0b1R5cGVTdHJpbmcgPSAodmFsdWUpID0+IG9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuY29uc3QgdG9SYXdUeXBlID0gKHZhbHVlKSA9PiB7XG4gIHJldHVybiB0b1R5cGVTdHJpbmcodmFsdWUpLnNsaWNlKDgsIC0xKTtcbn07XG5jb25zdCBpc1BsYWluT2JqZWN0ID0gKHZhbCkgPT4gdG9UeXBlU3RyaW5nKHZhbCkgPT09IFwiW29iamVjdCBPYmplY3RdXCI7XG5jb25zdCBpc0ludGVnZXJLZXkgPSAoa2V5KSA9PiBpc1N0cmluZyhrZXkpICYmIGtleSAhPT0gXCJOYU5cIiAmJiBrZXlbMF0gIT09IFwiLVwiICYmIFwiXCIgKyBwYXJzZUludChrZXksIDEwKSA9PT0ga2V5O1xuY29uc3QgaXNSZXNlcnZlZFByb3AgPSAvKiBAX19QVVJFX18gKi8gbWFrZU1hcChcbiAgLy8gdGhlIGxlYWRpbmcgY29tbWEgaXMgaW50ZW50aW9uYWwgc28gZW1wdHkgc3RyaW5nIFwiXCIgaXMgYWxzbyBpbmNsdWRlZFxuICBcIixrZXkscmVmLHJlZl9mb3IscmVmX2tleSxvblZub2RlQmVmb3JlTW91bnQsb25Wbm9kZU1vdW50ZWQsb25Wbm9kZUJlZm9yZVVwZGF0ZSxvblZub2RlVXBkYXRlZCxvblZub2RlQmVmb3JlVW5tb3VudCxvblZub2RlVW5tb3VudGVkXCJcbik7XG5jb25zdCBpc0J1aWx0SW5EaXJlY3RpdmUgPSAvKiBAX19QVVJFX18gKi8gbWFrZU1hcChcbiAgXCJiaW5kLGNsb2FrLGVsc2UtaWYsZWxzZSxmb3IsaHRtbCxpZixtb2RlbCxvbixvbmNlLHByZSxzaG93LHNsb3QsdGV4dCxtZW1vXCJcbik7XG5jb25zdCBjYWNoZVN0cmluZ0Z1bmN0aW9uID0gKGZuKSA9PiB7XG4gIGNvbnN0IGNhY2hlID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIHJldHVybiAoc3RyKSA9PiB7XG4gICAgY29uc3QgaGl0ID0gY2FjaGVbc3RyXTtcbiAgICByZXR1cm4gaGl0IHx8IChjYWNoZVtzdHJdID0gZm4oc3RyKSk7XG4gIH07XG59O1xuY29uc3QgY2FtZWxpemVSRSA9IC8tKFxcdykvZztcbmNvbnN0IGNhbWVsaXplID0gY2FjaGVTdHJpbmdGdW5jdGlvbigoc3RyKSA9PiB7XG4gIHJldHVybiBzdHIucmVwbGFjZShjYW1lbGl6ZVJFLCAoXywgYykgPT4gYyA/IGMudG9VcHBlckNhc2UoKSA6IFwiXCIpO1xufSk7XG5jb25zdCBoeXBoZW5hdGVSRSA9IC9cXEIoW0EtWl0pL2c7XG5jb25zdCBoeXBoZW5hdGUgPSBjYWNoZVN0cmluZ0Z1bmN0aW9uKFxuICAoc3RyKSA9PiBzdHIucmVwbGFjZShoeXBoZW5hdGVSRSwgXCItJDFcIikudG9Mb3dlckNhc2UoKVxuKTtcbmNvbnN0IGNhcGl0YWxpemUgPSBjYWNoZVN0cmluZ0Z1bmN0aW9uKChzdHIpID0+IHtcbiAgcmV0dXJuIHN0ci5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0ci5zbGljZSgxKTtcbn0pO1xuY29uc3QgdG9IYW5kbGVyS2V5ID0gY2FjaGVTdHJpbmdGdW5jdGlvbigoc3RyKSA9PiB7XG4gIGNvbnN0IHMgPSBzdHIgPyBgb24ke2NhcGl0YWxpemUoc3RyKX1gIDogYGA7XG4gIHJldHVybiBzO1xufSk7XG5jb25zdCBoYXNDaGFuZ2VkID0gKHZhbHVlLCBvbGRWYWx1ZSkgPT4gIU9iamVjdC5pcyh2YWx1ZSwgb2xkVmFsdWUpO1xuY29uc3QgaW52b2tlQXJyYXlGbnMgPSAoZm5zLCAuLi5hcmcpID0+IHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBmbnMubGVuZ3RoOyBpKyspIHtcbiAgICBmbnNbaV0oLi4uYXJnKTtcbiAgfVxufTtcbmNvbnN0IGRlZiA9IChvYmosIGtleSwgdmFsdWUsIHdyaXRhYmxlID0gZmFsc2UpID0+IHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIHdyaXRhYmxlLFxuICAgIHZhbHVlXG4gIH0pO1xufTtcbmNvbnN0IGxvb3NlVG9OdW1iZXIgPSAodmFsKSA9PiB7XG4gIGNvbnN0IG4gPSBwYXJzZUZsb2F0KHZhbCk7XG4gIHJldHVybiBpc05hTihuKSA/IHZhbCA6IG47XG59O1xuY29uc3QgdG9OdW1iZXIgPSAodmFsKSA9PiB7XG4gIGNvbnN0IG4gPSBpc1N0cmluZyh2YWwpID8gTnVtYmVyKHZhbCkgOiBOYU47XG4gIHJldHVybiBpc05hTihuKSA/IHZhbCA6IG47XG59O1xubGV0IF9nbG9iYWxUaGlzO1xuY29uc3QgZ2V0R2xvYmFsVGhpcyA9ICgpID0+IHtcbiAgcmV0dXJuIF9nbG9iYWxUaGlzIHx8IChfZ2xvYmFsVGhpcyA9IHR5cGVvZiBnbG9iYWxUaGlzICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsVGhpcyA6IHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsIDoge30pO1xufTtcbmNvbnN0IGlkZW50UkUgPSAvXltfJGEtekEtWlxceEEwLVxcdUZGRkZdW18kYS16QS1aMC05XFx4QTAtXFx1RkZGRl0qJC87XG5mdW5jdGlvbiBnZW5Qcm9wc0FjY2Vzc0V4cChuYW1lKSB7XG4gIHJldHVybiBpZGVudFJFLnRlc3QobmFtZSkgPyBgX19wcm9wcy4ke25hbWV9YCA6IGBfX3Byb3BzWyR7SlNPTi5zdHJpbmdpZnkobmFtZSl9XWA7XG59XG5cbmNvbnN0IFBhdGNoRmxhZ3MgPSB7XG4gIFwiVEVYVFwiOiAxLFxuICBcIjFcIjogXCJURVhUXCIsXG4gIFwiQ0xBU1NcIjogMixcbiAgXCIyXCI6IFwiQ0xBU1NcIixcbiAgXCJTVFlMRVwiOiA0LFxuICBcIjRcIjogXCJTVFlMRVwiLFxuICBcIlBST1BTXCI6IDgsXG4gIFwiOFwiOiBcIlBST1BTXCIsXG4gIFwiRlVMTF9QUk9QU1wiOiAxNixcbiAgXCIxNlwiOiBcIkZVTExfUFJPUFNcIixcbiAgXCJORUVEX0hZRFJBVElPTlwiOiAzMixcbiAgXCIzMlwiOiBcIk5FRURfSFlEUkFUSU9OXCIsXG4gIFwiU1RBQkxFX0ZSQUdNRU5UXCI6IDY0LFxuICBcIjY0XCI6IFwiU1RBQkxFX0ZSQUdNRU5UXCIsXG4gIFwiS0VZRURfRlJBR01FTlRcIjogMTI4LFxuICBcIjEyOFwiOiBcIktFWUVEX0ZSQUdNRU5UXCIsXG4gIFwiVU5LRVlFRF9GUkFHTUVOVFwiOiAyNTYsXG4gIFwiMjU2XCI6IFwiVU5LRVlFRF9GUkFHTUVOVFwiLFxuICBcIk5FRURfUEFUQ0hcIjogNTEyLFxuICBcIjUxMlwiOiBcIk5FRURfUEFUQ0hcIixcbiAgXCJEWU5BTUlDX1NMT1RTXCI6IDEwMjQsXG4gIFwiMTAyNFwiOiBcIkRZTkFNSUNfU0xPVFNcIixcbiAgXCJERVZfUk9PVF9GUkFHTUVOVFwiOiAyMDQ4LFxuICBcIjIwNDhcIjogXCJERVZfUk9PVF9GUkFHTUVOVFwiLFxuICBcIkhPSVNURURcIjogLTEsXG4gIFwiLTFcIjogXCJIT0lTVEVEXCIsXG4gIFwiQkFJTFwiOiAtMixcbiAgXCItMlwiOiBcIkJBSUxcIlxufTtcbmNvbnN0IFBhdGNoRmxhZ05hbWVzID0ge1xuICBbMV06IGBURVhUYCxcbiAgWzJdOiBgQ0xBU1NgLFxuICBbNF06IGBTVFlMRWAsXG4gIFs4XTogYFBST1BTYCxcbiAgWzE2XTogYEZVTExfUFJPUFNgLFxuICBbMzJdOiBgTkVFRF9IWURSQVRJT05gLFxuICBbNjRdOiBgU1RBQkxFX0ZSQUdNRU5UYCxcbiAgWzEyOF06IGBLRVlFRF9GUkFHTUVOVGAsXG4gIFsyNTZdOiBgVU5LRVlFRF9GUkFHTUVOVGAsXG4gIFs1MTJdOiBgTkVFRF9QQVRDSGAsXG4gIFsxMDI0XTogYERZTkFNSUNfU0xPVFNgLFxuICBbMjA0OF06IGBERVZfUk9PVF9GUkFHTUVOVGAsXG4gIFstMV06IGBIT0lTVEVEYCxcbiAgWy0yXTogYEJBSUxgXG59O1xuXG5jb25zdCBTaGFwZUZsYWdzID0ge1xuICBcIkVMRU1FTlRcIjogMSxcbiAgXCIxXCI6IFwiRUxFTUVOVFwiLFxuICBcIkZVTkNUSU9OQUxfQ09NUE9ORU5UXCI6IDIsXG4gIFwiMlwiOiBcIkZVTkNUSU9OQUxfQ09NUE9ORU5UXCIsXG4gIFwiU1RBVEVGVUxfQ09NUE9ORU5UXCI6IDQsXG4gIFwiNFwiOiBcIlNUQVRFRlVMX0NPTVBPTkVOVFwiLFxuICBcIlRFWFRfQ0hJTERSRU5cIjogOCxcbiAgXCI4XCI6IFwiVEVYVF9DSElMRFJFTlwiLFxuICBcIkFSUkFZX0NISUxEUkVOXCI6IDE2LFxuICBcIjE2XCI6IFwiQVJSQVlfQ0hJTERSRU5cIixcbiAgXCJTTE9UU19DSElMRFJFTlwiOiAzMixcbiAgXCIzMlwiOiBcIlNMT1RTX0NISUxEUkVOXCIsXG4gIFwiVEVMRVBPUlRcIjogNjQsXG4gIFwiNjRcIjogXCJURUxFUE9SVFwiLFxuICBcIlNVU1BFTlNFXCI6IDEyOCxcbiAgXCIxMjhcIjogXCJTVVNQRU5TRVwiLFxuICBcIkNPTVBPTkVOVF9TSE9VTERfS0VFUF9BTElWRVwiOiAyNTYsXG4gIFwiMjU2XCI6IFwiQ09NUE9ORU5UX1NIT1VMRF9LRUVQX0FMSVZFXCIsXG4gIFwiQ09NUE9ORU5UX0tFUFRfQUxJVkVcIjogNTEyLFxuICBcIjUxMlwiOiBcIkNPTVBPTkVOVF9LRVBUX0FMSVZFXCIsXG4gIFwiQ09NUE9ORU5UXCI6IDYsXG4gIFwiNlwiOiBcIkNPTVBPTkVOVFwiXG59O1xuXG5jb25zdCBTbG90RmxhZ3MgPSB7XG4gIFwiU1RBQkxFXCI6IDEsXG4gIFwiMVwiOiBcIlNUQUJMRVwiLFxuICBcIkRZTkFNSUNcIjogMixcbiAgXCIyXCI6IFwiRFlOQU1JQ1wiLFxuICBcIkZPUldBUkRFRFwiOiAzLFxuICBcIjNcIjogXCJGT1JXQVJERURcIlxufTtcbmNvbnN0IHNsb3RGbGFnc1RleHQgPSB7XG4gIFsxXTogXCJTVEFCTEVcIixcbiAgWzJdOiBcIkRZTkFNSUNcIixcbiAgWzNdOiBcIkZPUldBUkRFRFwiXG59O1xuXG5jb25zdCBHTE9CQUxTX0FMTE9XRUQgPSBcIkluZmluaXR5LHVuZGVmaW5lZCxOYU4saXNGaW5pdGUsaXNOYU4scGFyc2VGbG9hdCxwYXJzZUludCxkZWNvZGVVUkksZGVjb2RlVVJJQ29tcG9uZW50LGVuY29kZVVSSSxlbmNvZGVVUklDb21wb25lbnQsTWF0aCxOdW1iZXIsRGF0ZSxBcnJheSxPYmplY3QsQm9vbGVhbixTdHJpbmcsUmVnRXhwLE1hcCxTZXQsSlNPTixJbnRsLEJpZ0ludCxjb25zb2xlLEVycm9yXCI7XG5jb25zdCBpc0dsb2JhbGx5QWxsb3dlZCA9IC8qIEBfX1BVUkVfXyAqLyBtYWtlTWFwKEdMT0JBTFNfQUxMT1dFRCk7XG5jb25zdCBpc0dsb2JhbGx5V2hpdGVsaXN0ZWQgPSBpc0dsb2JhbGx5QWxsb3dlZDtcblxuY29uc3QgcmFuZ2UgPSAyO1xuZnVuY3Rpb24gZ2VuZXJhdGVDb2RlRnJhbWUoc291cmNlLCBzdGFydCA9IDAsIGVuZCA9IHNvdXJjZS5sZW5ndGgpIHtcbiAgc3RhcnQgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihzdGFydCwgc291cmNlLmxlbmd0aCkpO1xuICBlbmQgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihlbmQsIHNvdXJjZS5sZW5ndGgpKTtcbiAgaWYgKHN0YXJ0ID4gZW5kKSByZXR1cm4gXCJcIjtcbiAgbGV0IGxpbmVzID0gc291cmNlLnNwbGl0KC8oXFxyP1xcbikvKTtcbiAgY29uc3QgbmV3bGluZVNlcXVlbmNlcyA9IGxpbmVzLmZpbHRlcigoXywgaWR4KSA9PiBpZHggJSAyID09PSAxKTtcbiAgbGluZXMgPSBsaW5lcy5maWx0ZXIoKF8sIGlkeCkgPT4gaWR4ICUgMiA9PT0gMCk7XG4gIGxldCBjb3VudCA9IDA7XG4gIGNvbnN0IHJlcyA9IFtdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgY291bnQgKz0gbGluZXNbaV0ubGVuZ3RoICsgKG5ld2xpbmVTZXF1ZW5jZXNbaV0gJiYgbmV3bGluZVNlcXVlbmNlc1tpXS5sZW5ndGggfHwgMCk7XG4gICAgaWYgKGNvdW50ID49IHN0YXJ0KSB7XG4gICAgICBmb3IgKGxldCBqID0gaSAtIHJhbmdlOyBqIDw9IGkgKyByYW5nZSB8fCBlbmQgPiBjb3VudDsgaisrKSB7XG4gICAgICAgIGlmIChqIDwgMCB8fCBqID49IGxpbmVzLmxlbmd0aCkgY29udGludWU7XG4gICAgICAgIGNvbnN0IGxpbmUgPSBqICsgMTtcbiAgICAgICAgcmVzLnB1c2goXG4gICAgICAgICAgYCR7bGluZX0ke1wiIFwiLnJlcGVhdChNYXRoLm1heCgzIC0gU3RyaW5nKGxpbmUpLmxlbmd0aCwgMCkpfXwgICR7bGluZXNbal19YFxuICAgICAgICApO1xuICAgICAgICBjb25zdCBsaW5lTGVuZ3RoID0gbGluZXNbal0ubGVuZ3RoO1xuICAgICAgICBjb25zdCBuZXdMaW5lU2VxTGVuZ3RoID0gbmV3bGluZVNlcXVlbmNlc1tqXSAmJiBuZXdsaW5lU2VxdWVuY2VzW2pdLmxlbmd0aCB8fCAwO1xuICAgICAgICBpZiAoaiA9PT0gaSkge1xuICAgICAgICAgIGNvbnN0IHBhZCA9IHN0YXJ0IC0gKGNvdW50IC0gKGxpbmVMZW5ndGggKyBuZXdMaW5lU2VxTGVuZ3RoKSk7XG4gICAgICAgICAgY29uc3QgbGVuZ3RoID0gTWF0aC5tYXgoXG4gICAgICAgICAgICAxLFxuICAgICAgICAgICAgZW5kID4gY291bnQgPyBsaW5lTGVuZ3RoIC0gcGFkIDogZW5kIC0gc3RhcnRcbiAgICAgICAgICApO1xuICAgICAgICAgIHJlcy5wdXNoKGAgICB8ICBgICsgXCIgXCIucmVwZWF0KHBhZCkgKyBcIl5cIi5yZXBlYXQobGVuZ3RoKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaiA+IGkpIHtcbiAgICAgICAgICBpZiAoZW5kID4gY291bnQpIHtcbiAgICAgICAgICAgIGNvbnN0IGxlbmd0aCA9IE1hdGgubWF4KE1hdGgubWluKGVuZCAtIGNvdW50LCBsaW5lTGVuZ3RoKSwgMSk7XG4gICAgICAgICAgICByZXMucHVzaChgICAgfCAgYCArIFwiXlwiLnJlcGVhdChsZW5ndGgpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY291bnQgKz0gbGluZUxlbmd0aCArIG5ld0xpbmVTZXFMZW5ndGg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzLmpvaW4oXCJcXG5cIik7XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVN0eWxlKHZhbHVlKSB7XG4gIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIGNvbnN0IHJlcyA9IHt9O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGl0ZW0gPSB2YWx1ZVtpXTtcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBpc1N0cmluZyhpdGVtKSA/IHBhcnNlU3RyaW5nU3R5bGUoaXRlbSkgOiBub3JtYWxpemVTdHlsZShpdGVtKTtcbiAgICAgIGlmIChub3JtYWxpemVkKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIG5vcm1hbGl6ZWQpIHtcbiAgICAgICAgICByZXNba2V5XSA9IG5vcm1hbGl6ZWRba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzO1xuICB9IGVsc2UgaWYgKGlzU3RyaW5nKHZhbHVlKSB8fCBpc09iamVjdCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbn1cbmNvbnN0IGxpc3REZWxpbWl0ZXJSRSA9IC87KD8hW14oXSpcXCkpL2c7XG5jb25zdCBwcm9wZXJ0eURlbGltaXRlclJFID0gLzooW15dKykvO1xuY29uc3Qgc3R5bGVDb21tZW50UkUgPSAvXFwvXFwqW15dKj9cXCpcXC8vZztcbmZ1bmN0aW9uIHBhcnNlU3RyaW5nU3R5bGUoY3NzVGV4dCkge1xuICBjb25zdCByZXQgPSB7fTtcbiAgY3NzVGV4dC5yZXBsYWNlKHN0eWxlQ29tbWVudFJFLCBcIlwiKS5zcGxpdChsaXN0RGVsaW1pdGVyUkUpLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICBpZiAoaXRlbSkge1xuICAgICAgY29uc3QgdG1wID0gaXRlbS5zcGxpdChwcm9wZXJ0eURlbGltaXRlclJFKTtcbiAgICAgIHRtcC5sZW5ndGggPiAxICYmIChyZXRbdG1wWzBdLnRyaW0oKV0gPSB0bXBbMV0udHJpbSgpKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcmV0O1xufVxuZnVuY3Rpb24gc3RyaW5naWZ5U3R5bGUoc3R5bGVzKSB7XG4gIGxldCByZXQgPSBcIlwiO1xuICBpZiAoIXN0eWxlcyB8fCBpc1N0cmluZyhzdHlsZXMpKSB7XG4gICAgcmV0dXJuIHJldDtcbiAgfVxuICBmb3IgKGNvbnN0IGtleSBpbiBzdHlsZXMpIHtcbiAgICBjb25zdCB2YWx1ZSA9IHN0eWxlc1trZXldO1xuICAgIGlmIChpc1N0cmluZyh2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiKSB7XG4gICAgICBjb25zdCBub3JtYWxpemVkS2V5ID0ga2V5LnN0YXJ0c1dpdGgoYC0tYCkgPyBrZXkgOiBoeXBoZW5hdGUoa2V5KTtcbiAgICAgIHJldCArPSBgJHtub3JtYWxpemVkS2V5fToke3ZhbHVlfTtgO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmV0O1xufVxuZnVuY3Rpb24gbm9ybWFsaXplQ2xhc3ModmFsdWUpIHtcbiAgbGV0IHJlcyA9IFwiXCI7XG4gIGlmIChpc1N0cmluZyh2YWx1ZSkpIHtcbiAgICByZXMgPSB2YWx1ZTtcbiAgfSBlbHNlIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBub3JtYWxpemVDbGFzcyh2YWx1ZVtpXSk7XG4gICAgICBpZiAobm9ybWFsaXplZCkge1xuICAgICAgICByZXMgKz0gbm9ybWFsaXplZCArIFwiIFwiO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmIChpc09iamVjdCh2YWx1ZSkpIHtcbiAgICBmb3IgKGNvbnN0IG5hbWUgaW4gdmFsdWUpIHtcbiAgICAgIGlmICh2YWx1ZVtuYW1lXSkge1xuICAgICAgICByZXMgKz0gbmFtZSArIFwiIFwiO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzLnRyaW0oKTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZVByb3BzKHByb3BzKSB7XG4gIGlmICghcHJvcHMpIHJldHVybiBudWxsO1xuICBsZXQgeyBjbGFzczoga2xhc3MsIHN0eWxlIH0gPSBwcm9wcztcbiAgaWYgKGtsYXNzICYmICFpc1N0cmluZyhrbGFzcykpIHtcbiAgICBwcm9wcy5jbGFzcyA9IG5vcm1hbGl6ZUNsYXNzKGtsYXNzKTtcbiAgfVxuICBpZiAoc3R5bGUpIHtcbiAgICBwcm9wcy5zdHlsZSA9IG5vcm1hbGl6ZVN0eWxlKHN0eWxlKTtcbiAgfVxuICByZXR1cm4gcHJvcHM7XG59XG5cbmNvbnN0IEhUTUxfVEFHUyA9IFwiaHRtbCxib2R5LGJhc2UsaGVhZCxsaW5rLG1ldGEsc3R5bGUsdGl0bGUsYWRkcmVzcyxhcnRpY2xlLGFzaWRlLGZvb3RlcixoZWFkZXIsaGdyb3VwLGgxLGgyLGgzLGg0LGg1LGg2LG5hdixzZWN0aW9uLGRpdixkZCxkbCxkdCxmaWdjYXB0aW9uLGZpZ3VyZSxwaWN0dXJlLGhyLGltZyxsaSxtYWluLG9sLHAscHJlLHVsLGEsYixhYmJyLGJkaSxiZG8sYnIsY2l0ZSxjb2RlLGRhdGEsZGZuLGVtLGksa2JkLG1hcmsscSxycCxydCxydWJ5LHMsc2FtcCxzbWFsbCxzcGFuLHN0cm9uZyxzdWIsc3VwLHRpbWUsdSx2YXIsd2JyLGFyZWEsYXVkaW8sbWFwLHRyYWNrLHZpZGVvLGVtYmVkLG9iamVjdCxwYXJhbSxzb3VyY2UsY2FudmFzLHNjcmlwdCxub3NjcmlwdCxkZWwsaW5zLGNhcHRpb24sY29sLGNvbGdyb3VwLHRhYmxlLHRoZWFkLHRib2R5LHRkLHRoLHRyLGJ1dHRvbixkYXRhbGlzdCxmaWVsZHNldCxmb3JtLGlucHV0LGxhYmVsLGxlZ2VuZCxtZXRlcixvcHRncm91cCxvcHRpb24sb3V0cHV0LHByb2dyZXNzLHNlbGVjdCx0ZXh0YXJlYSxkZXRhaWxzLGRpYWxvZyxtZW51LHN1bW1hcnksdGVtcGxhdGUsYmxvY2txdW90ZSxpZnJhbWUsdGZvb3RcIjtcbmNvbnN0IFNWR19UQUdTID0gXCJzdmcsYW5pbWF0ZSxhbmltYXRlTW90aW9uLGFuaW1hdGVUcmFuc2Zvcm0sY2lyY2xlLGNsaXBQYXRoLGNvbG9yLXByb2ZpbGUsZGVmcyxkZXNjLGRpc2NhcmQsZWxsaXBzZSxmZUJsZW5kLGZlQ29sb3JNYXRyaXgsZmVDb21wb25lbnRUcmFuc2ZlcixmZUNvbXBvc2l0ZSxmZUNvbnZvbHZlTWF0cml4LGZlRGlmZnVzZUxpZ2h0aW5nLGZlRGlzcGxhY2VtZW50TWFwLGZlRGlzdGFudExpZ2h0LGZlRHJvcFNoYWRvdyxmZUZsb29kLGZlRnVuY0EsZmVGdW5jQixmZUZ1bmNHLGZlRnVuY1IsZmVHYXVzc2lhbkJsdXIsZmVJbWFnZSxmZU1lcmdlLGZlTWVyZ2VOb2RlLGZlTW9ycGhvbG9neSxmZU9mZnNldCxmZVBvaW50TGlnaHQsZmVTcGVjdWxhckxpZ2h0aW5nLGZlU3BvdExpZ2h0LGZlVGlsZSxmZVR1cmJ1bGVuY2UsZmlsdGVyLGZvcmVpZ25PYmplY3QsZyxoYXRjaCxoYXRjaHBhdGgsaW1hZ2UsbGluZSxsaW5lYXJHcmFkaWVudCxtYXJrZXIsbWFzayxtZXNoLG1lc2hncmFkaWVudCxtZXNocGF0Y2gsbWVzaHJvdyxtZXRhZGF0YSxtcGF0aCxwYXRoLHBhdHRlcm4scG9seWdvbixwb2x5bGluZSxyYWRpYWxHcmFkaWVudCxyZWN0LHNldCxzb2xpZGNvbG9yLHN0b3Asc3dpdGNoLHN5bWJvbCx0ZXh0LHRleHRQYXRoLHRpdGxlLHRzcGFuLHVua25vd24sdXNlLHZpZXdcIjtcbmNvbnN0IE1BVEhfVEFHUyA9IFwiYW5ub3RhdGlvbixhbm5vdGF0aW9uLXhtbCxtYWN0aW9uLG1hbGlnbmdyb3VwLG1hbGlnbm1hcmssbWF0aCxtZW5jbG9zZSxtZXJyb3IsbWZlbmNlZCxtZnJhYyxtZnJhY3Rpb24sbWdseXBoLG1pLG1sYWJlbGVkdHIsbWxvbmdkaXYsbW11bHRpc2NyaXB0cyxtbixtbyxtb3ZlcixtcGFkZGVkLG1waGFudG9tLG1wcmVzY3JpcHRzLG1yb290LG1yb3csbXMsbXNjYXJyaWVzLG1zY2FycnksbXNncm91cCxtc2xpbmUsbXNwYWNlLG1zcXJ0LG1zcm93LG1zdGFjayxtc3R5bGUsbXN1Yixtc3Vic3VwLG1zdXAsbXRhYmxlLG10ZCxtdGV4dCxtdHIsbXVuZGVyLG11bmRlcm92ZXIsbm9uZSxzZW1hbnRpY3NcIjtcbmNvbnN0IFZPSURfVEFHUyA9IFwiYXJlYSxiYXNlLGJyLGNvbCxlbWJlZCxocixpbWcsaW5wdXQsbGluayxtZXRhLHBhcmFtLHNvdXJjZSx0cmFjayx3YnJcIjtcbmNvbnN0IGlzSFRNTFRhZyA9IC8qIEBfX1BVUkVfXyAqLyBtYWtlTWFwKEhUTUxfVEFHUyk7XG5jb25zdCBpc1NWR1RhZyA9IC8qIEBfX1BVUkVfXyAqLyBtYWtlTWFwKFNWR19UQUdTKTtcbmNvbnN0IGlzTWF0aE1MVGFnID0gLyogQF9fUFVSRV9fICovIG1ha2VNYXAoTUFUSF9UQUdTKTtcbmNvbnN0IGlzVm9pZFRhZyA9IC8qIEBfX1BVUkVfXyAqLyBtYWtlTWFwKFZPSURfVEFHUyk7XG5cbmNvbnN0IHNwZWNpYWxCb29sZWFuQXR0cnMgPSBgaXRlbXNjb3BlLGFsbG93ZnVsbHNjcmVlbixmb3Jtbm92YWxpZGF0ZSxpc21hcCxub21vZHVsZSxub3ZhbGlkYXRlLHJlYWRvbmx5YDtcbmNvbnN0IGlzU3BlY2lhbEJvb2xlYW5BdHRyID0gLyogQF9fUFVSRV9fICovIG1ha2VNYXAoc3BlY2lhbEJvb2xlYW5BdHRycyk7XG5jb25zdCBpc0Jvb2xlYW5BdHRyID0gLyogQF9fUFVSRV9fICovIG1ha2VNYXAoXG4gIHNwZWNpYWxCb29sZWFuQXR0cnMgKyBgLGFzeW5jLGF1dG9mb2N1cyxhdXRvcGxheSxjb250cm9scyxkZWZhdWx0LGRlZmVyLGRpc2FibGVkLGhpZGRlbixpbmVydCxsb29wLG9wZW4scmVxdWlyZWQscmV2ZXJzZWQsc2NvcGVkLHNlYW1sZXNzLGNoZWNrZWQsbXV0ZWQsbXVsdGlwbGUsc2VsZWN0ZWRgXG4pO1xuZnVuY3Rpb24gaW5jbHVkZUJvb2xlYW5BdHRyKHZhbHVlKSB7XG4gIHJldHVybiAhIXZhbHVlIHx8IHZhbHVlID09PSBcIlwiO1xufVxuY29uc3QgdW5zYWZlQXR0ckNoYXJSRSA9IC9bPi89XCInXFx1MDAwOVxcdTAwMGFcXHUwMDBjXFx1MDAyMF0vO1xuY29uc3QgYXR0clZhbGlkYXRpb25DYWNoZSA9IHt9O1xuZnVuY3Rpb24gaXNTU1JTYWZlQXR0ck5hbWUobmFtZSkge1xuICBpZiAoYXR0clZhbGlkYXRpb25DYWNoZS5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgIHJldHVybiBhdHRyVmFsaWRhdGlvbkNhY2hlW25hbWVdO1xuICB9XG4gIGNvbnN0IGlzVW5zYWZlID0gdW5zYWZlQXR0ckNoYXJSRS50ZXN0KG5hbWUpO1xuICBpZiAoaXNVbnNhZmUpIHtcbiAgICBjb25zb2xlLmVycm9yKGB1bnNhZmUgYXR0cmlidXRlIG5hbWU6ICR7bmFtZX1gKTtcbiAgfVxuICByZXR1cm4gYXR0clZhbGlkYXRpb25DYWNoZVtuYW1lXSA9ICFpc1Vuc2FmZTtcbn1cbmNvbnN0IHByb3BzVG9BdHRyTWFwID0ge1xuICBhY2NlcHRDaGFyc2V0OiBcImFjY2VwdC1jaGFyc2V0XCIsXG4gIGNsYXNzTmFtZTogXCJjbGFzc1wiLFxuICBodG1sRm9yOiBcImZvclwiLFxuICBodHRwRXF1aXY6IFwiaHR0cC1lcXVpdlwiXG59O1xuY29uc3QgaXNLbm93bkh0bWxBdHRyID0gLyogQF9fUFVSRV9fICovIG1ha2VNYXAoXG4gIGBhY2NlcHQsYWNjZXB0LWNoYXJzZXQsYWNjZXNza2V5LGFjdGlvbixhbGlnbixhbGxvdyxhbHQsYXN5bmMsYXV0b2NhcGl0YWxpemUsYXV0b2NvbXBsZXRlLGF1dG9mb2N1cyxhdXRvcGxheSxiYWNrZ3JvdW5kLGJnY29sb3IsYm9yZGVyLGJ1ZmZlcmVkLGNhcHR1cmUsY2hhbGxlbmdlLGNoYXJzZXQsY2hlY2tlZCxjaXRlLGNsYXNzLGNvZGUsY29kZWJhc2UsY29sb3IsY29scyxjb2xzcGFuLGNvbnRlbnQsY29udGVudGVkaXRhYmxlLGNvbnRleHRtZW51LGNvbnRyb2xzLGNvb3Jkcyxjcm9zc29yaWdpbixjc3AsZGF0YSxkYXRldGltZSxkZWNvZGluZyxkZWZhdWx0LGRlZmVyLGRpcixkaXJuYW1lLGRpc2FibGVkLGRvd25sb2FkLGRyYWdnYWJsZSxkcm9wem9uZSxlbmN0eXBlLGVudGVya2V5aGludCxmb3IsZm9ybSxmb3JtYWN0aW9uLGZvcm1lbmN0eXBlLGZvcm1tZXRob2QsZm9ybW5vdmFsaWRhdGUsZm9ybXRhcmdldCxoZWFkZXJzLGhlaWdodCxoaWRkZW4saGlnaCxocmVmLGhyZWZsYW5nLGh0dHAtZXF1aXYsaWNvbixpZCxpbXBvcnRhbmNlLGluZXJ0LGludGVncml0eSxpc21hcCxpdGVtcHJvcCxrZXl0eXBlLGtpbmQsbGFiZWwsbGFuZyxsYW5ndWFnZSxsb2FkaW5nLGxpc3QsbG9vcCxsb3csbWFuaWZlc3QsbWF4LG1heGxlbmd0aCxtaW5sZW5ndGgsbWVkaWEsbWluLG11bHRpcGxlLG11dGVkLG5hbWUsbm92YWxpZGF0ZSxvcGVuLG9wdGltdW0scGF0dGVybixwaW5nLHBsYWNlaG9sZGVyLHBvc3RlcixwcmVsb2FkLHJhZGlvZ3JvdXAscmVhZG9ubHkscmVmZXJyZXJwb2xpY3kscmVsLHJlcXVpcmVkLHJldmVyc2VkLHJvd3Mscm93c3BhbixzYW5kYm94LHNjb3BlLHNjb3BlZCxzZWxlY3RlZCxzaGFwZSxzaXplLHNpemVzLHNsb3Qsc3BhbixzcGVsbGNoZWNrLHNyYyxzcmNkb2Msc3JjbGFuZyxzcmNzZXQsc3RhcnQsc3RlcCxzdHlsZSxzdW1tYXJ5LHRhYmluZGV4LHRhcmdldCx0aXRsZSx0cmFuc2xhdGUsdHlwZSx1c2VtYXAsdmFsdWUsd2lkdGgsd3JhcGBcbik7XG5jb25zdCBpc0tub3duU3ZnQXR0ciA9IC8qIEBfX1BVUkVfXyAqLyBtYWtlTWFwKFxuICBgeG1sbnMsYWNjZW50LWhlaWdodCxhY2N1bXVsYXRlLGFkZGl0aXZlLGFsaWdubWVudC1iYXNlbGluZSxhbHBoYWJldGljLGFtcGxpdHVkZSxhcmFiaWMtZm9ybSxhc2NlbnQsYXR0cmlidXRlTmFtZSxhdHRyaWJ1dGVUeXBlLGF6aW11dGgsYmFzZUZyZXF1ZW5jeSxiYXNlbGluZS1zaGlmdCxiYXNlUHJvZmlsZSxiYm94LGJlZ2luLGJpYXMsYnksY2FsY01vZGUsY2FwLWhlaWdodCxjbGFzcyxjbGlwLGNsaXBQYXRoVW5pdHMsY2xpcC1wYXRoLGNsaXAtcnVsZSxjb2xvcixjb2xvci1pbnRlcnBvbGF0aW9uLGNvbG9yLWludGVycG9sYXRpb24tZmlsdGVycyxjb2xvci1wcm9maWxlLGNvbG9yLXJlbmRlcmluZyxjb250ZW50U2NyaXB0VHlwZSxjb250ZW50U3R5bGVUeXBlLGNyb3Nzb3JpZ2luLGN1cnNvcixjeCxjeSxkLGRlY2VsZXJhdGUsZGVzY2VudCxkaWZmdXNlQ29uc3RhbnQsZGlyZWN0aW9uLGRpc3BsYXksZGl2aXNvcixkb21pbmFudC1iYXNlbGluZSxkdXIsZHgsZHksZWRnZU1vZGUsZWxldmF0aW9uLGVuYWJsZS1iYWNrZ3JvdW5kLGVuZCxleHBvbmVudCxmaWxsLGZpbGwtb3BhY2l0eSxmaWxsLXJ1bGUsZmlsdGVyLGZpbHRlclJlcyxmaWx0ZXJVbml0cyxmbG9vZC1jb2xvcixmbG9vZC1vcGFjaXR5LGZvbnQtZmFtaWx5LGZvbnQtc2l6ZSxmb250LXNpemUtYWRqdXN0LGZvbnQtc3RyZXRjaCxmb250LXN0eWxlLGZvbnQtdmFyaWFudCxmb250LXdlaWdodCxmb3JtYXQsZnJvbSxmcixmeCxmeSxnMSxnMixnbHlwaC1uYW1lLGdseXBoLW9yaWVudGF0aW9uLWhvcml6b250YWwsZ2x5cGgtb3JpZW50YXRpb24tdmVydGljYWwsZ2x5cGhSZWYsZ3JhZGllbnRUcmFuc2Zvcm0sZ3JhZGllbnRVbml0cyxoYW5naW5nLGhlaWdodCxocmVmLGhyZWZsYW5nLGhvcml6LWFkdi14LGhvcml6LW9yaWdpbi14LGlkLGlkZW9ncmFwaGljLGltYWdlLXJlbmRlcmluZyxpbixpbjIsaW50ZXJjZXB0LGssazEsazIsazMsazQsa2VybmVsTWF0cml4LGtlcm5lbFVuaXRMZW5ndGgsa2VybmluZyxrZXlQb2ludHMsa2V5U3BsaW5lcyxrZXlUaW1lcyxsYW5nLGxlbmd0aEFkanVzdCxsZXR0ZXItc3BhY2luZyxsaWdodGluZy1jb2xvcixsaW1pdGluZ0NvbmVBbmdsZSxsb2NhbCxtYXJrZXItZW5kLG1hcmtlci1taWQsbWFya2VyLXN0YXJ0LG1hcmtlckhlaWdodCxtYXJrZXJVbml0cyxtYXJrZXJXaWR0aCxtYXNrLG1hc2tDb250ZW50VW5pdHMsbWFza1VuaXRzLG1hdGhlbWF0aWNhbCxtYXgsbWVkaWEsbWV0aG9kLG1pbixtb2RlLG5hbWUsbnVtT2N0YXZlcyxvZmZzZXQsb3BhY2l0eSxvcGVyYXRvcixvcmRlcixvcmllbnQsb3JpZW50YXRpb24sb3JpZ2luLG92ZXJmbG93LG92ZXJsaW5lLXBvc2l0aW9uLG92ZXJsaW5lLXRoaWNrbmVzcyxwYW5vc2UtMSxwYWludC1vcmRlcixwYXRoLHBhdGhMZW5ndGgscGF0dGVybkNvbnRlbnRVbml0cyxwYXR0ZXJuVHJhbnNmb3JtLHBhdHRlcm5Vbml0cyxwaW5nLHBvaW50ZXItZXZlbnRzLHBvaW50cyxwb2ludHNBdFgscG9pbnRzQXRZLHBvaW50c0F0WixwcmVzZXJ2ZUFscGhhLHByZXNlcnZlQXNwZWN0UmF0aW8scHJpbWl0aXZlVW5pdHMscixyYWRpdXMscmVmZXJyZXJQb2xpY3kscmVmWCxyZWZZLHJlbCxyZW5kZXJpbmctaW50ZW50LHJlcGVhdENvdW50LHJlcGVhdER1cixyZXF1aXJlZEV4dGVuc2lvbnMscmVxdWlyZWRGZWF0dXJlcyxyZXN0YXJ0LHJlc3VsdCxyb3RhdGUscngscnksc2NhbGUsc2VlZCxzaGFwZS1yZW5kZXJpbmcsc2xvcGUsc3BhY2luZyxzcGVjdWxhckNvbnN0YW50LHNwZWN1bGFyRXhwb25lbnQsc3BlZWQsc3ByZWFkTWV0aG9kLHN0YXJ0T2Zmc2V0LHN0ZERldmlhdGlvbixzdGVtaCxzdGVtdixzdGl0Y2hUaWxlcyxzdG9wLWNvbG9yLHN0b3Atb3BhY2l0eSxzdHJpa2V0aHJvdWdoLXBvc2l0aW9uLHN0cmlrZXRocm91Z2gtdGhpY2tuZXNzLHN0cmluZyxzdHJva2Usc3Ryb2tlLWRhc2hhcnJheSxzdHJva2UtZGFzaG9mZnNldCxzdHJva2UtbGluZWNhcCxzdHJva2UtbGluZWpvaW4sc3Ryb2tlLW1pdGVybGltaXQsc3Ryb2tlLW9wYWNpdHksc3Ryb2tlLXdpZHRoLHN0eWxlLHN1cmZhY2VTY2FsZSxzeXN0ZW1MYW5ndWFnZSx0YWJpbmRleCx0YWJsZVZhbHVlcyx0YXJnZXQsdGFyZ2V0WCx0YXJnZXRZLHRleHQtYW5jaG9yLHRleHQtZGVjb3JhdGlvbix0ZXh0LXJlbmRlcmluZyx0ZXh0TGVuZ3RoLHRvLHRyYW5zZm9ybSx0cmFuc2Zvcm0tb3JpZ2luLHR5cGUsdTEsdTIsdW5kZXJsaW5lLXBvc2l0aW9uLHVuZGVybGluZS10aGlja25lc3MsdW5pY29kZSx1bmljb2RlLWJpZGksdW5pY29kZS1yYW5nZSx1bml0cy1wZXItZW0sdi1hbHBoYWJldGljLHYtaGFuZ2luZyx2LWlkZW9ncmFwaGljLHYtbWF0aGVtYXRpY2FsLHZhbHVlcyx2ZWN0b3ItZWZmZWN0LHZlcnNpb24sdmVydC1hZHYteSx2ZXJ0LW9yaWdpbi14LHZlcnQtb3JpZ2luLXksdmlld0JveCx2aWV3VGFyZ2V0LHZpc2liaWxpdHksd2lkdGgsd2lkdGhzLHdvcmQtc3BhY2luZyx3cml0aW5nLW1vZGUseCx4LWhlaWdodCx4MSx4Mix4Q2hhbm5lbFNlbGVjdG9yLHhsaW5rOmFjdHVhdGUseGxpbms6YXJjcm9sZSx4bGluazpocmVmLHhsaW5rOnJvbGUseGxpbms6c2hvdyx4bGluazp0aXRsZSx4bGluazp0eXBlLHhtbG5zOnhsaW5rLHhtbDpiYXNlLHhtbDpsYW5nLHhtbDpzcGFjZSx5LHkxLHkyLHlDaGFubmVsU2VsZWN0b3Iseix6b29tQW5kUGFuYFxuKTtcbmZ1bmN0aW9uIGlzUmVuZGVyYWJsZUF0dHJWYWx1ZSh2YWx1ZSkge1xuICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gdHlwZSA9PT0gXCJzdHJpbmdcIiB8fCB0eXBlID09PSBcIm51bWJlclwiIHx8IHR5cGUgPT09IFwiYm9vbGVhblwiO1xufVxuXG5jb25zdCBlc2NhcGVSRSA9IC9bXCInJjw+XS87XG5mdW5jdGlvbiBlc2NhcGVIdG1sKHN0cmluZykge1xuICBjb25zdCBzdHIgPSBcIlwiICsgc3RyaW5nO1xuICBjb25zdCBtYXRjaCA9IGVzY2FwZVJFLmV4ZWMoc3RyKTtcbiAgaWYgKCFtYXRjaCkge1xuICAgIHJldHVybiBzdHI7XG4gIH1cbiAgbGV0IGh0bWwgPSBcIlwiO1xuICBsZXQgZXNjYXBlZDtcbiAgbGV0IGluZGV4O1xuICBsZXQgbGFzdEluZGV4ID0gMDtcbiAgZm9yIChpbmRleCA9IG1hdGNoLmluZGV4OyBpbmRleCA8IHN0ci5sZW5ndGg7IGluZGV4KyspIHtcbiAgICBzd2l0Y2ggKHN0ci5jaGFyQ29kZUF0KGluZGV4KSkge1xuICAgICAgY2FzZSAzNDpcbiAgICAgICAgZXNjYXBlZCA9IFwiJnF1b3Q7XCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAzODpcbiAgICAgICAgZXNjYXBlZCA9IFwiJmFtcDtcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDM5OlxuICAgICAgICBlc2NhcGVkID0gXCImIzM5O1wiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgNjA6XG4gICAgICAgIGVzY2FwZWQgPSBcIiZsdDtcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDYyOlxuICAgICAgICBlc2NhcGVkID0gXCImZ3Q7XCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChsYXN0SW5kZXggIT09IGluZGV4KSB7XG4gICAgICBodG1sICs9IHN0ci5zbGljZShsYXN0SW5kZXgsIGluZGV4KTtcbiAgICB9XG4gICAgbGFzdEluZGV4ID0gaW5kZXggKyAxO1xuICAgIGh0bWwgKz0gZXNjYXBlZDtcbiAgfVxuICByZXR1cm4gbGFzdEluZGV4ICE9PSBpbmRleCA/IGh0bWwgKyBzdHIuc2xpY2UobGFzdEluZGV4LCBpbmRleCkgOiBodG1sO1xufVxuY29uc3QgY29tbWVudFN0cmlwUkUgPSAvXi0/Pnw8IS0tfC0tPnwtLSE+fDwhLSQvZztcbmZ1bmN0aW9uIGVzY2FwZUh0bWxDb21tZW50KHNyYykge1xuICByZXR1cm4gc3JjLnJlcGxhY2UoY29tbWVudFN0cmlwUkUsIFwiXCIpO1xufVxuXG5mdW5jdGlvbiBsb29zZUNvbXBhcmVBcnJheXMoYSwgYikge1xuICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gIGxldCBlcXVhbCA9IHRydWU7XG4gIGZvciAobGV0IGkgPSAwOyBlcXVhbCAmJiBpIDwgYS5sZW5ndGg7IGkrKykge1xuICAgIGVxdWFsID0gbG9vc2VFcXVhbChhW2ldLCBiW2ldKTtcbiAgfVxuICByZXR1cm4gZXF1YWw7XG59XG5mdW5jdGlvbiBsb29zZUVxdWFsKGEsIGIpIHtcbiAgaWYgKGEgPT09IGIpIHJldHVybiB0cnVlO1xuICBsZXQgYVZhbGlkVHlwZSA9IGlzRGF0ZShhKTtcbiAgbGV0IGJWYWxpZFR5cGUgPSBpc0RhdGUoYik7XG4gIGlmIChhVmFsaWRUeXBlIHx8IGJWYWxpZFR5cGUpIHtcbiAgICByZXR1cm4gYVZhbGlkVHlwZSAmJiBiVmFsaWRUeXBlID8gYS5nZXRUaW1lKCkgPT09IGIuZ2V0VGltZSgpIDogZmFsc2U7XG4gIH1cbiAgYVZhbGlkVHlwZSA9IGlzU3ltYm9sKGEpO1xuICBiVmFsaWRUeXBlID0gaXNTeW1ib2woYik7XG4gIGlmIChhVmFsaWRUeXBlIHx8IGJWYWxpZFR5cGUpIHtcbiAgICByZXR1cm4gYSA9PT0gYjtcbiAgfVxuICBhVmFsaWRUeXBlID0gaXNBcnJheShhKTtcbiAgYlZhbGlkVHlwZSA9IGlzQXJyYXkoYik7XG4gIGlmIChhVmFsaWRUeXBlIHx8IGJWYWxpZFR5cGUpIHtcbiAgICByZXR1cm4gYVZhbGlkVHlwZSAmJiBiVmFsaWRUeXBlID8gbG9vc2VDb21wYXJlQXJyYXlzKGEsIGIpIDogZmFsc2U7XG4gIH1cbiAgYVZhbGlkVHlwZSA9IGlzT2JqZWN0KGEpO1xuICBiVmFsaWRUeXBlID0gaXNPYmplY3QoYik7XG4gIGlmIChhVmFsaWRUeXBlIHx8IGJWYWxpZFR5cGUpIHtcbiAgICBpZiAoIWFWYWxpZFR5cGUgfHwgIWJWYWxpZFR5cGUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgYUtleXNDb3VudCA9IE9iamVjdC5rZXlzKGEpLmxlbmd0aDtcbiAgICBjb25zdCBiS2V5c0NvdW50ID0gT2JqZWN0LmtleXMoYikubGVuZ3RoO1xuICAgIGlmIChhS2V5c0NvdW50ICE9PSBiS2V5c0NvdW50KSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZvciAoY29uc3Qga2V5IGluIGEpIHtcbiAgICAgIGNvbnN0IGFIYXNLZXkgPSBhLmhhc093blByb3BlcnR5KGtleSk7XG4gICAgICBjb25zdCBiSGFzS2V5ID0gYi5oYXNPd25Qcm9wZXJ0eShrZXkpO1xuICAgICAgaWYgKGFIYXNLZXkgJiYgIWJIYXNLZXkgfHwgIWFIYXNLZXkgJiYgYkhhc0tleSB8fCAhbG9vc2VFcXVhbChhW2tleV0sIGJba2V5XSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gU3RyaW5nKGEpID09PSBTdHJpbmcoYik7XG59XG5mdW5jdGlvbiBsb29zZUluZGV4T2YoYXJyLCB2YWwpIHtcbiAgcmV0dXJuIGFyci5maW5kSW5kZXgoKGl0ZW0pID0+IGxvb3NlRXF1YWwoaXRlbSwgdmFsKSk7XG59XG5cbmNvbnN0IHRvRGlzcGxheVN0cmluZyA9ICh2YWwpID0+IHtcbiAgcmV0dXJuIGlzU3RyaW5nKHZhbCkgPyB2YWwgOiB2YWwgPT0gbnVsbCA/IFwiXCIgOiBpc0FycmF5KHZhbCkgfHwgaXNPYmplY3QodmFsKSAmJiAodmFsLnRvU3RyaW5nID09PSBvYmplY3RUb1N0cmluZyB8fCAhaXNGdW5jdGlvbih2YWwudG9TdHJpbmcpKSA/IEpTT04uc3RyaW5naWZ5KHZhbCwgcmVwbGFjZXIsIDIpIDogU3RyaW5nKHZhbCk7XG59O1xuY29uc3QgcmVwbGFjZXIgPSAoX2tleSwgdmFsKSA9PiB7XG4gIGlmICh2YWwgJiYgdmFsLl9fdl9pc1JlZikge1xuICAgIHJldHVybiByZXBsYWNlcihfa2V5LCB2YWwudmFsdWUpO1xuICB9IGVsc2UgaWYgKGlzTWFwKHZhbCkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgW2BNYXAoJHt2YWwuc2l6ZX0pYF06IFsuLi52YWwuZW50cmllcygpXS5yZWR1Y2UoXG4gICAgICAgIChlbnRyaWVzLCBba2V5LCB2YWwyXSwgaSkgPT4ge1xuICAgICAgICAgIGVudHJpZXNbc3RyaW5naWZ5U3ltYm9sKGtleSwgaSkgKyBcIiA9PlwiXSA9IHZhbDI7XG4gICAgICAgICAgcmV0dXJuIGVudHJpZXM7XG4gICAgICAgIH0sXG4gICAgICAgIHt9XG4gICAgICApXG4gICAgfTtcbiAgfSBlbHNlIGlmIChpc1NldCh2YWwpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIFtgU2V0KCR7dmFsLnNpemV9KWBdOiBbLi4udmFsLnZhbHVlcygpXS5tYXAoKHYpID0+IHN0cmluZ2lmeVN5bWJvbCh2KSlcbiAgICB9O1xuICB9IGVsc2UgaWYgKGlzU3ltYm9sKHZhbCkpIHtcbiAgICByZXR1cm4gc3RyaW5naWZ5U3ltYm9sKHZhbCk7XG4gIH0gZWxzZSBpZiAoaXNPYmplY3QodmFsKSAmJiAhaXNBcnJheSh2YWwpICYmICFpc1BsYWluT2JqZWN0KHZhbCkpIHtcbiAgICByZXR1cm4gU3RyaW5nKHZhbCk7XG4gIH1cbiAgcmV0dXJuIHZhbDtcbn07XG5jb25zdCBzdHJpbmdpZnlTeW1ib2wgPSAodiwgaSA9IFwiXCIpID0+IHtcbiAgdmFyIF9hO1xuICByZXR1cm4gKFxuICAgIC8vIFN5bWJvbC5kZXNjcmlwdGlvbiBpbiBlczIwMTkrIHNvIHdlIG5lZWQgdG8gY2FzdCBoZXJlIHRvIHBhc3NcbiAgICAvLyB0aGUgbGliOiBlczIwMTYgY2hlY2tcbiAgICBpc1N5bWJvbCh2KSA/IGBTeW1ib2woJHsoX2EgPSB2LmRlc2NyaXB0aW9uKSAhPSBudWxsID8gX2EgOiBpfSlgIDogdlxuICApO1xufTtcblxuZXhwb3J0IHsgRU1QVFlfQVJSLCBFTVBUWV9PQkosIE5PLCBOT09QLCBQYXRjaEZsYWdOYW1lcywgUGF0Y2hGbGFncywgU2hhcGVGbGFncywgU2xvdEZsYWdzLCBjYW1lbGl6ZSwgY2FwaXRhbGl6ZSwgZGVmLCBlc2NhcGVIdG1sLCBlc2NhcGVIdG1sQ29tbWVudCwgZXh0ZW5kLCBnZW5Qcm9wc0FjY2Vzc0V4cCwgZ2VuZXJhdGVDb2RlRnJhbWUsIGdldEdsb2JhbFRoaXMsIGhhc0NoYW5nZWQsIGhhc093biwgaHlwaGVuYXRlLCBpbmNsdWRlQm9vbGVhbkF0dHIsIGludm9rZUFycmF5Rm5zLCBpc0FycmF5LCBpc0Jvb2xlYW5BdHRyLCBpc0J1aWx0SW5EaXJlY3RpdmUsIGlzRGF0ZSwgaXNGdW5jdGlvbiwgaXNHbG9iYWxseUFsbG93ZWQsIGlzR2xvYmFsbHlXaGl0ZWxpc3RlZCwgaXNIVE1MVGFnLCBpc0ludGVnZXJLZXksIGlzS25vd25IdG1sQXR0ciwgaXNLbm93blN2Z0F0dHIsIGlzTWFwLCBpc01hdGhNTFRhZywgaXNNb2RlbExpc3RlbmVyLCBpc09iamVjdCwgaXNPbiwgaXNQbGFpbk9iamVjdCwgaXNQcm9taXNlLCBpc1JlZ0V4cCwgaXNSZW5kZXJhYmxlQXR0clZhbHVlLCBpc1Jlc2VydmVkUHJvcCwgaXNTU1JTYWZlQXR0ck5hbWUsIGlzU1ZHVGFnLCBpc1NldCwgaXNTcGVjaWFsQm9vbGVhbkF0dHIsIGlzU3RyaW5nLCBpc1N5bWJvbCwgaXNWb2lkVGFnLCBsb29zZUVxdWFsLCBsb29zZUluZGV4T2YsIGxvb3NlVG9OdW1iZXIsIG1ha2VNYXAsIG5vcm1hbGl6ZUNsYXNzLCBub3JtYWxpemVQcm9wcywgbm9ybWFsaXplU3R5bGUsIG9iamVjdFRvU3RyaW5nLCBwYXJzZVN0cmluZ1N0eWxlLCBwcm9wc1RvQXR0ck1hcCwgcmVtb3ZlLCBzbG90RmxhZ3NUZXh0LCBzdHJpbmdpZnlTdHlsZSwgdG9EaXNwbGF5U3RyaW5nLCB0b0hhbmRsZXJLZXksIHRvTnVtYmVyLCB0b1Jhd1R5cGUsIHRvVHlwZVN0cmluZyB9O1xuIiwiLyoqXG4qIEB2dWUvcmVhY3Rpdml0eSB2My40LjI5XG4qIChjKSAyMDE4LXByZXNlbnQgWXV4aSAoRXZhbikgWW91IGFuZCBWdWUgY29udHJpYnV0b3JzXG4qIEBsaWNlbnNlIE1JVFxuKiovXG5pbXBvcnQgeyBOT09QLCBleHRlbmQsIGlzQXJyYXksIGlzU3ltYm9sLCBpc01hcCwgaXNJbnRlZ2VyS2V5LCBoYXNPd24sIGhhc0NoYW5nZWQsIGlzT2JqZWN0LCBtYWtlTWFwLCBjYXBpdGFsaXplLCB0b1Jhd1R5cGUsIGRlZiwgaXNGdW5jdGlvbiB9IGZyb20gJ0B2dWUvc2hhcmVkJztcblxuZnVuY3Rpb24gd2Fybihtc2csIC4uLmFyZ3MpIHtcbiAgY29uc29sZS53YXJuKGBbVnVlIHdhcm5dICR7bXNnfWAsIC4uLmFyZ3MpO1xufVxuXG5sZXQgYWN0aXZlRWZmZWN0U2NvcGU7XG5jbGFzcyBFZmZlY3RTY29wZSB7XG4gIGNvbnN0cnVjdG9yKGRldGFjaGVkID0gZmFsc2UpIHtcbiAgICB0aGlzLmRldGFjaGVkID0gZGV0YWNoZWQ7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5fYWN0aXZlID0gdHJ1ZTtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB0aGlzLmVmZmVjdHMgPSBbXTtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB0aGlzLmNsZWFudXBzID0gW107XG4gICAgdGhpcy5wYXJlbnQgPSBhY3RpdmVFZmZlY3RTY29wZTtcbiAgICBpZiAoIWRldGFjaGVkICYmIGFjdGl2ZUVmZmVjdFNjb3BlKSB7XG4gICAgICB0aGlzLmluZGV4ID0gKGFjdGl2ZUVmZmVjdFNjb3BlLnNjb3BlcyB8fCAoYWN0aXZlRWZmZWN0U2NvcGUuc2NvcGVzID0gW10pKS5wdXNoKFxuICAgICAgICB0aGlzXG4gICAgICApIC0gMTtcbiAgICB9XG4gIH1cbiAgZ2V0IGFjdGl2ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fYWN0aXZlO1xuICB9XG4gIHJ1bihmbikge1xuICAgIGlmICh0aGlzLl9hY3RpdmUpIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRFZmZlY3RTY29wZSA9IGFjdGl2ZUVmZmVjdFNjb3BlO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYWN0aXZlRWZmZWN0U2NvcGUgPSB0aGlzO1xuICAgICAgICByZXR1cm4gZm4oKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGFjdGl2ZUVmZmVjdFNjb3BlID0gY3VycmVudEVmZmVjdFNjb3BlO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgd2FybihgY2Fubm90IHJ1biBhbiBpbmFjdGl2ZSBlZmZlY3Qgc2NvcGUuYCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBUaGlzIHNob3VsZCBvbmx5IGJlIGNhbGxlZCBvbiBub24tZGV0YWNoZWQgc2NvcGVzXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgb24oKSB7XG4gICAgYWN0aXZlRWZmZWN0U2NvcGUgPSB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBUaGlzIHNob3VsZCBvbmx5IGJlIGNhbGxlZCBvbiBub24tZGV0YWNoZWQgc2NvcGVzXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgb2ZmKCkge1xuICAgIGFjdGl2ZUVmZmVjdFNjb3BlID0gdGhpcy5wYXJlbnQ7XG4gIH1cbiAgc3RvcChmcm9tUGFyZW50KSB7XG4gICAgaWYgKHRoaXMuX2FjdGl2ZSkge1xuICAgICAgbGV0IGksIGw7XG4gICAgICBmb3IgKGkgPSAwLCBsID0gdGhpcy5lZmZlY3RzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICB0aGlzLmVmZmVjdHNbaV0uc3RvcCgpO1xuICAgICAgfVxuICAgICAgZm9yIChpID0gMCwgbCA9IHRoaXMuY2xlYW51cHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHRoaXMuY2xlYW51cHNbaV0oKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnNjb3Blcykge1xuICAgICAgICBmb3IgKGkgPSAwLCBsID0gdGhpcy5zY29wZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgdGhpcy5zY29wZXNbaV0uc3RvcCh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCF0aGlzLmRldGFjaGVkICYmIHRoaXMucGFyZW50ICYmICFmcm9tUGFyZW50KSB7XG4gICAgICAgIGNvbnN0IGxhc3QgPSB0aGlzLnBhcmVudC5zY29wZXMucG9wKCk7XG4gICAgICAgIGlmIChsYXN0ICYmIGxhc3QgIT09IHRoaXMpIHtcbiAgICAgICAgICB0aGlzLnBhcmVudC5zY29wZXNbdGhpcy5pbmRleF0gPSBsYXN0O1xuICAgICAgICAgIGxhc3QuaW5kZXggPSB0aGlzLmluZGV4O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLnBhcmVudCA9IHZvaWQgMDtcbiAgICAgIHRoaXMuX2FjdGl2ZSA9IGZhbHNlO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gZWZmZWN0U2NvcGUoZGV0YWNoZWQpIHtcbiAgcmV0dXJuIG5ldyBFZmZlY3RTY29wZShkZXRhY2hlZCk7XG59XG5mdW5jdGlvbiByZWNvcmRFZmZlY3RTY29wZShlZmZlY3QsIHNjb3BlID0gYWN0aXZlRWZmZWN0U2NvcGUpIHtcbiAgaWYgKHNjb3BlICYmIHNjb3BlLmFjdGl2ZSkge1xuICAgIHNjb3BlLmVmZmVjdHMucHVzaChlZmZlY3QpO1xuICB9XG59XG5mdW5jdGlvbiBnZXRDdXJyZW50U2NvcGUoKSB7XG4gIHJldHVybiBhY3RpdmVFZmZlY3RTY29wZTtcbn1cbmZ1bmN0aW9uIG9uU2NvcGVEaXNwb3NlKGZuKSB7XG4gIGlmIChhY3RpdmVFZmZlY3RTY29wZSkge1xuICAgIGFjdGl2ZUVmZmVjdFNjb3BlLmNsZWFudXBzLnB1c2goZm4pO1xuICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICB3YXJuKFxuICAgICAgYG9uU2NvcGVEaXNwb3NlKCkgaXMgY2FsbGVkIHdoZW4gdGhlcmUgaXMgbm8gYWN0aXZlIGVmZmVjdCBzY29wZSB0byBiZSBhc3NvY2lhdGVkIHdpdGguYFxuICAgICk7XG4gIH1cbn1cblxubGV0IGFjdGl2ZUVmZmVjdDtcbmNsYXNzIFJlYWN0aXZlRWZmZWN0IHtcbiAgY29uc3RydWN0b3IoZm4sIHRyaWdnZXIsIHNjaGVkdWxlciwgc2NvcGUpIHtcbiAgICB0aGlzLmZuID0gZm47XG4gICAgdGhpcy50cmlnZ2VyID0gdHJpZ2dlcjtcbiAgICB0aGlzLnNjaGVkdWxlciA9IHNjaGVkdWxlcjtcbiAgICB0aGlzLmFjdGl2ZSA9IHRydWU7XG4gICAgdGhpcy5kZXBzID0gW107XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5fZGlydHlMZXZlbCA9IDU7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5fdHJhY2tJZCA9IDA7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5fcnVubmluZ3MgPSAwO1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHRoaXMuX3Nob3VsZFNjaGVkdWxlID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5fZGVwc0xlbmd0aCA9IDA7XG4gICAgcmVjb3JkRWZmZWN0U2NvcGUodGhpcywgc2NvcGUpO1xuICB9XG4gIGdldCBkaXJ0eSgpIHtcbiAgICBpZiAodGhpcy5fZGlydHlMZXZlbCA9PT0gMilcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAodGhpcy5fZGlydHlMZXZlbCA9PT0gMyB8fCB0aGlzLl9kaXJ0eUxldmVsID09PSA0KSB7XG4gICAgICB0aGlzLl9kaXJ0eUxldmVsID0gMTtcbiAgICAgIHBhdXNlVHJhY2tpbmcoKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fZGVwc0xlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGRlcCA9IHRoaXMuZGVwc1tpXTtcbiAgICAgICAgaWYgKGRlcC5jb21wdXRlZCkge1xuICAgICAgICAgIGlmIChkZXAuY29tcHV0ZWQuZWZmZWN0Ll9kaXJ0eUxldmVsID09PSAyKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgdHJpZ2dlckNvbXB1dGVkKGRlcC5jb21wdXRlZCk7XG4gICAgICAgICAgaWYgKHRoaXMuX2RpcnR5TGV2ZWwgPj0gNSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5fZGlydHlMZXZlbCA9PT0gMSkge1xuICAgICAgICB0aGlzLl9kaXJ0eUxldmVsID0gMDtcbiAgICAgIH1cbiAgICAgIHJlc2V0VHJhY2tpbmcoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2RpcnR5TGV2ZWwgPj0gNTtcbiAgfVxuICBzZXQgZGlydHkodikge1xuICAgIHRoaXMuX2RpcnR5TGV2ZWwgPSB2ID8gNSA6IDA7XG4gIH1cbiAgcnVuKCkge1xuICAgIHRoaXMuX2RpcnR5TGV2ZWwgPSAwO1xuICAgIGlmICghdGhpcy5hY3RpdmUpIHtcbiAgICAgIHJldHVybiB0aGlzLmZuKCk7XG4gICAgfVxuICAgIGxldCBsYXN0U2hvdWxkVHJhY2sgPSBzaG91bGRUcmFjaztcbiAgICBsZXQgbGFzdEVmZmVjdCA9IGFjdGl2ZUVmZmVjdDtcbiAgICB0cnkge1xuICAgICAgc2hvdWxkVHJhY2sgPSB0cnVlO1xuICAgICAgYWN0aXZlRWZmZWN0ID0gdGhpcztcbiAgICAgIHRoaXMuX3J1bm5pbmdzKys7XG4gICAgICBwcmVDbGVhbnVwRWZmZWN0KHRoaXMpO1xuICAgICAgcmV0dXJuIHRoaXMuZm4oKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgcG9zdENsZWFudXBFZmZlY3QodGhpcyk7XG4gICAgICB0aGlzLl9ydW5uaW5ncy0tO1xuICAgICAgYWN0aXZlRWZmZWN0ID0gbGFzdEVmZmVjdDtcbiAgICAgIHNob3VsZFRyYWNrID0gbGFzdFNob3VsZFRyYWNrO1xuICAgIH1cbiAgfVxuICBzdG9wKCkge1xuICAgIGlmICh0aGlzLmFjdGl2ZSkge1xuICAgICAgcHJlQ2xlYW51cEVmZmVjdCh0aGlzKTtcbiAgICAgIHBvc3RDbGVhbnVwRWZmZWN0KHRoaXMpO1xuICAgICAgdGhpcy5vblN0b3AgJiYgdGhpcy5vblN0b3AoKTtcbiAgICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiB0cmlnZ2VyQ29tcHV0ZWQoY29tcHV0ZWQpIHtcbiAgcmV0dXJuIGNvbXB1dGVkLnZhbHVlO1xufVxuZnVuY3Rpb24gcHJlQ2xlYW51cEVmZmVjdChlZmZlY3QyKSB7XG4gIGVmZmVjdDIuX3RyYWNrSWQrKztcbiAgZWZmZWN0Mi5fZGVwc0xlbmd0aCA9IDA7XG59XG5mdW5jdGlvbiBwb3N0Q2xlYW51cEVmZmVjdChlZmZlY3QyKSB7XG4gIGlmIChlZmZlY3QyLmRlcHMubGVuZ3RoID4gZWZmZWN0Mi5fZGVwc0xlbmd0aCkge1xuICAgIGZvciAobGV0IGkgPSBlZmZlY3QyLl9kZXBzTGVuZ3RoOyBpIDwgZWZmZWN0Mi5kZXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjbGVhbnVwRGVwRWZmZWN0KGVmZmVjdDIuZGVwc1tpXSwgZWZmZWN0Mik7XG4gICAgfVxuICAgIGVmZmVjdDIuZGVwcy5sZW5ndGggPSBlZmZlY3QyLl9kZXBzTGVuZ3RoO1xuICB9XG59XG5mdW5jdGlvbiBjbGVhbnVwRGVwRWZmZWN0KGRlcCwgZWZmZWN0Mikge1xuICBjb25zdCB0cmFja0lkID0gZGVwLmdldChlZmZlY3QyKTtcbiAgaWYgKHRyYWNrSWQgIT09IHZvaWQgMCAmJiBlZmZlY3QyLl90cmFja0lkICE9PSB0cmFja0lkKSB7XG4gICAgZGVwLmRlbGV0ZShlZmZlY3QyKTtcbiAgICBpZiAoZGVwLnNpemUgPT09IDApIHtcbiAgICAgIGRlcC5jbGVhbnVwKCk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBlZmZlY3QoZm4sIG9wdGlvbnMpIHtcbiAgaWYgKGZuLmVmZmVjdCBpbnN0YW5jZW9mIFJlYWN0aXZlRWZmZWN0KSB7XG4gICAgZm4gPSBmbi5lZmZlY3QuZm47XG4gIH1cbiAgY29uc3QgX2VmZmVjdCA9IG5ldyBSZWFjdGl2ZUVmZmVjdChmbiwgTk9PUCwgKCkgPT4ge1xuICAgIGlmIChfZWZmZWN0LmRpcnR5KSB7XG4gICAgICBfZWZmZWN0LnJ1bigpO1xuICAgIH1cbiAgfSk7XG4gIGlmIChvcHRpb25zKSB7XG4gICAgZXh0ZW5kKF9lZmZlY3QsIG9wdGlvbnMpO1xuICAgIGlmIChvcHRpb25zLnNjb3BlKSByZWNvcmRFZmZlY3RTY29wZShfZWZmZWN0LCBvcHRpb25zLnNjb3BlKTtcbiAgfVxuICBpZiAoIW9wdGlvbnMgfHwgIW9wdGlvbnMubGF6eSkge1xuICAgIF9lZmZlY3QucnVuKCk7XG4gIH1cbiAgY29uc3QgcnVubmVyID0gX2VmZmVjdC5ydW4uYmluZChfZWZmZWN0KTtcbiAgcnVubmVyLmVmZmVjdCA9IF9lZmZlY3Q7XG4gIHJldHVybiBydW5uZXI7XG59XG5mdW5jdGlvbiBzdG9wKHJ1bm5lcikge1xuICBydW5uZXIuZWZmZWN0LnN0b3AoKTtcbn1cbmxldCBzaG91bGRUcmFjayA9IHRydWU7XG5sZXQgcGF1c2VTY2hlZHVsZVN0YWNrID0gMDtcbmNvbnN0IHRyYWNrU3RhY2sgPSBbXTtcbmZ1bmN0aW9uIHBhdXNlVHJhY2tpbmcoKSB7XG4gIHRyYWNrU3RhY2sucHVzaChzaG91bGRUcmFjayk7XG4gIHNob3VsZFRyYWNrID0gZmFsc2U7XG59XG5mdW5jdGlvbiBlbmFibGVUcmFja2luZygpIHtcbiAgdHJhY2tTdGFjay5wdXNoKHNob3VsZFRyYWNrKTtcbiAgc2hvdWxkVHJhY2sgPSB0cnVlO1xufVxuZnVuY3Rpb24gcmVzZXRUcmFja2luZygpIHtcbiAgY29uc3QgbGFzdCA9IHRyYWNrU3RhY2sucG9wKCk7XG4gIHNob3VsZFRyYWNrID0gbGFzdCA9PT0gdm9pZCAwID8gdHJ1ZSA6IGxhc3Q7XG59XG5mdW5jdGlvbiBwYXVzZVNjaGVkdWxpbmcoKSB7XG4gIHBhdXNlU2NoZWR1bGVTdGFjaysrO1xufVxuZnVuY3Rpb24gcmVzZXRTY2hlZHVsaW5nKCkge1xuICBwYXVzZVNjaGVkdWxlU3RhY2stLTtcbiAgd2hpbGUgKCFwYXVzZVNjaGVkdWxlU3RhY2sgJiYgcXVldWVFZmZlY3RTY2hlZHVsZXJzLmxlbmd0aCkge1xuICAgIHF1ZXVlRWZmZWN0U2NoZWR1bGVycy5zaGlmdCgpKCk7XG4gIH1cbn1cbmZ1bmN0aW9uIHRyYWNrRWZmZWN0KGVmZmVjdDIsIGRlcCwgZGVidWdnZXJFdmVudEV4dHJhSW5mbykge1xuICB2YXIgX2E7XG4gIGlmIChkZXAuZ2V0KGVmZmVjdDIpICE9PSBlZmZlY3QyLl90cmFja0lkKSB7XG4gICAgZGVwLnNldChlZmZlY3QyLCBlZmZlY3QyLl90cmFja0lkKTtcbiAgICBjb25zdCBvbGREZXAgPSBlZmZlY3QyLmRlcHNbZWZmZWN0Mi5fZGVwc0xlbmd0aF07XG4gICAgaWYgKG9sZERlcCAhPT0gZGVwKSB7XG4gICAgICBpZiAob2xkRGVwKSB7XG4gICAgICAgIGNsZWFudXBEZXBFZmZlY3Qob2xkRGVwLCBlZmZlY3QyKTtcbiAgICAgIH1cbiAgICAgIGVmZmVjdDIuZGVwc1tlZmZlY3QyLl9kZXBzTGVuZ3RoKytdID0gZGVwO1xuICAgIH0gZWxzZSB7XG4gICAgICBlZmZlY3QyLl9kZXBzTGVuZ3RoKys7XG4gICAgfVxuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAoX2EgPSBlZmZlY3QyLm9uVHJhY2spID09IG51bGwgPyB2b2lkIDAgOiBfYS5jYWxsKGVmZmVjdDIsIGV4dGVuZCh7IGVmZmVjdDogZWZmZWN0MiB9LCBkZWJ1Z2dlckV2ZW50RXh0cmFJbmZvKSk7XG4gICAgfVxuICB9XG59XG5jb25zdCBxdWV1ZUVmZmVjdFNjaGVkdWxlcnMgPSBbXTtcbmZ1bmN0aW9uIHRyaWdnZXJFZmZlY3RzKGRlcCwgZGlydHlMZXZlbCwgZGVidWdnZXJFdmVudEV4dHJhSW5mbykge1xuICB2YXIgX2E7XG4gIHBhdXNlU2NoZWR1bGluZygpO1xuICBmb3IgKGNvbnN0IGVmZmVjdDIgb2YgZGVwLmtleXMoKSkge1xuICAgIGlmICghZGVwLmNvbXB1dGVkICYmIGVmZmVjdDIuY29tcHV0ZWQpIHtcbiAgICAgIGlmIChkZXAuZ2V0KGVmZmVjdDIpID09PSBlZmZlY3QyLl90cmFja0lkICYmIGVmZmVjdDIuX3J1bm5pbmdzID4gMCkge1xuICAgICAgICBlZmZlY3QyLl9kaXJ0eUxldmVsID0gMjtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgfVxuICAgIGxldCB0cmFja2luZztcbiAgICBpZiAoZWZmZWN0Mi5fZGlydHlMZXZlbCA8IGRpcnR5TGV2ZWwgJiYgKHRyYWNraW5nICE9IG51bGwgPyB0cmFja2luZyA6IHRyYWNraW5nID0gZGVwLmdldChlZmZlY3QyKSA9PT0gZWZmZWN0Mi5fdHJhY2tJZCkpIHtcbiAgICAgIGVmZmVjdDIuX3Nob3VsZFNjaGVkdWxlIHx8IChlZmZlY3QyLl9zaG91bGRTY2hlZHVsZSA9IGVmZmVjdDIuX2RpcnR5TGV2ZWwgPT09IDApO1xuICAgICAgaWYgKGVmZmVjdDIuY29tcHV0ZWQgJiYgZWZmZWN0Mi5fZGlydHlMZXZlbCA9PT0gMikge1xuICAgICAgICBlZmZlY3QyLl9zaG91bGRTY2hlZHVsZSA9IHRydWU7XG4gICAgICB9XG4gICAgICBlZmZlY3QyLl9kaXJ0eUxldmVsID0gZGlydHlMZXZlbDtcbiAgICB9XG4gICAgaWYgKGVmZmVjdDIuX3Nob3VsZFNjaGVkdWxlICYmICh0cmFja2luZyAhPSBudWxsID8gdHJhY2tpbmcgOiB0cmFja2luZyA9IGRlcC5nZXQoZWZmZWN0MikgPT09IGVmZmVjdDIuX3RyYWNrSWQpKSB7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAoX2EgPSBlZmZlY3QyLm9uVHJpZ2dlcikgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmNhbGwoZWZmZWN0MiwgZXh0ZW5kKHsgZWZmZWN0OiBlZmZlY3QyIH0sIGRlYnVnZ2VyRXZlbnRFeHRyYUluZm8pKTtcbiAgICAgIH1cbiAgICAgIGVmZmVjdDIudHJpZ2dlcigpO1xuICAgICAgaWYgKCghZWZmZWN0Mi5fcnVubmluZ3MgfHwgZWZmZWN0Mi5hbGxvd1JlY3Vyc2UpICYmIGVmZmVjdDIuX2RpcnR5TGV2ZWwgIT09IDMpIHtcbiAgICAgICAgZWZmZWN0Mi5fc2hvdWxkU2NoZWR1bGUgPSBmYWxzZTtcbiAgICAgICAgaWYgKGVmZmVjdDIuc2NoZWR1bGVyKSB7XG4gICAgICAgICAgcXVldWVFZmZlY3RTY2hlZHVsZXJzLnB1c2goZWZmZWN0Mi5zY2hlZHVsZXIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJlc2V0U2NoZWR1bGluZygpO1xufVxuXG5jb25zdCBjcmVhdGVEZXAgPSAoY2xlYW51cCwgY29tcHV0ZWQpID0+IHtcbiAgY29uc3QgZGVwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgZGVwLmNsZWFudXAgPSBjbGVhbnVwO1xuICBkZXAuY29tcHV0ZWQgPSBjb21wdXRlZDtcbiAgcmV0dXJuIGRlcDtcbn07XG5cbmNvbnN0IHRhcmdldE1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xuY29uc3QgSVRFUkFURV9LRVkgPSBTeW1ib2woISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IFwiaXRlcmF0ZVwiIDogXCJcIik7XG5jb25zdCBNQVBfS0VZX0lURVJBVEVfS0VZID0gU3ltYm9sKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBcIk1hcCBrZXkgaXRlcmF0ZVwiIDogXCJcIik7XG5mdW5jdGlvbiB0cmFjayh0YXJnZXQsIHR5cGUsIGtleSkge1xuICBpZiAoc2hvdWxkVHJhY2sgJiYgYWN0aXZlRWZmZWN0KSB7XG4gICAgbGV0IGRlcHNNYXAgPSB0YXJnZXRNYXAuZ2V0KHRhcmdldCk7XG4gICAgaWYgKCFkZXBzTWFwKSB7XG4gICAgICB0YXJnZXRNYXAuc2V0KHRhcmdldCwgZGVwc01hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCkpO1xuICAgIH1cbiAgICBsZXQgZGVwID0gZGVwc01hcC5nZXQoa2V5KTtcbiAgICBpZiAoIWRlcCkge1xuICAgICAgZGVwc01hcC5zZXQoa2V5LCBkZXAgPSBjcmVhdGVEZXAoKCkgPT4gZGVwc01hcC5kZWxldGUoa2V5KSkpO1xuICAgIH1cbiAgICB0cmFja0VmZmVjdChcbiAgICAgIGFjdGl2ZUVmZmVjdCxcbiAgICAgIGRlcCxcbiAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyB7XG4gICAgICAgIHRhcmdldCxcbiAgICAgICAgdHlwZSxcbiAgICAgICAga2V5XG4gICAgICB9IDogdm9pZCAwXG4gICAgKTtcbiAgfVxufVxuZnVuY3Rpb24gdHJpZ2dlcih0YXJnZXQsIHR5cGUsIGtleSwgbmV3VmFsdWUsIG9sZFZhbHVlLCBvbGRUYXJnZXQpIHtcbiAgY29uc3QgZGVwc01hcCA9IHRhcmdldE1hcC5nZXQodGFyZ2V0KTtcbiAgaWYgKCFkZXBzTWFwKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxldCBkZXBzID0gW107XG4gIGlmICh0eXBlID09PSBcImNsZWFyXCIpIHtcbiAgICBkZXBzID0gWy4uLmRlcHNNYXAudmFsdWVzKCldO1xuICB9IGVsc2UgaWYgKGtleSA9PT0gXCJsZW5ndGhcIiAmJiBpc0FycmF5KHRhcmdldCkpIHtcbiAgICBjb25zdCBuZXdMZW5ndGggPSBOdW1iZXIobmV3VmFsdWUpO1xuICAgIGRlcHNNYXAuZm9yRWFjaCgoZGVwLCBrZXkyKSA9PiB7XG4gICAgICBpZiAoa2V5MiA9PT0gXCJsZW5ndGhcIiB8fCAhaXNTeW1ib2woa2V5MikgJiYga2V5MiA+PSBuZXdMZW5ndGgpIHtcbiAgICAgICAgZGVwcy5wdXNoKGRlcCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKGtleSAhPT0gdm9pZCAwKSB7XG4gICAgICBkZXBzLnB1c2goZGVwc01hcC5nZXQoa2V5KSk7XG4gICAgfVxuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSBcImFkZFwiOlxuICAgICAgICBpZiAoIWlzQXJyYXkodGFyZ2V0KSkge1xuICAgICAgICAgIGRlcHMucHVzaChkZXBzTWFwLmdldChJVEVSQVRFX0tFWSkpO1xuICAgICAgICAgIGlmIChpc01hcCh0YXJnZXQpKSB7XG4gICAgICAgICAgICBkZXBzLnB1c2goZGVwc01hcC5nZXQoTUFQX0tFWV9JVEVSQVRFX0tFWSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChpc0ludGVnZXJLZXkoa2V5KSkge1xuICAgICAgICAgIGRlcHMucHVzaChkZXBzTWFwLmdldChcImxlbmd0aFwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZGVsZXRlXCI6XG4gICAgICAgIGlmICghaXNBcnJheSh0YXJnZXQpKSB7XG4gICAgICAgICAgZGVwcy5wdXNoKGRlcHNNYXAuZ2V0KElURVJBVEVfS0VZKSk7XG4gICAgICAgICAgaWYgKGlzTWFwKHRhcmdldCkpIHtcbiAgICAgICAgICAgIGRlcHMucHVzaChkZXBzTWFwLmdldChNQVBfS0VZX0lURVJBVEVfS0VZKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInNldFwiOlxuICAgICAgICBpZiAoaXNNYXAodGFyZ2V0KSkge1xuICAgICAgICAgIGRlcHMucHVzaChkZXBzTWFwLmdldChJVEVSQVRFX0tFWSkpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICBwYXVzZVNjaGVkdWxpbmcoKTtcbiAgZm9yIChjb25zdCBkZXAgb2YgZGVwcykge1xuICAgIGlmIChkZXApIHtcbiAgICAgIHRyaWdnZXJFZmZlY3RzKFxuICAgICAgICBkZXAsXG4gICAgICAgIDUsXG4gICAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyB7XG4gICAgICAgICAgdGFyZ2V0LFxuICAgICAgICAgIHR5cGUsXG4gICAgICAgICAga2V5LFxuICAgICAgICAgIG5ld1ZhbHVlLFxuICAgICAgICAgIG9sZFZhbHVlLFxuICAgICAgICAgIG9sZFRhcmdldFxuICAgICAgICB9IDogdm9pZCAwXG4gICAgICApO1xuICAgIH1cbiAgfVxuICByZXNldFNjaGVkdWxpbmcoKTtcbn1cbmZ1bmN0aW9uIGdldERlcEZyb21SZWFjdGl2ZShvYmplY3QsIGtleSkge1xuICBjb25zdCBkZXBzTWFwID0gdGFyZ2V0TWFwLmdldChvYmplY3QpO1xuICByZXR1cm4gZGVwc01hcCAmJiBkZXBzTWFwLmdldChrZXkpO1xufVxuXG5jb25zdCBpc05vblRyYWNrYWJsZUtleXMgPSAvKiBAX19QVVJFX18gKi8gbWFrZU1hcChgX19wcm90b19fLF9fdl9pc1JlZixfX2lzVnVlYCk7XG5jb25zdCBidWlsdEluU3ltYm9scyA9IG5ldyBTZXQoXG4gIC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhTeW1ib2wpLmZpbHRlcigoa2V5KSA9PiBrZXkgIT09IFwiYXJndW1lbnRzXCIgJiYga2V5ICE9PSBcImNhbGxlclwiKS5tYXAoKGtleSkgPT4gU3ltYm9sW2tleV0pLmZpbHRlcihpc1N5bWJvbClcbik7XG5jb25zdCBhcnJheUluc3RydW1lbnRhdGlvbnMgPSAvKiBAX19QVVJFX18gKi8gY3JlYXRlQXJyYXlJbnN0cnVtZW50YXRpb25zKCk7XG5mdW5jdGlvbiBjcmVhdGVBcnJheUluc3RydW1lbnRhdGlvbnMoKSB7XG4gIGNvbnN0IGluc3RydW1lbnRhdGlvbnMgPSB7fTtcbiAgW1wiaW5jbHVkZXNcIiwgXCJpbmRleE9mXCIsIFwibGFzdEluZGV4T2ZcIl0uZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgaW5zdHJ1bWVudGF0aW9uc1trZXldID0gZnVuY3Rpb24oLi4uYXJncykge1xuICAgICAgY29uc3QgYXJyID0gdG9SYXcodGhpcyk7XG4gICAgICBmb3IgKGxldCBpID0gMCwgbCA9IHRoaXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHRyYWNrKGFyciwgXCJnZXRcIiwgaSArIFwiXCIpO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzID0gYXJyW2tleV0oLi4uYXJncyk7XG4gICAgICBpZiAocmVzID09PSAtMSB8fCByZXMgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiBhcnJba2V5XSguLi5hcmdzLm1hcCh0b1JhdykpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgIH1cbiAgICB9O1xuICB9KTtcbiAgW1wicHVzaFwiLCBcInBvcFwiLCBcInNoaWZ0XCIsIFwidW5zaGlmdFwiLCBcInNwbGljZVwiXS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICBpbnN0cnVtZW50YXRpb25zW2tleV0gPSBmdW5jdGlvbiguLi5hcmdzKSB7XG4gICAgICBwYXVzZVRyYWNraW5nKCk7XG4gICAgICBwYXVzZVNjaGVkdWxpbmcoKTtcbiAgICAgIGNvbnN0IHJlcyA9IHRvUmF3KHRoaXMpW2tleV0uYXBwbHkodGhpcywgYXJncyk7XG4gICAgICByZXNldFNjaGVkdWxpbmcoKTtcbiAgICAgIHJlc2V0VHJhY2tpbmcoKTtcbiAgICAgIHJldHVybiByZXM7XG4gICAgfTtcbiAgfSk7XG4gIHJldHVybiBpbnN0cnVtZW50YXRpb25zO1xufVxuZnVuY3Rpb24gaGFzT3duUHJvcGVydHkoa2V5KSB7XG4gIGlmICghaXNTeW1ib2woa2V5KSkga2V5ID0gU3RyaW5nKGtleSk7XG4gIGNvbnN0IG9iaiA9IHRvUmF3KHRoaXMpO1xuICB0cmFjayhvYmosIFwiaGFzXCIsIGtleSk7XG4gIHJldHVybiBvYmouaGFzT3duUHJvcGVydHkoa2V5KTtcbn1cbmNsYXNzIEJhc2VSZWFjdGl2ZUhhbmRsZXIge1xuICBjb25zdHJ1Y3RvcihfaXNSZWFkb25seSA9IGZhbHNlLCBfaXNTaGFsbG93ID0gZmFsc2UpIHtcbiAgICB0aGlzLl9pc1JlYWRvbmx5ID0gX2lzUmVhZG9ubHk7XG4gICAgdGhpcy5faXNTaGFsbG93ID0gX2lzU2hhbGxvdztcbiAgfVxuICBnZXQodGFyZ2V0LCBrZXksIHJlY2VpdmVyKSB7XG4gICAgY29uc3QgaXNSZWFkb25seTIgPSB0aGlzLl9pc1JlYWRvbmx5LCBpc1NoYWxsb3cyID0gdGhpcy5faXNTaGFsbG93O1xuICAgIGlmIChrZXkgPT09IFwiX192X2lzUmVhY3RpdmVcIikge1xuICAgICAgcmV0dXJuICFpc1JlYWRvbmx5MjtcbiAgICB9IGVsc2UgaWYgKGtleSA9PT0gXCJfX3ZfaXNSZWFkb25seVwiKSB7XG4gICAgICByZXR1cm4gaXNSZWFkb25seTI7XG4gICAgfSBlbHNlIGlmIChrZXkgPT09IFwiX192X2lzU2hhbGxvd1wiKSB7XG4gICAgICByZXR1cm4gaXNTaGFsbG93MjtcbiAgICB9IGVsc2UgaWYgKGtleSA9PT0gXCJfX3ZfcmF3XCIpIHtcbiAgICAgIGlmIChyZWNlaXZlciA9PT0gKGlzUmVhZG9ubHkyID8gaXNTaGFsbG93MiA/IHNoYWxsb3dSZWFkb25seU1hcCA6IHJlYWRvbmx5TWFwIDogaXNTaGFsbG93MiA/IHNoYWxsb3dSZWFjdGl2ZU1hcCA6IHJlYWN0aXZlTWFwKS5nZXQodGFyZ2V0KSB8fCAvLyByZWNlaXZlciBpcyBub3QgdGhlIHJlYWN0aXZlIHByb3h5LCBidXQgaGFzIHRoZSBzYW1lIHByb3RvdHlwZVxuICAgICAgLy8gdGhpcyBtZWFucyB0aGUgcmVjaWV2ZXIgaXMgYSB1c2VyIHByb3h5IG9mIHRoZSByZWFjdGl2ZSBwcm94eVxuICAgICAgT2JqZWN0LmdldFByb3RvdHlwZU9mKHRhcmdldCkgPT09IE9iamVjdC5nZXRQcm90b3R5cGVPZihyZWNlaXZlcikpIHtcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdGFyZ2V0SXNBcnJheSA9IGlzQXJyYXkodGFyZ2V0KTtcbiAgICBpZiAoIWlzUmVhZG9ubHkyKSB7XG4gICAgICBpZiAodGFyZ2V0SXNBcnJheSAmJiBoYXNPd24oYXJyYXlJbnN0cnVtZW50YXRpb25zLCBrZXkpKSB7XG4gICAgICAgIHJldHVybiBSZWZsZWN0LmdldChhcnJheUluc3RydW1lbnRhdGlvbnMsIGtleSwgcmVjZWl2ZXIpO1xuICAgICAgfVxuICAgICAgaWYgKGtleSA9PT0gXCJoYXNPd25Qcm9wZXJ0eVwiKSB7XG4gICAgICAgIHJldHVybiBoYXNPd25Qcm9wZXJ0eTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgcmVzID0gUmVmbGVjdC5nZXQodGFyZ2V0LCBrZXksIHJlY2VpdmVyKTtcbiAgICBpZiAoaXNTeW1ib2woa2V5KSA/IGJ1aWx0SW5TeW1ib2xzLmhhcyhrZXkpIDogaXNOb25UcmFja2FibGVLZXlzKGtleSkpIHtcbiAgICAgIHJldHVybiByZXM7XG4gICAgfVxuICAgIGlmICghaXNSZWFkb25seTIpIHtcbiAgICAgIHRyYWNrKHRhcmdldCwgXCJnZXRcIiwga2V5KTtcbiAgICB9XG4gICAgaWYgKGlzU2hhbGxvdzIpIHtcbiAgICAgIHJldHVybiByZXM7XG4gICAgfVxuICAgIGlmIChpc1JlZihyZXMpKSB7XG4gICAgICByZXR1cm4gdGFyZ2V0SXNBcnJheSAmJiBpc0ludGVnZXJLZXkoa2V5KSA/IHJlcyA6IHJlcy52YWx1ZTtcbiAgICB9XG4gICAgaWYgKGlzT2JqZWN0KHJlcykpIHtcbiAgICAgIHJldHVybiBpc1JlYWRvbmx5MiA/IHJlYWRvbmx5KHJlcykgOiByZWFjdGl2ZShyZXMpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xuICB9XG59XG5jbGFzcyBNdXRhYmxlUmVhY3RpdmVIYW5kbGVyIGV4dGVuZHMgQmFzZVJlYWN0aXZlSGFuZGxlciB7XG4gIGNvbnN0cnVjdG9yKGlzU2hhbGxvdzIgPSBmYWxzZSkge1xuICAgIHN1cGVyKGZhbHNlLCBpc1NoYWxsb3cyKTtcbiAgfVxuICBzZXQodGFyZ2V0LCBrZXksIHZhbHVlLCByZWNlaXZlcikge1xuICAgIGxldCBvbGRWYWx1ZSA9IHRhcmdldFtrZXldO1xuICAgIGlmICghdGhpcy5faXNTaGFsbG93KSB7XG4gICAgICBjb25zdCBpc09sZFZhbHVlUmVhZG9ubHkgPSBpc1JlYWRvbmx5KG9sZFZhbHVlKTtcbiAgICAgIGlmICghaXNTaGFsbG93KHZhbHVlKSAmJiAhaXNSZWFkb25seSh2YWx1ZSkpIHtcbiAgICAgICAgb2xkVmFsdWUgPSB0b1JhdyhvbGRWYWx1ZSk7XG4gICAgICAgIHZhbHVlID0gdG9SYXcodmFsdWUpO1xuICAgICAgfVxuICAgICAgaWYgKCFpc0FycmF5KHRhcmdldCkgJiYgaXNSZWYob2xkVmFsdWUpICYmICFpc1JlZih2YWx1ZSkpIHtcbiAgICAgICAgaWYgKGlzT2xkVmFsdWVSZWFkb25seSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvbGRWYWx1ZS52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGhhZEtleSA9IGlzQXJyYXkodGFyZ2V0KSAmJiBpc0ludGVnZXJLZXkoa2V5KSA/IE51bWJlcihrZXkpIDwgdGFyZ2V0Lmxlbmd0aCA6IGhhc093bih0YXJnZXQsIGtleSk7XG4gICAgY29uc3QgcmVzdWx0ID0gUmVmbGVjdC5zZXQodGFyZ2V0LCBrZXksIHZhbHVlLCByZWNlaXZlcik7XG4gICAgaWYgKHRhcmdldCA9PT0gdG9SYXcocmVjZWl2ZXIpKSB7XG4gICAgICBpZiAoIWhhZEtleSkge1xuICAgICAgICB0cmlnZ2VyKHRhcmdldCwgXCJhZGRcIiwga2V5LCB2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKGhhc0NoYW5nZWQodmFsdWUsIG9sZFZhbHVlKSkge1xuICAgICAgICB0cmlnZ2VyKHRhcmdldCwgXCJzZXRcIiwga2V5LCB2YWx1ZSwgb2xkVmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIGRlbGV0ZVByb3BlcnR5KHRhcmdldCwga2V5KSB7XG4gICAgY29uc3QgaGFkS2V5ID0gaGFzT3duKHRhcmdldCwga2V5KTtcbiAgICBjb25zdCBvbGRWYWx1ZSA9IHRhcmdldFtrZXldO1xuICAgIGNvbnN0IHJlc3VsdCA9IFJlZmxlY3QuZGVsZXRlUHJvcGVydHkodGFyZ2V0LCBrZXkpO1xuICAgIGlmIChyZXN1bHQgJiYgaGFkS2V5KSB7XG4gICAgICB0cmlnZ2VyKHRhcmdldCwgXCJkZWxldGVcIiwga2V5LCB2b2lkIDAsIG9sZFZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBoYXModGFyZ2V0LCBrZXkpIHtcbiAgICBjb25zdCByZXN1bHQgPSBSZWZsZWN0Lmhhcyh0YXJnZXQsIGtleSk7XG4gICAgaWYgKCFpc1N5bWJvbChrZXkpIHx8ICFidWlsdEluU3ltYm9scy5oYXMoa2V5KSkge1xuICAgICAgdHJhY2sodGFyZ2V0LCBcImhhc1wiLCBrZXkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIG93bktleXModGFyZ2V0KSB7XG4gICAgdHJhY2soXG4gICAgICB0YXJnZXQsXG4gICAgICBcIml0ZXJhdGVcIixcbiAgICAgIGlzQXJyYXkodGFyZ2V0KSA/IFwibGVuZ3RoXCIgOiBJVEVSQVRFX0tFWVxuICAgICk7XG4gICAgcmV0dXJuIFJlZmxlY3Qub3duS2V5cyh0YXJnZXQpO1xuICB9XG59XG5jbGFzcyBSZWFkb25seVJlYWN0aXZlSGFuZGxlciBleHRlbmRzIEJhc2VSZWFjdGl2ZUhhbmRsZXIge1xuICBjb25zdHJ1Y3Rvcihpc1NoYWxsb3cyID0gZmFsc2UpIHtcbiAgICBzdXBlcih0cnVlLCBpc1NoYWxsb3cyKTtcbiAgfVxuICBzZXQodGFyZ2V0LCBrZXkpIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgd2FybihcbiAgICAgICAgYFNldCBvcGVyYXRpb24gb24ga2V5IFwiJHtTdHJpbmcoa2V5KX1cIiBmYWlsZWQ6IHRhcmdldCBpcyByZWFkb25seS5gLFxuICAgICAgICB0YXJnZXRcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGRlbGV0ZVByb3BlcnR5KHRhcmdldCwga2V5KSB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIHdhcm4oXG4gICAgICAgIGBEZWxldGUgb3BlcmF0aW9uIG9uIGtleSBcIiR7U3RyaW5nKGtleSl9XCIgZmFpbGVkOiB0YXJnZXQgaXMgcmVhZG9ubHkuYCxcbiAgICAgICAgdGFyZ2V0XG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufVxuY29uc3QgbXV0YWJsZUhhbmRsZXJzID0gLyogQF9fUFVSRV9fICovIG5ldyBNdXRhYmxlUmVhY3RpdmVIYW5kbGVyKCk7XG5jb25zdCByZWFkb25seUhhbmRsZXJzID0gLyogQF9fUFVSRV9fICovIG5ldyBSZWFkb25seVJlYWN0aXZlSGFuZGxlcigpO1xuY29uc3Qgc2hhbGxvd1JlYWN0aXZlSGFuZGxlcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE11dGFibGVSZWFjdGl2ZUhhbmRsZXIoXG4gIHRydWVcbik7XG5jb25zdCBzaGFsbG93UmVhZG9ubHlIYW5kbGVycyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgUmVhZG9ubHlSZWFjdGl2ZUhhbmRsZXIodHJ1ZSk7XG5cbmNvbnN0IHRvU2hhbGxvdyA9ICh2YWx1ZSkgPT4gdmFsdWU7XG5jb25zdCBnZXRQcm90byA9ICh2KSA9PiBSZWZsZWN0LmdldFByb3RvdHlwZU9mKHYpO1xuZnVuY3Rpb24gZ2V0KHRhcmdldCwga2V5LCBpc1JlYWRvbmx5ID0gZmFsc2UsIGlzU2hhbGxvdyA9IGZhbHNlKSB7XG4gIHRhcmdldCA9IHRhcmdldFtcIl9fdl9yYXdcIl07XG4gIGNvbnN0IHJhd1RhcmdldCA9IHRvUmF3KHRhcmdldCk7XG4gIGNvbnN0IHJhd0tleSA9IHRvUmF3KGtleSk7XG4gIGlmICghaXNSZWFkb25seSkge1xuICAgIGlmIChoYXNDaGFuZ2VkKGtleSwgcmF3S2V5KSkge1xuICAgICAgdHJhY2socmF3VGFyZ2V0LCBcImdldFwiLCBrZXkpO1xuICAgIH1cbiAgICB0cmFjayhyYXdUYXJnZXQsIFwiZ2V0XCIsIHJhd0tleSk7XG4gIH1cbiAgY29uc3QgeyBoYXM6IGhhczIgfSA9IGdldFByb3RvKHJhd1RhcmdldCk7XG4gIGNvbnN0IHdyYXAgPSBpc1NoYWxsb3cgPyB0b1NoYWxsb3cgOiBpc1JlYWRvbmx5ID8gdG9SZWFkb25seSA6IHRvUmVhY3RpdmU7XG4gIGlmIChoYXMyLmNhbGwocmF3VGFyZ2V0LCBrZXkpKSB7XG4gICAgcmV0dXJuIHdyYXAodGFyZ2V0LmdldChrZXkpKTtcbiAgfSBlbHNlIGlmIChoYXMyLmNhbGwocmF3VGFyZ2V0LCByYXdLZXkpKSB7XG4gICAgcmV0dXJuIHdyYXAodGFyZ2V0LmdldChyYXdLZXkpKTtcbiAgfSBlbHNlIGlmICh0YXJnZXQgIT09IHJhd1RhcmdldCkge1xuICAgIHRhcmdldC5nZXQoa2V5KTtcbiAgfVxufVxuZnVuY3Rpb24gaGFzKGtleSwgaXNSZWFkb25seSA9IGZhbHNlKSB7XG4gIGNvbnN0IHRhcmdldCA9IHRoaXNbXCJfX3ZfcmF3XCJdO1xuICBjb25zdCByYXdUYXJnZXQgPSB0b1Jhdyh0YXJnZXQpO1xuICBjb25zdCByYXdLZXkgPSB0b1JhdyhrZXkpO1xuICBpZiAoIWlzUmVhZG9ubHkpIHtcbiAgICBpZiAoaGFzQ2hhbmdlZChrZXksIHJhd0tleSkpIHtcbiAgICAgIHRyYWNrKHJhd1RhcmdldCwgXCJoYXNcIiwga2V5KTtcbiAgICB9XG4gICAgdHJhY2socmF3VGFyZ2V0LCBcImhhc1wiLCByYXdLZXkpO1xuICB9XG4gIHJldHVybiBrZXkgPT09IHJhd0tleSA/IHRhcmdldC5oYXMoa2V5KSA6IHRhcmdldC5oYXMoa2V5KSB8fCB0YXJnZXQuaGFzKHJhd0tleSk7XG59XG5mdW5jdGlvbiBzaXplKHRhcmdldCwgaXNSZWFkb25seSA9IGZhbHNlKSB7XG4gIHRhcmdldCA9IHRhcmdldFtcIl9fdl9yYXdcIl07XG4gICFpc1JlYWRvbmx5ICYmIHRyYWNrKHRvUmF3KHRhcmdldCksIFwiaXRlcmF0ZVwiLCBJVEVSQVRFX0tFWSk7XG4gIHJldHVybiBSZWZsZWN0LmdldCh0YXJnZXQsIFwic2l6ZVwiLCB0YXJnZXQpO1xufVxuZnVuY3Rpb24gYWRkKHZhbHVlKSB7XG4gIHZhbHVlID0gdG9SYXcodmFsdWUpO1xuICBjb25zdCB0YXJnZXQgPSB0b1Jhdyh0aGlzKTtcbiAgY29uc3QgcHJvdG8gPSBnZXRQcm90byh0YXJnZXQpO1xuICBjb25zdCBoYWRLZXkgPSBwcm90by5oYXMuY2FsbCh0YXJnZXQsIHZhbHVlKTtcbiAgaWYgKCFoYWRLZXkpIHtcbiAgICB0YXJnZXQuYWRkKHZhbHVlKTtcbiAgICB0cmlnZ2VyKHRhcmdldCwgXCJhZGRcIiwgdmFsdWUsIHZhbHVlKTtcbiAgfVxuICByZXR1cm4gdGhpcztcbn1cbmZ1bmN0aW9uIHNldChrZXksIHZhbHVlKSB7XG4gIHZhbHVlID0gdG9SYXcodmFsdWUpO1xuICBjb25zdCB0YXJnZXQgPSB0b1Jhdyh0aGlzKTtcbiAgY29uc3QgeyBoYXM6IGhhczIsIGdldDogZ2V0MiB9ID0gZ2V0UHJvdG8odGFyZ2V0KTtcbiAgbGV0IGhhZEtleSA9IGhhczIuY2FsbCh0YXJnZXQsIGtleSk7XG4gIGlmICghaGFkS2V5KSB7XG4gICAga2V5ID0gdG9SYXcoa2V5KTtcbiAgICBoYWRLZXkgPSBoYXMyLmNhbGwodGFyZ2V0LCBrZXkpO1xuICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBjaGVja0lkZW50aXR5S2V5cyh0YXJnZXQsIGhhczIsIGtleSk7XG4gIH1cbiAgY29uc3Qgb2xkVmFsdWUgPSBnZXQyLmNhbGwodGFyZ2V0LCBrZXkpO1xuICB0YXJnZXQuc2V0KGtleSwgdmFsdWUpO1xuICBpZiAoIWhhZEtleSkge1xuICAgIHRyaWdnZXIodGFyZ2V0LCBcImFkZFwiLCBrZXksIHZhbHVlKTtcbiAgfSBlbHNlIGlmIChoYXNDaGFuZ2VkKHZhbHVlLCBvbGRWYWx1ZSkpIHtcbiAgICB0cmlnZ2VyKHRhcmdldCwgXCJzZXRcIiwga2V5LCB2YWx1ZSwgb2xkVmFsdWUpO1xuICB9XG4gIHJldHVybiB0aGlzO1xufVxuZnVuY3Rpb24gZGVsZXRlRW50cnkoa2V5KSB7XG4gIGNvbnN0IHRhcmdldCA9IHRvUmF3KHRoaXMpO1xuICBjb25zdCB7IGhhczogaGFzMiwgZ2V0OiBnZXQyIH0gPSBnZXRQcm90byh0YXJnZXQpO1xuICBsZXQgaGFkS2V5ID0gaGFzMi5jYWxsKHRhcmdldCwga2V5KTtcbiAgaWYgKCFoYWRLZXkpIHtcbiAgICBrZXkgPSB0b1JhdyhrZXkpO1xuICAgIGhhZEtleSA9IGhhczIuY2FsbCh0YXJnZXQsIGtleSk7XG4gIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGNoZWNrSWRlbnRpdHlLZXlzKHRhcmdldCwgaGFzMiwga2V5KTtcbiAgfVxuICBjb25zdCBvbGRWYWx1ZSA9IGdldDIgPyBnZXQyLmNhbGwodGFyZ2V0LCBrZXkpIDogdm9pZCAwO1xuICBjb25zdCByZXN1bHQgPSB0YXJnZXQuZGVsZXRlKGtleSk7XG4gIGlmIChoYWRLZXkpIHtcbiAgICB0cmlnZ2VyKHRhcmdldCwgXCJkZWxldGVcIiwga2V5LCB2b2lkIDAsIG9sZFZhbHVlKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gY2xlYXIoKSB7XG4gIGNvbnN0IHRhcmdldCA9IHRvUmF3KHRoaXMpO1xuICBjb25zdCBoYWRJdGVtcyA9IHRhcmdldC5zaXplICE9PSAwO1xuICBjb25zdCBvbGRUYXJnZXQgPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gaXNNYXAodGFyZ2V0KSA/IG5ldyBNYXAodGFyZ2V0KSA6IG5ldyBTZXQodGFyZ2V0KSA6IHZvaWQgMDtcbiAgY29uc3QgcmVzdWx0ID0gdGFyZ2V0LmNsZWFyKCk7XG4gIGlmIChoYWRJdGVtcykge1xuICAgIHRyaWdnZXIodGFyZ2V0LCBcImNsZWFyXCIsIHZvaWQgMCwgdm9pZCAwLCBvbGRUYXJnZXQpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBjcmVhdGVGb3JFYWNoKGlzUmVhZG9ubHksIGlzU2hhbGxvdykge1xuICByZXR1cm4gZnVuY3Rpb24gZm9yRWFjaChjYWxsYmFjaywgdGhpc0FyZykge1xuICAgIGNvbnN0IG9ic2VydmVkID0gdGhpcztcbiAgICBjb25zdCB0YXJnZXQgPSBvYnNlcnZlZFtcIl9fdl9yYXdcIl07XG4gICAgY29uc3QgcmF3VGFyZ2V0ID0gdG9SYXcodGFyZ2V0KTtcbiAgICBjb25zdCB3cmFwID0gaXNTaGFsbG93ID8gdG9TaGFsbG93IDogaXNSZWFkb25seSA/IHRvUmVhZG9ubHkgOiB0b1JlYWN0aXZlO1xuICAgICFpc1JlYWRvbmx5ICYmIHRyYWNrKHJhd1RhcmdldCwgXCJpdGVyYXRlXCIsIElURVJBVEVfS0VZKTtcbiAgICByZXR1cm4gdGFyZ2V0LmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgIHJldHVybiBjYWxsYmFjay5jYWxsKHRoaXNBcmcsIHdyYXAodmFsdWUpLCB3cmFwKGtleSksIG9ic2VydmVkKTtcbiAgICB9KTtcbiAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUl0ZXJhYmxlTWV0aG9kKG1ldGhvZCwgaXNSZWFkb25seSwgaXNTaGFsbG93KSB7XG4gIHJldHVybiBmdW5jdGlvbiguLi5hcmdzKSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gdGhpc1tcIl9fdl9yYXdcIl07XG4gICAgY29uc3QgcmF3VGFyZ2V0ID0gdG9SYXcodGFyZ2V0KTtcbiAgICBjb25zdCB0YXJnZXRJc01hcCA9IGlzTWFwKHJhd1RhcmdldCk7XG4gICAgY29uc3QgaXNQYWlyID0gbWV0aG9kID09PSBcImVudHJpZXNcIiB8fCBtZXRob2QgPT09IFN5bWJvbC5pdGVyYXRvciAmJiB0YXJnZXRJc01hcDtcbiAgICBjb25zdCBpc0tleU9ubHkgPSBtZXRob2QgPT09IFwia2V5c1wiICYmIHRhcmdldElzTWFwO1xuICAgIGNvbnN0IGlubmVySXRlcmF0b3IgPSB0YXJnZXRbbWV0aG9kXSguLi5hcmdzKTtcbiAgICBjb25zdCB3cmFwID0gaXNTaGFsbG93ID8gdG9TaGFsbG93IDogaXNSZWFkb25seSA/IHRvUmVhZG9ubHkgOiB0b1JlYWN0aXZlO1xuICAgICFpc1JlYWRvbmx5ICYmIHRyYWNrKFxuICAgICAgcmF3VGFyZ2V0LFxuICAgICAgXCJpdGVyYXRlXCIsXG4gICAgICBpc0tleU9ubHkgPyBNQVBfS0VZX0lURVJBVEVfS0VZIDogSVRFUkFURV9LRVlcbiAgICApO1xuICAgIHJldHVybiB7XG4gICAgICAvLyBpdGVyYXRvciBwcm90b2NvbFxuICAgICAgbmV4dCgpIHtcbiAgICAgICAgY29uc3QgeyB2YWx1ZSwgZG9uZSB9ID0gaW5uZXJJdGVyYXRvci5uZXh0KCk7XG4gICAgICAgIHJldHVybiBkb25lID8geyB2YWx1ZSwgZG9uZSB9IDoge1xuICAgICAgICAgIHZhbHVlOiBpc1BhaXIgPyBbd3JhcCh2YWx1ZVswXSksIHdyYXAodmFsdWVbMV0pXSA6IHdyYXAodmFsdWUpLFxuICAgICAgICAgIGRvbmVcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgICAvLyBpdGVyYWJsZSBwcm90b2NvbFxuICAgICAgW1N5bWJvbC5pdGVyYXRvcl0oKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgIH07XG4gIH07XG59XG5mdW5jdGlvbiBjcmVhdGVSZWFkb25seU1ldGhvZCh0eXBlKSB7XG4gIHJldHVybiBmdW5jdGlvbiguLi5hcmdzKSB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIGNvbnN0IGtleSA9IGFyZ3NbMF0gPyBgb24ga2V5IFwiJHthcmdzWzBdfVwiIGAgOiBgYDtcbiAgICAgIHdhcm4oXG4gICAgICAgIGAke2NhcGl0YWxpemUodHlwZSl9IG9wZXJhdGlvbiAke2tleX1mYWlsZWQ6IHRhcmdldCBpcyByZWFkb25seS5gLFxuICAgICAgICB0b1Jhdyh0aGlzKVxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHR5cGUgPT09IFwiZGVsZXRlXCIgPyBmYWxzZSA6IHR5cGUgPT09IFwiY2xlYXJcIiA/IHZvaWQgMCA6IHRoaXM7XG4gIH07XG59XG5mdW5jdGlvbiBjcmVhdGVJbnN0cnVtZW50YXRpb25zKCkge1xuICBjb25zdCBtdXRhYmxlSW5zdHJ1bWVudGF0aW9uczIgPSB7XG4gICAgZ2V0KGtleSkge1xuICAgICAgcmV0dXJuIGdldCh0aGlzLCBrZXkpO1xuICAgIH0sXG4gICAgZ2V0IHNpemUoKSB7XG4gICAgICByZXR1cm4gc2l6ZSh0aGlzKTtcbiAgICB9LFxuICAgIGhhcyxcbiAgICBhZGQsXG4gICAgc2V0LFxuICAgIGRlbGV0ZTogZGVsZXRlRW50cnksXG4gICAgY2xlYXIsXG4gICAgZm9yRWFjaDogY3JlYXRlRm9yRWFjaChmYWxzZSwgZmFsc2UpXG4gIH07XG4gIGNvbnN0IHNoYWxsb3dJbnN0cnVtZW50YXRpb25zMiA9IHtcbiAgICBnZXQoa2V5KSB7XG4gICAgICByZXR1cm4gZ2V0KHRoaXMsIGtleSwgZmFsc2UsIHRydWUpO1xuICAgIH0sXG4gICAgZ2V0IHNpemUoKSB7XG4gICAgICByZXR1cm4gc2l6ZSh0aGlzKTtcbiAgICB9LFxuICAgIGhhcyxcbiAgICBhZGQsXG4gICAgc2V0LFxuICAgIGRlbGV0ZTogZGVsZXRlRW50cnksXG4gICAgY2xlYXIsXG4gICAgZm9yRWFjaDogY3JlYXRlRm9yRWFjaChmYWxzZSwgdHJ1ZSlcbiAgfTtcbiAgY29uc3QgcmVhZG9ubHlJbnN0cnVtZW50YXRpb25zMiA9IHtcbiAgICBnZXQoa2V5KSB7XG4gICAgICByZXR1cm4gZ2V0KHRoaXMsIGtleSwgdHJ1ZSk7XG4gICAgfSxcbiAgICBnZXQgc2l6ZSgpIHtcbiAgICAgIHJldHVybiBzaXplKHRoaXMsIHRydWUpO1xuICAgIH0sXG4gICAgaGFzKGtleSkge1xuICAgICAgcmV0dXJuIGhhcy5jYWxsKHRoaXMsIGtleSwgdHJ1ZSk7XG4gICAgfSxcbiAgICBhZGQ6IGNyZWF0ZVJlYWRvbmx5TWV0aG9kKFwiYWRkXCIpLFxuICAgIHNldDogY3JlYXRlUmVhZG9ubHlNZXRob2QoXCJzZXRcIiksXG4gICAgZGVsZXRlOiBjcmVhdGVSZWFkb25seU1ldGhvZChcImRlbGV0ZVwiKSxcbiAgICBjbGVhcjogY3JlYXRlUmVhZG9ubHlNZXRob2QoXCJjbGVhclwiKSxcbiAgICBmb3JFYWNoOiBjcmVhdGVGb3JFYWNoKHRydWUsIGZhbHNlKVxuICB9O1xuICBjb25zdCBzaGFsbG93UmVhZG9ubHlJbnN0cnVtZW50YXRpb25zMiA9IHtcbiAgICBnZXQoa2V5KSB7XG4gICAgICByZXR1cm4gZ2V0KHRoaXMsIGtleSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgfSxcbiAgICBnZXQgc2l6ZSgpIHtcbiAgICAgIHJldHVybiBzaXplKHRoaXMsIHRydWUpO1xuICAgIH0sXG4gICAgaGFzKGtleSkge1xuICAgICAgcmV0dXJuIGhhcy5jYWxsKHRoaXMsIGtleSwgdHJ1ZSk7XG4gICAgfSxcbiAgICBhZGQ6IGNyZWF0ZVJlYWRvbmx5TWV0aG9kKFwiYWRkXCIpLFxuICAgIHNldDogY3JlYXRlUmVhZG9ubHlNZXRob2QoXCJzZXRcIiksXG4gICAgZGVsZXRlOiBjcmVhdGVSZWFkb25seU1ldGhvZChcImRlbGV0ZVwiKSxcbiAgICBjbGVhcjogY3JlYXRlUmVhZG9ubHlNZXRob2QoXCJjbGVhclwiKSxcbiAgICBmb3JFYWNoOiBjcmVhdGVGb3JFYWNoKHRydWUsIHRydWUpXG4gIH07XG4gIGNvbnN0IGl0ZXJhdG9yTWV0aG9kcyA9IFtcbiAgICBcImtleXNcIixcbiAgICBcInZhbHVlc1wiLFxuICAgIFwiZW50cmllc1wiLFxuICAgIFN5bWJvbC5pdGVyYXRvclxuICBdO1xuICBpdGVyYXRvck1ldGhvZHMuZm9yRWFjaCgobWV0aG9kKSA9PiB7XG4gICAgbXV0YWJsZUluc3RydW1lbnRhdGlvbnMyW21ldGhvZF0gPSBjcmVhdGVJdGVyYWJsZU1ldGhvZChtZXRob2QsIGZhbHNlLCBmYWxzZSk7XG4gICAgcmVhZG9ubHlJbnN0cnVtZW50YXRpb25zMlttZXRob2RdID0gY3JlYXRlSXRlcmFibGVNZXRob2QobWV0aG9kLCB0cnVlLCBmYWxzZSk7XG4gICAgc2hhbGxvd0luc3RydW1lbnRhdGlvbnMyW21ldGhvZF0gPSBjcmVhdGVJdGVyYWJsZU1ldGhvZChtZXRob2QsIGZhbHNlLCB0cnVlKTtcbiAgICBzaGFsbG93UmVhZG9ubHlJbnN0cnVtZW50YXRpb25zMlttZXRob2RdID0gY3JlYXRlSXRlcmFibGVNZXRob2QoXG4gICAgICBtZXRob2QsXG4gICAgICB0cnVlLFxuICAgICAgdHJ1ZVxuICAgICk7XG4gIH0pO1xuICByZXR1cm4gW1xuICAgIG11dGFibGVJbnN0cnVtZW50YXRpb25zMixcbiAgICByZWFkb25seUluc3RydW1lbnRhdGlvbnMyLFxuICAgIHNoYWxsb3dJbnN0cnVtZW50YXRpb25zMixcbiAgICBzaGFsbG93UmVhZG9ubHlJbnN0cnVtZW50YXRpb25zMlxuICBdO1xufVxuY29uc3QgW1xuICBtdXRhYmxlSW5zdHJ1bWVudGF0aW9ucyxcbiAgcmVhZG9ubHlJbnN0cnVtZW50YXRpb25zLFxuICBzaGFsbG93SW5zdHJ1bWVudGF0aW9ucyxcbiAgc2hhbGxvd1JlYWRvbmx5SW5zdHJ1bWVudGF0aW9uc1xuXSA9IC8qIEBfX1BVUkVfXyAqLyBjcmVhdGVJbnN0cnVtZW50YXRpb25zKCk7XG5mdW5jdGlvbiBjcmVhdGVJbnN0cnVtZW50YXRpb25HZXR0ZXIoaXNSZWFkb25seSwgc2hhbGxvdykge1xuICBjb25zdCBpbnN0cnVtZW50YXRpb25zID0gc2hhbGxvdyA/IGlzUmVhZG9ubHkgPyBzaGFsbG93UmVhZG9ubHlJbnN0cnVtZW50YXRpb25zIDogc2hhbGxvd0luc3RydW1lbnRhdGlvbnMgOiBpc1JlYWRvbmx5ID8gcmVhZG9ubHlJbnN0cnVtZW50YXRpb25zIDogbXV0YWJsZUluc3RydW1lbnRhdGlvbnM7XG4gIHJldHVybiAodGFyZ2V0LCBrZXksIHJlY2VpdmVyKSA9PiB7XG4gICAgaWYgKGtleSA9PT0gXCJfX3ZfaXNSZWFjdGl2ZVwiKSB7XG4gICAgICByZXR1cm4gIWlzUmVhZG9ubHk7XG4gICAgfSBlbHNlIGlmIChrZXkgPT09IFwiX192X2lzUmVhZG9ubHlcIikge1xuICAgICAgcmV0dXJuIGlzUmVhZG9ubHk7XG4gICAgfSBlbHNlIGlmIChrZXkgPT09IFwiX192X3Jhd1wiKSB7XG4gICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH1cbiAgICByZXR1cm4gUmVmbGVjdC5nZXQoXG4gICAgICBoYXNPd24oaW5zdHJ1bWVudGF0aW9ucywga2V5KSAmJiBrZXkgaW4gdGFyZ2V0ID8gaW5zdHJ1bWVudGF0aW9ucyA6IHRhcmdldCxcbiAgICAgIGtleSxcbiAgICAgIHJlY2VpdmVyXG4gICAgKTtcbiAgfTtcbn1cbmNvbnN0IG11dGFibGVDb2xsZWN0aW9uSGFuZGxlcnMgPSB7XG4gIGdldDogLyogQF9fUFVSRV9fICovIGNyZWF0ZUluc3RydW1lbnRhdGlvbkdldHRlcihmYWxzZSwgZmFsc2UpXG59O1xuY29uc3Qgc2hhbGxvd0NvbGxlY3Rpb25IYW5kbGVycyA9IHtcbiAgZ2V0OiAvKiBAX19QVVJFX18gKi8gY3JlYXRlSW5zdHJ1bWVudGF0aW9uR2V0dGVyKGZhbHNlLCB0cnVlKVxufTtcbmNvbnN0IHJlYWRvbmx5Q29sbGVjdGlvbkhhbmRsZXJzID0ge1xuICBnZXQ6IC8qIEBfX1BVUkVfXyAqLyBjcmVhdGVJbnN0cnVtZW50YXRpb25HZXR0ZXIodHJ1ZSwgZmFsc2UpXG59O1xuY29uc3Qgc2hhbGxvd1JlYWRvbmx5Q29sbGVjdGlvbkhhbmRsZXJzID0ge1xuICBnZXQ6IC8qIEBfX1BVUkVfXyAqLyBjcmVhdGVJbnN0cnVtZW50YXRpb25HZXR0ZXIodHJ1ZSwgdHJ1ZSlcbn07XG5mdW5jdGlvbiBjaGVja0lkZW50aXR5S2V5cyh0YXJnZXQsIGhhczIsIGtleSkge1xuICBjb25zdCByYXdLZXkgPSB0b1JhdyhrZXkpO1xuICBpZiAocmF3S2V5ICE9PSBrZXkgJiYgaGFzMi5jYWxsKHRhcmdldCwgcmF3S2V5KSkge1xuICAgIGNvbnN0IHR5cGUgPSB0b1Jhd1R5cGUodGFyZ2V0KTtcbiAgICB3YXJuKFxuICAgICAgYFJlYWN0aXZlICR7dHlwZX0gY29udGFpbnMgYm90aCB0aGUgcmF3IGFuZCByZWFjdGl2ZSB2ZXJzaW9ucyBvZiB0aGUgc2FtZSBvYmplY3Qke3R5cGUgPT09IGBNYXBgID8gYCBhcyBrZXlzYCA6IGBgfSwgd2hpY2ggY2FuIGxlYWQgdG8gaW5jb25zaXN0ZW5jaWVzLiBBdm9pZCBkaWZmZXJlbnRpYXRpbmcgYmV0d2VlbiB0aGUgcmF3IGFuZCByZWFjdGl2ZSB2ZXJzaW9ucyBvZiBhbiBvYmplY3QgYW5kIG9ubHkgdXNlIHRoZSByZWFjdGl2ZSB2ZXJzaW9uIGlmIHBvc3NpYmxlLmBcbiAgICApO1xuICB9XG59XG5cbmNvbnN0IHJlYWN0aXZlTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG5jb25zdCBzaGFsbG93UmVhY3RpdmVNYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbmNvbnN0IHJlYWRvbmx5TWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG5jb25zdCBzaGFsbG93UmVhZG9ubHlNYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbmZ1bmN0aW9uIHRhcmdldFR5cGVNYXAocmF3VHlwZSkge1xuICBzd2l0Y2ggKHJhd1R5cGUpIHtcbiAgICBjYXNlIFwiT2JqZWN0XCI6XG4gICAgY2FzZSBcIkFycmF5XCI6XG4gICAgICByZXR1cm4gMSAvKiBDT01NT04gKi87XG4gICAgY2FzZSBcIk1hcFwiOlxuICAgIGNhc2UgXCJTZXRcIjpcbiAgICBjYXNlIFwiV2Vha01hcFwiOlxuICAgIGNhc2UgXCJXZWFrU2V0XCI6XG4gICAgICByZXR1cm4gMiAvKiBDT0xMRUNUSU9OICovO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gMCAvKiBJTlZBTElEICovO1xuICB9XG59XG5mdW5jdGlvbiBnZXRUYXJnZXRUeXBlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZVtcIl9fdl9za2lwXCJdIHx8ICFPYmplY3QuaXNFeHRlbnNpYmxlKHZhbHVlKSA/IDAgLyogSU5WQUxJRCAqLyA6IHRhcmdldFR5cGVNYXAodG9SYXdUeXBlKHZhbHVlKSk7XG59XG5mdW5jdGlvbiByZWFjdGl2ZSh0YXJnZXQpIHtcbiAgaWYgKGlzUmVhZG9ubHkodGFyZ2V0KSkge1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cbiAgcmV0dXJuIGNyZWF0ZVJlYWN0aXZlT2JqZWN0KFxuICAgIHRhcmdldCxcbiAgICBmYWxzZSxcbiAgICBtdXRhYmxlSGFuZGxlcnMsXG4gICAgbXV0YWJsZUNvbGxlY3Rpb25IYW5kbGVycyxcbiAgICByZWFjdGl2ZU1hcFxuICApO1xufVxuZnVuY3Rpb24gc2hhbGxvd1JlYWN0aXZlKHRhcmdldCkge1xuICByZXR1cm4gY3JlYXRlUmVhY3RpdmVPYmplY3QoXG4gICAgdGFyZ2V0LFxuICAgIGZhbHNlLFxuICAgIHNoYWxsb3dSZWFjdGl2ZUhhbmRsZXJzLFxuICAgIHNoYWxsb3dDb2xsZWN0aW9uSGFuZGxlcnMsXG4gICAgc2hhbGxvd1JlYWN0aXZlTWFwXG4gICk7XG59XG5mdW5jdGlvbiByZWFkb25seSh0YXJnZXQpIHtcbiAgcmV0dXJuIGNyZWF0ZVJlYWN0aXZlT2JqZWN0KFxuICAgIHRhcmdldCxcbiAgICB0cnVlLFxuICAgIHJlYWRvbmx5SGFuZGxlcnMsXG4gICAgcmVhZG9ubHlDb2xsZWN0aW9uSGFuZGxlcnMsXG4gICAgcmVhZG9ubHlNYXBcbiAgKTtcbn1cbmZ1bmN0aW9uIHNoYWxsb3dSZWFkb25seSh0YXJnZXQpIHtcbiAgcmV0dXJuIGNyZWF0ZVJlYWN0aXZlT2JqZWN0KFxuICAgIHRhcmdldCxcbiAgICB0cnVlLFxuICAgIHNoYWxsb3dSZWFkb25seUhhbmRsZXJzLFxuICAgIHNoYWxsb3dSZWFkb25seUNvbGxlY3Rpb25IYW5kbGVycyxcbiAgICBzaGFsbG93UmVhZG9ubHlNYXBcbiAgKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVJlYWN0aXZlT2JqZWN0KHRhcmdldCwgaXNSZWFkb25seTIsIGJhc2VIYW5kbGVycywgY29sbGVjdGlvbkhhbmRsZXJzLCBwcm94eU1hcCkge1xuICBpZiAoIWlzT2JqZWN0KHRhcmdldCkpIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgd2FybihcbiAgICAgICAgYHZhbHVlIGNhbm5vdCBiZSBtYWRlICR7aXNSZWFkb25seTIgPyBcInJlYWRvbmx5XCIgOiBcInJlYWN0aXZlXCJ9OiAke1N0cmluZyhcbiAgICAgICAgICB0YXJnZXRcbiAgICAgICAgKX1gXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG4gIGlmICh0YXJnZXRbXCJfX3ZfcmF3XCJdICYmICEoaXNSZWFkb25seTIgJiYgdGFyZ2V0W1wiX192X2lzUmVhY3RpdmVcIl0pKSB7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuICBjb25zdCBleGlzdGluZ1Byb3h5ID0gcHJveHlNYXAuZ2V0KHRhcmdldCk7XG4gIGlmIChleGlzdGluZ1Byb3h5KSB7XG4gICAgcmV0dXJuIGV4aXN0aW5nUHJveHk7XG4gIH1cbiAgY29uc3QgdGFyZ2V0VHlwZSA9IGdldFRhcmdldFR5cGUodGFyZ2V0KTtcbiAgaWYgKHRhcmdldFR5cGUgPT09IDAgLyogSU5WQUxJRCAqLykge1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cbiAgY29uc3QgcHJveHkgPSBuZXcgUHJveHkoXG4gICAgdGFyZ2V0LFxuICAgIHRhcmdldFR5cGUgPT09IDIgLyogQ09MTEVDVElPTiAqLyA/IGNvbGxlY3Rpb25IYW5kbGVycyA6IGJhc2VIYW5kbGVyc1xuICApO1xuICBwcm94eU1hcC5zZXQodGFyZ2V0LCBwcm94eSk7XG4gIHJldHVybiBwcm94eTtcbn1cbmZ1bmN0aW9uIGlzUmVhY3RpdmUodmFsdWUpIHtcbiAgaWYgKGlzUmVhZG9ubHkodmFsdWUpKSB7XG4gICAgcmV0dXJuIGlzUmVhY3RpdmUodmFsdWVbXCJfX3ZfcmF3XCJdKTtcbiAgfVxuICByZXR1cm4gISEodmFsdWUgJiYgdmFsdWVbXCJfX3ZfaXNSZWFjdGl2ZVwiXSk7XG59XG5mdW5jdGlvbiBpc1JlYWRvbmx5KHZhbHVlKSB7XG4gIHJldHVybiAhISh2YWx1ZSAmJiB2YWx1ZVtcIl9fdl9pc1JlYWRvbmx5XCJdKTtcbn1cbmZ1bmN0aW9uIGlzU2hhbGxvdyh2YWx1ZSkge1xuICByZXR1cm4gISEodmFsdWUgJiYgdmFsdWVbXCJfX3ZfaXNTaGFsbG93XCJdKTtcbn1cbmZ1bmN0aW9uIGlzUHJveHkodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlID8gISF2YWx1ZVtcIl9fdl9yYXdcIl0gOiBmYWxzZTtcbn1cbmZ1bmN0aW9uIHRvUmF3KG9ic2VydmVkKSB7XG4gIGNvbnN0IHJhdyA9IG9ic2VydmVkICYmIG9ic2VydmVkW1wiX192X3Jhd1wiXTtcbiAgcmV0dXJuIHJhdyA/IHRvUmF3KHJhdykgOiBvYnNlcnZlZDtcbn1cbmZ1bmN0aW9uIG1hcmtSYXcodmFsdWUpIHtcbiAgaWYgKE9iamVjdC5pc0V4dGVuc2libGUodmFsdWUpKSB7XG4gICAgZGVmKHZhbHVlLCBcIl9fdl9za2lwXCIsIHRydWUpO1xuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cbmNvbnN0IHRvUmVhY3RpdmUgPSAodmFsdWUpID0+IGlzT2JqZWN0KHZhbHVlKSA/IHJlYWN0aXZlKHZhbHVlKSA6IHZhbHVlO1xuY29uc3QgdG9SZWFkb25seSA9ICh2YWx1ZSkgPT4gaXNPYmplY3QodmFsdWUpID8gcmVhZG9ubHkodmFsdWUpIDogdmFsdWU7XG5cbmNvbnN0IENPTVBVVEVEX1NJREVfRUZGRUNUX1dBUk4gPSBgQ29tcHV0ZWQgaXMgc3RpbGwgZGlydHkgYWZ0ZXIgZ2V0dGVyIGV2YWx1YXRpb24sIGxpa2VseSBiZWNhdXNlIGEgY29tcHV0ZWQgaXMgbXV0YXRpbmcgaXRzIG93biBkZXBlbmRlbmN5IGluIGl0cyBnZXR0ZXIuIFN0YXRlIG11dGF0aW9ucyBpbiBjb21wdXRlZCBnZXR0ZXJzIHNob3VsZCBiZSBhdm9pZGVkLiAgQ2hlY2sgdGhlIGRvY3MgZm9yIG1vcmUgZGV0YWlsczogaHR0cHM6Ly92dWVqcy5vcmcvZ3VpZGUvZXNzZW50aWFscy9jb21wdXRlZC5odG1sI2dldHRlcnMtc2hvdWxkLWJlLXNpZGUtZWZmZWN0LWZyZWVgO1xuY2xhc3MgQ29tcHV0ZWRSZWZJbXBsIHtcbiAgY29uc3RydWN0b3IoZ2V0dGVyLCBfc2V0dGVyLCBpc1JlYWRvbmx5LCBpc1NTUikge1xuICAgIHRoaXMuZ2V0dGVyID0gZ2V0dGVyO1xuICAgIHRoaXMuX3NldHRlciA9IF9zZXR0ZXI7XG4gICAgdGhpcy5kZXAgPSB2b2lkIDA7XG4gICAgdGhpcy5fX3ZfaXNSZWYgPSB0cnVlO1xuICAgIHRoaXNbXCJfX3ZfaXNSZWFkb25seVwiXSA9IGZhbHNlO1xuICAgIHRoaXMuZWZmZWN0ID0gbmV3IFJlYWN0aXZlRWZmZWN0KFxuICAgICAgKCkgPT4gZ2V0dGVyKHRoaXMuX3ZhbHVlKSxcbiAgICAgICgpID0+IHRyaWdnZXJSZWZWYWx1ZShcbiAgICAgICAgdGhpcyxcbiAgICAgICAgdGhpcy5lZmZlY3QuX2RpcnR5TGV2ZWwgPT09IDMgPyAzIDogNFxuICAgICAgKVxuICAgICk7XG4gICAgdGhpcy5lZmZlY3QuY29tcHV0ZWQgPSB0aGlzO1xuICAgIHRoaXMuZWZmZWN0LmFjdGl2ZSA9IHRoaXMuX2NhY2hlYWJsZSA9ICFpc1NTUjtcbiAgICB0aGlzW1wiX192X2lzUmVhZG9ubHlcIl0gPSBpc1JlYWRvbmx5O1xuICB9XG4gIGdldCB2YWx1ZSgpIHtcbiAgICBjb25zdCBzZWxmID0gdG9SYXcodGhpcyk7XG4gICAgaWYgKCghc2VsZi5fY2FjaGVhYmxlIHx8IHNlbGYuZWZmZWN0LmRpcnR5KSAmJiBoYXNDaGFuZ2VkKHNlbGYuX3ZhbHVlLCBzZWxmLl92YWx1ZSA9IHNlbGYuZWZmZWN0LnJ1bigpKSkge1xuICAgICAgdHJpZ2dlclJlZlZhbHVlKHNlbGYsIDUpO1xuICAgIH1cbiAgICB0cmFja1JlZlZhbHVlKHNlbGYpO1xuICAgIGlmIChzZWxmLmVmZmVjdC5fZGlydHlMZXZlbCA+PSAyKSB7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB0aGlzLl93YXJuUmVjdXJzaXZlKSB7XG4gICAgICAgIHdhcm4oQ09NUFVURURfU0lERV9FRkZFQ1RfV0FSTiwgYFxuXG5nZXR0ZXI6IGAsIHRoaXMuZ2V0dGVyKTtcbiAgICAgIH1cbiAgICAgIHRyaWdnZXJSZWZWYWx1ZShzZWxmLCAzKTtcbiAgICB9XG4gICAgcmV0dXJuIHNlbGYuX3ZhbHVlO1xuICB9XG4gIHNldCB2YWx1ZShuZXdWYWx1ZSkge1xuICAgIHRoaXMuX3NldHRlcihuZXdWYWx1ZSk7XG4gIH1cbiAgLy8gI3JlZ2lvbiBwb2x5ZmlsbCBfZGlydHkgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkgdGhpcmQgcGFydHkgY29kZSBmb3IgVnVlIDw9IDMuMy54XG4gIGdldCBfZGlydHkoKSB7XG4gICAgcmV0dXJuIHRoaXMuZWZmZWN0LmRpcnR5O1xuICB9XG4gIHNldCBfZGlydHkodikge1xuICAgIHRoaXMuZWZmZWN0LmRpcnR5ID0gdjtcbiAgfVxuICAvLyAjZW5kcmVnaW9uXG59XG5mdW5jdGlvbiBjb21wdXRlZChnZXR0ZXJPck9wdGlvbnMsIGRlYnVnT3B0aW9ucywgaXNTU1IgPSBmYWxzZSkge1xuICBsZXQgZ2V0dGVyO1xuICBsZXQgc2V0dGVyO1xuICBjb25zdCBvbmx5R2V0dGVyID0gaXNGdW5jdGlvbihnZXR0ZXJPck9wdGlvbnMpO1xuICBpZiAob25seUdldHRlcikge1xuICAgIGdldHRlciA9IGdldHRlck9yT3B0aW9ucztcbiAgICBzZXR0ZXIgPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gKCkgPT4ge1xuICAgICAgd2FybihcIldyaXRlIG9wZXJhdGlvbiBmYWlsZWQ6IGNvbXB1dGVkIHZhbHVlIGlzIHJlYWRvbmx5XCIpO1xuICAgIH0gOiBOT09QO1xuICB9IGVsc2Uge1xuICAgIGdldHRlciA9IGdldHRlck9yT3B0aW9ucy5nZXQ7XG4gICAgc2V0dGVyID0gZ2V0dGVyT3JPcHRpb25zLnNldDtcbiAgfVxuICBjb25zdCBjUmVmID0gbmV3IENvbXB1dGVkUmVmSW1wbChnZXR0ZXIsIHNldHRlciwgb25seUdldHRlciB8fCAhc2V0dGVyLCBpc1NTUik7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGRlYnVnT3B0aW9ucyAmJiAhaXNTU1IpIHtcbiAgICBjUmVmLmVmZmVjdC5vblRyYWNrID0gZGVidWdPcHRpb25zLm9uVHJhY2s7XG4gICAgY1JlZi5lZmZlY3Qub25UcmlnZ2VyID0gZGVidWdPcHRpb25zLm9uVHJpZ2dlcjtcbiAgfVxuICByZXR1cm4gY1JlZjtcbn1cblxuZnVuY3Rpb24gdHJhY2tSZWZWYWx1ZShyZWYyKSB7XG4gIHZhciBfYTtcbiAgaWYgKHNob3VsZFRyYWNrICYmIGFjdGl2ZUVmZmVjdCkge1xuICAgIHJlZjIgPSB0b1JhdyhyZWYyKTtcbiAgICB0cmFja0VmZmVjdChcbiAgICAgIGFjdGl2ZUVmZmVjdCxcbiAgICAgIChfYSA9IHJlZjIuZGVwKSAhPSBudWxsID8gX2EgOiByZWYyLmRlcCA9IGNyZWF0ZURlcChcbiAgICAgICAgKCkgPT4gcmVmMi5kZXAgPSB2b2lkIDAsXG4gICAgICAgIHJlZjIgaW5zdGFuY2VvZiBDb21wdXRlZFJlZkltcGwgPyByZWYyIDogdm9pZCAwXG4gICAgICApLFxuICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHtcbiAgICAgICAgdGFyZ2V0OiByZWYyLFxuICAgICAgICB0eXBlOiBcImdldFwiLFxuICAgICAgICBrZXk6IFwidmFsdWVcIlxuICAgICAgfSA6IHZvaWQgMFxuICAgICk7XG4gIH1cbn1cbmZ1bmN0aW9uIHRyaWdnZXJSZWZWYWx1ZShyZWYyLCBkaXJ0eUxldmVsID0gNSwgbmV3VmFsLCBvbGRWYWwpIHtcbiAgcmVmMiA9IHRvUmF3KHJlZjIpO1xuICBjb25zdCBkZXAgPSByZWYyLmRlcDtcbiAgaWYgKGRlcCkge1xuICAgIHRyaWdnZXJFZmZlY3RzKFxuICAgICAgZGVwLFxuICAgICAgZGlydHlMZXZlbCxcbiAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyB7XG4gICAgICAgIHRhcmdldDogcmVmMixcbiAgICAgICAgdHlwZTogXCJzZXRcIixcbiAgICAgICAga2V5OiBcInZhbHVlXCIsXG4gICAgICAgIG5ld1ZhbHVlOiBuZXdWYWwsXG4gICAgICAgIG9sZFZhbHVlOiBvbGRWYWxcbiAgICAgIH0gOiB2b2lkIDBcbiAgICApO1xuICB9XG59XG5mdW5jdGlvbiBpc1JlZihyKSB7XG4gIHJldHVybiAhIShyICYmIHIuX192X2lzUmVmID09PSB0cnVlKTtcbn1cbmZ1bmN0aW9uIHJlZih2YWx1ZSkge1xuICByZXR1cm4gY3JlYXRlUmVmKHZhbHVlLCBmYWxzZSk7XG59XG5mdW5jdGlvbiBzaGFsbG93UmVmKHZhbHVlKSB7XG4gIHJldHVybiBjcmVhdGVSZWYodmFsdWUsIHRydWUpO1xufVxuZnVuY3Rpb24gY3JlYXRlUmVmKHJhd1ZhbHVlLCBzaGFsbG93KSB7XG4gIGlmIChpc1JlZihyYXdWYWx1ZSkpIHtcbiAgICByZXR1cm4gcmF3VmFsdWU7XG4gIH1cbiAgcmV0dXJuIG5ldyBSZWZJbXBsKHJhd1ZhbHVlLCBzaGFsbG93KTtcbn1cbmNsYXNzIFJlZkltcGwge1xuICBjb25zdHJ1Y3Rvcih2YWx1ZSwgX192X2lzU2hhbGxvdykge1xuICAgIHRoaXMuX192X2lzU2hhbGxvdyA9IF9fdl9pc1NoYWxsb3c7XG4gICAgdGhpcy5kZXAgPSB2b2lkIDA7XG4gICAgdGhpcy5fX3ZfaXNSZWYgPSB0cnVlO1xuICAgIHRoaXMuX3Jhd1ZhbHVlID0gX192X2lzU2hhbGxvdyA/IHZhbHVlIDogdG9SYXcodmFsdWUpO1xuICAgIHRoaXMuX3ZhbHVlID0gX192X2lzU2hhbGxvdyA/IHZhbHVlIDogdG9SZWFjdGl2ZSh2YWx1ZSk7XG4gIH1cbiAgZ2V0IHZhbHVlKCkge1xuICAgIHRyYWNrUmVmVmFsdWUodGhpcyk7XG4gICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xuICB9XG4gIHNldCB2YWx1ZShuZXdWYWwpIHtcbiAgICBjb25zdCB1c2VEaXJlY3RWYWx1ZSA9IHRoaXMuX192X2lzU2hhbGxvdyB8fCBpc1NoYWxsb3cobmV3VmFsKSB8fCBpc1JlYWRvbmx5KG5ld1ZhbCk7XG4gICAgbmV3VmFsID0gdXNlRGlyZWN0VmFsdWUgPyBuZXdWYWwgOiB0b1JhdyhuZXdWYWwpO1xuICAgIGlmIChoYXNDaGFuZ2VkKG5ld1ZhbCwgdGhpcy5fcmF3VmFsdWUpKSB7XG4gICAgICBjb25zdCBvbGRWYWwgPSB0aGlzLl9yYXdWYWx1ZTtcbiAgICAgIHRoaXMuX3Jhd1ZhbHVlID0gbmV3VmFsO1xuICAgICAgdGhpcy5fdmFsdWUgPSB1c2VEaXJlY3RWYWx1ZSA/IG5ld1ZhbCA6IHRvUmVhY3RpdmUobmV3VmFsKTtcbiAgICAgIHRyaWdnZXJSZWZWYWx1ZSh0aGlzLCA1LCBuZXdWYWwsIG9sZFZhbCk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiB0cmlnZ2VyUmVmKHJlZjIpIHtcbiAgdHJpZ2dlclJlZlZhbHVlKHJlZjIsIDUsICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyByZWYyLnZhbHVlIDogdm9pZCAwKTtcbn1cbmZ1bmN0aW9uIHVucmVmKHJlZjIpIHtcbiAgcmV0dXJuIGlzUmVmKHJlZjIpID8gcmVmMi52YWx1ZSA6IHJlZjI7XG59XG5mdW5jdGlvbiB0b1ZhbHVlKHNvdXJjZSkge1xuICByZXR1cm4gaXNGdW5jdGlvbihzb3VyY2UpID8gc291cmNlKCkgOiB1bnJlZihzb3VyY2UpO1xufVxuY29uc3Qgc2hhbGxvd1Vud3JhcEhhbmRsZXJzID0ge1xuICBnZXQ6ICh0YXJnZXQsIGtleSwgcmVjZWl2ZXIpID0+IHVucmVmKFJlZmxlY3QuZ2V0KHRhcmdldCwga2V5LCByZWNlaXZlcikpLFxuICBzZXQ6ICh0YXJnZXQsIGtleSwgdmFsdWUsIHJlY2VpdmVyKSA9PiB7XG4gICAgY29uc3Qgb2xkVmFsdWUgPSB0YXJnZXRba2V5XTtcbiAgICBpZiAoaXNSZWYob2xkVmFsdWUpICYmICFpc1JlZih2YWx1ZSkpIHtcbiAgICAgIG9sZFZhbHVlLnZhbHVlID0gdmFsdWU7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFJlZmxlY3Quc2V0KHRhcmdldCwga2V5LCB2YWx1ZSwgcmVjZWl2ZXIpO1xuICAgIH1cbiAgfVxufTtcbmZ1bmN0aW9uIHByb3h5UmVmcyhvYmplY3RXaXRoUmVmcykge1xuICByZXR1cm4gaXNSZWFjdGl2ZShvYmplY3RXaXRoUmVmcykgPyBvYmplY3RXaXRoUmVmcyA6IG5ldyBQcm94eShvYmplY3RXaXRoUmVmcywgc2hhbGxvd1Vud3JhcEhhbmRsZXJzKTtcbn1cbmNsYXNzIEN1c3RvbVJlZkltcGwge1xuICBjb25zdHJ1Y3RvcihmYWN0b3J5KSB7XG4gICAgdGhpcy5kZXAgPSB2b2lkIDA7XG4gICAgdGhpcy5fX3ZfaXNSZWYgPSB0cnVlO1xuICAgIGNvbnN0IHsgZ2V0LCBzZXQgfSA9IGZhY3RvcnkoXG4gICAgICAoKSA9PiB0cmFja1JlZlZhbHVlKHRoaXMpLFxuICAgICAgKCkgPT4gdHJpZ2dlclJlZlZhbHVlKHRoaXMpXG4gICAgKTtcbiAgICB0aGlzLl9nZXQgPSBnZXQ7XG4gICAgdGhpcy5fc2V0ID0gc2V0O1xuICB9XG4gIGdldCB2YWx1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0KCk7XG4gIH1cbiAgc2V0IHZhbHVlKG5ld1ZhbCkge1xuICAgIHRoaXMuX3NldChuZXdWYWwpO1xuICB9XG59XG5mdW5jdGlvbiBjdXN0b21SZWYoZmFjdG9yeSkge1xuICByZXR1cm4gbmV3IEN1c3RvbVJlZkltcGwoZmFjdG9yeSk7XG59XG5mdW5jdGlvbiB0b1JlZnMob2JqZWN0KSB7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFpc1Byb3h5KG9iamVjdCkpIHtcbiAgICB3YXJuKGB0b1JlZnMoKSBleHBlY3RzIGEgcmVhY3RpdmUgb2JqZWN0IGJ1dCByZWNlaXZlZCBhIHBsYWluIG9uZS5gKTtcbiAgfVxuICBjb25zdCByZXQgPSBpc0FycmF5KG9iamVjdCkgPyBuZXcgQXJyYXkob2JqZWN0Lmxlbmd0aCkgOiB7fTtcbiAgZm9yIChjb25zdCBrZXkgaW4gb2JqZWN0KSB7XG4gICAgcmV0W2tleV0gPSBwcm9wZXJ0eVRvUmVmKG9iamVjdCwga2V5KTtcbiAgfVxuICByZXR1cm4gcmV0O1xufVxuY2xhc3MgT2JqZWN0UmVmSW1wbCB7XG4gIGNvbnN0cnVjdG9yKF9vYmplY3QsIF9rZXksIF9kZWZhdWx0VmFsdWUpIHtcbiAgICB0aGlzLl9vYmplY3QgPSBfb2JqZWN0O1xuICAgIHRoaXMuX2tleSA9IF9rZXk7XG4gICAgdGhpcy5fZGVmYXVsdFZhbHVlID0gX2RlZmF1bHRWYWx1ZTtcbiAgICB0aGlzLl9fdl9pc1JlZiA9IHRydWU7XG4gIH1cbiAgZ2V0IHZhbHVlKCkge1xuICAgIGNvbnN0IHZhbCA9IHRoaXMuX29iamVjdFt0aGlzLl9rZXldO1xuICAgIHJldHVybiB2YWwgPT09IHZvaWQgMCA/IHRoaXMuX2RlZmF1bHRWYWx1ZSA6IHZhbDtcbiAgfVxuICBzZXQgdmFsdWUobmV3VmFsKSB7XG4gICAgdGhpcy5fb2JqZWN0W3RoaXMuX2tleV0gPSBuZXdWYWw7XG4gIH1cbiAgZ2V0IGRlcCgpIHtcbiAgICByZXR1cm4gZ2V0RGVwRnJvbVJlYWN0aXZlKHRvUmF3KHRoaXMuX29iamVjdCksIHRoaXMuX2tleSk7XG4gIH1cbn1cbmNsYXNzIEdldHRlclJlZkltcGwge1xuICBjb25zdHJ1Y3RvcihfZ2V0dGVyKSB7XG4gICAgdGhpcy5fZ2V0dGVyID0gX2dldHRlcjtcbiAgICB0aGlzLl9fdl9pc1JlZiA9IHRydWU7XG4gICAgdGhpcy5fX3ZfaXNSZWFkb25seSA9IHRydWU7XG4gIH1cbiAgZ2V0IHZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLl9nZXR0ZXIoKTtcbiAgfVxufVxuZnVuY3Rpb24gdG9SZWYoc291cmNlLCBrZXksIGRlZmF1bHRWYWx1ZSkge1xuICBpZiAoaXNSZWYoc291cmNlKSkge1xuICAgIHJldHVybiBzb3VyY2U7XG4gIH0gZWxzZSBpZiAoaXNGdW5jdGlvbihzb3VyY2UpKSB7XG4gICAgcmV0dXJuIG5ldyBHZXR0ZXJSZWZJbXBsKHNvdXJjZSk7XG4gIH0gZWxzZSBpZiAoaXNPYmplY3Qoc291cmNlKSAmJiBhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgIHJldHVybiBwcm9wZXJ0eVRvUmVmKHNvdXJjZSwga2V5LCBkZWZhdWx0VmFsdWUpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiByZWYoc291cmNlKTtcbiAgfVxufVxuZnVuY3Rpb24gcHJvcGVydHlUb1JlZihzb3VyY2UsIGtleSwgZGVmYXVsdFZhbHVlKSB7XG4gIGNvbnN0IHZhbCA9IHNvdXJjZVtrZXldO1xuICByZXR1cm4gaXNSZWYodmFsKSA/IHZhbCA6IG5ldyBPYmplY3RSZWZJbXBsKHNvdXJjZSwga2V5LCBkZWZhdWx0VmFsdWUpO1xufVxuXG5jb25zdCBkZWZlcnJlZENvbXB1dGVkID0gY29tcHV0ZWQ7XG5cbmNvbnN0IFRyYWNrT3BUeXBlcyA9IHtcbiAgXCJHRVRcIjogXCJnZXRcIixcbiAgXCJIQVNcIjogXCJoYXNcIixcbiAgXCJJVEVSQVRFXCI6IFwiaXRlcmF0ZVwiXG59O1xuY29uc3QgVHJpZ2dlck9wVHlwZXMgPSB7XG4gIFwiU0VUXCI6IFwic2V0XCIsXG4gIFwiQUREXCI6IFwiYWRkXCIsXG4gIFwiREVMRVRFXCI6IFwiZGVsZXRlXCIsXG4gIFwiQ0xFQVJcIjogXCJjbGVhclwiXG59O1xuY29uc3QgUmVhY3RpdmVGbGFncyA9IHtcbiAgXCJTS0lQXCI6IFwiX192X3NraXBcIixcbiAgXCJJU19SRUFDVElWRVwiOiBcIl9fdl9pc1JlYWN0aXZlXCIsXG4gIFwiSVNfUkVBRE9OTFlcIjogXCJfX3ZfaXNSZWFkb25seVwiLFxuICBcIklTX1NIQUxMT1dcIjogXCJfX3ZfaXNTaGFsbG93XCIsXG4gIFwiUkFXXCI6IFwiX192X3Jhd1wiXG59O1xuXG5leHBvcnQgeyBFZmZlY3RTY29wZSwgSVRFUkFURV9LRVksIFJlYWN0aXZlRWZmZWN0LCBSZWFjdGl2ZUZsYWdzLCBUcmFja09wVHlwZXMsIFRyaWdnZXJPcFR5cGVzLCBjb21wdXRlZCwgY3VzdG9tUmVmLCBkZWZlcnJlZENvbXB1dGVkLCBlZmZlY3QsIGVmZmVjdFNjb3BlLCBlbmFibGVUcmFja2luZywgZ2V0Q3VycmVudFNjb3BlLCBpc1Byb3h5LCBpc1JlYWN0aXZlLCBpc1JlYWRvbmx5LCBpc1JlZiwgaXNTaGFsbG93LCBtYXJrUmF3LCBvblNjb3BlRGlzcG9zZSwgcGF1c2VTY2hlZHVsaW5nLCBwYXVzZVRyYWNraW5nLCBwcm94eVJlZnMsIHJlYWN0aXZlLCByZWFkb25seSwgcmVmLCByZXNldFNjaGVkdWxpbmcsIHJlc2V0VHJhY2tpbmcsIHNoYWxsb3dSZWFjdGl2ZSwgc2hhbGxvd1JlYWRvbmx5LCBzaGFsbG93UmVmLCBzdG9wLCB0b1JhdywgdG9SZWYsIHRvUmVmcywgdG9WYWx1ZSwgdHJhY2ssIHRyaWdnZXIsIHRyaWdnZXJSZWYsIHVucmVmIH07XG4iLCIvKipcbiogQHZ1ZS9ydW50aW1lLWNvcmUgdjMuNC4yOVxuKiAoYykgMjAxOC1wcmVzZW50IFl1eGkgKEV2YW4pIFlvdSBhbmQgVnVlIGNvbnRyaWJ1dG9yc1xuKiBAbGljZW5zZSBNSVRcbioqL1xuaW1wb3J0IHsgcGF1c2VUcmFja2luZywgcmVzZXRUcmFja2luZywgaXNSZWYsIHRvUmF3LCBzaGFsbG93UmVhZG9ubHksIHJlZiwgdHJhY2ssIHJlYWN0aXZlLCBzaGFsbG93UmVhY3RpdmUsIHRyaWdnZXIsIFJlYWN0aXZlRWZmZWN0LCBpc1NoYWxsb3csIGlzUmVhY3RpdmUsIGdldEN1cnJlbnRTY29wZSwgaXNQcm94eSwgcHJveHlSZWZzLCBtYXJrUmF3LCBFZmZlY3RTY29wZSwgY29tcHV0ZWQgYXMgY29tcHV0ZWQkMSwgY3VzdG9tUmVmLCBpc1JlYWRvbmx5IH0gZnJvbSAnQHZ1ZS9yZWFjdGl2aXR5JztcbmV4cG9ydCB7IEVmZmVjdFNjb3BlLCBSZWFjdGl2ZUVmZmVjdCwgVHJhY2tPcFR5cGVzLCBUcmlnZ2VyT3BUeXBlcywgY3VzdG9tUmVmLCBlZmZlY3QsIGVmZmVjdFNjb3BlLCBnZXRDdXJyZW50U2NvcGUsIGlzUHJveHksIGlzUmVhY3RpdmUsIGlzUmVhZG9ubHksIGlzUmVmLCBpc1NoYWxsb3csIG1hcmtSYXcsIG9uU2NvcGVEaXNwb3NlLCBwcm94eVJlZnMsIHJlYWN0aXZlLCByZWFkb25seSwgcmVmLCBzaGFsbG93UmVhY3RpdmUsIHNoYWxsb3dSZWFkb25seSwgc2hhbGxvd1JlZiwgc3RvcCwgdG9SYXcsIHRvUmVmLCB0b1JlZnMsIHRvVmFsdWUsIHRyaWdnZXJSZWYsIHVucmVmIH0gZnJvbSAnQHZ1ZS9yZWFjdGl2aXR5JztcbmltcG9ydCB7IGlzU3RyaW5nLCBpc0Z1bmN0aW9uLCBpc1Byb21pc2UsIGlzQXJyYXksIE5PT1AsIGdldEdsb2JhbFRoaXMsIGV4dGVuZCwgRU1QVFlfT0JKLCB0b0hhbmRsZXJLZXksIGxvb3NlVG9OdW1iZXIsIGh5cGhlbmF0ZSwgY2FtZWxpemUsIGlzT2JqZWN0LCBpc09uLCBoYXNPd24sIGlzTW9kZWxMaXN0ZW5lciwgY2FwaXRhbGl6ZSwgdG9OdW1iZXIsIGlzQnVpbHRJbkRpcmVjdGl2ZSwgaXNHbG9iYWxseUFsbG93ZWQsIE5PLCBpc1Jlc2VydmVkUHJvcCwgRU1QVFlfQVJSLCB0b1Jhd1R5cGUsIG1ha2VNYXAsIGRlZiwgcmVtb3ZlLCBub3JtYWxpemVDbGFzcywgc3RyaW5naWZ5U3R5bGUsIG5vcm1hbGl6ZVN0eWxlLCBpc0tub3duU3ZnQXR0ciwgaXNCb29sZWFuQXR0ciwgaXNLbm93bkh0bWxBdHRyLCBpbmNsdWRlQm9vbGVhbkF0dHIsIGlzUmVuZGVyYWJsZUF0dHJWYWx1ZSwgaW52b2tlQXJyYXlGbnMsIGhhc0NoYW5nZWQsIGlzU2V0LCBpc01hcCwgaXNQbGFpbk9iamVjdCwgaXNSZWdFeHAgfSBmcm9tICdAdnVlL3NoYXJlZCc7XG5leHBvcnQgeyBjYW1lbGl6ZSwgY2FwaXRhbGl6ZSwgbm9ybWFsaXplQ2xhc3MsIG5vcm1hbGl6ZVByb3BzLCBub3JtYWxpemVTdHlsZSwgdG9EaXNwbGF5U3RyaW5nLCB0b0hhbmRsZXJLZXkgfSBmcm9tICdAdnVlL3NoYXJlZCc7XG5cbmNvbnN0IHN0YWNrID0gW107XG5mdW5jdGlvbiBwdXNoV2FybmluZ0NvbnRleHQodm5vZGUpIHtcbiAgc3RhY2sucHVzaCh2bm9kZSk7XG59XG5mdW5jdGlvbiBwb3BXYXJuaW5nQ29udGV4dCgpIHtcbiAgc3RhY2sucG9wKCk7XG59XG5mdW5jdGlvbiB3YXJuJDEobXNnLCAuLi5hcmdzKSB7XG4gIHBhdXNlVHJhY2tpbmcoKTtcbiAgY29uc3QgaW5zdGFuY2UgPSBzdGFjay5sZW5ndGggPyBzdGFja1tzdGFjay5sZW5ndGggLSAxXS5jb21wb25lbnQgOiBudWxsO1xuICBjb25zdCBhcHBXYXJuSGFuZGxlciA9IGluc3RhbmNlICYmIGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnLndhcm5IYW5kbGVyO1xuICBjb25zdCB0cmFjZSA9IGdldENvbXBvbmVudFRyYWNlKCk7XG4gIGlmIChhcHBXYXJuSGFuZGxlcikge1xuICAgIGNhbGxXaXRoRXJyb3JIYW5kbGluZyhcbiAgICAgIGFwcFdhcm5IYW5kbGVyLFxuICAgICAgaW5zdGFuY2UsXG4gICAgICAxMSxcbiAgICAgIFtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtc3ludGF4XG4gICAgICAgIG1zZyArIGFyZ3MubWFwKChhKSA9PiB7XG4gICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICByZXR1cm4gKF9iID0gKF9hID0gYS50b1N0cmluZykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmNhbGwoYSkpICE9IG51bGwgPyBfYiA6IEpTT04uc3RyaW5naWZ5KGEpO1xuICAgICAgICB9KS5qb2luKFwiXCIpLFxuICAgICAgICBpbnN0YW5jZSAmJiBpbnN0YW5jZS5wcm94eSxcbiAgICAgICAgdHJhY2UubWFwKFxuICAgICAgICAgICh7IHZub2RlIH0pID0+IGBhdCA8JHtmb3JtYXRDb21wb25lbnROYW1lKGluc3RhbmNlLCB2bm9kZS50eXBlKX0+YFxuICAgICAgICApLmpvaW4oXCJcXG5cIiksXG4gICAgICAgIHRyYWNlXG4gICAgICBdXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCB3YXJuQXJncyA9IFtgW1Z1ZSB3YXJuXTogJHttc2d9YCwgLi4uYXJnc107XG4gICAgaWYgKHRyYWNlLmxlbmd0aCAmJiAvLyBhdm9pZCBzcGFtbWluZyBjb25zb2xlIGR1cmluZyB0ZXN0c1xuICAgIHRydWUpIHtcbiAgICAgIHdhcm5BcmdzLnB1c2goYFxuYCwgLi4uZm9ybWF0VHJhY2UodHJhY2UpKTtcbiAgICB9XG4gICAgY29uc29sZS53YXJuKC4uLndhcm5BcmdzKTtcbiAgfVxuICByZXNldFRyYWNraW5nKCk7XG59XG5mdW5jdGlvbiBnZXRDb21wb25lbnRUcmFjZSgpIHtcbiAgbGV0IGN1cnJlbnRWTm9kZSA9IHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdO1xuICBpZiAoIWN1cnJlbnRWTm9kZSkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBjb25zdCBub3JtYWxpemVkU3RhY2sgPSBbXTtcbiAgd2hpbGUgKGN1cnJlbnRWTm9kZSkge1xuICAgIGNvbnN0IGxhc3QgPSBub3JtYWxpemVkU3RhY2tbMF07XG4gICAgaWYgKGxhc3QgJiYgbGFzdC52bm9kZSA9PT0gY3VycmVudFZOb2RlKSB7XG4gICAgICBsYXN0LnJlY3Vyc2VDb3VudCsrO1xuICAgIH0gZWxzZSB7XG4gICAgICBub3JtYWxpemVkU3RhY2sucHVzaCh7XG4gICAgICAgIHZub2RlOiBjdXJyZW50Vk5vZGUsXG4gICAgICAgIHJlY3Vyc2VDb3VudDogMFxuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IHBhcmVudEluc3RhbmNlID0gY3VycmVudFZOb2RlLmNvbXBvbmVudCAmJiBjdXJyZW50Vk5vZGUuY29tcG9uZW50LnBhcmVudDtcbiAgICBjdXJyZW50Vk5vZGUgPSBwYXJlbnRJbnN0YW5jZSAmJiBwYXJlbnRJbnN0YW5jZS52bm9kZTtcbiAgfVxuICByZXR1cm4gbm9ybWFsaXplZFN0YWNrO1xufVxuZnVuY3Rpb24gZm9ybWF0VHJhY2UodHJhY2UpIHtcbiAgY29uc3QgbG9ncyA9IFtdO1xuICB0cmFjZS5mb3JFYWNoKChlbnRyeSwgaSkgPT4ge1xuICAgIGxvZ3MucHVzaCguLi5pID09PSAwID8gW10gOiBbYFxuYF0sIC4uLmZvcm1hdFRyYWNlRW50cnkoZW50cnkpKTtcbiAgfSk7XG4gIHJldHVybiBsb2dzO1xufVxuZnVuY3Rpb24gZm9ybWF0VHJhY2VFbnRyeSh7IHZub2RlLCByZWN1cnNlQ291bnQgfSkge1xuICBjb25zdCBwb3N0Zml4ID0gcmVjdXJzZUNvdW50ID4gMCA/IGAuLi4gKCR7cmVjdXJzZUNvdW50fSByZWN1cnNpdmUgY2FsbHMpYCA6IGBgO1xuICBjb25zdCBpc1Jvb3QgPSB2bm9kZS5jb21wb25lbnQgPyB2bm9kZS5jb21wb25lbnQucGFyZW50ID09IG51bGwgOiBmYWxzZTtcbiAgY29uc3Qgb3BlbiA9IGAgYXQgPCR7Zm9ybWF0Q29tcG9uZW50TmFtZShcbiAgICB2bm9kZS5jb21wb25lbnQsXG4gICAgdm5vZGUudHlwZSxcbiAgICBpc1Jvb3RcbiAgKX1gO1xuICBjb25zdCBjbG9zZSA9IGA+YCArIHBvc3RmaXg7XG4gIHJldHVybiB2bm9kZS5wcm9wcyA/IFtvcGVuLCAuLi5mb3JtYXRQcm9wcyh2bm9kZS5wcm9wcyksIGNsb3NlXSA6IFtvcGVuICsgY2xvc2VdO1xufVxuZnVuY3Rpb24gZm9ybWF0UHJvcHMocHJvcHMpIHtcbiAgY29uc3QgcmVzID0gW107XG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhwcm9wcyk7XG4gIGtleXMuc2xpY2UoMCwgMykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgcmVzLnB1c2goLi4uZm9ybWF0UHJvcChrZXksIHByb3BzW2tleV0pKTtcbiAgfSk7XG4gIGlmIChrZXlzLmxlbmd0aCA+IDMpIHtcbiAgICByZXMucHVzaChgIC4uLmApO1xuICB9XG4gIHJldHVybiByZXM7XG59XG5mdW5jdGlvbiBmb3JtYXRQcm9wKGtleSwgdmFsdWUsIHJhdykge1xuICBpZiAoaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgdmFsdWUgPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgcmV0dXJuIHJhdyA/IHZhbHVlIDogW2Ake2tleX09JHt2YWx1ZX1gXTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIgfHwgdHlwZW9mIHZhbHVlID09PSBcImJvb2xlYW5cIiB8fCB2YWx1ZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIHJhdyA/IHZhbHVlIDogW2Ake2tleX09JHt2YWx1ZX1gXTtcbiAgfSBlbHNlIGlmIChpc1JlZih2YWx1ZSkpIHtcbiAgICB2YWx1ZSA9IGZvcm1hdFByb3Aoa2V5LCB0b1Jhdyh2YWx1ZS52YWx1ZSksIHRydWUpO1xuICAgIHJldHVybiByYXcgPyB2YWx1ZSA6IFtgJHtrZXl9PVJlZjxgLCB2YWx1ZSwgYD5gXTtcbiAgfSBlbHNlIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgIHJldHVybiBbYCR7a2V5fT1mbiR7dmFsdWUubmFtZSA/IGA8JHt2YWx1ZS5uYW1lfT5gIDogYGB9YF07XG4gIH0gZWxzZSB7XG4gICAgdmFsdWUgPSB0b1Jhdyh2YWx1ZSk7XG4gICAgcmV0dXJuIHJhdyA/IHZhbHVlIDogW2Ake2tleX09YCwgdmFsdWVdO1xuICB9XG59XG5mdW5jdGlvbiBhc3NlcnROdW1iZXIodmFsLCB0eXBlKSB7XG4gIGlmICghISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkgcmV0dXJuO1xuICBpZiAodmFsID09PSB2b2lkIDApIHtcbiAgICByZXR1cm47XG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbCAhPT0gXCJudW1iZXJcIikge1xuICAgIHdhcm4kMShgJHt0eXBlfSBpcyBub3QgYSB2YWxpZCBudW1iZXIgLSBnb3QgJHtKU09OLnN0cmluZ2lmeSh2YWwpfS5gKTtcbiAgfSBlbHNlIGlmIChpc05hTih2YWwpKSB7XG4gICAgd2FybiQxKGAke3R5cGV9IGlzIE5hTiAtIHRoZSBkdXJhdGlvbiBleHByZXNzaW9uIG1pZ2h0IGJlIGluY29ycmVjdC5gKTtcbiAgfVxufVxuXG5jb25zdCBFcnJvckNvZGVzID0ge1xuICBcIlNFVFVQX0ZVTkNUSU9OXCI6IDAsXG4gIFwiMFwiOiBcIlNFVFVQX0ZVTkNUSU9OXCIsXG4gIFwiUkVOREVSX0ZVTkNUSU9OXCI6IDEsXG4gIFwiMVwiOiBcIlJFTkRFUl9GVU5DVElPTlwiLFxuICBcIldBVENIX0dFVFRFUlwiOiAyLFxuICBcIjJcIjogXCJXQVRDSF9HRVRURVJcIixcbiAgXCJXQVRDSF9DQUxMQkFDS1wiOiAzLFxuICBcIjNcIjogXCJXQVRDSF9DQUxMQkFDS1wiLFxuICBcIldBVENIX0NMRUFOVVBcIjogNCxcbiAgXCI0XCI6IFwiV0FUQ0hfQ0xFQU5VUFwiLFxuICBcIk5BVElWRV9FVkVOVF9IQU5ETEVSXCI6IDUsXG4gIFwiNVwiOiBcIk5BVElWRV9FVkVOVF9IQU5ETEVSXCIsXG4gIFwiQ09NUE9ORU5UX0VWRU5UX0hBTkRMRVJcIjogNixcbiAgXCI2XCI6IFwiQ09NUE9ORU5UX0VWRU5UX0hBTkRMRVJcIixcbiAgXCJWTk9ERV9IT09LXCI6IDcsXG4gIFwiN1wiOiBcIlZOT0RFX0hPT0tcIixcbiAgXCJESVJFQ1RJVkVfSE9PS1wiOiA4LFxuICBcIjhcIjogXCJESVJFQ1RJVkVfSE9PS1wiLFxuICBcIlRSQU5TSVRJT05fSE9PS1wiOiA5LFxuICBcIjlcIjogXCJUUkFOU0lUSU9OX0hPT0tcIixcbiAgXCJBUFBfRVJST1JfSEFORExFUlwiOiAxMCxcbiAgXCIxMFwiOiBcIkFQUF9FUlJPUl9IQU5ETEVSXCIsXG4gIFwiQVBQX1dBUk5fSEFORExFUlwiOiAxMSxcbiAgXCIxMVwiOiBcIkFQUF9XQVJOX0hBTkRMRVJcIixcbiAgXCJGVU5DVElPTl9SRUZcIjogMTIsXG4gIFwiMTJcIjogXCJGVU5DVElPTl9SRUZcIixcbiAgXCJBU1lOQ19DT01QT05FTlRfTE9BREVSXCI6IDEzLFxuICBcIjEzXCI6IFwiQVNZTkNfQ09NUE9ORU5UX0xPQURFUlwiLFxuICBcIlNDSEVEVUxFUlwiOiAxNCxcbiAgXCIxNFwiOiBcIlNDSEVEVUxFUlwiXG59O1xuY29uc3QgRXJyb3JUeXBlU3RyaW5ncyQxID0ge1xuICBbXCJzcFwiXTogXCJzZXJ2ZXJQcmVmZXRjaCBob29rXCIsXG4gIFtcImJjXCJdOiBcImJlZm9yZUNyZWF0ZSBob29rXCIsXG4gIFtcImNcIl06IFwiY3JlYXRlZCBob29rXCIsXG4gIFtcImJtXCJdOiBcImJlZm9yZU1vdW50IGhvb2tcIixcbiAgW1wibVwiXTogXCJtb3VudGVkIGhvb2tcIixcbiAgW1wiYnVcIl06IFwiYmVmb3JlVXBkYXRlIGhvb2tcIixcbiAgW1widVwiXTogXCJ1cGRhdGVkXCIsXG4gIFtcImJ1bVwiXTogXCJiZWZvcmVVbm1vdW50IGhvb2tcIixcbiAgW1widW1cIl06IFwidW5tb3VudGVkIGhvb2tcIixcbiAgW1wiYVwiXTogXCJhY3RpdmF0ZWQgaG9va1wiLFxuICBbXCJkYVwiXTogXCJkZWFjdGl2YXRlZCBob29rXCIsXG4gIFtcImVjXCJdOiBcImVycm9yQ2FwdHVyZWQgaG9va1wiLFxuICBbXCJydGNcIl06IFwicmVuZGVyVHJhY2tlZCBob29rXCIsXG4gIFtcInJ0Z1wiXTogXCJyZW5kZXJUcmlnZ2VyZWQgaG9va1wiLFxuICBbMF06IFwic2V0dXAgZnVuY3Rpb25cIixcbiAgWzFdOiBcInJlbmRlciBmdW5jdGlvblwiLFxuICBbMl06IFwid2F0Y2hlciBnZXR0ZXJcIixcbiAgWzNdOiBcIndhdGNoZXIgY2FsbGJhY2tcIixcbiAgWzRdOiBcIndhdGNoZXIgY2xlYW51cCBmdW5jdGlvblwiLFxuICBbNV06IFwibmF0aXZlIGV2ZW50IGhhbmRsZXJcIixcbiAgWzZdOiBcImNvbXBvbmVudCBldmVudCBoYW5kbGVyXCIsXG4gIFs3XTogXCJ2bm9kZSBob29rXCIsXG4gIFs4XTogXCJkaXJlY3RpdmUgaG9va1wiLFxuICBbOV06IFwidHJhbnNpdGlvbiBob29rXCIsXG4gIFsxMF06IFwiYXBwIGVycm9ySGFuZGxlclwiLFxuICBbMTFdOiBcImFwcCB3YXJuSGFuZGxlclwiLFxuICBbMTJdOiBcInJlZiBmdW5jdGlvblwiLFxuICBbMTNdOiBcImFzeW5jIGNvbXBvbmVudCBsb2FkZXJcIixcbiAgWzE0XTogXCJzY2hlZHVsZXIgZmx1c2guIFRoaXMgaXMgbGlrZWx5IGEgVnVlIGludGVybmFscyBidWcuIFBsZWFzZSBvcGVuIGFuIGlzc3VlIGF0IGh0dHBzOi8vZ2l0aHViLmNvbS92dWVqcy9jb3JlIC5cIlxufTtcbmZ1bmN0aW9uIGNhbGxXaXRoRXJyb3JIYW5kbGluZyhmbiwgaW5zdGFuY2UsIHR5cGUsIGFyZ3MpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gYXJncyA/IGZuKC4uLmFyZ3MpIDogZm4oKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgaGFuZGxlRXJyb3IoZXJyLCBpbnN0YW5jZSwgdHlwZSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGZuLCBpbnN0YW5jZSwgdHlwZSwgYXJncykge1xuICBpZiAoaXNGdW5jdGlvbihmbikpIHtcbiAgICBjb25zdCByZXMgPSBjYWxsV2l0aEVycm9ySGFuZGxpbmcoZm4sIGluc3RhbmNlLCB0eXBlLCBhcmdzKTtcbiAgICBpZiAocmVzICYmIGlzUHJvbWlzZShyZXMpKSB7XG4gICAgICByZXMuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBoYW5kbGVFcnJvcihlcnIsIGluc3RhbmNlLCB0eXBlKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xuICB9XG4gIGlmIChpc0FycmF5KGZuKSkge1xuICAgIGNvbnN0IHZhbHVlcyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZm4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhbHVlcy5wdXNoKGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGZuW2ldLCBpbnN0YW5jZSwgdHlwZSwgYXJncykpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWVzO1xuICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICB3YXJuJDEoXG4gICAgICBgSW52YWxpZCB2YWx1ZSB0eXBlIHBhc3NlZCB0byBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZygpOiAke3R5cGVvZiBmbn1gXG4gICAgKTtcbiAgfVxufVxuZnVuY3Rpb24gaGFuZGxlRXJyb3IoZXJyLCBpbnN0YW5jZSwgdHlwZSwgdGhyb3dJbkRldiA9IHRydWUpIHtcbiAgY29uc3QgY29udGV4dFZOb2RlID0gaW5zdGFuY2UgPyBpbnN0YW5jZS52bm9kZSA6IG51bGw7XG4gIGlmIChpbnN0YW5jZSkge1xuICAgIGxldCBjdXIgPSBpbnN0YW5jZS5wYXJlbnQ7XG4gICAgY29uc3QgZXhwb3NlZEluc3RhbmNlID0gaW5zdGFuY2UucHJveHk7XG4gICAgY29uc3QgZXJyb3JJbmZvID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IEVycm9yVHlwZVN0cmluZ3MkMVt0eXBlXSA6IGBodHRwczovL3Z1ZWpzLm9yZy9lcnJvci1yZWZlcmVuY2UvI3J1bnRpbWUtJHt0eXBlfWA7XG4gICAgd2hpbGUgKGN1cikge1xuICAgICAgY29uc3QgZXJyb3JDYXB0dXJlZEhvb2tzID0gY3VyLmVjO1xuICAgICAgaWYgKGVycm9yQ2FwdHVyZWRIb29rcykge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVycm9yQ2FwdHVyZWRIb29rcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmIChlcnJvckNhcHR1cmVkSG9va3NbaV0oZXJyLCBleHBvc2VkSW5zdGFuY2UsIGVycm9ySW5mbykgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjdXIgPSBjdXIucGFyZW50O1xuICAgIH1cbiAgICBjb25zdCBhcHBFcnJvckhhbmRsZXIgPSBpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZy5lcnJvckhhbmRsZXI7XG4gICAgaWYgKGFwcEVycm9ySGFuZGxlcikge1xuICAgICAgcGF1c2VUcmFja2luZygpO1xuICAgICAgY2FsbFdpdGhFcnJvckhhbmRsaW5nKFxuICAgICAgICBhcHBFcnJvckhhbmRsZXIsXG4gICAgICAgIG51bGwsXG4gICAgICAgIDEwLFxuICAgICAgICBbZXJyLCBleHBvc2VkSW5zdGFuY2UsIGVycm9ySW5mb11cbiAgICAgICk7XG4gICAgICByZXNldFRyYWNraW5nKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG4gIGxvZ0Vycm9yKGVyciwgdHlwZSwgY29udGV4dFZOb2RlLCB0aHJvd0luRGV2KTtcbn1cbmZ1bmN0aW9uIGxvZ0Vycm9yKGVyciwgdHlwZSwgY29udGV4dFZOb2RlLCB0aHJvd0luRGV2ID0gdHJ1ZSkge1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGNvbnN0IGluZm8gPSBFcnJvclR5cGVTdHJpbmdzJDFbdHlwZV07XG4gICAgaWYgKGNvbnRleHRWTm9kZSkge1xuICAgICAgcHVzaFdhcm5pbmdDb250ZXh0KGNvbnRleHRWTm9kZSk7XG4gICAgfVxuICAgIHdhcm4kMShgVW5oYW5kbGVkIGVycm9yJHtpbmZvID8gYCBkdXJpbmcgZXhlY3V0aW9uIG9mICR7aW5mb31gIDogYGB9YCk7XG4gICAgaWYgKGNvbnRleHRWTm9kZSkge1xuICAgICAgcG9wV2FybmluZ0NvbnRleHQoKTtcbiAgICB9XG4gICAgaWYgKHRocm93SW5EZXYpIHtcbiAgICAgIHRocm93IGVycjtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLmVycm9yKGVycik7XG4gIH1cbn1cblxubGV0IGlzRmx1c2hpbmcgPSBmYWxzZTtcbmxldCBpc0ZsdXNoUGVuZGluZyA9IGZhbHNlO1xuY29uc3QgcXVldWUgPSBbXTtcbmxldCBmbHVzaEluZGV4ID0gMDtcbmNvbnN0IHBlbmRpbmdQb3N0Rmx1c2hDYnMgPSBbXTtcbmxldCBhY3RpdmVQb3N0Rmx1c2hDYnMgPSBudWxsO1xubGV0IHBvc3RGbHVzaEluZGV4ID0gMDtcbmNvbnN0IHJlc29sdmVkUHJvbWlzZSA9IC8qIEBfX1BVUkVfXyAqLyBQcm9taXNlLnJlc29sdmUoKTtcbmxldCBjdXJyZW50Rmx1c2hQcm9taXNlID0gbnVsbDtcbmNvbnN0IFJFQ1VSU0lPTl9MSU1JVCA9IDEwMDtcbmZ1bmN0aW9uIG5leHRUaWNrKGZuKSB7XG4gIGNvbnN0IHAgPSBjdXJyZW50Rmx1c2hQcm9taXNlIHx8IHJlc29sdmVkUHJvbWlzZTtcbiAgcmV0dXJuIGZuID8gcC50aGVuKHRoaXMgPyBmbi5iaW5kKHRoaXMpIDogZm4pIDogcDtcbn1cbmZ1bmN0aW9uIGZpbmRJbnNlcnRpb25JbmRleChpZCkge1xuICBsZXQgc3RhcnQgPSBmbHVzaEluZGV4ICsgMTtcbiAgbGV0IGVuZCA9IHF1ZXVlLmxlbmd0aDtcbiAgd2hpbGUgKHN0YXJ0IDwgZW5kKSB7XG4gICAgY29uc3QgbWlkZGxlID0gc3RhcnQgKyBlbmQgPj4+IDE7XG4gICAgY29uc3QgbWlkZGxlSm9iID0gcXVldWVbbWlkZGxlXTtcbiAgICBjb25zdCBtaWRkbGVKb2JJZCA9IGdldElkKG1pZGRsZUpvYik7XG4gICAgaWYgKG1pZGRsZUpvYklkIDwgaWQgfHwgbWlkZGxlSm9iSWQgPT09IGlkICYmIG1pZGRsZUpvYi5wcmUpIHtcbiAgICAgIHN0YXJ0ID0gbWlkZGxlICsgMTtcbiAgICB9IGVsc2Uge1xuICAgICAgZW5kID0gbWlkZGxlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc3RhcnQ7XG59XG5mdW5jdGlvbiBxdWV1ZUpvYihqb2IpIHtcbiAgaWYgKCFxdWV1ZS5sZW5ndGggfHwgIXF1ZXVlLmluY2x1ZGVzKFxuICAgIGpvYixcbiAgICBpc0ZsdXNoaW5nICYmIGpvYi5hbGxvd1JlY3Vyc2UgPyBmbHVzaEluZGV4ICsgMSA6IGZsdXNoSW5kZXhcbiAgKSkge1xuICAgIGlmIChqb2IuaWQgPT0gbnVsbCkge1xuICAgICAgcXVldWUucHVzaChqb2IpO1xuICAgIH0gZWxzZSB7XG4gICAgICBxdWV1ZS5zcGxpY2UoZmluZEluc2VydGlvbkluZGV4KGpvYi5pZCksIDAsIGpvYik7XG4gICAgfVxuICAgIHF1ZXVlRmx1c2goKTtcbiAgfVxufVxuZnVuY3Rpb24gcXVldWVGbHVzaCgpIHtcbiAgaWYgKCFpc0ZsdXNoaW5nICYmICFpc0ZsdXNoUGVuZGluZykge1xuICAgIGlzRmx1c2hQZW5kaW5nID0gdHJ1ZTtcbiAgICBjdXJyZW50Rmx1c2hQcm9taXNlID0gcmVzb2x2ZWRQcm9taXNlLnRoZW4oZmx1c2hKb2JzKTtcbiAgfVxufVxuZnVuY3Rpb24gaW52YWxpZGF0ZUpvYihqb2IpIHtcbiAgY29uc3QgaSA9IHF1ZXVlLmluZGV4T2Yoam9iKTtcbiAgaWYgKGkgPiBmbHVzaEluZGV4KSB7XG4gICAgcXVldWUuc3BsaWNlKGksIDEpO1xuICB9XG59XG5mdW5jdGlvbiBxdWV1ZVBvc3RGbHVzaENiKGNiKSB7XG4gIGlmICghaXNBcnJheShjYikpIHtcbiAgICBpZiAoIWFjdGl2ZVBvc3RGbHVzaENicyB8fCAhYWN0aXZlUG9zdEZsdXNoQ2JzLmluY2x1ZGVzKFxuICAgICAgY2IsXG4gICAgICBjYi5hbGxvd1JlY3Vyc2UgPyBwb3N0Rmx1c2hJbmRleCArIDEgOiBwb3N0Rmx1c2hJbmRleFxuICAgICkpIHtcbiAgICAgIHBlbmRpbmdQb3N0Rmx1c2hDYnMucHVzaChjYik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHBlbmRpbmdQb3N0Rmx1c2hDYnMucHVzaCguLi5jYik7XG4gIH1cbiAgcXVldWVGbHVzaCgpO1xufVxuZnVuY3Rpb24gZmx1c2hQcmVGbHVzaENicyhpbnN0YW5jZSwgc2VlbiwgaSA9IGlzRmx1c2hpbmcgPyBmbHVzaEluZGV4ICsgMSA6IDApIHtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBzZWVuID0gc2VlbiB8fCAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICB9XG4gIGZvciAoOyBpIDwgcXVldWUubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBjYiA9IHF1ZXVlW2ldO1xuICAgIGlmIChjYiAmJiBjYi5wcmUpIHtcbiAgICAgIGlmIChpbnN0YW5jZSAmJiBjYi5pZCAhPT0gaW5zdGFuY2UudWlkKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgY2hlY2tSZWN1cnNpdmVVcGRhdGVzKHNlZW4sIGNiKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHF1ZXVlLnNwbGljZShpLCAxKTtcbiAgICAgIGktLTtcbiAgICAgIGNiKCk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBmbHVzaFBvc3RGbHVzaENicyhzZWVuKSB7XG4gIGlmIChwZW5kaW5nUG9zdEZsdXNoQ2JzLmxlbmd0aCkge1xuICAgIGNvbnN0IGRlZHVwZWQgPSBbLi4ubmV3IFNldChwZW5kaW5nUG9zdEZsdXNoQ2JzKV0uc29ydChcbiAgICAgIChhLCBiKSA9PiBnZXRJZChhKSAtIGdldElkKGIpXG4gICAgKTtcbiAgICBwZW5kaW5nUG9zdEZsdXNoQ2JzLmxlbmd0aCA9IDA7XG4gICAgaWYgKGFjdGl2ZVBvc3RGbHVzaENicykge1xuICAgICAgYWN0aXZlUG9zdEZsdXNoQ2JzLnB1c2goLi4uZGVkdXBlZCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGFjdGl2ZVBvc3RGbHVzaENicyA9IGRlZHVwZWQ7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIHNlZW4gPSBzZWVuIHx8IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICAgfVxuICAgIGZvciAocG9zdEZsdXNoSW5kZXggPSAwOyBwb3N0Rmx1c2hJbmRleCA8IGFjdGl2ZVBvc3RGbHVzaENicy5sZW5ndGg7IHBvc3RGbHVzaEluZGV4KyspIHtcbiAgICAgIGNvbnN0IGNiID0gYWN0aXZlUG9zdEZsdXNoQ2JzW3Bvc3RGbHVzaEluZGV4XTtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGNoZWNrUmVjdXJzaXZlVXBkYXRlcyhzZWVuLCBjYikpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAoY2IuYWN0aXZlICE9PSBmYWxzZSkgY2IoKTtcbiAgICB9XG4gICAgYWN0aXZlUG9zdEZsdXNoQ2JzID0gbnVsbDtcbiAgICBwb3N0Rmx1c2hJbmRleCA9IDA7XG4gIH1cbn1cbmNvbnN0IGdldElkID0gKGpvYikgPT4gam9iLmlkID09IG51bGwgPyBJbmZpbml0eSA6IGpvYi5pZDtcbmNvbnN0IGNvbXBhcmF0b3IgPSAoYSwgYikgPT4ge1xuICBjb25zdCBkaWZmID0gZ2V0SWQoYSkgLSBnZXRJZChiKTtcbiAgaWYgKGRpZmYgPT09IDApIHtcbiAgICBpZiAoYS5wcmUgJiYgIWIucHJlKSByZXR1cm4gLTE7XG4gICAgaWYgKGIucHJlICYmICFhLnByZSkgcmV0dXJuIDE7XG4gIH1cbiAgcmV0dXJuIGRpZmY7XG59O1xuZnVuY3Rpb24gZmx1c2hKb2JzKHNlZW4pIHtcbiAgaXNGbHVzaFBlbmRpbmcgPSBmYWxzZTtcbiAgaXNGbHVzaGluZyA9IHRydWU7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgc2VlbiA9IHNlZW4gfHwgLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgfVxuICBxdWV1ZS5zb3J0KGNvbXBhcmF0b3IpO1xuICBjb25zdCBjaGVjayA9ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyAoam9iKSA9PiBjaGVja1JlY3Vyc2l2ZVVwZGF0ZXMoc2Vlbiwgam9iKSA6IE5PT1A7XG4gIHRyeSB7XG4gICAgZm9yIChmbHVzaEluZGV4ID0gMDsgZmx1c2hJbmRleCA8IHF1ZXVlLmxlbmd0aDsgZmx1c2hJbmRleCsrKSB7XG4gICAgICBjb25zdCBqb2IgPSBxdWV1ZVtmbHVzaEluZGV4XTtcbiAgICAgIGlmIChqb2IgJiYgam9iLmFjdGl2ZSAhPT0gZmFsc2UpIHtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgY2hlY2soam9iKSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNhbGxXaXRoRXJyb3JIYW5kbGluZyhqb2IsIG51bGwsIDE0KTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZmluYWxseSB7XG4gICAgZmx1c2hJbmRleCA9IDA7XG4gICAgcXVldWUubGVuZ3RoID0gMDtcbiAgICBmbHVzaFBvc3RGbHVzaENicyhzZWVuKTtcbiAgICBpc0ZsdXNoaW5nID0gZmFsc2U7XG4gICAgY3VycmVudEZsdXNoUHJvbWlzZSA9IG51bGw7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCB8fCBwZW5kaW5nUG9zdEZsdXNoQ2JzLmxlbmd0aCkge1xuICAgICAgZmx1c2hKb2JzKHNlZW4pO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gY2hlY2tSZWN1cnNpdmVVcGRhdGVzKHNlZW4sIGZuKSB7XG4gIGlmICghc2Vlbi5oYXMoZm4pKSB7XG4gICAgc2Vlbi5zZXQoZm4sIDEpO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IGNvdW50ID0gc2Vlbi5nZXQoZm4pO1xuICAgIGlmIChjb3VudCA+IFJFQ1VSU0lPTl9MSU1JVCkge1xuICAgICAgY29uc3QgaW5zdGFuY2UgPSBmbi5vd25lckluc3RhbmNlO1xuICAgICAgY29uc3QgY29tcG9uZW50TmFtZSA9IGluc3RhbmNlICYmIGdldENvbXBvbmVudE5hbWUoaW5zdGFuY2UudHlwZSk7XG4gICAgICBoYW5kbGVFcnJvcihcbiAgICAgICAgYE1heGltdW0gcmVjdXJzaXZlIHVwZGF0ZXMgZXhjZWVkZWQke2NvbXBvbmVudE5hbWUgPyBgIGluIGNvbXBvbmVudCA8JHtjb21wb25lbnROYW1lfT5gIDogYGB9LiBUaGlzIG1lYW5zIHlvdSBoYXZlIGEgcmVhY3RpdmUgZWZmZWN0IHRoYXQgaXMgbXV0YXRpbmcgaXRzIG93biBkZXBlbmRlbmNpZXMgYW5kIHRodXMgcmVjdXJzaXZlbHkgdHJpZ2dlcmluZyBpdHNlbGYuIFBvc3NpYmxlIHNvdXJjZXMgaW5jbHVkZSBjb21wb25lbnQgdGVtcGxhdGUsIHJlbmRlciBmdW5jdGlvbiwgdXBkYXRlZCBob29rIG9yIHdhdGNoZXIgc291cmNlIGZ1bmN0aW9uLmAsXG4gICAgICAgIG51bGwsXG4gICAgICAgIDEwXG4gICAgICApO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlZW4uc2V0KGZuLCBjb3VudCArIDEpO1xuICAgIH1cbiAgfVxufVxuXG5sZXQgaXNIbXJVcGRhdGluZyA9IGZhbHNlO1xuY29uc3QgaG1yRGlydHlDb21wb25lbnRzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbmlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gIGdldEdsb2JhbFRoaXMoKS5fX1ZVRV9ITVJfUlVOVElNRV9fID0ge1xuICAgIGNyZWF0ZVJlY29yZDogdHJ5V3JhcChjcmVhdGVSZWNvcmQpLFxuICAgIHJlcmVuZGVyOiB0cnlXcmFwKHJlcmVuZGVyKSxcbiAgICByZWxvYWQ6IHRyeVdyYXAocmVsb2FkKVxuICB9O1xufVxuY29uc3QgbWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbmZ1bmN0aW9uIHJlZ2lzdGVySE1SKGluc3RhbmNlKSB7XG4gIGNvbnN0IGlkID0gaW5zdGFuY2UudHlwZS5fX2htcklkO1xuICBsZXQgcmVjb3JkID0gbWFwLmdldChpZCk7XG4gIGlmICghcmVjb3JkKSB7XG4gICAgY3JlYXRlUmVjb3JkKGlkLCBpbnN0YW5jZS50eXBlKTtcbiAgICByZWNvcmQgPSBtYXAuZ2V0KGlkKTtcbiAgfVxuICByZWNvcmQuaW5zdGFuY2VzLmFkZChpbnN0YW5jZSk7XG59XG5mdW5jdGlvbiB1bnJlZ2lzdGVySE1SKGluc3RhbmNlKSB7XG4gIG1hcC5nZXQoaW5zdGFuY2UudHlwZS5fX2htcklkKS5pbnN0YW5jZXMuZGVsZXRlKGluc3RhbmNlKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVJlY29yZChpZCwgaW5pdGlhbERlZikge1xuICBpZiAobWFwLmhhcyhpZCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgbWFwLnNldChpZCwge1xuICAgIGluaXRpYWxEZWY6IG5vcm1hbGl6ZUNsYXNzQ29tcG9uZW50KGluaXRpYWxEZWYpLFxuICAgIGluc3RhbmNlczogLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKVxuICB9KTtcbiAgcmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiBub3JtYWxpemVDbGFzc0NvbXBvbmVudChjb21wb25lbnQpIHtcbiAgcmV0dXJuIGlzQ2xhc3NDb21wb25lbnQoY29tcG9uZW50KSA/IGNvbXBvbmVudC5fX3ZjY09wdHMgOiBjb21wb25lbnQ7XG59XG5mdW5jdGlvbiByZXJlbmRlcihpZCwgbmV3UmVuZGVyKSB7XG4gIGNvbnN0IHJlY29yZCA9IG1hcC5nZXQoaWQpO1xuICBpZiAoIXJlY29yZCkge1xuICAgIHJldHVybjtcbiAgfVxuICByZWNvcmQuaW5pdGlhbERlZi5yZW5kZXIgPSBuZXdSZW5kZXI7XG4gIFsuLi5yZWNvcmQuaW5zdGFuY2VzXS5mb3JFYWNoKChpbnN0YW5jZSkgPT4ge1xuICAgIGlmIChuZXdSZW5kZXIpIHtcbiAgICAgIGluc3RhbmNlLnJlbmRlciA9IG5ld1JlbmRlcjtcbiAgICAgIG5vcm1hbGl6ZUNsYXNzQ29tcG9uZW50KGluc3RhbmNlLnR5cGUpLnJlbmRlciA9IG5ld1JlbmRlcjtcbiAgICB9XG4gICAgaW5zdGFuY2UucmVuZGVyQ2FjaGUgPSBbXTtcbiAgICBpc0htclVwZGF0aW5nID0gdHJ1ZTtcbiAgICBpbnN0YW5jZS5lZmZlY3QuZGlydHkgPSB0cnVlO1xuICAgIGluc3RhbmNlLnVwZGF0ZSgpO1xuICAgIGlzSG1yVXBkYXRpbmcgPSBmYWxzZTtcbiAgfSk7XG59XG5mdW5jdGlvbiByZWxvYWQoaWQsIG5ld0NvbXApIHtcbiAgY29uc3QgcmVjb3JkID0gbWFwLmdldChpZCk7XG4gIGlmICghcmVjb3JkKSByZXR1cm47XG4gIG5ld0NvbXAgPSBub3JtYWxpemVDbGFzc0NvbXBvbmVudChuZXdDb21wKTtcbiAgdXBkYXRlQ29tcG9uZW50RGVmKHJlY29yZC5pbml0aWFsRGVmLCBuZXdDb21wKTtcbiAgY29uc3QgaW5zdGFuY2VzID0gWy4uLnJlY29yZC5pbnN0YW5jZXNdO1xuICBmb3IgKGNvbnN0IGluc3RhbmNlIG9mIGluc3RhbmNlcykge1xuICAgIGNvbnN0IG9sZENvbXAgPSBub3JtYWxpemVDbGFzc0NvbXBvbmVudChpbnN0YW5jZS50eXBlKTtcbiAgICBpZiAoIWhtckRpcnR5Q29tcG9uZW50cy5oYXMob2xkQ29tcCkpIHtcbiAgICAgIGlmIChvbGRDb21wICE9PSByZWNvcmQuaW5pdGlhbERlZikge1xuICAgICAgICB1cGRhdGVDb21wb25lbnREZWYob2xkQ29tcCwgbmV3Q29tcCk7XG4gICAgICB9XG4gICAgICBobXJEaXJ0eUNvbXBvbmVudHMuYWRkKG9sZENvbXApO1xuICAgIH1cbiAgICBpbnN0YW5jZS5hcHBDb250ZXh0LnByb3BzQ2FjaGUuZGVsZXRlKGluc3RhbmNlLnR5cGUpO1xuICAgIGluc3RhbmNlLmFwcENvbnRleHQuZW1pdHNDYWNoZS5kZWxldGUoaW5zdGFuY2UudHlwZSk7XG4gICAgaW5zdGFuY2UuYXBwQ29udGV4dC5vcHRpb25zQ2FjaGUuZGVsZXRlKGluc3RhbmNlLnR5cGUpO1xuICAgIGlmIChpbnN0YW5jZS5jZVJlbG9hZCkge1xuICAgICAgaG1yRGlydHlDb21wb25lbnRzLmFkZChvbGRDb21wKTtcbiAgICAgIGluc3RhbmNlLmNlUmVsb2FkKG5ld0NvbXAuc3R5bGVzKTtcbiAgICAgIGhtckRpcnR5Q29tcG9uZW50cy5kZWxldGUob2xkQ29tcCk7XG4gICAgfSBlbHNlIGlmIChpbnN0YW5jZS5wYXJlbnQpIHtcbiAgICAgIGluc3RhbmNlLnBhcmVudC5lZmZlY3QuZGlydHkgPSB0cnVlO1xuICAgICAgcXVldWVKb2IoKCkgPT4ge1xuICAgICAgICBpbnN0YW5jZS5wYXJlbnQudXBkYXRlKCk7XG4gICAgICAgIGhtckRpcnR5Q29tcG9uZW50cy5kZWxldGUob2xkQ29tcCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKGluc3RhbmNlLmFwcENvbnRleHQucmVsb2FkKSB7XG4gICAgICBpbnN0YW5jZS5hcHBDb250ZXh0LnJlbG9hZCgpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgIFwiW0hNUl0gUm9vdCBvciBtYW51YWxseSBtb3VudGVkIGluc3RhbmNlIG1vZGlmaWVkLiBGdWxsIHJlbG9hZCByZXF1aXJlZC5cIlxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgcXVldWVQb3N0Rmx1c2hDYigoKSA9PiB7XG4gICAgZm9yIChjb25zdCBpbnN0YW5jZSBvZiBpbnN0YW5jZXMpIHtcbiAgICAgIGhtckRpcnR5Q29tcG9uZW50cy5kZWxldGUoXG4gICAgICAgIG5vcm1hbGl6ZUNsYXNzQ29tcG9uZW50KGluc3RhbmNlLnR5cGUpXG4gICAgICApO1xuICAgIH1cbiAgfSk7XG59XG5mdW5jdGlvbiB1cGRhdGVDb21wb25lbnREZWYob2xkQ29tcCwgbmV3Q29tcCkge1xuICBleHRlbmQob2xkQ29tcCwgbmV3Q29tcCk7XG4gIGZvciAoY29uc3Qga2V5IGluIG9sZENvbXApIHtcbiAgICBpZiAoa2V5ICE9PSBcIl9fZmlsZVwiICYmICEoa2V5IGluIG5ld0NvbXApKSB7XG4gICAgICBkZWxldGUgb2xkQ29tcFtrZXldO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gdHJ5V3JhcChmbikge1xuICByZXR1cm4gKGlkLCBhcmcpID0+IHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGZuKGlkLCBhcmcpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgIGBbSE1SXSBTb21ldGhpbmcgd2VudCB3cm9uZyBkdXJpbmcgVnVlIGNvbXBvbmVudCBob3QtcmVsb2FkLiBGdWxsIHJlbG9hZCByZXF1aXJlZC5gXG4gICAgICApO1xuICAgIH1cbiAgfTtcbn1cblxubGV0IGRldnRvb2xzJDE7XG5sZXQgYnVmZmVyID0gW107XG5sZXQgZGV2dG9vbHNOb3RJbnN0YWxsZWQgPSBmYWxzZTtcbmZ1bmN0aW9uIGVtaXQkMShldmVudCwgLi4uYXJncykge1xuICBpZiAoZGV2dG9vbHMkMSkge1xuICAgIGRldnRvb2xzJDEuZW1pdChldmVudCwgLi4uYXJncyk7XG4gIH0gZWxzZSBpZiAoIWRldnRvb2xzTm90SW5zdGFsbGVkKSB7XG4gICAgYnVmZmVyLnB1c2goeyBldmVudCwgYXJncyB9KTtcbiAgfVxufVxuZnVuY3Rpb24gc2V0RGV2dG9vbHNIb29rJDEoaG9vaywgdGFyZ2V0KSB7XG4gIHZhciBfYSwgX2I7XG4gIGRldnRvb2xzJDEgPSBob29rO1xuICBpZiAoZGV2dG9vbHMkMSkge1xuICAgIGRldnRvb2xzJDEuZW5hYmxlZCA9IHRydWU7XG4gICAgYnVmZmVyLmZvckVhY2goKHsgZXZlbnQsIGFyZ3MgfSkgPT4gZGV2dG9vbHMkMS5lbWl0KGV2ZW50LCAuLi5hcmdzKSk7XG4gICAgYnVmZmVyID0gW107XG4gIH0gZWxzZSBpZiAoXG4gICAgLy8gaGFuZGxlIGxhdGUgZGV2dG9vbHMgaW5qZWN0aW9uIC0gb25seSBkbyB0aGlzIGlmIHdlIGFyZSBpbiBhbiBhY3R1YWxcbiAgICAvLyBicm93c2VyIGVudmlyb25tZW50IHRvIGF2b2lkIHRoZSB0aW1lciBoYW5kbGUgc3RhbGxpbmcgdGVzdCBydW5uZXIgZXhpdFxuICAgIC8vICgjNDgxNSlcbiAgICB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIC8vIHNvbWUgZW52cyBtb2NrIHdpbmRvdyBidXQgbm90IGZ1bGx5XG4gICAgd2luZG93LkhUTUxFbGVtZW50ICYmIC8vIGFsc28gZXhjbHVkZSBqc2RvbVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLXN5bnRheFxuICAgICEoKF9iID0gKF9hID0gd2luZG93Lm5hdmlnYXRvcikgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnVzZXJBZ2VudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLmluY2x1ZGVzKFwianNkb21cIikpXG4gICkge1xuICAgIGNvbnN0IHJlcGxheSA9IHRhcmdldC5fX1ZVRV9ERVZUT09MU19IT09LX1JFUExBWV9fID0gdGFyZ2V0Ll9fVlVFX0RFVlRPT0xTX0hPT0tfUkVQTEFZX18gfHwgW107XG4gICAgcmVwbGF5LnB1c2goKG5ld0hvb2spID0+IHtcbiAgICAgIHNldERldnRvb2xzSG9vayQxKG5ld0hvb2ssIHRhcmdldCk7XG4gICAgfSk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpZiAoIWRldnRvb2xzJDEpIHtcbiAgICAgICAgdGFyZ2V0Ll9fVlVFX0RFVlRPT0xTX0hPT0tfUkVQTEFZX18gPSBudWxsO1xuICAgICAgICBkZXZ0b29sc05vdEluc3RhbGxlZCA9IHRydWU7XG4gICAgICAgIGJ1ZmZlciA9IFtdO1xuICAgICAgfVxuICAgIH0sIDNlMyk7XG4gIH0gZWxzZSB7XG4gICAgZGV2dG9vbHNOb3RJbnN0YWxsZWQgPSB0cnVlO1xuICAgIGJ1ZmZlciA9IFtdO1xuICB9XG59XG5mdW5jdGlvbiBkZXZ0b29sc0luaXRBcHAoYXBwLCB2ZXJzaW9uKSB7XG4gIGVtaXQkMShcImFwcDppbml0XCIgLyogQVBQX0lOSVQgKi8sIGFwcCwgdmVyc2lvbiwge1xuICAgIEZyYWdtZW50LFxuICAgIFRleHQsXG4gICAgQ29tbWVudCxcbiAgICBTdGF0aWNcbiAgfSk7XG59XG5mdW5jdGlvbiBkZXZ0b29sc1VubW91bnRBcHAoYXBwKSB7XG4gIGVtaXQkMShcImFwcDp1bm1vdW50XCIgLyogQVBQX1VOTU9VTlQgKi8sIGFwcCk7XG59XG5jb25zdCBkZXZ0b29sc0NvbXBvbmVudEFkZGVkID0gLyogQF9fUFVSRV9fICovIGNyZWF0ZURldnRvb2xzQ29tcG9uZW50SG9vayhcbiAgXCJjb21wb25lbnQ6YWRkZWRcIiAvKiBDT01QT05FTlRfQURERUQgKi9cbik7XG5jb25zdCBkZXZ0b29sc0NvbXBvbmVudFVwZGF0ZWQgPSAvKiBAX19QVVJFX18gKi8gY3JlYXRlRGV2dG9vbHNDb21wb25lbnRIb29rKFwiY29tcG9uZW50OnVwZGF0ZWRcIiAvKiBDT01QT05FTlRfVVBEQVRFRCAqLyk7XG5jb25zdCBfZGV2dG9vbHNDb21wb25lbnRSZW1vdmVkID0gLyogQF9fUFVSRV9fICovIGNyZWF0ZURldnRvb2xzQ29tcG9uZW50SG9vayhcbiAgXCJjb21wb25lbnQ6cmVtb3ZlZFwiIC8qIENPTVBPTkVOVF9SRU1PVkVEICovXG4pO1xuY29uc3QgZGV2dG9vbHNDb21wb25lbnRSZW1vdmVkID0gKGNvbXBvbmVudCkgPT4ge1xuICBpZiAoZGV2dG9vbHMkMSAmJiB0eXBlb2YgZGV2dG9vbHMkMS5jbGVhbnVwQnVmZmVyID09PSBcImZ1bmN0aW9uXCIgJiYgLy8gcmVtb3ZlIHRoZSBjb21wb25lbnQgaWYgaXQgd2Fzbid0IGJ1ZmZlcmVkXG4gICFkZXZ0b29scyQxLmNsZWFudXBCdWZmZXIoY29tcG9uZW50KSkge1xuICAgIF9kZXZ0b29sc0NvbXBvbmVudFJlbW92ZWQoY29tcG9uZW50KTtcbiAgfVxufTtcbi8qISAjX19OT19TSURFX0VGRkVDVFNfXyAqL1xuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmZ1bmN0aW9uIGNyZWF0ZURldnRvb2xzQ29tcG9uZW50SG9vayhob29rKSB7XG4gIHJldHVybiAoY29tcG9uZW50KSA9PiB7XG4gICAgZW1pdCQxKFxuICAgICAgaG9vayxcbiAgICAgIGNvbXBvbmVudC5hcHBDb250ZXh0LmFwcCxcbiAgICAgIGNvbXBvbmVudC51aWQsXG4gICAgICBjb21wb25lbnQucGFyZW50ID8gY29tcG9uZW50LnBhcmVudC51aWQgOiB2b2lkIDAsXG4gICAgICBjb21wb25lbnRcbiAgICApO1xuICB9O1xufVxuY29uc3QgZGV2dG9vbHNQZXJmU3RhcnQgPSAvKiBAX19QVVJFX18gKi8gY3JlYXRlRGV2dG9vbHNQZXJmb3JtYW5jZUhvb2soXG4gIFwicGVyZjpzdGFydFwiIC8qIFBFUkZPUk1BTkNFX1NUQVJUICovXG4pO1xuY29uc3QgZGV2dG9vbHNQZXJmRW5kID0gLyogQF9fUFVSRV9fICovIGNyZWF0ZURldnRvb2xzUGVyZm9ybWFuY2VIb29rKFxuICBcInBlcmY6ZW5kXCIgLyogUEVSRk9STUFOQ0VfRU5EICovXG4pO1xuZnVuY3Rpb24gY3JlYXRlRGV2dG9vbHNQZXJmb3JtYW5jZUhvb2soaG9vaykge1xuICByZXR1cm4gKGNvbXBvbmVudCwgdHlwZSwgdGltZSkgPT4ge1xuICAgIGVtaXQkMShob29rLCBjb21wb25lbnQuYXBwQ29udGV4dC5hcHAsIGNvbXBvbmVudC51aWQsIGNvbXBvbmVudCwgdHlwZSwgdGltZSk7XG4gIH07XG59XG5mdW5jdGlvbiBkZXZ0b29sc0NvbXBvbmVudEVtaXQoY29tcG9uZW50LCBldmVudCwgcGFyYW1zKSB7XG4gIGVtaXQkMShcbiAgICBcImNvbXBvbmVudDplbWl0XCIgLyogQ09NUE9ORU5UX0VNSVQgKi8sXG4gICAgY29tcG9uZW50LmFwcENvbnRleHQuYXBwLFxuICAgIGNvbXBvbmVudCxcbiAgICBldmVudCxcbiAgICBwYXJhbXNcbiAgKTtcbn1cblxuZnVuY3Rpb24gZW1pdChpbnN0YW5jZSwgZXZlbnQsIC4uLnJhd0FyZ3MpIHtcbiAgaWYgKGluc3RhbmNlLmlzVW5tb3VudGVkKSByZXR1cm47XG4gIGNvbnN0IHByb3BzID0gaW5zdGFuY2Uudm5vZGUucHJvcHMgfHwgRU1QVFlfT0JKO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGNvbnN0IHtcbiAgICAgIGVtaXRzT3B0aW9ucyxcbiAgICAgIHByb3BzT3B0aW9uczogW3Byb3BzT3B0aW9uc11cbiAgICB9ID0gaW5zdGFuY2U7XG4gICAgaWYgKGVtaXRzT3B0aW9ucykge1xuICAgICAgaWYgKCEoZXZlbnQgaW4gZW1pdHNPcHRpb25zKSAmJiB0cnVlKSB7XG4gICAgICAgIGlmICghcHJvcHNPcHRpb25zIHx8ICEodG9IYW5kbGVyS2V5KGV2ZW50KSBpbiBwcm9wc09wdGlvbnMpKSB7XG4gICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgYENvbXBvbmVudCBlbWl0dGVkIGV2ZW50IFwiJHtldmVudH1cIiBidXQgaXQgaXMgbmVpdGhlciBkZWNsYXJlZCBpbiB0aGUgZW1pdHMgb3B0aW9uIG5vciBhcyBhbiBcIiR7dG9IYW5kbGVyS2V5KGV2ZW50KX1cIiBwcm9wLmBcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCB2YWxpZGF0b3IgPSBlbWl0c09wdGlvbnNbZXZlbnRdO1xuICAgICAgICBpZiAoaXNGdW5jdGlvbih2YWxpZGF0b3IpKSB7XG4gICAgICAgICAgY29uc3QgaXNWYWxpZCA9IHZhbGlkYXRvciguLi5yYXdBcmdzKTtcbiAgICAgICAgICBpZiAoIWlzVmFsaWQpIHtcbiAgICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgICAgYEludmFsaWQgZXZlbnQgYXJndW1lbnRzOiBldmVudCB2YWxpZGF0aW9uIGZhaWxlZCBmb3IgZXZlbnQgXCIke2V2ZW50fVwiLmBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGxldCBhcmdzID0gcmF3QXJncztcbiAgY29uc3QgaXNNb2RlbExpc3RlbmVyID0gZXZlbnQuc3RhcnRzV2l0aChcInVwZGF0ZTpcIik7XG4gIGNvbnN0IG1vZGVsQXJnID0gaXNNb2RlbExpc3RlbmVyICYmIGV2ZW50LnNsaWNlKDcpO1xuICBpZiAobW9kZWxBcmcgJiYgbW9kZWxBcmcgaW4gcHJvcHMpIHtcbiAgICBjb25zdCBtb2RpZmllcnNLZXkgPSBgJHttb2RlbEFyZyA9PT0gXCJtb2RlbFZhbHVlXCIgPyBcIm1vZGVsXCIgOiBtb2RlbEFyZ31Nb2RpZmllcnNgO1xuICAgIGNvbnN0IHsgbnVtYmVyLCB0cmltIH0gPSBwcm9wc1ttb2RpZmllcnNLZXldIHx8IEVNUFRZX09CSjtcbiAgICBpZiAodHJpbSkge1xuICAgICAgYXJncyA9IHJhd0FyZ3MubWFwKChhKSA9PiBpc1N0cmluZyhhKSA/IGEudHJpbSgpIDogYSk7XG4gICAgfVxuICAgIGlmIChudW1iZXIpIHtcbiAgICAgIGFyZ3MgPSByYXdBcmdzLm1hcChsb29zZVRvTnVtYmVyKTtcbiAgICB9XG4gIH1cbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgZGV2dG9vbHNDb21wb25lbnRFbWl0KGluc3RhbmNlLCBldmVudCwgYXJncyk7XG4gIH1cbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBjb25zdCBsb3dlckNhc2VFdmVudCA9IGV2ZW50LnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKGxvd2VyQ2FzZUV2ZW50ICE9PSBldmVudCAmJiBwcm9wc1t0b0hhbmRsZXJLZXkobG93ZXJDYXNlRXZlbnQpXSkge1xuICAgICAgd2FybiQxKFxuICAgICAgICBgRXZlbnQgXCIke2xvd2VyQ2FzZUV2ZW50fVwiIGlzIGVtaXR0ZWQgaW4gY29tcG9uZW50ICR7Zm9ybWF0Q29tcG9uZW50TmFtZShcbiAgICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgICBpbnN0YW5jZS50eXBlXG4gICAgICAgICl9IGJ1dCB0aGUgaGFuZGxlciBpcyByZWdpc3RlcmVkIGZvciBcIiR7ZXZlbnR9XCIuIE5vdGUgdGhhdCBIVE1MIGF0dHJpYnV0ZXMgYXJlIGNhc2UtaW5zZW5zaXRpdmUgYW5kIHlvdSBjYW5ub3QgdXNlIHYtb24gdG8gbGlzdGVuIHRvIGNhbWVsQ2FzZSBldmVudHMgd2hlbiB1c2luZyBpbi1ET00gdGVtcGxhdGVzLiBZb3Ugc2hvdWxkIHByb2JhYmx5IHVzZSBcIiR7aHlwaGVuYXRlKFxuICAgICAgICAgIGV2ZW50XG4gICAgICAgICl9XCIgaW5zdGVhZCBvZiBcIiR7ZXZlbnR9XCIuYFxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgbGV0IGhhbmRsZXJOYW1lO1xuICBsZXQgaGFuZGxlciA9IHByb3BzW2hhbmRsZXJOYW1lID0gdG9IYW5kbGVyS2V5KGV2ZW50KV0gfHwgLy8gYWxzbyB0cnkgY2FtZWxDYXNlIGV2ZW50IGhhbmRsZXIgKCMyMjQ5KVxuICBwcm9wc1toYW5kbGVyTmFtZSA9IHRvSGFuZGxlcktleShjYW1lbGl6ZShldmVudCkpXTtcbiAgaWYgKCFoYW5kbGVyICYmIGlzTW9kZWxMaXN0ZW5lcikge1xuICAgIGhhbmRsZXIgPSBwcm9wc1toYW5kbGVyTmFtZSA9IHRvSGFuZGxlcktleShoeXBoZW5hdGUoZXZlbnQpKV07XG4gIH1cbiAgaWYgKGhhbmRsZXIpIHtcbiAgICBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhcbiAgICAgIGhhbmRsZXIsXG4gICAgICBpbnN0YW5jZSxcbiAgICAgIDYsXG4gICAgICBhcmdzXG4gICAgKTtcbiAgfVxuICBjb25zdCBvbmNlSGFuZGxlciA9IHByb3BzW2hhbmRsZXJOYW1lICsgYE9uY2VgXTtcbiAgaWYgKG9uY2VIYW5kbGVyKSB7XG4gICAgaWYgKCFpbnN0YW5jZS5lbWl0dGVkKSB7XG4gICAgICBpbnN0YW5jZS5lbWl0dGVkID0ge307XG4gICAgfSBlbHNlIGlmIChpbnN0YW5jZS5lbWl0dGVkW2hhbmRsZXJOYW1lXSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpbnN0YW5jZS5lbWl0dGVkW2hhbmRsZXJOYW1lXSA9IHRydWU7XG4gICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoXG4gICAgICBvbmNlSGFuZGxlcixcbiAgICAgIGluc3RhbmNlLFxuICAgICAgNixcbiAgICAgIGFyZ3NcbiAgICApO1xuICB9XG59XG5mdW5jdGlvbiBub3JtYWxpemVFbWl0c09wdGlvbnMoY29tcCwgYXBwQ29udGV4dCwgYXNNaXhpbiA9IGZhbHNlKSB7XG4gIGNvbnN0IGNhY2hlID0gYXBwQ29udGV4dC5lbWl0c0NhY2hlO1xuICBjb25zdCBjYWNoZWQgPSBjYWNoZS5nZXQoY29tcCk7XG4gIGlmIChjYWNoZWQgIT09IHZvaWQgMCkge1xuICAgIHJldHVybiBjYWNoZWQ7XG4gIH1cbiAgY29uc3QgcmF3ID0gY29tcC5lbWl0cztcbiAgbGV0IG5vcm1hbGl6ZWQgPSB7fTtcbiAgbGV0IGhhc0V4dGVuZHMgPSBmYWxzZTtcbiAgaWYgKF9fVlVFX09QVElPTlNfQVBJX18gJiYgIWlzRnVuY3Rpb24oY29tcCkpIHtcbiAgICBjb25zdCBleHRlbmRFbWl0cyA9IChyYXcyKSA9PiB7XG4gICAgICBjb25zdCBub3JtYWxpemVkRnJvbUV4dGVuZCA9IG5vcm1hbGl6ZUVtaXRzT3B0aW9ucyhyYXcyLCBhcHBDb250ZXh0LCB0cnVlKTtcbiAgICAgIGlmIChub3JtYWxpemVkRnJvbUV4dGVuZCkge1xuICAgICAgICBoYXNFeHRlbmRzID0gdHJ1ZTtcbiAgICAgICAgZXh0ZW5kKG5vcm1hbGl6ZWQsIG5vcm1hbGl6ZWRGcm9tRXh0ZW5kKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGlmICghYXNNaXhpbiAmJiBhcHBDb250ZXh0Lm1peGlucy5sZW5ndGgpIHtcbiAgICAgIGFwcENvbnRleHQubWl4aW5zLmZvckVhY2goZXh0ZW5kRW1pdHMpO1xuICAgIH1cbiAgICBpZiAoY29tcC5leHRlbmRzKSB7XG4gICAgICBleHRlbmRFbWl0cyhjb21wLmV4dGVuZHMpO1xuICAgIH1cbiAgICBpZiAoY29tcC5taXhpbnMpIHtcbiAgICAgIGNvbXAubWl4aW5zLmZvckVhY2goZXh0ZW5kRW1pdHMpO1xuICAgIH1cbiAgfVxuICBpZiAoIXJhdyAmJiAhaGFzRXh0ZW5kcykge1xuICAgIGlmIChpc09iamVjdChjb21wKSkge1xuICAgICAgY2FjaGUuc2V0KGNvbXAsIG51bGwpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAoaXNBcnJheShyYXcpKSB7XG4gICAgcmF3LmZvckVhY2goKGtleSkgPT4gbm9ybWFsaXplZFtrZXldID0gbnVsbCk7XG4gIH0gZWxzZSB7XG4gICAgZXh0ZW5kKG5vcm1hbGl6ZWQsIHJhdyk7XG4gIH1cbiAgaWYgKGlzT2JqZWN0KGNvbXApKSB7XG4gICAgY2FjaGUuc2V0KGNvbXAsIG5vcm1hbGl6ZWQpO1xuICB9XG4gIHJldHVybiBub3JtYWxpemVkO1xufVxuZnVuY3Rpb24gaXNFbWl0TGlzdGVuZXIob3B0aW9ucywga2V5KSB7XG4gIGlmICghb3B0aW9ucyB8fCAhaXNPbihrZXkpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGtleSA9IGtleS5zbGljZSgyKS5yZXBsYWNlKC9PbmNlJC8sIFwiXCIpO1xuICByZXR1cm4gaGFzT3duKG9wdGlvbnMsIGtleVswXS50b0xvd2VyQ2FzZSgpICsga2V5LnNsaWNlKDEpKSB8fCBoYXNPd24ob3B0aW9ucywgaHlwaGVuYXRlKGtleSkpIHx8IGhhc093bihvcHRpb25zLCBrZXkpO1xufVxuXG5sZXQgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlID0gbnVsbDtcbmxldCBjdXJyZW50U2NvcGVJZCA9IG51bGw7XG5mdW5jdGlvbiBzZXRDdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UoaW5zdGFuY2UpIHtcbiAgY29uc3QgcHJldiA9IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZTtcbiAgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlID0gaW5zdGFuY2U7XG4gIGN1cnJlbnRTY29wZUlkID0gaW5zdGFuY2UgJiYgaW5zdGFuY2UudHlwZS5fX3Njb3BlSWQgfHwgbnVsbDtcbiAgcmV0dXJuIHByZXY7XG59XG5mdW5jdGlvbiBwdXNoU2NvcGVJZChpZCkge1xuICBjdXJyZW50U2NvcGVJZCA9IGlkO1xufVxuZnVuY3Rpb24gcG9wU2NvcGVJZCgpIHtcbiAgY3VycmVudFNjb3BlSWQgPSBudWxsO1xufVxuY29uc3Qgd2l0aFNjb3BlSWQgPSAoX2lkKSA9PiB3aXRoQ3R4O1xuZnVuY3Rpb24gd2l0aEN0eChmbiwgY3R4ID0gY3VycmVudFJlbmRlcmluZ0luc3RhbmNlLCBpc05vblNjb3BlZFNsb3QpIHtcbiAgaWYgKCFjdHgpIHJldHVybiBmbjtcbiAgaWYgKGZuLl9uKSB7XG4gICAgcmV0dXJuIGZuO1xuICB9XG4gIGNvbnN0IHJlbmRlckZuV2l0aENvbnRleHQgPSAoLi4uYXJncykgPT4ge1xuICAgIGlmIChyZW5kZXJGbldpdGhDb250ZXh0Ll9kKSB7XG4gICAgICBzZXRCbG9ja1RyYWNraW5nKC0xKTtcbiAgICB9XG4gICAgY29uc3QgcHJldkluc3RhbmNlID0gc2V0Q3VycmVudFJlbmRlcmluZ0luc3RhbmNlKGN0eCk7XG4gICAgbGV0IHJlcztcbiAgICB0cnkge1xuICAgICAgcmVzID0gZm4oLi4uYXJncyk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldEN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZShwcmV2SW5zdGFuY2UpO1xuICAgICAgaWYgKHJlbmRlckZuV2l0aENvbnRleHQuX2QpIHtcbiAgICAgICAgc2V0QmxvY2tUcmFja2luZygxKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICBkZXZ0b29sc0NvbXBvbmVudFVwZGF0ZWQoY3R4KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbiAgfTtcbiAgcmVuZGVyRm5XaXRoQ29udGV4dC5fbiA9IHRydWU7XG4gIHJlbmRlckZuV2l0aENvbnRleHQuX2MgPSB0cnVlO1xuICByZW5kZXJGbldpdGhDb250ZXh0Ll9kID0gdHJ1ZTtcbiAgcmV0dXJuIHJlbmRlckZuV2l0aENvbnRleHQ7XG59XG5cbmxldCBhY2Nlc3NlZEF0dHJzID0gZmFsc2U7XG5mdW5jdGlvbiBtYXJrQXR0cnNBY2Nlc3NlZCgpIHtcbiAgYWNjZXNzZWRBdHRycyA9IHRydWU7XG59XG5mdW5jdGlvbiByZW5kZXJDb21wb25lbnRSb290KGluc3RhbmNlKSB7XG4gIGNvbnN0IHtcbiAgICB0eXBlOiBDb21wb25lbnQsXG4gICAgdm5vZGUsXG4gICAgcHJveHksXG4gICAgd2l0aFByb3h5LFxuICAgIHByb3BzT3B0aW9uczogW3Byb3BzT3B0aW9uc10sXG4gICAgc2xvdHMsXG4gICAgYXR0cnMsXG4gICAgZW1pdCxcbiAgICByZW5kZXIsXG4gICAgcmVuZGVyQ2FjaGUsXG4gICAgcHJvcHMsXG4gICAgZGF0YSxcbiAgICBzZXR1cFN0YXRlLFxuICAgIGN0eCxcbiAgICBpbmhlcml0QXR0cnNcbiAgfSA9IGluc3RhbmNlO1xuICBjb25zdCBwcmV2ID0gc2V0Q3VycmVudFJlbmRlcmluZ0luc3RhbmNlKGluc3RhbmNlKTtcbiAgbGV0IHJlc3VsdDtcbiAgbGV0IGZhbGx0aHJvdWdoQXR0cnM7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgYWNjZXNzZWRBdHRycyA9IGZhbHNlO1xuICB9XG4gIHRyeSB7XG4gICAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDQpIHtcbiAgICAgIGNvbnN0IHByb3h5VG9Vc2UgPSB3aXRoUHJveHkgfHwgcHJveHk7XG4gICAgICBjb25zdCB0aGlzUHJveHkgPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHNldHVwU3RhdGUuX19pc1NjcmlwdFNldHVwID8gbmV3IFByb3h5KHByb3h5VG9Vc2UsIHtcbiAgICAgICAgZ2V0KHRhcmdldCwga2V5LCByZWNlaXZlcikge1xuICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgIGBQcm9wZXJ0eSAnJHtTdHJpbmcoXG4gICAgICAgICAgICAgIGtleVxuICAgICAgICAgICAgKX0nIHdhcyBhY2Nlc3NlZCB2aWEgJ3RoaXMnLiBBdm9pZCB1c2luZyAndGhpcycgaW4gdGVtcGxhdGVzLmBcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiBSZWZsZWN0LmdldCh0YXJnZXQsIGtleSwgcmVjZWl2ZXIpO1xuICAgICAgICB9XG4gICAgICB9KSA6IHByb3h5VG9Vc2U7XG4gICAgICByZXN1bHQgPSBub3JtYWxpemVWTm9kZShcbiAgICAgICAgcmVuZGVyLmNhbGwoXG4gICAgICAgICAgdGhpc1Byb3h5LFxuICAgICAgICAgIHByb3h5VG9Vc2UsXG4gICAgICAgICAgcmVuZGVyQ2FjaGUsXG4gICAgICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHNoYWxsb3dSZWFkb25seShwcm9wcykgOiBwcm9wcyxcbiAgICAgICAgICBzZXR1cFN0YXRlLFxuICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgY3R4XG4gICAgICAgIClcbiAgICAgICk7XG4gICAgICBmYWxsdGhyb3VnaEF0dHJzID0gYXR0cnM7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHJlbmRlcjIgPSBDb21wb25lbnQ7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBhdHRycyA9PT0gcHJvcHMpIHtcbiAgICAgICAgbWFya0F0dHJzQWNjZXNzZWQoKTtcbiAgICAgIH1cbiAgICAgIHJlc3VsdCA9IG5vcm1hbGl6ZVZOb2RlKFxuICAgICAgICByZW5kZXIyLmxlbmd0aCA+IDEgPyByZW5kZXIyKFxuICAgICAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBzaGFsbG93UmVhZG9ubHkocHJvcHMpIDogcHJvcHMsXG4gICAgICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHtcbiAgICAgICAgICAgIGdldCBhdHRycygpIHtcbiAgICAgICAgICAgICAgbWFya0F0dHJzQWNjZXNzZWQoKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHNoYWxsb3dSZWFkb25seShhdHRycyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2xvdHMsXG4gICAgICAgICAgICBlbWl0XG4gICAgICAgICAgfSA6IHsgYXR0cnMsIHNsb3RzLCBlbWl0IH1cbiAgICAgICAgKSA6IHJlbmRlcjIoXG4gICAgICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHNoYWxsb3dSZWFkb25seShwcm9wcykgOiBwcm9wcyxcbiAgICAgICAgICBudWxsXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgICBmYWxsdGhyb3VnaEF0dHJzID0gQ29tcG9uZW50LnByb3BzID8gYXR0cnMgOiBnZXRGdW5jdGlvbmFsRmFsbHRocm91Z2goYXR0cnMpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgYmxvY2tTdGFjay5sZW5ndGggPSAwO1xuICAgIGhhbmRsZUVycm9yKGVyciwgaW5zdGFuY2UsIDEpO1xuICAgIHJlc3VsdCA9IGNyZWF0ZVZOb2RlKENvbW1lbnQpO1xuICB9XG4gIGxldCByb290ID0gcmVzdWx0O1xuICBsZXQgc2V0Um9vdCA9IHZvaWQgMDtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgcmVzdWx0LnBhdGNoRmxhZyA+IDAgJiYgcmVzdWx0LnBhdGNoRmxhZyAmIDIwNDgpIHtcbiAgICBbcm9vdCwgc2V0Um9vdF0gPSBnZXRDaGlsZFJvb3QocmVzdWx0KTtcbiAgfVxuICBpZiAoZmFsbHRocm91Z2hBdHRycyAmJiBpbmhlcml0QXR0cnMgIT09IGZhbHNlKSB7XG4gICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGZhbGx0aHJvdWdoQXR0cnMpO1xuICAgIGNvbnN0IHsgc2hhcGVGbGFnIH0gPSByb290O1xuICAgIGlmIChrZXlzLmxlbmd0aCkge1xuICAgICAgaWYgKHNoYXBlRmxhZyAmICgxIHwgNikpIHtcbiAgICAgICAgaWYgKHByb3BzT3B0aW9ucyAmJiBrZXlzLnNvbWUoaXNNb2RlbExpc3RlbmVyKSkge1xuICAgICAgICAgIGZhbGx0aHJvdWdoQXR0cnMgPSBmaWx0ZXJNb2RlbExpc3RlbmVycyhcbiAgICAgICAgICAgIGZhbGx0aHJvdWdoQXR0cnMsXG4gICAgICAgICAgICBwcm9wc09wdGlvbnNcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHJvb3QgPSBjbG9uZVZOb2RlKHJvb3QsIGZhbGx0aHJvdWdoQXR0cnMsIGZhbHNlLCB0cnVlKTtcbiAgICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhYWNjZXNzZWRBdHRycyAmJiByb290LnR5cGUgIT09IENvbW1lbnQpIHtcbiAgICAgICAgY29uc3QgYWxsQXR0cnMgPSBPYmplY3Qua2V5cyhhdHRycyk7XG4gICAgICAgIGNvbnN0IGV2ZW50QXR0cnMgPSBbXTtcbiAgICAgICAgY29uc3QgZXh0cmFBdHRycyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgbCA9IGFsbEF0dHJzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgIGNvbnN0IGtleSA9IGFsbEF0dHJzW2ldO1xuICAgICAgICAgIGlmIChpc09uKGtleSkpIHtcbiAgICAgICAgICAgIGlmICghaXNNb2RlbExpc3RlbmVyKGtleSkpIHtcbiAgICAgICAgICAgICAgZXZlbnRBdHRycy5wdXNoKGtleVsyXS50b0xvd2VyQ2FzZSgpICsga2V5LnNsaWNlKDMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZXh0cmFBdHRycy5wdXNoKGtleSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChleHRyYUF0dHJzLmxlbmd0aCkge1xuICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgIGBFeHRyYW5lb3VzIG5vbi1wcm9wcyBhdHRyaWJ1dGVzICgke2V4dHJhQXR0cnMuam9pbihcIiwgXCIpfSkgd2VyZSBwYXNzZWQgdG8gY29tcG9uZW50IGJ1dCBjb3VsZCBub3QgYmUgYXV0b21hdGljYWxseSBpbmhlcml0ZWQgYmVjYXVzZSBjb21wb25lbnQgcmVuZGVycyBmcmFnbWVudCBvciB0ZXh0IHJvb3Qgbm9kZXMuYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV2ZW50QXR0cnMubGVuZ3RoKSB7XG4gICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgYEV4dHJhbmVvdXMgbm9uLWVtaXRzIGV2ZW50IGxpc3RlbmVycyAoJHtldmVudEF0dHJzLmpvaW4oXCIsIFwiKX0pIHdlcmUgcGFzc2VkIHRvIGNvbXBvbmVudCBidXQgY291bGQgbm90IGJlIGF1dG9tYXRpY2FsbHkgaW5oZXJpdGVkIGJlY2F1c2UgY29tcG9uZW50IHJlbmRlcnMgZnJhZ21lbnQgb3IgdGV4dCByb290IG5vZGVzLiBJZiB0aGUgbGlzdGVuZXIgaXMgaW50ZW5kZWQgdG8gYmUgYSBjb21wb25lbnQgY3VzdG9tIGV2ZW50IGxpc3RlbmVyIG9ubHksIGRlY2xhcmUgaXQgdXNpbmcgdGhlIFwiZW1pdHNcIiBvcHRpb24uYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKHZub2RlLmRpcnMpIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhaXNFbGVtZW50Um9vdChyb290KSkge1xuICAgICAgd2FybiQxKFxuICAgICAgICBgUnVudGltZSBkaXJlY3RpdmUgdXNlZCBvbiBjb21wb25lbnQgd2l0aCBub24tZWxlbWVudCByb290IG5vZGUuIFRoZSBkaXJlY3RpdmVzIHdpbGwgbm90IGZ1bmN0aW9uIGFzIGludGVuZGVkLmBcbiAgICAgICk7XG4gICAgfVxuICAgIHJvb3QgPSBjbG9uZVZOb2RlKHJvb3QsIG51bGwsIGZhbHNlLCB0cnVlKTtcbiAgICByb290LmRpcnMgPSByb290LmRpcnMgPyByb290LmRpcnMuY29uY2F0KHZub2RlLmRpcnMpIDogdm5vZGUuZGlycztcbiAgfVxuICBpZiAodm5vZGUudHJhbnNpdGlvbikge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFpc0VsZW1lbnRSb290KHJvb3QpKSB7XG4gICAgICB3YXJuJDEoXG4gICAgICAgIGBDb21wb25lbnQgaW5zaWRlIDxUcmFuc2l0aW9uPiByZW5kZXJzIG5vbi1lbGVtZW50IHJvb3Qgbm9kZSB0aGF0IGNhbm5vdCBiZSBhbmltYXRlZC5gXG4gICAgICApO1xuICAgIH1cbiAgICByb290LnRyYW5zaXRpb24gPSB2bm9kZS50cmFuc2l0aW9uO1xuICB9XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHNldFJvb3QpIHtcbiAgICBzZXRSb290KHJvb3QpO1xuICB9IGVsc2Uge1xuICAgIHJlc3VsdCA9IHJvb3Q7XG4gIH1cbiAgc2V0Q3VycmVudFJlbmRlcmluZ0luc3RhbmNlKHByZXYpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuY29uc3QgZ2V0Q2hpbGRSb290ID0gKHZub2RlKSA9PiB7XG4gIGNvbnN0IHJhd0NoaWxkcmVuID0gdm5vZGUuY2hpbGRyZW47XG4gIGNvbnN0IGR5bmFtaWNDaGlsZHJlbiA9IHZub2RlLmR5bmFtaWNDaGlsZHJlbjtcbiAgY29uc3QgY2hpbGRSb290ID0gZmlsdGVyU2luZ2xlUm9vdChyYXdDaGlsZHJlbiwgZmFsc2UpO1xuICBpZiAoIWNoaWxkUm9vdCkge1xuICAgIHJldHVybiBbdm5vZGUsIHZvaWQgMF07XG4gIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBjaGlsZFJvb3QucGF0Y2hGbGFnID4gMCAmJiBjaGlsZFJvb3QucGF0Y2hGbGFnICYgMjA0OCkge1xuICAgIHJldHVybiBnZXRDaGlsZFJvb3QoY2hpbGRSb290KTtcbiAgfVxuICBjb25zdCBpbmRleCA9IHJhd0NoaWxkcmVuLmluZGV4T2YoY2hpbGRSb290KTtcbiAgY29uc3QgZHluYW1pY0luZGV4ID0gZHluYW1pY0NoaWxkcmVuID8gZHluYW1pY0NoaWxkcmVuLmluZGV4T2YoY2hpbGRSb290KSA6IC0xO1xuICBjb25zdCBzZXRSb290ID0gKHVwZGF0ZWRSb290KSA9PiB7XG4gICAgcmF3Q2hpbGRyZW5baW5kZXhdID0gdXBkYXRlZFJvb3Q7XG4gICAgaWYgKGR5bmFtaWNDaGlsZHJlbikge1xuICAgICAgaWYgKGR5bmFtaWNJbmRleCA+IC0xKSB7XG4gICAgICAgIGR5bmFtaWNDaGlsZHJlbltkeW5hbWljSW5kZXhdID0gdXBkYXRlZFJvb3Q7XG4gICAgICB9IGVsc2UgaWYgKHVwZGF0ZWRSb290LnBhdGNoRmxhZyA+IDApIHtcbiAgICAgICAgdm5vZGUuZHluYW1pY0NoaWxkcmVuID0gWy4uLmR5bmFtaWNDaGlsZHJlbiwgdXBkYXRlZFJvb3RdO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgcmV0dXJuIFtub3JtYWxpemVWTm9kZShjaGlsZFJvb3QpLCBzZXRSb290XTtcbn07XG5mdW5jdGlvbiBmaWx0ZXJTaW5nbGVSb290KGNoaWxkcmVuLCByZWN1cnNlID0gdHJ1ZSkge1xuICBsZXQgc2luZ2xlUm9vdDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW5baV07XG4gICAgaWYgKGlzVk5vZGUoY2hpbGQpKSB7XG4gICAgICBpZiAoY2hpbGQudHlwZSAhPT0gQ29tbWVudCB8fCBjaGlsZC5jaGlsZHJlbiA9PT0gXCJ2LWlmXCIpIHtcbiAgICAgICAgaWYgKHNpbmdsZVJvb3QpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2luZ2xlUm9vdCA9IGNoaWxkO1xuICAgICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHJlY3Vyc2UgJiYgc2luZ2xlUm9vdC5wYXRjaEZsYWcgPiAwICYmIHNpbmdsZVJvb3QucGF0Y2hGbGFnICYgMjA0OCkge1xuICAgICAgICAgICAgcmV0dXJuIGZpbHRlclNpbmdsZVJvb3Qoc2luZ2xlUm9vdC5jaGlsZHJlbik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHNpbmdsZVJvb3Q7XG59XG5jb25zdCBnZXRGdW5jdGlvbmFsRmFsbHRocm91Z2ggPSAoYXR0cnMpID0+IHtcbiAgbGV0IHJlcztcbiAgZm9yIChjb25zdCBrZXkgaW4gYXR0cnMpIHtcbiAgICBpZiAoa2V5ID09PSBcImNsYXNzXCIgfHwga2V5ID09PSBcInN0eWxlXCIgfHwgaXNPbihrZXkpKSB7XG4gICAgICAocmVzIHx8IChyZXMgPSB7fSkpW2tleV0gPSBhdHRyc1trZXldO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzO1xufTtcbmNvbnN0IGZpbHRlck1vZGVsTGlzdGVuZXJzID0gKGF0dHJzLCBwcm9wcykgPT4ge1xuICBjb25zdCByZXMgPSB7fTtcbiAgZm9yIChjb25zdCBrZXkgaW4gYXR0cnMpIHtcbiAgICBpZiAoIWlzTW9kZWxMaXN0ZW5lcihrZXkpIHx8ICEoa2V5LnNsaWNlKDkpIGluIHByb3BzKSkge1xuICAgICAgcmVzW2tleV0gPSBhdHRyc1trZXldO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzO1xufTtcbmNvbnN0IGlzRWxlbWVudFJvb3QgPSAodm5vZGUpID0+IHtcbiAgcmV0dXJuIHZub2RlLnNoYXBlRmxhZyAmICg2IHwgMSkgfHwgdm5vZGUudHlwZSA9PT0gQ29tbWVudDtcbn07XG5mdW5jdGlvbiBzaG91bGRVcGRhdGVDb21wb25lbnQocHJldlZOb2RlLCBuZXh0Vk5vZGUsIG9wdGltaXplZCkge1xuICBjb25zdCB7IHByb3BzOiBwcmV2UHJvcHMsIGNoaWxkcmVuOiBwcmV2Q2hpbGRyZW4sIGNvbXBvbmVudCB9ID0gcHJldlZOb2RlO1xuICBjb25zdCB7IHByb3BzOiBuZXh0UHJvcHMsIGNoaWxkcmVuOiBuZXh0Q2hpbGRyZW4sIHBhdGNoRmxhZyB9ID0gbmV4dFZOb2RlO1xuICBjb25zdCBlbWl0cyA9IGNvbXBvbmVudC5lbWl0c09wdGlvbnM7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIChwcmV2Q2hpbGRyZW4gfHwgbmV4dENoaWxkcmVuKSAmJiBpc0htclVwZGF0aW5nKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKG5leHRWTm9kZS5kaXJzIHx8IG5leHRWTm9kZS50cmFuc2l0aW9uKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKG9wdGltaXplZCAmJiBwYXRjaEZsYWcgPj0gMCkge1xuICAgIGlmIChwYXRjaEZsYWcgJiAxMDI0KSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHBhdGNoRmxhZyAmIDE2KSB7XG4gICAgICBpZiAoIXByZXZQcm9wcykge1xuICAgICAgICByZXR1cm4gISFuZXh0UHJvcHM7XG4gICAgICB9XG4gICAgICByZXR1cm4gaGFzUHJvcHNDaGFuZ2VkKHByZXZQcm9wcywgbmV4dFByb3BzLCBlbWl0cyk7XG4gICAgfSBlbHNlIGlmIChwYXRjaEZsYWcgJiA4KSB7XG4gICAgICBjb25zdCBkeW5hbWljUHJvcHMgPSBuZXh0Vk5vZGUuZHluYW1pY1Byb3BzO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkeW5hbWljUHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3Qga2V5ID0gZHluYW1pY1Byb3BzW2ldO1xuICAgICAgICBpZiAobmV4dFByb3BzW2tleV0gIT09IHByZXZQcm9wc1trZXldICYmICFpc0VtaXRMaXN0ZW5lcihlbWl0cywga2V5KSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChwcmV2Q2hpbGRyZW4gfHwgbmV4dENoaWxkcmVuKSB7XG4gICAgICBpZiAoIW5leHRDaGlsZHJlbiB8fCAhbmV4dENoaWxkcmVuLiRzdGFibGUpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChwcmV2UHJvcHMgPT09IG5leHRQcm9wcykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoIXByZXZQcm9wcykge1xuICAgICAgcmV0dXJuICEhbmV4dFByb3BzO1xuICAgIH1cbiAgICBpZiAoIW5leHRQcm9wcykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBoYXNQcm9wc0NoYW5nZWQocHJldlByb3BzLCBuZXh0UHJvcHMsIGVtaXRzKTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBoYXNQcm9wc0NoYW5nZWQocHJldlByb3BzLCBuZXh0UHJvcHMsIGVtaXRzT3B0aW9ucykge1xuICBjb25zdCBuZXh0S2V5cyA9IE9iamVjdC5rZXlzKG5leHRQcm9wcyk7XG4gIGlmIChuZXh0S2V5cy5sZW5ndGggIT09IE9iamVjdC5rZXlzKHByZXZQcm9wcykubGVuZ3RoKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZXh0S2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGtleSA9IG5leHRLZXlzW2ldO1xuICAgIGlmIChuZXh0UHJvcHNba2V5XSAhPT0gcHJldlByb3BzW2tleV0gJiYgIWlzRW1pdExpc3RlbmVyKGVtaXRzT3B0aW9ucywga2V5KSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIHVwZGF0ZUhPQ0hvc3RFbCh7IHZub2RlLCBwYXJlbnQgfSwgZWwpIHtcbiAgd2hpbGUgKHBhcmVudCkge1xuICAgIGNvbnN0IHJvb3QgPSBwYXJlbnQuc3ViVHJlZTtcbiAgICBpZiAocm9vdC5zdXNwZW5zZSAmJiByb290LnN1c3BlbnNlLmFjdGl2ZUJyYW5jaCA9PT0gdm5vZGUpIHtcbiAgICAgIHJvb3QuZWwgPSB2bm9kZS5lbDtcbiAgICB9XG4gICAgaWYgKHJvb3QgPT09IHZub2RlKSB7XG4gICAgICAodm5vZGUgPSBwYXJlbnQudm5vZGUpLmVsID0gZWw7XG4gICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xuICAgIH0gZWxzZSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbn1cblxuY29uc3QgQ09NUE9ORU5UUyA9IFwiY29tcG9uZW50c1wiO1xuY29uc3QgRElSRUNUSVZFUyA9IFwiZGlyZWN0aXZlc1wiO1xuZnVuY3Rpb24gcmVzb2x2ZUNvbXBvbmVudChuYW1lLCBtYXliZVNlbGZSZWZlcmVuY2UpIHtcbiAgcmV0dXJuIHJlc29sdmVBc3NldChDT01QT05FTlRTLCBuYW1lLCB0cnVlLCBtYXliZVNlbGZSZWZlcmVuY2UpIHx8IG5hbWU7XG59XG5jb25zdCBOVUxMX0RZTkFNSUNfQ09NUE9ORU5UID0gU3ltYm9sLmZvcihcInYtbmRjXCIpO1xuZnVuY3Rpb24gcmVzb2x2ZUR5bmFtaWNDb21wb25lbnQoY29tcG9uZW50KSB7XG4gIGlmIChpc1N0cmluZyhjb21wb25lbnQpKSB7XG4gICAgcmV0dXJuIHJlc29sdmVBc3NldChDT01QT05FTlRTLCBjb21wb25lbnQsIGZhbHNlKSB8fCBjb21wb25lbnQ7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGNvbXBvbmVudCB8fCBOVUxMX0RZTkFNSUNfQ09NUE9ORU5UO1xuICB9XG59XG5mdW5jdGlvbiByZXNvbHZlRGlyZWN0aXZlKG5hbWUpIHtcbiAgcmV0dXJuIHJlc29sdmVBc3NldChESVJFQ1RJVkVTLCBuYW1lKTtcbn1cbmZ1bmN0aW9uIHJlc29sdmVBc3NldCh0eXBlLCBuYW1lLCB3YXJuTWlzc2luZyA9IHRydWUsIG1heWJlU2VsZlJlZmVyZW5jZSA9IGZhbHNlKSB7XG4gIGNvbnN0IGluc3RhbmNlID0gY3VycmVudFJlbmRlcmluZ0luc3RhbmNlIHx8IGN1cnJlbnRJbnN0YW5jZTtcbiAgaWYgKGluc3RhbmNlKSB7XG4gICAgY29uc3QgQ29tcG9uZW50ID0gaW5zdGFuY2UudHlwZTtcbiAgICBpZiAodHlwZSA9PT0gQ09NUE9ORU5UUykge1xuICAgICAgY29uc3Qgc2VsZk5hbWUgPSBnZXRDb21wb25lbnROYW1lKFxuICAgICAgICBDb21wb25lbnQsXG4gICAgICAgIGZhbHNlXG4gICAgICApO1xuICAgICAgaWYgKHNlbGZOYW1lICYmIChzZWxmTmFtZSA9PT0gbmFtZSB8fCBzZWxmTmFtZSA9PT0gY2FtZWxpemUobmFtZSkgfHwgc2VsZk5hbWUgPT09IGNhcGl0YWxpemUoY2FtZWxpemUobmFtZSkpKSkge1xuICAgICAgICByZXR1cm4gQ29tcG9uZW50O1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCByZXMgPSAoXG4gICAgICAvLyBsb2NhbCByZWdpc3RyYXRpb25cbiAgICAgIC8vIGNoZWNrIGluc3RhbmNlW3R5cGVdIGZpcnN0IHdoaWNoIGlzIHJlc29sdmVkIGZvciBvcHRpb25zIEFQSVxuICAgICAgcmVzb2x2ZShpbnN0YW5jZVt0eXBlXSB8fCBDb21wb25lbnRbdHlwZV0sIG5hbWUpIHx8IC8vIGdsb2JhbCByZWdpc3RyYXRpb25cbiAgICAgIHJlc29sdmUoaW5zdGFuY2UuYXBwQ29udGV4dFt0eXBlXSwgbmFtZSlcbiAgICApO1xuICAgIGlmICghcmVzICYmIG1heWJlU2VsZlJlZmVyZW5jZSkge1xuICAgICAgcmV0dXJuIENvbXBvbmVudDtcbiAgICB9XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2Fybk1pc3NpbmcgJiYgIXJlcykge1xuICAgICAgY29uc3QgZXh0cmEgPSB0eXBlID09PSBDT01QT05FTlRTID8gYFxuSWYgdGhpcyBpcyBhIG5hdGl2ZSBjdXN0b20gZWxlbWVudCwgbWFrZSBzdXJlIHRvIGV4Y2x1ZGUgaXQgZnJvbSBjb21wb25lbnQgcmVzb2x1dGlvbiB2aWEgY29tcGlsZXJPcHRpb25zLmlzQ3VzdG9tRWxlbWVudC5gIDogYGA7XG4gICAgICB3YXJuJDEoYEZhaWxlZCB0byByZXNvbHZlICR7dHlwZS5zbGljZSgwLCAtMSl9OiAke25hbWV9JHtleHRyYX1gKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbiAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgd2FybiQxKFxuICAgICAgYHJlc29sdmUke2NhcGl0YWxpemUodHlwZS5zbGljZSgwLCAtMSkpfSBjYW4gb25seSBiZSB1c2VkIGluIHJlbmRlcigpIG9yIHNldHVwKCkuYFxuICAgICk7XG4gIH1cbn1cbmZ1bmN0aW9uIHJlc29sdmUocmVnaXN0cnksIG5hbWUpIHtcbiAgcmV0dXJuIHJlZ2lzdHJ5ICYmIChyZWdpc3RyeVtuYW1lXSB8fCByZWdpc3RyeVtjYW1lbGl6ZShuYW1lKV0gfHwgcmVnaXN0cnlbY2FwaXRhbGl6ZShjYW1lbGl6ZShuYW1lKSldKTtcbn1cblxuY29uc3QgaXNTdXNwZW5zZSA9ICh0eXBlKSA9PiB0eXBlLl9faXNTdXNwZW5zZTtcbmxldCBzdXNwZW5zZUlkID0gMDtcbmNvbnN0IFN1c3BlbnNlSW1wbCA9IHtcbiAgbmFtZTogXCJTdXNwZW5zZVwiLFxuICAvLyBJbiBvcmRlciB0byBtYWtlIFN1c3BlbnNlIHRyZWUtc2hha2FibGUsIHdlIG5lZWQgdG8gYXZvaWQgaW1wb3J0aW5nIGl0XG4gIC8vIGRpcmVjdGx5IGluIHRoZSByZW5kZXJlci4gVGhlIHJlbmRlcmVyIGNoZWNrcyBmb3IgdGhlIF9faXNTdXNwZW5zZSBmbGFnXG4gIC8vIG9uIGEgdm5vZGUncyB0eXBlIGFuZCBjYWxscyB0aGUgYHByb2Nlc3NgIG1ldGhvZCwgcGFzc2luZyBpbiByZW5kZXJlclxuICAvLyBpbnRlcm5hbHMuXG4gIF9faXNTdXNwZW5zZTogdHJ1ZSxcbiAgcHJvY2VzcyhuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBuYW1lc3BhY2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkLCByZW5kZXJlckludGVybmFscykge1xuICAgIGlmIChuMSA9PSBudWxsKSB7XG4gICAgICBtb3VudFN1c3BlbnNlKFxuICAgICAgICBuMixcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBhbmNob3IsXG4gICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICBvcHRpbWl6ZWQsXG4gICAgICAgIHJlbmRlcmVySW50ZXJuYWxzXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAocGFyZW50U3VzcGVuc2UgJiYgcGFyZW50U3VzcGVuc2UuZGVwcyA+IDAgJiYgIW4xLnN1c3BlbnNlLmlzSW5GYWxsYmFjaykge1xuICAgICAgICBuMi5zdXNwZW5zZSA9IG4xLnN1c3BlbnNlO1xuICAgICAgICBuMi5zdXNwZW5zZS52bm9kZSA9IG4yO1xuICAgICAgICBuMi5lbCA9IG4xLmVsO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwYXRjaFN1c3BlbnNlKFxuICAgICAgICBuMSxcbiAgICAgICAgbjIsXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgYW5jaG9yLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICBvcHRpbWl6ZWQsXG4gICAgICAgIHJlbmRlcmVySW50ZXJuYWxzXG4gICAgICApO1xuICAgIH1cbiAgfSxcbiAgaHlkcmF0ZTogaHlkcmF0ZVN1c3BlbnNlLFxuICBjcmVhdGU6IGNyZWF0ZVN1c3BlbnNlQm91bmRhcnksXG4gIG5vcm1hbGl6ZTogbm9ybWFsaXplU3VzcGVuc2VDaGlsZHJlblxufTtcbmNvbnN0IFN1c3BlbnNlID0gU3VzcGVuc2VJbXBsIDtcbmZ1bmN0aW9uIHRyaWdnZXJFdmVudCh2bm9kZSwgbmFtZSkge1xuICBjb25zdCBldmVudExpc3RlbmVyID0gdm5vZGUucHJvcHMgJiYgdm5vZGUucHJvcHNbbmFtZV07XG4gIGlmIChpc0Z1bmN0aW9uKGV2ZW50TGlzdGVuZXIpKSB7XG4gICAgZXZlbnRMaXN0ZW5lcigpO1xuICB9XG59XG5mdW5jdGlvbiBtb3VudFN1c3BlbnNlKHZub2RlLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMpIHtcbiAgY29uc3Qge1xuICAgIHA6IHBhdGNoLFxuICAgIG86IHsgY3JlYXRlRWxlbWVudCB9XG4gIH0gPSByZW5kZXJlckludGVybmFscztcbiAgY29uc3QgaGlkZGVuQ29udGFpbmVyID0gY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgY29uc3Qgc3VzcGVuc2UgPSB2bm9kZS5zdXNwZW5zZSA9IGNyZWF0ZVN1c3BlbnNlQm91bmRhcnkoXG4gICAgdm5vZGUsXG4gICAgcGFyZW50U3VzcGVuc2UsXG4gICAgcGFyZW50Q29tcG9uZW50LFxuICAgIGNvbnRhaW5lcixcbiAgICBoaWRkZW5Db250YWluZXIsXG4gICAgYW5jaG9yLFxuICAgIG5hbWVzcGFjZSxcbiAgICBzbG90U2NvcGVJZHMsXG4gICAgb3B0aW1pemVkLFxuICAgIHJlbmRlcmVySW50ZXJuYWxzXG4gICk7XG4gIHBhdGNoKFxuICAgIG51bGwsXG4gICAgc3VzcGVuc2UucGVuZGluZ0JyYW5jaCA9IHZub2RlLnNzQ29udGVudCxcbiAgICBoaWRkZW5Db250YWluZXIsXG4gICAgbnVsbCxcbiAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgc3VzcGVuc2UsXG4gICAgbmFtZXNwYWNlLFxuICAgIHNsb3RTY29wZUlkc1xuICApO1xuICBpZiAoc3VzcGVuc2UuZGVwcyA+IDApIHtcbiAgICB0cmlnZ2VyRXZlbnQodm5vZGUsIFwib25QZW5kaW5nXCIpO1xuICAgIHRyaWdnZXJFdmVudCh2bm9kZSwgXCJvbkZhbGxiYWNrXCIpO1xuICAgIHBhdGNoKFxuICAgICAgbnVsbCxcbiAgICAgIHZub2RlLnNzRmFsbGJhY2ssXG4gICAgICBjb250YWluZXIsXG4gICAgICBhbmNob3IsXG4gICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICBudWxsLFxuICAgICAgLy8gZmFsbGJhY2sgdHJlZSB3aWxsIG5vdCBoYXZlIHN1c3BlbnNlIGNvbnRleHRcbiAgICAgIG5hbWVzcGFjZSxcbiAgICAgIHNsb3RTY29wZUlkc1xuICAgICk7XG4gICAgc2V0QWN0aXZlQnJhbmNoKHN1c3BlbnNlLCB2bm9kZS5zc0ZhbGxiYWNrKTtcbiAgfSBlbHNlIHtcbiAgICBzdXNwZW5zZS5yZXNvbHZlKGZhbHNlLCB0cnVlKTtcbiAgfVxufVxuZnVuY3Rpb24gcGF0Y2hTdXNwZW5zZShuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIG5hbWVzcGFjZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQsIHsgcDogcGF0Y2gsIHVtOiB1bm1vdW50LCBvOiB7IGNyZWF0ZUVsZW1lbnQgfSB9KSB7XG4gIGNvbnN0IHN1c3BlbnNlID0gbjIuc3VzcGVuc2UgPSBuMS5zdXNwZW5zZTtcbiAgc3VzcGVuc2Uudm5vZGUgPSBuMjtcbiAgbjIuZWwgPSBuMS5lbDtcbiAgY29uc3QgbmV3QnJhbmNoID0gbjIuc3NDb250ZW50O1xuICBjb25zdCBuZXdGYWxsYmFjayA9IG4yLnNzRmFsbGJhY2s7XG4gIGNvbnN0IHsgYWN0aXZlQnJhbmNoLCBwZW5kaW5nQnJhbmNoLCBpc0luRmFsbGJhY2ssIGlzSHlkcmF0aW5nIH0gPSBzdXNwZW5zZTtcbiAgaWYgKHBlbmRpbmdCcmFuY2gpIHtcbiAgICBzdXNwZW5zZS5wZW5kaW5nQnJhbmNoID0gbmV3QnJhbmNoO1xuICAgIGlmIChpc1NhbWVWTm9kZVR5cGUobmV3QnJhbmNoLCBwZW5kaW5nQnJhbmNoKSkge1xuICAgICAgcGF0Y2goXG4gICAgICAgIHBlbmRpbmdCcmFuY2gsXG4gICAgICAgIG5ld0JyYW5jaCxcbiAgICAgICAgc3VzcGVuc2UuaGlkZGVuQ29udGFpbmVyLFxuICAgICAgICBudWxsLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIHN1c3BlbnNlLFxuICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgb3B0aW1pemVkXG4gICAgICApO1xuICAgICAgaWYgKHN1c3BlbnNlLmRlcHMgPD0gMCkge1xuICAgICAgICBzdXNwZW5zZS5yZXNvbHZlKCk7XG4gICAgICB9IGVsc2UgaWYgKGlzSW5GYWxsYmFjaykge1xuICAgICAgICBpZiAoIWlzSHlkcmF0aW5nKSB7XG4gICAgICAgICAgcGF0Y2goXG4gICAgICAgICAgICBhY3RpdmVCcmFuY2gsXG4gICAgICAgICAgICBuZXdGYWxsYmFjayxcbiAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAvLyBmYWxsYmFjayB0cmVlIHdpbGwgbm90IGhhdmUgc3VzcGVuc2UgY29udGV4dFxuICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzZXRBY3RpdmVCcmFuY2goc3VzcGVuc2UsIG5ld0ZhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzdXNwZW5zZS5wZW5kaW5nSWQgPSBzdXNwZW5zZUlkKys7XG4gICAgICBpZiAoaXNIeWRyYXRpbmcpIHtcbiAgICAgICAgc3VzcGVuc2UuaXNIeWRyYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgc3VzcGVuc2UuYWN0aXZlQnJhbmNoID0gcGVuZGluZ0JyYW5jaDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVubW91bnQocGVuZGluZ0JyYW5jaCwgcGFyZW50Q29tcG9uZW50LCBzdXNwZW5zZSk7XG4gICAgICB9XG4gICAgICBzdXNwZW5zZS5kZXBzID0gMDtcbiAgICAgIHN1c3BlbnNlLmVmZmVjdHMubGVuZ3RoID0gMDtcbiAgICAgIHN1c3BlbnNlLmhpZGRlbkNvbnRhaW5lciA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBpZiAoaXNJbkZhbGxiYWNrKSB7XG4gICAgICAgIHBhdGNoKFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgbmV3QnJhbmNoLFxuICAgICAgICAgIHN1c3BlbnNlLmhpZGRlbkNvbnRhaW5lcixcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBzdXNwZW5zZSxcbiAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgICBpZiAoc3VzcGVuc2UuZGVwcyA8PSAwKSB7XG4gICAgICAgICAgc3VzcGVuc2UucmVzb2x2ZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBhdGNoKFxuICAgICAgICAgICAgYWN0aXZlQnJhbmNoLFxuICAgICAgICAgICAgbmV3RmFsbGJhY2ssXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgLy8gZmFsbGJhY2sgdHJlZSB3aWxsIG5vdCBoYXZlIHN1c3BlbnNlIGNvbnRleHRcbiAgICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICAgICk7XG4gICAgICAgICAgc2V0QWN0aXZlQnJhbmNoKHN1c3BlbnNlLCBuZXdGYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoYWN0aXZlQnJhbmNoICYmIGlzU2FtZVZOb2RlVHlwZShuZXdCcmFuY2gsIGFjdGl2ZUJyYW5jaCkpIHtcbiAgICAgICAgcGF0Y2goXG4gICAgICAgICAgYWN0aXZlQnJhbmNoLFxuICAgICAgICAgIG5ld0JyYW5jaCxcbiAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgYW5jaG9yLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBzdXNwZW5zZSxcbiAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgICBzdXNwZW5zZS5yZXNvbHZlKHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGF0Y2goXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBuZXdCcmFuY2gsXG4gICAgICAgICAgc3VzcGVuc2UuaGlkZGVuQ29udGFpbmVyLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHN1c3BlbnNlLFxuICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICk7XG4gICAgICAgIGlmIChzdXNwZW5zZS5kZXBzIDw9IDApIHtcbiAgICAgICAgICBzdXNwZW5zZS5yZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGFjdGl2ZUJyYW5jaCAmJiBpc1NhbWVWTm9kZVR5cGUobmV3QnJhbmNoLCBhY3RpdmVCcmFuY2gpKSB7XG4gICAgICBwYXRjaChcbiAgICAgICAgYWN0aXZlQnJhbmNoLFxuICAgICAgICBuZXdCcmFuY2gsXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgYW5jaG9yLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIHN1c3BlbnNlLFxuICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgb3B0aW1pemVkXG4gICAgICApO1xuICAgICAgc2V0QWN0aXZlQnJhbmNoKHN1c3BlbnNlLCBuZXdCcmFuY2gpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0cmlnZ2VyRXZlbnQobjIsIFwib25QZW5kaW5nXCIpO1xuICAgICAgc3VzcGVuc2UucGVuZGluZ0JyYW5jaCA9IG5ld0JyYW5jaDtcbiAgICAgIGlmIChuZXdCcmFuY2guc2hhcGVGbGFnICYgNTEyKSB7XG4gICAgICAgIHN1c3BlbnNlLnBlbmRpbmdJZCA9IG5ld0JyYW5jaC5jb21wb25lbnQuc3VzcGVuc2VJZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN1c3BlbnNlLnBlbmRpbmdJZCA9IHN1c3BlbnNlSWQrKztcbiAgICAgIH1cbiAgICAgIHBhdGNoKFxuICAgICAgICBudWxsLFxuICAgICAgICBuZXdCcmFuY2gsXG4gICAgICAgIHN1c3BlbnNlLmhpZGRlbkNvbnRhaW5lcixcbiAgICAgICAgbnVsbCxcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICBzdXNwZW5zZSxcbiAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgIG9wdGltaXplZFxuICAgICAgKTtcbiAgICAgIGlmIChzdXNwZW5zZS5kZXBzIDw9IDApIHtcbiAgICAgICAgc3VzcGVuc2UucmVzb2x2ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgeyB0aW1lb3V0LCBwZW5kaW5nSWQgfSA9IHN1c3BlbnNlO1xuICAgICAgICBpZiAodGltZW91dCA+IDApIHtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGlmIChzdXNwZW5zZS5wZW5kaW5nSWQgPT09IHBlbmRpbmdJZCkge1xuICAgICAgICAgICAgICBzdXNwZW5zZS5mYWxsYmFjayhuZXdGYWxsYmFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgdGltZW91dCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGltZW91dCA9PT0gMCkge1xuICAgICAgICAgIHN1c3BlbnNlLmZhbGxiYWNrKG5ld0ZhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxubGV0IGhhc1dhcm5lZCA9IGZhbHNlO1xuZnVuY3Rpb24gY3JlYXRlU3VzcGVuc2VCb3VuZGFyeSh2bm9kZSwgcGFyZW50U3VzcGVuc2UsIHBhcmVudENvbXBvbmVudCwgY29udGFpbmVyLCBoaWRkZW5Db250YWluZXIsIGFuY2hvciwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMsIGlzSHlkcmF0aW5nID0gZmFsc2UpIHtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgdHJ1ZSAmJiAhaGFzV2FybmVkKSB7XG4gICAgaGFzV2FybmVkID0gdHJ1ZTtcbiAgICBjb25zb2xlW2NvbnNvbGUuaW5mbyA/IFwiaW5mb1wiIDogXCJsb2dcIl0oXG4gICAgICBgPFN1c3BlbnNlPiBpcyBhbiBleHBlcmltZW50YWwgZmVhdHVyZSBhbmQgaXRzIEFQSSB3aWxsIGxpa2VseSBjaGFuZ2UuYFxuICAgICk7XG4gIH1cbiAgY29uc3Qge1xuICAgIHA6IHBhdGNoLFxuICAgIG06IG1vdmUsXG4gICAgdW06IHVubW91bnQsXG4gICAgbjogbmV4dCxcbiAgICBvOiB7IHBhcmVudE5vZGUsIHJlbW92ZSB9XG4gIH0gPSByZW5kZXJlckludGVybmFscztcbiAgbGV0IHBhcmVudFN1c3BlbnNlSWQ7XG4gIGNvbnN0IGlzU3VzcGVuc2libGUgPSBpc1ZOb2RlU3VzcGVuc2libGUodm5vZGUpO1xuICBpZiAoaXNTdXNwZW5zaWJsZSkge1xuICAgIGlmIChwYXJlbnRTdXNwZW5zZSAmJiBwYXJlbnRTdXNwZW5zZS5wZW5kaW5nQnJhbmNoKSB7XG4gICAgICBwYXJlbnRTdXNwZW5zZUlkID0gcGFyZW50U3VzcGVuc2UucGVuZGluZ0lkO1xuICAgICAgcGFyZW50U3VzcGVuc2UuZGVwcysrO1xuICAgIH1cbiAgfVxuICBjb25zdCB0aW1lb3V0ID0gdm5vZGUucHJvcHMgPyB0b051bWJlcih2bm9kZS5wcm9wcy50aW1lb3V0KSA6IHZvaWQgMDtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBhc3NlcnROdW1iZXIodGltZW91dCwgYFN1c3BlbnNlIHRpbWVvdXRgKTtcbiAgfVxuICBjb25zdCBpbml0aWFsQW5jaG9yID0gYW5jaG9yO1xuICBjb25zdCBzdXNwZW5zZSA9IHtcbiAgICB2bm9kZSxcbiAgICBwYXJlbnQ6IHBhcmVudFN1c3BlbnNlLFxuICAgIHBhcmVudENvbXBvbmVudCxcbiAgICBuYW1lc3BhY2UsXG4gICAgY29udGFpbmVyLFxuICAgIGhpZGRlbkNvbnRhaW5lcixcbiAgICBkZXBzOiAwLFxuICAgIHBlbmRpbmdJZDogc3VzcGVuc2VJZCsrLFxuICAgIHRpbWVvdXQ6IHR5cGVvZiB0aW1lb3V0ID09PSBcIm51bWJlclwiID8gdGltZW91dCA6IC0xLFxuICAgIGFjdGl2ZUJyYW5jaDogbnVsbCxcbiAgICBwZW5kaW5nQnJhbmNoOiBudWxsLFxuICAgIGlzSW5GYWxsYmFjazogIWlzSHlkcmF0aW5nLFxuICAgIGlzSHlkcmF0aW5nLFxuICAgIGlzVW5tb3VudGVkOiBmYWxzZSxcbiAgICBlZmZlY3RzOiBbXSxcbiAgICByZXNvbHZlKHJlc3VtZSA9IGZhbHNlLCBzeW5jID0gZmFsc2UpIHtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgIGlmICghcmVzdW1lICYmICFzdXNwZW5zZS5wZW5kaW5nQnJhbmNoKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgYHN1c3BlbnNlLnJlc29sdmUoKSBpcyBjYWxsZWQgd2l0aG91dCBhIHBlbmRpbmcgYnJhbmNoLmBcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdXNwZW5zZS5pc1VubW91bnRlZCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgIGBzdXNwZW5zZS5yZXNvbHZlKCkgaXMgY2FsbGVkIG9uIGFuIGFscmVhZHkgdW5tb3VudGVkIHN1c3BlbnNlIGJvdW5kYXJ5LmBcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCB7XG4gICAgICAgIHZub2RlOiB2bm9kZTIsXG4gICAgICAgIGFjdGl2ZUJyYW5jaCxcbiAgICAgICAgcGVuZGluZ0JyYW5jaCxcbiAgICAgICAgcGVuZGluZ0lkLFxuICAgICAgICBlZmZlY3RzLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQ6IHBhcmVudENvbXBvbmVudDIsXG4gICAgICAgIGNvbnRhaW5lcjogY29udGFpbmVyMlxuICAgICAgfSA9IHN1c3BlbnNlO1xuICAgICAgbGV0IGRlbGF5RW50ZXIgPSBmYWxzZTtcbiAgICAgIGlmIChzdXNwZW5zZS5pc0h5ZHJhdGluZykge1xuICAgICAgICBzdXNwZW5zZS5pc0h5ZHJhdGluZyA9IGZhbHNlO1xuICAgICAgfSBlbHNlIGlmICghcmVzdW1lKSB7XG4gICAgICAgIGRlbGF5RW50ZXIgPSBhY3RpdmVCcmFuY2ggJiYgcGVuZGluZ0JyYW5jaC50cmFuc2l0aW9uICYmIHBlbmRpbmdCcmFuY2gudHJhbnNpdGlvbi5tb2RlID09PSBcIm91dC1pblwiO1xuICAgICAgICBpZiAoZGVsYXlFbnRlcikge1xuICAgICAgICAgIGFjdGl2ZUJyYW5jaC50cmFuc2l0aW9uLmFmdGVyTGVhdmUgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAocGVuZGluZ0lkID09PSBzdXNwZW5zZS5wZW5kaW5nSWQpIHtcbiAgICAgICAgICAgICAgbW92ZShcbiAgICAgICAgICAgICAgICBwZW5kaW5nQnJhbmNoLFxuICAgICAgICAgICAgICAgIGNvbnRhaW5lcjIsXG4gICAgICAgICAgICAgICAgYW5jaG9yID09PSBpbml0aWFsQW5jaG9yID8gbmV4dChhY3RpdmVCcmFuY2gpIDogYW5jaG9yLFxuICAgICAgICAgICAgICAgIDBcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgcXVldWVQb3N0Rmx1c2hDYihlZmZlY3RzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChhY3RpdmVCcmFuY2gpIHtcbiAgICAgICAgICBpZiAocGFyZW50Tm9kZShhY3RpdmVCcmFuY2guZWwpICE9PSBzdXNwZW5zZS5oaWRkZW5Db250YWluZXIpIHtcbiAgICAgICAgICAgIGFuY2hvciA9IG5leHQoYWN0aXZlQnJhbmNoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdW5tb3VudChhY3RpdmVCcmFuY2gsIHBhcmVudENvbXBvbmVudDIsIHN1c3BlbnNlLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWRlbGF5RW50ZXIpIHtcbiAgICAgICAgICBtb3ZlKHBlbmRpbmdCcmFuY2gsIGNvbnRhaW5lcjIsIGFuY2hvciwgMCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHNldEFjdGl2ZUJyYW5jaChzdXNwZW5zZSwgcGVuZGluZ0JyYW5jaCk7XG4gICAgICBzdXNwZW5zZS5wZW5kaW5nQnJhbmNoID0gbnVsbDtcbiAgICAgIHN1c3BlbnNlLmlzSW5GYWxsYmFjayA9IGZhbHNlO1xuICAgICAgbGV0IHBhcmVudCA9IHN1c3BlbnNlLnBhcmVudDtcbiAgICAgIGxldCBoYXNVbnJlc29sdmVkQW5jZXN0b3IgPSBmYWxzZTtcbiAgICAgIHdoaWxlIChwYXJlbnQpIHtcbiAgICAgICAgaWYgKHBhcmVudC5wZW5kaW5nQnJhbmNoKSB7XG4gICAgICAgICAgcGFyZW50LmVmZmVjdHMucHVzaCguLi5lZmZlY3RzKTtcbiAgICAgICAgICBoYXNVbnJlc29sdmVkQW5jZXN0b3IgPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XG4gICAgICB9XG4gICAgICBpZiAoIWhhc1VucmVzb2x2ZWRBbmNlc3RvciAmJiAhZGVsYXlFbnRlcikge1xuICAgICAgICBxdWV1ZVBvc3RGbHVzaENiKGVmZmVjdHMpO1xuICAgICAgfVxuICAgICAgc3VzcGVuc2UuZWZmZWN0cyA9IFtdO1xuICAgICAgaWYgKGlzU3VzcGVuc2libGUpIHtcbiAgICAgICAgaWYgKHBhcmVudFN1c3BlbnNlICYmIHBhcmVudFN1c3BlbnNlLnBlbmRpbmdCcmFuY2ggJiYgcGFyZW50U3VzcGVuc2VJZCA9PT0gcGFyZW50U3VzcGVuc2UucGVuZGluZ0lkKSB7XG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UuZGVwcy0tO1xuICAgICAgICAgIGlmIChwYXJlbnRTdXNwZW5zZS5kZXBzID09PSAwICYmICFzeW5jKSB7XG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZS5yZXNvbHZlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0cmlnZ2VyRXZlbnQodm5vZGUyLCBcIm9uUmVzb2x2ZVwiKTtcbiAgICB9LFxuICAgIGZhbGxiYWNrKGZhbGxiYWNrVk5vZGUpIHtcbiAgICAgIGlmICghc3VzcGVuc2UucGVuZGluZ0JyYW5jaCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB7IHZub2RlOiB2bm9kZTIsIGFjdGl2ZUJyYW5jaCwgcGFyZW50Q29tcG9uZW50OiBwYXJlbnRDb21wb25lbnQyLCBjb250YWluZXI6IGNvbnRhaW5lcjIsIG5hbWVzcGFjZTogbmFtZXNwYWNlMiB9ID0gc3VzcGVuc2U7XG4gICAgICB0cmlnZ2VyRXZlbnQodm5vZGUyLCBcIm9uRmFsbGJhY2tcIik7XG4gICAgICBjb25zdCBhbmNob3IyID0gbmV4dChhY3RpdmVCcmFuY2gpO1xuICAgICAgY29uc3QgbW91bnRGYWxsYmFjayA9ICgpID0+IHtcbiAgICAgICAgaWYgKCFzdXNwZW5zZS5pc0luRmFsbGJhY2spIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcGF0Y2goXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBmYWxsYmFja1ZOb2RlLFxuICAgICAgICAgIGNvbnRhaW5lcjIsXG4gICAgICAgICAgYW5jaG9yMixcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQyLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgLy8gZmFsbGJhY2sgdHJlZSB3aWxsIG5vdCBoYXZlIHN1c3BlbnNlIGNvbnRleHRcbiAgICAgICAgICBuYW1lc3BhY2UyLFxuICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgKTtcbiAgICAgICAgc2V0QWN0aXZlQnJhbmNoKHN1c3BlbnNlLCBmYWxsYmFja1ZOb2RlKTtcbiAgICAgIH07XG4gICAgICBjb25zdCBkZWxheUVudGVyID0gZmFsbGJhY2tWTm9kZS50cmFuc2l0aW9uICYmIGZhbGxiYWNrVk5vZGUudHJhbnNpdGlvbi5tb2RlID09PSBcIm91dC1pblwiO1xuICAgICAgaWYgKGRlbGF5RW50ZXIpIHtcbiAgICAgICAgYWN0aXZlQnJhbmNoLnRyYW5zaXRpb24uYWZ0ZXJMZWF2ZSA9IG1vdW50RmFsbGJhY2s7XG4gICAgICB9XG4gICAgICBzdXNwZW5zZS5pc0luRmFsbGJhY2sgPSB0cnVlO1xuICAgICAgdW5tb3VudChcbiAgICAgICAgYWN0aXZlQnJhbmNoLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQyLFxuICAgICAgICBudWxsLFxuICAgICAgICAvLyBubyBzdXNwZW5zZSBzbyB1bm1vdW50IGhvb2tzIGZpcmUgbm93XG4gICAgICAgIHRydWVcbiAgICAgICAgLy8gc2hvdWxkUmVtb3ZlXG4gICAgICApO1xuICAgICAgaWYgKCFkZWxheUVudGVyKSB7XG4gICAgICAgIG1vdW50RmFsbGJhY2soKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIG1vdmUoY29udGFpbmVyMiwgYW5jaG9yMiwgdHlwZSkge1xuICAgICAgc3VzcGVuc2UuYWN0aXZlQnJhbmNoICYmIG1vdmUoc3VzcGVuc2UuYWN0aXZlQnJhbmNoLCBjb250YWluZXIyLCBhbmNob3IyLCB0eXBlKTtcbiAgICAgIHN1c3BlbnNlLmNvbnRhaW5lciA9IGNvbnRhaW5lcjI7XG4gICAgfSxcbiAgICBuZXh0KCkge1xuICAgICAgcmV0dXJuIHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCAmJiBuZXh0KHN1c3BlbnNlLmFjdGl2ZUJyYW5jaCk7XG4gICAgfSxcbiAgICByZWdpc3RlckRlcChpbnN0YW5jZSwgc2V0dXBSZW5kZXJFZmZlY3QsIG9wdGltaXplZDIpIHtcbiAgICAgIGNvbnN0IGlzSW5QZW5kaW5nU3VzcGVuc2UgPSAhIXN1c3BlbnNlLnBlbmRpbmdCcmFuY2g7XG4gICAgICBpZiAoaXNJblBlbmRpbmdTdXNwZW5zZSkge1xuICAgICAgICBzdXNwZW5zZS5kZXBzKys7XG4gICAgICB9XG4gICAgICBjb25zdCBoeWRyYXRlZEVsID0gaW5zdGFuY2Uudm5vZGUuZWw7XG4gICAgICBpbnN0YW5jZS5hc3luY0RlcC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGhhbmRsZUVycm9yKGVyciwgaW5zdGFuY2UsIDApO1xuICAgICAgfSkudGhlbigoYXN5bmNTZXR1cFJlc3VsdCkgPT4ge1xuICAgICAgICBpZiAoaW5zdGFuY2UuaXNVbm1vdW50ZWQgfHwgc3VzcGVuc2UuaXNVbm1vdW50ZWQgfHwgc3VzcGVuc2UucGVuZGluZ0lkICE9PSBpbnN0YW5jZS5zdXNwZW5zZUlkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGluc3RhbmNlLmFzeW5jUmVzb2x2ZWQgPSB0cnVlO1xuICAgICAgICBjb25zdCB7IHZub2RlOiB2bm9kZTIgfSA9IGluc3RhbmNlO1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHB1c2hXYXJuaW5nQ29udGV4dCh2bm9kZTIpO1xuICAgICAgICB9XG4gICAgICAgIGhhbmRsZVNldHVwUmVzdWx0KGluc3RhbmNlLCBhc3luY1NldHVwUmVzdWx0LCBmYWxzZSk7XG4gICAgICAgIGlmIChoeWRyYXRlZEVsKSB7XG4gICAgICAgICAgdm5vZGUyLmVsID0gaHlkcmF0ZWRFbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwbGFjZWhvbGRlciA9ICFoeWRyYXRlZEVsICYmIGluc3RhbmNlLnN1YlRyZWUuZWw7XG4gICAgICAgIHNldHVwUmVuZGVyRWZmZWN0KFxuICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgIHZub2RlMixcbiAgICAgICAgICAvLyBjb21wb25lbnQgbWF5IGhhdmUgYmVlbiBtb3ZlZCBiZWZvcmUgcmVzb2x2ZS5cbiAgICAgICAgICAvLyBpZiB0aGlzIGlzIG5vdCBhIGh5ZHJhdGlvbiwgaW5zdGFuY2Uuc3ViVHJlZSB3aWxsIGJlIHRoZSBjb21tZW50XG4gICAgICAgICAgLy8gcGxhY2Vob2xkZXIuXG4gICAgICAgICAgcGFyZW50Tm9kZShoeWRyYXRlZEVsIHx8IGluc3RhbmNlLnN1YlRyZWUuZWwpLFxuICAgICAgICAgIC8vIGFuY2hvciB3aWxsIG5vdCBiZSB1c2VkIGlmIHRoaXMgaXMgaHlkcmF0aW9uLCBzbyBvbmx5IG5lZWQgdG9cbiAgICAgICAgICAvLyBjb25zaWRlciB0aGUgY29tbWVudCBwbGFjZWhvbGRlciBjYXNlLlxuICAgICAgICAgIGh5ZHJhdGVkRWwgPyBudWxsIDogbmV4dChpbnN0YW5jZS5zdWJUcmVlKSxcbiAgICAgICAgICBzdXNwZW5zZSxcbiAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgb3B0aW1pemVkMlxuICAgICAgICApO1xuICAgICAgICBpZiAocGxhY2Vob2xkZXIpIHtcbiAgICAgICAgICByZW1vdmUocGxhY2Vob2xkZXIpO1xuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZUhPQ0hvc3RFbChpbnN0YW5jZSwgdm5vZGUyLmVsKTtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBwb3BXYXJuaW5nQ29udGV4dCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0luUGVuZGluZ1N1c3BlbnNlICYmIC0tc3VzcGVuc2UuZGVwcyA9PT0gMCkge1xuICAgICAgICAgIHN1c3BlbnNlLnJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcbiAgICB1bm1vdW50KHBhcmVudFN1c3BlbnNlMiwgZG9SZW1vdmUpIHtcbiAgICAgIHN1c3BlbnNlLmlzVW5tb3VudGVkID0gdHJ1ZTtcbiAgICAgIGlmIChzdXNwZW5zZS5hY3RpdmVCcmFuY2gpIHtcbiAgICAgICAgdW5tb3VudChcbiAgICAgICAgICBzdXNwZW5zZS5hY3RpdmVCcmFuY2gsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlMixcbiAgICAgICAgICBkb1JlbW92ZVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKHN1c3BlbnNlLnBlbmRpbmdCcmFuY2gpIHtcbiAgICAgICAgdW5tb3VudChcbiAgICAgICAgICBzdXNwZW5zZS5wZW5kaW5nQnJhbmNoLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZTIsXG4gICAgICAgICAgZG9SZW1vdmVcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHJldHVybiBzdXNwZW5zZTtcbn1cbmZ1bmN0aW9uIGh5ZHJhdGVTdXNwZW5zZShub2RlLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgcmVuZGVyZXJJbnRlcm5hbHMsIGh5ZHJhdGVOb2RlKSB7XG4gIGNvbnN0IHN1c3BlbnNlID0gdm5vZGUuc3VzcGVuc2UgPSBjcmVhdGVTdXNwZW5zZUJvdW5kYXJ5KFxuICAgIHZub2RlLFxuICAgIHBhcmVudFN1c3BlbnNlLFxuICAgIHBhcmVudENvbXBvbmVudCxcbiAgICBub2RlLnBhcmVudE5vZGUsXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtZ2xvYmFsc1xuICAgIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksXG4gICAgbnVsbCxcbiAgICBuYW1lc3BhY2UsXG4gICAgc2xvdFNjb3BlSWRzLFxuICAgIG9wdGltaXplZCxcbiAgICByZW5kZXJlckludGVybmFscyxcbiAgICB0cnVlXG4gICk7XG4gIGNvbnN0IHJlc3VsdCA9IGh5ZHJhdGVOb2RlKFxuICAgIG5vZGUsXG4gICAgc3VzcGVuc2UucGVuZGluZ0JyYW5jaCA9IHZub2RlLnNzQ29udGVudCxcbiAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgc3VzcGVuc2UsXG4gICAgc2xvdFNjb3BlSWRzLFxuICAgIG9wdGltaXplZFxuICApO1xuICBpZiAoc3VzcGVuc2UuZGVwcyA9PT0gMCkge1xuICAgIHN1c3BlbnNlLnJlc29sdmUoZmFsc2UsIHRydWUpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBub3JtYWxpemVTdXNwZW5zZUNoaWxkcmVuKHZub2RlKSB7XG4gIGNvbnN0IHsgc2hhcGVGbGFnLCBjaGlsZHJlbiB9ID0gdm5vZGU7XG4gIGNvbnN0IGlzU2xvdENoaWxkcmVuID0gc2hhcGVGbGFnICYgMzI7XG4gIHZub2RlLnNzQ29udGVudCA9IG5vcm1hbGl6ZVN1c3BlbnNlU2xvdChcbiAgICBpc1Nsb3RDaGlsZHJlbiA/IGNoaWxkcmVuLmRlZmF1bHQgOiBjaGlsZHJlblxuICApO1xuICB2bm9kZS5zc0ZhbGxiYWNrID0gaXNTbG90Q2hpbGRyZW4gPyBub3JtYWxpemVTdXNwZW5zZVNsb3QoY2hpbGRyZW4uZmFsbGJhY2spIDogY3JlYXRlVk5vZGUoQ29tbWVudCk7XG59XG5mdW5jdGlvbiBub3JtYWxpemVTdXNwZW5zZVNsb3Qocykge1xuICBsZXQgYmxvY2s7XG4gIGlmIChpc0Z1bmN0aW9uKHMpKSB7XG4gICAgY29uc3QgdHJhY2tCbG9jayA9IGlzQmxvY2tUcmVlRW5hYmxlZCAmJiBzLl9jO1xuICAgIGlmICh0cmFja0Jsb2NrKSB7XG4gICAgICBzLl9kID0gZmFsc2U7XG4gICAgICBvcGVuQmxvY2soKTtcbiAgICB9XG4gICAgcyA9IHMoKTtcbiAgICBpZiAodHJhY2tCbG9jaykge1xuICAgICAgcy5fZCA9IHRydWU7XG4gICAgICBibG9jayA9IGN1cnJlbnRCbG9jaztcbiAgICAgIGNsb3NlQmxvY2soKTtcbiAgICB9XG4gIH1cbiAgaWYgKGlzQXJyYXkocykpIHtcbiAgICBjb25zdCBzaW5nbGVDaGlsZCA9IGZpbHRlclNpbmdsZVJvb3Qocyk7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIXNpbmdsZUNoaWxkICYmIHMuZmlsdGVyKChjaGlsZCkgPT4gY2hpbGQgIT09IE5VTExfRFlOQU1JQ19DT01QT05FTlQpLmxlbmd0aCA+IDApIHtcbiAgICAgIHdhcm4kMShgPFN1c3BlbnNlPiBzbG90cyBleHBlY3QgYSBzaW5nbGUgcm9vdCBub2RlLmApO1xuICAgIH1cbiAgICBzID0gc2luZ2xlQ2hpbGQ7XG4gIH1cbiAgcyA9IG5vcm1hbGl6ZVZOb2RlKHMpO1xuICBpZiAoYmxvY2sgJiYgIXMuZHluYW1pY0NoaWxkcmVuKSB7XG4gICAgcy5keW5hbWljQ2hpbGRyZW4gPSBibG9jay5maWx0ZXIoKGMpID0+IGMgIT09IHMpO1xuICB9XG4gIHJldHVybiBzO1xufVxuZnVuY3Rpb24gcXVldWVFZmZlY3RXaXRoU3VzcGVuc2UoZm4sIHN1c3BlbnNlKSB7XG4gIGlmIChzdXNwZW5zZSAmJiBzdXNwZW5zZS5wZW5kaW5nQnJhbmNoKSB7XG4gICAgaWYgKGlzQXJyYXkoZm4pKSB7XG4gICAgICBzdXNwZW5zZS5lZmZlY3RzLnB1c2goLi4uZm4pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdXNwZW5zZS5lZmZlY3RzLnB1c2goZm4pO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBxdWV1ZVBvc3RGbHVzaENiKGZuKTtcbiAgfVxufVxuZnVuY3Rpb24gc2V0QWN0aXZlQnJhbmNoKHN1c3BlbnNlLCBicmFuY2gpIHtcbiAgc3VzcGVuc2UuYWN0aXZlQnJhbmNoID0gYnJhbmNoO1xuICBjb25zdCB7IHZub2RlLCBwYXJlbnRDb21wb25lbnQgfSA9IHN1c3BlbnNlO1xuICBsZXQgZWwgPSBicmFuY2guZWw7XG4gIHdoaWxlICghZWwgJiYgYnJhbmNoLmNvbXBvbmVudCkge1xuICAgIGJyYW5jaCA9IGJyYW5jaC5jb21wb25lbnQuc3ViVHJlZTtcbiAgICBlbCA9IGJyYW5jaC5lbDtcbiAgfVxuICB2bm9kZS5lbCA9IGVsO1xuICBpZiAocGFyZW50Q29tcG9uZW50ICYmIHBhcmVudENvbXBvbmVudC5zdWJUcmVlID09PSB2bm9kZSkge1xuICAgIHBhcmVudENvbXBvbmVudC52bm9kZS5lbCA9IGVsO1xuICAgIHVwZGF0ZUhPQ0hvc3RFbChwYXJlbnRDb21wb25lbnQsIGVsKTtcbiAgfVxufVxuZnVuY3Rpb24gaXNWTm9kZVN1c3BlbnNpYmxlKHZub2RlKSB7XG4gIGNvbnN0IHN1c3BlbnNpYmxlID0gdm5vZGUucHJvcHMgJiYgdm5vZGUucHJvcHMuc3VzcGVuc2libGU7XG4gIHJldHVybiBzdXNwZW5zaWJsZSAhPSBudWxsICYmIHN1c3BlbnNpYmxlICE9PSBmYWxzZTtcbn1cblxuZnVuY3Rpb24gaW5qZWN0SG9vayh0eXBlLCBob29rLCB0YXJnZXQgPSBjdXJyZW50SW5zdGFuY2UsIHByZXBlbmQgPSBmYWxzZSkge1xuICBpZiAodGFyZ2V0KSB7XG4gICAgY29uc3QgaG9va3MgPSB0YXJnZXRbdHlwZV0gfHwgKHRhcmdldFt0eXBlXSA9IFtdKTtcbiAgICBjb25zdCB3cmFwcGVkSG9vayA9IGhvb2suX193ZWggfHwgKGhvb2suX193ZWggPSAoLi4uYXJncykgPT4ge1xuICAgICAgcGF1c2VUcmFja2luZygpO1xuICAgICAgY29uc3QgcmVzZXQgPSBzZXRDdXJyZW50SW5zdGFuY2UodGFyZ2V0KTtcbiAgICAgIGNvbnN0IHJlcyA9IGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nKGhvb2ssIHRhcmdldCwgdHlwZSwgYXJncyk7XG4gICAgICByZXNldCgpO1xuICAgICAgcmVzZXRUcmFja2luZygpO1xuICAgICAgcmV0dXJuIHJlcztcbiAgICB9KTtcbiAgICBpZiAocHJlcGVuZCkge1xuICAgICAgaG9va3MudW5zaGlmdCh3cmFwcGVkSG9vayk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhvb2tzLnB1c2god3JhcHBlZEhvb2spO1xuICAgIH1cbiAgICByZXR1cm4gd3JhcHBlZEhvb2s7XG4gIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGNvbnN0IGFwaU5hbWUgPSB0b0hhbmRsZXJLZXkoRXJyb3JUeXBlU3RyaW5ncyQxW3R5cGVdLnJlcGxhY2UoLyBob29rJC8sIFwiXCIpKTtcbiAgICB3YXJuJDEoXG4gICAgICBgJHthcGlOYW1lfSBpcyBjYWxsZWQgd2hlbiB0aGVyZSBpcyBubyBhY3RpdmUgY29tcG9uZW50IGluc3RhbmNlIHRvIGJlIGFzc29jaWF0ZWQgd2l0aC4gTGlmZWN5Y2xlIGluamVjdGlvbiBBUElzIGNhbiBvbmx5IGJlIHVzZWQgZHVyaW5nIGV4ZWN1dGlvbiBvZiBzZXR1cCgpLmAgKyAoYCBJZiB5b3UgYXJlIHVzaW5nIGFzeW5jIHNldHVwKCksIG1ha2Ugc3VyZSB0byByZWdpc3RlciBsaWZlY3ljbGUgaG9va3MgYmVmb3JlIHRoZSBmaXJzdCBhd2FpdCBzdGF0ZW1lbnQuYCApXG4gICAgKTtcbiAgfVxufVxuY29uc3QgY3JlYXRlSG9vayA9IChsaWZlY3ljbGUpID0+IChob29rLCB0YXJnZXQgPSBjdXJyZW50SW5zdGFuY2UpID0+IHtcbiAgaWYgKCFpc0luU1NSQ29tcG9uZW50U2V0dXAgfHwgbGlmZWN5Y2xlID09PSBcInNwXCIpIHtcbiAgICBpbmplY3RIb29rKGxpZmVjeWNsZSwgKC4uLmFyZ3MpID0+IGhvb2soLi4uYXJncyksIHRhcmdldCk7XG4gIH1cbn07XG5jb25zdCBvbkJlZm9yZU1vdW50ID0gY3JlYXRlSG9vayhcImJtXCIpO1xuY29uc3Qgb25Nb3VudGVkID0gY3JlYXRlSG9vayhcIm1cIik7XG5jb25zdCBvbkJlZm9yZVVwZGF0ZSA9IGNyZWF0ZUhvb2soXCJidVwiKTtcbmNvbnN0IG9uVXBkYXRlZCA9IGNyZWF0ZUhvb2soXCJ1XCIpO1xuY29uc3Qgb25CZWZvcmVVbm1vdW50ID0gY3JlYXRlSG9vayhcImJ1bVwiKTtcbmNvbnN0IG9uVW5tb3VudGVkID0gY3JlYXRlSG9vayhcInVtXCIpO1xuY29uc3Qgb25TZXJ2ZXJQcmVmZXRjaCA9IGNyZWF0ZUhvb2soXCJzcFwiKTtcbmNvbnN0IG9uUmVuZGVyVHJpZ2dlcmVkID0gY3JlYXRlSG9vayhcbiAgXCJydGdcIlxuKTtcbmNvbnN0IG9uUmVuZGVyVHJhY2tlZCA9IGNyZWF0ZUhvb2soXG4gIFwicnRjXCJcbik7XG5mdW5jdGlvbiBvbkVycm9yQ2FwdHVyZWQoaG9vaywgdGFyZ2V0ID0gY3VycmVudEluc3RhbmNlKSB7XG4gIGluamVjdEhvb2soXCJlY1wiLCBob29rLCB0YXJnZXQpO1xufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZURpcmVjdGl2ZU5hbWUobmFtZSkge1xuICBpZiAoaXNCdWlsdEluRGlyZWN0aXZlKG5hbWUpKSB7XG4gICAgd2FybiQxKFwiRG8gbm90IHVzZSBidWlsdC1pbiBkaXJlY3RpdmUgaWRzIGFzIGN1c3RvbSBkaXJlY3RpdmUgaWQ6IFwiICsgbmFtZSk7XG4gIH1cbn1cbmZ1bmN0aW9uIHdpdGhEaXJlY3RpdmVzKHZub2RlLCBkaXJlY3RpdmVzKSB7XG4gIGlmIChjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm4kMShgd2l0aERpcmVjdGl2ZXMgY2FuIG9ubHkgYmUgdXNlZCBpbnNpZGUgcmVuZGVyIGZ1bmN0aW9ucy5gKTtcbiAgICByZXR1cm4gdm5vZGU7XG4gIH1cbiAgY29uc3QgaW5zdGFuY2UgPSBnZXRDb21wb25lbnRQdWJsaWNJbnN0YW5jZShjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UpO1xuICBjb25zdCBiaW5kaW5ncyA9IHZub2RlLmRpcnMgfHwgKHZub2RlLmRpcnMgPSBbXSk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZGlyZWN0aXZlcy5sZW5ndGg7IGkrKykge1xuICAgIGxldCBbZGlyLCB2YWx1ZSwgYXJnLCBtb2RpZmllcnMgPSBFTVBUWV9PQkpdID0gZGlyZWN0aXZlc1tpXTtcbiAgICBpZiAoZGlyKSB7XG4gICAgICBpZiAoaXNGdW5jdGlvbihkaXIpKSB7XG4gICAgICAgIGRpciA9IHtcbiAgICAgICAgICBtb3VudGVkOiBkaXIsXG4gICAgICAgICAgdXBkYXRlZDogZGlyXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBpZiAoZGlyLmRlZXApIHtcbiAgICAgICAgdHJhdmVyc2UodmFsdWUpO1xuICAgICAgfVxuICAgICAgYmluZGluZ3MucHVzaCh7XG4gICAgICAgIGRpcixcbiAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgIHZhbHVlLFxuICAgICAgICBvbGRWYWx1ZTogdm9pZCAwLFxuICAgICAgICBhcmcsXG4gICAgICAgIG1vZGlmaWVyc1xuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIHJldHVybiB2bm9kZTtcbn1cbmZ1bmN0aW9uIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIHByZXZWTm9kZSwgaW5zdGFuY2UsIG5hbWUpIHtcbiAgY29uc3QgYmluZGluZ3MgPSB2bm9kZS5kaXJzO1xuICBjb25zdCBvbGRCaW5kaW5ncyA9IHByZXZWTm9kZSAmJiBwcmV2Vk5vZGUuZGlycztcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBiaW5kaW5ncy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGJpbmRpbmcgPSBiaW5kaW5nc1tpXTtcbiAgICBpZiAob2xkQmluZGluZ3MpIHtcbiAgICAgIGJpbmRpbmcub2xkVmFsdWUgPSBvbGRCaW5kaW5nc1tpXS52YWx1ZTtcbiAgICB9XG4gICAgbGV0IGhvb2sgPSBiaW5kaW5nLmRpcltuYW1lXTtcbiAgICBpZiAoaG9vaykge1xuICAgICAgcGF1c2VUcmFja2luZygpO1xuICAgICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoaG9vaywgaW5zdGFuY2UsIDgsIFtcbiAgICAgICAgdm5vZGUuZWwsXG4gICAgICAgIGJpbmRpbmcsXG4gICAgICAgIHZub2RlLFxuICAgICAgICBwcmV2Vk5vZGVcbiAgICAgIF0pO1xuICAgICAgcmVzZXRUcmFja2luZygpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiByZW5kZXJMaXN0KHNvdXJjZSwgcmVuZGVySXRlbSwgY2FjaGUsIGluZGV4KSB7XG4gIGxldCByZXQ7XG4gIGNvbnN0IGNhY2hlZCA9IGNhY2hlICYmIGNhY2hlW2luZGV4XTtcbiAgaWYgKGlzQXJyYXkoc291cmNlKSB8fCBpc1N0cmluZyhzb3VyY2UpKSB7XG4gICAgcmV0ID0gbmV3IEFycmF5KHNvdXJjZS5sZW5ndGgpO1xuICAgIGZvciAobGV0IGkgPSAwLCBsID0gc291cmNlLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgcmV0W2ldID0gcmVuZGVySXRlbShzb3VyY2VbaV0sIGksIHZvaWQgMCwgY2FjaGVkICYmIGNhY2hlZFtpXSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGVvZiBzb3VyY2UgPT09IFwibnVtYmVyXCIpIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhTnVtYmVyLmlzSW50ZWdlcihzb3VyY2UpKSB7XG4gICAgICB3YXJuJDEoYFRoZSB2LWZvciByYW5nZSBleHBlY3QgYW4gaW50ZWdlciB2YWx1ZSBidXQgZ290ICR7c291cmNlfS5gKTtcbiAgICB9XG4gICAgcmV0ID0gbmV3IEFycmF5KHNvdXJjZSk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzb3VyY2U7IGkrKykge1xuICAgICAgcmV0W2ldID0gcmVuZGVySXRlbShpICsgMSwgaSwgdm9pZCAwLCBjYWNoZWQgJiYgY2FjaGVkW2ldKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoaXNPYmplY3Qoc291cmNlKSkge1xuICAgIGlmIChzb3VyY2VbU3ltYm9sLml0ZXJhdG9yXSkge1xuICAgICAgcmV0ID0gQXJyYXkuZnJvbShcbiAgICAgICAgc291cmNlLFxuICAgICAgICAoaXRlbSwgaSkgPT4gcmVuZGVySXRlbShpdGVtLCBpLCB2b2lkIDAsIGNhY2hlZCAmJiBjYWNoZWRbaV0pXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcbiAgICAgIHJldCA9IG5ldyBBcnJheShrZXlzLmxlbmd0aCk7XG4gICAgICBmb3IgKGxldCBpID0gMCwgbCA9IGtleXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IGtleXNbaV07XG4gICAgICAgIHJldFtpXSA9IHJlbmRlckl0ZW0oc291cmNlW2tleV0sIGtleSwgaSwgY2FjaGVkICYmIGNhY2hlZFtpXSk7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJldCA9IFtdO1xuICB9XG4gIGlmIChjYWNoZSkge1xuICAgIGNhY2hlW2luZGV4XSA9IHJldDtcbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVTbG90cyhzbG90cywgZHluYW1pY1Nsb3RzKSB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZHluYW1pY1Nsb3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3Qgc2xvdCA9IGR5bmFtaWNTbG90c1tpXTtcbiAgICBpZiAoaXNBcnJheShzbG90KSkge1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBzbG90Lmxlbmd0aDsgaisrKSB7XG4gICAgICAgIHNsb3RzW3Nsb3Rbal0ubmFtZV0gPSBzbG90W2pdLmZuO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc2xvdCkge1xuICAgICAgc2xvdHNbc2xvdC5uYW1lXSA9IHNsb3Qua2V5ID8gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgY29uc3QgcmVzID0gc2xvdC5mbiguLi5hcmdzKTtcbiAgICAgICAgaWYgKHJlcykgcmVzLmtleSA9IHNsb3Qua2V5O1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgfSA6IHNsb3QuZm47XG4gICAgfVxuICB9XG4gIHJldHVybiBzbG90cztcbn1cblxuLyohICNfX05PX1NJREVfRUZGRUNUU19fICovXG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZnVuY3Rpb24gZGVmaW5lQ29tcG9uZW50KG9wdGlvbnMsIGV4dHJhT3B0aW9ucykge1xuICByZXR1cm4gaXNGdW5jdGlvbihvcHRpb25zKSA/IChcbiAgICAvLyAjODMyNjogZXh0ZW5kIGNhbGwgYW5kIG9wdGlvbnMubmFtZSBhY2Nlc3MgYXJlIGNvbnNpZGVyZWQgc2lkZS1lZmZlY3RzXG4gICAgLy8gYnkgUm9sbHVwLCBzbyB3ZSBoYXZlIHRvIHdyYXAgaXQgaW4gYSBwdXJlLWFubm90YXRlZCBJSUZFLlxuICAgIC8qIEBfX1BVUkVfXyAqLyAoKCkgPT4gZXh0ZW5kKHsgbmFtZTogb3B0aW9ucy5uYW1lIH0sIGV4dHJhT3B0aW9ucywgeyBzZXR1cDogb3B0aW9ucyB9KSkoKVxuICApIDogb3B0aW9ucztcbn1cblxuY29uc3QgaXNBc3luY1dyYXBwZXIgPSAoaSkgPT4gISFpLnR5cGUuX19hc3luY0xvYWRlcjtcbi8qISAjX19OT19TSURFX0VGRkVDVFNfXyAqL1xuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmZ1bmN0aW9uIGRlZmluZUFzeW5jQ29tcG9uZW50KHNvdXJjZSkge1xuICBpZiAoaXNGdW5jdGlvbihzb3VyY2UpKSB7XG4gICAgc291cmNlID0geyBsb2FkZXI6IHNvdXJjZSB9O1xuICB9XG4gIGNvbnN0IHtcbiAgICBsb2FkZXIsXG4gICAgbG9hZGluZ0NvbXBvbmVudCxcbiAgICBlcnJvckNvbXBvbmVudCxcbiAgICBkZWxheSA9IDIwMCxcbiAgICB0aW1lb3V0LFxuICAgIC8vIHVuZGVmaW5lZCA9IG5ldmVyIHRpbWVzIG91dFxuICAgIHN1c3BlbnNpYmxlID0gdHJ1ZSxcbiAgICBvbkVycm9yOiB1c2VyT25FcnJvclxuICB9ID0gc291cmNlO1xuICBsZXQgcGVuZGluZ1JlcXVlc3QgPSBudWxsO1xuICBsZXQgcmVzb2x2ZWRDb21wO1xuICBsZXQgcmV0cmllcyA9IDA7XG4gIGNvbnN0IHJldHJ5ID0gKCkgPT4ge1xuICAgIHJldHJpZXMrKztcbiAgICBwZW5kaW5nUmVxdWVzdCA9IG51bGw7XG4gICAgcmV0dXJuIGxvYWQoKTtcbiAgfTtcbiAgY29uc3QgbG9hZCA9ICgpID0+IHtcbiAgICBsZXQgdGhpc1JlcXVlc3Q7XG4gICAgcmV0dXJuIHBlbmRpbmdSZXF1ZXN0IHx8ICh0aGlzUmVxdWVzdCA9IHBlbmRpbmdSZXF1ZXN0ID0gbG9hZGVyKCkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgZXJyID0gZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIgOiBuZXcgRXJyb3IoU3RyaW5nKGVycikpO1xuICAgICAgaWYgKHVzZXJPbkVycm9yKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgY29uc3QgdXNlclJldHJ5ID0gKCkgPT4gcmVzb2x2ZShyZXRyeSgpKTtcbiAgICAgICAgICBjb25zdCB1c2VyRmFpbCA9ICgpID0+IHJlamVjdChlcnIpO1xuICAgICAgICAgIHVzZXJPbkVycm9yKGVyciwgdXNlclJldHJ5LCB1c2VyRmFpbCwgcmV0cmllcyArIDEpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH1cbiAgICB9KS50aGVuKChjb21wKSA9PiB7XG4gICAgICBpZiAodGhpc1JlcXVlc3QgIT09IHBlbmRpbmdSZXF1ZXN0ICYmIHBlbmRpbmdSZXF1ZXN0KSB7XG4gICAgICAgIHJldHVybiBwZW5kaW5nUmVxdWVzdDtcbiAgICAgIH1cbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFjb21wKSB7XG4gICAgICAgIHdhcm4kMShcbiAgICAgICAgICBgQXN5bmMgY29tcG9uZW50IGxvYWRlciByZXNvbHZlZCB0byB1bmRlZmluZWQuIElmIHlvdSBhcmUgdXNpbmcgcmV0cnkoKSwgbWFrZSBzdXJlIHRvIHJldHVybiBpdHMgcmV0dXJuIHZhbHVlLmBcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmIChjb21wICYmIChjb21wLl9fZXNNb2R1bGUgfHwgY29tcFtTeW1ib2wudG9TdHJpbmdUYWddID09PSBcIk1vZHVsZVwiKSkge1xuICAgICAgICBjb21wID0gY29tcC5kZWZhdWx0O1xuICAgICAgfVxuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgY29tcCAmJiAhaXNPYmplY3QoY29tcCkgJiYgIWlzRnVuY3Rpb24oY29tcCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGFzeW5jIGNvbXBvbmVudCBsb2FkIHJlc3VsdDogJHtjb21wfWApO1xuICAgICAgfVxuICAgICAgcmVzb2x2ZWRDb21wID0gY29tcDtcbiAgICAgIHJldHVybiBjb21wO1xuICAgIH0pKTtcbiAgfTtcbiAgcmV0dXJuIGRlZmluZUNvbXBvbmVudCh7XG4gICAgbmFtZTogXCJBc3luY0NvbXBvbmVudFdyYXBwZXJcIixcbiAgICBfX2FzeW5jTG9hZGVyOiBsb2FkLFxuICAgIGdldCBfX2FzeW5jUmVzb2x2ZWQoKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZWRDb21wO1xuICAgIH0sXG4gICAgc2V0dXAoKSB7XG4gICAgICBjb25zdCBpbnN0YW5jZSA9IGN1cnJlbnRJbnN0YW5jZTtcbiAgICAgIGlmIChyZXNvbHZlZENvbXApIHtcbiAgICAgICAgcmV0dXJuICgpID0+IGNyZWF0ZUlubmVyQ29tcChyZXNvbHZlZENvbXAsIGluc3RhbmNlKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG9uRXJyb3IgPSAoZXJyKSA9PiB7XG4gICAgICAgIHBlbmRpbmdSZXF1ZXN0ID0gbnVsbDtcbiAgICAgICAgaGFuZGxlRXJyb3IoXG4gICAgICAgICAgZXJyLFxuICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgIDEzLFxuICAgICAgICAgICFlcnJvckNvbXBvbmVudFxuICAgICAgICApO1xuICAgICAgfTtcbiAgICAgIGlmIChzdXNwZW5zaWJsZSAmJiBpbnN0YW5jZS5zdXNwZW5zZSB8fCBpc0luU1NSQ29tcG9uZW50U2V0dXApIHtcbiAgICAgICAgcmV0dXJuIGxvYWQoKS50aGVuKChjb21wKSA9PiB7XG4gICAgICAgICAgcmV0dXJuICgpID0+IGNyZWF0ZUlubmVyQ29tcChjb21wLCBpbnN0YW5jZSk7XG4gICAgICAgIH0pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICBvbkVycm9yKGVycik7XG4gICAgICAgICAgcmV0dXJuICgpID0+IGVycm9yQ29tcG9uZW50ID8gY3JlYXRlVk5vZGUoZXJyb3JDb21wb25lbnQsIHtcbiAgICAgICAgICAgIGVycm9yOiBlcnJcbiAgICAgICAgICB9KSA6IG51bGw7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgY29uc3QgbG9hZGVkID0gcmVmKGZhbHNlKTtcbiAgICAgIGNvbnN0IGVycm9yID0gcmVmKCk7XG4gICAgICBjb25zdCBkZWxheWVkID0gcmVmKCEhZGVsYXkpO1xuICAgICAgaWYgKGRlbGF5KSB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGRlbGF5ZWQudmFsdWUgPSBmYWxzZTtcbiAgICAgICAgfSwgZGVsYXkpO1xuICAgICAgfVxuICAgICAgaWYgKHRpbWVvdXQgIT0gbnVsbCkge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBpZiAoIWxvYWRlZC52YWx1ZSAmJiAhZXJyb3IudmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGVyciA9IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgYEFzeW5jIGNvbXBvbmVudCB0aW1lZCBvdXQgYWZ0ZXIgJHt0aW1lb3V0fW1zLmBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBvbkVycm9yKGVycik7XG4gICAgICAgICAgICBlcnJvci52YWx1ZSA9IGVycjtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIHRpbWVvdXQpO1xuICAgICAgfVxuICAgICAgbG9hZCgpLnRoZW4oKCkgPT4ge1xuICAgICAgICBsb2FkZWQudmFsdWUgPSB0cnVlO1xuICAgICAgICBpZiAoaW5zdGFuY2UucGFyZW50ICYmIGlzS2VlcEFsaXZlKGluc3RhbmNlLnBhcmVudC52bm9kZSkpIHtcbiAgICAgICAgICBpbnN0YW5jZS5wYXJlbnQuZWZmZWN0LmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICBxdWV1ZUpvYihpbnN0YW5jZS5wYXJlbnQudXBkYXRlKTtcbiAgICAgICAgfVxuICAgICAgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBvbkVycm9yKGVycik7XG4gICAgICAgIGVycm9yLnZhbHVlID0gZXJyO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBpZiAobG9hZGVkLnZhbHVlICYmIHJlc29sdmVkQ29tcCkge1xuICAgICAgICAgIHJldHVybiBjcmVhdGVJbm5lckNvbXAocmVzb2x2ZWRDb21wLCBpbnN0YW5jZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoZXJyb3IudmFsdWUgJiYgZXJyb3JDb21wb25lbnQpIHtcbiAgICAgICAgICByZXR1cm4gY3JlYXRlVk5vZGUoZXJyb3JDb21wb25lbnQsIHtcbiAgICAgICAgICAgIGVycm9yOiBlcnJvci52YWx1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKGxvYWRpbmdDb21wb25lbnQgJiYgIWRlbGF5ZWQudmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gY3JlYXRlVk5vZGUobG9hZGluZ0NvbXBvbmVudCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9KTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUlubmVyQ29tcChjb21wLCBwYXJlbnQpIHtcbiAgY29uc3QgeyByZWY6IHJlZjIsIHByb3BzLCBjaGlsZHJlbiwgY2UgfSA9IHBhcmVudC52bm9kZTtcbiAgY29uc3Qgdm5vZGUgPSBjcmVhdGVWTm9kZShjb21wLCBwcm9wcywgY2hpbGRyZW4pO1xuICB2bm9kZS5yZWYgPSByZWYyO1xuICB2bm9kZS5jZSA9IGNlO1xuICBkZWxldGUgcGFyZW50LnZub2RlLmNlO1xuICByZXR1cm4gdm5vZGU7XG59XG5cbmZ1bmN0aW9uIHJlbmRlclNsb3Qoc2xvdHMsIG5hbWUsIHByb3BzID0ge30sIGZhbGxiYWNrLCBub1Nsb3R0ZWQpIHtcbiAgaWYgKGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZS5pc0NFIHx8IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZS5wYXJlbnQgJiYgaXNBc3luY1dyYXBwZXIoY3VycmVudFJlbmRlcmluZ0luc3RhbmNlLnBhcmVudCkgJiYgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlLnBhcmVudC5pc0NFKSB7XG4gICAgaWYgKG5hbWUgIT09IFwiZGVmYXVsdFwiKSBwcm9wcy5uYW1lID0gbmFtZTtcbiAgICByZXR1cm4gY3JlYXRlVk5vZGUoXCJzbG90XCIsIHByb3BzLCBmYWxsYmFjayAmJiBmYWxsYmFjaygpKTtcbiAgfVxuICBsZXQgc2xvdCA9IHNsb3RzW25hbWVdO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBzbG90ICYmIHNsb3QubGVuZ3RoID4gMSkge1xuICAgIHdhcm4kMShcbiAgICAgIGBTU1Itb3B0aW1pemVkIHNsb3QgZnVuY3Rpb24gZGV0ZWN0ZWQgaW4gYSBub24tU1NSLW9wdGltaXplZCByZW5kZXIgZnVuY3Rpb24uIFlvdSBuZWVkIHRvIG1hcmsgdGhpcyBjb21wb25lbnQgd2l0aCAkZHluYW1pYy1zbG90cyBpbiB0aGUgcGFyZW50IHRlbXBsYXRlLmBcbiAgICApO1xuICAgIHNsb3QgPSAoKSA9PiBbXTtcbiAgfVxuICBpZiAoc2xvdCAmJiBzbG90Ll9jKSB7XG4gICAgc2xvdC5fZCA9IGZhbHNlO1xuICB9XG4gIG9wZW5CbG9jaygpO1xuICBjb25zdCB2YWxpZFNsb3RDb250ZW50ID0gc2xvdCAmJiBlbnN1cmVWYWxpZFZOb2RlKHNsb3QocHJvcHMpKTtcbiAgY29uc3QgcmVuZGVyZWQgPSBjcmVhdGVCbG9jayhcbiAgICBGcmFnbWVudCxcbiAgICB7XG4gICAgICBrZXk6IHByb3BzLmtleSB8fCAvLyBzbG90IGNvbnRlbnQgYXJyYXkgb2YgYSBkeW5hbWljIGNvbmRpdGlvbmFsIHNsb3QgbWF5IGhhdmUgYSBicmFuY2hcbiAgICAgIC8vIGtleSBhdHRhY2hlZCBpbiB0aGUgYGNyZWF0ZVNsb3RzYCBoZWxwZXIsIHJlc3BlY3QgdGhhdFxuICAgICAgdmFsaWRTbG90Q29udGVudCAmJiB2YWxpZFNsb3RDb250ZW50LmtleSB8fCBgXyR7bmFtZX1gXG4gICAgfSxcbiAgICB2YWxpZFNsb3RDb250ZW50IHx8IChmYWxsYmFjayA/IGZhbGxiYWNrKCkgOiBbXSksXG4gICAgdmFsaWRTbG90Q29udGVudCAmJiBzbG90cy5fID09PSAxID8gNjQgOiAtMlxuICApO1xuICBpZiAoIW5vU2xvdHRlZCAmJiByZW5kZXJlZC5zY29wZUlkKSB7XG4gICAgcmVuZGVyZWQuc2xvdFNjb3BlSWRzID0gW3JlbmRlcmVkLnNjb3BlSWQgKyBcIi1zXCJdO1xuICB9XG4gIGlmIChzbG90ICYmIHNsb3QuX2MpIHtcbiAgICBzbG90Ll9kID0gdHJ1ZTtcbiAgfVxuICByZXR1cm4gcmVuZGVyZWQ7XG59XG5mdW5jdGlvbiBlbnN1cmVWYWxpZFZOb2RlKHZub2Rlcykge1xuICByZXR1cm4gdm5vZGVzLnNvbWUoKGNoaWxkKSA9PiB7XG4gICAgaWYgKCFpc1ZOb2RlKGNoaWxkKSkgcmV0dXJuIHRydWU7XG4gICAgaWYgKGNoaWxkLnR5cGUgPT09IENvbW1lbnQpIHJldHVybiBmYWxzZTtcbiAgICBpZiAoY2hpbGQudHlwZSA9PT0gRnJhZ21lbnQgJiYgIWVuc3VyZVZhbGlkVk5vZGUoY2hpbGQuY2hpbGRyZW4pKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0cnVlO1xuICB9KSA/IHZub2RlcyA6IG51bGw7XG59XG5cbmZ1bmN0aW9uIHRvSGFuZGxlcnMob2JqLCBwcmVzZXJ2ZUNhc2VJZk5lY2Vzc2FyeSkge1xuICBjb25zdCByZXQgPSB7fTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWlzT2JqZWN0KG9iaikpIHtcbiAgICB3YXJuJDEoYHYtb24gd2l0aCBubyBhcmd1bWVudCBleHBlY3RzIGFuIG9iamVjdCB2YWx1ZS5gKTtcbiAgICByZXR1cm4gcmV0O1xuICB9XG4gIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xuICAgIHJldFtwcmVzZXJ2ZUNhc2VJZk5lY2Vzc2FyeSAmJiAvW0EtWl0vLnRlc3Qoa2V5KSA/IGBvbjoke2tleX1gIDogdG9IYW5kbGVyS2V5KGtleSldID0gb2JqW2tleV07XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxuY29uc3QgZ2V0UHVibGljSW5zdGFuY2UgPSAoaSkgPT4ge1xuICBpZiAoIWkpIHJldHVybiBudWxsO1xuICBpZiAoaXNTdGF0ZWZ1bENvbXBvbmVudChpKSkgcmV0dXJuIGdldENvbXBvbmVudFB1YmxpY0luc3RhbmNlKGkpO1xuICByZXR1cm4gZ2V0UHVibGljSW5zdGFuY2UoaS5wYXJlbnQpO1xufTtcbmNvbnN0IHB1YmxpY1Byb3BlcnRpZXNNYXAgPSAoXG4gIC8vIE1vdmUgUFVSRSBtYXJrZXIgdG8gbmV3IGxpbmUgdG8gd29ya2Fyb3VuZCBjb21waWxlciBkaXNjYXJkaW5nIGl0XG4gIC8vIGR1ZSB0byB0eXBlIGFubm90YXRpb25cbiAgLyogQF9fUFVSRV9fICovIGV4dGVuZCgvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKSwge1xuICAgICQ6IChpKSA9PiBpLFxuICAgICRlbDogKGkpID0+IGkudm5vZGUuZWwsXG4gICAgJGRhdGE6IChpKSA9PiBpLmRhdGEsXG4gICAgJHByb3BzOiAoaSkgPT4gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHNoYWxsb3dSZWFkb25seShpLnByb3BzKSA6IGkucHJvcHMsXG4gICAgJGF0dHJzOiAoaSkgPT4gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHNoYWxsb3dSZWFkb25seShpLmF0dHJzKSA6IGkuYXR0cnMsXG4gICAgJHNsb3RzOiAoaSkgPT4gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHNoYWxsb3dSZWFkb25seShpLnNsb3RzKSA6IGkuc2xvdHMsXG4gICAgJHJlZnM6IChpKSA9PiAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gc2hhbGxvd1JlYWRvbmx5KGkucmVmcykgOiBpLnJlZnMsXG4gICAgJHBhcmVudDogKGkpID0+IGdldFB1YmxpY0luc3RhbmNlKGkucGFyZW50KSxcbiAgICAkcm9vdDogKGkpID0+IGdldFB1YmxpY0luc3RhbmNlKGkucm9vdCksXG4gICAgJGVtaXQ6IChpKSA9PiBpLmVtaXQsXG4gICAgJG9wdGlvbnM6IChpKSA9PiBfX1ZVRV9PUFRJT05TX0FQSV9fID8gcmVzb2x2ZU1lcmdlZE9wdGlvbnMoaSkgOiBpLnR5cGUsXG4gICAgJGZvcmNlVXBkYXRlOiAoaSkgPT4gaS5mIHx8IChpLmYgPSAoKSA9PiB7XG4gICAgICBpLmVmZmVjdC5kaXJ0eSA9IHRydWU7XG4gICAgICBxdWV1ZUpvYihpLnVwZGF0ZSk7XG4gICAgfSksXG4gICAgJG5leHRUaWNrOiAoaSkgPT4gaS5uIHx8IChpLm4gPSBuZXh0VGljay5iaW5kKGkucHJveHkpKSxcbiAgICAkd2F0Y2g6IChpKSA9PiBfX1ZVRV9PUFRJT05TX0FQSV9fID8gaW5zdGFuY2VXYXRjaC5iaW5kKGkpIDogTk9PUFxuICB9KVxuKTtcbmNvbnN0IGlzUmVzZXJ2ZWRQcmVmaXggPSAoa2V5KSA9PiBrZXkgPT09IFwiX1wiIHx8IGtleSA9PT0gXCIkXCI7XG5jb25zdCBoYXNTZXR1cEJpbmRpbmcgPSAoc3RhdGUsIGtleSkgPT4gc3RhdGUgIT09IEVNUFRZX09CSiAmJiAhc3RhdGUuX19pc1NjcmlwdFNldHVwICYmIGhhc093bihzdGF0ZSwga2V5KTtcbmNvbnN0IFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycyA9IHtcbiAgZ2V0KHsgXzogaW5zdGFuY2UgfSwga2V5KSB7XG4gICAgaWYgKGtleSA9PT0gXCJfX3Zfc2tpcFwiKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY29uc3QgeyBjdHgsIHNldHVwU3RhdGUsIGRhdGEsIHByb3BzLCBhY2Nlc3NDYWNoZSwgdHlwZSwgYXBwQ29udGV4dCB9ID0gaW5zdGFuY2U7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYga2V5ID09PSBcIl9faXNWdWVcIikge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGxldCBub3JtYWxpemVkUHJvcHM7XG4gICAgaWYgKGtleVswXSAhPT0gXCIkXCIpIHtcbiAgICAgIGNvbnN0IG4gPSBhY2Nlc3NDYWNoZVtrZXldO1xuICAgICAgaWYgKG4gIT09IHZvaWQgMCkge1xuICAgICAgICBzd2l0Y2ggKG4pIHtcbiAgICAgICAgICBjYXNlIDEgLyogU0VUVVAgKi86XG4gICAgICAgICAgICByZXR1cm4gc2V0dXBTdGF0ZVtrZXldO1xuICAgICAgICAgIGNhc2UgMiAvKiBEQVRBICovOlxuICAgICAgICAgICAgcmV0dXJuIGRhdGFba2V5XTtcbiAgICAgICAgICBjYXNlIDQgLyogQ09OVEVYVCAqLzpcbiAgICAgICAgICAgIHJldHVybiBjdHhba2V5XTtcbiAgICAgICAgICBjYXNlIDMgLyogUFJPUFMgKi86XG4gICAgICAgICAgICByZXR1cm4gcHJvcHNba2V5XTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChoYXNTZXR1cEJpbmRpbmcoc2V0dXBTdGF0ZSwga2V5KSkge1xuICAgICAgICBhY2Nlc3NDYWNoZVtrZXldID0gMSAvKiBTRVRVUCAqLztcbiAgICAgICAgcmV0dXJuIHNldHVwU3RhdGVba2V5XTtcbiAgICAgIH0gZWxzZSBpZiAoZGF0YSAhPT0gRU1QVFlfT0JKICYmIGhhc093bihkYXRhLCBrZXkpKSB7XG4gICAgICAgIGFjY2Vzc0NhY2hlW2tleV0gPSAyIC8qIERBVEEgKi87XG4gICAgICAgIHJldHVybiBkYXRhW2tleV07XG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAvLyBvbmx5IGNhY2hlIG90aGVyIHByb3BlcnRpZXMgd2hlbiBpbnN0YW5jZSBoYXMgZGVjbGFyZWQgKHRodXMgc3RhYmxlKVxuICAgICAgICAvLyBwcm9wc1xuICAgICAgICAobm9ybWFsaXplZFByb3BzID0gaW5zdGFuY2UucHJvcHNPcHRpb25zWzBdKSAmJiBoYXNPd24obm9ybWFsaXplZFByb3BzLCBrZXkpXG4gICAgICApIHtcbiAgICAgICAgYWNjZXNzQ2FjaGVba2V5XSA9IDMgLyogUFJPUFMgKi87XG4gICAgICAgIHJldHVybiBwcm9wc1trZXldO1xuICAgICAgfSBlbHNlIGlmIChjdHggIT09IEVNUFRZX09CSiAmJiBoYXNPd24oY3R4LCBrZXkpKSB7XG4gICAgICAgIGFjY2Vzc0NhY2hlW2tleV0gPSA0IC8qIENPTlRFWFQgKi87XG4gICAgICAgIHJldHVybiBjdHhba2V5XTtcbiAgICAgIH0gZWxzZSBpZiAoIV9fVlVFX09QVElPTlNfQVBJX18gfHwgc2hvdWxkQ2FjaGVBY2Nlc3MpIHtcbiAgICAgICAgYWNjZXNzQ2FjaGVba2V5XSA9IDAgLyogT1RIRVIgKi87XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHB1YmxpY0dldHRlciA9IHB1YmxpY1Byb3BlcnRpZXNNYXBba2V5XTtcbiAgICBsZXQgY3NzTW9kdWxlLCBnbG9iYWxQcm9wZXJ0aWVzO1xuICAgIGlmIChwdWJsaWNHZXR0ZXIpIHtcbiAgICAgIGlmIChrZXkgPT09IFwiJGF0dHJzXCIpIHtcbiAgICAgICAgdHJhY2soaW5zdGFuY2UuYXR0cnMsIFwiZ2V0XCIsIFwiXCIpO1xuICAgICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIG1hcmtBdHRyc0FjY2Vzc2VkKCk7XG4gICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYga2V5ID09PSBcIiRzbG90c1wiKSB7XG4gICAgICAgIHRyYWNrKGluc3RhbmNlLCBcImdldFwiLCBrZXkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHB1YmxpY0dldHRlcihpbnN0YW5jZSk7XG4gICAgfSBlbHNlIGlmIChcbiAgICAgIC8vIGNzcyBtb2R1bGUgKGluamVjdGVkIGJ5IHZ1ZS1sb2FkZXIpXG4gICAgICAoY3NzTW9kdWxlID0gdHlwZS5fX2Nzc01vZHVsZXMpICYmIChjc3NNb2R1bGUgPSBjc3NNb2R1bGVba2V5XSlcbiAgICApIHtcbiAgICAgIHJldHVybiBjc3NNb2R1bGU7XG4gICAgfSBlbHNlIGlmIChjdHggIT09IEVNUFRZX09CSiAmJiBoYXNPd24oY3R4LCBrZXkpKSB7XG4gICAgICBhY2Nlc3NDYWNoZVtrZXldID0gNCAvKiBDT05URVhUICovO1xuICAgICAgcmV0dXJuIGN0eFtrZXldO1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICAvLyBnbG9iYWwgcHJvcGVydGllc1xuICAgICAgZ2xvYmFsUHJvcGVydGllcyA9IGFwcENvbnRleHQuY29uZmlnLmdsb2JhbFByb3BlcnRpZXMsIGhhc093bihnbG9iYWxQcm9wZXJ0aWVzLCBrZXkpXG4gICAgKSB7XG4gICAgICB7XG4gICAgICAgIHJldHVybiBnbG9iYWxQcm9wZXJ0aWVzW2tleV07XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSAmJiAoIWlzU3RyaW5nKGtleSkgfHwgLy8gIzEwOTEgYXZvaWQgaW50ZXJuYWwgaXNSZWYvaXNWTm9kZSBjaGVja3Mgb24gY29tcG9uZW50IGluc3RhbmNlIGxlYWRpbmdcbiAgICAvLyB0byBpbmZpbml0ZSB3YXJuaW5nIGxvb3BcbiAgICBrZXkuaW5kZXhPZihcIl9fdlwiKSAhPT0gMCkpIHtcbiAgICAgIGlmIChkYXRhICE9PSBFTVBUWV9PQkogJiYgaXNSZXNlcnZlZFByZWZpeChrZXlbMF0pICYmIGhhc093bihkYXRhLCBrZXkpKSB7XG4gICAgICAgIHdhcm4kMShcbiAgICAgICAgICBgUHJvcGVydHkgJHtKU09OLnN0cmluZ2lmeShcbiAgICAgICAgICAgIGtleVxuICAgICAgICAgICl9IG11c3QgYmUgYWNjZXNzZWQgdmlhICRkYXRhIGJlY2F1c2UgaXQgc3RhcnRzIHdpdGggYSByZXNlcnZlZCBjaGFyYWN0ZXIgKFwiJFwiIG9yIFwiX1wiKSBhbmQgaXMgbm90IHByb3hpZWQgb24gdGhlIHJlbmRlciBjb250ZXh0LmBcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAoaW5zdGFuY2UgPT09IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSkge1xuICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgYFByb3BlcnR5ICR7SlNPTi5zdHJpbmdpZnkoa2V5KX0gd2FzIGFjY2Vzc2VkIGR1cmluZyByZW5kZXIgYnV0IGlzIG5vdCBkZWZpbmVkIG9uIGluc3RhbmNlLmBcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIHNldCh7IF86IGluc3RhbmNlIH0sIGtleSwgdmFsdWUpIHtcbiAgICBjb25zdCB7IGRhdGEsIHNldHVwU3RhdGUsIGN0eCB9ID0gaW5zdGFuY2U7XG4gICAgaWYgKGhhc1NldHVwQmluZGluZyhzZXR1cFN0YXRlLCBrZXkpKSB7XG4gICAgICBzZXR1cFN0YXRlW2tleV0gPSB2YWx1ZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBzZXR1cFN0YXRlLl9faXNTY3JpcHRTZXR1cCAmJiBoYXNPd24oc2V0dXBTdGF0ZSwga2V5KSkge1xuICAgICAgd2FybiQxKGBDYW5ub3QgbXV0YXRlIDxzY3JpcHQgc2V0dXA+IGJpbmRpbmcgXCIke2tleX1cIiBmcm9tIE9wdGlvbnMgQVBJLmApO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSBpZiAoZGF0YSAhPT0gRU1QVFlfT0JKICYmIGhhc093bihkYXRhLCBrZXkpKSB7XG4gICAgICBkYXRhW2tleV0gPSB2YWx1ZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSBpZiAoaGFzT3duKGluc3RhbmNlLnByb3BzLCBrZXkpKSB7XG4gICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm4kMShgQXR0ZW1wdGluZyB0byBtdXRhdGUgcHJvcCBcIiR7a2V5fVwiLiBQcm9wcyBhcmUgcmVhZG9ubHkuYCk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChrZXlbMF0gPT09IFwiJFwiICYmIGtleS5zbGljZSgxKSBpbiBpbnN0YW5jZSkge1xuICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuJDEoXG4gICAgICAgIGBBdHRlbXB0aW5nIHRvIG11dGF0ZSBwdWJsaWMgcHJvcGVydHkgXCIke2tleX1cIi4gUHJvcGVydGllcyBzdGFydGluZyB3aXRoICQgYXJlIHJlc2VydmVkIGFuZCByZWFkb25seS5gXG4gICAgICApO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBrZXkgaW4gaW5zdGFuY2UuYXBwQ29udGV4dC5jb25maWcuZ2xvYmFsUHJvcGVydGllcykge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3R4LCBrZXksIHtcbiAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICB2YWx1ZVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGN0eFtrZXldID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9LFxuICBoYXMoe1xuICAgIF86IHsgZGF0YSwgc2V0dXBTdGF0ZSwgYWNjZXNzQ2FjaGUsIGN0eCwgYXBwQ29udGV4dCwgcHJvcHNPcHRpb25zIH1cbiAgfSwga2V5KSB7XG4gICAgbGV0IG5vcm1hbGl6ZWRQcm9wcztcbiAgICByZXR1cm4gISFhY2Nlc3NDYWNoZVtrZXldIHx8IGRhdGEgIT09IEVNUFRZX09CSiAmJiBoYXNPd24oZGF0YSwga2V5KSB8fCBoYXNTZXR1cEJpbmRpbmcoc2V0dXBTdGF0ZSwga2V5KSB8fCAobm9ybWFsaXplZFByb3BzID0gcHJvcHNPcHRpb25zWzBdKSAmJiBoYXNPd24obm9ybWFsaXplZFByb3BzLCBrZXkpIHx8IGhhc093bihjdHgsIGtleSkgfHwgaGFzT3duKHB1YmxpY1Byb3BlcnRpZXNNYXAsIGtleSkgfHwgaGFzT3duKGFwcENvbnRleHQuY29uZmlnLmdsb2JhbFByb3BlcnRpZXMsIGtleSk7XG4gIH0sXG4gIGRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBkZXNjcmlwdG9yKSB7XG4gICAgaWYgKGRlc2NyaXB0b3IuZ2V0ICE9IG51bGwpIHtcbiAgICAgIHRhcmdldC5fLmFjY2Vzc0NhY2hlW2tleV0gPSAwO1xuICAgIH0gZWxzZSBpZiAoaGFzT3duKGRlc2NyaXB0b3IsIFwidmFsdWVcIikpIHtcbiAgICAgIHRoaXMuc2V0KHRhcmdldCwga2V5LCBkZXNjcmlwdG9yLnZhbHVlLCBudWxsKTtcbiAgICB9XG4gICAgcmV0dXJuIFJlZmxlY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIGRlc2NyaXB0b3IpO1xuICB9XG59O1xuaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgdHJ1ZSkge1xuICBQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMub3duS2V5cyA9ICh0YXJnZXQpID0+IHtcbiAgICB3YXJuJDEoXG4gICAgICBgQXZvaWQgYXBwIGxvZ2ljIHRoYXQgcmVsaWVzIG9uIGVudW1lcmF0aW5nIGtleXMgb24gYSBjb21wb25lbnQgaW5zdGFuY2UuIFRoZSBrZXlzIHdpbGwgYmUgZW1wdHkgaW4gcHJvZHVjdGlvbiBtb2RlIHRvIGF2b2lkIHBlcmZvcm1hbmNlIG92ZXJoZWFkLmBcbiAgICApO1xuICAgIHJldHVybiBSZWZsZWN0Lm93bktleXModGFyZ2V0KTtcbiAgfTtcbn1cbmNvbnN0IFJ1bnRpbWVDb21waWxlZFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycyA9IC8qIEBfX1BVUkVfXyAqLyBleHRlbmQoXG4gIHt9LFxuICBQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMsXG4gIHtcbiAgICBnZXQodGFyZ2V0LCBrZXkpIHtcbiAgICAgIGlmIChrZXkgPT09IFN5bWJvbC51bnNjb3BhYmxlcykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICByZXR1cm4gUHVibGljSW5zdGFuY2VQcm94eUhhbmRsZXJzLmdldCh0YXJnZXQsIGtleSwgdGFyZ2V0KTtcbiAgICB9LFxuICAgIGhhcyhfLCBrZXkpIHtcbiAgICAgIGNvbnN0IGhhcyA9IGtleVswXSAhPT0gXCJfXCIgJiYgIWlzR2xvYmFsbHlBbGxvd2VkKGtleSk7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhaGFzICYmIFB1YmxpY0luc3RhbmNlUHJveHlIYW5kbGVycy5oYXMoXywga2V5KSkge1xuICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgYFByb3BlcnR5ICR7SlNPTi5zdHJpbmdpZnkoXG4gICAgICAgICAgICBrZXlcbiAgICAgICAgICApfSBzaG91bGQgbm90IHN0YXJ0IHdpdGggXyB3aGljaCBpcyBhIHJlc2VydmVkIHByZWZpeCBmb3IgVnVlIGludGVybmFscy5gXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaGFzO1xuICAgIH1cbiAgfVxuKTtcbmZ1bmN0aW9uIGNyZWF0ZURldlJlbmRlckNvbnRleHQoaW5zdGFuY2UpIHtcbiAgY29uc3QgdGFyZ2V0ID0ge307XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGBfYCwge1xuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICBnZXQ6ICgpID0+IGluc3RhbmNlXG4gIH0pO1xuICBPYmplY3Qua2V5cyhwdWJsaWNQcm9wZXJ0aWVzTWFwKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHtcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgZ2V0OiAoKSA9PiBwdWJsaWNQcm9wZXJ0aWVzTWFwW2tleV0oaW5zdGFuY2UpLFxuICAgICAgLy8gaW50ZXJjZXB0ZWQgYnkgdGhlIHByb3h5IHNvIG5vIG5lZWQgZm9yIGltcGxlbWVudGF0aW9uLFxuICAgICAgLy8gYnV0IG5lZWRlZCB0byBwcmV2ZW50IHNldCBlcnJvcnNcbiAgICAgIHNldDogTk9PUFxuICAgIH0pO1xuICB9KTtcbiAgcmV0dXJuIHRhcmdldDtcbn1cbmZ1bmN0aW9uIGV4cG9zZVByb3BzT25SZW5kZXJDb250ZXh0KGluc3RhbmNlKSB7XG4gIGNvbnN0IHtcbiAgICBjdHgsXG4gICAgcHJvcHNPcHRpb25zOiBbcHJvcHNPcHRpb25zXVxuICB9ID0gaW5zdGFuY2U7XG4gIGlmIChwcm9wc09wdGlvbnMpIHtcbiAgICBPYmplY3Qua2V5cyhwcm9wc09wdGlvbnMpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN0eCwga2V5LCB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiAoKSA9PiBpbnN0YW5jZS5wcm9wc1trZXldLFxuICAgICAgICBzZXQ6IE5PT1BcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59XG5mdW5jdGlvbiBleHBvc2VTZXR1cFN0YXRlT25SZW5kZXJDb250ZXh0KGluc3RhbmNlKSB7XG4gIGNvbnN0IHsgY3R4LCBzZXR1cFN0YXRlIH0gPSBpbnN0YW5jZTtcbiAgT2JqZWN0LmtleXModG9SYXcoc2V0dXBTdGF0ZSkpLmZvckVhY2goKGtleSkgPT4ge1xuICAgIGlmICghc2V0dXBTdGF0ZS5fX2lzU2NyaXB0U2V0dXApIHtcbiAgICAgIGlmIChpc1Jlc2VydmVkUHJlZml4KGtleVswXSkpIHtcbiAgICAgICAgd2FybiQxKFxuICAgICAgICAgIGBzZXR1cCgpIHJldHVybiBwcm9wZXJ0eSAke0pTT04uc3RyaW5naWZ5KFxuICAgICAgICAgICAga2V5XG4gICAgICAgICAgKX0gc2hvdWxkIG5vdCBzdGFydCB3aXRoIFwiJFwiIG9yIFwiX1wiIHdoaWNoIGFyZSByZXNlcnZlZCBwcmVmaXhlcyBmb3IgVnVlIGludGVybmFscy5gXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdHgsIGtleSwge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIGdldDogKCkgPT4gc2V0dXBTdGF0ZVtrZXldLFxuICAgICAgICBzZXQ6IE5PT1BcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59XG5cbmNvbnN0IHdhcm5SdW50aW1lVXNhZ2UgPSAobWV0aG9kKSA9PiB3YXJuJDEoXG4gIGAke21ldGhvZH0oKSBpcyBhIGNvbXBpbGVyLWhpbnQgaGVscGVyIHRoYXQgaXMgb25seSB1c2FibGUgaW5zaWRlIDxzY3JpcHQgc2V0dXA+IG9mIGEgc2luZ2xlIGZpbGUgY29tcG9uZW50LiBJdHMgYXJndW1lbnRzIHNob3VsZCBiZSBjb21waWxlZCBhd2F5IGFuZCBwYXNzaW5nIGl0IGF0IHJ1bnRpbWUgaGFzIG5vIGVmZmVjdC5gXG4pO1xuZnVuY3Rpb24gZGVmaW5lUHJvcHMoKSB7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgd2FyblJ1bnRpbWVVc2FnZShgZGVmaW5lUHJvcHNgKTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIGRlZmluZUVtaXRzKCkge1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHdhcm5SdW50aW1lVXNhZ2UoYGRlZmluZUVtaXRzYCk7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBkZWZpbmVFeHBvc2UoZXhwb3NlZCkge1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHdhcm5SdW50aW1lVXNhZ2UoYGRlZmluZUV4cG9zZWApO1xuICB9XG59XG5mdW5jdGlvbiBkZWZpbmVPcHRpb25zKG9wdGlvbnMpIHtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICB3YXJuUnVudGltZVVzYWdlKGBkZWZpbmVPcHRpb25zYCk7XG4gIH1cbn1cbmZ1bmN0aW9uIGRlZmluZVNsb3RzKCkge1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHdhcm5SdW50aW1lVXNhZ2UoYGRlZmluZVNsb3RzYCk7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBkZWZpbmVNb2RlbCgpIHtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICB3YXJuUnVudGltZVVzYWdlKFwiZGVmaW5lTW9kZWxcIik7XG4gIH1cbn1cbmZ1bmN0aW9uIHdpdGhEZWZhdWx0cyhwcm9wcywgZGVmYXVsdHMpIHtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICB3YXJuUnVudGltZVVzYWdlKGB3aXRoRGVmYXVsdHNgKTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIHVzZVNsb3RzKCkge1xuICByZXR1cm4gZ2V0Q29udGV4dCgpLnNsb3RzO1xufVxuZnVuY3Rpb24gdXNlQXR0cnMoKSB7XG4gIHJldHVybiBnZXRDb250ZXh0KCkuYXR0cnM7XG59XG5mdW5jdGlvbiBnZXRDb250ZXh0KCkge1xuICBjb25zdCBpID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFpKSB7XG4gICAgd2FybiQxKGB1c2VDb250ZXh0KCkgY2FsbGVkIHdpdGhvdXQgYWN0aXZlIGluc3RhbmNlLmApO1xuICB9XG4gIHJldHVybiBpLnNldHVwQ29udGV4dCB8fCAoaS5zZXR1cENvbnRleHQgPSBjcmVhdGVTZXR1cENvbnRleHQoaSkpO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplUHJvcHNPckVtaXRzKHByb3BzKSB7XG4gIHJldHVybiBpc0FycmF5KHByb3BzKSA/IHByb3BzLnJlZHVjZShcbiAgICAobm9ybWFsaXplZCwgcCkgPT4gKG5vcm1hbGl6ZWRbcF0gPSBudWxsLCBub3JtYWxpemVkKSxcbiAgICB7fVxuICApIDogcHJvcHM7XG59XG5mdW5jdGlvbiBtZXJnZURlZmF1bHRzKHJhdywgZGVmYXVsdHMpIHtcbiAgY29uc3QgcHJvcHMgPSBub3JtYWxpemVQcm9wc09yRW1pdHMocmF3KTtcbiAgZm9yIChjb25zdCBrZXkgaW4gZGVmYXVsdHMpIHtcbiAgICBpZiAoa2V5LnN0YXJ0c1dpdGgoXCJfX3NraXBcIikpIGNvbnRpbnVlO1xuICAgIGxldCBvcHQgPSBwcm9wc1trZXldO1xuICAgIGlmIChvcHQpIHtcbiAgICAgIGlmIChpc0FycmF5KG9wdCkgfHwgaXNGdW5jdGlvbihvcHQpKSB7XG4gICAgICAgIG9wdCA9IHByb3BzW2tleV0gPSB7IHR5cGU6IG9wdCwgZGVmYXVsdDogZGVmYXVsdHNba2V5XSB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3B0LmRlZmF1bHQgPSBkZWZhdWx0c1trZXldO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAob3B0ID09PSBudWxsKSB7XG4gICAgICBvcHQgPSBwcm9wc1trZXldID0geyBkZWZhdWx0OiBkZWZhdWx0c1trZXldIH07XG4gICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICB3YXJuJDEoYHByb3BzIGRlZmF1bHQga2V5IFwiJHtrZXl9XCIgaGFzIG5vIGNvcnJlc3BvbmRpbmcgZGVjbGFyYXRpb24uYCk7XG4gICAgfVxuICAgIGlmIChvcHQgJiYgZGVmYXVsdHNbYF9fc2tpcF8ke2tleX1gXSkge1xuICAgICAgb3B0LnNraXBGYWN0b3J5ID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHByb3BzO1xufVxuZnVuY3Rpb24gbWVyZ2VNb2RlbHMoYSwgYikge1xuICBpZiAoIWEgfHwgIWIpIHJldHVybiBhIHx8IGI7XG4gIGlmIChpc0FycmF5KGEpICYmIGlzQXJyYXkoYikpIHJldHVybiBhLmNvbmNhdChiKTtcbiAgcmV0dXJuIGV4dGVuZCh7fSwgbm9ybWFsaXplUHJvcHNPckVtaXRzKGEpLCBub3JtYWxpemVQcm9wc09yRW1pdHMoYikpO1xufVxuZnVuY3Rpb24gY3JlYXRlUHJvcHNSZXN0UHJveHkocHJvcHMsIGV4Y2x1ZGVkS2V5cykge1xuICBjb25zdCByZXQgPSB7fTtcbiAgZm9yIChjb25zdCBrZXkgaW4gcHJvcHMpIHtcbiAgICBpZiAoIWV4Y2x1ZGVkS2V5cy5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocmV0LCBrZXksIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiAoKSA9PiBwcm9wc1trZXldXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cbmZ1bmN0aW9uIHdpdGhBc3luY0NvbnRleHQoZ2V0QXdhaXRhYmxlKSB7XG4gIGNvbnN0IGN0eCA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhY3R4KSB7XG4gICAgd2FybiQxKFxuICAgICAgYHdpdGhBc3luY0NvbnRleHQgY2FsbGVkIHdpdGhvdXQgYWN0aXZlIGN1cnJlbnQgaW5zdGFuY2UuIFRoaXMgaXMgbGlrZWx5IGEgYnVnLmBcbiAgICApO1xuICB9XG4gIGxldCBhd2FpdGFibGUgPSBnZXRBd2FpdGFibGUoKTtcbiAgdW5zZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgaWYgKGlzUHJvbWlzZShhd2FpdGFibGUpKSB7XG4gICAgYXdhaXRhYmxlID0gYXdhaXRhYmxlLmNhdGNoKChlKSA9PiB7XG4gICAgICBzZXRDdXJyZW50SW5zdGFuY2UoY3R4KTtcbiAgICAgIHRocm93IGU7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIFthd2FpdGFibGUsICgpID0+IHNldEN1cnJlbnRJbnN0YW5jZShjdHgpXTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlRHVwbGljYXRlQ2hlY2tlcigpIHtcbiAgY29uc3QgY2FjaGUgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgcmV0dXJuICh0eXBlLCBrZXkpID0+IHtcbiAgICBpZiAoY2FjaGVba2V5XSkge1xuICAgICAgd2FybiQxKGAke3R5cGV9IHByb3BlcnR5IFwiJHtrZXl9XCIgaXMgYWxyZWFkeSBkZWZpbmVkIGluICR7Y2FjaGVba2V5XX0uYCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhY2hlW2tleV0gPSB0eXBlO1xuICAgIH1cbiAgfTtcbn1cbmxldCBzaG91bGRDYWNoZUFjY2VzcyA9IHRydWU7XG5mdW5jdGlvbiBhcHBseU9wdGlvbnMoaW5zdGFuY2UpIHtcbiAgY29uc3Qgb3B0aW9ucyA9IHJlc29sdmVNZXJnZWRPcHRpb25zKGluc3RhbmNlKTtcbiAgY29uc3QgcHVibGljVGhpcyA9IGluc3RhbmNlLnByb3h5O1xuICBjb25zdCBjdHggPSBpbnN0YW5jZS5jdHg7XG4gIHNob3VsZENhY2hlQWNjZXNzID0gZmFsc2U7XG4gIGlmIChvcHRpb25zLmJlZm9yZUNyZWF0ZSkge1xuICAgIGNhbGxIb29rKG9wdGlvbnMuYmVmb3JlQ3JlYXRlLCBpbnN0YW5jZSwgXCJiY1wiKTtcbiAgfVxuICBjb25zdCB7XG4gICAgLy8gc3RhdGVcbiAgICBkYXRhOiBkYXRhT3B0aW9ucyxcbiAgICBjb21wdXRlZDogY29tcHV0ZWRPcHRpb25zLFxuICAgIG1ldGhvZHMsXG4gICAgd2F0Y2g6IHdhdGNoT3B0aW9ucyxcbiAgICBwcm92aWRlOiBwcm92aWRlT3B0aW9ucyxcbiAgICBpbmplY3Q6IGluamVjdE9wdGlvbnMsXG4gICAgLy8gbGlmZWN5Y2xlXG4gICAgY3JlYXRlZCxcbiAgICBiZWZvcmVNb3VudCxcbiAgICBtb3VudGVkLFxuICAgIGJlZm9yZVVwZGF0ZSxcbiAgICB1cGRhdGVkLFxuICAgIGFjdGl2YXRlZCxcbiAgICBkZWFjdGl2YXRlZCxcbiAgICBiZWZvcmVEZXN0cm95LFxuICAgIGJlZm9yZVVubW91bnQsXG4gICAgZGVzdHJveWVkLFxuICAgIHVubW91bnRlZCxcbiAgICByZW5kZXIsXG4gICAgcmVuZGVyVHJhY2tlZCxcbiAgICByZW5kZXJUcmlnZ2VyZWQsXG4gICAgZXJyb3JDYXB0dXJlZCxcbiAgICBzZXJ2ZXJQcmVmZXRjaCxcbiAgICAvLyBwdWJsaWMgQVBJXG4gICAgZXhwb3NlLFxuICAgIGluaGVyaXRBdHRycyxcbiAgICAvLyBhc3NldHNcbiAgICBjb21wb25lbnRzLFxuICAgIGRpcmVjdGl2ZXMsXG4gICAgZmlsdGVyc1xuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IGNyZWF0ZUR1cGxpY2F0ZUNoZWNrZXIoKSA6IG51bGw7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgY29uc3QgW3Byb3BzT3B0aW9uc10gPSBpbnN0YW5jZS5wcm9wc09wdGlvbnM7XG4gICAgaWYgKHByb3BzT3B0aW9ucykge1xuICAgICAgZm9yIChjb25zdCBrZXkgaW4gcHJvcHNPcHRpb25zKSB7XG4gICAgICAgIGNoZWNrRHVwbGljYXRlUHJvcGVydGllcyhcIlByb3BzXCIgLyogUFJPUFMgKi8sIGtleSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmIChpbmplY3RPcHRpb25zKSB7XG4gICAgcmVzb2x2ZUluamVjdGlvbnMoaW5qZWN0T3B0aW9ucywgY3R4LCBjaGVja0R1cGxpY2F0ZVByb3BlcnRpZXMpO1xuICB9XG4gIGlmIChtZXRob2RzKSB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gbWV0aG9kcykge1xuICAgICAgY29uc3QgbWV0aG9kSGFuZGxlciA9IG1ldGhvZHNba2V5XTtcbiAgICAgIGlmIChpc0Z1bmN0aW9uKG1ldGhvZEhhbmRsZXIpKSB7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN0eCwga2V5LCB7XG4gICAgICAgICAgICB2YWx1ZTogbWV0aG9kSGFuZGxlci5iaW5kKHB1YmxpY1RoaXMpLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY3R4W2tleV0gPSBtZXRob2RIYW5kbGVyLmJpbmQocHVibGljVGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBjaGVja0R1cGxpY2F0ZVByb3BlcnRpZXMoXCJNZXRob2RzXCIgLyogTUVUSE9EUyAqLywga2V5KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgIHdhcm4kMShcbiAgICAgICAgICBgTWV0aG9kIFwiJHtrZXl9XCIgaGFzIHR5cGUgXCIke3R5cGVvZiBtZXRob2RIYW5kbGVyfVwiIGluIHRoZSBjb21wb25lbnQgZGVmaW5pdGlvbi4gRGlkIHlvdSByZWZlcmVuY2UgdGhlIGZ1bmN0aW9uIGNvcnJlY3RseT9gXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmIChkYXRhT3B0aW9ucykge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFpc0Z1bmN0aW9uKGRhdGFPcHRpb25zKSkge1xuICAgICAgd2FybiQxKFxuICAgICAgICBgVGhlIGRhdGEgb3B0aW9uIG11c3QgYmUgYSBmdW5jdGlvbi4gUGxhaW4gb2JqZWN0IHVzYWdlIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWQuYFxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3QgZGF0YSA9IGRhdGFPcHRpb25zLmNhbGwocHVibGljVGhpcywgcHVibGljVGhpcyk7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgaXNQcm9taXNlKGRhdGEpKSB7XG4gICAgICB3YXJuJDEoXG4gICAgICAgIGBkYXRhKCkgcmV0dXJuZWQgYSBQcm9taXNlIC0gbm90ZSBkYXRhKCkgY2Fubm90IGJlIGFzeW5jOyBJZiB5b3UgaW50ZW5kIHRvIHBlcmZvcm0gZGF0YSBmZXRjaGluZyBiZWZvcmUgY29tcG9uZW50IHJlbmRlcnMsIHVzZSBhc3luYyBzZXR1cCgpICsgPFN1c3BlbnNlPi5gXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoIWlzT2JqZWN0KGRhdGEpKSB7XG4gICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm4kMShgZGF0YSgpIHNob3VsZCByZXR1cm4gYW4gb2JqZWN0LmApO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnN0YW5jZS5kYXRhID0gcmVhY3RpdmUoZGF0YSk7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBkYXRhKSB7XG4gICAgICAgICAgY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzKFwiRGF0YVwiIC8qIERBVEEgKi8sIGtleSk7XG4gICAgICAgICAgaWYgKCFpc1Jlc2VydmVkUHJlZml4KGtleVswXSkpIHtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdHgsIGtleSwge1xuICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgIGdldDogKCkgPT4gZGF0YVtrZXldLFxuICAgICAgICAgICAgICBzZXQ6IE5PT1BcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBzaG91bGRDYWNoZUFjY2VzcyA9IHRydWU7XG4gIGlmIChjb21wdXRlZE9wdGlvbnMpIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBjb21wdXRlZE9wdGlvbnMpIHtcbiAgICAgIGNvbnN0IG9wdCA9IGNvbXB1dGVkT3B0aW9uc1trZXldO1xuICAgICAgY29uc3QgZ2V0ID0gaXNGdW5jdGlvbihvcHQpID8gb3B0LmJpbmQocHVibGljVGhpcywgcHVibGljVGhpcykgOiBpc0Z1bmN0aW9uKG9wdC5nZXQpID8gb3B0LmdldC5iaW5kKHB1YmxpY1RoaXMsIHB1YmxpY1RoaXMpIDogTk9PUDtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGdldCA9PT0gTk9PUCkge1xuICAgICAgICB3YXJuJDEoYENvbXB1dGVkIHByb3BlcnR5IFwiJHtrZXl9XCIgaGFzIG5vIGdldHRlci5gKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHNldCA9ICFpc0Z1bmN0aW9uKG9wdCkgJiYgaXNGdW5jdGlvbihvcHQuc2V0KSA/IG9wdC5zZXQuYmluZChwdWJsaWNUaGlzKSA6ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyAoKSA9PiB7XG4gICAgICAgIHdhcm4kMShcbiAgICAgICAgICBgV3JpdGUgb3BlcmF0aW9uIGZhaWxlZDogY29tcHV0ZWQgcHJvcGVydHkgXCIke2tleX1cIiBpcyByZWFkb25seS5gXG4gICAgICAgICk7XG4gICAgICB9IDogTk9PUDtcbiAgICAgIGNvbnN0IGMgPSBjb21wdXRlZCh7XG4gICAgICAgIGdldCxcbiAgICAgICAgc2V0XG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdHgsIGtleSwge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIGdldDogKCkgPT4gYy52YWx1ZSxcbiAgICAgICAgc2V0OiAodikgPT4gYy52YWx1ZSA9IHZcbiAgICAgIH0pO1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzKFwiQ29tcHV0ZWRcIiAvKiBDT01QVVRFRCAqLywga2V5KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKHdhdGNoT3B0aW9ucykge1xuICAgIGZvciAoY29uc3Qga2V5IGluIHdhdGNoT3B0aW9ucykge1xuICAgICAgY3JlYXRlV2F0Y2hlcih3YXRjaE9wdGlvbnNba2V5XSwgY3R4LCBwdWJsaWNUaGlzLCBrZXkpO1xuICAgIH1cbiAgfVxuICBpZiAocHJvdmlkZU9wdGlvbnMpIHtcbiAgICBjb25zdCBwcm92aWRlcyA9IGlzRnVuY3Rpb24ocHJvdmlkZU9wdGlvbnMpID8gcHJvdmlkZU9wdGlvbnMuY2FsbChwdWJsaWNUaGlzKSA6IHByb3ZpZGVPcHRpb25zO1xuICAgIFJlZmxlY3Qub3duS2V5cyhwcm92aWRlcykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICBwcm92aWRlKGtleSwgcHJvdmlkZXNba2V5XSk7XG4gICAgfSk7XG4gIH1cbiAgaWYgKGNyZWF0ZWQpIHtcbiAgICBjYWxsSG9vayhjcmVhdGVkLCBpbnN0YW5jZSwgXCJjXCIpO1xuICB9XG4gIGZ1bmN0aW9uIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhyZWdpc3RlciwgaG9vaykge1xuICAgIGlmIChpc0FycmF5KGhvb2spKSB7XG4gICAgICBob29rLmZvckVhY2goKF9ob29rKSA9PiByZWdpc3RlcihfaG9vay5iaW5kKHB1YmxpY1RoaXMpKSk7XG4gICAgfSBlbHNlIGlmIChob29rKSB7XG4gICAgICByZWdpc3Rlcihob29rLmJpbmQocHVibGljVGhpcykpO1xuICAgIH1cbiAgfVxuICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25CZWZvcmVNb3VudCwgYmVmb3JlTW91bnQpO1xuICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25Nb3VudGVkLCBtb3VudGVkKTtcbiAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uQmVmb3JlVXBkYXRlLCBiZWZvcmVVcGRhdGUpO1xuICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25VcGRhdGVkLCB1cGRhdGVkKTtcbiAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uQWN0aXZhdGVkLCBhY3RpdmF0ZWQpO1xuICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25EZWFjdGl2YXRlZCwgZGVhY3RpdmF0ZWQpO1xuICByZWdpc3RlckxpZmVjeWNsZUhvb2sob25FcnJvckNhcHR1cmVkLCBlcnJvckNhcHR1cmVkKTtcbiAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uUmVuZGVyVHJhY2tlZCwgcmVuZGVyVHJhY2tlZCk7XG4gIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvblJlbmRlclRyaWdnZXJlZCwgcmVuZGVyVHJpZ2dlcmVkKTtcbiAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uQmVmb3JlVW5tb3VudCwgYmVmb3JlVW5tb3VudCk7XG4gIHJlZ2lzdGVyTGlmZWN5Y2xlSG9vayhvblVubW91bnRlZCwgdW5tb3VudGVkKTtcbiAgcmVnaXN0ZXJMaWZlY3ljbGVIb29rKG9uU2VydmVyUHJlZmV0Y2gsIHNlcnZlclByZWZldGNoKTtcbiAgaWYgKGlzQXJyYXkoZXhwb3NlKSkge1xuICAgIGlmIChleHBvc2UubGVuZ3RoKSB7XG4gICAgICBjb25zdCBleHBvc2VkID0gaW5zdGFuY2UuZXhwb3NlZCB8fCAoaW5zdGFuY2UuZXhwb3NlZCA9IHt9KTtcbiAgICAgIGV4cG9zZS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9zZWQsIGtleSwge1xuICAgICAgICAgIGdldDogKCkgPT4gcHVibGljVGhpc1trZXldLFxuICAgICAgICAgIHNldDogKHZhbCkgPT4gcHVibGljVGhpc1trZXldID0gdmFsXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmICghaW5zdGFuY2UuZXhwb3NlZCkge1xuICAgICAgaW5zdGFuY2UuZXhwb3NlZCA9IHt9O1xuICAgIH1cbiAgfVxuICBpZiAocmVuZGVyICYmIGluc3RhbmNlLnJlbmRlciA9PT0gTk9PUCkge1xuICAgIGluc3RhbmNlLnJlbmRlciA9IHJlbmRlcjtcbiAgfVxuICBpZiAoaW5oZXJpdEF0dHJzICE9IG51bGwpIHtcbiAgICBpbnN0YW5jZS5pbmhlcml0QXR0cnMgPSBpbmhlcml0QXR0cnM7XG4gIH1cbiAgaWYgKGNvbXBvbmVudHMpIGluc3RhbmNlLmNvbXBvbmVudHMgPSBjb21wb25lbnRzO1xuICBpZiAoZGlyZWN0aXZlcykgaW5zdGFuY2UuZGlyZWN0aXZlcyA9IGRpcmVjdGl2ZXM7XG59XG5mdW5jdGlvbiByZXNvbHZlSW5qZWN0aW9ucyhpbmplY3RPcHRpb25zLCBjdHgsIGNoZWNrRHVwbGljYXRlUHJvcGVydGllcyA9IE5PT1ApIHtcbiAgaWYgKGlzQXJyYXkoaW5qZWN0T3B0aW9ucykpIHtcbiAgICBpbmplY3RPcHRpb25zID0gbm9ybWFsaXplSW5qZWN0KGluamVjdE9wdGlvbnMpO1xuICB9XG4gIGZvciAoY29uc3Qga2V5IGluIGluamVjdE9wdGlvbnMpIHtcbiAgICBjb25zdCBvcHQgPSBpbmplY3RPcHRpb25zW2tleV07XG4gICAgbGV0IGluamVjdGVkO1xuICAgIGlmIChpc09iamVjdChvcHQpKSB7XG4gICAgICBpZiAoXCJkZWZhdWx0XCIgaW4gb3B0KSB7XG4gICAgICAgIGluamVjdGVkID0gaW5qZWN0KFxuICAgICAgICAgIG9wdC5mcm9tIHx8IGtleSxcbiAgICAgICAgICBvcHQuZGVmYXVsdCxcbiAgICAgICAgICB0cnVlXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbmplY3RlZCA9IGluamVjdChvcHQuZnJvbSB8fCBrZXkpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpbmplY3RlZCA9IGluamVjdChvcHQpO1xuICAgIH1cbiAgICBpZiAoaXNSZWYoaW5qZWN0ZWQpKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3R4LCBrZXksIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6ICgpID0+IGluamVjdGVkLnZhbHVlLFxuICAgICAgICBzZXQ6ICh2KSA9PiBpbmplY3RlZC52YWx1ZSA9IHZcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdHhba2V5XSA9IGluamVjdGVkO1xuICAgIH1cbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgY2hlY2tEdXBsaWNhdGVQcm9wZXJ0aWVzKFwiSW5qZWN0XCIgLyogSU5KRUNUICovLCBrZXkpO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gY2FsbEhvb2soaG9vaywgaW5zdGFuY2UsIHR5cGUpIHtcbiAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoXG4gICAgaXNBcnJheShob29rKSA/IGhvb2subWFwKChoKSA9PiBoLmJpbmQoaW5zdGFuY2UucHJveHkpKSA6IGhvb2suYmluZChpbnN0YW5jZS5wcm94eSksXG4gICAgaW5zdGFuY2UsXG4gICAgdHlwZVxuICApO1xufVxuZnVuY3Rpb24gY3JlYXRlV2F0Y2hlcihyYXcsIGN0eCwgcHVibGljVGhpcywga2V5KSB7XG4gIGNvbnN0IGdldHRlciA9IGtleS5pbmNsdWRlcyhcIi5cIikgPyBjcmVhdGVQYXRoR2V0dGVyKHB1YmxpY1RoaXMsIGtleSkgOiAoKSA9PiBwdWJsaWNUaGlzW2tleV07XG4gIGlmIChpc1N0cmluZyhyYXcpKSB7XG4gICAgY29uc3QgaGFuZGxlciA9IGN0eFtyYXddO1xuICAgIGlmIChpc0Z1bmN0aW9uKGhhbmRsZXIpKSB7XG4gICAgICB3YXRjaChnZXR0ZXIsIGhhbmRsZXIpO1xuICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgd2FybiQxKGBJbnZhbGlkIHdhdGNoIGhhbmRsZXIgc3BlY2lmaWVkIGJ5IGtleSBcIiR7cmF3fVwiYCwgaGFuZGxlcik7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzRnVuY3Rpb24ocmF3KSkge1xuICAgIHdhdGNoKGdldHRlciwgcmF3LmJpbmQocHVibGljVGhpcykpO1xuICB9IGVsc2UgaWYgKGlzT2JqZWN0KHJhdykpIHtcbiAgICBpZiAoaXNBcnJheShyYXcpKSB7XG4gICAgICByYXcuZm9yRWFjaCgocikgPT4gY3JlYXRlV2F0Y2hlcihyLCBjdHgsIHB1YmxpY1RoaXMsIGtleSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBoYW5kbGVyID0gaXNGdW5jdGlvbihyYXcuaGFuZGxlcikgPyByYXcuaGFuZGxlci5iaW5kKHB1YmxpY1RoaXMpIDogY3R4W3Jhdy5oYW5kbGVyXTtcbiAgICAgIGlmIChpc0Z1bmN0aW9uKGhhbmRsZXIpKSB7XG4gICAgICAgIHdhdGNoKGdldHRlciwgaGFuZGxlciwgcmF3KTtcbiAgICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICB3YXJuJDEoYEludmFsaWQgd2F0Y2ggaGFuZGxlciBzcGVjaWZpZWQgYnkga2V5IFwiJHtyYXcuaGFuZGxlcn1cImAsIGhhbmRsZXIpO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgd2FybiQxKGBJbnZhbGlkIHdhdGNoIG9wdGlvbjogXCIke2tleX1cImAsIHJhdyk7XG4gIH1cbn1cbmZ1bmN0aW9uIHJlc29sdmVNZXJnZWRPcHRpb25zKGluc3RhbmNlKSB7XG4gIGNvbnN0IGJhc2UgPSBpbnN0YW5jZS50eXBlO1xuICBjb25zdCB7IG1peGlucywgZXh0ZW5kczogZXh0ZW5kc09wdGlvbnMgfSA9IGJhc2U7XG4gIGNvbnN0IHtcbiAgICBtaXhpbnM6IGdsb2JhbE1peGlucyxcbiAgICBvcHRpb25zQ2FjaGU6IGNhY2hlLFxuICAgIGNvbmZpZzogeyBvcHRpb25NZXJnZVN0cmF0ZWdpZXMgfVxuICB9ID0gaW5zdGFuY2UuYXBwQ29udGV4dDtcbiAgY29uc3QgY2FjaGVkID0gY2FjaGUuZ2V0KGJhc2UpO1xuICBsZXQgcmVzb2x2ZWQ7XG4gIGlmIChjYWNoZWQpIHtcbiAgICByZXNvbHZlZCA9IGNhY2hlZDtcbiAgfSBlbHNlIGlmICghZ2xvYmFsTWl4aW5zLmxlbmd0aCAmJiAhbWl4aW5zICYmICFleHRlbmRzT3B0aW9ucykge1xuICAgIHtcbiAgICAgIHJlc29sdmVkID0gYmFzZTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmVzb2x2ZWQgPSB7fTtcbiAgICBpZiAoZ2xvYmFsTWl4aW5zLmxlbmd0aCkge1xuICAgICAgZ2xvYmFsTWl4aW5zLmZvckVhY2goXG4gICAgICAgIChtKSA9PiBtZXJnZU9wdGlvbnMocmVzb2x2ZWQsIG0sIG9wdGlvbk1lcmdlU3RyYXRlZ2llcywgdHJ1ZSlcbiAgICAgICk7XG4gICAgfVxuICAgIG1lcmdlT3B0aW9ucyhyZXNvbHZlZCwgYmFzZSwgb3B0aW9uTWVyZ2VTdHJhdGVnaWVzKTtcbiAgfVxuICBpZiAoaXNPYmplY3QoYmFzZSkpIHtcbiAgICBjYWNoZS5zZXQoYmFzZSwgcmVzb2x2ZWQpO1xuICB9XG4gIHJldHVybiByZXNvbHZlZDtcbn1cbmZ1bmN0aW9uIG1lcmdlT3B0aW9ucyh0bywgZnJvbSwgc3RyYXRzLCBhc01peGluID0gZmFsc2UpIHtcbiAgY29uc3QgeyBtaXhpbnMsIGV4dGVuZHM6IGV4dGVuZHNPcHRpb25zIH0gPSBmcm9tO1xuICBpZiAoZXh0ZW5kc09wdGlvbnMpIHtcbiAgICBtZXJnZU9wdGlvbnModG8sIGV4dGVuZHNPcHRpb25zLCBzdHJhdHMsIHRydWUpO1xuICB9XG4gIGlmIChtaXhpbnMpIHtcbiAgICBtaXhpbnMuZm9yRWFjaChcbiAgICAgIChtKSA9PiBtZXJnZU9wdGlvbnModG8sIG0sIHN0cmF0cywgdHJ1ZSlcbiAgICApO1xuICB9XG4gIGZvciAoY29uc3Qga2V5IGluIGZyb20pIHtcbiAgICBpZiAoYXNNaXhpbiAmJiBrZXkgPT09IFwiZXhwb3NlXCIpIHtcbiAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2FybiQxKFxuICAgICAgICBgXCJleHBvc2VcIiBvcHRpb24gaXMgaWdub3JlZCB3aGVuIGRlY2xhcmVkIGluIG1peGlucyBvciBleHRlbmRzLiBJdCBzaG91bGQgb25seSBiZSBkZWNsYXJlZCBpbiB0aGUgYmFzZSBjb21wb25lbnQgaXRzZWxmLmBcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHN0cmF0ID0gaW50ZXJuYWxPcHRpb25NZXJnZVN0cmF0c1trZXldIHx8IHN0cmF0cyAmJiBzdHJhdHNba2V5XTtcbiAgICAgIHRvW2tleV0gPSBzdHJhdCA/IHN0cmF0KHRvW2tleV0sIGZyb21ba2V5XSkgOiBmcm9tW2tleV07XG4gICAgfVxuICB9XG4gIHJldHVybiB0bztcbn1cbmNvbnN0IGludGVybmFsT3B0aW9uTWVyZ2VTdHJhdHMgPSB7XG4gIGRhdGE6IG1lcmdlRGF0YUZuLFxuICBwcm9wczogbWVyZ2VFbWl0c09yUHJvcHNPcHRpb25zLFxuICBlbWl0czogbWVyZ2VFbWl0c09yUHJvcHNPcHRpb25zLFxuICAvLyBvYmplY3RzXG4gIG1ldGhvZHM6IG1lcmdlT2JqZWN0T3B0aW9ucyxcbiAgY29tcHV0ZWQ6IG1lcmdlT2JqZWN0T3B0aW9ucyxcbiAgLy8gbGlmZWN5Y2xlXG4gIGJlZm9yZUNyZWF0ZTogbWVyZ2VBc0FycmF5LFxuICBjcmVhdGVkOiBtZXJnZUFzQXJyYXksXG4gIGJlZm9yZU1vdW50OiBtZXJnZUFzQXJyYXksXG4gIG1vdW50ZWQ6IG1lcmdlQXNBcnJheSxcbiAgYmVmb3JlVXBkYXRlOiBtZXJnZUFzQXJyYXksXG4gIHVwZGF0ZWQ6IG1lcmdlQXNBcnJheSxcbiAgYmVmb3JlRGVzdHJveTogbWVyZ2VBc0FycmF5LFxuICBiZWZvcmVVbm1vdW50OiBtZXJnZUFzQXJyYXksXG4gIGRlc3Ryb3llZDogbWVyZ2VBc0FycmF5LFxuICB1bm1vdW50ZWQ6IG1lcmdlQXNBcnJheSxcbiAgYWN0aXZhdGVkOiBtZXJnZUFzQXJyYXksXG4gIGRlYWN0aXZhdGVkOiBtZXJnZUFzQXJyYXksXG4gIGVycm9yQ2FwdHVyZWQ6IG1lcmdlQXNBcnJheSxcbiAgc2VydmVyUHJlZmV0Y2g6IG1lcmdlQXNBcnJheSxcbiAgLy8gYXNzZXRzXG4gIGNvbXBvbmVudHM6IG1lcmdlT2JqZWN0T3B0aW9ucyxcbiAgZGlyZWN0aXZlczogbWVyZ2VPYmplY3RPcHRpb25zLFxuICAvLyB3YXRjaFxuICB3YXRjaDogbWVyZ2VXYXRjaE9wdGlvbnMsXG4gIC8vIHByb3ZpZGUgLyBpbmplY3RcbiAgcHJvdmlkZTogbWVyZ2VEYXRhRm4sXG4gIGluamVjdDogbWVyZ2VJbmplY3Rcbn07XG5mdW5jdGlvbiBtZXJnZURhdGFGbih0bywgZnJvbSkge1xuICBpZiAoIWZyb20pIHtcbiAgICByZXR1cm4gdG87XG4gIH1cbiAgaWYgKCF0bykge1xuICAgIHJldHVybiBmcm9tO1xuICB9XG4gIHJldHVybiBmdW5jdGlvbiBtZXJnZWREYXRhRm4oKSB7XG4gICAgcmV0dXJuIChleHRlbmQpKFxuICAgICAgaXNGdW5jdGlvbih0bykgPyB0by5jYWxsKHRoaXMsIHRoaXMpIDogdG8sXG4gICAgICBpc0Z1bmN0aW9uKGZyb20pID8gZnJvbS5jYWxsKHRoaXMsIHRoaXMpIDogZnJvbVxuICAgICk7XG4gIH07XG59XG5mdW5jdGlvbiBtZXJnZUluamVjdCh0bywgZnJvbSkge1xuICByZXR1cm4gbWVyZ2VPYmplY3RPcHRpb25zKG5vcm1hbGl6ZUluamVjdCh0byksIG5vcm1hbGl6ZUluamVjdChmcm9tKSk7XG59XG5mdW5jdGlvbiBub3JtYWxpemVJbmplY3QocmF3KSB7XG4gIGlmIChpc0FycmF5KHJhdykpIHtcbiAgICBjb25zdCByZXMgPSB7fTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJhdy5sZW5ndGg7IGkrKykge1xuICAgICAgcmVzW3Jhd1tpXV0gPSByYXdbaV07XG4gICAgfVxuICAgIHJldHVybiByZXM7XG4gIH1cbiAgcmV0dXJuIHJhdztcbn1cbmZ1bmN0aW9uIG1lcmdlQXNBcnJheSh0bywgZnJvbSkge1xuICByZXR1cm4gdG8gPyBbLi4ubmV3IFNldChbXS5jb25jYXQodG8sIGZyb20pKV0gOiBmcm9tO1xufVxuZnVuY3Rpb24gbWVyZ2VPYmplY3RPcHRpb25zKHRvLCBmcm9tKSB7XG4gIHJldHVybiB0byA/IGV4dGVuZCgvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKSwgdG8sIGZyb20pIDogZnJvbTtcbn1cbmZ1bmN0aW9uIG1lcmdlRW1pdHNPclByb3BzT3B0aW9ucyh0bywgZnJvbSkge1xuICBpZiAodG8pIHtcbiAgICBpZiAoaXNBcnJheSh0bykgJiYgaXNBcnJheShmcm9tKSkge1xuICAgICAgcmV0dXJuIFsuLi4vKiBAX19QVVJFX18gKi8gbmV3IFNldChbLi4udG8sIC4uLmZyb21dKV07XG4gICAgfVxuICAgIHJldHVybiBleHRlbmQoXG4gICAgICAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKSxcbiAgICAgIG5vcm1hbGl6ZVByb3BzT3JFbWl0cyh0byksXG4gICAgICBub3JtYWxpemVQcm9wc09yRW1pdHMoZnJvbSAhPSBudWxsID8gZnJvbSA6IHt9KVxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZyb207XG4gIH1cbn1cbmZ1bmN0aW9uIG1lcmdlV2F0Y2hPcHRpb25zKHRvLCBmcm9tKSB7XG4gIGlmICghdG8pIHJldHVybiBmcm9tO1xuICBpZiAoIWZyb20pIHJldHVybiB0bztcbiAgY29uc3QgbWVyZ2VkID0gZXh0ZW5kKC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpLCB0byk7XG4gIGZvciAoY29uc3Qga2V5IGluIGZyb20pIHtcbiAgICBtZXJnZWRba2V5XSA9IG1lcmdlQXNBcnJheSh0b1trZXldLCBmcm9tW2tleV0pO1xuICB9XG4gIHJldHVybiBtZXJnZWQ7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUFwcENvbnRleHQoKSB7XG4gIHJldHVybiB7XG4gICAgYXBwOiBudWxsLFxuICAgIGNvbmZpZzoge1xuICAgICAgaXNOYXRpdmVUYWc6IE5PLFxuICAgICAgcGVyZm9ybWFuY2U6IGZhbHNlLFxuICAgICAgZ2xvYmFsUHJvcGVydGllczoge30sXG4gICAgICBvcHRpb25NZXJnZVN0cmF0ZWdpZXM6IHt9LFxuICAgICAgZXJyb3JIYW5kbGVyOiB2b2lkIDAsXG4gICAgICB3YXJuSGFuZGxlcjogdm9pZCAwLFxuICAgICAgY29tcGlsZXJPcHRpb25zOiB7fVxuICAgIH0sXG4gICAgbWl4aW5zOiBbXSxcbiAgICBjb21wb25lbnRzOiB7fSxcbiAgICBkaXJlY3RpdmVzOiB7fSxcbiAgICBwcm92aWRlczogLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCksXG4gICAgb3B0aW9uc0NhY2hlOiAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKSxcbiAgICBwcm9wc0NhY2hlOiAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKSxcbiAgICBlbWl0c0NhY2hlOiAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKVxuICB9O1xufVxubGV0IHVpZCQxID0gMDtcbmZ1bmN0aW9uIGNyZWF0ZUFwcEFQSShyZW5kZXIsIGh5ZHJhdGUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIGNyZWF0ZUFwcChyb290Q29tcG9uZW50LCByb290UHJvcHMgPSBudWxsKSB7XG4gICAgaWYgKCFpc0Z1bmN0aW9uKHJvb3RDb21wb25lbnQpKSB7XG4gICAgICByb290Q29tcG9uZW50ID0gZXh0ZW5kKHt9LCByb290Q29tcG9uZW50KTtcbiAgICB9XG4gICAgaWYgKHJvb3RQcm9wcyAhPSBudWxsICYmICFpc09iamVjdChyb290UHJvcHMpKSB7XG4gICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm4kMShgcm9vdCBwcm9wcyBwYXNzZWQgdG8gYXBwLm1vdW50KCkgbXVzdCBiZSBhbiBvYmplY3QuYCk7XG4gICAgICByb290UHJvcHMgPSBudWxsO1xuICAgIH1cbiAgICBjb25zdCBjb250ZXh0ID0gY3JlYXRlQXBwQ29udGV4dCgpO1xuICAgIGNvbnN0IGluc3RhbGxlZFBsdWdpbnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtTZXQoKTtcbiAgICBsZXQgaXNNb3VudGVkID0gZmFsc2U7XG4gICAgY29uc3QgYXBwID0gY29udGV4dC5hcHAgPSB7XG4gICAgICBfdWlkOiB1aWQkMSsrLFxuICAgICAgX2NvbXBvbmVudDogcm9vdENvbXBvbmVudCxcbiAgICAgIF9wcm9wczogcm9vdFByb3BzLFxuICAgICAgX2NvbnRhaW5lcjogbnVsbCxcbiAgICAgIF9jb250ZXh0OiBjb250ZXh0LFxuICAgICAgX2luc3RhbmNlOiBudWxsLFxuICAgICAgdmVyc2lvbixcbiAgICAgIGdldCBjb25maWcoKSB7XG4gICAgICAgIHJldHVybiBjb250ZXh0LmNvbmZpZztcbiAgICAgIH0sXG4gICAgICBzZXQgY29uZmlnKHYpIHtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgICBgYXBwLmNvbmZpZyBjYW5ub3QgYmUgcmVwbGFjZWQuIE1vZGlmeSBpbmRpdmlkdWFsIG9wdGlvbnMgaW5zdGVhZC5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHVzZShwbHVnaW4sIC4uLm9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGluc3RhbGxlZFBsdWdpbnMuaGFzKHBsdWdpbikpIHtcbiAgICAgICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm4kMShgUGx1Z2luIGhhcyBhbHJlYWR5IGJlZW4gYXBwbGllZCB0byB0YXJnZXQgYXBwLmApO1xuICAgICAgICB9IGVsc2UgaWYgKHBsdWdpbiAmJiBpc0Z1bmN0aW9uKHBsdWdpbi5pbnN0YWxsKSkge1xuICAgICAgICAgIGluc3RhbGxlZFBsdWdpbnMuYWRkKHBsdWdpbik7XG4gICAgICAgICAgcGx1Z2luLmluc3RhbGwoYXBwLCAuLi5vcHRpb25zKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0Z1bmN0aW9uKHBsdWdpbikpIHtcbiAgICAgICAgICBpbnN0YWxsZWRQbHVnaW5zLmFkZChwbHVnaW4pO1xuICAgICAgICAgIHBsdWdpbihhcHAsIC4uLm9wdGlvbnMpO1xuICAgICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgICBgQSBwbHVnaW4gbXVzdCBlaXRoZXIgYmUgYSBmdW5jdGlvbiBvciBhbiBvYmplY3Qgd2l0aCBhbiBcImluc3RhbGxcIiBmdW5jdGlvbi5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXBwO1xuICAgICAgfSxcbiAgICAgIG1peGluKG1peGluKSB7XG4gICAgICAgIGlmIChfX1ZVRV9PUFRJT05TX0FQSV9fKSB7XG4gICAgICAgICAgaWYgKCFjb250ZXh0Lm1peGlucy5pbmNsdWRlcyhtaXhpbikpIHtcbiAgICAgICAgICAgIGNvbnRleHQubWl4aW5zLnB1c2gobWl4aW4pO1xuICAgICAgICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgICBcIk1peGluIGhhcyBhbHJlYWR5IGJlZW4gYXBwbGllZCB0byB0YXJnZXQgYXBwXCIgKyAobWl4aW4ubmFtZSA/IGA6ICR7bWl4aW4ubmFtZX1gIDogXCJcIilcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICB3YXJuJDEoXCJNaXhpbnMgYXJlIG9ubHkgYXZhaWxhYmxlIGluIGJ1aWxkcyBzdXBwb3J0aW5nIE9wdGlvbnMgQVBJXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcHA7XG4gICAgICB9LFxuICAgICAgY29tcG9uZW50KG5hbWUsIGNvbXBvbmVudCkge1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHZhbGlkYXRlQ29tcG9uZW50TmFtZShuYW1lLCBjb250ZXh0LmNvbmZpZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjb21wb25lbnQpIHtcbiAgICAgICAgICByZXR1cm4gY29udGV4dC5jb21wb25lbnRzW25hbWVdO1xuICAgICAgICB9XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGNvbnRleHQuY29tcG9uZW50c1tuYW1lXSkge1xuICAgICAgICAgIHdhcm4kMShgQ29tcG9uZW50IFwiJHtuYW1lfVwiIGhhcyBhbHJlYWR5IGJlZW4gcmVnaXN0ZXJlZCBpbiB0YXJnZXQgYXBwLmApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRleHQuY29tcG9uZW50c1tuYW1lXSA9IGNvbXBvbmVudDtcbiAgICAgICAgcmV0dXJuIGFwcDtcbiAgICAgIH0sXG4gICAgICBkaXJlY3RpdmUobmFtZSwgZGlyZWN0aXZlKSB7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgdmFsaWRhdGVEaXJlY3RpdmVOYW1lKG5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZGlyZWN0aXZlKSB7XG4gICAgICAgICAgcmV0dXJuIGNvbnRleHQuZGlyZWN0aXZlc1tuYW1lXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBjb250ZXh0LmRpcmVjdGl2ZXNbbmFtZV0pIHtcbiAgICAgICAgICB3YXJuJDEoYERpcmVjdGl2ZSBcIiR7bmFtZX1cIiBoYXMgYWxyZWFkeSBiZWVuIHJlZ2lzdGVyZWQgaW4gdGFyZ2V0IGFwcC5gKTtcbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0LmRpcmVjdGl2ZXNbbmFtZV0gPSBkaXJlY3RpdmU7XG4gICAgICAgIHJldHVybiBhcHA7XG4gICAgICB9LFxuICAgICAgbW91bnQocm9vdENvbnRhaW5lciwgaXNIeWRyYXRlLCBuYW1lc3BhY2UpIHtcbiAgICAgICAgaWYgKCFpc01vdW50ZWQpIHtcbiAgICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiByb290Q29udGFpbmVyLl9fdnVlX2FwcF9fKSB7XG4gICAgICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgICAgIGBUaGVyZSBpcyBhbHJlYWR5IGFuIGFwcCBpbnN0YW5jZSBtb3VudGVkIG9uIHRoZSBob3N0IGNvbnRhaW5lci5cbiBJZiB5b3Ugd2FudCB0byBtb3VudCBhbm90aGVyIGFwcCBvbiB0aGUgc2FtZSBob3N0IGNvbnRhaW5lciwgeW91IG5lZWQgdG8gdW5tb3VudCB0aGUgcHJldmlvdXMgYXBwIGJ5IGNhbGxpbmcgXFxgYXBwLnVubW91bnQoKVxcYCBmaXJzdC5gXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCB2bm9kZSA9IGNyZWF0ZVZOb2RlKHJvb3RDb21wb25lbnQsIHJvb3RQcm9wcyk7XG4gICAgICAgICAgdm5vZGUuYXBwQ29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgICAgaWYgKG5hbWVzcGFjZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgbmFtZXNwYWNlID0gXCJzdmdcIjtcbiAgICAgICAgICB9IGVsc2UgaWYgKG5hbWVzcGFjZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIG5hbWVzcGFjZSA9IHZvaWQgMDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICAgIGNvbnRleHQucmVsb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgICByZW5kZXIoXG4gICAgICAgICAgICAgICAgY2xvbmVWTm9kZSh2bm9kZSksXG4gICAgICAgICAgICAgICAgcm9vdENvbnRhaW5lcixcbiAgICAgICAgICAgICAgICBuYW1lc3BhY2VcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpc0h5ZHJhdGUgJiYgaHlkcmF0ZSkge1xuICAgICAgICAgICAgaHlkcmF0ZSh2bm9kZSwgcm9vdENvbnRhaW5lcik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlbmRlcih2bm9kZSwgcm9vdENvbnRhaW5lciwgbmFtZXNwYWNlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaXNNb3VudGVkID0gdHJ1ZTtcbiAgICAgICAgICBhcHAuX2NvbnRhaW5lciA9IHJvb3RDb250YWluZXI7XG4gICAgICAgICAgcm9vdENvbnRhaW5lci5fX3Z1ZV9hcHBfXyA9IGFwcDtcbiAgICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgICAgICAgIGFwcC5faW5zdGFuY2UgPSB2bm9kZS5jb21wb25lbnQ7XG4gICAgICAgICAgICBkZXZ0b29sc0luaXRBcHAoYXBwLCB2ZXJzaW9uKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGdldENvbXBvbmVudFB1YmxpY0luc3RhbmNlKHZub2RlLmNvbXBvbmVudCk7XG4gICAgICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgIGBBcHAgaGFzIGFscmVhZHkgYmVlbiBtb3VudGVkLlxuSWYgeW91IHdhbnQgdG8gcmVtb3VudCB0aGUgc2FtZSBhcHAsIG1vdmUgeW91ciBhcHAgY3JlYXRpb24gbG9naWMgaW50byBhIGZhY3RvcnkgZnVuY3Rpb24gYW5kIGNyZWF0ZSBmcmVzaCBhcHAgaW5zdGFuY2VzIGZvciBlYWNoIG1vdW50IC0gZS5nLiBcXGBjb25zdCBjcmVhdGVNeUFwcCA9ICgpID0+IGNyZWF0ZUFwcChBcHApXFxgYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB1bm1vdW50KCkge1xuICAgICAgICBpZiAoaXNNb3VudGVkKSB7XG4gICAgICAgICAgcmVuZGVyKG51bGwsIGFwcC5fY29udGFpbmVyKTtcbiAgICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgICAgICAgIGFwcC5faW5zdGFuY2UgPSBudWxsO1xuICAgICAgICAgICAgZGV2dG9vbHNVbm1vdW50QXBwKGFwcCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRlbGV0ZSBhcHAuX2NvbnRhaW5lci5fX3Z1ZV9hcHBfXztcbiAgICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgd2FybiQxKGBDYW5ub3QgdW5tb3VudCBhbiBhcHAgdGhhdCBpcyBub3QgbW91bnRlZC5gKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHByb3ZpZGUoa2V5LCB2YWx1ZSkge1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBrZXkgaW4gY29udGV4dC5wcm92aWRlcykge1xuICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgIGBBcHAgYWxyZWFkeSBwcm92aWRlcyBwcm9wZXJ0eSB3aXRoIGtleSBcIiR7U3RyaW5nKGtleSl9XCIuIEl0IHdpbGwgYmUgb3ZlcndyaXR0ZW4gd2l0aCB0aGUgbmV3IHZhbHVlLmBcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRleHQucHJvdmlkZXNba2V5XSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gYXBwO1xuICAgICAgfSxcbiAgICAgIHJ1bldpdGhDb250ZXh0KGZuKSB7XG4gICAgICAgIGNvbnN0IGxhc3RBcHAgPSBjdXJyZW50QXBwO1xuICAgICAgICBjdXJyZW50QXBwID0gYXBwO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBmbigpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGN1cnJlbnRBcHAgPSBsYXN0QXBwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gYXBwO1xuICB9O1xufVxubGV0IGN1cnJlbnRBcHAgPSBudWxsO1xuXG5mdW5jdGlvbiBwcm92aWRlKGtleSwgdmFsdWUpIHtcbiAgaWYgKCFjdXJyZW50SW5zdGFuY2UpIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgd2FybiQxKGBwcm92aWRlKCkgY2FuIG9ubHkgYmUgdXNlZCBpbnNpZGUgc2V0dXAoKS5gKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgbGV0IHByb3ZpZGVzID0gY3VycmVudEluc3RhbmNlLnByb3ZpZGVzO1xuICAgIGNvbnN0IHBhcmVudFByb3ZpZGVzID0gY3VycmVudEluc3RhbmNlLnBhcmVudCAmJiBjdXJyZW50SW5zdGFuY2UucGFyZW50LnByb3ZpZGVzO1xuICAgIGlmIChwYXJlbnRQcm92aWRlcyA9PT0gcHJvdmlkZXMpIHtcbiAgICAgIHByb3ZpZGVzID0gY3VycmVudEluc3RhbmNlLnByb3ZpZGVzID0gT2JqZWN0LmNyZWF0ZShwYXJlbnRQcm92aWRlcyk7XG4gICAgfVxuICAgIHByb3ZpZGVzW2tleV0gPSB2YWx1ZTtcbiAgfVxufVxuZnVuY3Rpb24gaW5qZWN0KGtleSwgZGVmYXVsdFZhbHVlLCB0cmVhdERlZmF1bHRBc0ZhY3RvcnkgPSBmYWxzZSkge1xuICBjb25zdCBpbnN0YW5jZSA9IGN1cnJlbnRJbnN0YW5jZSB8fCBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2U7XG4gIGlmIChpbnN0YW5jZSB8fCBjdXJyZW50QXBwKSB7XG4gICAgY29uc3QgcHJvdmlkZXMgPSBpbnN0YW5jZSA/IGluc3RhbmNlLnBhcmVudCA9PSBudWxsID8gaW5zdGFuY2Uudm5vZGUuYXBwQ29udGV4dCAmJiBpbnN0YW5jZS52bm9kZS5hcHBDb250ZXh0LnByb3ZpZGVzIDogaW5zdGFuY2UucGFyZW50LnByb3ZpZGVzIDogY3VycmVudEFwcC5fY29udGV4dC5wcm92aWRlcztcbiAgICBpZiAocHJvdmlkZXMgJiYga2V5IGluIHByb3ZpZGVzKSB7XG4gICAgICByZXR1cm4gcHJvdmlkZXNba2V5XTtcbiAgICB9IGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICByZXR1cm4gdHJlYXREZWZhdWx0QXNGYWN0b3J5ICYmIGlzRnVuY3Rpb24oZGVmYXVsdFZhbHVlKSA/IGRlZmF1bHRWYWx1ZS5jYWxsKGluc3RhbmNlICYmIGluc3RhbmNlLnByb3h5KSA6IGRlZmF1bHRWYWx1ZTtcbiAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIHdhcm4kMShgaW5qZWN0aW9uIFwiJHtTdHJpbmcoa2V5KX1cIiBub3QgZm91bmQuYCk7XG4gICAgfVxuICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICB3YXJuJDEoYGluamVjdCgpIGNhbiBvbmx5IGJlIHVzZWQgaW5zaWRlIHNldHVwKCkgb3IgZnVuY3Rpb25hbCBjb21wb25lbnRzLmApO1xuICB9XG59XG5mdW5jdGlvbiBoYXNJbmplY3Rpb25Db250ZXh0KCkge1xuICByZXR1cm4gISEoY3VycmVudEluc3RhbmNlIHx8IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSB8fCBjdXJyZW50QXBwKTtcbn1cblxuY29uc3QgaW50ZXJuYWxPYmplY3RQcm90byA9IHt9O1xuY29uc3QgY3JlYXRlSW50ZXJuYWxPYmplY3QgPSAoKSA9PiBPYmplY3QuY3JlYXRlKGludGVybmFsT2JqZWN0UHJvdG8pO1xuY29uc3QgaXNJbnRlcm5hbE9iamVjdCA9IChvYmopID0+IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmopID09PSBpbnRlcm5hbE9iamVjdFByb3RvO1xuXG5mdW5jdGlvbiBpbml0UHJvcHMoaW5zdGFuY2UsIHJhd1Byb3BzLCBpc1N0YXRlZnVsLCBpc1NTUiA9IGZhbHNlKSB7XG4gIGNvbnN0IHByb3BzID0ge307XG4gIGNvbnN0IGF0dHJzID0gY3JlYXRlSW50ZXJuYWxPYmplY3QoKTtcbiAgaW5zdGFuY2UucHJvcHNEZWZhdWx0cyA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICBzZXRGdWxsUHJvcHMoaW5zdGFuY2UsIHJhd1Byb3BzLCBwcm9wcywgYXR0cnMpO1xuICBmb3IgKGNvbnN0IGtleSBpbiBpbnN0YW5jZS5wcm9wc09wdGlvbnNbMF0pIHtcbiAgICBpZiAoIShrZXkgaW4gcHJvcHMpKSB7XG4gICAgICBwcm9wc1trZXldID0gdm9pZCAwO1xuICAgIH1cbiAgfVxuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIHZhbGlkYXRlUHJvcHMocmF3UHJvcHMgfHwge30sIHByb3BzLCBpbnN0YW5jZSk7XG4gIH1cbiAgaWYgKGlzU3RhdGVmdWwpIHtcbiAgICBpbnN0YW5jZS5wcm9wcyA9IGlzU1NSID8gcHJvcHMgOiBzaGFsbG93UmVhY3RpdmUocHJvcHMpO1xuICB9IGVsc2Uge1xuICAgIGlmICghaW5zdGFuY2UudHlwZS5wcm9wcykge1xuICAgICAgaW5zdGFuY2UucHJvcHMgPSBhdHRycztcbiAgICB9IGVsc2Uge1xuICAgICAgaW5zdGFuY2UucHJvcHMgPSBwcm9wcztcbiAgICB9XG4gIH1cbiAgaW5zdGFuY2UuYXR0cnMgPSBhdHRycztcbn1cbmZ1bmN0aW9uIGlzSW5IbXJDb250ZXh0KGluc3RhbmNlKSB7XG4gIHdoaWxlIChpbnN0YW5jZSkge1xuICAgIGlmIChpbnN0YW5jZS50eXBlLl9faG1ySWQpIHJldHVybiB0cnVlO1xuICAgIGluc3RhbmNlID0gaW5zdGFuY2UucGFyZW50O1xuICB9XG59XG5mdW5jdGlvbiB1cGRhdGVQcm9wcyhpbnN0YW5jZSwgcmF3UHJvcHMsIHJhd1ByZXZQcm9wcywgb3B0aW1pemVkKSB7XG4gIGNvbnN0IHtcbiAgICBwcm9wcyxcbiAgICBhdHRycyxcbiAgICB2bm9kZTogeyBwYXRjaEZsYWcgfVxuICB9ID0gaW5zdGFuY2U7XG4gIGNvbnN0IHJhd0N1cnJlbnRQcm9wcyA9IHRvUmF3KHByb3BzKTtcbiAgY29uc3QgW29wdGlvbnNdID0gaW5zdGFuY2UucHJvcHNPcHRpb25zO1xuICBsZXQgaGFzQXR0cnNDaGFuZ2VkID0gZmFsc2U7XG4gIGlmIChcbiAgICAvLyBhbHdheXMgZm9yY2UgZnVsbCBkaWZmIGluIGRldlxuICAgIC8vIC0gIzE5NDIgaWYgaG1yIGlzIGVuYWJsZWQgd2l0aCBzZmMgY29tcG9uZW50XG4gICAgLy8gLSB2aXRlIzg3MiBub24tc2ZjIGNvbXBvbmVudCB1c2VkIGJ5IHNmYyBjb21wb25lbnRcbiAgICAhKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgaXNJbkhtckNvbnRleHQoaW5zdGFuY2UpKSAmJiAob3B0aW1pemVkIHx8IHBhdGNoRmxhZyA+IDApICYmICEocGF0Y2hGbGFnICYgMTYpXG4gICkge1xuICAgIGlmIChwYXRjaEZsYWcgJiA4KSB7XG4gICAgICBjb25zdCBwcm9wc1RvVXBkYXRlID0gaW5zdGFuY2Uudm5vZGUuZHluYW1pY1Byb3BzO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wc1RvVXBkYXRlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBrZXkgPSBwcm9wc1RvVXBkYXRlW2ldO1xuICAgICAgICBpZiAoaXNFbWl0TGlzdGVuZXIoaW5zdGFuY2UuZW1pdHNPcHRpb25zLCBrZXkpKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdmFsdWUgPSByYXdQcm9wc1trZXldO1xuICAgICAgICBpZiAob3B0aW9ucykge1xuICAgICAgICAgIGlmIChoYXNPd24oYXR0cnMsIGtleSkpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gYXR0cnNba2V5XSkge1xuICAgICAgICAgICAgICBhdHRyc1trZXldID0gdmFsdWU7XG4gICAgICAgICAgICAgIGhhc0F0dHJzQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGNhbWVsaXplZEtleSA9IGNhbWVsaXplKGtleSk7XG4gICAgICAgICAgICBwcm9wc1tjYW1lbGl6ZWRLZXldID0gcmVzb2x2ZVByb3BWYWx1ZShcbiAgICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgICAgcmF3Q3VycmVudFByb3BzLFxuICAgICAgICAgICAgICBjYW1lbGl6ZWRLZXksXG4gICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICh2YWx1ZSAhPT0gYXR0cnNba2V5XSkge1xuICAgICAgICAgICAgYXR0cnNba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgaGFzQXR0cnNDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKHNldEZ1bGxQcm9wcyhpbnN0YW5jZSwgcmF3UHJvcHMsIHByb3BzLCBhdHRycykpIHtcbiAgICAgIGhhc0F0dHJzQ2hhbmdlZCA9IHRydWU7XG4gICAgfVxuICAgIGxldCBrZWJhYktleTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiByYXdDdXJyZW50UHJvcHMpIHtcbiAgICAgIGlmICghcmF3UHJvcHMgfHwgLy8gZm9yIGNhbWVsQ2FzZVxuICAgICAgIWhhc093bihyYXdQcm9wcywga2V5KSAmJiAvLyBpdCdzIHBvc3NpYmxlIHRoZSBvcmlnaW5hbCBwcm9wcyB3YXMgcGFzc2VkIGluIGFzIGtlYmFiLWNhc2VcbiAgICAgIC8vIGFuZCBjb252ZXJ0ZWQgdG8gY2FtZWxDYXNlICgjOTU1KVxuICAgICAgKChrZWJhYktleSA9IGh5cGhlbmF0ZShrZXkpKSA9PT0ga2V5IHx8ICFoYXNPd24ocmF3UHJvcHMsIGtlYmFiS2V5KSkpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgICAgICBpZiAocmF3UHJldlByb3BzICYmIC8vIGZvciBjYW1lbENhc2VcbiAgICAgICAgICAocmF3UHJldlByb3BzW2tleV0gIT09IHZvaWQgMCB8fCAvLyBmb3Iga2ViYWItY2FzZVxuICAgICAgICAgIHJhd1ByZXZQcm9wc1trZWJhYktleV0gIT09IHZvaWQgMCkpIHtcbiAgICAgICAgICAgIHByb3BzW2tleV0gPSByZXNvbHZlUHJvcFZhbHVlKFxuICAgICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgICByYXdDdXJyZW50UHJvcHMsXG4gICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgdm9pZCAwLFxuICAgICAgICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVsZXRlIHByb3BzW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGF0dHJzICE9PSByYXdDdXJyZW50UHJvcHMpIHtcbiAgICAgIGZvciAoY29uc3Qga2V5IGluIGF0dHJzKSB7XG4gICAgICAgIGlmICghcmF3UHJvcHMgfHwgIWhhc093bihyYXdQcm9wcywga2V5KSAmJiB0cnVlKSB7XG4gICAgICAgICAgZGVsZXRlIGF0dHJzW2tleV07XG4gICAgICAgICAgaGFzQXR0cnNDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAoaGFzQXR0cnNDaGFuZ2VkKSB7XG4gICAgdHJpZ2dlcihpbnN0YW5jZS5hdHRycywgXCJzZXRcIiwgXCJcIik7XG4gIH1cbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICB2YWxpZGF0ZVByb3BzKHJhd1Byb3BzIHx8IHt9LCBwcm9wcywgaW5zdGFuY2UpO1xuICB9XG59XG5mdW5jdGlvbiBzZXRGdWxsUHJvcHMoaW5zdGFuY2UsIHJhd1Byb3BzLCBwcm9wcywgYXR0cnMpIHtcbiAgY29uc3QgW29wdGlvbnMsIG5lZWRDYXN0S2V5c10gPSBpbnN0YW5jZS5wcm9wc09wdGlvbnM7XG4gIGxldCBoYXNBdHRyc0NoYW5nZWQgPSBmYWxzZTtcbiAgbGV0IHJhd0Nhc3RWYWx1ZXM7XG4gIGlmIChyYXdQcm9wcykge1xuICAgIGZvciAobGV0IGtleSBpbiByYXdQcm9wcykge1xuICAgICAgaWYgKGlzUmVzZXJ2ZWRQcm9wKGtleSkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBjb25zdCB2YWx1ZSA9IHJhd1Byb3BzW2tleV07XG4gICAgICBsZXQgY2FtZWxLZXk7XG4gICAgICBpZiAob3B0aW9ucyAmJiBoYXNPd24ob3B0aW9ucywgY2FtZWxLZXkgPSBjYW1lbGl6ZShrZXkpKSkge1xuICAgICAgICBpZiAoIW5lZWRDYXN0S2V5cyB8fCAhbmVlZENhc3RLZXlzLmluY2x1ZGVzKGNhbWVsS2V5KSkge1xuICAgICAgICAgIHByb3BzW2NhbWVsS2V5XSA9IHZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIChyYXdDYXN0VmFsdWVzIHx8IChyYXdDYXN0VmFsdWVzID0ge30pKVtjYW1lbEtleV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICghaXNFbWl0TGlzdGVuZXIoaW5zdGFuY2UuZW1pdHNPcHRpb25zLCBrZXkpKSB7XG4gICAgICAgIGlmICghKGtleSBpbiBhdHRycykgfHwgdmFsdWUgIT09IGF0dHJzW2tleV0pIHtcbiAgICAgICAgICBhdHRyc1trZXldID0gdmFsdWU7XG4gICAgICAgICAgaGFzQXR0cnNDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAobmVlZENhc3RLZXlzKSB7XG4gICAgY29uc3QgcmF3Q3VycmVudFByb3BzID0gdG9SYXcocHJvcHMpO1xuICAgIGNvbnN0IGNhc3RWYWx1ZXMgPSByYXdDYXN0VmFsdWVzIHx8IEVNUFRZX09CSjtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5lZWRDYXN0S2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3Qga2V5ID0gbmVlZENhc3RLZXlzW2ldO1xuICAgICAgcHJvcHNba2V5XSA9IHJlc29sdmVQcm9wVmFsdWUoXG4gICAgICAgIG9wdGlvbnMsXG4gICAgICAgIHJhd0N1cnJlbnRQcm9wcyxcbiAgICAgICAga2V5LFxuICAgICAgICBjYXN0VmFsdWVzW2tleV0sXG4gICAgICAgIGluc3RhbmNlLFxuICAgICAgICAhaGFzT3duKGNhc3RWYWx1ZXMsIGtleSlcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIHJldHVybiBoYXNBdHRyc0NoYW5nZWQ7XG59XG5mdW5jdGlvbiByZXNvbHZlUHJvcFZhbHVlKG9wdGlvbnMsIHByb3BzLCBrZXksIHZhbHVlLCBpbnN0YW5jZSwgaXNBYnNlbnQpIHtcbiAgY29uc3Qgb3B0ID0gb3B0aW9uc1trZXldO1xuICBpZiAob3B0ICE9IG51bGwpIHtcbiAgICBjb25zdCBoYXNEZWZhdWx0ID0gaGFzT3duKG9wdCwgXCJkZWZhdWx0XCIpO1xuICAgIGlmIChoYXNEZWZhdWx0ICYmIHZhbHVlID09PSB2b2lkIDApIHtcbiAgICAgIGNvbnN0IGRlZmF1bHRWYWx1ZSA9IG9wdC5kZWZhdWx0O1xuICAgICAgaWYgKG9wdC50eXBlICE9PSBGdW5jdGlvbiAmJiAhb3B0LnNraXBGYWN0b3J5ICYmIGlzRnVuY3Rpb24oZGVmYXVsdFZhbHVlKSkge1xuICAgICAgICBjb25zdCB7IHByb3BzRGVmYXVsdHMgfSA9IGluc3RhbmNlO1xuICAgICAgICBpZiAoa2V5IGluIHByb3BzRGVmYXVsdHMpIHtcbiAgICAgICAgICB2YWx1ZSA9IHByb3BzRGVmYXVsdHNba2V5XTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCByZXNldCA9IHNldEN1cnJlbnRJbnN0YW5jZShpbnN0YW5jZSk7XG4gICAgICAgICAgdmFsdWUgPSBwcm9wc0RlZmF1bHRzW2tleV0gPSBkZWZhdWx0VmFsdWUuY2FsbChcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBwcm9wc1xuICAgICAgICAgICk7XG4gICAgICAgICAgcmVzZXQoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsdWUgPSBkZWZhdWx0VmFsdWU7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChvcHRbMCAvKiBzaG91bGRDYXN0ICovXSkge1xuICAgICAgaWYgKGlzQWJzZW50ICYmICFoYXNEZWZhdWx0KSB7XG4gICAgICAgIHZhbHVlID0gZmFsc2U7XG4gICAgICB9IGVsc2UgaWYgKG9wdFsxIC8qIHNob3VsZENhc3RUcnVlICovXSAmJiAodmFsdWUgPT09IFwiXCIgfHwgdmFsdWUgPT09IGh5cGhlbmF0ZShrZXkpKSkge1xuICAgICAgICB2YWx1ZSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZVByb3BzT3B0aW9ucyhjb21wLCBhcHBDb250ZXh0LCBhc01peGluID0gZmFsc2UpIHtcbiAgY29uc3QgY2FjaGUgPSBhcHBDb250ZXh0LnByb3BzQ2FjaGU7XG4gIGNvbnN0IGNhY2hlZCA9IGNhY2hlLmdldChjb21wKTtcbiAgaWYgKGNhY2hlZCkge1xuICAgIHJldHVybiBjYWNoZWQ7XG4gIH1cbiAgY29uc3QgcmF3ID0gY29tcC5wcm9wcztcbiAgY29uc3Qgbm9ybWFsaXplZCA9IHt9O1xuICBjb25zdCBuZWVkQ2FzdEtleXMgPSBbXTtcbiAgbGV0IGhhc0V4dGVuZHMgPSBmYWxzZTtcbiAgaWYgKF9fVlVFX09QVElPTlNfQVBJX18gJiYgIWlzRnVuY3Rpb24oY29tcCkpIHtcbiAgICBjb25zdCBleHRlbmRQcm9wcyA9IChyYXcyKSA9PiB7XG4gICAgICBoYXNFeHRlbmRzID0gdHJ1ZTtcbiAgICAgIGNvbnN0IFtwcm9wcywga2V5c10gPSBub3JtYWxpemVQcm9wc09wdGlvbnMocmF3MiwgYXBwQ29udGV4dCwgdHJ1ZSk7XG4gICAgICBleHRlbmQobm9ybWFsaXplZCwgcHJvcHMpO1xuICAgICAgaWYgKGtleXMpIG5lZWRDYXN0S2V5cy5wdXNoKC4uLmtleXMpO1xuICAgIH07XG4gICAgaWYgKCFhc01peGluICYmIGFwcENvbnRleHQubWl4aW5zLmxlbmd0aCkge1xuICAgICAgYXBwQ29udGV4dC5taXhpbnMuZm9yRWFjaChleHRlbmRQcm9wcyk7XG4gICAgfVxuICAgIGlmIChjb21wLmV4dGVuZHMpIHtcbiAgICAgIGV4dGVuZFByb3BzKGNvbXAuZXh0ZW5kcyk7XG4gICAgfVxuICAgIGlmIChjb21wLm1peGlucykge1xuICAgICAgY29tcC5taXhpbnMuZm9yRWFjaChleHRlbmRQcm9wcyk7XG4gICAgfVxuICB9XG4gIGlmICghcmF3ICYmICFoYXNFeHRlbmRzKSB7XG4gICAgaWYgKGlzT2JqZWN0KGNvbXApKSB7XG4gICAgICBjYWNoZS5zZXQoY29tcCwgRU1QVFlfQVJSKTtcbiAgICB9XG4gICAgcmV0dXJuIEVNUFRZX0FSUjtcbiAgfVxuICBpZiAoaXNBcnJheShyYXcpKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByYXcubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFpc1N0cmluZyhyYXdbaV0pKSB7XG4gICAgICAgIHdhcm4kMShgcHJvcHMgbXVzdCBiZSBzdHJpbmdzIHdoZW4gdXNpbmcgYXJyYXkgc3ludGF4LmAsIHJhd1tpXSk7XG4gICAgICB9XG4gICAgICBjb25zdCBub3JtYWxpemVkS2V5ID0gY2FtZWxpemUocmF3W2ldKTtcbiAgICAgIGlmICh2YWxpZGF0ZVByb3BOYW1lKG5vcm1hbGl6ZWRLZXkpKSB7XG4gICAgICAgIG5vcm1hbGl6ZWRbbm9ybWFsaXplZEtleV0gPSBFTVBUWV9PQko7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKHJhdykge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFpc09iamVjdChyYXcpKSB7XG4gICAgICB3YXJuJDEoYGludmFsaWQgcHJvcHMgb3B0aW9uc2AsIHJhdyk7XG4gICAgfVxuICAgIGZvciAoY29uc3Qga2V5IGluIHJhdykge1xuICAgICAgY29uc3Qgbm9ybWFsaXplZEtleSA9IGNhbWVsaXplKGtleSk7XG4gICAgICBpZiAodmFsaWRhdGVQcm9wTmFtZShub3JtYWxpemVkS2V5KSkge1xuICAgICAgICBjb25zdCBvcHQgPSByYXdba2V5XTtcbiAgICAgICAgY29uc3QgcHJvcCA9IG5vcm1hbGl6ZWRbbm9ybWFsaXplZEtleV0gPSBpc0FycmF5KG9wdCkgfHwgaXNGdW5jdGlvbihvcHQpID8geyB0eXBlOiBvcHQgfSA6IGV4dGVuZCh7fSwgb3B0KTtcbiAgICAgICAgaWYgKHByb3ApIHtcbiAgICAgICAgICBjb25zdCBib29sZWFuSW5kZXggPSBnZXRUeXBlSW5kZXgoQm9vbGVhbiwgcHJvcC50eXBlKTtcbiAgICAgICAgICBjb25zdCBzdHJpbmdJbmRleCA9IGdldFR5cGVJbmRleChTdHJpbmcsIHByb3AudHlwZSk7XG4gICAgICAgICAgcHJvcFswIC8qIHNob3VsZENhc3QgKi9dID0gYm9vbGVhbkluZGV4ID4gLTE7XG4gICAgICAgICAgcHJvcFsxIC8qIHNob3VsZENhc3RUcnVlICovXSA9IHN0cmluZ0luZGV4IDwgMCB8fCBib29sZWFuSW5kZXggPCBzdHJpbmdJbmRleDtcbiAgICAgICAgICBpZiAoYm9vbGVhbkluZGV4ID4gLTEgfHwgaGFzT3duKHByb3AsIFwiZGVmYXVsdFwiKSkge1xuICAgICAgICAgICAgbmVlZENhc3RLZXlzLnB1c2gobm9ybWFsaXplZEtleSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGNvbnN0IHJlcyA9IFtub3JtYWxpemVkLCBuZWVkQ2FzdEtleXNdO1xuICBpZiAoaXNPYmplY3QoY29tcCkpIHtcbiAgICBjYWNoZS5zZXQoY29tcCwgcmVzKTtcbiAgfVxuICByZXR1cm4gcmVzO1xufVxuZnVuY3Rpb24gdmFsaWRhdGVQcm9wTmFtZShrZXkpIHtcbiAgaWYgKGtleVswXSAhPT0gXCIkXCIgJiYgIWlzUmVzZXJ2ZWRQcm9wKGtleSkpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgd2FybiQxKGBJbnZhbGlkIHByb3AgbmFtZTogXCIke2tleX1cIiBpcyBhIHJlc2VydmVkIHByb3BlcnR5LmApO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGdldFR5cGUoY3Rvcikge1xuICBpZiAoY3RvciA9PT0gbnVsbCkge1xuICAgIHJldHVybiBcIm51bGxcIjtcbiAgfVxuICBpZiAodHlwZW9mIGN0b3IgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHJldHVybiBjdG9yLm5hbWUgfHwgXCJcIjtcbiAgfSBlbHNlIGlmICh0eXBlb2YgY3RvciA9PT0gXCJvYmplY3RcIikge1xuICAgIGNvbnN0IG5hbWUgPSBjdG9yLmNvbnN0cnVjdG9yICYmIGN0b3IuY29uc3RydWN0b3IubmFtZTtcbiAgICByZXR1cm4gbmFtZSB8fCBcIlwiO1xuICB9XG4gIHJldHVybiBcIlwiO1xufVxuZnVuY3Rpb24gaXNTYW1lVHlwZShhLCBiKSB7XG4gIHJldHVybiBnZXRUeXBlKGEpID09PSBnZXRUeXBlKGIpO1xufVxuZnVuY3Rpb24gZ2V0VHlwZUluZGV4KHR5cGUsIGV4cGVjdGVkVHlwZXMpIHtcbiAgaWYgKGlzQXJyYXkoZXhwZWN0ZWRUeXBlcykpIHtcbiAgICByZXR1cm4gZXhwZWN0ZWRUeXBlcy5maW5kSW5kZXgoKHQpID0+IGlzU2FtZVR5cGUodCwgdHlwZSkpO1xuICB9IGVsc2UgaWYgKGlzRnVuY3Rpb24oZXhwZWN0ZWRUeXBlcykpIHtcbiAgICByZXR1cm4gaXNTYW1lVHlwZShleHBlY3RlZFR5cGVzLCB0eXBlKSA/IDAgOiAtMTtcbiAgfVxuICByZXR1cm4gLTE7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZVByb3BzKHJhd1Byb3BzLCBwcm9wcywgaW5zdGFuY2UpIHtcbiAgY29uc3QgcmVzb2x2ZWRWYWx1ZXMgPSB0b1Jhdyhwcm9wcyk7XG4gIGNvbnN0IG9wdGlvbnMgPSBpbnN0YW5jZS5wcm9wc09wdGlvbnNbMF07XG4gIGZvciAoY29uc3Qga2V5IGluIG9wdGlvbnMpIHtcbiAgICBsZXQgb3B0ID0gb3B0aW9uc1trZXldO1xuICAgIGlmIChvcHQgPT0gbnVsbCkgY29udGludWU7XG4gICAgdmFsaWRhdGVQcm9wKFxuICAgICAga2V5LFxuICAgICAgcmVzb2x2ZWRWYWx1ZXNba2V5XSxcbiAgICAgIG9wdCxcbiAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBzaGFsbG93UmVhZG9ubHkocmVzb2x2ZWRWYWx1ZXMpIDogcmVzb2x2ZWRWYWx1ZXMsXG4gICAgICAhaGFzT3duKHJhd1Byb3BzLCBrZXkpICYmICFoYXNPd24ocmF3UHJvcHMsIGh5cGhlbmF0ZShrZXkpKVxuICAgICk7XG4gIH1cbn1cbmZ1bmN0aW9uIHZhbGlkYXRlUHJvcChuYW1lLCB2YWx1ZSwgcHJvcCwgcHJvcHMsIGlzQWJzZW50KSB7XG4gIGNvbnN0IHsgdHlwZSwgcmVxdWlyZWQsIHZhbGlkYXRvciwgc2tpcENoZWNrIH0gPSBwcm9wO1xuICBpZiAocmVxdWlyZWQgJiYgaXNBYnNlbnQpIHtcbiAgICB3YXJuJDEoJ01pc3NpbmcgcmVxdWlyZWQgcHJvcDogXCInICsgbmFtZSArICdcIicpO1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAodmFsdWUgPT0gbnVsbCAmJiAhcmVxdWlyZWQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHR5cGUgIT0gbnVsbCAmJiB0eXBlICE9PSB0cnVlICYmICFza2lwQ2hlY2spIHtcbiAgICBsZXQgaXNWYWxpZCA9IGZhbHNlO1xuICAgIGNvbnN0IHR5cGVzID0gaXNBcnJheSh0eXBlKSA/IHR5cGUgOiBbdHlwZV07XG4gICAgY29uc3QgZXhwZWN0ZWRUeXBlcyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHlwZXMubGVuZ3RoICYmICFpc1ZhbGlkOyBpKyspIHtcbiAgICAgIGNvbnN0IHsgdmFsaWQsIGV4cGVjdGVkVHlwZSB9ID0gYXNzZXJ0VHlwZSh2YWx1ZSwgdHlwZXNbaV0pO1xuICAgICAgZXhwZWN0ZWRUeXBlcy5wdXNoKGV4cGVjdGVkVHlwZSB8fCBcIlwiKTtcbiAgICAgIGlzVmFsaWQgPSB2YWxpZDtcbiAgICB9XG4gICAgaWYgKCFpc1ZhbGlkKSB7XG4gICAgICB3YXJuJDEoZ2V0SW52YWxpZFR5cGVNZXNzYWdlKG5hbWUsIHZhbHVlLCBleHBlY3RlZFR5cGVzKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG4gIGlmICh2YWxpZGF0b3IgJiYgIXZhbGlkYXRvcih2YWx1ZSwgcHJvcHMpKSB7XG4gICAgd2FybiQxKCdJbnZhbGlkIHByb3A6IGN1c3RvbSB2YWxpZGF0b3IgY2hlY2sgZmFpbGVkIGZvciBwcm9wIFwiJyArIG5hbWUgKyAnXCIuJyk7XG4gIH1cbn1cbmNvbnN0IGlzU2ltcGxlVHlwZSA9IC8qIEBfX1BVUkVfXyAqLyBtYWtlTWFwKFxuICBcIlN0cmluZyxOdW1iZXIsQm9vbGVhbixGdW5jdGlvbixTeW1ib2wsQmlnSW50XCJcbik7XG5mdW5jdGlvbiBhc3NlcnRUeXBlKHZhbHVlLCB0eXBlKSB7XG4gIGxldCB2YWxpZDtcbiAgY29uc3QgZXhwZWN0ZWRUeXBlID0gZ2V0VHlwZSh0eXBlKTtcbiAgaWYgKGlzU2ltcGxlVHlwZShleHBlY3RlZFR5cGUpKSB7XG4gICAgY29uc3QgdCA9IHR5cGVvZiB2YWx1ZTtcbiAgICB2YWxpZCA9IHQgPT09IGV4cGVjdGVkVHlwZS50b0xvd2VyQ2FzZSgpO1xuICAgIGlmICghdmFsaWQgJiYgdCA9PT0gXCJvYmplY3RcIikge1xuICAgICAgdmFsaWQgPSB2YWx1ZSBpbnN0YW5jZW9mIHR5cGU7XG4gICAgfVxuICB9IGVsc2UgaWYgKGV4cGVjdGVkVHlwZSA9PT0gXCJPYmplY3RcIikge1xuICAgIHZhbGlkID0gaXNPYmplY3QodmFsdWUpO1xuICB9IGVsc2UgaWYgKGV4cGVjdGVkVHlwZSA9PT0gXCJBcnJheVwiKSB7XG4gICAgdmFsaWQgPSBpc0FycmF5KHZhbHVlKTtcbiAgfSBlbHNlIGlmIChleHBlY3RlZFR5cGUgPT09IFwibnVsbFwiKSB7XG4gICAgdmFsaWQgPSB2YWx1ZSA9PT0gbnVsbDtcbiAgfSBlbHNlIHtcbiAgICB2YWxpZCA9IHZhbHVlIGluc3RhbmNlb2YgdHlwZTtcbiAgfVxuICByZXR1cm4ge1xuICAgIHZhbGlkLFxuICAgIGV4cGVjdGVkVHlwZVxuICB9O1xufVxuZnVuY3Rpb24gZ2V0SW52YWxpZFR5cGVNZXNzYWdlKG5hbWUsIHZhbHVlLCBleHBlY3RlZFR5cGVzKSB7XG4gIGlmIChleHBlY3RlZFR5cGVzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBgUHJvcCB0eXBlIFtdIGZvciBwcm9wIFwiJHtuYW1lfVwiIHdvbid0IG1hdGNoIGFueXRoaW5nLiBEaWQgeW91IG1lYW4gdG8gdXNlIHR5cGUgQXJyYXkgaW5zdGVhZD9gO1xuICB9XG4gIGxldCBtZXNzYWdlID0gYEludmFsaWQgcHJvcDogdHlwZSBjaGVjayBmYWlsZWQgZm9yIHByb3AgXCIke25hbWV9XCIuIEV4cGVjdGVkICR7ZXhwZWN0ZWRUeXBlcy5tYXAoY2FwaXRhbGl6ZSkuam9pbihcIiB8IFwiKX1gO1xuICBjb25zdCBleHBlY3RlZFR5cGUgPSBleHBlY3RlZFR5cGVzWzBdO1xuICBjb25zdCByZWNlaXZlZFR5cGUgPSB0b1Jhd1R5cGUodmFsdWUpO1xuICBjb25zdCBleHBlY3RlZFZhbHVlID0gc3R5bGVWYWx1ZSh2YWx1ZSwgZXhwZWN0ZWRUeXBlKTtcbiAgY29uc3QgcmVjZWl2ZWRWYWx1ZSA9IHN0eWxlVmFsdWUodmFsdWUsIHJlY2VpdmVkVHlwZSk7XG4gIGlmIChleHBlY3RlZFR5cGVzLmxlbmd0aCA9PT0gMSAmJiBpc0V4cGxpY2FibGUoZXhwZWN0ZWRUeXBlKSAmJiAhaXNCb29sZWFuKGV4cGVjdGVkVHlwZSwgcmVjZWl2ZWRUeXBlKSkge1xuICAgIG1lc3NhZ2UgKz0gYCB3aXRoIHZhbHVlICR7ZXhwZWN0ZWRWYWx1ZX1gO1xuICB9XG4gIG1lc3NhZ2UgKz0gYCwgZ290ICR7cmVjZWl2ZWRUeXBlfSBgO1xuICBpZiAoaXNFeHBsaWNhYmxlKHJlY2VpdmVkVHlwZSkpIHtcbiAgICBtZXNzYWdlICs9IGB3aXRoIHZhbHVlICR7cmVjZWl2ZWRWYWx1ZX0uYDtcbiAgfVxuICByZXR1cm4gbWVzc2FnZTtcbn1cbmZ1bmN0aW9uIHN0eWxlVmFsdWUodmFsdWUsIHR5cGUpIHtcbiAgaWYgKHR5cGUgPT09IFwiU3RyaW5nXCIpIHtcbiAgICByZXR1cm4gYFwiJHt2YWx1ZX1cImA7XG4gIH0gZWxzZSBpZiAodHlwZSA9PT0gXCJOdW1iZXJcIikge1xuICAgIHJldHVybiBgJHtOdW1iZXIodmFsdWUpfWA7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGAke3ZhbHVlfWA7XG4gIH1cbn1cbmZ1bmN0aW9uIGlzRXhwbGljYWJsZSh0eXBlKSB7XG4gIGNvbnN0IGV4cGxpY2l0VHlwZXMgPSBbXCJzdHJpbmdcIiwgXCJudW1iZXJcIiwgXCJib29sZWFuXCJdO1xuICByZXR1cm4gZXhwbGljaXRUeXBlcy5zb21lKChlbGVtKSA9PiB0eXBlLnRvTG93ZXJDYXNlKCkgPT09IGVsZW0pO1xufVxuZnVuY3Rpb24gaXNCb29sZWFuKC4uLmFyZ3MpIHtcbiAgcmV0dXJuIGFyZ3Muc29tZSgoZWxlbSkgPT4gZWxlbS50b0xvd2VyQ2FzZSgpID09PSBcImJvb2xlYW5cIik7XG59XG5cbmNvbnN0IGlzSW50ZXJuYWxLZXkgPSAoa2V5KSA9PiBrZXlbMF0gPT09IFwiX1wiIHx8IGtleSA9PT0gXCIkc3RhYmxlXCI7XG5jb25zdCBub3JtYWxpemVTbG90VmFsdWUgPSAodmFsdWUpID0+IGlzQXJyYXkodmFsdWUpID8gdmFsdWUubWFwKG5vcm1hbGl6ZVZOb2RlKSA6IFtub3JtYWxpemVWTm9kZSh2YWx1ZSldO1xuY29uc3Qgbm9ybWFsaXplU2xvdCA9IChrZXksIHJhd1Nsb3QsIGN0eCkgPT4ge1xuICBpZiAocmF3U2xvdC5fbikge1xuICAgIHJldHVybiByYXdTbG90O1xuICB9XG4gIGNvbnN0IG5vcm1hbGl6ZWQgPSB3aXRoQ3R4KCguLi5hcmdzKSA9PiB7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgY3VycmVudEluc3RhbmNlICYmICghY3R4IHx8IGN0eC5yb290ID09PSBjdXJyZW50SW5zdGFuY2Uucm9vdCkpIHtcbiAgICAgIHdhcm4kMShcbiAgICAgICAgYFNsb3QgXCIke2tleX1cIiBpbnZva2VkIG91dHNpZGUgb2YgdGhlIHJlbmRlciBmdW5jdGlvbjogdGhpcyB3aWxsIG5vdCB0cmFjayBkZXBlbmRlbmNpZXMgdXNlZCBpbiB0aGUgc2xvdC4gSW52b2tlIHRoZSBzbG90IGZ1bmN0aW9uIGluc2lkZSB0aGUgcmVuZGVyIGZ1bmN0aW9uIGluc3RlYWQuYFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIG5vcm1hbGl6ZVNsb3RWYWx1ZShyYXdTbG90KC4uLmFyZ3MpKTtcbiAgfSwgY3R4KTtcbiAgbm9ybWFsaXplZC5fYyA9IGZhbHNlO1xuICByZXR1cm4gbm9ybWFsaXplZDtcbn07XG5jb25zdCBub3JtYWxpemVPYmplY3RTbG90cyA9IChyYXdTbG90cywgc2xvdHMsIGluc3RhbmNlKSA9PiB7XG4gIGNvbnN0IGN0eCA9IHJhd1Nsb3RzLl9jdHg7XG4gIGZvciAoY29uc3Qga2V5IGluIHJhd1Nsb3RzKSB7XG4gICAgaWYgKGlzSW50ZXJuYWxLZXkoa2V5KSkgY29udGludWU7XG4gICAgY29uc3QgdmFsdWUgPSByYXdTbG90c1trZXldO1xuICAgIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgICAgc2xvdHNba2V5XSA9IG5vcm1hbGl6ZVNsb3Qoa2V5LCB2YWx1ZSwgY3R4KTtcbiAgICB9IGVsc2UgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHRydWUpIHtcbiAgICAgICAgd2FybiQxKFxuICAgICAgICAgIGBOb24tZnVuY3Rpb24gdmFsdWUgZW5jb3VudGVyZWQgZm9yIHNsb3QgXCIke2tleX1cIi4gUHJlZmVyIGZ1bmN0aW9uIHNsb3RzIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2UuYFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZVNsb3RWYWx1ZSh2YWx1ZSk7XG4gICAgICBzbG90c1trZXldID0gKCkgPT4gbm9ybWFsaXplZDtcbiAgICB9XG4gIH1cbn07XG5jb25zdCBub3JtYWxpemVWTm9kZVNsb3RzID0gKGluc3RhbmNlLCBjaGlsZHJlbikgPT4ge1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhaXNLZWVwQWxpdmUoaW5zdGFuY2Uudm5vZGUpICYmIHRydWUpIHtcbiAgICB3YXJuJDEoXG4gICAgICBgTm9uLWZ1bmN0aW9uIHZhbHVlIGVuY291bnRlcmVkIGZvciBkZWZhdWx0IHNsb3QuIFByZWZlciBmdW5jdGlvbiBzbG90cyBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlLmBcbiAgICApO1xuICB9XG4gIGNvbnN0IG5vcm1hbGl6ZWQgPSBub3JtYWxpemVTbG90VmFsdWUoY2hpbGRyZW4pO1xuICBpbnN0YW5jZS5zbG90cy5kZWZhdWx0ID0gKCkgPT4gbm9ybWFsaXplZDtcbn07XG5jb25zdCBpbml0U2xvdHMgPSAoaW5zdGFuY2UsIGNoaWxkcmVuKSA9PiB7XG4gIGNvbnN0IHNsb3RzID0gaW5zdGFuY2Uuc2xvdHMgPSBjcmVhdGVJbnRlcm5hbE9iamVjdCgpO1xuICBpZiAoaW5zdGFuY2Uudm5vZGUuc2hhcGVGbGFnICYgMzIpIHtcbiAgICBjb25zdCB0eXBlID0gY2hpbGRyZW4uXztcbiAgICBpZiAodHlwZSkge1xuICAgICAgZXh0ZW5kKHNsb3RzLCBjaGlsZHJlbik7XG4gICAgICBkZWYoc2xvdHMsIFwiX1wiLCB0eXBlLCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbm9ybWFsaXplT2JqZWN0U2xvdHMoY2hpbGRyZW4sIHNsb3RzKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoY2hpbGRyZW4pIHtcbiAgICBub3JtYWxpemVWTm9kZVNsb3RzKGluc3RhbmNlLCBjaGlsZHJlbik7XG4gIH1cbn07XG5jb25zdCB1cGRhdGVTbG90cyA9IChpbnN0YW5jZSwgY2hpbGRyZW4sIG9wdGltaXplZCkgPT4ge1xuICBjb25zdCB7IHZub2RlLCBzbG90cyB9ID0gaW5zdGFuY2U7XG4gIGxldCBuZWVkRGVsZXRpb25DaGVjayA9IHRydWU7XG4gIGxldCBkZWxldGlvbkNvbXBhcmlzb25UYXJnZXQgPSBFTVBUWV9PQko7XG4gIGlmICh2bm9kZS5zaGFwZUZsYWcgJiAzMikge1xuICAgIGNvbnN0IHR5cGUgPSBjaGlsZHJlbi5fO1xuICAgIGlmICh0eXBlKSB7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBpc0htclVwZGF0aW5nKSB7XG4gICAgICAgIGV4dGVuZChzbG90cywgY2hpbGRyZW4pO1xuICAgICAgICB0cmlnZ2VyKGluc3RhbmNlLCBcInNldFwiLCBcIiRzbG90c1wiKTtcbiAgICAgIH0gZWxzZSBpZiAob3B0aW1pemVkICYmIHR5cGUgPT09IDEpIHtcbiAgICAgICAgbmVlZERlbGV0aW9uQ2hlY2sgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGV4dGVuZChzbG90cywgY2hpbGRyZW4pO1xuICAgICAgICBpZiAoIW9wdGltaXplZCAmJiB0eXBlID09PSAxKSB7XG4gICAgICAgICAgZGVsZXRlIHNsb3RzLl87XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbmVlZERlbGV0aW9uQ2hlY2sgPSAhY2hpbGRyZW4uJHN0YWJsZTtcbiAgICAgIG5vcm1hbGl6ZU9iamVjdFNsb3RzKGNoaWxkcmVuLCBzbG90cyk7XG4gICAgfVxuICAgIGRlbGV0aW9uQ29tcGFyaXNvblRhcmdldCA9IGNoaWxkcmVuO1xuICB9IGVsc2UgaWYgKGNoaWxkcmVuKSB7XG4gICAgbm9ybWFsaXplVk5vZGVTbG90cyhpbnN0YW5jZSwgY2hpbGRyZW4pO1xuICAgIGRlbGV0aW9uQ29tcGFyaXNvblRhcmdldCA9IHsgZGVmYXVsdDogMSB9O1xuICB9XG4gIGlmIChuZWVkRGVsZXRpb25DaGVjaykge1xuICAgIGZvciAoY29uc3Qga2V5IGluIHNsb3RzKSB7XG4gICAgICBpZiAoIWlzSW50ZXJuYWxLZXkoa2V5KSAmJiBkZWxldGlvbkNvbXBhcmlzb25UYXJnZXRba2V5XSA9PSBudWxsKSB7XG4gICAgICAgIGRlbGV0ZSBzbG90c1trZXldO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuZnVuY3Rpb24gc2V0UmVmKHJhd1JlZiwgb2xkUmF3UmVmLCBwYXJlbnRTdXNwZW5zZSwgdm5vZGUsIGlzVW5tb3VudCA9IGZhbHNlKSB7XG4gIGlmIChpc0FycmF5KHJhd1JlZikpIHtcbiAgICByYXdSZWYuZm9yRWFjaChcbiAgICAgIChyLCBpKSA9PiBzZXRSZWYoXG4gICAgICAgIHIsXG4gICAgICAgIG9sZFJhd1JlZiAmJiAoaXNBcnJheShvbGRSYXdSZWYpID8gb2xkUmF3UmVmW2ldIDogb2xkUmF3UmVmKSxcbiAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgIHZub2RlLFxuICAgICAgICBpc1VubW91bnRcbiAgICAgIClcbiAgICApO1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoaXNBc3luY1dyYXBwZXIodm5vZGUpICYmICFpc1VubW91bnQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgcmVmVmFsdWUgPSB2bm9kZS5zaGFwZUZsYWcgJiA0ID8gZ2V0Q29tcG9uZW50UHVibGljSW5zdGFuY2Uodm5vZGUuY29tcG9uZW50KSA6IHZub2RlLmVsO1xuICBjb25zdCB2YWx1ZSA9IGlzVW5tb3VudCA/IG51bGwgOiByZWZWYWx1ZTtcbiAgY29uc3QgeyBpOiBvd25lciwgcjogcmVmIH0gPSByYXdSZWY7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFvd25lcikge1xuICAgIHdhcm4kMShcbiAgICAgIGBNaXNzaW5nIHJlZiBvd25lciBjb250ZXh0LiByZWYgY2Fubm90IGJlIHVzZWQgb24gaG9pc3RlZCB2bm9kZXMuIEEgdm5vZGUgd2l0aCByZWYgbXVzdCBiZSBjcmVhdGVkIGluc2lkZSB0aGUgcmVuZGVyIGZ1bmN0aW9uLmBcbiAgICApO1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBvbGRSZWYgPSBvbGRSYXdSZWYgJiYgb2xkUmF3UmVmLnI7XG4gIGNvbnN0IHJlZnMgPSBvd25lci5yZWZzID09PSBFTVBUWV9PQkogPyBvd25lci5yZWZzID0ge30gOiBvd25lci5yZWZzO1xuICBjb25zdCBzZXR1cFN0YXRlID0gb3duZXIuc2V0dXBTdGF0ZTtcbiAgaWYgKG9sZFJlZiAhPSBudWxsICYmIG9sZFJlZiAhPT0gcmVmKSB7XG4gICAgaWYgKGlzU3RyaW5nKG9sZFJlZikpIHtcbiAgICAgIHJlZnNbb2xkUmVmXSA9IG51bGw7XG4gICAgICBpZiAoaGFzT3duKHNldHVwU3RhdGUsIG9sZFJlZikpIHtcbiAgICAgICAgc2V0dXBTdGF0ZVtvbGRSZWZdID0gbnVsbDtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGlzUmVmKG9sZFJlZikpIHtcbiAgICAgIG9sZFJlZi52YWx1ZSA9IG51bGw7XG4gICAgfVxuICB9XG4gIGlmIChpc0Z1bmN0aW9uKHJlZikpIHtcbiAgICBjYWxsV2l0aEVycm9ySGFuZGxpbmcocmVmLCBvd25lciwgMTIsIFt2YWx1ZSwgcmVmc10pO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IF9pc1N0cmluZyA9IGlzU3RyaW5nKHJlZik7XG4gICAgY29uc3QgX2lzUmVmID0gaXNSZWYocmVmKTtcbiAgICBpZiAoX2lzU3RyaW5nIHx8IF9pc1JlZikge1xuICAgICAgY29uc3QgZG9TZXQgPSAoKSA9PiB7XG4gICAgICAgIGlmIChyYXdSZWYuZikge1xuICAgICAgICAgIGNvbnN0IGV4aXN0aW5nID0gX2lzU3RyaW5nID8gaGFzT3duKHNldHVwU3RhdGUsIHJlZikgPyBzZXR1cFN0YXRlW3JlZl0gOiByZWZzW3JlZl0gOiByZWYudmFsdWU7XG4gICAgICAgICAgaWYgKGlzVW5tb3VudCkge1xuICAgICAgICAgICAgaXNBcnJheShleGlzdGluZykgJiYgcmVtb3ZlKGV4aXN0aW5nLCByZWZWYWx1ZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghaXNBcnJheShleGlzdGluZykpIHtcbiAgICAgICAgICAgICAgaWYgKF9pc1N0cmluZykge1xuICAgICAgICAgICAgICAgIHJlZnNbcmVmXSA9IFtyZWZWYWx1ZV07XG4gICAgICAgICAgICAgICAgaWYgKGhhc093bihzZXR1cFN0YXRlLCByZWYpKSB7XG4gICAgICAgICAgICAgICAgICBzZXR1cFN0YXRlW3JlZl0gPSByZWZzW3JlZl07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlZi52YWx1ZSA9IFtyZWZWYWx1ZV07XG4gICAgICAgICAgICAgICAgaWYgKHJhd1JlZi5rKSByZWZzW3Jhd1JlZi5rXSA9IHJlZi52YWx1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICghZXhpc3RpbmcuaW5jbHVkZXMocmVmVmFsdWUpKSB7XG4gICAgICAgICAgICAgIGV4aXN0aW5nLnB1c2gocmVmVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChfaXNTdHJpbmcpIHtcbiAgICAgICAgICByZWZzW3JlZl0gPSB2YWx1ZTtcbiAgICAgICAgICBpZiAoaGFzT3duKHNldHVwU3RhdGUsIHJlZikpIHtcbiAgICAgICAgICAgIHNldHVwU3RhdGVbcmVmXSA9IHZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChfaXNSZWYpIHtcbiAgICAgICAgICByZWYudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICBpZiAocmF3UmVmLmspIHJlZnNbcmF3UmVmLmtdID0gdmFsdWU7XG4gICAgICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHdhcm4kMShcIkludmFsaWQgdGVtcGxhdGUgcmVmIHR5cGU6XCIsIHJlZiwgYCgke3R5cGVvZiByZWZ9KWApO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIGRvU2V0LmlkID0gLTE7XG4gICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdChkb1NldCwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZG9TZXQoKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIHdhcm4kMShcIkludmFsaWQgdGVtcGxhdGUgcmVmIHR5cGU6XCIsIHJlZiwgYCgke3R5cGVvZiByZWZ9KWApO1xuICAgIH1cbiAgfVxufVxuXG5sZXQgaGFzTG9nZ2VkTWlzbWF0Y2hFcnJvciA9IGZhbHNlO1xuY29uc3QgbG9nTWlzbWF0Y2hFcnJvciA9ICgpID0+IHtcbiAgaWYgKGhhc0xvZ2dlZE1pc21hdGNoRXJyb3IpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc29sZS5lcnJvcihcIkh5ZHJhdGlvbiBjb21wbGV0ZWQgYnV0IGNvbnRhaW5zIG1pc21hdGNoZXMuXCIpO1xuICBoYXNMb2dnZWRNaXNtYXRjaEVycm9yID0gdHJ1ZTtcbn07XG5jb25zdCBpc1NWR0NvbnRhaW5lciA9IChjb250YWluZXIpID0+IGNvbnRhaW5lci5uYW1lc3BhY2VVUkkuaW5jbHVkZXMoXCJzdmdcIikgJiYgY29udGFpbmVyLnRhZ05hbWUgIT09IFwiZm9yZWlnbk9iamVjdFwiO1xuY29uc3QgaXNNYXRoTUxDb250YWluZXIgPSAoY29udGFpbmVyKSA9PiBjb250YWluZXIubmFtZXNwYWNlVVJJLmluY2x1ZGVzKFwiTWF0aE1MXCIpO1xuY29uc3QgZ2V0Q29udGFpbmVyVHlwZSA9IChjb250YWluZXIpID0+IHtcbiAgaWYgKGlzU1ZHQ29udGFpbmVyKGNvbnRhaW5lcikpIHJldHVybiBcInN2Z1wiO1xuICBpZiAoaXNNYXRoTUxDb250YWluZXIoY29udGFpbmVyKSkgcmV0dXJuIFwibWF0aG1sXCI7XG4gIHJldHVybiB2b2lkIDA7XG59O1xuY29uc3QgaXNDb21tZW50ID0gKG5vZGUpID0+IG5vZGUubm9kZVR5cGUgPT09IDggLyogQ09NTUVOVCAqLztcbmZ1bmN0aW9uIGNyZWF0ZUh5ZHJhdGlvbkZ1bmN0aW9ucyhyZW5kZXJlckludGVybmFscykge1xuICBjb25zdCB7XG4gICAgbXQ6IG1vdW50Q29tcG9uZW50LFxuICAgIHA6IHBhdGNoLFxuICAgIG86IHtcbiAgICAgIHBhdGNoUHJvcCxcbiAgICAgIGNyZWF0ZVRleHQsXG4gICAgICBuZXh0U2libGluZyxcbiAgICAgIHBhcmVudE5vZGUsXG4gICAgICByZW1vdmUsXG4gICAgICBpbnNlcnQsXG4gICAgICBjcmVhdGVDb21tZW50XG4gICAgfVxuICB9ID0gcmVuZGVyZXJJbnRlcm5hbHM7XG4gIGNvbnN0IGh5ZHJhdGUgPSAodm5vZGUsIGNvbnRhaW5lcikgPT4ge1xuICAgIGlmICghY29udGFpbmVyLmhhc0NoaWxkTm9kZXMoKSkge1xuICAgICAgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9IWURSQVRJT05fTUlTTUFUQ0hfREVUQUlMU19fKSAmJiB3YXJuJDEoXG4gICAgICAgIGBBdHRlbXB0aW5nIHRvIGh5ZHJhdGUgZXhpc3RpbmcgbWFya3VwIGJ1dCBjb250YWluZXIgaXMgZW1wdHkuIFBlcmZvcm1pbmcgZnVsbCBtb3VudCBpbnN0ZWFkLmBcbiAgICAgICk7XG4gICAgICBwYXRjaChudWxsLCB2bm9kZSwgY29udGFpbmVyKTtcbiAgICAgIGZsdXNoUG9zdEZsdXNoQ2JzKCk7XG4gICAgICBjb250YWluZXIuX3Zub2RlID0gdm5vZGU7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGh5ZHJhdGVOb2RlKGNvbnRhaW5lci5maXJzdENoaWxkLCB2bm9kZSwgbnVsbCwgbnVsbCwgbnVsbCk7XG4gICAgZmx1c2hQb3N0Rmx1c2hDYnMoKTtcbiAgICBjb250YWluZXIuX3Zub2RlID0gdm5vZGU7XG4gIH07XG4gIGNvbnN0IGh5ZHJhdGVOb2RlID0gKG5vZGUsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCA9IGZhbHNlKSA9PiB7XG4gICAgb3B0aW1pemVkID0gb3B0aW1pemVkIHx8ICEhdm5vZGUuZHluYW1pY0NoaWxkcmVuO1xuICAgIGNvbnN0IGlzRnJhZ21lbnRTdGFydCA9IGlzQ29tbWVudChub2RlKSAmJiBub2RlLmRhdGEgPT09IFwiW1wiO1xuICAgIGNvbnN0IG9uTWlzbWF0Y2ggPSAoKSA9PiBoYW5kbGVNaXNtYXRjaChcbiAgICAgIG5vZGUsXG4gICAgICB2bm9kZSxcbiAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgaXNGcmFnbWVudFN0YXJ0XG4gICAgKTtcbiAgICBjb25zdCB7IHR5cGUsIHJlZiwgc2hhcGVGbGFnLCBwYXRjaEZsYWcgfSA9IHZub2RlO1xuICAgIGxldCBkb21UeXBlID0gbm9kZS5ub2RlVHlwZTtcbiAgICB2bm9kZS5lbCA9IG5vZGU7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICBpZiAoIShcIl9fdm5vZGVcIiBpbiBub2RlKSkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobm9kZSwgXCJfX3Zub2RlXCIsIHtcbiAgICAgICAgICB2YWx1ZTogdm5vZGUsXG4gICAgICAgICAgZW51bWVyYWJsZTogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAoIShcIl9fdnVlUGFyZW50Q29tcG9uZW50XCIgaW4gbm9kZSkpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5vZGUsIFwiX192dWVQYXJlbnRDb21wb25lbnRcIiwge1xuICAgICAgICAgIHZhbHVlOiBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgZW51bWVyYWJsZTogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChwYXRjaEZsYWcgPT09IC0yKSB7XG4gICAgICBvcHRpbWl6ZWQgPSBmYWxzZTtcbiAgICAgIHZub2RlLmR5bmFtaWNDaGlsZHJlbiA9IG51bGw7XG4gICAgfVxuICAgIGxldCBuZXh0Tm9kZSA9IG51bGw7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIFRleHQ6XG4gICAgICAgIGlmIChkb21UeXBlICE9PSAzIC8qIFRFWFQgKi8pIHtcbiAgICAgICAgICBpZiAodm5vZGUuY2hpbGRyZW4gPT09IFwiXCIpIHtcbiAgICAgICAgICAgIGluc2VydCh2bm9kZS5lbCA9IGNyZWF0ZVRleHQoXCJcIiksIHBhcmVudE5vZGUobm9kZSksIG5vZGUpO1xuICAgICAgICAgICAgbmV4dE5vZGUgPSBub2RlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXh0Tm9kZSA9IG9uTWlzbWF0Y2goKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKG5vZGUuZGF0YSAhPT0gdm5vZGUuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfSFlEUkFUSU9OX01JU01BVENIX0RFVEFJTFNfXykgJiYgd2FybiQxKFxuICAgICAgICAgICAgICBgSHlkcmF0aW9uIHRleHQgbWlzbWF0Y2ggaW5gLFxuICAgICAgICAgICAgICBub2RlLnBhcmVudE5vZGUsXG4gICAgICAgICAgICAgIGBcbiAgLSByZW5kZXJlZCBvbiBzZXJ2ZXI6ICR7SlNPTi5zdHJpbmdpZnkoXG4gICAgICAgICAgICAgICAgbm9kZS5kYXRhXG4gICAgICAgICAgICAgICl9XG4gIC0gZXhwZWN0ZWQgb24gY2xpZW50OiAke0pTT04uc3RyaW5naWZ5KHZub2RlLmNoaWxkcmVuKX1gXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgbG9nTWlzbWF0Y2hFcnJvcigpO1xuICAgICAgICAgICAgbm9kZS5kYXRhID0gdm5vZGUuY2hpbGRyZW47XG4gICAgICAgICAgfVxuICAgICAgICAgIG5leHROb2RlID0gbmV4dFNpYmxpbmcobm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIENvbW1lbnQ6XG4gICAgICAgIGlmIChpc1RlbXBsYXRlTm9kZShub2RlKSkge1xuICAgICAgICAgIG5leHROb2RlID0gbmV4dFNpYmxpbmcobm9kZSk7XG4gICAgICAgICAgcmVwbGFjZU5vZGUoXG4gICAgICAgICAgICB2bm9kZS5lbCA9IG5vZGUuY29udGVudC5maXJzdENoaWxkLFxuICAgICAgICAgICAgbm9kZSxcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudFxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAoZG9tVHlwZSAhPT0gOCAvKiBDT01NRU5UICovIHx8IGlzRnJhZ21lbnRTdGFydCkge1xuICAgICAgICAgIG5leHROb2RlID0gb25NaXNtYXRjaCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5leHROb2RlID0gbmV4dFNpYmxpbmcobm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFN0YXRpYzpcbiAgICAgICAgaWYgKGlzRnJhZ21lbnRTdGFydCkge1xuICAgICAgICAgIG5vZGUgPSBuZXh0U2libGluZyhub2RlKTtcbiAgICAgICAgICBkb21UeXBlID0gbm9kZS5ub2RlVHlwZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZG9tVHlwZSA9PT0gMSAvKiBFTEVNRU5UICovIHx8IGRvbVR5cGUgPT09IDMgLyogVEVYVCAqLykge1xuICAgICAgICAgIG5leHROb2RlID0gbm9kZTtcbiAgICAgICAgICBjb25zdCBuZWVkVG9BZG9wdENvbnRlbnQgPSAhdm5vZGUuY2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdm5vZGUuc3RhdGljQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgaWYgKG5lZWRUb0Fkb3B0Q29udGVudClcbiAgICAgICAgICAgICAgdm5vZGUuY2hpbGRyZW4gKz0gbmV4dE5vZGUubm9kZVR5cGUgPT09IDEgLyogRUxFTUVOVCAqLyA/IG5leHROb2RlLm91dGVySFRNTCA6IG5leHROb2RlLmRhdGE7XG4gICAgICAgICAgICBpZiAoaSA9PT0gdm5vZGUuc3RhdGljQ291bnQgLSAxKSB7XG4gICAgICAgICAgICAgIHZub2RlLmFuY2hvciA9IG5leHROb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV4dE5vZGUgPSBuZXh0U2libGluZyhuZXh0Tm9kZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBpc0ZyYWdtZW50U3RhcnQgPyBuZXh0U2libGluZyhuZXh0Tm9kZSkgOiBuZXh0Tm9kZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvbk1pc21hdGNoKCk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEZyYWdtZW50OlxuICAgICAgICBpZiAoIWlzRnJhZ21lbnRTdGFydCkge1xuICAgICAgICAgIG5leHROb2RlID0gb25NaXNtYXRjaCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5leHROb2RlID0gaHlkcmF0ZUZyYWdtZW50KFxuICAgICAgICAgICAgbm9kZSxcbiAgICAgICAgICAgIHZub2RlLFxuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKHNoYXBlRmxhZyAmIDEpIHtcbiAgICAgICAgICBpZiAoKGRvbVR5cGUgIT09IDEgLyogRUxFTUVOVCAqLyB8fCB2bm9kZS50eXBlLnRvTG93ZXJDYXNlKCkgIT09IG5vZGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpKSAmJiAhaXNUZW1wbGF0ZU5vZGUobm9kZSkpIHtcbiAgICAgICAgICAgIG5leHROb2RlID0gb25NaXNtYXRjaCgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXh0Tm9kZSA9IGh5ZHJhdGVFbGVtZW50KFxuICAgICAgICAgICAgICBub2RlLFxuICAgICAgICAgICAgICB2bm9kZSxcbiAgICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHNoYXBlRmxhZyAmIDYpIHtcbiAgICAgICAgICB2bm9kZS5zbG90U2NvcGVJZHMgPSBzbG90U2NvcGVJZHM7XG4gICAgICAgICAgY29uc3QgY29udGFpbmVyID0gcGFyZW50Tm9kZShub2RlKTtcbiAgICAgICAgICBpZiAoaXNGcmFnbWVudFN0YXJ0KSB7XG4gICAgICAgICAgICBuZXh0Tm9kZSA9IGxvY2F0ZUNsb3NpbmdBbmNob3Iobm9kZSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChpc0NvbW1lbnQobm9kZSkgJiYgbm9kZS5kYXRhID09PSBcInRlbGVwb3J0IHN0YXJ0XCIpIHtcbiAgICAgICAgICAgIG5leHROb2RlID0gbG9jYXRlQ2xvc2luZ0FuY2hvcihub2RlLCBub2RlLmRhdGEsIFwidGVsZXBvcnQgZW5kXCIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXh0Tm9kZSA9IG5leHRTaWJsaW5nKG5vZGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtb3VudENvbXBvbmVudChcbiAgICAgICAgICAgIHZub2RlLFxuICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgZ2V0Q29udGFpbmVyVHlwZShjb250YWluZXIpLFxuICAgICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoaXNBc3luY1dyYXBwZXIodm5vZGUpKSB7XG4gICAgICAgICAgICBsZXQgc3ViVHJlZTtcbiAgICAgICAgICAgIGlmIChpc0ZyYWdtZW50U3RhcnQpIHtcbiAgICAgICAgICAgICAgc3ViVHJlZSA9IGNyZWF0ZVZOb2RlKEZyYWdtZW50KTtcbiAgICAgICAgICAgICAgc3ViVHJlZS5hbmNob3IgPSBuZXh0Tm9kZSA/IG5leHROb2RlLnByZXZpb3VzU2libGluZyA6IGNvbnRhaW5lci5sYXN0Q2hpbGQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzdWJUcmVlID0gbm9kZS5ub2RlVHlwZSA9PT0gMyA/IGNyZWF0ZVRleHRWTm9kZShcIlwiKSA6IGNyZWF0ZVZOb2RlKFwiZGl2XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3ViVHJlZS5lbCA9IG5vZGU7XG4gICAgICAgICAgICB2bm9kZS5jb21wb25lbnQuc3ViVHJlZSA9IHN1YlRyZWU7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHNoYXBlRmxhZyAmIDY0KSB7XG4gICAgICAgICAgaWYgKGRvbVR5cGUgIT09IDggLyogQ09NTUVOVCAqLykge1xuICAgICAgICAgICAgbmV4dE5vZGUgPSBvbk1pc21hdGNoKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5leHROb2RlID0gdm5vZGUudHlwZS5oeWRyYXRlKFxuICAgICAgICAgICAgICBub2RlLFxuICAgICAgICAgICAgICB2bm9kZSxcbiAgICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgICBvcHRpbWl6ZWQsXG4gICAgICAgICAgICAgIHJlbmRlcmVySW50ZXJuYWxzLFxuICAgICAgICAgICAgICBoeWRyYXRlQ2hpbGRyZW5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHNoYXBlRmxhZyAmIDEyOCkge1xuICAgICAgICAgIG5leHROb2RlID0gdm5vZGUudHlwZS5oeWRyYXRlKFxuICAgICAgICAgICAgbm9kZSxcbiAgICAgICAgICAgIHZub2RlLFxuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICBnZXRDb250YWluZXJUeXBlKHBhcmVudE5vZGUobm9kZSkpLFxuICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgb3B0aW1pemVkLFxuICAgICAgICAgICAgcmVuZGVyZXJJbnRlcm5hbHMsXG4gICAgICAgICAgICBoeWRyYXRlTm9kZVxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0hZRFJBVElPTl9NSVNNQVRDSF9ERVRBSUxTX18pIHtcbiAgICAgICAgICB3YXJuJDEoXCJJbnZhbGlkIEhvc3RWTm9kZSB0eXBlOlwiLCB0eXBlLCBgKCR7dHlwZW9mIHR5cGV9KWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChyZWYgIT0gbnVsbCkge1xuICAgICAgc2V0UmVmKHJlZiwgbnVsbCwgcGFyZW50U3VzcGVuc2UsIHZub2RlKTtcbiAgICB9XG4gICAgcmV0dXJuIG5leHROb2RlO1xuICB9O1xuICBjb25zdCBoeWRyYXRlRWxlbWVudCA9IChlbCwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKSA9PiB7XG4gICAgb3B0aW1pemVkID0gb3B0aW1pemVkIHx8ICEhdm5vZGUuZHluYW1pY0NoaWxkcmVuO1xuICAgIGNvbnN0IHsgdHlwZSwgcHJvcHMsIHBhdGNoRmxhZywgc2hhcGVGbGFnLCBkaXJzLCB0cmFuc2l0aW9uIH0gPSB2bm9kZTtcbiAgICBjb25zdCBmb3JjZVBhdGNoID0gdHlwZSA9PT0gXCJpbnB1dFwiIHx8IHR5cGUgPT09IFwib3B0aW9uXCI7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgZm9yY2VQYXRjaCB8fCBwYXRjaEZsYWcgIT09IC0xKSB7XG4gICAgICBpZiAoZGlycykge1xuICAgICAgICBpbnZva2VEaXJlY3RpdmVIb29rKHZub2RlLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIFwiY3JlYXRlZFwiKTtcbiAgICAgIH1cbiAgICAgIGxldCBuZWVkQ2FsbFRyYW5zaXRpb25Ib29rcyA9IGZhbHNlO1xuICAgICAgaWYgKGlzVGVtcGxhdGVOb2RlKGVsKSkge1xuICAgICAgICBuZWVkQ2FsbFRyYW5zaXRpb25Ib29rcyA9IG5lZWRUcmFuc2l0aW9uKHBhcmVudFN1c3BlbnNlLCB0cmFuc2l0aW9uKSAmJiBwYXJlbnRDb21wb25lbnQgJiYgcGFyZW50Q29tcG9uZW50LnZub2RlLnByb3BzICYmIHBhcmVudENvbXBvbmVudC52bm9kZS5wcm9wcy5hcHBlYXI7XG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBlbC5jb250ZW50LmZpcnN0Q2hpbGQ7XG4gICAgICAgIGlmIChuZWVkQ2FsbFRyYW5zaXRpb25Ib29rcykge1xuICAgICAgICAgIHRyYW5zaXRpb24uYmVmb3JlRW50ZXIoY29udGVudCk7XG4gICAgICAgIH1cbiAgICAgICAgcmVwbGFjZU5vZGUoY29udGVudCwgZWwsIHBhcmVudENvbXBvbmVudCk7XG4gICAgICAgIHZub2RlLmVsID0gZWwgPSBjb250ZW50O1xuICAgICAgfVxuICAgICAgaWYgKHNoYXBlRmxhZyAmIDE2ICYmIC8vIHNraXAgaWYgZWxlbWVudCBoYXMgaW5uZXJIVE1MIC8gdGV4dENvbnRlbnRcbiAgICAgICEocHJvcHMgJiYgKHByb3BzLmlubmVySFRNTCB8fCBwcm9wcy50ZXh0Q29udGVudCkpKSB7XG4gICAgICAgIGxldCBuZXh0ID0gaHlkcmF0ZUNoaWxkcmVuKFxuICAgICAgICAgIGVsLmZpcnN0Q2hpbGQsXG4gICAgICAgICAgdm5vZGUsXG4gICAgICAgICAgZWwsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgKTtcbiAgICAgICAgbGV0IGhhc1dhcm5lZCA9IGZhbHNlO1xuICAgICAgICB3aGlsZSAobmV4dCkge1xuICAgICAgICAgIGlmICgoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0hZRFJBVElPTl9NSVNNQVRDSF9ERVRBSUxTX18pICYmICFoYXNXYXJuZWQpIHtcbiAgICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgICAgYEh5ZHJhdGlvbiBjaGlsZHJlbiBtaXNtYXRjaCBvbmAsXG4gICAgICAgICAgICAgIGVsLFxuICAgICAgICAgICAgICBgXG5TZXJ2ZXIgcmVuZGVyZWQgZWxlbWVudCBjb250YWlucyBtb3JlIGNoaWxkIG5vZGVzIHRoYW4gY2xpZW50IHZkb20uYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGhhc1dhcm5lZCA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxvZ01pc21hdGNoRXJyb3IoKTtcbiAgICAgICAgICBjb25zdCBjdXIgPSBuZXh0O1xuICAgICAgICAgIG5leHQgPSBuZXh0Lm5leHRTaWJsaW5nO1xuICAgICAgICAgIHJlbW92ZShjdXIpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHNoYXBlRmxhZyAmIDgpIHtcbiAgICAgICAgaWYgKGVsLnRleHRDb250ZW50ICE9PSB2bm9kZS5jaGlsZHJlbikge1xuICAgICAgICAgICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfSFlEUkFUSU9OX01JU01BVENIX0RFVEFJTFNfXykgJiYgd2FybiQxKFxuICAgICAgICAgICAgYEh5ZHJhdGlvbiB0ZXh0IGNvbnRlbnQgbWlzbWF0Y2ggb25gLFxuICAgICAgICAgICAgZWwsXG4gICAgICAgICAgICBgXG4gIC0gcmVuZGVyZWQgb24gc2VydmVyOiAke2VsLnRleHRDb250ZW50fVxuICAtIGV4cGVjdGVkIG9uIGNsaWVudDogJHt2bm9kZS5jaGlsZHJlbn1gXG4gICAgICAgICAgKTtcbiAgICAgICAgICBsb2dNaXNtYXRjaEVycm9yKCk7XG4gICAgICAgICAgZWwudGV4dENvbnRlbnQgPSB2bm9kZS5jaGlsZHJlbjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHByb3BzKSB7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfSFlEUkFUSU9OX01JU01BVENIX0RFVEFJTFNfXyB8fCBmb3JjZVBhdGNoIHx8ICFvcHRpbWl6ZWQgfHwgcGF0Y2hGbGFnICYgKDE2IHwgMzIpKSB7XG4gICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcHJvcHMpIHtcbiAgICAgICAgICAgIGlmICgoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0hZRFJBVElPTl9NSVNNQVRDSF9ERVRBSUxTX18pICYmIHByb3BIYXNNaXNtYXRjaChlbCwga2V5LCBwcm9wc1trZXldLCB2bm9kZSwgcGFyZW50Q29tcG9uZW50KSkge1xuICAgICAgICAgICAgICBsb2dNaXNtYXRjaEVycm9yKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZm9yY2VQYXRjaCAmJiAoa2V5LmVuZHNXaXRoKFwidmFsdWVcIikgfHwga2V5ID09PSBcImluZGV0ZXJtaW5hdGVcIikgfHwgaXNPbihrZXkpICYmICFpc1Jlc2VydmVkUHJvcChrZXkpIHx8IC8vIGZvcmNlIGh5ZHJhdGUgdi1iaW5kIHdpdGggLnByb3AgbW9kaWZpZXJzXG4gICAgICAgICAgICBrZXlbMF0gPT09IFwiLlwiKSB7XG4gICAgICAgICAgICAgIHBhdGNoUHJvcChcbiAgICAgICAgICAgICAgICBlbCxcbiAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICBwcm9wc1trZXldLFxuICAgICAgICAgICAgICAgIHZvaWQgMCxcbiAgICAgICAgICAgICAgICB2b2lkIDAsXG4gICAgICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50XG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHByb3BzLm9uQ2xpY2spIHtcbiAgICAgICAgICBwYXRjaFByb3AoXG4gICAgICAgICAgICBlbCxcbiAgICAgICAgICAgIFwib25DbGlja1wiLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIHByb3BzLm9uQ2xpY2ssXG4gICAgICAgICAgICB2b2lkIDAsXG4gICAgICAgICAgICB2b2lkIDAsXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnRcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsZXQgdm5vZGVIb29rcztcbiAgICAgIGlmICh2bm9kZUhvb2tzID0gcHJvcHMgJiYgcHJvcHMub25Wbm9kZUJlZm9yZU1vdW50KSB7XG4gICAgICAgIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2tzLCBwYXJlbnRDb21wb25lbnQsIHZub2RlKTtcbiAgICAgIH1cbiAgICAgIGlmIChkaXJzKSB7XG4gICAgICAgIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgXCJiZWZvcmVNb3VudFwiKTtcbiAgICAgIH1cbiAgICAgIGlmICgodm5vZGVIb29rcyA9IHByb3BzICYmIHByb3BzLm9uVm5vZGVNb3VudGVkKSB8fCBkaXJzIHx8IG5lZWRDYWxsVHJhbnNpdGlvbkhvb2tzKSB7XG4gICAgICAgIHF1ZXVlRWZmZWN0V2l0aFN1c3BlbnNlKCgpID0+IHtcbiAgICAgICAgICB2bm9kZUhvb2tzICYmIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2tzLCBwYXJlbnRDb21wb25lbnQsIHZub2RlKTtcbiAgICAgICAgICBuZWVkQ2FsbFRyYW5zaXRpb25Ib29rcyAmJiB0cmFuc2l0aW9uLmVudGVyKGVsKTtcbiAgICAgICAgICBkaXJzICYmIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgXCJtb3VudGVkXCIpO1xuICAgICAgICB9LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBlbC5uZXh0U2libGluZztcbiAgfTtcbiAgY29uc3QgaHlkcmF0ZUNoaWxkcmVuID0gKG5vZGUsIHBhcmVudFZOb2RlLCBjb250YWluZXIsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKSA9PiB7XG4gICAgb3B0aW1pemVkID0gb3B0aW1pemVkIHx8ICEhcGFyZW50Vk5vZGUuZHluYW1pY0NoaWxkcmVuO1xuICAgIGNvbnN0IGNoaWxkcmVuID0gcGFyZW50Vk5vZGUuY2hpbGRyZW47XG4gICAgY29uc3QgbCA9IGNoaWxkcmVuLmxlbmd0aDtcbiAgICBsZXQgaGFzV2FybmVkID0gZmFsc2U7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgIGNvbnN0IHZub2RlID0gb3B0aW1pemVkID8gY2hpbGRyZW5baV0gOiBjaGlsZHJlbltpXSA9IG5vcm1hbGl6ZVZOb2RlKGNoaWxkcmVuW2ldKTtcbiAgICAgIGlmIChub2RlKSB7XG4gICAgICAgIG5vZGUgPSBoeWRyYXRlTm9kZShcbiAgICAgICAgICBub2RlLFxuICAgICAgICAgIHZub2RlLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKHZub2RlLnR5cGUgPT09IFRleHQgJiYgIXZub2RlLmNoaWxkcmVuKSB7XG4gICAgICAgIGluc2VydCh2bm9kZS5lbCA9IGNyZWF0ZVRleHQoXCJcIiksIGNvbnRhaW5lcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9IWURSQVRJT05fTUlTTUFUQ0hfREVUQUlMU19fKSAmJiAhaGFzV2FybmVkKSB7XG4gICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgYEh5ZHJhdGlvbiBjaGlsZHJlbiBtaXNtYXRjaCBvbmAsXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBgXG5TZXJ2ZXIgcmVuZGVyZWQgZWxlbWVudCBjb250YWlucyBmZXdlciBjaGlsZCBub2RlcyB0aGFuIGNsaWVudCB2ZG9tLmBcbiAgICAgICAgICApO1xuICAgICAgICAgIGhhc1dhcm5lZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgbG9nTWlzbWF0Y2hFcnJvcigpO1xuICAgICAgICBwYXRjaChcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIHZub2RlLFxuICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICBnZXRDb250YWluZXJUeXBlKGNvbnRhaW5lciksXG4gICAgICAgICAgc2xvdFNjb3BlSWRzXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBub2RlO1xuICB9O1xuICBjb25zdCBoeWRyYXRlRnJhZ21lbnQgPSAobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKSA9PiB7XG4gICAgY29uc3QgeyBzbG90U2NvcGVJZHM6IGZyYWdtZW50U2xvdFNjb3BlSWRzIH0gPSB2bm9kZTtcbiAgICBpZiAoZnJhZ21lbnRTbG90U2NvcGVJZHMpIHtcbiAgICAgIHNsb3RTY29wZUlkcyA9IHNsb3RTY29wZUlkcyA/IHNsb3RTY29wZUlkcy5jb25jYXQoZnJhZ21lbnRTbG90U2NvcGVJZHMpIDogZnJhZ21lbnRTbG90U2NvcGVJZHM7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRhaW5lciA9IHBhcmVudE5vZGUobm9kZSk7XG4gICAgY29uc3QgbmV4dCA9IGh5ZHJhdGVDaGlsZHJlbihcbiAgICAgIG5leHRTaWJsaW5nKG5vZGUpLFxuICAgICAgdm5vZGUsXG4gICAgICBjb250YWluZXIsXG4gICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgIG9wdGltaXplZFxuICAgICk7XG4gICAgaWYgKG5leHQgJiYgaXNDb21tZW50KG5leHQpICYmIG5leHQuZGF0YSA9PT0gXCJdXCIpIHtcbiAgICAgIHJldHVybiBuZXh0U2libGluZyh2bm9kZS5hbmNob3IgPSBuZXh0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgbG9nTWlzbWF0Y2hFcnJvcigpO1xuICAgICAgaW5zZXJ0KHZub2RlLmFuY2hvciA9IGNyZWF0ZUNvbW1lbnQoYF1gKSwgY29udGFpbmVyLCBuZXh0KTtcbiAgICAgIHJldHVybiBuZXh0O1xuICAgIH1cbiAgfTtcbiAgY29uc3QgaGFuZGxlTWlzbWF0Y2ggPSAobm9kZSwgdm5vZGUsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHNsb3RTY29wZUlkcywgaXNGcmFnbWVudCkgPT4ge1xuICAgICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfSFlEUkFUSU9OX01JU01BVENIX0RFVEFJTFNfXykgJiYgd2FybiQxKFxuICAgICAgYEh5ZHJhdGlvbiBub2RlIG1pc21hdGNoOlxuLSByZW5kZXJlZCBvbiBzZXJ2ZXI6YCxcbiAgICAgIG5vZGUsXG4gICAgICBub2RlLm5vZGVUeXBlID09PSAzIC8qIFRFWFQgKi8gPyBgKHRleHQpYCA6IGlzQ29tbWVudChub2RlKSAmJiBub2RlLmRhdGEgPT09IFwiW1wiID8gYChzdGFydCBvZiBmcmFnbWVudClgIDogYGAsXG4gICAgICBgXG4tIGV4cGVjdGVkIG9uIGNsaWVudDpgLFxuICAgICAgdm5vZGUudHlwZVxuICAgICk7XG4gICAgbG9nTWlzbWF0Y2hFcnJvcigpO1xuICAgIHZub2RlLmVsID0gbnVsbDtcbiAgICBpZiAoaXNGcmFnbWVudCkge1xuICAgICAgY29uc3QgZW5kID0gbG9jYXRlQ2xvc2luZ0FuY2hvcihub2RlKTtcbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIGNvbnN0IG5leHQyID0gbmV4dFNpYmxpbmcobm9kZSk7XG4gICAgICAgIGlmIChuZXh0MiAmJiBuZXh0MiAhPT0gZW5kKSB7XG4gICAgICAgICAgcmVtb3ZlKG5leHQyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBuZXh0ID0gbmV4dFNpYmxpbmcobm9kZSk7XG4gICAgY29uc3QgY29udGFpbmVyID0gcGFyZW50Tm9kZShub2RlKTtcbiAgICByZW1vdmUobm9kZSk7XG4gICAgcGF0Y2goXG4gICAgICBudWxsLFxuICAgICAgdm5vZGUsXG4gICAgICBjb250YWluZXIsXG4gICAgICBuZXh0LFxuICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICBnZXRDb250YWluZXJUeXBlKGNvbnRhaW5lciksXG4gICAgICBzbG90U2NvcGVJZHNcbiAgICApO1xuICAgIHJldHVybiBuZXh0O1xuICB9O1xuICBjb25zdCBsb2NhdGVDbG9zaW5nQW5jaG9yID0gKG5vZGUsIG9wZW4gPSBcIltcIiwgY2xvc2UgPSBcIl1cIikgPT4ge1xuICAgIGxldCBtYXRjaCA9IDA7XG4gICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgIG5vZGUgPSBuZXh0U2libGluZyhub2RlKTtcbiAgICAgIGlmIChub2RlICYmIGlzQ29tbWVudChub2RlKSkge1xuICAgICAgICBpZiAobm9kZS5kYXRhID09PSBvcGVuKSBtYXRjaCsrO1xuICAgICAgICBpZiAobm9kZS5kYXRhID09PSBjbG9zZSkge1xuICAgICAgICAgIGlmIChtYXRjaCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIG5leHRTaWJsaW5nKG5vZGUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtYXRjaC0tO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbm9kZTtcbiAgfTtcbiAgY29uc3QgcmVwbGFjZU5vZGUgPSAobmV3Tm9kZSwgb2xkTm9kZSwgcGFyZW50Q29tcG9uZW50KSA9PiB7XG4gICAgY29uc3QgcGFyZW50Tm9kZTIgPSBvbGROb2RlLnBhcmVudE5vZGU7XG4gICAgaWYgKHBhcmVudE5vZGUyKSB7XG4gICAgICBwYXJlbnROb2RlMi5yZXBsYWNlQ2hpbGQobmV3Tm9kZSwgb2xkTm9kZSk7XG4gICAgfVxuICAgIGxldCBwYXJlbnQgPSBwYXJlbnRDb21wb25lbnQ7XG4gICAgd2hpbGUgKHBhcmVudCkge1xuICAgICAgaWYgKHBhcmVudC52bm9kZS5lbCA9PT0gb2xkTm9kZSkge1xuICAgICAgICBwYXJlbnQudm5vZGUuZWwgPSBwYXJlbnQuc3ViVHJlZS5lbCA9IG5ld05vZGU7XG4gICAgICB9XG4gICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xuICAgIH1cbiAgfTtcbiAgY29uc3QgaXNUZW1wbGF0ZU5vZGUgPSAobm9kZSkgPT4ge1xuICAgIHJldHVybiBub2RlLm5vZGVUeXBlID09PSAxIC8qIEVMRU1FTlQgKi8gJiYgbm9kZS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwidGVtcGxhdGVcIjtcbiAgfTtcbiAgcmV0dXJuIFtoeWRyYXRlLCBoeWRyYXRlTm9kZV07XG59XG5mdW5jdGlvbiBwcm9wSGFzTWlzbWF0Y2goZWwsIGtleSwgY2xpZW50VmFsdWUsIHZub2RlLCBpbnN0YW5jZSkge1xuICB2YXIgX2E7XG4gIGxldCBtaXNtYXRjaFR5cGU7XG4gIGxldCBtaXNtYXRjaEtleTtcbiAgbGV0IGFjdHVhbDtcbiAgbGV0IGV4cGVjdGVkO1xuICBpZiAoa2V5ID09PSBcImNsYXNzXCIpIHtcbiAgICBhY3R1YWwgPSBlbC5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKTtcbiAgICBleHBlY3RlZCA9IG5vcm1hbGl6ZUNsYXNzKGNsaWVudFZhbHVlKTtcbiAgICBpZiAoIWlzU2V0RXF1YWwodG9DbGFzc1NldChhY3R1YWwgfHwgXCJcIiksIHRvQ2xhc3NTZXQoZXhwZWN0ZWQpKSkge1xuICAgICAgbWlzbWF0Y2hUeXBlID0gbWlzbWF0Y2hLZXkgPSBgY2xhc3NgO1xuICAgIH1cbiAgfSBlbHNlIGlmIChrZXkgPT09IFwic3R5bGVcIikge1xuICAgIGFjdHVhbCA9IGVsLmdldEF0dHJpYnV0ZShcInN0eWxlXCIpIHx8IFwiXCI7XG4gICAgZXhwZWN0ZWQgPSBpc1N0cmluZyhjbGllbnRWYWx1ZSkgPyBjbGllbnRWYWx1ZSA6IHN0cmluZ2lmeVN0eWxlKG5vcm1hbGl6ZVN0eWxlKGNsaWVudFZhbHVlKSk7XG4gICAgY29uc3QgYWN0dWFsTWFwID0gdG9TdHlsZU1hcChhY3R1YWwpO1xuICAgIGNvbnN0IGV4cGVjdGVkTWFwID0gdG9TdHlsZU1hcChleHBlY3RlZCk7XG4gICAgaWYgKHZub2RlLmRpcnMpIHtcbiAgICAgIGZvciAoY29uc3QgeyBkaXIsIHZhbHVlIH0gb2Ygdm5vZGUuZGlycykge1xuICAgICAgICBpZiAoZGlyLm5hbWUgPT09IFwic2hvd1wiICYmICF2YWx1ZSkge1xuICAgICAgICAgIGV4cGVjdGVkTWFwLnNldChcImRpc3BsYXlcIiwgXCJub25lXCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHJvb3QgPSBpbnN0YW5jZSA9PSBudWxsID8gdm9pZCAwIDogaW5zdGFuY2Uuc3ViVHJlZTtcbiAgICBpZiAodm5vZGUgPT09IHJvb3QgfHwgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtc3ludGF4XG4gICAgKHJvb3QgPT0gbnVsbCA/IHZvaWQgMCA6IHJvb3QudHlwZSkgPT09IEZyYWdtZW50ICYmIHJvb3QuY2hpbGRyZW4uaW5jbHVkZXModm5vZGUpKSB7XG4gICAgICBjb25zdCBjc3NWYXJzID0gKF9hID0gaW5zdGFuY2UgPT0gbnVsbCA/IHZvaWQgMCA6IGluc3RhbmNlLmdldENzc1ZhcnMpID09IG51bGwgPyB2b2lkIDAgOiBfYS5jYWxsKGluc3RhbmNlKTtcbiAgICAgIGZvciAoY29uc3Qga2V5MiBpbiBjc3NWYXJzKSB7XG4gICAgICAgIGV4cGVjdGVkTWFwLnNldChgLS0ke2tleTJ9YCwgU3RyaW5nKGNzc1ZhcnNba2V5Ml0pKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFpc01hcEVxdWFsKGFjdHVhbE1hcCwgZXhwZWN0ZWRNYXApKSB7XG4gICAgICBtaXNtYXRjaFR5cGUgPSBtaXNtYXRjaEtleSA9IFwic3R5bGVcIjtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZWwgaW5zdGFuY2VvZiBTVkdFbGVtZW50ICYmIGlzS25vd25TdmdBdHRyKGtleSkgfHwgZWwgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCAmJiAoaXNCb29sZWFuQXR0cihrZXkpIHx8IGlzS25vd25IdG1sQXR0cihrZXkpKSkge1xuICAgIGlmIChpc0Jvb2xlYW5BdHRyKGtleSkpIHtcbiAgICAgIGFjdHVhbCA9IGVsLmhhc0F0dHJpYnV0ZShrZXkpO1xuICAgICAgZXhwZWN0ZWQgPSBpbmNsdWRlQm9vbGVhbkF0dHIoY2xpZW50VmFsdWUpO1xuICAgIH0gZWxzZSBpZiAoY2xpZW50VmFsdWUgPT0gbnVsbCkge1xuICAgICAgYWN0dWFsID0gZWwuaGFzQXR0cmlidXRlKGtleSk7XG4gICAgICBleHBlY3RlZCA9IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoZWwuaGFzQXR0cmlidXRlKGtleSkpIHtcbiAgICAgICAgYWN0dWFsID0gZWwuZ2V0QXR0cmlidXRlKGtleSk7XG4gICAgICB9IGVsc2UgaWYgKGtleSA9PT0gXCJ2YWx1ZVwiICYmIGVsLnRhZ05hbWUgPT09IFwiVEVYVEFSRUFcIikge1xuICAgICAgICBhY3R1YWwgPSBlbC52YWx1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFjdHVhbCA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgZXhwZWN0ZWQgPSBpc1JlbmRlcmFibGVBdHRyVmFsdWUoY2xpZW50VmFsdWUpID8gU3RyaW5nKGNsaWVudFZhbHVlKSA6IGZhbHNlO1xuICAgIH1cbiAgICBpZiAoYWN0dWFsICE9PSBleHBlY3RlZCkge1xuICAgICAgbWlzbWF0Y2hUeXBlID0gYGF0dHJpYnV0ZWA7XG4gICAgICBtaXNtYXRjaEtleSA9IGtleTtcbiAgICB9XG4gIH1cbiAgaWYgKG1pc21hdGNoVHlwZSkge1xuICAgIGNvbnN0IGZvcm1hdCA9ICh2KSA9PiB2ID09PSBmYWxzZSA/IGAobm90IHJlbmRlcmVkKWAgOiBgJHttaXNtYXRjaEtleX09XCIke3Z9XCJgO1xuICAgIGNvbnN0IHByZVNlZ21lbnQgPSBgSHlkcmF0aW9uICR7bWlzbWF0Y2hUeXBlfSBtaXNtYXRjaCBvbmA7XG4gICAgY29uc3QgcG9zdFNlZ21lbnQgPSBgXG4gIC0gcmVuZGVyZWQgb24gc2VydmVyOiAke2Zvcm1hdChhY3R1YWwpfVxuICAtIGV4cGVjdGVkIG9uIGNsaWVudDogJHtmb3JtYXQoZXhwZWN0ZWQpfVxuICBOb3RlOiB0aGlzIG1pc21hdGNoIGlzIGNoZWNrLW9ubHkuIFRoZSBET00gd2lsbCBub3QgYmUgcmVjdGlmaWVkIGluIHByb2R1Y3Rpb24gZHVlIHRvIHBlcmZvcm1hbmNlIG92ZXJoZWFkLlxuICBZb3Ugc2hvdWxkIGZpeCB0aGUgc291cmNlIG9mIHRoZSBtaXNtYXRjaC5gO1xuICAgIHtcbiAgICAgIHdhcm4kMShwcmVTZWdtZW50LCBlbCwgcG9zdFNlZ21lbnQpO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiB0b0NsYXNzU2V0KHN0cikge1xuICByZXR1cm4gbmV3IFNldChzdHIudHJpbSgpLnNwbGl0KC9cXHMrLykpO1xufVxuZnVuY3Rpb24gaXNTZXRFcXVhbChhLCBiKSB7XG4gIGlmIChhLnNpemUgIT09IGIuc2l6ZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBmb3IgKGNvbnN0IHMgb2YgYSkge1xuICAgIGlmICghYi5oYXMocykpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiB0b1N0eWxlTWFwKHN0cikge1xuICBjb25zdCBzdHlsZU1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIGZvciAoY29uc3QgaXRlbSBvZiBzdHIuc3BsaXQoXCI7XCIpKSB7XG4gICAgbGV0IFtrZXksIHZhbHVlXSA9IGl0ZW0uc3BsaXQoXCI6XCIpO1xuICAgIGtleSA9IGtleSA9PSBudWxsID8gdm9pZCAwIDoga2V5LnRyaW0oKTtcbiAgICB2YWx1ZSA9IHZhbHVlID09IG51bGwgPyB2b2lkIDAgOiB2YWx1ZS50cmltKCk7XG4gICAgaWYgKGtleSAmJiB2YWx1ZSkge1xuICAgICAgc3R5bGVNYXAuc2V0KGtleSwgdmFsdWUpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc3R5bGVNYXA7XG59XG5mdW5jdGlvbiBpc01hcEVxdWFsKGEsIGIpIHtcbiAgaWYgKGEuc2l6ZSAhPT0gYi5zaXplKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIGEpIHtcbiAgICBpZiAodmFsdWUgIT09IGIuZ2V0KGtleSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbmxldCBzdXBwb3J0ZWQ7XG5sZXQgcGVyZjtcbmZ1bmN0aW9uIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgdHlwZSkge1xuICBpZiAoaW5zdGFuY2UuYXBwQ29udGV4dC5jb25maWcucGVyZm9ybWFuY2UgJiYgaXNTdXBwb3J0ZWQoKSkge1xuICAgIHBlcmYubWFyayhgdnVlLSR7dHlwZX0tJHtpbnN0YW5jZS51aWR9YCk7XG4gIH1cbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgZGV2dG9vbHNQZXJmU3RhcnQoaW5zdGFuY2UsIHR5cGUsIGlzU3VwcG9ydGVkKCkgPyBwZXJmLm5vdygpIDogRGF0ZS5ub3coKSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGVuZE1lYXN1cmUoaW5zdGFuY2UsIHR5cGUpIHtcbiAgaWYgKGluc3RhbmNlLmFwcENvbnRleHQuY29uZmlnLnBlcmZvcm1hbmNlICYmIGlzU3VwcG9ydGVkKCkpIHtcbiAgICBjb25zdCBzdGFydFRhZyA9IGB2dWUtJHt0eXBlfS0ke2luc3RhbmNlLnVpZH1gO1xuICAgIGNvbnN0IGVuZFRhZyA9IHN0YXJ0VGFnICsgYDplbmRgO1xuICAgIHBlcmYubWFyayhlbmRUYWcpO1xuICAgIHBlcmYubWVhc3VyZShcbiAgICAgIGA8JHtmb3JtYXRDb21wb25lbnROYW1lKGluc3RhbmNlLCBpbnN0YW5jZS50eXBlKX0+ICR7dHlwZX1gLFxuICAgICAgc3RhcnRUYWcsXG4gICAgICBlbmRUYWdcbiAgICApO1xuICAgIHBlcmYuY2xlYXJNYXJrcyhzdGFydFRhZyk7XG4gICAgcGVyZi5jbGVhck1hcmtzKGVuZFRhZyk7XG4gIH1cbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgZGV2dG9vbHNQZXJmRW5kKGluc3RhbmNlLCB0eXBlLCBpc1N1cHBvcnRlZCgpID8gcGVyZi5ub3coKSA6IERhdGUubm93KCkpO1xuICB9XG59XG5mdW5jdGlvbiBpc1N1cHBvcnRlZCgpIHtcbiAgaWYgKHN1cHBvcnRlZCAhPT0gdm9pZCAwKSB7XG4gICAgcmV0dXJuIHN1cHBvcnRlZDtcbiAgfVxuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3cucGVyZm9ybWFuY2UpIHtcbiAgICBzdXBwb3J0ZWQgPSB0cnVlO1xuICAgIHBlcmYgPSB3aW5kb3cucGVyZm9ybWFuY2U7XG4gIH0gZWxzZSB7XG4gICAgc3VwcG9ydGVkID0gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHN1cHBvcnRlZDtcbn1cblxuZnVuY3Rpb24gaW5pdEZlYXR1cmVGbGFncygpIHtcbiAgY29uc3QgbmVlZFdhcm4gPSBbXTtcbiAgaWYgKHR5cGVvZiBfX1ZVRV9PUFRJT05TX0FQSV9fICE9PSBcImJvb2xlYW5cIikge1xuICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgbmVlZFdhcm4ucHVzaChgX19WVUVfT1BUSU9OU19BUElfX2ApO1xuICAgIGdldEdsb2JhbFRoaXMoKS5fX1ZVRV9PUFRJT05TX0FQSV9fID0gdHJ1ZTtcbiAgfVxuICBpZiAodHlwZW9mIF9fVlVFX1BST0RfREVWVE9PTFNfXyAhPT0gXCJib29sZWFuXCIpIHtcbiAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIG5lZWRXYXJuLnB1c2goYF9fVlVFX1BST0RfREVWVE9PTFNfX2ApO1xuICAgIGdldEdsb2JhbFRoaXMoKS5fX1ZVRV9QUk9EX0RFVlRPT0xTX18gPSBmYWxzZTtcbiAgfVxuICBpZiAodHlwZW9mIF9fVlVFX1BST0RfSFlEUkFUSU9OX01JU01BVENIX0RFVEFJTFNfXyAhPT0gXCJib29sZWFuXCIpIHtcbiAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIG5lZWRXYXJuLnB1c2goYF9fVlVFX1BST0RfSFlEUkFUSU9OX01JU01BVENIX0RFVEFJTFNfX2ApO1xuICAgIGdldEdsb2JhbFRoaXMoKS5fX1ZVRV9QUk9EX0hZRFJBVElPTl9NSVNNQVRDSF9ERVRBSUxTX18gPSBmYWxzZTtcbiAgfVxuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBuZWVkV2Fybi5sZW5ndGgpIHtcbiAgICBjb25zdCBtdWx0aSA9IG5lZWRXYXJuLmxlbmd0aCA+IDE7XG4gICAgY29uc29sZS53YXJuKFxuICAgICAgYEZlYXR1cmUgZmxhZyR7bXVsdGkgPyBgc2AgOiBgYH0gJHtuZWVkV2Fybi5qb2luKFwiLCBcIil9ICR7bXVsdGkgPyBgYXJlYCA6IGBpc2B9IG5vdCBleHBsaWNpdGx5IGRlZmluZWQuIFlvdSBhcmUgcnVubmluZyB0aGUgZXNtLWJ1bmRsZXIgYnVpbGQgb2YgVnVlLCB3aGljaCBleHBlY3RzIHRoZXNlIGNvbXBpbGUtdGltZSBmZWF0dXJlIGZsYWdzIHRvIGJlIGdsb2JhbGx5IGluamVjdGVkIHZpYSB0aGUgYnVuZGxlciBjb25maWcgaW4gb3JkZXIgdG8gZ2V0IGJldHRlciB0cmVlLXNoYWtpbmcgaW4gdGhlIHByb2R1Y3Rpb24gYnVuZGxlLlxuXG5Gb3IgbW9yZSBkZXRhaWxzLCBzZWUgaHR0cHM6Ly9saW5rLnZ1ZWpzLm9yZy9mZWF0dXJlLWZsYWdzLmBcbiAgICApO1xuICB9XG59XG5cbmNvbnN0IHF1ZXVlUG9zdFJlbmRlckVmZmVjdCA9IHF1ZXVlRWZmZWN0V2l0aFN1c3BlbnNlIDtcbmZ1bmN0aW9uIGNyZWF0ZVJlbmRlcmVyKG9wdGlvbnMpIHtcbiAgcmV0dXJuIGJhc2VDcmVhdGVSZW5kZXJlcihvcHRpb25zKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUh5ZHJhdGlvblJlbmRlcmVyKG9wdGlvbnMpIHtcbiAgcmV0dXJuIGJhc2VDcmVhdGVSZW5kZXJlcihvcHRpb25zLCBjcmVhdGVIeWRyYXRpb25GdW5jdGlvbnMpO1xufVxuZnVuY3Rpb24gYmFzZUNyZWF0ZVJlbmRlcmVyKG9wdGlvbnMsIGNyZWF0ZUh5ZHJhdGlvbkZucykge1xuICB7XG4gICAgaW5pdEZlYXR1cmVGbGFncygpO1xuICB9XG4gIGNvbnN0IHRhcmdldCA9IGdldEdsb2JhbFRoaXMoKTtcbiAgdGFyZ2V0Ll9fVlVFX18gPSB0cnVlO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICBzZXREZXZ0b29sc0hvb2skMSh0YXJnZXQuX19WVUVfREVWVE9PTFNfR0xPQkFMX0hPT0tfXywgdGFyZ2V0KTtcbiAgfVxuICBjb25zdCB7XG4gICAgaW5zZXJ0OiBob3N0SW5zZXJ0LFxuICAgIHJlbW92ZTogaG9zdFJlbW92ZSxcbiAgICBwYXRjaFByb3A6IGhvc3RQYXRjaFByb3AsXG4gICAgY3JlYXRlRWxlbWVudDogaG9zdENyZWF0ZUVsZW1lbnQsXG4gICAgY3JlYXRlVGV4dDogaG9zdENyZWF0ZVRleHQsXG4gICAgY3JlYXRlQ29tbWVudDogaG9zdENyZWF0ZUNvbW1lbnQsXG4gICAgc2V0VGV4dDogaG9zdFNldFRleHQsXG4gICAgc2V0RWxlbWVudFRleHQ6IGhvc3RTZXRFbGVtZW50VGV4dCxcbiAgICBwYXJlbnROb2RlOiBob3N0UGFyZW50Tm9kZSxcbiAgICBuZXh0U2libGluZzogaG9zdE5leHRTaWJsaW5nLFxuICAgIHNldFNjb3BlSWQ6IGhvc3RTZXRTY29wZUlkID0gTk9PUCxcbiAgICBpbnNlcnRTdGF0aWNDb250ZW50OiBob3N0SW5zZXJ0U3RhdGljQ29udGVudFxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgcGF0Y2ggPSAobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciA9IG51bGwsIHBhcmVudENvbXBvbmVudCA9IG51bGwsIHBhcmVudFN1c3BlbnNlID0gbnVsbCwgbmFtZXNwYWNlID0gdm9pZCAwLCBzbG90U2NvcGVJZHMgPSBudWxsLCBvcHRpbWl6ZWQgPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGlzSG1yVXBkYXRpbmcgPyBmYWxzZSA6ICEhbjIuZHluYW1pY0NoaWxkcmVuKSA9PiB7XG4gICAgaWYgKG4xID09PSBuMikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAobjEgJiYgIWlzU2FtZVZOb2RlVHlwZShuMSwgbjIpKSB7XG4gICAgICBhbmNob3IgPSBnZXROZXh0SG9zdE5vZGUobjEpO1xuICAgICAgdW5tb3VudChuMSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdHJ1ZSk7XG4gICAgICBuMSA9IG51bGw7XG4gICAgfVxuICAgIGlmIChuMi5wYXRjaEZsYWcgPT09IC0yKSB7XG4gICAgICBvcHRpbWl6ZWQgPSBmYWxzZTtcbiAgICAgIG4yLmR5bmFtaWNDaGlsZHJlbiA9IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHsgdHlwZSwgcmVmLCBzaGFwZUZsYWcgfSA9IG4yO1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSBUZXh0OlxuICAgICAgICBwcm9jZXNzVGV4dChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIENvbW1lbnQ6XG4gICAgICAgIHByb2Nlc3NDb21tZW50Tm9kZShuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFN0YXRpYzpcbiAgICAgICAgaWYgKG4xID09IG51bGwpIHtcbiAgICAgICAgICBtb3VudFN0YXRpY05vZGUobjIsIGNvbnRhaW5lciwgYW5jaG9yLCBuYW1lc3BhY2UpO1xuICAgICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBwYXRjaFN0YXRpY05vZGUobjEsIG4yLCBjb250YWluZXIsIG5hbWVzcGFjZSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEZyYWdtZW50OlxuICAgICAgICBwcm9jZXNzRnJhZ21lbnQoXG4gICAgICAgICAgbjEsXG4gICAgICAgICAgbjIsXG4gICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAoc2hhcGVGbGFnICYgMSkge1xuICAgICAgICAgIHByb2Nlc3NFbGVtZW50KFxuICAgICAgICAgICAgbjEsXG4gICAgICAgICAgICBuMixcbiAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIGlmIChzaGFwZUZsYWcgJiA2KSB7XG4gICAgICAgICAgcHJvY2Vzc0NvbXBvbmVudChcbiAgICAgICAgICAgIG4xLFxuICAgICAgICAgICAgbjIsXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAoc2hhcGVGbGFnICYgNjQpIHtcbiAgICAgICAgICB0eXBlLnByb2Nlc3MoXG4gICAgICAgICAgICBuMSxcbiAgICAgICAgICAgIG4yLFxuICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgYW5jaG9yLFxuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgICBvcHRpbWl6ZWQsXG4gICAgICAgICAgICBpbnRlcm5hbHNcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKHNoYXBlRmxhZyAmIDEyOCkge1xuICAgICAgICAgIHR5cGUucHJvY2VzcyhcbiAgICAgICAgICAgIG4xLFxuICAgICAgICAgICAgbjIsXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICAgIG9wdGltaXplZCxcbiAgICAgICAgICAgIGludGVybmFsc1xuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHdhcm4kMShcIkludmFsaWQgVk5vZGUgdHlwZTpcIiwgdHlwZSwgYCgke3R5cGVvZiB0eXBlfSlgKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAocmVmICE9IG51bGwgJiYgcGFyZW50Q29tcG9uZW50KSB7XG4gICAgICBzZXRSZWYocmVmLCBuMSAmJiBuMS5yZWYsIHBhcmVudFN1c3BlbnNlLCBuMiB8fCBuMSwgIW4yKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHByb2Nlc3NUZXh0ID0gKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IpID0+IHtcbiAgICBpZiAobjEgPT0gbnVsbCkge1xuICAgICAgaG9zdEluc2VydChcbiAgICAgICAgbjIuZWwgPSBob3N0Q3JlYXRlVGV4dChuMi5jaGlsZHJlbiksXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgYW5jaG9yXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBlbCA9IG4yLmVsID0gbjEuZWw7XG4gICAgICBpZiAobjIuY2hpbGRyZW4gIT09IG4xLmNoaWxkcmVuKSB7XG4gICAgICAgIGhvc3RTZXRUZXh0KGVsLCBuMi5jaGlsZHJlbik7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBjb25zdCBwcm9jZXNzQ29tbWVudE5vZGUgPSAobjEsIG4yLCBjb250YWluZXIsIGFuY2hvcikgPT4ge1xuICAgIGlmIChuMSA9PSBudWxsKSB7XG4gICAgICBob3N0SW5zZXJ0KFxuICAgICAgICBuMi5lbCA9IGhvc3RDcmVhdGVDb21tZW50KG4yLmNoaWxkcmVuIHx8IFwiXCIpLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIGFuY2hvclxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbjIuZWwgPSBuMS5lbDtcbiAgICB9XG4gIH07XG4gIGNvbnN0IG1vdW50U3RhdGljTm9kZSA9IChuMiwgY29udGFpbmVyLCBhbmNob3IsIG5hbWVzcGFjZSkgPT4ge1xuICAgIFtuMi5lbCwgbjIuYW5jaG9yXSA9IGhvc3RJbnNlcnRTdGF0aWNDb250ZW50KFxuICAgICAgbjIuY2hpbGRyZW4sXG4gICAgICBjb250YWluZXIsXG4gICAgICBhbmNob3IsXG4gICAgICBuYW1lc3BhY2UsXG4gICAgICBuMi5lbCxcbiAgICAgIG4yLmFuY2hvclxuICAgICk7XG4gIH07XG4gIGNvbnN0IHBhdGNoU3RhdGljTm9kZSA9IChuMSwgbjIsIGNvbnRhaW5lciwgbmFtZXNwYWNlKSA9PiB7XG4gICAgaWYgKG4yLmNoaWxkcmVuICE9PSBuMS5jaGlsZHJlbikge1xuICAgICAgY29uc3QgYW5jaG9yID0gaG9zdE5leHRTaWJsaW5nKG4xLmFuY2hvcik7XG4gICAgICByZW1vdmVTdGF0aWNOb2RlKG4xKTtcbiAgICAgIFtuMi5lbCwgbjIuYW5jaG9yXSA9IGhvc3RJbnNlcnRTdGF0aWNDb250ZW50KFxuICAgICAgICBuMi5jaGlsZHJlbixcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBhbmNob3IsXG4gICAgICAgIG5hbWVzcGFjZVxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbjIuZWwgPSBuMS5lbDtcbiAgICAgIG4yLmFuY2hvciA9IG4xLmFuY2hvcjtcbiAgICB9XG4gIH07XG4gIGNvbnN0IG1vdmVTdGF0aWNOb2RlID0gKHsgZWwsIGFuY2hvciB9LCBjb250YWluZXIsIG5leHRTaWJsaW5nKSA9PiB7XG4gICAgbGV0IG5leHQ7XG4gICAgd2hpbGUgKGVsICYmIGVsICE9PSBhbmNob3IpIHtcbiAgICAgIG5leHQgPSBob3N0TmV4dFNpYmxpbmcoZWwpO1xuICAgICAgaG9zdEluc2VydChlbCwgY29udGFpbmVyLCBuZXh0U2libGluZyk7XG4gICAgICBlbCA9IG5leHQ7XG4gICAgfVxuICAgIGhvc3RJbnNlcnQoYW5jaG9yLCBjb250YWluZXIsIG5leHRTaWJsaW5nKTtcbiAgfTtcbiAgY29uc3QgcmVtb3ZlU3RhdGljTm9kZSA9ICh7IGVsLCBhbmNob3IgfSkgPT4ge1xuICAgIGxldCBuZXh0O1xuICAgIHdoaWxlIChlbCAmJiBlbCAhPT0gYW5jaG9yKSB7XG4gICAgICBuZXh0ID0gaG9zdE5leHRTaWJsaW5nKGVsKTtcbiAgICAgIGhvc3RSZW1vdmUoZWwpO1xuICAgICAgZWwgPSBuZXh0O1xuICAgIH1cbiAgICBob3N0UmVtb3ZlKGFuY2hvcik7XG4gIH07XG4gIGNvbnN0IHByb2Nlc3NFbGVtZW50ID0gKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG5hbWVzcGFjZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQpID0+IHtcbiAgICBpZiAobjIudHlwZSA9PT0gXCJzdmdcIikge1xuICAgICAgbmFtZXNwYWNlID0gXCJzdmdcIjtcbiAgICB9IGVsc2UgaWYgKG4yLnR5cGUgPT09IFwibWF0aFwiKSB7XG4gICAgICBuYW1lc3BhY2UgPSBcIm1hdGhtbFwiO1xuICAgIH1cbiAgICBpZiAobjEgPT0gbnVsbCkge1xuICAgICAgbW91bnRFbGVtZW50KFxuICAgICAgICBuMixcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBhbmNob3IsXG4gICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhdGNoRWxlbWVudChcbiAgICAgICAgbjEsXG4gICAgICAgIG4yLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgb3B0aW1pemVkXG4gICAgICApO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgbW91bnRFbGVtZW50ID0gKHZub2RlLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xuICAgIGxldCBlbDtcbiAgICBsZXQgdm5vZGVIb29rO1xuICAgIGNvbnN0IHsgcHJvcHMsIHNoYXBlRmxhZywgdHJhbnNpdGlvbiwgZGlycyB9ID0gdm5vZGU7XG4gICAgZWwgPSB2bm9kZS5lbCA9IGhvc3RDcmVhdGVFbGVtZW50KFxuICAgICAgdm5vZGUudHlwZSxcbiAgICAgIG5hbWVzcGFjZSxcbiAgICAgIHByb3BzICYmIHByb3BzLmlzLFxuICAgICAgcHJvcHNcbiAgICApO1xuICAgIGlmIChzaGFwZUZsYWcgJiA4KSB7XG4gICAgICBob3N0U2V0RWxlbWVudFRleHQoZWwsIHZub2RlLmNoaWxkcmVuKTtcbiAgICB9IGVsc2UgaWYgKHNoYXBlRmxhZyAmIDE2KSB7XG4gICAgICBtb3VudENoaWxkcmVuKFxuICAgICAgICB2bm9kZS5jaGlsZHJlbixcbiAgICAgICAgZWwsXG4gICAgICAgIG51bGwsXG4gICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgIHJlc29sdmVDaGlsZHJlbk5hbWVzcGFjZSh2bm9kZSwgbmFtZXNwYWNlKSxcbiAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChkaXJzKSB7XG4gICAgICBpbnZva2VEaXJlY3RpdmVIb29rKHZub2RlLCBudWxsLCBwYXJlbnRDb21wb25lbnQsIFwiY3JlYXRlZFwiKTtcbiAgICB9XG4gICAgc2V0U2NvcGVJZChlbCwgdm5vZGUsIHZub2RlLnNjb3BlSWQsIHNsb3RTY29wZUlkcywgcGFyZW50Q29tcG9uZW50KTtcbiAgICBpZiAocHJvcHMpIHtcbiAgICAgIGZvciAoY29uc3Qga2V5IGluIHByb3BzKSB7XG4gICAgICAgIGlmIChrZXkgIT09IFwidmFsdWVcIiAmJiAhaXNSZXNlcnZlZFByb3Aoa2V5KSkge1xuICAgICAgICAgIGhvc3RQYXRjaFByb3AoXG4gICAgICAgICAgICBlbCxcbiAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBwcm9wc1trZXldLFxuICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgdm5vZGUuY2hpbGRyZW4sXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgIHVubW91bnRDaGlsZHJlblxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChcInZhbHVlXCIgaW4gcHJvcHMpIHtcbiAgICAgICAgaG9zdFBhdGNoUHJvcChlbCwgXCJ2YWx1ZVwiLCBudWxsLCBwcm9wcy52YWx1ZSwgbmFtZXNwYWNlKTtcbiAgICAgIH1cbiAgICAgIGlmICh2bm9kZUhvb2sgPSBwcm9wcy5vblZub2RlQmVmb3JlTW91bnQpIHtcbiAgICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50Q29tcG9uZW50LCB2bm9kZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGVsLCBcIl9fdm5vZGVcIiwge1xuICAgICAgICB2YWx1ZTogdm5vZGUsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbCwgXCJfX3Z1ZVBhcmVudENvbXBvbmVudFwiLCB7XG4gICAgICAgIHZhbHVlOiBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGRpcnMpIHtcbiAgICAgIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgXCJiZWZvcmVNb3VudFwiKTtcbiAgICB9XG4gICAgY29uc3QgbmVlZENhbGxUcmFuc2l0aW9uSG9va3MgPSBuZWVkVHJhbnNpdGlvbihwYXJlbnRTdXNwZW5zZSwgdHJhbnNpdGlvbik7XG4gICAgaWYgKG5lZWRDYWxsVHJhbnNpdGlvbkhvb2tzKSB7XG4gICAgICB0cmFuc2l0aW9uLmJlZm9yZUVudGVyKGVsKTtcbiAgICB9XG4gICAgaG9zdEluc2VydChlbCwgY29udGFpbmVyLCBhbmNob3IpO1xuICAgIGlmICgodm5vZGVIb29rID0gcHJvcHMgJiYgcHJvcHMub25Wbm9kZU1vdW50ZWQpIHx8IG5lZWRDYWxsVHJhbnNpdGlvbkhvb2tzIHx8IGRpcnMpIHtcbiAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHZub2RlSG9vayAmJiBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnRDb21wb25lbnQsIHZub2RlKTtcbiAgICAgICAgbmVlZENhbGxUcmFuc2l0aW9uSG9va3MgJiYgdHJhbnNpdGlvbi5lbnRlcihlbCk7XG4gICAgICAgIGRpcnMgJiYgaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBcIm1vdW50ZWRcIik7XG4gICAgICB9LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgfVxuICB9O1xuICBjb25zdCBzZXRTY29wZUlkID0gKGVsLCB2bm9kZSwgc2NvcGVJZCwgc2xvdFNjb3BlSWRzLCBwYXJlbnRDb21wb25lbnQpID0+IHtcbiAgICBpZiAoc2NvcGVJZCkge1xuICAgICAgaG9zdFNldFNjb3BlSWQoZWwsIHNjb3BlSWQpO1xuICAgIH1cbiAgICBpZiAoc2xvdFNjb3BlSWRzKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNsb3RTY29wZUlkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBob3N0U2V0U2NvcGVJZChlbCwgc2xvdFNjb3BlSWRzW2ldKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHBhcmVudENvbXBvbmVudCkge1xuICAgICAgbGV0IHN1YlRyZWUgPSBwYXJlbnRDb21wb25lbnQuc3ViVHJlZTtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHN1YlRyZWUucGF0Y2hGbGFnID4gMCAmJiBzdWJUcmVlLnBhdGNoRmxhZyAmIDIwNDgpIHtcbiAgICAgICAgc3ViVHJlZSA9IGZpbHRlclNpbmdsZVJvb3Qoc3ViVHJlZS5jaGlsZHJlbikgfHwgc3ViVHJlZTtcbiAgICAgIH1cbiAgICAgIGlmICh2bm9kZSA9PT0gc3ViVHJlZSkge1xuICAgICAgICBjb25zdCBwYXJlbnRWTm9kZSA9IHBhcmVudENvbXBvbmVudC52bm9kZTtcbiAgICAgICAgc2V0U2NvcGVJZChcbiAgICAgICAgICBlbCxcbiAgICAgICAgICBwYXJlbnRWTm9kZSxcbiAgICAgICAgICBwYXJlbnRWTm9kZS5zY29wZUlkLFxuICAgICAgICAgIHBhcmVudFZOb2RlLnNsb3RTY29wZUlkcyxcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQucGFyZW50XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBjb25zdCBtb3VudENoaWxkcmVuID0gKGNoaWxkcmVuLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgc3RhcnQgPSAwKSA9PiB7XG4gICAgZm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW5baV0gPSBvcHRpbWl6ZWQgPyBjbG9uZUlmTW91bnRlZChjaGlsZHJlbltpXSkgOiBub3JtYWxpemVWTm9kZShjaGlsZHJlbltpXSk7XG4gICAgICBwYXRjaChcbiAgICAgICAgbnVsbCxcbiAgICAgICAgY2hpbGQsXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgYW5jaG9yLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgb3B0aW1pemVkXG4gICAgICApO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgcGF0Y2hFbGVtZW50ID0gKG4xLCBuMiwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xuICAgIGNvbnN0IGVsID0gbjIuZWwgPSBuMS5lbDtcbiAgICBsZXQgeyBwYXRjaEZsYWcsIGR5bmFtaWNDaGlsZHJlbiwgZGlycyB9ID0gbjI7XG4gICAgcGF0Y2hGbGFnIHw9IG4xLnBhdGNoRmxhZyAmIDE2O1xuICAgIGNvbnN0IG9sZFByb3BzID0gbjEucHJvcHMgfHwgRU1QVFlfT0JKO1xuICAgIGNvbnN0IG5ld1Byb3BzID0gbjIucHJvcHMgfHwgRU1QVFlfT0JKO1xuICAgIGxldCB2bm9kZUhvb2s7XG4gICAgcGFyZW50Q29tcG9uZW50ICYmIHRvZ2dsZVJlY3Vyc2UocGFyZW50Q29tcG9uZW50LCBmYWxzZSk7XG4gICAgaWYgKHZub2RlSG9vayA9IG5ld1Byb3BzLm9uVm5vZGVCZWZvcmVVcGRhdGUpIHtcbiAgICAgIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudENvbXBvbmVudCwgbjIsIG4xKTtcbiAgICB9XG4gICAgaWYgKGRpcnMpIHtcbiAgICAgIGludm9rZURpcmVjdGl2ZUhvb2sobjIsIG4xLCBwYXJlbnRDb21wb25lbnQsIFwiYmVmb3JlVXBkYXRlXCIpO1xuICAgIH1cbiAgICBwYXJlbnRDb21wb25lbnQgJiYgdG9nZ2xlUmVjdXJzZShwYXJlbnRDb21wb25lbnQsIHRydWUpO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGlzSG1yVXBkYXRpbmcpIHtcbiAgICAgIHBhdGNoRmxhZyA9IDA7XG4gICAgICBvcHRpbWl6ZWQgPSBmYWxzZTtcbiAgICAgIGR5bmFtaWNDaGlsZHJlbiA9IG51bGw7XG4gICAgfVxuICAgIGlmIChkeW5hbWljQ2hpbGRyZW4pIHtcbiAgICAgIHBhdGNoQmxvY2tDaGlsZHJlbihcbiAgICAgICAgbjEuZHluYW1pY0NoaWxkcmVuLFxuICAgICAgICBkeW5hbWljQ2hpbGRyZW4sXG4gICAgICAgIGVsLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICByZXNvbHZlQ2hpbGRyZW5OYW1lc3BhY2UobjIsIG5hbWVzcGFjZSksXG4gICAgICAgIHNsb3RTY29wZUlkc1xuICAgICAgKTtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgIHRyYXZlcnNlU3RhdGljQ2hpbGRyZW4objEsIG4yKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCFvcHRpbWl6ZWQpIHtcbiAgICAgIHBhdGNoQ2hpbGRyZW4oXG4gICAgICAgIG4xLFxuICAgICAgICBuMixcbiAgICAgICAgZWwsXG4gICAgICAgIG51bGwsXG4gICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgIHJlc29sdmVDaGlsZHJlbk5hbWVzcGFjZShuMiwgbmFtZXNwYWNlKSxcbiAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICBmYWxzZVxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKHBhdGNoRmxhZyA+IDApIHtcbiAgICAgIGlmIChwYXRjaEZsYWcgJiAxNikge1xuICAgICAgICBwYXRjaFByb3BzKFxuICAgICAgICAgIGVsLFxuICAgICAgICAgIG4yLFxuICAgICAgICAgIG9sZFByb3BzLFxuICAgICAgICAgIG5ld1Byb3BzLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICBuYW1lc3BhY2VcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChwYXRjaEZsYWcgJiAyKSB7XG4gICAgICAgICAgaWYgKG9sZFByb3BzLmNsYXNzICE9PSBuZXdQcm9wcy5jbGFzcykge1xuICAgICAgICAgICAgaG9zdFBhdGNoUHJvcChlbCwgXCJjbGFzc1wiLCBudWxsLCBuZXdQcm9wcy5jbGFzcywgbmFtZXNwYWNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhdGNoRmxhZyAmIDQpIHtcbiAgICAgICAgICBob3N0UGF0Y2hQcm9wKGVsLCBcInN0eWxlXCIsIG9sZFByb3BzLnN0eWxlLCBuZXdQcm9wcy5zdHlsZSwgbmFtZXNwYWNlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGF0Y2hGbGFnICYgOCkge1xuICAgICAgICAgIGNvbnN0IHByb3BzVG9VcGRhdGUgPSBuMi5keW5hbWljUHJvcHM7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wc1RvVXBkYXRlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBwcm9wc1RvVXBkYXRlW2ldO1xuICAgICAgICAgICAgY29uc3QgcHJldiA9IG9sZFByb3BzW2tleV07XG4gICAgICAgICAgICBjb25zdCBuZXh0ID0gbmV3UHJvcHNba2V5XTtcbiAgICAgICAgICAgIGlmIChuZXh0ICE9PSBwcmV2IHx8IGtleSA9PT0gXCJ2YWx1ZVwiKSB7XG4gICAgICAgICAgICAgIGhvc3RQYXRjaFByb3AoXG4gICAgICAgICAgICAgICAgZWwsXG4gICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgIHByZXYsXG4gICAgICAgICAgICAgICAgbmV4dCxcbiAgICAgICAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgICAgICAgbjEuY2hpbGRyZW4sXG4gICAgICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgICAgIHVubW91bnRDaGlsZHJlblxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHBhdGNoRmxhZyAmIDEpIHtcbiAgICAgICAgaWYgKG4xLmNoaWxkcmVuICE9PSBuMi5jaGlsZHJlbikge1xuICAgICAgICAgIGhvc3RTZXRFbGVtZW50VGV4dChlbCwgbjIuY2hpbGRyZW4pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghb3B0aW1pemVkICYmIGR5bmFtaWNDaGlsZHJlbiA9PSBudWxsKSB7XG4gICAgICBwYXRjaFByb3BzKFxuICAgICAgICBlbCxcbiAgICAgICAgbjIsXG4gICAgICAgIG9sZFByb3BzLFxuICAgICAgICBuZXdQcm9wcyxcbiAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgbmFtZXNwYWNlXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoKHZub2RlSG9vayA9IG5ld1Byb3BzLm9uVm5vZGVVcGRhdGVkKSB8fCBkaXJzKSB7XG4gICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4ge1xuICAgICAgICB2bm9kZUhvb2sgJiYgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50Q29tcG9uZW50LCBuMiwgbjEpO1xuICAgICAgICBkaXJzICYmIGludm9rZURpcmVjdGl2ZUhvb2sobjIsIG4xLCBwYXJlbnRDb21wb25lbnQsIFwidXBkYXRlZFwiKTtcbiAgICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHBhdGNoQmxvY2tDaGlsZHJlbiA9IChvbGRDaGlsZHJlbiwgbmV3Q2hpbGRyZW4sIGZhbGxiYWNrQ29udGFpbmVyLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBuYW1lc3BhY2UsIHNsb3RTY29wZUlkcykgPT4ge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmV3Q2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IG9sZFZOb2RlID0gb2xkQ2hpbGRyZW5baV07XG4gICAgICBjb25zdCBuZXdWTm9kZSA9IG5ld0NoaWxkcmVuW2ldO1xuICAgICAgY29uc3QgY29udGFpbmVyID0gKFxuICAgICAgICAvLyBvbGRWTm9kZSBtYXkgYmUgYW4gZXJyb3JlZCBhc3luYyBzZXR1cCgpIGNvbXBvbmVudCBpbnNpZGUgU3VzcGVuc2VcbiAgICAgICAgLy8gd2hpY2ggd2lsbCBub3QgaGF2ZSBhIG1vdW50ZWQgZWxlbWVudFxuICAgICAgICBvbGRWTm9kZS5lbCAmJiAvLyAtIEluIHRoZSBjYXNlIG9mIGEgRnJhZ21lbnQsIHdlIG5lZWQgdG8gcHJvdmlkZSB0aGUgYWN0dWFsIHBhcmVudFxuICAgICAgICAvLyBvZiB0aGUgRnJhZ21lbnQgaXRzZWxmIHNvIGl0IGNhbiBtb3ZlIGl0cyBjaGlsZHJlbi5cbiAgICAgICAgKG9sZFZOb2RlLnR5cGUgPT09IEZyYWdtZW50IHx8IC8vIC0gSW4gdGhlIGNhc2Ugb2YgZGlmZmVyZW50IG5vZGVzLCB0aGVyZSBpcyBnb2luZyB0byBiZSBhIHJlcGxhY2VtZW50XG4gICAgICAgIC8vIHdoaWNoIGFsc28gcmVxdWlyZXMgdGhlIGNvcnJlY3QgcGFyZW50IGNvbnRhaW5lclxuICAgICAgICAhaXNTYW1lVk5vZGVUeXBlKG9sZFZOb2RlLCBuZXdWTm9kZSkgfHwgLy8gLSBJbiB0aGUgY2FzZSBvZiBhIGNvbXBvbmVudCwgaXQgY291bGQgY29udGFpbiBhbnl0aGluZy5cbiAgICAgICAgb2xkVk5vZGUuc2hhcGVGbGFnICYgKDYgfCA2NCkpID8gaG9zdFBhcmVudE5vZGUob2xkVk5vZGUuZWwpIDogKFxuICAgICAgICAgIC8vIEluIG90aGVyIGNhc2VzLCB0aGUgcGFyZW50IGNvbnRhaW5lciBpcyBub3QgYWN0dWFsbHkgdXNlZCBzbyB3ZVxuICAgICAgICAgIC8vIGp1c3QgcGFzcyB0aGUgYmxvY2sgZWxlbWVudCBoZXJlIHRvIGF2b2lkIGEgRE9NIHBhcmVudE5vZGUgY2FsbC5cbiAgICAgICAgICBmYWxsYmFja0NvbnRhaW5lclxuICAgICAgICApXG4gICAgICApO1xuICAgICAgcGF0Y2goXG4gICAgICAgIG9sZFZOb2RlLFxuICAgICAgICBuZXdWTm9kZSxcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBudWxsLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgdHJ1ZVxuICAgICAgKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHBhdGNoUHJvcHMgPSAoZWwsIHZub2RlLCBvbGRQcm9wcywgbmV3UHJvcHMsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG5hbWVzcGFjZSkgPT4ge1xuICAgIGlmIChvbGRQcm9wcyAhPT0gbmV3UHJvcHMpIHtcbiAgICAgIGlmIChvbGRQcm9wcyAhPT0gRU1QVFlfT0JKKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIG9sZFByb3BzKSB7XG4gICAgICAgICAgaWYgKCFpc1Jlc2VydmVkUHJvcChrZXkpICYmICEoa2V5IGluIG5ld1Byb3BzKSkge1xuICAgICAgICAgICAgaG9zdFBhdGNoUHJvcChcbiAgICAgICAgICAgICAgZWwsXG4gICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgb2xkUHJvcHNba2V5XSxcbiAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgICB2bm9kZS5jaGlsZHJlbixcbiAgICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgICAgdW5tb3VudENoaWxkcmVuXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZm9yIChjb25zdCBrZXkgaW4gbmV3UHJvcHMpIHtcbiAgICAgICAgaWYgKGlzUmVzZXJ2ZWRQcm9wKGtleSkpIGNvbnRpbnVlO1xuICAgICAgICBjb25zdCBuZXh0ID0gbmV3UHJvcHNba2V5XTtcbiAgICAgICAgY29uc3QgcHJldiA9IG9sZFByb3BzW2tleV07XG4gICAgICAgIGlmIChuZXh0ICE9PSBwcmV2ICYmIGtleSAhPT0gXCJ2YWx1ZVwiKSB7XG4gICAgICAgICAgaG9zdFBhdGNoUHJvcChcbiAgICAgICAgICAgIGVsLFxuICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgcHJldixcbiAgICAgICAgICAgIG5leHQsXG4gICAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgICB2bm9kZS5jaGlsZHJlbixcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgdW5tb3VudENoaWxkcmVuXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKFwidmFsdWVcIiBpbiBuZXdQcm9wcykge1xuICAgICAgICBob3N0UGF0Y2hQcm9wKGVsLCBcInZhbHVlXCIsIG9sZFByb3BzLnZhbHVlLCBuZXdQcm9wcy52YWx1ZSwgbmFtZXNwYWNlKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGNvbnN0IHByb2Nlc3NGcmFnbWVudCA9IChuMSwgbjIsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBuYW1lc3BhY2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKSA9PiB7XG4gICAgY29uc3QgZnJhZ21lbnRTdGFydEFuY2hvciA9IG4yLmVsID0gbjEgPyBuMS5lbCA6IGhvc3RDcmVhdGVUZXh0KFwiXCIpO1xuICAgIGNvbnN0IGZyYWdtZW50RW5kQW5jaG9yID0gbjIuYW5jaG9yID0gbjEgPyBuMS5hbmNob3IgOiBob3N0Q3JlYXRlVGV4dChcIlwiKTtcbiAgICBsZXQgeyBwYXRjaEZsYWcsIGR5bmFtaWNDaGlsZHJlbiwgc2xvdFNjb3BlSWRzOiBmcmFnbWVudFNsb3RTY29wZUlkcyB9ID0gbjI7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgLy8gIzU1MjMgZGV2IHJvb3QgZnJhZ21lbnQgbWF5IGluaGVyaXQgZGlyZWN0aXZlc1xuICAgIChpc0htclVwZGF0aW5nIHx8IHBhdGNoRmxhZyAmIDIwNDgpKSB7XG4gICAgICBwYXRjaEZsYWcgPSAwO1xuICAgICAgb3B0aW1pemVkID0gZmFsc2U7XG4gICAgICBkeW5hbWljQ2hpbGRyZW4gPSBudWxsO1xuICAgIH1cbiAgICBpZiAoZnJhZ21lbnRTbG90U2NvcGVJZHMpIHtcbiAgICAgIHNsb3RTY29wZUlkcyA9IHNsb3RTY29wZUlkcyA/IHNsb3RTY29wZUlkcy5jb25jYXQoZnJhZ21lbnRTbG90U2NvcGVJZHMpIDogZnJhZ21lbnRTbG90U2NvcGVJZHM7XG4gICAgfVxuICAgIGlmIChuMSA9PSBudWxsKSB7XG4gICAgICBob3N0SW5zZXJ0KGZyYWdtZW50U3RhcnRBbmNob3IsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgIGhvc3RJbnNlcnQoZnJhZ21lbnRFbmRBbmNob3IsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgIG1vdW50Q2hpbGRyZW4oXG4gICAgICAgIC8vICMxMDAwN1xuICAgICAgICAvLyBzdWNoIGZyYWdtZW50IGxpa2UgYDw+PC8+YCB3aWxsIGJlIGNvbXBpbGVkIGludG9cbiAgICAgICAgLy8gYSBmcmFnbWVudCB3aGljaCBkb2Vzbid0IGhhdmUgYSBjaGlsZHJlbi5cbiAgICAgICAgLy8gSW4gdGhpcyBjYXNlIGZhbGxiYWNrIHRvIGFuIGVtcHR5IGFycmF5XG4gICAgICAgIG4yLmNoaWxkcmVuIHx8IFtdLFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIGZyYWdtZW50RW5kQW5jaG9yLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgb3B0aW1pemVkXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAocGF0Y2hGbGFnID4gMCAmJiBwYXRjaEZsYWcgJiA2NCAmJiBkeW5hbWljQ2hpbGRyZW4gJiYgLy8gIzI3MTUgdGhlIHByZXZpb3VzIGZyYWdtZW50IGNvdWxkJ3ZlIGJlZW4gYSBCQUlMZWQgb25lIGFzIGEgcmVzdWx0XG4gICAgICAvLyBvZiByZW5kZXJTbG90KCkgd2l0aCBubyB2YWxpZCBjaGlsZHJlblxuICAgICAgbjEuZHluYW1pY0NoaWxkcmVuKSB7XG4gICAgICAgIHBhdGNoQmxvY2tDaGlsZHJlbihcbiAgICAgICAgICBuMS5keW5hbWljQ2hpbGRyZW4sXG4gICAgICAgICAgZHluYW1pY0NoaWxkcmVuLFxuICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgIHNsb3RTY29wZUlkc1xuICAgICAgICApO1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHRyYXZlcnNlU3RhdGljQ2hpbGRyZW4objEsIG4yKTtcbiAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAvLyAjMjA4MCBpZiB0aGUgc3RhYmxlIGZyYWdtZW50IGhhcyBhIGtleSwgaXQncyBhIDx0ZW1wbGF0ZSB2LWZvcj4gdGhhdCBtYXlcbiAgICAgICAgICAvLyAgZ2V0IG1vdmVkIGFyb3VuZC4gTWFrZSBzdXJlIGFsbCByb290IGxldmVsIHZub2RlcyBpbmhlcml0IGVsLlxuICAgICAgICAgIC8vICMyMTM0IG9yIGlmIGl0J3MgYSBjb21wb25lbnQgcm9vdCwgaXQgbWF5IGFsc28gZ2V0IG1vdmVkIGFyb3VuZFxuICAgICAgICAgIC8vIGFzIHRoZSBjb21wb25lbnQgaXMgYmVpbmcgbW92ZWQuXG4gICAgICAgICAgbjIua2V5ICE9IG51bGwgfHwgcGFyZW50Q29tcG9uZW50ICYmIG4yID09PSBwYXJlbnRDb21wb25lbnQuc3ViVHJlZVxuICAgICAgICApIHtcbiAgICAgICAgICB0cmF2ZXJzZVN0YXRpY0NoaWxkcmVuKFxuICAgICAgICAgICAgbjEsXG4gICAgICAgICAgICBuMixcbiAgICAgICAgICAgIHRydWVcbiAgICAgICAgICAgIC8qIHNoYWxsb3cgKi9cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXRjaENoaWxkcmVuKFxuICAgICAgICAgIG4xLFxuICAgICAgICAgIG4yLFxuICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICBmcmFnbWVudEVuZEFuY2hvcixcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGNvbnN0IHByb2Nlc3NDb21wb25lbnQgPSAobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xuICAgIG4yLnNsb3RTY29wZUlkcyA9IHNsb3RTY29wZUlkcztcbiAgICBpZiAobjEgPT0gbnVsbCkge1xuICAgICAgaWYgKG4yLnNoYXBlRmxhZyAmIDUxMikge1xuICAgICAgICBwYXJlbnRDb21wb25lbnQuY3R4LmFjdGl2YXRlKFxuICAgICAgICAgIG4yLFxuICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICBhbmNob3IsXG4gICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbW91bnRDb21wb25lbnQoXG4gICAgICAgICAgbjIsXG4gICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB1cGRhdGVDb21wb25lbnQobjEsIG4yLCBvcHRpbWl6ZWQpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgbW91bnRDb21wb25lbnQgPSAoaW5pdGlhbFZOb2RlLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBvcHRpbWl6ZWQpID0+IHtcbiAgICBjb25zdCBpbnN0YW5jZSA9IChpbml0aWFsVk5vZGUuY29tcG9uZW50ID0gY3JlYXRlQ29tcG9uZW50SW5zdGFuY2UoXG4gICAgICBpbml0aWFsVk5vZGUsXG4gICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICBwYXJlbnRTdXNwZW5zZVxuICAgICkpO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGluc3RhbmNlLnR5cGUuX19obXJJZCkge1xuICAgICAgcmVnaXN0ZXJITVIoaW5zdGFuY2UpO1xuICAgIH1cbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgcHVzaFdhcm5pbmdDb250ZXh0KGluaXRpYWxWTm9kZSk7XG4gICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGBtb3VudGApO1xuICAgIH1cbiAgICBpZiAoaXNLZWVwQWxpdmUoaW5pdGlhbFZOb2RlKSkge1xuICAgICAgaW5zdGFuY2UuY3R4LnJlbmRlcmVyID0gaW50ZXJuYWxzO1xuICAgIH1cbiAgICB7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGBpbml0YCk7XG4gICAgICB9XG4gICAgICBzZXR1cENvbXBvbmVudChpbnN0YW5jZSk7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgaW5pdGApO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaW5zdGFuY2UuYXN5bmNEZXApIHtcbiAgICAgIHBhcmVudFN1c3BlbnNlICYmIHBhcmVudFN1c3BlbnNlLnJlZ2lzdGVyRGVwKGluc3RhbmNlLCBzZXR1cFJlbmRlckVmZmVjdCwgb3B0aW1pemVkKTtcbiAgICAgIGlmICghaW5pdGlhbFZOb2RlLmVsKSB7XG4gICAgICAgIGNvbnN0IHBsYWNlaG9sZGVyID0gaW5zdGFuY2Uuc3ViVHJlZSA9IGNyZWF0ZVZOb2RlKENvbW1lbnQpO1xuICAgICAgICBwcm9jZXNzQ29tbWVudE5vZGUobnVsbCwgcGxhY2Vob2xkZXIsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc2V0dXBSZW5kZXJFZmZlY3QoXG4gICAgICAgIGluc3RhbmNlLFxuICAgICAgICBpbml0aWFsVk5vZGUsXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgYW5jaG9yLFxuICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICk7XG4gICAgfVxuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICBwb3BXYXJuaW5nQ29udGV4dCgpO1xuICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYG1vdW50YCk7XG4gICAgfVxuICB9O1xuICBjb25zdCB1cGRhdGVDb21wb25lbnQgPSAobjEsIG4yLCBvcHRpbWl6ZWQpID0+IHtcbiAgICBjb25zdCBpbnN0YW5jZSA9IG4yLmNvbXBvbmVudCA9IG4xLmNvbXBvbmVudDtcbiAgICBpZiAoc2hvdWxkVXBkYXRlQ29tcG9uZW50KG4xLCBuMiwgb3B0aW1pemVkKSkge1xuICAgICAgaWYgKGluc3RhbmNlLmFzeW5jRGVwICYmICFpbnN0YW5jZS5hc3luY1Jlc29sdmVkKSB7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgcHVzaFdhcm5pbmdDb250ZXh0KG4yKTtcbiAgICAgICAgfVxuICAgICAgICB1cGRhdGVDb21wb25lbnRQcmVSZW5kZXIoaW5zdGFuY2UsIG4yLCBvcHRpbWl6ZWQpO1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHBvcFdhcm5pbmdDb250ZXh0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5zdGFuY2UubmV4dCA9IG4yO1xuICAgICAgICBpbnZhbGlkYXRlSm9iKGluc3RhbmNlLnVwZGF0ZSk7XG4gICAgICAgIGluc3RhbmNlLmVmZmVjdC5kaXJ0eSA9IHRydWU7XG4gICAgICAgIGluc3RhbmNlLnVwZGF0ZSgpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBuMi5lbCA9IG4xLmVsO1xuICAgICAgaW5zdGFuY2Uudm5vZGUgPSBuMjtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHNldHVwUmVuZGVyRWZmZWN0ID0gKGluc3RhbmNlLCBpbml0aWFsVk5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBvcHRpbWl6ZWQpID0+IHtcbiAgICBjb25zdCBjb21wb25lbnRVcGRhdGVGbiA9ICgpID0+IHtcbiAgICAgIGlmICghaW5zdGFuY2UuaXNNb3VudGVkKSB7XG4gICAgICAgIGxldCB2bm9kZUhvb2s7XG4gICAgICAgIGNvbnN0IHsgZWwsIHByb3BzIH0gPSBpbml0aWFsVk5vZGU7XG4gICAgICAgIGNvbnN0IHsgYm0sIG0sIHBhcmVudCB9ID0gaW5zdGFuY2U7XG4gICAgICAgIGNvbnN0IGlzQXN5bmNXcmFwcGVyVk5vZGUgPSBpc0FzeW5jV3JhcHBlcihpbml0aWFsVk5vZGUpO1xuICAgICAgICB0b2dnbGVSZWN1cnNlKGluc3RhbmNlLCBmYWxzZSk7XG4gICAgICAgIGlmIChibSkge1xuICAgICAgICAgIGludm9rZUFycmF5Rm5zKGJtKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzQXN5bmNXcmFwcGVyVk5vZGUgJiYgKHZub2RlSG9vayA9IHByb3BzICYmIHByb3BzLm9uVm5vZGVCZWZvcmVNb3VudCkpIHtcbiAgICAgICAgICBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnQsIGluaXRpYWxWTm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgdG9nZ2xlUmVjdXJzZShpbnN0YW5jZSwgdHJ1ZSk7XG4gICAgICAgIGlmIChlbCAmJiBoeWRyYXRlTm9kZSkge1xuICAgICAgICAgIGNvbnN0IGh5ZHJhdGVTdWJUcmVlID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICAgICAgc3RhcnRNZWFzdXJlKGluc3RhbmNlLCBgcmVuZGVyYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbnN0YW5jZS5zdWJUcmVlID0gcmVuZGVyQ29tcG9uZW50Um9vdChpbnN0YW5jZSk7XG4gICAgICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgcmVuZGVyYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGBoeWRyYXRlYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBoeWRyYXRlTm9kZShcbiAgICAgICAgICAgICAgZWwsXG4gICAgICAgICAgICAgIGluc3RhbmNlLnN1YlRyZWUsXG4gICAgICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGBoeWRyYXRlYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgICBpZiAoaXNBc3luY1dyYXBwZXJWTm9kZSkge1xuICAgICAgICAgICAgaW5pdGlhbFZOb2RlLnR5cGUuX19hc3luY0xvYWRlcigpLnRoZW4oXG4gICAgICAgICAgICAgIC8vIG5vdGU6IHdlIGFyZSBtb3ZpbmcgdGhlIHJlbmRlciBjYWxsIGludG8gYW4gYXN5bmMgY2FsbGJhY2ssXG4gICAgICAgICAgICAgIC8vIHdoaWNoIG1lYW5zIGl0IHdvbid0IHRyYWNrIGRlcGVuZGVuY2llcyAtIGJ1dCBpdCdzIG9rIGJlY2F1c2VcbiAgICAgICAgICAgICAgLy8gYSBzZXJ2ZXItcmVuZGVyZWQgYXN5bmMgd3JhcHBlciBpcyBhbHJlYWR5IGluIHJlc29sdmVkIHN0YXRlXG4gICAgICAgICAgICAgIC8vIGFuZCBpdCB3aWxsIG5ldmVyIG5lZWQgdG8gY2hhbmdlLlxuICAgICAgICAgICAgICAoKSA9PiAhaW5zdGFuY2UuaXNVbm1vdW50ZWQgJiYgaHlkcmF0ZVN1YlRyZWUoKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaHlkcmF0ZVN1YlRyZWUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICAgIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgYHJlbmRlcmApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBzdWJUcmVlID0gaW5zdGFuY2Uuc3ViVHJlZSA9IHJlbmRlckNvbXBvbmVudFJvb3QoaW5zdGFuY2UpO1xuICAgICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgICBlbmRNZWFzdXJlKGluc3RhbmNlLCBgcmVuZGVyYCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGBwYXRjaGApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwYXRjaChcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBzdWJUcmVlLFxuICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgYW5jaG9yLFxuICAgICAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICAgIG5hbWVzcGFjZVxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGBwYXRjaGApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpbml0aWFsVk5vZGUuZWwgPSBzdWJUcmVlLmVsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtKSB7XG4gICAgICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KG0sIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzQXN5bmNXcmFwcGVyVk5vZGUgJiYgKHZub2RlSG9vayA9IHByb3BzICYmIHByb3BzLm9uVm5vZGVNb3VudGVkKSkge1xuICAgICAgICAgIGNvbnN0IHNjb3BlZEluaXRpYWxWTm9kZSA9IGluaXRpYWxWTm9kZTtcbiAgICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoXG4gICAgICAgICAgICAoKSA9PiBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnQsIHNjb3BlZEluaXRpYWxWTm9kZSksXG4gICAgICAgICAgICBwYXJlbnRTdXNwZW5zZVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluaXRpYWxWTm9kZS5zaGFwZUZsYWcgJiAyNTYgfHwgcGFyZW50ICYmIGlzQXN5bmNXcmFwcGVyKHBhcmVudC52bm9kZSkgJiYgcGFyZW50LnZub2RlLnNoYXBlRmxhZyAmIDI1Nikge1xuICAgICAgICAgIGluc3RhbmNlLmEgJiYgcXVldWVQb3N0UmVuZGVyRWZmZWN0KGluc3RhbmNlLmEsIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgICAgfVxuICAgICAgICBpbnN0YW5jZS5pc01vdW50ZWQgPSB0cnVlO1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgICAgICBkZXZ0b29sc0NvbXBvbmVudEFkZGVkKGluc3RhbmNlKTtcbiAgICAgICAgfVxuICAgICAgICBpbml0aWFsVk5vZGUgPSBjb250YWluZXIgPSBhbmNob3IgPSBudWxsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IHsgbmV4dCwgYnUsIHUsIHBhcmVudCwgdm5vZGUgfSA9IGluc3RhbmNlO1xuICAgICAgICB7XG4gICAgICAgICAgY29uc3Qgbm9uSHlkcmF0ZWRBc3luY1Jvb3QgPSBsb2NhdGVOb25IeWRyYXRlZEFzeW5jUm9vdChpbnN0YW5jZSk7XG4gICAgICAgICAgaWYgKG5vbkh5ZHJhdGVkQXN5bmNSb290KSB7XG4gICAgICAgICAgICBpZiAobmV4dCkge1xuICAgICAgICAgICAgICBuZXh0LmVsID0gdm5vZGUuZWw7XG4gICAgICAgICAgICAgIHVwZGF0ZUNvbXBvbmVudFByZVJlbmRlcihpbnN0YW5jZSwgbmV4dCwgb3B0aW1pemVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5vbkh5ZHJhdGVkQXN5bmNSb290LmFzeW5jRGVwLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICBpZiAoIWluc3RhbmNlLmlzVW5tb3VudGVkKSB7XG4gICAgICAgICAgICAgICAgY29tcG9uZW50VXBkYXRlRm4oKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBvcmlnaW5OZXh0ID0gbmV4dDtcbiAgICAgICAgbGV0IHZub2RlSG9vaztcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBwdXNoV2FybmluZ0NvbnRleHQobmV4dCB8fCBpbnN0YW5jZS52bm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgdG9nZ2xlUmVjdXJzZShpbnN0YW5jZSwgZmFsc2UpO1xuICAgICAgICBpZiAobmV4dCkge1xuICAgICAgICAgIG5leHQuZWwgPSB2bm9kZS5lbDtcbiAgICAgICAgICB1cGRhdGVDb21wb25lbnRQcmVSZW5kZXIoaW5zdGFuY2UsIG5leHQsIG9wdGltaXplZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV4dCA9IHZub2RlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChidSkge1xuICAgICAgICAgIGludm9rZUFycmF5Rm5zKGJ1KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodm5vZGVIb29rID0gbmV4dC5wcm9wcyAmJiBuZXh0LnByb3BzLm9uVm5vZGVCZWZvcmVVcGRhdGUpIHtcbiAgICAgICAgICBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBwYXJlbnQsIG5leHQsIHZub2RlKTtcbiAgICAgICAgfVxuICAgICAgICB0b2dnbGVSZWN1cnNlKGluc3RhbmNlLCB0cnVlKTtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGByZW5kZXJgKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuZXh0VHJlZSA9IHJlbmRlckNvbXBvbmVudFJvb3QoaW5zdGFuY2UpO1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGByZW5kZXJgKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwcmV2VHJlZSA9IGluc3RhbmNlLnN1YlRyZWU7XG4gICAgICAgIGluc3RhbmNlLnN1YlRyZWUgPSBuZXh0VHJlZTtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBzdGFydE1lYXN1cmUoaW5zdGFuY2UsIGBwYXRjaGApO1xuICAgICAgICB9XG4gICAgICAgIHBhdGNoKFxuICAgICAgICAgIHByZXZUcmVlLFxuICAgICAgICAgIG5leHRUcmVlLFxuICAgICAgICAgIC8vIHBhcmVudCBtYXkgaGF2ZSBjaGFuZ2VkIGlmIGl0J3MgaW4gYSB0ZWxlcG9ydFxuICAgICAgICAgIGhvc3RQYXJlbnROb2RlKHByZXZUcmVlLmVsKSxcbiAgICAgICAgICAvLyBhbmNob3IgbWF5IGhhdmUgY2hhbmdlZCBpZiBpdCdzIGluIGEgZnJhZ21lbnRcbiAgICAgICAgICBnZXROZXh0SG9zdE5vZGUocHJldlRyZWUpLFxuICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIG5hbWVzcGFjZVxuICAgICAgICApO1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIGVuZE1lYXN1cmUoaW5zdGFuY2UsIGBwYXRjaGApO1xuICAgICAgICB9XG4gICAgICAgIG5leHQuZWwgPSBuZXh0VHJlZS5lbDtcbiAgICAgICAgaWYgKG9yaWdpbk5leHQgPT09IG51bGwpIHtcbiAgICAgICAgICB1cGRhdGVIT0NIb3N0RWwoaW5zdGFuY2UsIG5leHRUcmVlLmVsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodSkge1xuICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCh1LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZub2RlSG9vayA9IG5leHQucHJvcHMgJiYgbmV4dC5wcm9wcy5vblZub2RlVXBkYXRlZCkge1xuICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdChcbiAgICAgICAgICAgICgpID0+IGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIHBhcmVudCwgbmV4dCwgdm5vZGUpLFxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2VcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgICAgIGRldnRvb2xzQ29tcG9uZW50VXBkYXRlZChpbnN0YW5jZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICBwb3BXYXJuaW5nQ29udGV4dCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBlZmZlY3QgPSBpbnN0YW5jZS5lZmZlY3QgPSBuZXcgUmVhY3RpdmVFZmZlY3QoXG4gICAgICBjb21wb25lbnRVcGRhdGVGbixcbiAgICAgIE5PT1AsXG4gICAgICAoKSA9PiBxdWV1ZUpvYih1cGRhdGUpLFxuICAgICAgaW5zdGFuY2Uuc2NvcGVcbiAgICAgIC8vIHRyYWNrIGl0IGluIGNvbXBvbmVudCdzIGVmZmVjdCBzY29wZVxuICAgICk7XG4gICAgY29uc3QgdXBkYXRlID0gaW5zdGFuY2UudXBkYXRlID0gKCkgPT4ge1xuICAgICAgaWYgKGVmZmVjdC5kaXJ0eSkge1xuICAgICAgICBlZmZlY3QucnVuKCk7XG4gICAgICB9XG4gICAgfTtcbiAgICB1cGRhdGUuaWQgPSBpbnN0YW5jZS51aWQ7XG4gICAgdG9nZ2xlUmVjdXJzZShpbnN0YW5jZSwgdHJ1ZSk7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgIGVmZmVjdC5vblRyYWNrID0gaW5zdGFuY2UucnRjID8gKGUpID0+IGludm9rZUFycmF5Rm5zKGluc3RhbmNlLnJ0YywgZSkgOiB2b2lkIDA7XG4gICAgICBlZmZlY3Qub25UcmlnZ2VyID0gaW5zdGFuY2UucnRnID8gKGUpID0+IGludm9rZUFycmF5Rm5zKGluc3RhbmNlLnJ0ZywgZSkgOiB2b2lkIDA7XG4gICAgICB1cGRhdGUub3duZXJJbnN0YW5jZSA9IGluc3RhbmNlO1xuICAgIH1cbiAgICB1cGRhdGUoKTtcbiAgfTtcbiAgY29uc3QgdXBkYXRlQ29tcG9uZW50UHJlUmVuZGVyID0gKGluc3RhbmNlLCBuZXh0Vk5vZGUsIG9wdGltaXplZCkgPT4ge1xuICAgIG5leHRWTm9kZS5jb21wb25lbnQgPSBpbnN0YW5jZTtcbiAgICBjb25zdCBwcmV2UHJvcHMgPSBpbnN0YW5jZS52bm9kZS5wcm9wcztcbiAgICBpbnN0YW5jZS52bm9kZSA9IG5leHRWTm9kZTtcbiAgICBpbnN0YW5jZS5uZXh0ID0gbnVsbDtcbiAgICB1cGRhdGVQcm9wcyhpbnN0YW5jZSwgbmV4dFZOb2RlLnByb3BzLCBwcmV2UHJvcHMsIG9wdGltaXplZCk7XG4gICAgdXBkYXRlU2xvdHMoaW5zdGFuY2UsIG5leHRWTm9kZS5jaGlsZHJlbiwgb3B0aW1pemVkKTtcbiAgICBwYXVzZVRyYWNraW5nKCk7XG4gICAgZmx1c2hQcmVGbHVzaENicyhpbnN0YW5jZSk7XG4gICAgcmVzZXRUcmFja2luZygpO1xuICB9O1xuICBjb25zdCBwYXRjaENoaWxkcmVuID0gKG4xLCBuMiwgY29udGFpbmVyLCBhbmNob3IsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIG5hbWVzcGFjZSwgc2xvdFNjb3BlSWRzLCBvcHRpbWl6ZWQgPSBmYWxzZSkgPT4ge1xuICAgIGNvbnN0IGMxID0gbjEgJiYgbjEuY2hpbGRyZW47XG4gICAgY29uc3QgcHJldlNoYXBlRmxhZyA9IG4xID8gbjEuc2hhcGVGbGFnIDogMDtcbiAgICBjb25zdCBjMiA9IG4yLmNoaWxkcmVuO1xuICAgIGNvbnN0IHsgcGF0Y2hGbGFnLCBzaGFwZUZsYWcgfSA9IG4yO1xuICAgIGlmIChwYXRjaEZsYWcgPiAwKSB7XG4gICAgICBpZiAocGF0Y2hGbGFnICYgMTI4KSB7XG4gICAgICAgIHBhdGNoS2V5ZWRDaGlsZHJlbihcbiAgICAgICAgICBjMSxcbiAgICAgICAgICBjMixcbiAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgYW5jaG9yLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2UgaWYgKHBhdGNoRmxhZyAmIDI1Nikge1xuICAgICAgICBwYXRjaFVua2V5ZWRDaGlsZHJlbihcbiAgICAgICAgICBjMSxcbiAgICAgICAgICBjMixcbiAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgYW5jaG9yLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChzaGFwZUZsYWcgJiA4KSB7XG4gICAgICBpZiAocHJldlNoYXBlRmxhZyAmIDE2KSB7XG4gICAgICAgIHVubW91bnRDaGlsZHJlbihjMSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICB9XG4gICAgICBpZiAoYzIgIT09IGMxKSB7XG4gICAgICAgIGhvc3RTZXRFbGVtZW50VGV4dChjb250YWluZXIsIGMyKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHByZXZTaGFwZUZsYWcgJiAxNikge1xuICAgICAgICBpZiAoc2hhcGVGbGFnICYgMTYpIHtcbiAgICAgICAgICBwYXRjaEtleWVkQ2hpbGRyZW4oXG4gICAgICAgICAgICBjMSxcbiAgICAgICAgICAgIGMyLFxuICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgYW5jaG9yLFxuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHVubW91bnRDaGlsZHJlbihjMSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChwcmV2U2hhcGVGbGFnICYgOCkge1xuICAgICAgICAgIGhvc3RTZXRFbGVtZW50VGV4dChjb250YWluZXIsIFwiXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzaGFwZUZsYWcgJiAxNikge1xuICAgICAgICAgIG1vdW50Q2hpbGRyZW4oXG4gICAgICAgICAgICBjMixcbiAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgY29uc3QgcGF0Y2hVbmtleWVkQ2hpbGRyZW4gPSAoYzEsIGMyLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCkgPT4ge1xuICAgIGMxID0gYzEgfHwgRU1QVFlfQVJSO1xuICAgIGMyID0gYzIgfHwgRU1QVFlfQVJSO1xuICAgIGNvbnN0IG9sZExlbmd0aCA9IGMxLmxlbmd0aDtcbiAgICBjb25zdCBuZXdMZW5ndGggPSBjMi5sZW5ndGg7XG4gICAgY29uc3QgY29tbW9uTGVuZ3RoID0gTWF0aC5taW4ob2xkTGVuZ3RoLCBuZXdMZW5ndGgpO1xuICAgIGxldCBpO1xuICAgIGZvciAoaSA9IDA7IGkgPCBjb21tb25MZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgbmV4dENoaWxkID0gYzJbaV0gPSBvcHRpbWl6ZWQgPyBjbG9uZUlmTW91bnRlZChjMltpXSkgOiBub3JtYWxpemVWTm9kZShjMltpXSk7XG4gICAgICBwYXRjaChcbiAgICAgICAgYzFbaV0sXG4gICAgICAgIG5leHRDaGlsZCxcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBudWxsLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgb3B0aW1pemVkXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAob2xkTGVuZ3RoID4gbmV3TGVuZ3RoKSB7XG4gICAgICB1bm1vdW50Q2hpbGRyZW4oXG4gICAgICAgIGMxLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICB0cnVlLFxuICAgICAgICBmYWxzZSxcbiAgICAgICAgY29tbW9uTGVuZ3RoXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBtb3VudENoaWxkcmVuKFxuICAgICAgICBjMixcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBhbmNob3IsXG4gICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICBvcHRpbWl6ZWQsXG4gICAgICAgIGNvbW1vbkxlbmd0aFxuICAgICAgKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHBhdGNoS2V5ZWRDaGlsZHJlbiA9IChjMSwgYzIsIGNvbnRhaW5lciwgcGFyZW50QW5jaG9yLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBuYW1lc3BhY2UsIHNsb3RTY29wZUlkcywgb3B0aW1pemVkKSA9PiB7XG4gICAgbGV0IGkgPSAwO1xuICAgIGNvbnN0IGwyID0gYzIubGVuZ3RoO1xuICAgIGxldCBlMSA9IGMxLmxlbmd0aCAtIDE7XG4gICAgbGV0IGUyID0gbDIgLSAxO1xuICAgIHdoaWxlIChpIDw9IGUxICYmIGkgPD0gZTIpIHtcbiAgICAgIGNvbnN0IG4xID0gYzFbaV07XG4gICAgICBjb25zdCBuMiA9IGMyW2ldID0gb3B0aW1pemVkID8gY2xvbmVJZk1vdW50ZWQoYzJbaV0pIDogbm9ybWFsaXplVk5vZGUoYzJbaV0pO1xuICAgICAgaWYgKGlzU2FtZVZOb2RlVHlwZShuMSwgbjIpKSB7XG4gICAgICAgIHBhdGNoKFxuICAgICAgICAgIG4xLFxuICAgICAgICAgIG4yLFxuICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBpKys7XG4gICAgfVxuICAgIHdoaWxlIChpIDw9IGUxICYmIGkgPD0gZTIpIHtcbiAgICAgIGNvbnN0IG4xID0gYzFbZTFdO1xuICAgICAgY29uc3QgbjIgPSBjMltlMl0gPSBvcHRpbWl6ZWQgPyBjbG9uZUlmTW91bnRlZChjMltlMl0pIDogbm9ybWFsaXplVk5vZGUoYzJbZTJdKTtcbiAgICAgIGlmIChpc1NhbWVWTm9kZVR5cGUobjEsIG4yKSkge1xuICAgICAgICBwYXRjaChcbiAgICAgICAgICBuMSxcbiAgICAgICAgICBuMixcbiAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgIHNsb3RTY29wZUlkcyxcbiAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgZTEtLTtcbiAgICAgIGUyLS07XG4gICAgfVxuICAgIGlmIChpID4gZTEpIHtcbiAgICAgIGlmIChpIDw9IGUyKSB7XG4gICAgICAgIGNvbnN0IG5leHRQb3MgPSBlMiArIDE7XG4gICAgICAgIGNvbnN0IGFuY2hvciA9IG5leHRQb3MgPCBsMiA/IGMyW25leHRQb3NdLmVsIDogcGFyZW50QW5jaG9yO1xuICAgICAgICB3aGlsZSAoaSA8PSBlMikge1xuICAgICAgICAgIHBhdGNoKFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIGMyW2ldID0gb3B0aW1pemVkID8gY2xvbmVJZk1vdW50ZWQoYzJbaV0pIDogbm9ybWFsaXplVk5vZGUoYzJbaV0pLFxuICAgICAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAgICAgYW5jaG9yLFxuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgICApO1xuICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaSA+IGUyKSB7XG4gICAgICB3aGlsZSAoaSA8PSBlMSkge1xuICAgICAgICB1bm1vdW50KGMxW2ldLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCB0cnVlKTtcbiAgICAgICAgaSsrO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBzMSA9IGk7XG4gICAgICBjb25zdCBzMiA9IGk7XG4gICAgICBjb25zdCBrZXlUb05ld0luZGV4TWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICAgIGZvciAoaSA9IHMyOyBpIDw9IGUyOyBpKyspIHtcbiAgICAgICAgY29uc3QgbmV4dENoaWxkID0gYzJbaV0gPSBvcHRpbWl6ZWQgPyBjbG9uZUlmTW91bnRlZChjMltpXSkgOiBub3JtYWxpemVWTm9kZShjMltpXSk7XG4gICAgICAgIGlmIChuZXh0Q2hpbGQua2V5ICE9IG51bGwpIHtcbiAgICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBrZXlUb05ld0luZGV4TWFwLmhhcyhuZXh0Q2hpbGQua2V5KSkge1xuICAgICAgICAgICAgd2FybiQxKFxuICAgICAgICAgICAgICBgRHVwbGljYXRlIGtleXMgZm91bmQgZHVyaW5nIHVwZGF0ZTpgLFxuICAgICAgICAgICAgICBKU09OLnN0cmluZ2lmeShuZXh0Q2hpbGQua2V5KSxcbiAgICAgICAgICAgICAgYE1ha2Ugc3VyZSBrZXlzIGFyZSB1bmlxdWUuYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAga2V5VG9OZXdJbmRleE1hcC5zZXQobmV4dENoaWxkLmtleSwgaSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGxldCBqO1xuICAgICAgbGV0IHBhdGNoZWQgPSAwO1xuICAgICAgY29uc3QgdG9CZVBhdGNoZWQgPSBlMiAtIHMyICsgMTtcbiAgICAgIGxldCBtb3ZlZCA9IGZhbHNlO1xuICAgICAgbGV0IG1heE5ld0luZGV4U29GYXIgPSAwO1xuICAgICAgY29uc3QgbmV3SW5kZXhUb09sZEluZGV4TWFwID0gbmV3IEFycmF5KHRvQmVQYXRjaGVkKTtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCB0b0JlUGF0Y2hlZDsgaSsrKSBuZXdJbmRleFRvT2xkSW5kZXhNYXBbaV0gPSAwO1xuICAgICAgZm9yIChpID0gczE7IGkgPD0gZTE7IGkrKykge1xuICAgICAgICBjb25zdCBwcmV2Q2hpbGQgPSBjMVtpXTtcbiAgICAgICAgaWYgKHBhdGNoZWQgPj0gdG9CZVBhdGNoZWQpIHtcbiAgICAgICAgICB1bm1vdW50KHByZXZDaGlsZCwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgdHJ1ZSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG5ld0luZGV4O1xuICAgICAgICBpZiAocHJldkNoaWxkLmtleSAhPSBudWxsKSB7XG4gICAgICAgICAgbmV3SW5kZXggPSBrZXlUb05ld0luZGV4TWFwLmdldChwcmV2Q2hpbGQua2V5KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmb3IgKGogPSBzMjsgaiA8PSBlMjsgaisrKSB7XG4gICAgICAgICAgICBpZiAobmV3SW5kZXhUb09sZEluZGV4TWFwW2ogLSBzMl0gPT09IDAgJiYgaXNTYW1lVk5vZGVUeXBlKHByZXZDaGlsZCwgYzJbal0pKSB7XG4gICAgICAgICAgICAgIG5ld0luZGV4ID0gajtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChuZXdJbmRleCA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgdW5tb3VudChwcmV2Q2hpbGQsIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHRydWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5ld0luZGV4VG9PbGRJbmRleE1hcFtuZXdJbmRleCAtIHMyXSA9IGkgKyAxO1xuICAgICAgICAgIGlmIChuZXdJbmRleCA+PSBtYXhOZXdJbmRleFNvRmFyKSB7XG4gICAgICAgICAgICBtYXhOZXdJbmRleFNvRmFyID0gbmV3SW5kZXg7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1vdmVkID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcGF0Y2goXG4gICAgICAgICAgICBwcmV2Q2hpbGQsXG4gICAgICAgICAgICBjMltuZXdJbmRleF0sXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgICBuYW1lc3BhY2UsXG4gICAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICAgICApO1xuICAgICAgICAgIHBhdGNoZWQrKztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgaW5jcmVhc2luZ05ld0luZGV4U2VxdWVuY2UgPSBtb3ZlZCA/IGdldFNlcXVlbmNlKG5ld0luZGV4VG9PbGRJbmRleE1hcCkgOiBFTVBUWV9BUlI7XG4gICAgICBqID0gaW5jcmVhc2luZ05ld0luZGV4U2VxdWVuY2UubGVuZ3RoIC0gMTtcbiAgICAgIGZvciAoaSA9IHRvQmVQYXRjaGVkIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgY29uc3QgbmV4dEluZGV4ID0gczIgKyBpO1xuICAgICAgICBjb25zdCBuZXh0Q2hpbGQgPSBjMltuZXh0SW5kZXhdO1xuICAgICAgICBjb25zdCBhbmNob3IgPSBuZXh0SW5kZXggKyAxIDwgbDIgPyBjMltuZXh0SW5kZXggKyAxXS5lbCA6IHBhcmVudEFuY2hvcjtcbiAgICAgICAgaWYgKG5ld0luZGV4VG9PbGRJbmRleE1hcFtpXSA9PT0gMCkge1xuICAgICAgICAgIHBhdGNoKFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIG5leHRDaGlsZCxcbiAgICAgICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgICAgIGFuY2hvcixcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIGlmIChtb3ZlZCkge1xuICAgICAgICAgIGlmIChqIDwgMCB8fCBpICE9PSBpbmNyZWFzaW5nTmV3SW5kZXhTZXF1ZW5jZVtqXSkge1xuICAgICAgICAgICAgbW92ZShuZXh0Q2hpbGQsIGNvbnRhaW5lciwgYW5jaG9yLCAyKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgai0tO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgY29uc3QgbW92ZSA9ICh2bm9kZSwgY29udGFpbmVyLCBhbmNob3IsIG1vdmVUeXBlLCBwYXJlbnRTdXNwZW5zZSA9IG51bGwpID0+IHtcbiAgICBjb25zdCB7IGVsLCB0eXBlLCB0cmFuc2l0aW9uLCBjaGlsZHJlbiwgc2hhcGVGbGFnIH0gPSB2bm9kZTtcbiAgICBpZiAoc2hhcGVGbGFnICYgNikge1xuICAgICAgbW92ZSh2bm9kZS5jb21wb25lbnQuc3ViVHJlZSwgY29udGFpbmVyLCBhbmNob3IsIG1vdmVUeXBlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHNoYXBlRmxhZyAmIDEyOCkge1xuICAgICAgdm5vZGUuc3VzcGVuc2UubW92ZShjb250YWluZXIsIGFuY2hvciwgbW92ZVR5cGUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoc2hhcGVGbGFnICYgNjQpIHtcbiAgICAgIHR5cGUubW92ZSh2bm9kZSwgY29udGFpbmVyLCBhbmNob3IsIGludGVybmFscyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0eXBlID09PSBGcmFnbWVudCkge1xuICAgICAgaG9zdEluc2VydChlbCwgY29udGFpbmVyLCBhbmNob3IpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICBtb3ZlKGNoaWxkcmVuW2ldLCBjb250YWluZXIsIGFuY2hvciwgbW92ZVR5cGUpO1xuICAgICAgfVxuICAgICAgaG9zdEluc2VydCh2bm9kZS5hbmNob3IsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHR5cGUgPT09IFN0YXRpYykge1xuICAgICAgbW92ZVN0YXRpY05vZGUodm5vZGUsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgbmVlZFRyYW5zaXRpb24yID0gbW92ZVR5cGUgIT09IDIgJiYgc2hhcGVGbGFnICYgMSAmJiB0cmFuc2l0aW9uO1xuICAgIGlmIChuZWVkVHJhbnNpdGlvbjIpIHtcbiAgICAgIGlmIChtb3ZlVHlwZSA9PT0gMCkge1xuICAgICAgICB0cmFuc2l0aW9uLmJlZm9yZUVudGVyKGVsKTtcbiAgICAgICAgaG9zdEluc2VydChlbCwgY29udGFpbmVyLCBhbmNob3IpO1xuICAgICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4gdHJhbnNpdGlvbi5lbnRlcihlbCksIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHsgbGVhdmUsIGRlbGF5TGVhdmUsIGFmdGVyTGVhdmUgfSA9IHRyYW5zaXRpb247XG4gICAgICAgIGNvbnN0IHJlbW92ZTIgPSAoKSA9PiBob3N0SW5zZXJ0KGVsLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgICAgIGNvbnN0IHBlcmZvcm1MZWF2ZSA9ICgpID0+IHtcbiAgICAgICAgICBsZWF2ZShlbCwgKCkgPT4ge1xuICAgICAgICAgICAgcmVtb3ZlMigpO1xuICAgICAgICAgICAgYWZ0ZXJMZWF2ZSAmJiBhZnRlckxlYXZlKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIGlmIChkZWxheUxlYXZlKSB7XG4gICAgICAgICAgZGVsYXlMZWF2ZShlbCwgcmVtb3ZlMiwgcGVyZm9ybUxlYXZlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwZXJmb3JtTGVhdmUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBob3N0SW5zZXJ0KGVsLCBjb250YWluZXIsIGFuY2hvcik7XG4gICAgfVxuICB9O1xuICBjb25zdCB1bm1vdW50ID0gKHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBkb1JlbW92ZSA9IGZhbHNlLCBvcHRpbWl6ZWQgPSBmYWxzZSkgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIHR5cGUsXG4gICAgICBwcm9wcyxcbiAgICAgIHJlZixcbiAgICAgIGNoaWxkcmVuLFxuICAgICAgZHluYW1pY0NoaWxkcmVuLFxuICAgICAgc2hhcGVGbGFnLFxuICAgICAgcGF0Y2hGbGFnLFxuICAgICAgZGlycyxcbiAgICAgIG1lbW9JbmRleFxuICAgIH0gPSB2bm9kZTtcbiAgICBpZiAocmVmICE9IG51bGwpIHtcbiAgICAgIHNldFJlZihyZWYsIG51bGwsIHBhcmVudFN1c3BlbnNlLCB2bm9kZSwgdHJ1ZSk7XG4gICAgfVxuICAgIGlmIChtZW1vSW5kZXggIT0gbnVsbCkge1xuICAgICAgcGFyZW50Q29tcG9uZW50LnJlbmRlckNhY2hlW21lbW9JbmRleF0gPSB2b2lkIDA7XG4gICAgfVxuICAgIGlmIChzaGFwZUZsYWcgJiAyNTYpIHtcbiAgICAgIHBhcmVudENvbXBvbmVudC5jdHguZGVhY3RpdmF0ZSh2bm9kZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHNob3VsZEludm9rZURpcnMgPSBzaGFwZUZsYWcgJiAxICYmIGRpcnM7XG4gICAgY29uc3Qgc2hvdWxkSW52b2tlVm5vZGVIb29rID0gIWlzQXN5bmNXcmFwcGVyKHZub2RlKTtcbiAgICBsZXQgdm5vZGVIb29rO1xuICAgIGlmIChzaG91bGRJbnZva2VWbm9kZUhvb2sgJiYgKHZub2RlSG9vayA9IHByb3BzICYmIHByb3BzLm9uVm5vZGVCZWZvcmVVbm1vdW50KSkge1xuICAgICAgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50Q29tcG9uZW50LCB2bm9kZSk7XG4gICAgfVxuICAgIGlmIChzaGFwZUZsYWcgJiA2KSB7XG4gICAgICB1bm1vdW50Q29tcG9uZW50KHZub2RlLmNvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHNoYXBlRmxhZyAmIDEyOCkge1xuICAgICAgICB2bm9kZS5zdXNwZW5zZS51bm1vdW50KHBhcmVudFN1c3BlbnNlLCBkb1JlbW92ZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChzaG91bGRJbnZva2VEaXJzKSB7XG4gICAgICAgIGludm9rZURpcmVjdGl2ZUhvb2sodm5vZGUsIG51bGwsIHBhcmVudENvbXBvbmVudCwgXCJiZWZvcmVVbm1vdW50XCIpO1xuICAgICAgfVxuICAgICAgaWYgKHNoYXBlRmxhZyAmIDY0KSB7XG4gICAgICAgIHZub2RlLnR5cGUucmVtb3ZlKFxuICAgICAgICAgIHZub2RlLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICBvcHRpbWl6ZWQsXG4gICAgICAgICAgaW50ZXJuYWxzLFxuICAgICAgICAgIGRvUmVtb3ZlXG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKGR5bmFtaWNDaGlsZHJlbiAmJiAvLyAjMTE1MzogZmFzdCBwYXRoIHNob3VsZCBub3QgYmUgdGFrZW4gZm9yIG5vbi1zdGFibGUgKHYtZm9yKSBmcmFnbWVudHNcbiAgICAgICh0eXBlICE9PSBGcmFnbWVudCB8fCBwYXRjaEZsYWcgPiAwICYmIHBhdGNoRmxhZyAmIDY0KSkge1xuICAgICAgICB1bm1vdW50Q2hpbGRyZW4oXG4gICAgICAgICAgZHluYW1pY0NoaWxkcmVuLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICB0cnVlXG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IEZyYWdtZW50ICYmIHBhdGNoRmxhZyAmICgxMjggfCAyNTYpIHx8ICFvcHRpbWl6ZWQgJiYgc2hhcGVGbGFnICYgMTYpIHtcbiAgICAgICAgdW5tb3VudENoaWxkcmVuKGNoaWxkcmVuLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgIH1cbiAgICAgIGlmIChkb1JlbW92ZSkge1xuICAgICAgICByZW1vdmUodm5vZGUpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoc2hvdWxkSW52b2tlVm5vZGVIb29rICYmICh2bm9kZUhvb2sgPSBwcm9wcyAmJiBwcm9wcy5vblZub2RlVW5tb3VudGVkKSB8fCBzaG91bGRJbnZva2VEaXJzKSB7XG4gICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4ge1xuICAgICAgICB2bm9kZUhvb2sgJiYgaW52b2tlVk5vZGVIb29rKHZub2RlSG9vaywgcGFyZW50Q29tcG9uZW50LCB2bm9kZSk7XG4gICAgICAgIHNob3VsZEludm9rZURpcnMgJiYgaW52b2tlRGlyZWN0aXZlSG9vayh2bm9kZSwgbnVsbCwgcGFyZW50Q29tcG9uZW50LCBcInVubW91bnRlZFwiKTtcbiAgICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHJlbW92ZSA9ICh2bm9kZSkgPT4ge1xuICAgIGNvbnN0IHsgdHlwZSwgZWwsIGFuY2hvciwgdHJhbnNpdGlvbiB9ID0gdm5vZGU7XG4gICAgaWYgKHR5cGUgPT09IEZyYWdtZW50KSB7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB2bm9kZS5wYXRjaEZsYWcgPiAwICYmIHZub2RlLnBhdGNoRmxhZyAmIDIwNDggJiYgdHJhbnNpdGlvbiAmJiAhdHJhbnNpdGlvbi5wZXJzaXN0ZWQpIHtcbiAgICAgICAgdm5vZGUuY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQpID0+IHtcbiAgICAgICAgICBpZiAoY2hpbGQudHlwZSA9PT0gQ29tbWVudCkge1xuICAgICAgICAgICAgaG9zdFJlbW92ZShjaGlsZC5lbCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlbW92ZShjaGlsZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlbW92ZUZyYWdtZW50KGVsLCBhbmNob3IpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodHlwZSA9PT0gU3RhdGljKSB7XG4gICAgICByZW1vdmVTdGF0aWNOb2RlKHZub2RlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcGVyZm9ybVJlbW92ZSA9ICgpID0+IHtcbiAgICAgIGhvc3RSZW1vdmUoZWwpO1xuICAgICAgaWYgKHRyYW5zaXRpb24gJiYgIXRyYW5zaXRpb24ucGVyc2lzdGVkICYmIHRyYW5zaXRpb24uYWZ0ZXJMZWF2ZSkge1xuICAgICAgICB0cmFuc2l0aW9uLmFmdGVyTGVhdmUoKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGlmICh2bm9kZS5zaGFwZUZsYWcgJiAxICYmIHRyYW5zaXRpb24gJiYgIXRyYW5zaXRpb24ucGVyc2lzdGVkKSB7XG4gICAgICBjb25zdCB7IGxlYXZlLCBkZWxheUxlYXZlIH0gPSB0cmFuc2l0aW9uO1xuICAgICAgY29uc3QgcGVyZm9ybUxlYXZlID0gKCkgPT4gbGVhdmUoZWwsIHBlcmZvcm1SZW1vdmUpO1xuICAgICAgaWYgKGRlbGF5TGVhdmUpIHtcbiAgICAgICAgZGVsYXlMZWF2ZSh2bm9kZS5lbCwgcGVyZm9ybVJlbW92ZSwgcGVyZm9ybUxlYXZlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBlcmZvcm1MZWF2ZSgpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwZXJmb3JtUmVtb3ZlKCk7XG4gICAgfVxuICB9O1xuICBjb25zdCByZW1vdmVGcmFnbWVudCA9IChjdXIsIGVuZCkgPT4ge1xuICAgIGxldCBuZXh0O1xuICAgIHdoaWxlIChjdXIgIT09IGVuZCkge1xuICAgICAgbmV4dCA9IGhvc3ROZXh0U2libGluZyhjdXIpO1xuICAgICAgaG9zdFJlbW92ZShjdXIpO1xuICAgICAgY3VyID0gbmV4dDtcbiAgICB9XG4gICAgaG9zdFJlbW92ZShlbmQpO1xuICB9O1xuICBjb25zdCB1bm1vdW50Q29tcG9uZW50ID0gKGluc3RhbmNlLCBwYXJlbnRTdXNwZW5zZSwgZG9SZW1vdmUpID0+IHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBpbnN0YW5jZS50eXBlLl9faG1ySWQpIHtcbiAgICAgIHVucmVnaXN0ZXJITVIoaW5zdGFuY2UpO1xuICAgIH1cbiAgICBjb25zdCB7IGJ1bSwgc2NvcGUsIHVwZGF0ZSwgc3ViVHJlZSwgdW0sIG0sIGEgfSA9IGluc3RhbmNlO1xuICAgIGludmFsaWRhdGVNb3VudChtKTtcbiAgICBpbnZhbGlkYXRlTW91bnQoYSk7XG4gICAgaWYgKGJ1bSkge1xuICAgICAgaW52b2tlQXJyYXlGbnMoYnVtKTtcbiAgICB9XG4gICAgc2NvcGUuc3RvcCgpO1xuICAgIGlmICh1cGRhdGUpIHtcbiAgICAgIHVwZGF0ZS5hY3RpdmUgPSBmYWxzZTtcbiAgICAgIHVubW91bnQoc3ViVHJlZSwgaW5zdGFuY2UsIHBhcmVudFN1c3BlbnNlLCBkb1JlbW92ZSk7XG4gICAgfVxuICAgIGlmICh1bSkge1xuICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KHVtLCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgfVxuICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XG4gICAgICBpbnN0YW5jZS5pc1VubW91bnRlZCA9IHRydWU7XG4gICAgfSwgcGFyZW50U3VzcGVuc2UpO1xuICAgIGlmIChwYXJlbnRTdXNwZW5zZSAmJiBwYXJlbnRTdXNwZW5zZS5wZW5kaW5nQnJhbmNoICYmICFwYXJlbnRTdXNwZW5zZS5pc1VubW91bnRlZCAmJiBpbnN0YW5jZS5hc3luY0RlcCAmJiAhaW5zdGFuY2UuYXN5bmNSZXNvbHZlZCAmJiBpbnN0YW5jZS5zdXNwZW5zZUlkID09PSBwYXJlbnRTdXNwZW5zZS5wZW5kaW5nSWQpIHtcbiAgICAgIHBhcmVudFN1c3BlbnNlLmRlcHMtLTtcbiAgICAgIGlmIChwYXJlbnRTdXNwZW5zZS5kZXBzID09PSAwKSB7XG4gICAgICAgIHBhcmVudFN1c3BlbnNlLnJlc29sdmUoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fKSB7XG4gICAgICBkZXZ0b29sc0NvbXBvbmVudFJlbW92ZWQoaW5zdGFuY2UpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgdW5tb3VudENoaWxkcmVuID0gKGNoaWxkcmVuLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBkb1JlbW92ZSA9IGZhbHNlLCBvcHRpbWl6ZWQgPSBmYWxzZSwgc3RhcnQgPSAwKSA9PiB7XG4gICAgZm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIHVubW91bnQoY2hpbGRyZW5baV0sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIGRvUmVtb3ZlLCBvcHRpbWl6ZWQpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgZ2V0TmV4dEhvc3ROb2RlID0gKHZub2RlKSA9PiB7XG4gICAgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDYpIHtcbiAgICAgIHJldHVybiBnZXROZXh0SG9zdE5vZGUodm5vZGUuY29tcG9uZW50LnN1YlRyZWUpO1xuICAgIH1cbiAgICBpZiAodm5vZGUuc2hhcGVGbGFnICYgMTI4KSB7XG4gICAgICByZXR1cm4gdm5vZGUuc3VzcGVuc2UubmV4dCgpO1xuICAgIH1cbiAgICByZXR1cm4gaG9zdE5leHRTaWJsaW5nKHZub2RlLmFuY2hvciB8fCB2bm9kZS5lbCk7XG4gIH07XG4gIGxldCBpc0ZsdXNoaW5nID0gZmFsc2U7XG4gIGNvbnN0IHJlbmRlciA9ICh2bm9kZSwgY29udGFpbmVyLCBuYW1lc3BhY2UpID0+IHtcbiAgICBpZiAodm5vZGUgPT0gbnVsbCkge1xuICAgICAgaWYgKGNvbnRhaW5lci5fdm5vZGUpIHtcbiAgICAgICAgdW5tb3VudChjb250YWluZXIuX3Zub2RlLCBudWxsLCBudWxsLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGF0Y2goXG4gICAgICAgIGNvbnRhaW5lci5fdm5vZGUgfHwgbnVsbCxcbiAgICAgICAgdm5vZGUsXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgbnVsbCxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgbmFtZXNwYWNlXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoIWlzRmx1c2hpbmcpIHtcbiAgICAgIGlzRmx1c2hpbmcgPSB0cnVlO1xuICAgICAgZmx1c2hQcmVGbHVzaENicygpO1xuICAgICAgZmx1c2hQb3N0Rmx1c2hDYnMoKTtcbiAgICAgIGlzRmx1c2hpbmcgPSBmYWxzZTtcbiAgICB9XG4gICAgY29udGFpbmVyLl92bm9kZSA9IHZub2RlO1xuICB9O1xuICBjb25zdCBpbnRlcm5hbHMgPSB7XG4gICAgcDogcGF0Y2gsXG4gICAgdW06IHVubW91bnQsXG4gICAgbTogbW92ZSxcbiAgICByOiByZW1vdmUsXG4gICAgbXQ6IG1vdW50Q29tcG9uZW50LFxuICAgIG1jOiBtb3VudENoaWxkcmVuLFxuICAgIHBjOiBwYXRjaENoaWxkcmVuLFxuICAgIHBiYzogcGF0Y2hCbG9ja0NoaWxkcmVuLFxuICAgIG46IGdldE5leHRIb3N0Tm9kZSxcbiAgICBvOiBvcHRpb25zXG4gIH07XG4gIGxldCBoeWRyYXRlO1xuICBsZXQgaHlkcmF0ZU5vZGU7XG4gIGlmIChjcmVhdGVIeWRyYXRpb25GbnMpIHtcbiAgICBbaHlkcmF0ZSwgaHlkcmF0ZU5vZGVdID0gY3JlYXRlSHlkcmF0aW9uRm5zKFxuICAgICAgaW50ZXJuYWxzXG4gICAgKTtcbiAgfVxuICByZXR1cm4ge1xuICAgIHJlbmRlcixcbiAgICBoeWRyYXRlLFxuICAgIGNyZWF0ZUFwcDogY3JlYXRlQXBwQVBJKHJlbmRlciwgaHlkcmF0ZSlcbiAgfTtcbn1cbmZ1bmN0aW9uIHJlc29sdmVDaGlsZHJlbk5hbWVzcGFjZSh7IHR5cGUsIHByb3BzIH0sIGN1cnJlbnROYW1lc3BhY2UpIHtcbiAgcmV0dXJuIGN1cnJlbnROYW1lc3BhY2UgPT09IFwic3ZnXCIgJiYgdHlwZSA9PT0gXCJmb3JlaWduT2JqZWN0XCIgfHwgY3VycmVudE5hbWVzcGFjZSA9PT0gXCJtYXRobWxcIiAmJiB0eXBlID09PSBcImFubm90YXRpb24teG1sXCIgJiYgcHJvcHMgJiYgcHJvcHMuZW5jb2RpbmcgJiYgcHJvcHMuZW5jb2RpbmcuaW5jbHVkZXMoXCJodG1sXCIpID8gdm9pZCAwIDogY3VycmVudE5hbWVzcGFjZTtcbn1cbmZ1bmN0aW9uIHRvZ2dsZVJlY3Vyc2UoeyBlZmZlY3QsIHVwZGF0ZSB9LCBhbGxvd2VkKSB7XG4gIGVmZmVjdC5hbGxvd1JlY3Vyc2UgPSB1cGRhdGUuYWxsb3dSZWN1cnNlID0gYWxsb3dlZDtcbn1cbmZ1bmN0aW9uIG5lZWRUcmFuc2l0aW9uKHBhcmVudFN1c3BlbnNlLCB0cmFuc2l0aW9uKSB7XG4gIHJldHVybiAoIXBhcmVudFN1c3BlbnNlIHx8IHBhcmVudFN1c3BlbnNlICYmICFwYXJlbnRTdXNwZW5zZS5wZW5kaW5nQnJhbmNoKSAmJiB0cmFuc2l0aW9uICYmICF0cmFuc2l0aW9uLnBlcnNpc3RlZDtcbn1cbmZ1bmN0aW9uIHRyYXZlcnNlU3RhdGljQ2hpbGRyZW4objEsIG4yLCBzaGFsbG93ID0gZmFsc2UpIHtcbiAgY29uc3QgY2gxID0gbjEuY2hpbGRyZW47XG4gIGNvbnN0IGNoMiA9IG4yLmNoaWxkcmVuO1xuICBpZiAoaXNBcnJheShjaDEpICYmIGlzQXJyYXkoY2gyKSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2gxLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBjMSA9IGNoMVtpXTtcbiAgICAgIGxldCBjMiA9IGNoMltpXTtcbiAgICAgIGlmIChjMi5zaGFwZUZsYWcgJiAxICYmICFjMi5keW5hbWljQ2hpbGRyZW4pIHtcbiAgICAgICAgaWYgKGMyLnBhdGNoRmxhZyA8PSAwIHx8IGMyLnBhdGNoRmxhZyA9PT0gMzIpIHtcbiAgICAgICAgICBjMiA9IGNoMltpXSA9IGNsb25lSWZNb3VudGVkKGNoMltpXSk7XG4gICAgICAgICAgYzIuZWwgPSBjMS5lbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXNoYWxsb3cgJiYgYzIucGF0Y2hGbGFnICE9PSAtMilcbiAgICAgICAgICB0cmF2ZXJzZVN0YXRpY0NoaWxkcmVuKGMxLCBjMik7XG4gICAgICB9XG4gICAgICBpZiAoYzIudHlwZSA9PT0gVGV4dCkge1xuICAgICAgICBjMi5lbCA9IGMxLmVsO1xuICAgICAgfVxuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgYzIudHlwZSA9PT0gQ29tbWVudCAmJiAhYzIuZWwpIHtcbiAgICAgICAgYzIuZWwgPSBjMS5lbDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGdldFNlcXVlbmNlKGFycikge1xuICBjb25zdCBwID0gYXJyLnNsaWNlKCk7XG4gIGNvbnN0IHJlc3VsdCA9IFswXTtcbiAgbGV0IGksIGosIHUsIHYsIGM7XG4gIGNvbnN0IGxlbiA9IGFyci5sZW5ndGg7XG4gIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIGNvbnN0IGFyckkgPSBhcnJbaV07XG4gICAgaWYgKGFyckkgIT09IDApIHtcbiAgICAgIGogPSByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdO1xuICAgICAgaWYgKGFycltqXSA8IGFyckkpIHtcbiAgICAgICAgcFtpXSA9IGo7XG4gICAgICAgIHJlc3VsdC5wdXNoKGkpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHUgPSAwO1xuICAgICAgdiA9IHJlc3VsdC5sZW5ndGggLSAxO1xuICAgICAgd2hpbGUgKHUgPCB2KSB7XG4gICAgICAgIGMgPSB1ICsgdiA+PiAxO1xuICAgICAgICBpZiAoYXJyW3Jlc3VsdFtjXV0gPCBhcnJJKSB7XG4gICAgICAgICAgdSA9IGMgKyAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHYgPSBjO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoYXJySSA8IGFycltyZXN1bHRbdV1dKSB7XG4gICAgICAgIGlmICh1ID4gMCkge1xuICAgICAgICAgIHBbaV0gPSByZXN1bHRbdSAtIDFdO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdFt1XSA9IGk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHUgPSByZXN1bHQubGVuZ3RoO1xuICB2ID0gcmVzdWx0W3UgLSAxXTtcbiAgd2hpbGUgKHUtLSA+IDApIHtcbiAgICByZXN1bHRbdV0gPSB2O1xuICAgIHYgPSBwW3ZdO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBsb2NhdGVOb25IeWRyYXRlZEFzeW5jUm9vdChpbnN0YW5jZSkge1xuICBjb25zdCBzdWJDb21wb25lbnQgPSBpbnN0YW5jZS5zdWJUcmVlLmNvbXBvbmVudDtcbiAgaWYgKHN1YkNvbXBvbmVudCkge1xuICAgIGlmIChzdWJDb21wb25lbnQuYXN5bmNEZXAgJiYgIXN1YkNvbXBvbmVudC5hc3luY1Jlc29sdmVkKSB7XG4gICAgICByZXR1cm4gc3ViQ29tcG9uZW50O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbG9jYXRlTm9uSHlkcmF0ZWRBc3luY1Jvb3Qoc3ViQ29tcG9uZW50KTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGludmFsaWRhdGVNb3VudChob29rcykge1xuICBpZiAoaG9va3MpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGhvb2tzLmxlbmd0aDsgaSsrKSBob29rc1tpXS5hY3RpdmUgPSBmYWxzZTtcbiAgfVxufVxuXG5jb25zdCBzc3JDb250ZXh0S2V5ID0gU3ltYm9sLmZvcihcInYtc2N4XCIpO1xuY29uc3QgdXNlU1NSQ29udGV4dCA9ICgpID0+IHtcbiAge1xuICAgIGNvbnN0IGN0eCA9IGluamVjdChzc3JDb250ZXh0S2V5KTtcbiAgICBpZiAoIWN0eCkge1xuICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuJDEoXG4gICAgICAgIGBTZXJ2ZXIgcmVuZGVyaW5nIGNvbnRleHQgbm90IHByb3ZpZGVkLiBNYWtlIHN1cmUgdG8gb25seSBjYWxsIHVzZVNTUkNvbnRleHQoKSBjb25kaXRpb25hbGx5IGluIHRoZSBzZXJ2ZXIgYnVpbGQuYFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIGN0eDtcbiAgfVxufTtcblxuZnVuY3Rpb24gd2F0Y2hFZmZlY3QoZWZmZWN0LCBvcHRpb25zKSB7XG4gIHJldHVybiBkb1dhdGNoKGVmZmVjdCwgbnVsbCwgb3B0aW9ucyk7XG59XG5mdW5jdGlvbiB3YXRjaFBvc3RFZmZlY3QoZWZmZWN0LCBvcHRpb25zKSB7XG4gIHJldHVybiBkb1dhdGNoKFxuICAgIGVmZmVjdCxcbiAgICBudWxsLFxuICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBleHRlbmQoe30sIG9wdGlvbnMsIHsgZmx1c2g6IFwicG9zdFwiIH0pIDogeyBmbHVzaDogXCJwb3N0XCIgfVxuICApO1xufVxuZnVuY3Rpb24gd2F0Y2hTeW5jRWZmZWN0KGVmZmVjdCwgb3B0aW9ucykge1xuICByZXR1cm4gZG9XYXRjaChcbiAgICBlZmZlY3QsXG4gICAgbnVsbCxcbiAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gZXh0ZW5kKHt9LCBvcHRpb25zLCB7IGZsdXNoOiBcInN5bmNcIiB9KSA6IHsgZmx1c2g6IFwic3luY1wiIH1cbiAgKTtcbn1cbmNvbnN0IElOSVRJQUxfV0FUQ0hFUl9WQUxVRSA9IHt9O1xuZnVuY3Rpb24gd2F0Y2goc291cmNlLCBjYiwgb3B0aW9ucykge1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhaXNGdW5jdGlvbihjYikpIHtcbiAgICB3YXJuJDEoXG4gICAgICBgXFxgd2F0Y2goZm4sIG9wdGlvbnM/KVxcYCBzaWduYXR1cmUgaGFzIGJlZW4gbW92ZWQgdG8gYSBzZXBhcmF0ZSBBUEkuIFVzZSBcXGB3YXRjaEVmZmVjdChmbiwgb3B0aW9ucz8pXFxgIGluc3RlYWQuIFxcYHdhdGNoXFxgIG5vdyBvbmx5IHN1cHBvcnRzIFxcYHdhdGNoKHNvdXJjZSwgY2IsIG9wdGlvbnM/KSBzaWduYXR1cmUuYFxuICAgICk7XG4gIH1cbiAgcmV0dXJuIGRvV2F0Y2goc291cmNlLCBjYiwgb3B0aW9ucyk7XG59XG5mdW5jdGlvbiBkb1dhdGNoKHNvdXJjZSwgY2IsIHtcbiAgaW1tZWRpYXRlLFxuICBkZWVwLFxuICBmbHVzaCxcbiAgb25jZSxcbiAgb25UcmFjayxcbiAgb25UcmlnZ2VyXG59ID0gRU1QVFlfT0JKKSB7XG4gIGlmIChjYiAmJiBvbmNlKSB7XG4gICAgY29uc3QgX2NiID0gY2I7XG4gICAgY2IgPSAoLi4uYXJncykgPT4ge1xuICAgICAgX2NiKC4uLmFyZ3MpO1xuICAgICAgdW53YXRjaCgpO1xuICAgIH07XG4gIH1cbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgZGVlcCAhPT0gdm9pZCAwICYmIHR5cGVvZiBkZWVwID09PSBcIm51bWJlclwiKSB7XG4gICAgd2FybiQxKFxuICAgICAgYHdhdGNoKCkgXCJkZWVwXCIgb3B0aW9uIHdpdGggbnVtYmVyIHZhbHVlIHdpbGwgYmUgdXNlZCBhcyB3YXRjaCBkZXB0aCBpbiBmdXR1cmUgdmVyc2lvbnMuIFBsZWFzZSB1c2UgYSBib29sZWFuIGluc3RlYWQgdG8gYXZvaWQgcG90ZW50aWFsIGJyZWFrYWdlLmBcbiAgICApO1xuICB9XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFjYikge1xuICAgIGlmIChpbW1lZGlhdGUgIT09IHZvaWQgMCkge1xuICAgICAgd2FybiQxKFxuICAgICAgICBgd2F0Y2goKSBcImltbWVkaWF0ZVwiIG9wdGlvbiBpcyBvbmx5IHJlc3BlY3RlZCB3aGVuIHVzaW5nIHRoZSB3YXRjaChzb3VyY2UsIGNhbGxiYWNrLCBvcHRpb25zPykgc2lnbmF0dXJlLmBcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChkZWVwICE9PSB2b2lkIDApIHtcbiAgICAgIHdhcm4kMShcbiAgICAgICAgYHdhdGNoKCkgXCJkZWVwXCIgb3B0aW9uIGlzIG9ubHkgcmVzcGVjdGVkIHdoZW4gdXNpbmcgdGhlIHdhdGNoKHNvdXJjZSwgY2FsbGJhY2ssIG9wdGlvbnM/KSBzaWduYXR1cmUuYFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKG9uY2UgIT09IHZvaWQgMCkge1xuICAgICAgd2FybiQxKFxuICAgICAgICBgd2F0Y2goKSBcIm9uY2VcIiBvcHRpb24gaXMgb25seSByZXNwZWN0ZWQgd2hlbiB1c2luZyB0aGUgd2F0Y2goc291cmNlLCBjYWxsYmFjaywgb3B0aW9ucz8pIHNpZ25hdHVyZS5gXG4gICAgICApO1xuICAgIH1cbiAgfVxuICBjb25zdCB3YXJuSW52YWxpZFNvdXJjZSA9IChzKSA9PiB7XG4gICAgd2FybiQxKFxuICAgICAgYEludmFsaWQgd2F0Y2ggc291cmNlOiBgLFxuICAgICAgcyxcbiAgICAgIGBBIHdhdGNoIHNvdXJjZSBjYW4gb25seSBiZSBhIGdldHRlci9lZmZlY3QgZnVuY3Rpb24sIGEgcmVmLCBhIHJlYWN0aXZlIG9iamVjdCwgb3IgYW4gYXJyYXkgb2YgdGhlc2UgdHlwZXMuYFxuICAgICk7XG4gIH07XG4gIGNvbnN0IGluc3RhbmNlID0gY3VycmVudEluc3RhbmNlO1xuICBjb25zdCByZWFjdGl2ZUdldHRlciA9IChzb3VyY2UyKSA9PiBkZWVwID09PSB0cnVlID8gc291cmNlMiA6IChcbiAgICAvLyBmb3IgZGVlcDogZmFsc2UsIG9ubHkgdHJhdmVyc2Ugcm9vdC1sZXZlbCBwcm9wZXJ0aWVzXG4gICAgdHJhdmVyc2Uoc291cmNlMiwgZGVlcCA9PT0gZmFsc2UgPyAxIDogdm9pZCAwKVxuICApO1xuICBsZXQgZ2V0dGVyO1xuICBsZXQgZm9yY2VUcmlnZ2VyID0gZmFsc2U7XG4gIGxldCBpc011bHRpU291cmNlID0gZmFsc2U7XG4gIGlmIChpc1JlZihzb3VyY2UpKSB7XG4gICAgZ2V0dGVyID0gKCkgPT4gc291cmNlLnZhbHVlO1xuICAgIGZvcmNlVHJpZ2dlciA9IGlzU2hhbGxvdyhzb3VyY2UpO1xuICB9IGVsc2UgaWYgKGlzUmVhY3RpdmUoc291cmNlKSkge1xuICAgIGdldHRlciA9ICgpID0+IHJlYWN0aXZlR2V0dGVyKHNvdXJjZSk7XG4gICAgZm9yY2VUcmlnZ2VyID0gdHJ1ZTtcbiAgfSBlbHNlIGlmIChpc0FycmF5KHNvdXJjZSkpIHtcbiAgICBpc011bHRpU291cmNlID0gdHJ1ZTtcbiAgICBmb3JjZVRyaWdnZXIgPSBzb3VyY2Uuc29tZSgocykgPT4gaXNSZWFjdGl2ZShzKSB8fCBpc1NoYWxsb3cocykpO1xuICAgIGdldHRlciA9ICgpID0+IHNvdXJjZS5tYXAoKHMpID0+IHtcbiAgICAgIGlmIChpc1JlZihzKSkge1xuICAgICAgICByZXR1cm4gcy52YWx1ZTtcbiAgICAgIH0gZWxzZSBpZiAoaXNSZWFjdGl2ZShzKSkge1xuICAgICAgICByZXR1cm4gcmVhY3RpdmVHZXR0ZXIocyk7XG4gICAgICB9IGVsc2UgaWYgKGlzRnVuY3Rpb24ocykpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxXaXRoRXJyb3JIYW5kbGluZyhzLCBpbnN0YW5jZSwgMik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm5JbnZhbGlkU291cmNlKHMpO1xuICAgICAgfVxuICAgIH0pO1xuICB9IGVsc2UgaWYgKGlzRnVuY3Rpb24oc291cmNlKSkge1xuICAgIGlmIChjYikge1xuICAgICAgZ2V0dGVyID0gKCkgPT4gY2FsbFdpdGhFcnJvckhhbmRsaW5nKHNvdXJjZSwgaW5zdGFuY2UsIDIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBnZXR0ZXIgPSAoKSA9PiB7XG4gICAgICAgIGlmIChjbGVhbnVwKSB7XG4gICAgICAgICAgY2xlYW51cCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhcbiAgICAgICAgICBzb3VyY2UsXG4gICAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgICAgMyxcbiAgICAgICAgICBbb25DbGVhbnVwXVxuICAgICAgICApO1xuICAgICAgfTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZ2V0dGVyID0gTk9PUDtcbiAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm5JbnZhbGlkU291cmNlKHNvdXJjZSk7XG4gIH1cbiAgaWYgKGNiICYmIGRlZXApIHtcbiAgICBjb25zdCBiYXNlR2V0dGVyID0gZ2V0dGVyO1xuICAgIGdldHRlciA9ICgpID0+IHRyYXZlcnNlKGJhc2VHZXR0ZXIoKSk7XG4gIH1cbiAgbGV0IGNsZWFudXA7XG4gIGxldCBvbkNsZWFudXAgPSAoZm4pID0+IHtcbiAgICBjbGVhbnVwID0gZWZmZWN0Lm9uU3RvcCA9ICgpID0+IHtcbiAgICAgIGNhbGxXaXRoRXJyb3JIYW5kbGluZyhmbiwgaW5zdGFuY2UsIDQpO1xuICAgICAgY2xlYW51cCA9IGVmZmVjdC5vblN0b3AgPSB2b2lkIDA7XG4gICAgfTtcbiAgfTtcbiAgbGV0IHNzckNsZWFudXA7XG4gIGlmIChpc0luU1NSQ29tcG9uZW50U2V0dXApIHtcbiAgICBvbkNsZWFudXAgPSBOT09QO1xuICAgIGlmICghY2IpIHtcbiAgICAgIGdldHRlcigpO1xuICAgIH0gZWxzZSBpZiAoaW1tZWRpYXRlKSB7XG4gICAgICBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhjYiwgaW5zdGFuY2UsIDMsIFtcbiAgICAgICAgZ2V0dGVyKCksXG4gICAgICAgIGlzTXVsdGlTb3VyY2UgPyBbXSA6IHZvaWQgMCxcbiAgICAgICAgb25DbGVhbnVwXG4gICAgICBdKTtcbiAgICB9XG4gICAgaWYgKGZsdXNoID09PSBcInN5bmNcIikge1xuICAgICAgY29uc3QgY3R4ID0gdXNlU1NSQ29udGV4dCgpO1xuICAgICAgc3NyQ2xlYW51cCA9IGN0eC5fX3dhdGNoZXJIYW5kbGVzIHx8IChjdHguX193YXRjaGVySGFuZGxlcyA9IFtdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIE5PT1A7XG4gICAgfVxuICB9XG4gIGxldCBvbGRWYWx1ZSA9IGlzTXVsdGlTb3VyY2UgPyBuZXcgQXJyYXkoc291cmNlLmxlbmd0aCkuZmlsbChJTklUSUFMX1dBVENIRVJfVkFMVUUpIDogSU5JVElBTF9XQVRDSEVSX1ZBTFVFO1xuICBjb25zdCBqb2IgPSAoKSA9PiB7XG4gICAgaWYgKCFlZmZlY3QuYWN0aXZlIHx8ICFlZmZlY3QuZGlydHkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGNiKSB7XG4gICAgICBjb25zdCBuZXdWYWx1ZSA9IGVmZmVjdC5ydW4oKTtcbiAgICAgIGlmIChkZWVwIHx8IGZvcmNlVHJpZ2dlciB8fCAoaXNNdWx0aVNvdXJjZSA/IG5ld1ZhbHVlLnNvbWUoKHYsIGkpID0+IGhhc0NoYW5nZWQodiwgb2xkVmFsdWVbaV0pKSA6IGhhc0NoYW5nZWQobmV3VmFsdWUsIG9sZFZhbHVlKSkgfHwgZmFsc2UpIHtcbiAgICAgICAgaWYgKGNsZWFudXApIHtcbiAgICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgIH1cbiAgICAgICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoY2IsIGluc3RhbmNlLCAzLCBbXG4gICAgICAgICAgbmV3VmFsdWUsXG4gICAgICAgICAgLy8gcGFzcyB1bmRlZmluZWQgYXMgdGhlIG9sZCB2YWx1ZSB3aGVuIGl0J3MgY2hhbmdlZCBmb3IgdGhlIGZpcnN0IHRpbWVcbiAgICAgICAgICBvbGRWYWx1ZSA9PT0gSU5JVElBTF9XQVRDSEVSX1ZBTFVFID8gdm9pZCAwIDogaXNNdWx0aVNvdXJjZSAmJiBvbGRWYWx1ZVswXSA9PT0gSU5JVElBTF9XQVRDSEVSX1ZBTFVFID8gW10gOiBvbGRWYWx1ZSxcbiAgICAgICAgICBvbkNsZWFudXBcbiAgICAgICAgXSk7XG4gICAgICAgIG9sZFZhbHVlID0gbmV3VmFsdWU7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGVmZmVjdC5ydW4oKTtcbiAgICB9XG4gIH07XG4gIGpvYi5hbGxvd1JlY3Vyc2UgPSAhIWNiO1xuICBsZXQgc2NoZWR1bGVyO1xuICBpZiAoZmx1c2ggPT09IFwic3luY1wiKSB7XG4gICAgc2NoZWR1bGVyID0gam9iO1xuICB9IGVsc2UgaWYgKGZsdXNoID09PSBcInBvc3RcIikge1xuICAgIHNjaGVkdWxlciA9ICgpID0+IHF1ZXVlUG9zdFJlbmRlckVmZmVjdChqb2IsIGluc3RhbmNlICYmIGluc3RhbmNlLnN1c3BlbnNlKTtcbiAgfSBlbHNlIHtcbiAgICBqb2IucHJlID0gdHJ1ZTtcbiAgICBpZiAoaW5zdGFuY2UpIGpvYi5pZCA9IGluc3RhbmNlLnVpZDtcbiAgICBzY2hlZHVsZXIgPSAoKSA9PiBxdWV1ZUpvYihqb2IpO1xuICB9XG4gIGNvbnN0IGVmZmVjdCA9IG5ldyBSZWFjdGl2ZUVmZmVjdChnZXR0ZXIsIE5PT1AsIHNjaGVkdWxlcik7XG4gIGNvbnN0IHNjb3BlID0gZ2V0Q3VycmVudFNjb3BlKCk7XG4gIGNvbnN0IHVud2F0Y2ggPSAoKSA9PiB7XG4gICAgZWZmZWN0LnN0b3AoKTtcbiAgICBpZiAoc2NvcGUpIHtcbiAgICAgIHJlbW92ZShzY29wZS5lZmZlY3RzLCBlZmZlY3QpO1xuICAgIH1cbiAgfTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBlZmZlY3Qub25UcmFjayA9IG9uVHJhY2s7XG4gICAgZWZmZWN0Lm9uVHJpZ2dlciA9IG9uVHJpZ2dlcjtcbiAgfVxuICBpZiAoY2IpIHtcbiAgICBpZiAoaW1tZWRpYXRlKSB7XG4gICAgICBqb2IoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb2xkVmFsdWUgPSBlZmZlY3QucnVuKCk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGZsdXNoID09PSBcInBvc3RcIikge1xuICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdChcbiAgICAgIGVmZmVjdC5ydW4uYmluZChlZmZlY3QpLFxuICAgICAgaW5zdGFuY2UgJiYgaW5zdGFuY2Uuc3VzcGVuc2VcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIGVmZmVjdC5ydW4oKTtcbiAgfVxuICBpZiAoc3NyQ2xlYW51cCkgc3NyQ2xlYW51cC5wdXNoKHVud2F0Y2gpO1xuICByZXR1cm4gdW53YXRjaDtcbn1cbmZ1bmN0aW9uIGluc3RhbmNlV2F0Y2goc291cmNlLCB2YWx1ZSwgb3B0aW9ucykge1xuICBjb25zdCBwdWJsaWNUaGlzID0gdGhpcy5wcm94eTtcbiAgY29uc3QgZ2V0dGVyID0gaXNTdHJpbmcoc291cmNlKSA/IHNvdXJjZS5pbmNsdWRlcyhcIi5cIikgPyBjcmVhdGVQYXRoR2V0dGVyKHB1YmxpY1RoaXMsIHNvdXJjZSkgOiAoKSA9PiBwdWJsaWNUaGlzW3NvdXJjZV0gOiBzb3VyY2UuYmluZChwdWJsaWNUaGlzLCBwdWJsaWNUaGlzKTtcbiAgbGV0IGNiO1xuICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICBjYiA9IHZhbHVlO1xuICB9IGVsc2Uge1xuICAgIGNiID0gdmFsdWUuaGFuZGxlcjtcbiAgICBvcHRpb25zID0gdmFsdWU7XG4gIH1cbiAgY29uc3QgcmVzZXQgPSBzZXRDdXJyZW50SW5zdGFuY2UodGhpcyk7XG4gIGNvbnN0IHJlcyA9IGRvV2F0Y2goZ2V0dGVyLCBjYi5iaW5kKHB1YmxpY1RoaXMpLCBvcHRpb25zKTtcbiAgcmVzZXQoKTtcbiAgcmV0dXJuIHJlcztcbn1cbmZ1bmN0aW9uIGNyZWF0ZVBhdGhHZXR0ZXIoY3R4LCBwYXRoKSB7XG4gIGNvbnN0IHNlZ21lbnRzID0gcGF0aC5zcGxpdChcIi5cIik7XG4gIHJldHVybiAoKSA9PiB7XG4gICAgbGV0IGN1ciA9IGN0eDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlZ21lbnRzLmxlbmd0aCAmJiBjdXI7IGkrKykge1xuICAgICAgY3VyID0gY3VyW3NlZ21lbnRzW2ldXTtcbiAgICB9XG4gICAgcmV0dXJuIGN1cjtcbiAgfTtcbn1cbmZ1bmN0aW9uIHRyYXZlcnNlKHZhbHVlLCBkZXB0aCA9IEluZmluaXR5LCBzZWVuKSB7XG4gIGlmIChkZXB0aCA8PSAwIHx8ICFpc09iamVjdCh2YWx1ZSkgfHwgdmFsdWVbXCJfX3Zfc2tpcFwiXSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBzZWVuID0gc2VlbiB8fCAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICBpZiAoc2Vlbi5oYXModmFsdWUpKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIHNlZW4uYWRkKHZhbHVlKTtcbiAgZGVwdGgtLTtcbiAgaWYgKGlzUmVmKHZhbHVlKSkge1xuICAgIHRyYXZlcnNlKHZhbHVlLnZhbHVlLCBkZXB0aCwgc2Vlbik7XG4gIH0gZWxzZSBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0cmF2ZXJzZSh2YWx1ZVtpXSwgZGVwdGgsIHNlZW4pO1xuICAgIH1cbiAgfSBlbHNlIGlmIChpc1NldCh2YWx1ZSkgfHwgaXNNYXAodmFsdWUpKSB7XG4gICAgdmFsdWUuZm9yRWFjaCgodikgPT4ge1xuICAgICAgdHJhdmVyc2UodiwgZGVwdGgsIHNlZW4pO1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKGlzUGxhaW5PYmplY3QodmFsdWUpKSB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gdmFsdWUpIHtcbiAgICAgIHRyYXZlcnNlKHZhbHVlW2tleV0sIGRlcHRoLCBzZWVuKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh2YWx1ZSkpIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwodmFsdWUsIGtleSkpIHtcbiAgICAgICAgdHJhdmVyc2UodmFsdWVba2V5XSwgZGVwdGgsIHNlZW4pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gdmFsdWU7XG59XG5cbmNvbnN0IGlzS2VlcEFsaXZlID0gKHZub2RlKSA9PiB2bm9kZS50eXBlLl9faXNLZWVwQWxpdmU7XG5jb25zdCBLZWVwQWxpdmVJbXBsID0ge1xuICBuYW1lOiBgS2VlcEFsaXZlYCxcbiAgLy8gTWFya2VyIGZvciBzcGVjaWFsIGhhbmRsaW5nIGluc2lkZSB0aGUgcmVuZGVyZXIuIFdlIGFyZSBub3QgdXNpbmcgYSA9PT1cbiAgLy8gY2hlY2sgZGlyZWN0bHkgb24gS2VlcEFsaXZlIGluIHRoZSByZW5kZXJlciwgYmVjYXVzZSBpbXBvcnRpbmcgaXQgZGlyZWN0bHlcbiAgLy8gd291bGQgcHJldmVudCBpdCBmcm9tIGJlaW5nIHRyZWUtc2hha2VuLlxuICBfX2lzS2VlcEFsaXZlOiB0cnVlLFxuICBwcm9wczoge1xuICAgIGluY2x1ZGU6IFtTdHJpbmcsIFJlZ0V4cCwgQXJyYXldLFxuICAgIGV4Y2x1ZGU6IFtTdHJpbmcsIFJlZ0V4cCwgQXJyYXldLFxuICAgIG1heDogW1N0cmluZywgTnVtYmVyXVxuICB9LFxuICBzZXR1cChwcm9wcywgeyBzbG90cyB9KSB7XG4gICAgY29uc3QgaW5zdGFuY2UgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgICBjb25zdCBzaGFyZWRDb250ZXh0ID0gaW5zdGFuY2UuY3R4O1xuICAgIGlmICghc2hhcmVkQ29udGV4dC5yZW5kZXJlcikge1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBzbG90cy5kZWZhdWx0ICYmIHNsb3RzLmRlZmF1bHQoKTtcbiAgICAgICAgcmV0dXJuIGNoaWxkcmVuICYmIGNoaWxkcmVuLmxlbmd0aCA9PT0gMSA/IGNoaWxkcmVuWzBdIDogY2hpbGRyZW47XG4gICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBjYWNoZSA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICAgY29uc3Qga2V5cyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gICAgbGV0IGN1cnJlbnQgPSBudWxsO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgaW5zdGFuY2UuX192X2NhY2hlID0gY2FjaGU7XG4gICAgfVxuICAgIGNvbnN0IHBhcmVudFN1c3BlbnNlID0gaW5zdGFuY2Uuc3VzcGVuc2U7XG4gICAgY29uc3Qge1xuICAgICAgcmVuZGVyZXI6IHtcbiAgICAgICAgcDogcGF0Y2gsXG4gICAgICAgIG06IG1vdmUsXG4gICAgICAgIHVtOiBfdW5tb3VudCxcbiAgICAgICAgbzogeyBjcmVhdGVFbGVtZW50IH1cbiAgICAgIH1cbiAgICB9ID0gc2hhcmVkQ29udGV4dDtcbiAgICBjb25zdCBzdG9yYWdlQ29udGFpbmVyID0gY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBzaGFyZWRDb250ZXh0LmFjdGl2YXRlID0gKHZub2RlLCBjb250YWluZXIsIGFuY2hvciwgbmFtZXNwYWNlLCBvcHRpbWl6ZWQpID0+IHtcbiAgICAgIGNvbnN0IGluc3RhbmNlMiA9IHZub2RlLmNvbXBvbmVudDtcbiAgICAgIG1vdmUodm5vZGUsIGNvbnRhaW5lciwgYW5jaG9yLCAwLCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICBwYXRjaChcbiAgICAgICAgaW5zdGFuY2UyLnZub2RlLFxuICAgICAgICB2bm9kZSxcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBhbmNob3IsXG4gICAgICAgIGluc3RhbmNlMixcbiAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgdm5vZGUuc2xvdFNjb3BlSWRzLFxuICAgICAgICBvcHRpbWl6ZWRcbiAgICAgICk7XG4gICAgICBxdWV1ZVBvc3RSZW5kZXJFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpbnN0YW5jZTIuaXNEZWFjdGl2YXRlZCA9IGZhbHNlO1xuICAgICAgICBpZiAoaW5zdGFuY2UyLmEpIHtcbiAgICAgICAgICBpbnZva2VBcnJheUZucyhpbnN0YW5jZTIuYSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgdm5vZGVIb29rID0gdm5vZGUucHJvcHMgJiYgdm5vZGUucHJvcHMub25Wbm9kZU1vdW50ZWQ7XG4gICAgICAgIGlmICh2bm9kZUhvb2spIHtcbiAgICAgICAgICBpbnZva2VWTm9kZUhvb2sodm5vZGVIb29rLCBpbnN0YW5jZTIucGFyZW50LCB2bm9kZSk7XG4gICAgICAgIH1cbiAgICAgIH0sIHBhcmVudFN1c3BlbnNlKTtcbiAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgICBkZXZ0b29sc0NvbXBvbmVudEFkZGVkKGluc3RhbmNlMik7XG4gICAgICB9XG4gICAgfTtcbiAgICBzaGFyZWRDb250ZXh0LmRlYWN0aXZhdGUgPSAodm5vZGUpID0+IHtcbiAgICAgIGNvbnN0IGluc3RhbmNlMiA9IHZub2RlLmNvbXBvbmVudDtcbiAgICAgIGludmFsaWRhdGVNb3VudChpbnN0YW5jZTIubSk7XG4gICAgICBpbnZhbGlkYXRlTW91bnQoaW5zdGFuY2UyLmEpO1xuICAgICAgbW92ZSh2bm9kZSwgc3RvcmFnZUNvbnRhaW5lciwgbnVsbCwgMSwgcGFyZW50U3VzcGVuc2UpO1xuICAgICAgcXVldWVQb3N0UmVuZGVyRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGluc3RhbmNlMi5kYSkge1xuICAgICAgICAgIGludm9rZUFycmF5Rm5zKGluc3RhbmNlMi5kYSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgdm5vZGVIb29rID0gdm5vZGUucHJvcHMgJiYgdm5vZGUucHJvcHMub25Wbm9kZVVubW91bnRlZDtcbiAgICAgICAgaWYgKHZub2RlSG9vaykge1xuICAgICAgICAgIGludm9rZVZOb2RlSG9vayh2bm9kZUhvb2ssIGluc3RhbmNlMi5wYXJlbnQsIHZub2RlKTtcbiAgICAgICAgfVxuICAgICAgICBpbnN0YW5jZTIuaXNEZWFjdGl2YXRlZCA9IHRydWU7XG4gICAgICB9LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pIHtcbiAgICAgICAgZGV2dG9vbHNDb21wb25lbnRBZGRlZChpbnN0YW5jZTIpO1xuICAgICAgfVxuICAgIH07XG4gICAgZnVuY3Rpb24gdW5tb3VudCh2bm9kZSkge1xuICAgICAgcmVzZXRTaGFwZUZsYWcodm5vZGUpO1xuICAgICAgX3VubW91bnQodm5vZGUsIGluc3RhbmNlLCBwYXJlbnRTdXNwZW5zZSwgdHJ1ZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBydW5lQ2FjaGUoZmlsdGVyKSB7XG4gICAgICBjYWNoZS5mb3JFYWNoKCh2bm9kZSwga2V5KSA9PiB7XG4gICAgICAgIGNvbnN0IG5hbWUgPSBnZXRDb21wb25lbnROYW1lKHZub2RlLnR5cGUpO1xuICAgICAgICBpZiAobmFtZSAmJiAoIWZpbHRlciB8fCAhZmlsdGVyKG5hbWUpKSkge1xuICAgICAgICAgIHBydW5lQ2FjaGVFbnRyeShrZXkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcHJ1bmVDYWNoZUVudHJ5KGtleSkge1xuICAgICAgY29uc3QgY2FjaGVkID0gY2FjaGUuZ2V0KGtleSk7XG4gICAgICBpZiAoIWN1cnJlbnQgfHwgIWlzU2FtZVZOb2RlVHlwZShjYWNoZWQsIGN1cnJlbnQpKSB7XG4gICAgICAgIHVubW91bnQoY2FjaGVkKTtcbiAgICAgIH0gZWxzZSBpZiAoY3VycmVudCkge1xuICAgICAgICByZXNldFNoYXBlRmxhZyhjdXJyZW50KTtcbiAgICAgIH1cbiAgICAgIGNhY2hlLmRlbGV0ZShrZXkpO1xuICAgICAga2V5cy5kZWxldGUoa2V5KTtcbiAgICB9XG4gICAgd2F0Y2goXG4gICAgICAoKSA9PiBbcHJvcHMuaW5jbHVkZSwgcHJvcHMuZXhjbHVkZV0sXG4gICAgICAoW2luY2x1ZGUsIGV4Y2x1ZGVdKSA9PiB7XG4gICAgICAgIGluY2x1ZGUgJiYgcHJ1bmVDYWNoZSgobmFtZSkgPT4gbWF0Y2hlcyhpbmNsdWRlLCBuYW1lKSk7XG4gICAgICAgIGV4Y2x1ZGUgJiYgcHJ1bmVDYWNoZSgobmFtZSkgPT4gIW1hdGNoZXMoZXhjbHVkZSwgbmFtZSkpO1xuICAgICAgfSxcbiAgICAgIC8vIHBydW5lIHBvc3QtcmVuZGVyIGFmdGVyIGBjdXJyZW50YCBoYXMgYmVlbiB1cGRhdGVkXG4gICAgICB7IGZsdXNoOiBcInBvc3RcIiwgZGVlcDogdHJ1ZSB9XG4gICAgKTtcbiAgICBsZXQgcGVuZGluZ0NhY2hlS2V5ID0gbnVsbDtcbiAgICBjb25zdCBjYWNoZVN1YnRyZWUgPSAoKSA9PiB7XG4gICAgICBpZiAocGVuZGluZ0NhY2hlS2V5ICE9IG51bGwpIHtcbiAgICAgICAgaWYgKGlzU3VzcGVuc2UoaW5zdGFuY2Uuc3ViVHJlZS50eXBlKSkge1xuICAgICAgICAgIHF1ZXVlUG9zdFJlbmRlckVmZmVjdCgoKSA9PiB7XG4gICAgICAgICAgICBjYWNoZS5zZXQocGVuZGluZ0NhY2hlS2V5LCBnZXRJbm5lckNoaWxkKGluc3RhbmNlLnN1YlRyZWUpKTtcbiAgICAgICAgICB9LCBpbnN0YW5jZS5zdWJUcmVlLnN1c3BlbnNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjYWNoZS5zZXQocGVuZGluZ0NhY2hlS2V5LCBnZXRJbm5lckNoaWxkKGluc3RhbmNlLnN1YlRyZWUpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgb25Nb3VudGVkKGNhY2hlU3VidHJlZSk7XG4gICAgb25VcGRhdGVkKGNhY2hlU3VidHJlZSk7XG4gICAgb25CZWZvcmVVbm1vdW50KCgpID0+IHtcbiAgICAgIGNhY2hlLmZvckVhY2goKGNhY2hlZCkgPT4ge1xuICAgICAgICBjb25zdCB7IHN1YlRyZWUsIHN1c3BlbnNlIH0gPSBpbnN0YW5jZTtcbiAgICAgICAgY29uc3Qgdm5vZGUgPSBnZXRJbm5lckNoaWxkKHN1YlRyZWUpO1xuICAgICAgICBpZiAoY2FjaGVkLnR5cGUgPT09IHZub2RlLnR5cGUgJiYgY2FjaGVkLmtleSA9PT0gdm5vZGUua2V5KSB7XG4gICAgICAgICAgcmVzZXRTaGFwZUZsYWcodm5vZGUpO1xuICAgICAgICAgIGNvbnN0IGRhID0gdm5vZGUuY29tcG9uZW50LmRhO1xuICAgICAgICAgIGRhICYmIHF1ZXVlUG9zdFJlbmRlckVmZmVjdChkYSwgc3VzcGVuc2UpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB1bm1vdW50KGNhY2hlZCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgcGVuZGluZ0NhY2hlS2V5ID0gbnVsbDtcbiAgICAgIGlmICghc2xvdHMuZGVmYXVsdCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNoaWxkcmVuID0gc2xvdHMuZGVmYXVsdCgpO1xuICAgICAgY29uc3QgcmF3Vk5vZGUgPSBjaGlsZHJlblswXTtcbiAgICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPiAxKSB7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgd2FybiQxKGBLZWVwQWxpdmUgc2hvdWxkIGNvbnRhaW4gZXhhY3RseSBvbmUgY29tcG9uZW50IGNoaWxkLmApO1xuICAgICAgICB9XG4gICAgICAgIGN1cnJlbnQgPSBudWxsO1xuICAgICAgICByZXR1cm4gY2hpbGRyZW47XG4gICAgICB9IGVsc2UgaWYgKCFpc1ZOb2RlKHJhd1ZOb2RlKSB8fCAhKHJhd1ZOb2RlLnNoYXBlRmxhZyAmIDQpICYmICEocmF3Vk5vZGUuc2hhcGVGbGFnICYgMTI4KSkge1xuICAgICAgICBjdXJyZW50ID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIHJhd1ZOb2RlO1xuICAgICAgfVxuICAgICAgbGV0IHZub2RlID0gZ2V0SW5uZXJDaGlsZChyYXdWTm9kZSk7XG4gICAgICBjb25zdCBjb21wID0gdm5vZGUudHlwZTtcbiAgICAgIGNvbnN0IG5hbWUgPSBnZXRDb21wb25lbnROYW1lKFxuICAgICAgICBpc0FzeW5jV3JhcHBlcih2bm9kZSkgPyB2bm9kZS50eXBlLl9fYXN5bmNSZXNvbHZlZCB8fCB7fSA6IGNvbXBcbiAgICAgICk7XG4gICAgICBjb25zdCB7IGluY2x1ZGUsIGV4Y2x1ZGUsIG1heCB9ID0gcHJvcHM7XG4gICAgICBpZiAoaW5jbHVkZSAmJiAoIW5hbWUgfHwgIW1hdGNoZXMoaW5jbHVkZSwgbmFtZSkpIHx8IGV4Y2x1ZGUgJiYgbmFtZSAmJiBtYXRjaGVzKGV4Y2x1ZGUsIG5hbWUpKSB7XG4gICAgICAgIGN1cnJlbnQgPSB2bm9kZTtcbiAgICAgICAgcmV0dXJuIHJhd1ZOb2RlO1xuICAgICAgfVxuICAgICAgY29uc3Qga2V5ID0gdm5vZGUua2V5ID09IG51bGwgPyBjb21wIDogdm5vZGUua2V5O1xuICAgICAgY29uc3QgY2FjaGVkVk5vZGUgPSBjYWNoZS5nZXQoa2V5KTtcbiAgICAgIGlmICh2bm9kZS5lbCkge1xuICAgICAgICB2bm9kZSA9IGNsb25lVk5vZGUodm5vZGUpO1xuICAgICAgICBpZiAocmF3Vk5vZGUuc2hhcGVGbGFnICYgMTI4KSB7XG4gICAgICAgICAgcmF3Vk5vZGUuc3NDb250ZW50ID0gdm5vZGU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHBlbmRpbmdDYWNoZUtleSA9IGtleTtcbiAgICAgIGlmIChjYWNoZWRWTm9kZSkge1xuICAgICAgICB2bm9kZS5lbCA9IGNhY2hlZFZOb2RlLmVsO1xuICAgICAgICB2bm9kZS5jb21wb25lbnQgPSBjYWNoZWRWTm9kZS5jb21wb25lbnQ7XG4gICAgICAgIGlmICh2bm9kZS50cmFuc2l0aW9uKSB7XG4gICAgICAgICAgc2V0VHJhbnNpdGlvbkhvb2tzKHZub2RlLCB2bm9kZS50cmFuc2l0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICB2bm9kZS5zaGFwZUZsYWcgfD0gNTEyO1xuICAgICAgICBrZXlzLmRlbGV0ZShrZXkpO1xuICAgICAgICBrZXlzLmFkZChrZXkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAga2V5cy5hZGQoa2V5KTtcbiAgICAgICAgaWYgKG1heCAmJiBrZXlzLnNpemUgPiBwYXJzZUludChtYXgsIDEwKSkge1xuICAgICAgICAgIHBydW5lQ2FjaGVFbnRyeShrZXlzLnZhbHVlcygpLm5leHQoKS52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZub2RlLnNoYXBlRmxhZyB8PSAyNTY7XG4gICAgICBjdXJyZW50ID0gdm5vZGU7XG4gICAgICByZXR1cm4gaXNTdXNwZW5zZShyYXdWTm9kZS50eXBlKSA/IHJhd1ZOb2RlIDogdm5vZGU7XG4gICAgfTtcbiAgfVxufTtcbmNvbnN0IEtlZXBBbGl2ZSA9IEtlZXBBbGl2ZUltcGw7XG5mdW5jdGlvbiBtYXRjaGVzKHBhdHRlcm4sIG5hbWUpIHtcbiAgaWYgKGlzQXJyYXkocGF0dGVybikpIHtcbiAgICByZXR1cm4gcGF0dGVybi5zb21lKChwKSA9PiBtYXRjaGVzKHAsIG5hbWUpKTtcbiAgfSBlbHNlIGlmIChpc1N0cmluZyhwYXR0ZXJuKSkge1xuICAgIHJldHVybiBwYXR0ZXJuLnNwbGl0KFwiLFwiKS5pbmNsdWRlcyhuYW1lKTtcbiAgfSBlbHNlIGlmIChpc1JlZ0V4cChwYXR0ZXJuKSkge1xuICAgIHJldHVybiBwYXR0ZXJuLnRlc3QobmFtZSk7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gb25BY3RpdmF0ZWQoaG9vaywgdGFyZ2V0KSB7XG4gIHJlZ2lzdGVyS2VlcEFsaXZlSG9vayhob29rLCBcImFcIiwgdGFyZ2V0KTtcbn1cbmZ1bmN0aW9uIG9uRGVhY3RpdmF0ZWQoaG9vaywgdGFyZ2V0KSB7XG4gIHJlZ2lzdGVyS2VlcEFsaXZlSG9vayhob29rLCBcImRhXCIsIHRhcmdldCk7XG59XG5mdW5jdGlvbiByZWdpc3RlcktlZXBBbGl2ZUhvb2soaG9vaywgdHlwZSwgdGFyZ2V0ID0gY3VycmVudEluc3RhbmNlKSB7XG4gIGNvbnN0IHdyYXBwZWRIb29rID0gaG9vay5fX3dkYyB8fCAoaG9vay5fX3dkYyA9ICgpID0+IHtcbiAgICBsZXQgY3VycmVudCA9IHRhcmdldDtcbiAgICB3aGlsZSAoY3VycmVudCkge1xuICAgICAgaWYgKGN1cnJlbnQuaXNEZWFjdGl2YXRlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjdXJyZW50ID0gY3VycmVudC5wYXJlbnQ7XG4gICAgfVxuICAgIHJldHVybiBob29rKCk7XG4gIH0pO1xuICBpbmplY3RIb29rKHR5cGUsIHdyYXBwZWRIb29rLCB0YXJnZXQpO1xuICBpZiAodGFyZ2V0KSB7XG4gICAgbGV0IGN1cnJlbnQgPSB0YXJnZXQucGFyZW50O1xuICAgIHdoaWxlIChjdXJyZW50ICYmIGN1cnJlbnQucGFyZW50KSB7XG4gICAgICBpZiAoaXNLZWVwQWxpdmUoY3VycmVudC5wYXJlbnQudm5vZGUpKSB7XG4gICAgICAgIGluamVjdFRvS2VlcEFsaXZlUm9vdCh3cmFwcGVkSG9vaywgdHlwZSwgdGFyZ2V0LCBjdXJyZW50KTtcbiAgICAgIH1cbiAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnBhcmVudDtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGluamVjdFRvS2VlcEFsaXZlUm9vdChob29rLCB0eXBlLCB0YXJnZXQsIGtlZXBBbGl2ZVJvb3QpIHtcbiAgY29uc3QgaW5qZWN0ZWQgPSBpbmplY3RIb29rKFxuICAgIHR5cGUsXG4gICAgaG9vayxcbiAgICBrZWVwQWxpdmVSb290LFxuICAgIHRydWVcbiAgICAvKiBwcmVwZW5kICovXG4gICk7XG4gIG9uVW5tb3VudGVkKCgpID0+IHtcbiAgICByZW1vdmUoa2VlcEFsaXZlUm9vdFt0eXBlXSwgaW5qZWN0ZWQpO1xuICB9LCB0YXJnZXQpO1xufVxuZnVuY3Rpb24gcmVzZXRTaGFwZUZsYWcodm5vZGUpIHtcbiAgdm5vZGUuc2hhcGVGbGFnICY9IH4yNTY7XG4gIHZub2RlLnNoYXBlRmxhZyAmPSB+NTEyO1xufVxuZnVuY3Rpb24gZ2V0SW5uZXJDaGlsZCh2bm9kZSkge1xuICByZXR1cm4gdm5vZGUuc2hhcGVGbGFnICYgMTI4ID8gdm5vZGUuc3NDb250ZW50IDogdm5vZGU7XG59XG5cbmNvbnN0IGxlYXZlQ2JLZXkgPSBTeW1ib2woXCJfbGVhdmVDYlwiKTtcbmNvbnN0IGVudGVyQ2JLZXkgPSBTeW1ib2woXCJfZW50ZXJDYlwiKTtcbmZ1bmN0aW9uIHVzZVRyYW5zaXRpb25TdGF0ZSgpIHtcbiAgY29uc3Qgc3RhdGUgPSB7XG4gICAgaXNNb3VudGVkOiBmYWxzZSxcbiAgICBpc0xlYXZpbmc6IGZhbHNlLFxuICAgIGlzVW5tb3VudGluZzogZmFsc2UsXG4gICAgbGVhdmluZ1ZOb2RlczogLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKVxuICB9O1xuICBvbk1vdW50ZWQoKCkgPT4ge1xuICAgIHN0YXRlLmlzTW91bnRlZCA9IHRydWU7XG4gIH0pO1xuICBvbkJlZm9yZVVubW91bnQoKCkgPT4ge1xuICAgIHN0YXRlLmlzVW5tb3VudGluZyA9IHRydWU7XG4gIH0pO1xuICByZXR1cm4gc3RhdGU7XG59XG5jb25zdCBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvciA9IFtGdW5jdGlvbiwgQXJyYXldO1xuY29uc3QgQmFzZVRyYW5zaXRpb25Qcm9wc1ZhbGlkYXRvcnMgPSB7XG4gIG1vZGU6IFN0cmluZyxcbiAgYXBwZWFyOiBCb29sZWFuLFxuICBwZXJzaXN0ZWQ6IEJvb2xlYW4sXG4gIC8vIGVudGVyXG4gIG9uQmVmb3JlRW50ZXI6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxuICBvbkVudGVyOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcbiAgb25BZnRlckVudGVyOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcbiAgb25FbnRlckNhbmNlbGxlZDogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXG4gIC8vIGxlYXZlXG4gIG9uQmVmb3JlTGVhdmU6IFRyYW5zaXRpb25Ib29rVmFsaWRhdG9yLFxuICBvbkxlYXZlOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcbiAgb25BZnRlckxlYXZlOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcbiAgb25MZWF2ZUNhbmNlbGxlZDogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXG4gIC8vIGFwcGVhclxuICBvbkJlZm9yZUFwcGVhcjogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXG4gIG9uQXBwZWFyOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvcixcbiAgb25BZnRlckFwcGVhcjogVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IsXG4gIG9uQXBwZWFyQ2FuY2VsbGVkOiBUcmFuc2l0aW9uSG9va1ZhbGlkYXRvclxufTtcbmNvbnN0IHJlY3Vyc2l2ZUdldFN1YnRyZWUgPSAoaW5zdGFuY2UpID0+IHtcbiAgY29uc3Qgc3ViVHJlZSA9IGluc3RhbmNlLnN1YlRyZWU7XG4gIHJldHVybiBzdWJUcmVlLmNvbXBvbmVudCA/IHJlY3Vyc2l2ZUdldFN1YnRyZWUoc3ViVHJlZS5jb21wb25lbnQpIDogc3ViVHJlZTtcbn07XG5jb25zdCBCYXNlVHJhbnNpdGlvbkltcGwgPSB7XG4gIG5hbWU6IGBCYXNlVHJhbnNpdGlvbmAsXG4gIHByb3BzOiBCYXNlVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycyxcbiAgc2V0dXAocHJvcHMsIHsgc2xvdHMgfSkge1xuICAgIGNvbnN0IGluc3RhbmNlID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gICAgY29uc3Qgc3RhdGUgPSB1c2VUcmFuc2l0aW9uU3RhdGUoKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgY29uc3QgY2hpbGRyZW4gPSBzbG90cy5kZWZhdWx0ICYmIGdldFRyYW5zaXRpb25SYXdDaGlsZHJlbihzbG90cy5kZWZhdWx0KCksIHRydWUpO1xuICAgICAgaWYgKCFjaGlsZHJlbiB8fCAhY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxldCBjaGlsZCA9IGNoaWxkcmVuWzBdO1xuICAgICAgaWYgKGNoaWxkcmVuLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgbGV0IGhhc0ZvdW5kID0gZmFsc2U7XG4gICAgICAgIGZvciAoY29uc3QgYyBvZiBjaGlsZHJlbikge1xuICAgICAgICAgIGlmIChjLnR5cGUgIT09IENvbW1lbnQpIHtcbiAgICAgICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGhhc0ZvdW5kKSB7XG4gICAgICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgICAgICBcIjx0cmFuc2l0aW9uPiBjYW4gb25seSBiZSB1c2VkIG9uIGEgc2luZ2xlIGVsZW1lbnQgb3IgY29tcG9uZW50LiBVc2UgPHRyYW5zaXRpb24tZ3JvdXA+IGZvciBsaXN0cy5cIlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNoaWxkID0gYztcbiAgICAgICAgICAgIGhhc0ZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmICghISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCByYXdQcm9wcyA9IHRvUmF3KHByb3BzKTtcbiAgICAgIGNvbnN0IHsgbW9kZSB9ID0gcmF3UHJvcHM7XG4gICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBtb2RlICYmIG1vZGUgIT09IFwiaW4tb3V0XCIgJiYgbW9kZSAhPT0gXCJvdXQtaW5cIiAmJiBtb2RlICE9PSBcImRlZmF1bHRcIikge1xuICAgICAgICB3YXJuJDEoYGludmFsaWQgPHRyYW5zaXRpb24+IG1vZGU6ICR7bW9kZX1gKTtcbiAgICAgIH1cbiAgICAgIGlmIChzdGF0ZS5pc0xlYXZpbmcpIHtcbiAgICAgICAgcmV0dXJuIGVtcHR5UGxhY2Vob2xkZXIoY2hpbGQpO1xuICAgICAgfVxuICAgICAgY29uc3QgaW5uZXJDaGlsZCA9IGdldEtlZXBBbGl2ZUNoaWxkKGNoaWxkKTtcbiAgICAgIGlmICghaW5uZXJDaGlsZCkge1xuICAgICAgICByZXR1cm4gZW1wdHlQbGFjZWhvbGRlcihjaGlsZCk7XG4gICAgICB9XG4gICAgICBsZXQgZW50ZXJIb29rcyA9IHJlc29sdmVUcmFuc2l0aW9uSG9va3MoXG4gICAgICAgIGlubmVyQ2hpbGQsXG4gICAgICAgIHJhd1Byb3BzLFxuICAgICAgICBzdGF0ZSxcbiAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgIC8vICMxMTA2MSwgZW5zdXJlIGVudGVySG9va3MgaXMgZnJlc2ggYWZ0ZXIgY2xvbmVcbiAgICAgICAgKGhvb2tzKSA9PiBlbnRlckhvb2tzID0gaG9va3NcbiAgICAgICk7XG4gICAgICBzZXRUcmFuc2l0aW9uSG9va3MoaW5uZXJDaGlsZCwgZW50ZXJIb29rcyk7XG4gICAgICBjb25zdCBvbGRDaGlsZCA9IGluc3RhbmNlLnN1YlRyZWU7XG4gICAgICBjb25zdCBvbGRJbm5lckNoaWxkID0gb2xkQ2hpbGQgJiYgZ2V0S2VlcEFsaXZlQ2hpbGQob2xkQ2hpbGQpO1xuICAgICAgaWYgKG9sZElubmVyQ2hpbGQgJiYgb2xkSW5uZXJDaGlsZC50eXBlICE9PSBDb21tZW50ICYmICFpc1NhbWVWTm9kZVR5cGUoaW5uZXJDaGlsZCwgb2xkSW5uZXJDaGlsZCkgJiYgcmVjdXJzaXZlR2V0U3VidHJlZShpbnN0YW5jZSkudHlwZSAhPT0gQ29tbWVudCkge1xuICAgICAgICBjb25zdCBsZWF2aW5nSG9va3MgPSByZXNvbHZlVHJhbnNpdGlvbkhvb2tzKFxuICAgICAgICAgIG9sZElubmVyQ2hpbGQsXG4gICAgICAgICAgcmF3UHJvcHMsXG4gICAgICAgICAgc3RhdGUsXG4gICAgICAgICAgaW5zdGFuY2VcbiAgICAgICAgKTtcbiAgICAgICAgc2V0VHJhbnNpdGlvbkhvb2tzKG9sZElubmVyQ2hpbGQsIGxlYXZpbmdIb29rcyk7XG4gICAgICAgIGlmIChtb2RlID09PSBcIm91dC1pblwiICYmIGlubmVyQ2hpbGQudHlwZSAhPT0gQ29tbWVudCkge1xuICAgICAgICAgIHN0YXRlLmlzTGVhdmluZyA9IHRydWU7XG4gICAgICAgICAgbGVhdmluZ0hvb2tzLmFmdGVyTGVhdmUgPSAoKSA9PiB7XG4gICAgICAgICAgICBzdGF0ZS5pc0xlYXZpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChpbnN0YW5jZS51cGRhdGUuYWN0aXZlICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICBpbnN0YW5jZS5lZmZlY3QuZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgICBpbnN0YW5jZS51cGRhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICAgIHJldHVybiBlbXB0eVBsYWNlaG9sZGVyKGNoaWxkKTtcbiAgICAgICAgfSBlbHNlIGlmIChtb2RlID09PSBcImluLW91dFwiICYmIGlubmVyQ2hpbGQudHlwZSAhPT0gQ29tbWVudCkge1xuICAgICAgICAgIGxlYXZpbmdIb29rcy5kZWxheUxlYXZlID0gKGVsLCBlYXJseVJlbW92ZSwgZGVsYXllZExlYXZlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBsZWF2aW5nVk5vZGVzQ2FjaGUgPSBnZXRMZWF2aW5nTm9kZXNGb3JUeXBlKFxuICAgICAgICAgICAgICBzdGF0ZSxcbiAgICAgICAgICAgICAgb2xkSW5uZXJDaGlsZFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGxlYXZpbmdWTm9kZXNDYWNoZVtTdHJpbmcob2xkSW5uZXJDaGlsZC5rZXkpXSA9IG9sZElubmVyQ2hpbGQ7XG4gICAgICAgICAgICBlbFtsZWF2ZUNiS2V5XSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgZWFybHlSZW1vdmUoKTtcbiAgICAgICAgICAgICAgZWxbbGVhdmVDYktleV0gPSB2b2lkIDA7XG4gICAgICAgICAgICAgIGRlbGV0ZSBlbnRlckhvb2tzLmRlbGF5ZWRMZWF2ZTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBlbnRlckhvb2tzLmRlbGF5ZWRMZWF2ZSA9IGRlbGF5ZWRMZWF2ZTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gY2hpbGQ7XG4gICAgfTtcbiAgfVxufTtcbmNvbnN0IEJhc2VUcmFuc2l0aW9uID0gQmFzZVRyYW5zaXRpb25JbXBsO1xuZnVuY3Rpb24gZ2V0TGVhdmluZ05vZGVzRm9yVHlwZShzdGF0ZSwgdm5vZGUpIHtcbiAgY29uc3QgeyBsZWF2aW5nVk5vZGVzIH0gPSBzdGF0ZTtcbiAgbGV0IGxlYXZpbmdWTm9kZXNDYWNoZSA9IGxlYXZpbmdWTm9kZXMuZ2V0KHZub2RlLnR5cGUpO1xuICBpZiAoIWxlYXZpbmdWTm9kZXNDYWNoZSkge1xuICAgIGxlYXZpbmdWTm9kZXNDYWNoZSA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIGxlYXZpbmdWTm9kZXMuc2V0KHZub2RlLnR5cGUsIGxlYXZpbmdWTm9kZXNDYWNoZSk7XG4gIH1cbiAgcmV0dXJuIGxlYXZpbmdWTm9kZXNDYWNoZTtcbn1cbmZ1bmN0aW9uIHJlc29sdmVUcmFuc2l0aW9uSG9va3Modm5vZGUsIHByb3BzLCBzdGF0ZSwgaW5zdGFuY2UsIHBvc3RDbG9uZSkge1xuICBjb25zdCB7XG4gICAgYXBwZWFyLFxuICAgIG1vZGUsXG4gICAgcGVyc2lzdGVkID0gZmFsc2UsXG4gICAgb25CZWZvcmVFbnRlcixcbiAgICBvbkVudGVyLFxuICAgIG9uQWZ0ZXJFbnRlcixcbiAgICBvbkVudGVyQ2FuY2VsbGVkLFxuICAgIG9uQmVmb3JlTGVhdmUsXG4gICAgb25MZWF2ZSxcbiAgICBvbkFmdGVyTGVhdmUsXG4gICAgb25MZWF2ZUNhbmNlbGxlZCxcbiAgICBvbkJlZm9yZUFwcGVhcixcbiAgICBvbkFwcGVhcixcbiAgICBvbkFmdGVyQXBwZWFyLFxuICAgIG9uQXBwZWFyQ2FuY2VsbGVkXG4gIH0gPSBwcm9wcztcbiAgY29uc3Qga2V5ID0gU3RyaW5nKHZub2RlLmtleSk7XG4gIGNvbnN0IGxlYXZpbmdWTm9kZXNDYWNoZSA9IGdldExlYXZpbmdOb2Rlc0ZvclR5cGUoc3RhdGUsIHZub2RlKTtcbiAgY29uc3QgY2FsbEhvb2sgPSAoaG9vaywgYXJncykgPT4ge1xuICAgIGhvb2sgJiYgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoXG4gICAgICBob29rLFxuICAgICAgaW5zdGFuY2UsXG4gICAgICA5LFxuICAgICAgYXJnc1xuICAgICk7XG4gIH07XG4gIGNvbnN0IGNhbGxBc3luY0hvb2sgPSAoaG9vaywgYXJncykgPT4ge1xuICAgIGNvbnN0IGRvbmUgPSBhcmdzWzFdO1xuICAgIGNhbGxIb29rKGhvb2ssIGFyZ3MpO1xuICAgIGlmIChpc0FycmF5KGhvb2spKSB7XG4gICAgICBpZiAoaG9vay5ldmVyeSgoaG9vazIpID0+IGhvb2syLmxlbmd0aCA8PSAxKSkgZG9uZSgpO1xuICAgIH0gZWxzZSBpZiAoaG9vay5sZW5ndGggPD0gMSkge1xuICAgICAgZG9uZSgpO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgaG9va3MgPSB7XG4gICAgbW9kZSxcbiAgICBwZXJzaXN0ZWQsXG4gICAgYmVmb3JlRW50ZXIoZWwpIHtcbiAgICAgIGxldCBob29rID0gb25CZWZvcmVFbnRlcjtcbiAgICAgIGlmICghc3RhdGUuaXNNb3VudGVkKSB7XG4gICAgICAgIGlmIChhcHBlYXIpIHtcbiAgICAgICAgICBob29rID0gb25CZWZvcmVBcHBlYXIgfHwgb25CZWZvcmVFbnRlcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChlbFtsZWF2ZUNiS2V5XSkge1xuICAgICAgICBlbFtsZWF2ZUNiS2V5XShcbiAgICAgICAgICB0cnVlXG4gICAgICAgICAgLyogY2FuY2VsbGVkICovXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBjb25zdCBsZWF2aW5nVk5vZGUgPSBsZWF2aW5nVk5vZGVzQ2FjaGVba2V5XTtcbiAgICAgIGlmIChsZWF2aW5nVk5vZGUgJiYgaXNTYW1lVk5vZGVUeXBlKHZub2RlLCBsZWF2aW5nVk5vZGUpICYmIGxlYXZpbmdWTm9kZS5lbFtsZWF2ZUNiS2V5XSkge1xuICAgICAgICBsZWF2aW5nVk5vZGUuZWxbbGVhdmVDYktleV0oKTtcbiAgICAgIH1cbiAgICAgIGNhbGxIb29rKGhvb2ssIFtlbF0pO1xuICAgIH0sXG4gICAgZW50ZXIoZWwpIHtcbiAgICAgIGxldCBob29rID0gb25FbnRlcjtcbiAgICAgIGxldCBhZnRlckhvb2sgPSBvbkFmdGVyRW50ZXI7XG4gICAgICBsZXQgY2FuY2VsSG9vayA9IG9uRW50ZXJDYW5jZWxsZWQ7XG4gICAgICBpZiAoIXN0YXRlLmlzTW91bnRlZCkge1xuICAgICAgICBpZiAoYXBwZWFyKSB7XG4gICAgICAgICAgaG9vayA9IG9uQXBwZWFyIHx8IG9uRW50ZXI7XG4gICAgICAgICAgYWZ0ZXJIb29rID0gb25BZnRlckFwcGVhciB8fCBvbkFmdGVyRW50ZXI7XG4gICAgICAgICAgY2FuY2VsSG9vayA9IG9uQXBwZWFyQ2FuY2VsbGVkIHx8IG9uRW50ZXJDYW5jZWxsZWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsZXQgY2FsbGVkID0gZmFsc2U7XG4gICAgICBjb25zdCBkb25lID0gZWxbZW50ZXJDYktleV0gPSAoY2FuY2VsbGVkKSA9PiB7XG4gICAgICAgIGlmIChjYWxsZWQpIHJldHVybjtcbiAgICAgICAgY2FsbGVkID0gdHJ1ZTtcbiAgICAgICAgaWYgKGNhbmNlbGxlZCkge1xuICAgICAgICAgIGNhbGxIb29rKGNhbmNlbEhvb2ssIFtlbF0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNhbGxIb29rKGFmdGVySG9vaywgW2VsXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhvb2tzLmRlbGF5ZWRMZWF2ZSkge1xuICAgICAgICAgIGhvb2tzLmRlbGF5ZWRMZWF2ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsW2VudGVyQ2JLZXldID0gdm9pZCAwO1xuICAgICAgfTtcbiAgICAgIGlmIChob29rKSB7XG4gICAgICAgIGNhbGxBc3luY0hvb2soaG9vaywgW2VsLCBkb25lXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb25lKCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBsZWF2ZShlbCwgcmVtb3ZlKSB7XG4gICAgICBjb25zdCBrZXkyID0gU3RyaW5nKHZub2RlLmtleSk7XG4gICAgICBpZiAoZWxbZW50ZXJDYktleV0pIHtcbiAgICAgICAgZWxbZW50ZXJDYktleV0oXG4gICAgICAgICAgdHJ1ZVxuICAgICAgICAgIC8qIGNhbmNlbGxlZCAqL1xuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKHN0YXRlLmlzVW5tb3VudGluZykge1xuICAgICAgICByZXR1cm4gcmVtb3ZlKCk7XG4gICAgICB9XG4gICAgICBjYWxsSG9vayhvbkJlZm9yZUxlYXZlLCBbZWxdKTtcbiAgICAgIGxldCBjYWxsZWQgPSBmYWxzZTtcbiAgICAgIGNvbnN0IGRvbmUgPSBlbFtsZWF2ZUNiS2V5XSA9IChjYW5jZWxsZWQpID0+IHtcbiAgICAgICAgaWYgKGNhbGxlZCkgcmV0dXJuO1xuICAgICAgICBjYWxsZWQgPSB0cnVlO1xuICAgICAgICByZW1vdmUoKTtcbiAgICAgICAgaWYgKGNhbmNlbGxlZCkge1xuICAgICAgICAgIGNhbGxIb29rKG9uTGVhdmVDYW5jZWxsZWQsIFtlbF0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNhbGxIb29rKG9uQWZ0ZXJMZWF2ZSwgW2VsXSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxbbGVhdmVDYktleV0gPSB2b2lkIDA7XG4gICAgICAgIGlmIChsZWF2aW5nVk5vZGVzQ2FjaGVba2V5Ml0gPT09IHZub2RlKSB7XG4gICAgICAgICAgZGVsZXRlIGxlYXZpbmdWTm9kZXNDYWNoZVtrZXkyXTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGxlYXZpbmdWTm9kZXNDYWNoZVtrZXkyXSA9IHZub2RlO1xuICAgICAgaWYgKG9uTGVhdmUpIHtcbiAgICAgICAgY2FsbEFzeW5jSG9vayhvbkxlYXZlLCBbZWwsIGRvbmVdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRvbmUoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGNsb25lKHZub2RlMikge1xuICAgICAgY29uc3QgaG9va3MyID0gcmVzb2x2ZVRyYW5zaXRpb25Ib29rcyhcbiAgICAgICAgdm5vZGUyLFxuICAgICAgICBwcm9wcyxcbiAgICAgICAgc3RhdGUsXG4gICAgICAgIGluc3RhbmNlLFxuICAgICAgICBwb3N0Q2xvbmVcbiAgICAgICk7XG4gICAgICBpZiAocG9zdENsb25lKSBwb3N0Q2xvbmUoaG9va3MyKTtcbiAgICAgIHJldHVybiBob29rczI7XG4gICAgfVxuICB9O1xuICByZXR1cm4gaG9va3M7XG59XG5mdW5jdGlvbiBlbXB0eVBsYWNlaG9sZGVyKHZub2RlKSB7XG4gIGlmIChpc0tlZXBBbGl2ZSh2bm9kZSkpIHtcbiAgICB2bm9kZSA9IGNsb25lVk5vZGUodm5vZGUpO1xuICAgIHZub2RlLmNoaWxkcmVuID0gbnVsbDtcbiAgICByZXR1cm4gdm5vZGU7XG4gIH1cbn1cbmZ1bmN0aW9uIGdldEtlZXBBbGl2ZUNoaWxkKHZub2RlKSB7XG4gIGlmICghaXNLZWVwQWxpdmUodm5vZGUpKSB7XG4gICAgcmV0dXJuIHZub2RlO1xuICB9XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHZub2RlLmNvbXBvbmVudCkge1xuICAgIHJldHVybiB2bm9kZS5jb21wb25lbnQuc3ViVHJlZTtcbiAgfVxuICBjb25zdCB7IHNoYXBlRmxhZywgY2hpbGRyZW4gfSA9IHZub2RlO1xuICBpZiAoY2hpbGRyZW4pIHtcbiAgICBpZiAoc2hhcGVGbGFnICYgMTYpIHtcbiAgICAgIHJldHVybiBjaGlsZHJlblswXTtcbiAgICB9XG4gICAgaWYgKHNoYXBlRmxhZyAmIDMyICYmIGlzRnVuY3Rpb24oY2hpbGRyZW4uZGVmYXVsdCkpIHtcbiAgICAgIHJldHVybiBjaGlsZHJlbi5kZWZhdWx0KCk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBzZXRUcmFuc2l0aW9uSG9va3Modm5vZGUsIGhvb2tzKSB7XG4gIGlmICh2bm9kZS5zaGFwZUZsYWcgJiA2ICYmIHZub2RlLmNvbXBvbmVudCkge1xuICAgIHNldFRyYW5zaXRpb25Ib29rcyh2bm9kZS5jb21wb25lbnQuc3ViVHJlZSwgaG9va3MpO1xuICB9IGVsc2UgaWYgKHZub2RlLnNoYXBlRmxhZyAmIDEyOCkge1xuICAgIHZub2RlLnNzQ29udGVudC50cmFuc2l0aW9uID0gaG9va3MuY2xvbmUodm5vZGUuc3NDb250ZW50KTtcbiAgICB2bm9kZS5zc0ZhbGxiYWNrLnRyYW5zaXRpb24gPSBob29rcy5jbG9uZSh2bm9kZS5zc0ZhbGxiYWNrKTtcbiAgfSBlbHNlIHtcbiAgICB2bm9kZS50cmFuc2l0aW9uID0gaG9va3M7XG4gIH1cbn1cbmZ1bmN0aW9uIGdldFRyYW5zaXRpb25SYXdDaGlsZHJlbihjaGlsZHJlbiwga2VlcENvbW1lbnQgPSBmYWxzZSwgcGFyZW50S2V5KSB7XG4gIGxldCByZXQgPSBbXTtcbiAgbGV0IGtleWVkRnJhZ21lbnRDb3VudCA9IDA7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICBjb25zdCBrZXkgPSBwYXJlbnRLZXkgPT0gbnVsbCA/IGNoaWxkLmtleSA6IFN0cmluZyhwYXJlbnRLZXkpICsgU3RyaW5nKGNoaWxkLmtleSAhPSBudWxsID8gY2hpbGQua2V5IDogaSk7XG4gICAgaWYgKGNoaWxkLnR5cGUgPT09IEZyYWdtZW50KSB7XG4gICAgICBpZiAoY2hpbGQucGF0Y2hGbGFnICYgMTI4KSBrZXllZEZyYWdtZW50Q291bnQrKztcbiAgICAgIHJldCA9IHJldC5jb25jYXQoXG4gICAgICAgIGdldFRyYW5zaXRpb25SYXdDaGlsZHJlbihjaGlsZC5jaGlsZHJlbiwga2VlcENvbW1lbnQsIGtleSlcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmIChrZWVwQ29tbWVudCB8fCBjaGlsZC50eXBlICE9PSBDb21tZW50KSB7XG4gICAgICByZXQucHVzaChrZXkgIT0gbnVsbCA/IGNsb25lVk5vZGUoY2hpbGQsIHsga2V5IH0pIDogY2hpbGQpO1xuICAgIH1cbiAgfVxuICBpZiAoa2V5ZWRGcmFnbWVudENvdW50ID4gMSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmV0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICByZXRbaV0ucGF0Y2hGbGFnID0gLTI7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXQ7XG59XG5cbmNvbnN0IGlzVGVsZXBvcnQgPSAodHlwZSkgPT4gdHlwZS5fX2lzVGVsZXBvcnQ7XG5jb25zdCBpc1RlbGVwb3J0RGlzYWJsZWQgPSAocHJvcHMpID0+IHByb3BzICYmIChwcm9wcy5kaXNhYmxlZCB8fCBwcm9wcy5kaXNhYmxlZCA9PT0gXCJcIik7XG5jb25zdCBpc1RhcmdldFNWRyA9ICh0YXJnZXQpID0+IHR5cGVvZiBTVkdFbGVtZW50ICE9PSBcInVuZGVmaW5lZFwiICYmIHRhcmdldCBpbnN0YW5jZW9mIFNWR0VsZW1lbnQ7XG5jb25zdCBpc1RhcmdldE1hdGhNTCA9ICh0YXJnZXQpID0+IHR5cGVvZiBNYXRoTUxFbGVtZW50ID09PSBcImZ1bmN0aW9uXCIgJiYgdGFyZ2V0IGluc3RhbmNlb2YgTWF0aE1MRWxlbWVudDtcbmNvbnN0IHJlc29sdmVUYXJnZXQgPSAocHJvcHMsIHNlbGVjdCkgPT4ge1xuICBjb25zdCB0YXJnZXRTZWxlY3RvciA9IHByb3BzICYmIHByb3BzLnRvO1xuICBpZiAoaXNTdHJpbmcodGFyZ2V0U2VsZWN0b3IpKSB7XG4gICAgaWYgKCFzZWxlY3QpIHtcbiAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgd2FybiQxKFxuICAgICAgICBgQ3VycmVudCByZW5kZXJlciBkb2VzIG5vdCBzdXBwb3J0IHN0cmluZyB0YXJnZXQgZm9yIFRlbGVwb3J0cy4gKG1pc3NpbmcgcXVlcnlTZWxlY3RvciByZW5kZXJlciBvcHRpb24pYFxuICAgICAgKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBzZWxlY3QodGFyZ2V0U2VsZWN0b3IpO1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIXRhcmdldCAmJiAhaXNUZWxlcG9ydERpc2FibGVkKHByb3BzKSkge1xuICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgYEZhaWxlZCB0byBsb2NhdGUgVGVsZXBvcnQgdGFyZ2V0IHdpdGggc2VsZWN0b3IgXCIke3RhcmdldFNlbGVjdG9yfVwiLiBOb3RlIHRoZSB0YXJnZXQgZWxlbWVudCBtdXN0IGV4aXN0IGJlZm9yZSB0aGUgY29tcG9uZW50IGlzIG1vdW50ZWQgLSBpLmUuIHRoZSB0YXJnZXQgY2Fubm90IGJlIHJlbmRlcmVkIGJ5IHRoZSBjb21wb25lbnQgaXRzZWxmLCBhbmQgaWRlYWxseSBzaG91bGQgYmUgb3V0c2lkZSBvZiB0aGUgZW50aXJlIFZ1ZSBjb21wb25lbnQgdHJlZS5gXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhdGFyZ2V0U2VsZWN0b3IgJiYgIWlzVGVsZXBvcnREaXNhYmxlZChwcm9wcykpIHtcbiAgICAgIHdhcm4kMShgSW52YWxpZCBUZWxlcG9ydCB0YXJnZXQ6ICR7dGFyZ2V0U2VsZWN0b3J9YCk7XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXRTZWxlY3RvcjtcbiAgfVxufTtcbmNvbnN0IFRlbGVwb3J0SW1wbCA9IHtcbiAgbmFtZTogXCJUZWxlcG9ydFwiLFxuICBfX2lzVGVsZXBvcnQ6IHRydWUsXG4gIHByb2Nlc3MobjEsIG4yLCBjb250YWluZXIsIGFuY2hvciwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgbmFtZXNwYWNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwgaW50ZXJuYWxzKSB7XG4gICAgY29uc3Qge1xuICAgICAgbWM6IG1vdW50Q2hpbGRyZW4sXG4gICAgICBwYzogcGF0Y2hDaGlsZHJlbixcbiAgICAgIHBiYzogcGF0Y2hCbG9ja0NoaWxkcmVuLFxuICAgICAgbzogeyBpbnNlcnQsIHF1ZXJ5U2VsZWN0b3IsIGNyZWF0ZVRleHQsIGNyZWF0ZUNvbW1lbnQgfVxuICAgIH0gPSBpbnRlcm5hbHM7XG4gICAgY29uc3QgZGlzYWJsZWQgPSBpc1RlbGVwb3J0RGlzYWJsZWQobjIucHJvcHMpO1xuICAgIGxldCB7IHNoYXBlRmxhZywgY2hpbGRyZW4sIGR5bmFtaWNDaGlsZHJlbiB9ID0gbjI7XG4gICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgaXNIbXJVcGRhdGluZykge1xuICAgICAgb3B0aW1pemVkID0gZmFsc2U7XG4gICAgICBkeW5hbWljQ2hpbGRyZW4gPSBudWxsO1xuICAgIH1cbiAgICBpZiAobjEgPT0gbnVsbCkge1xuICAgICAgY29uc3QgcGxhY2Vob2xkZXIgPSBuMi5lbCA9ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBjcmVhdGVDb21tZW50KFwidGVsZXBvcnQgc3RhcnRcIikgOiBjcmVhdGVUZXh0KFwiXCIpO1xuICAgICAgY29uc3QgbWFpbkFuY2hvciA9IG4yLmFuY2hvciA9ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBjcmVhdGVDb21tZW50KFwidGVsZXBvcnQgZW5kXCIpIDogY3JlYXRlVGV4dChcIlwiKTtcbiAgICAgIGluc2VydChwbGFjZWhvbGRlciwgY29udGFpbmVyLCBhbmNob3IpO1xuICAgICAgaW5zZXJ0KG1haW5BbmNob3IsIGNvbnRhaW5lciwgYW5jaG9yKTtcbiAgICAgIGNvbnN0IHRhcmdldCA9IG4yLnRhcmdldCA9IHJlc29sdmVUYXJnZXQobjIucHJvcHMsIHF1ZXJ5U2VsZWN0b3IpO1xuICAgICAgY29uc3QgdGFyZ2V0QW5jaG9yID0gbjIudGFyZ2V0QW5jaG9yID0gY3JlYXRlVGV4dChcIlwiKTtcbiAgICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgaW5zZXJ0KHRhcmdldEFuY2hvciwgdGFyZ2V0KTtcbiAgICAgICAgaWYgKG5hbWVzcGFjZSA9PT0gXCJzdmdcIiB8fCBpc1RhcmdldFNWRyh0YXJnZXQpKSB7XG4gICAgICAgICAgbmFtZXNwYWNlID0gXCJzdmdcIjtcbiAgICAgICAgfSBlbHNlIGlmIChuYW1lc3BhY2UgPT09IFwibWF0aG1sXCIgfHwgaXNUYXJnZXRNYXRoTUwodGFyZ2V0KSkge1xuICAgICAgICAgIG5hbWVzcGFjZSA9IFwibWF0aG1sXCI7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhZGlzYWJsZWQpIHtcbiAgICAgICAgd2FybiQxKFwiSW52YWxpZCBUZWxlcG9ydCB0YXJnZXQgb24gbW91bnQ6XCIsIHRhcmdldCwgYCgke3R5cGVvZiB0YXJnZXR9KWApO1xuICAgICAgfVxuICAgICAgY29uc3QgbW91bnQgPSAoY29udGFpbmVyMiwgYW5jaG9yMikgPT4ge1xuICAgICAgICBpZiAoc2hhcGVGbGFnICYgMTYpIHtcbiAgICAgICAgICBtb3VudENoaWxkcmVuKFxuICAgICAgICAgICAgY2hpbGRyZW4sXG4gICAgICAgICAgICBjb250YWluZXIyLFxuICAgICAgICAgICAgYW5jaG9yMixcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgICBtb3VudChjb250YWluZXIsIG1haW5BbmNob3IpO1xuICAgICAgfSBlbHNlIGlmICh0YXJnZXQpIHtcbiAgICAgICAgbW91bnQodGFyZ2V0LCB0YXJnZXRBbmNob3IpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBuMi5lbCA9IG4xLmVsO1xuICAgICAgY29uc3QgbWFpbkFuY2hvciA9IG4yLmFuY2hvciA9IG4xLmFuY2hvcjtcbiAgICAgIGNvbnN0IHRhcmdldCA9IG4yLnRhcmdldCA9IG4xLnRhcmdldDtcbiAgICAgIGNvbnN0IHRhcmdldEFuY2hvciA9IG4yLnRhcmdldEFuY2hvciA9IG4xLnRhcmdldEFuY2hvcjtcbiAgICAgIGNvbnN0IHdhc0Rpc2FibGVkID0gaXNUZWxlcG9ydERpc2FibGVkKG4xLnByb3BzKTtcbiAgICAgIGNvbnN0IGN1cnJlbnRDb250YWluZXIgPSB3YXNEaXNhYmxlZCA/IGNvbnRhaW5lciA6IHRhcmdldDtcbiAgICAgIGNvbnN0IGN1cnJlbnRBbmNob3IgPSB3YXNEaXNhYmxlZCA/IG1haW5BbmNob3IgOiB0YXJnZXRBbmNob3I7XG4gICAgICBpZiAobmFtZXNwYWNlID09PSBcInN2Z1wiIHx8IGlzVGFyZ2V0U1ZHKHRhcmdldCkpIHtcbiAgICAgICAgbmFtZXNwYWNlID0gXCJzdmdcIjtcbiAgICAgIH0gZWxzZSBpZiAobmFtZXNwYWNlID09PSBcIm1hdGhtbFwiIHx8IGlzVGFyZ2V0TWF0aE1MKHRhcmdldCkpIHtcbiAgICAgICAgbmFtZXNwYWNlID0gXCJtYXRobWxcIjtcbiAgICAgIH1cbiAgICAgIGlmIChkeW5hbWljQ2hpbGRyZW4pIHtcbiAgICAgICAgcGF0Y2hCbG9ja0NoaWxkcmVuKFxuICAgICAgICAgIG4xLmR5bmFtaWNDaGlsZHJlbixcbiAgICAgICAgICBkeW5hbWljQ2hpbGRyZW4sXG4gICAgICAgICAgY3VycmVudENvbnRhaW5lcixcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgbmFtZXNwYWNlLFxuICAgICAgICAgIHNsb3RTY29wZUlkc1xuICAgICAgICApO1xuICAgICAgICB0cmF2ZXJzZVN0YXRpY0NoaWxkcmVuKG4xLCBuMiwgdHJ1ZSk7XG4gICAgICB9IGVsc2UgaWYgKCFvcHRpbWl6ZWQpIHtcbiAgICAgICAgcGF0Y2hDaGlsZHJlbihcbiAgICAgICAgICBuMSxcbiAgICAgICAgICBuMixcbiAgICAgICAgICBjdXJyZW50Q29udGFpbmVyLFxuICAgICAgICAgIGN1cnJlbnRBbmNob3IsXG4gICAgICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgICAgIHBhcmVudFN1c3BlbnNlLFxuICAgICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgZmFsc2VcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgICBpZiAoIXdhc0Rpc2FibGVkKSB7XG4gICAgICAgICAgbW92ZVRlbGVwb3J0KFxuICAgICAgICAgICAgbjIsXG4gICAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgICBtYWluQW5jaG9yLFxuICAgICAgICAgICAgaW50ZXJuYWxzLFxuICAgICAgICAgICAgMVxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKG4yLnByb3BzICYmIG4xLnByb3BzICYmIG4yLnByb3BzLnRvICE9PSBuMS5wcm9wcy50bykge1xuICAgICAgICAgICAgbjIucHJvcHMudG8gPSBuMS5wcm9wcy50bztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICgobjIucHJvcHMgJiYgbjIucHJvcHMudG8pICE9PSAobjEucHJvcHMgJiYgbjEucHJvcHMudG8pKSB7XG4gICAgICAgICAgY29uc3QgbmV4dFRhcmdldCA9IG4yLnRhcmdldCA9IHJlc29sdmVUYXJnZXQoXG4gICAgICAgICAgICBuMi5wcm9wcyxcbiAgICAgICAgICAgIHF1ZXJ5U2VsZWN0b3JcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmIChuZXh0VGFyZ2V0KSB7XG4gICAgICAgICAgICBtb3ZlVGVsZXBvcnQoXG4gICAgICAgICAgICAgIG4yLFxuICAgICAgICAgICAgICBuZXh0VGFyZ2V0LFxuICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICBpbnRlcm5hbHMsXG4gICAgICAgICAgICAgIDBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSBlbHNlIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgICB3YXJuJDEoXG4gICAgICAgICAgICAgIFwiSW52YWxpZCBUZWxlcG9ydCB0YXJnZXQgb24gdXBkYXRlOlwiLFxuICAgICAgICAgICAgICB0YXJnZXQsXG4gICAgICAgICAgICAgIGAoJHt0eXBlb2YgdGFyZ2V0fSlgXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh3YXNEaXNhYmxlZCkge1xuICAgICAgICAgIG1vdmVUZWxlcG9ydChcbiAgICAgICAgICAgIG4yLFxuICAgICAgICAgICAgdGFyZ2V0LFxuICAgICAgICAgICAgdGFyZ2V0QW5jaG9yLFxuICAgICAgICAgICAgaW50ZXJuYWxzLFxuICAgICAgICAgICAgMVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdXBkYXRlQ3NzVmFycyhuMik7XG4gIH0sXG4gIHJlbW92ZSh2bm9kZSwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSwgb3B0aW1pemVkLCB7IHVtOiB1bm1vdW50LCBvOiB7IHJlbW92ZTogaG9zdFJlbW92ZSB9IH0sIGRvUmVtb3ZlKSB7XG4gICAgY29uc3QgeyBzaGFwZUZsYWcsIGNoaWxkcmVuLCBhbmNob3IsIHRhcmdldEFuY2hvciwgdGFyZ2V0LCBwcm9wcyB9ID0gdm5vZGU7XG4gICAgaWYgKHRhcmdldCkge1xuICAgICAgaG9zdFJlbW92ZSh0YXJnZXRBbmNob3IpO1xuICAgIH1cbiAgICBkb1JlbW92ZSAmJiBob3N0UmVtb3ZlKGFuY2hvcik7XG4gICAgaWYgKHNoYXBlRmxhZyAmIDE2KSB7XG4gICAgICBjb25zdCBzaG91bGRSZW1vdmUgPSBkb1JlbW92ZSB8fCAhaXNUZWxlcG9ydERpc2FibGVkKHByb3BzKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICAgICAgdW5tb3VudChcbiAgICAgICAgICBjaGlsZCxcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgc2hvdWxkUmVtb3ZlLFxuICAgICAgICAgICEhY2hpbGQuZHluYW1pY0NoaWxkcmVuXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBtb3ZlOiBtb3ZlVGVsZXBvcnQsXG4gIGh5ZHJhdGU6IGh5ZHJhdGVUZWxlcG9ydFxufTtcbmZ1bmN0aW9uIG1vdmVUZWxlcG9ydCh2bm9kZSwgY29udGFpbmVyLCBwYXJlbnRBbmNob3IsIHsgbzogeyBpbnNlcnQgfSwgbTogbW92ZSB9LCBtb3ZlVHlwZSA9IDIpIHtcbiAgaWYgKG1vdmVUeXBlID09PSAwKSB7XG4gICAgaW5zZXJ0KHZub2RlLnRhcmdldEFuY2hvciwgY29udGFpbmVyLCBwYXJlbnRBbmNob3IpO1xuICB9XG4gIGNvbnN0IHsgZWwsIGFuY2hvciwgc2hhcGVGbGFnLCBjaGlsZHJlbiwgcHJvcHMgfSA9IHZub2RlO1xuICBjb25zdCBpc1Jlb3JkZXIgPSBtb3ZlVHlwZSA9PT0gMjtcbiAgaWYgKGlzUmVvcmRlcikge1xuICAgIGluc2VydChlbCwgY29udGFpbmVyLCBwYXJlbnRBbmNob3IpO1xuICB9XG4gIGlmICghaXNSZW9yZGVyIHx8IGlzVGVsZXBvcnREaXNhYmxlZChwcm9wcykpIHtcbiAgICBpZiAoc2hhcGVGbGFnICYgMTYpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbW92ZShcbiAgICAgICAgICBjaGlsZHJlbltpXSxcbiAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgcGFyZW50QW5jaG9yLFxuICAgICAgICAgIDJcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKGlzUmVvcmRlcikge1xuICAgIGluc2VydChhbmNob3IsIGNvbnRhaW5lciwgcGFyZW50QW5jaG9yKTtcbiAgfVxufVxuZnVuY3Rpb24gaHlkcmF0ZVRlbGVwb3J0KG5vZGUsIHZub2RlLCBwYXJlbnRDb21wb25lbnQsIHBhcmVudFN1c3BlbnNlLCBzbG90U2NvcGVJZHMsIG9wdGltaXplZCwge1xuICBvOiB7IG5leHRTaWJsaW5nLCBwYXJlbnROb2RlLCBxdWVyeVNlbGVjdG9yIH1cbn0sIGh5ZHJhdGVDaGlsZHJlbikge1xuICBjb25zdCB0YXJnZXQgPSB2bm9kZS50YXJnZXQgPSByZXNvbHZlVGFyZ2V0KFxuICAgIHZub2RlLnByb3BzLFxuICAgIHF1ZXJ5U2VsZWN0b3JcbiAgKTtcbiAgaWYgKHRhcmdldCkge1xuICAgIGNvbnN0IHRhcmdldE5vZGUgPSB0YXJnZXQuX2xwYSB8fCB0YXJnZXQuZmlyc3RDaGlsZDtcbiAgICBpZiAodm5vZGUuc2hhcGVGbGFnICYgMTYpIHtcbiAgICAgIGlmIChpc1RlbGVwb3J0RGlzYWJsZWQodm5vZGUucHJvcHMpKSB7XG4gICAgICAgIHZub2RlLmFuY2hvciA9IGh5ZHJhdGVDaGlsZHJlbihcbiAgICAgICAgICBuZXh0U2libGluZyhub2RlKSxcbiAgICAgICAgICB2bm9kZSxcbiAgICAgICAgICBwYXJlbnROb2RlKG5vZGUpLFxuICAgICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgICBwYXJlbnRTdXNwZW5zZSxcbiAgICAgICAgICBzbG90U2NvcGVJZHMsXG4gICAgICAgICAgb3B0aW1pemVkXG4gICAgICAgICk7XG4gICAgICAgIHZub2RlLnRhcmdldEFuY2hvciA9IHRhcmdldE5vZGU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2bm9kZS5hbmNob3IgPSBuZXh0U2libGluZyhub2RlKTtcbiAgICAgICAgbGV0IHRhcmdldEFuY2hvciA9IHRhcmdldE5vZGU7XG4gICAgICAgIHdoaWxlICh0YXJnZXRBbmNob3IpIHtcbiAgICAgICAgICB0YXJnZXRBbmNob3IgPSBuZXh0U2libGluZyh0YXJnZXRBbmNob3IpO1xuICAgICAgICAgIGlmICh0YXJnZXRBbmNob3IgJiYgdGFyZ2V0QW5jaG9yLm5vZGVUeXBlID09PSA4ICYmIHRhcmdldEFuY2hvci5kYXRhID09PSBcInRlbGVwb3J0IGFuY2hvclwiKSB7XG4gICAgICAgICAgICB2bm9kZS50YXJnZXRBbmNob3IgPSB0YXJnZXRBbmNob3I7XG4gICAgICAgICAgICB0YXJnZXQuX2xwYSA9IHZub2RlLnRhcmdldEFuY2hvciAmJiBuZXh0U2libGluZyh2bm9kZS50YXJnZXRBbmNob3IpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGh5ZHJhdGVDaGlsZHJlbihcbiAgICAgICAgICB0YXJnZXROb2RlLFxuICAgICAgICAgIHZub2RlLFxuICAgICAgICAgIHRhcmdldCxcbiAgICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICAgICAgc2xvdFNjb3BlSWRzLFxuICAgICAgICAgIG9wdGltaXplZFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICB1cGRhdGVDc3NWYXJzKHZub2RlKTtcbiAgfVxuICByZXR1cm4gdm5vZGUuYW5jaG9yICYmIG5leHRTaWJsaW5nKHZub2RlLmFuY2hvcik7XG59XG5jb25zdCBUZWxlcG9ydCA9IFRlbGVwb3J0SW1wbDtcbmZ1bmN0aW9uIHVwZGF0ZUNzc1ZhcnModm5vZGUpIHtcbiAgY29uc3QgY3R4ID0gdm5vZGUuY3R4O1xuICBpZiAoY3R4ICYmIGN0eC51dCkge1xuICAgIGxldCBub2RlID0gdm5vZGUuY2hpbGRyZW5bMF0uZWw7XG4gICAgd2hpbGUgKG5vZGUgJiYgbm9kZSAhPT0gdm5vZGUudGFyZ2V0QW5jaG9yKSB7XG4gICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gMSkgbm9kZS5zZXRBdHRyaWJ1dGUoXCJkYXRhLXYtb3duZXJcIiwgY3R4LnVpZCk7XG4gICAgICBub2RlID0gbm9kZS5uZXh0U2libGluZztcbiAgICB9XG4gICAgY3R4LnV0KCk7XG4gIH1cbn1cblxuY29uc3QgRnJhZ21lbnQgPSBTeW1ib2wuZm9yKFwidi1mZ3RcIik7XG5jb25zdCBUZXh0ID0gU3ltYm9sLmZvcihcInYtdHh0XCIpO1xuY29uc3QgQ29tbWVudCA9IFN5bWJvbC5mb3IoXCJ2LWNtdFwiKTtcbmNvbnN0IFN0YXRpYyA9IFN5bWJvbC5mb3IoXCJ2LXN0Y1wiKTtcbmNvbnN0IGJsb2NrU3RhY2sgPSBbXTtcbmxldCBjdXJyZW50QmxvY2sgPSBudWxsO1xuZnVuY3Rpb24gb3BlbkJsb2NrKGRpc2FibGVUcmFja2luZyA9IGZhbHNlKSB7XG4gIGJsb2NrU3RhY2sucHVzaChjdXJyZW50QmxvY2sgPSBkaXNhYmxlVHJhY2tpbmcgPyBudWxsIDogW10pO1xufVxuZnVuY3Rpb24gY2xvc2VCbG9jaygpIHtcbiAgYmxvY2tTdGFjay5wb3AoKTtcbiAgY3VycmVudEJsb2NrID0gYmxvY2tTdGFja1tibG9ja1N0YWNrLmxlbmd0aCAtIDFdIHx8IG51bGw7XG59XG5sZXQgaXNCbG9ja1RyZWVFbmFibGVkID0gMTtcbmZ1bmN0aW9uIHNldEJsb2NrVHJhY2tpbmcodmFsdWUpIHtcbiAgaXNCbG9ja1RyZWVFbmFibGVkICs9IHZhbHVlO1xufVxuZnVuY3Rpb24gc2V0dXBCbG9jayh2bm9kZSkge1xuICB2bm9kZS5keW5hbWljQ2hpbGRyZW4gPSBpc0Jsb2NrVHJlZUVuYWJsZWQgPiAwID8gY3VycmVudEJsb2NrIHx8IEVNUFRZX0FSUiA6IG51bGw7XG4gIGNsb3NlQmxvY2soKTtcbiAgaWYgKGlzQmxvY2tUcmVlRW5hYmxlZCA+IDAgJiYgY3VycmVudEJsb2NrKSB7XG4gICAgY3VycmVudEJsb2NrLnB1c2godm5vZGUpO1xuICB9XG4gIHJldHVybiB2bm9kZTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnRCbG9jayh0eXBlLCBwcm9wcywgY2hpbGRyZW4sIHBhdGNoRmxhZywgZHluYW1pY1Byb3BzLCBzaGFwZUZsYWcpIHtcbiAgcmV0dXJuIHNldHVwQmxvY2soXG4gICAgY3JlYXRlQmFzZVZOb2RlKFxuICAgICAgdHlwZSxcbiAgICAgIHByb3BzLFxuICAgICAgY2hpbGRyZW4sXG4gICAgICBwYXRjaEZsYWcsXG4gICAgICBkeW5hbWljUHJvcHMsXG4gICAgICBzaGFwZUZsYWcsXG4gICAgICB0cnVlXG4gICAgKVxuICApO1xufVxuZnVuY3Rpb24gY3JlYXRlQmxvY2sodHlwZSwgcHJvcHMsIGNoaWxkcmVuLCBwYXRjaEZsYWcsIGR5bmFtaWNQcm9wcykge1xuICByZXR1cm4gc2V0dXBCbG9jayhcbiAgICBjcmVhdGVWTm9kZShcbiAgICAgIHR5cGUsXG4gICAgICBwcm9wcyxcbiAgICAgIGNoaWxkcmVuLFxuICAgICAgcGF0Y2hGbGFnLFxuICAgICAgZHluYW1pY1Byb3BzLFxuICAgICAgdHJ1ZVxuICAgIClcbiAgKTtcbn1cbmZ1bmN0aW9uIGlzVk5vZGUodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlID8gdmFsdWUuX192X2lzVk5vZGUgPT09IHRydWUgOiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGlzU2FtZVZOb2RlVHlwZShuMSwgbjIpIHtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgbjIuc2hhcGVGbGFnICYgNiAmJiBobXJEaXJ0eUNvbXBvbmVudHMuaGFzKG4yLnR5cGUpKSB7XG4gICAgbjEuc2hhcGVGbGFnICY9IH4yNTY7XG4gICAgbjIuc2hhcGVGbGFnICY9IH41MTI7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiBuMS50eXBlID09PSBuMi50eXBlICYmIG4xLmtleSA9PT0gbjIua2V5O1xufVxubGV0IHZub2RlQXJnc1RyYW5zZm9ybWVyO1xuZnVuY3Rpb24gdHJhbnNmb3JtVk5vZGVBcmdzKHRyYW5zZm9ybWVyKSB7XG4gIHZub2RlQXJnc1RyYW5zZm9ybWVyID0gdHJhbnNmb3JtZXI7XG59XG5jb25zdCBjcmVhdGVWTm9kZVdpdGhBcmdzVHJhbnNmb3JtID0gKC4uLmFyZ3MpID0+IHtcbiAgcmV0dXJuIF9jcmVhdGVWTm9kZShcbiAgICAuLi52bm9kZUFyZ3NUcmFuc2Zvcm1lciA/IHZub2RlQXJnc1RyYW5zZm9ybWVyKGFyZ3MsIGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSkgOiBhcmdzXG4gICk7XG59O1xuY29uc3Qgbm9ybWFsaXplS2V5ID0gKHsga2V5IH0pID0+IGtleSAhPSBudWxsID8ga2V5IDogbnVsbDtcbmNvbnN0IG5vcm1hbGl6ZVJlZiA9ICh7XG4gIHJlZixcbiAgcmVmX2tleSxcbiAgcmVmX2ZvclxufSkgPT4ge1xuICBpZiAodHlwZW9mIHJlZiA9PT0gXCJudW1iZXJcIikge1xuICAgIHJlZiA9IFwiXCIgKyByZWY7XG4gIH1cbiAgcmV0dXJuIHJlZiAhPSBudWxsID8gaXNTdHJpbmcocmVmKSB8fCBpc1JlZihyZWYpIHx8IGlzRnVuY3Rpb24ocmVmKSA/IHsgaTogY3VycmVudFJlbmRlcmluZ0luc3RhbmNlLCByOiByZWYsIGs6IHJlZl9rZXksIGY6ICEhcmVmX2ZvciB9IDogcmVmIDogbnVsbDtcbn07XG5mdW5jdGlvbiBjcmVhdGVCYXNlVk5vZGUodHlwZSwgcHJvcHMgPSBudWxsLCBjaGlsZHJlbiA9IG51bGwsIHBhdGNoRmxhZyA9IDAsIGR5bmFtaWNQcm9wcyA9IG51bGwsIHNoYXBlRmxhZyA9IHR5cGUgPT09IEZyYWdtZW50ID8gMCA6IDEsIGlzQmxvY2tOb2RlID0gZmFsc2UsIG5lZWRGdWxsQ2hpbGRyZW5Ob3JtYWxpemF0aW9uID0gZmFsc2UpIHtcbiAgY29uc3Qgdm5vZGUgPSB7XG4gICAgX192X2lzVk5vZGU6IHRydWUsXG4gICAgX192X3NraXA6IHRydWUsXG4gICAgdHlwZSxcbiAgICBwcm9wcyxcbiAgICBrZXk6IHByb3BzICYmIG5vcm1hbGl6ZUtleShwcm9wcyksXG4gICAgcmVmOiBwcm9wcyAmJiBub3JtYWxpemVSZWYocHJvcHMpLFxuICAgIHNjb3BlSWQ6IGN1cnJlbnRTY29wZUlkLFxuICAgIHNsb3RTY29wZUlkczogbnVsbCxcbiAgICBjaGlsZHJlbixcbiAgICBjb21wb25lbnQ6IG51bGwsXG4gICAgc3VzcGVuc2U6IG51bGwsXG4gICAgc3NDb250ZW50OiBudWxsLFxuICAgIHNzRmFsbGJhY2s6IG51bGwsXG4gICAgZGlyczogbnVsbCxcbiAgICB0cmFuc2l0aW9uOiBudWxsLFxuICAgIGVsOiBudWxsLFxuICAgIGFuY2hvcjogbnVsbCxcbiAgICB0YXJnZXQ6IG51bGwsXG4gICAgdGFyZ2V0QW5jaG9yOiBudWxsLFxuICAgIHN0YXRpY0NvdW50OiAwLFxuICAgIHNoYXBlRmxhZyxcbiAgICBwYXRjaEZsYWcsXG4gICAgZHluYW1pY1Byb3BzLFxuICAgIGR5bmFtaWNDaGlsZHJlbjogbnVsbCxcbiAgICBhcHBDb250ZXh0OiBudWxsLFxuICAgIGN0eDogY3VycmVudFJlbmRlcmluZ0luc3RhbmNlXG4gIH07XG4gIGlmIChuZWVkRnVsbENoaWxkcmVuTm9ybWFsaXphdGlvbikge1xuICAgIG5vcm1hbGl6ZUNoaWxkcmVuKHZub2RlLCBjaGlsZHJlbik7XG4gICAgaWYgKHNoYXBlRmxhZyAmIDEyOCkge1xuICAgICAgdHlwZS5ub3JtYWxpemUodm5vZGUpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChjaGlsZHJlbikge1xuICAgIHZub2RlLnNoYXBlRmxhZyB8PSBpc1N0cmluZyhjaGlsZHJlbikgPyA4IDogMTY7XG4gIH1cbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgdm5vZGUua2V5ICE9PSB2bm9kZS5rZXkpIHtcbiAgICB3YXJuJDEoYFZOb2RlIGNyZWF0ZWQgd2l0aCBpbnZhbGlkIGtleSAoTmFOKS4gVk5vZGUgdHlwZTpgLCB2bm9kZS50eXBlKTtcbiAgfVxuICBpZiAoaXNCbG9ja1RyZWVFbmFibGVkID4gMCAmJiAvLyBhdm9pZCBhIGJsb2NrIG5vZGUgZnJvbSB0cmFja2luZyBpdHNlbGZcbiAgIWlzQmxvY2tOb2RlICYmIC8vIGhhcyBjdXJyZW50IHBhcmVudCBibG9ja1xuICBjdXJyZW50QmxvY2sgJiYgLy8gcHJlc2VuY2Ugb2YgYSBwYXRjaCBmbGFnIGluZGljYXRlcyB0aGlzIG5vZGUgbmVlZHMgcGF0Y2hpbmcgb24gdXBkYXRlcy5cbiAgLy8gY29tcG9uZW50IG5vZGVzIGFsc28gc2hvdWxkIGFsd2F5cyBiZSBwYXRjaGVkLCBiZWNhdXNlIGV2ZW4gaWYgdGhlXG4gIC8vIGNvbXBvbmVudCBkb2Vzbid0IG5lZWQgdG8gdXBkYXRlLCBpdCBuZWVkcyB0byBwZXJzaXN0IHRoZSBpbnN0YW5jZSBvbiB0b1xuICAvLyB0aGUgbmV4dCB2bm9kZSBzbyB0aGF0IGl0IGNhbiBiZSBwcm9wZXJseSB1bm1vdW50ZWQgbGF0ZXIuXG4gICh2bm9kZS5wYXRjaEZsYWcgPiAwIHx8IHNoYXBlRmxhZyAmIDYpICYmIC8vIHRoZSBFVkVOVFMgZmxhZyBpcyBvbmx5IGZvciBoeWRyYXRpb24gYW5kIGlmIGl0IGlzIHRoZSBvbmx5IGZsYWcsIHRoZVxuICAvLyB2bm9kZSBzaG91bGQgbm90IGJlIGNvbnNpZGVyZWQgZHluYW1pYyBkdWUgdG8gaGFuZGxlciBjYWNoaW5nLlxuICB2bm9kZS5wYXRjaEZsYWcgIT09IDMyKSB7XG4gICAgY3VycmVudEJsb2NrLnB1c2godm5vZGUpO1xuICB9XG4gIHJldHVybiB2bm9kZTtcbn1cbmNvbnN0IGNyZWF0ZVZOb2RlID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IGNyZWF0ZVZOb2RlV2l0aEFyZ3NUcmFuc2Zvcm0gOiBfY3JlYXRlVk5vZGU7XG5mdW5jdGlvbiBfY3JlYXRlVk5vZGUodHlwZSwgcHJvcHMgPSBudWxsLCBjaGlsZHJlbiA9IG51bGwsIHBhdGNoRmxhZyA9IDAsIGR5bmFtaWNQcm9wcyA9IG51bGwsIGlzQmxvY2tOb2RlID0gZmFsc2UpIHtcbiAgaWYgKCF0eXBlIHx8IHR5cGUgPT09IE5VTExfRFlOQU1JQ19DT01QT05FTlQpIHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhdHlwZSkge1xuICAgICAgd2FybiQxKGBJbnZhbGlkIHZub2RlIHR5cGUgd2hlbiBjcmVhdGluZyB2bm9kZTogJHt0eXBlfS5gKTtcbiAgICB9XG4gICAgdHlwZSA9IENvbW1lbnQ7XG4gIH1cbiAgaWYgKGlzVk5vZGUodHlwZSkpIHtcbiAgICBjb25zdCBjbG9uZWQgPSBjbG9uZVZOb2RlKFxuICAgICAgdHlwZSxcbiAgICAgIHByb3BzLFxuICAgICAgdHJ1ZVxuICAgICAgLyogbWVyZ2VSZWY6IHRydWUgKi9cbiAgICApO1xuICAgIGlmIChjaGlsZHJlbikge1xuICAgICAgbm9ybWFsaXplQ2hpbGRyZW4oY2xvbmVkLCBjaGlsZHJlbik7XG4gICAgfVxuICAgIGlmIChpc0Jsb2NrVHJlZUVuYWJsZWQgPiAwICYmICFpc0Jsb2NrTm9kZSAmJiBjdXJyZW50QmxvY2spIHtcbiAgICAgIGlmIChjbG9uZWQuc2hhcGVGbGFnICYgNikge1xuICAgICAgICBjdXJyZW50QmxvY2tbY3VycmVudEJsb2NrLmluZGV4T2YodHlwZSldID0gY2xvbmVkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3VycmVudEJsb2NrLnB1c2goY2xvbmVkKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY2xvbmVkLnBhdGNoRmxhZyA9IC0yO1xuICAgIHJldHVybiBjbG9uZWQ7XG4gIH1cbiAgaWYgKGlzQ2xhc3NDb21wb25lbnQodHlwZSkpIHtcbiAgICB0eXBlID0gdHlwZS5fX3ZjY09wdHM7XG4gIH1cbiAgaWYgKHByb3BzKSB7XG4gICAgcHJvcHMgPSBndWFyZFJlYWN0aXZlUHJvcHMocHJvcHMpO1xuICAgIGxldCB7IGNsYXNzOiBrbGFzcywgc3R5bGUgfSA9IHByb3BzO1xuICAgIGlmIChrbGFzcyAmJiAhaXNTdHJpbmcoa2xhc3MpKSB7XG4gICAgICBwcm9wcy5jbGFzcyA9IG5vcm1hbGl6ZUNsYXNzKGtsYXNzKTtcbiAgICB9XG4gICAgaWYgKGlzT2JqZWN0KHN0eWxlKSkge1xuICAgICAgaWYgKGlzUHJveHkoc3R5bGUpICYmICFpc0FycmF5KHN0eWxlKSkge1xuICAgICAgICBzdHlsZSA9IGV4dGVuZCh7fSwgc3R5bGUpO1xuICAgICAgfVxuICAgICAgcHJvcHMuc3R5bGUgPSBub3JtYWxpemVTdHlsZShzdHlsZSk7XG4gICAgfVxuICB9XG4gIGNvbnN0IHNoYXBlRmxhZyA9IGlzU3RyaW5nKHR5cGUpID8gMSA6IGlzU3VzcGVuc2UodHlwZSkgPyAxMjggOiBpc1RlbGVwb3J0KHR5cGUpID8gNjQgOiBpc09iamVjdCh0eXBlKSA/IDQgOiBpc0Z1bmN0aW9uKHR5cGUpID8gMiA6IDA7XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHNoYXBlRmxhZyAmIDQgJiYgaXNQcm94eSh0eXBlKSkge1xuICAgIHR5cGUgPSB0b1Jhdyh0eXBlKTtcbiAgICB3YXJuJDEoXG4gICAgICBgVnVlIHJlY2VpdmVkIGEgQ29tcG9uZW50IHRoYXQgd2FzIG1hZGUgYSByZWFjdGl2ZSBvYmplY3QuIFRoaXMgY2FuIGxlYWQgdG8gdW5uZWNlc3NhcnkgcGVyZm9ybWFuY2Ugb3ZlcmhlYWQgYW5kIHNob3VsZCBiZSBhdm9pZGVkIGJ5IG1hcmtpbmcgdGhlIGNvbXBvbmVudCB3aXRoIFxcYG1hcmtSYXdcXGAgb3IgdXNpbmcgXFxgc2hhbGxvd1JlZlxcYCBpbnN0ZWFkIG9mIFxcYHJlZlxcYC5gLFxuICAgICAgYFxuQ29tcG9uZW50IHRoYXQgd2FzIG1hZGUgcmVhY3RpdmU6IGAsXG4gICAgICB0eXBlXG4gICAgKTtcbiAgfVxuICByZXR1cm4gY3JlYXRlQmFzZVZOb2RlKFxuICAgIHR5cGUsXG4gICAgcHJvcHMsXG4gICAgY2hpbGRyZW4sXG4gICAgcGF0Y2hGbGFnLFxuICAgIGR5bmFtaWNQcm9wcyxcbiAgICBzaGFwZUZsYWcsXG4gICAgaXNCbG9ja05vZGUsXG4gICAgdHJ1ZVxuICApO1xufVxuZnVuY3Rpb24gZ3VhcmRSZWFjdGl2ZVByb3BzKHByb3BzKSB7XG4gIGlmICghcHJvcHMpIHJldHVybiBudWxsO1xuICByZXR1cm4gaXNQcm94eShwcm9wcykgfHwgaXNJbnRlcm5hbE9iamVjdChwcm9wcykgPyBleHRlbmQoe30sIHByb3BzKSA6IHByb3BzO1xufVxuZnVuY3Rpb24gY2xvbmVWTm9kZSh2bm9kZSwgZXh0cmFQcm9wcywgbWVyZ2VSZWYgPSBmYWxzZSwgY2xvbmVUcmFuc2l0aW9uID0gZmFsc2UpIHtcbiAgY29uc3QgeyBwcm9wcywgcmVmLCBwYXRjaEZsYWcsIGNoaWxkcmVuLCB0cmFuc2l0aW9uIH0gPSB2bm9kZTtcbiAgY29uc3QgbWVyZ2VkUHJvcHMgPSBleHRyYVByb3BzID8gbWVyZ2VQcm9wcyhwcm9wcyB8fCB7fSwgZXh0cmFQcm9wcykgOiBwcm9wcztcbiAgY29uc3QgY2xvbmVkID0ge1xuICAgIF9fdl9pc1ZOb2RlOiB0cnVlLFxuICAgIF9fdl9za2lwOiB0cnVlLFxuICAgIHR5cGU6IHZub2RlLnR5cGUsXG4gICAgcHJvcHM6IG1lcmdlZFByb3BzLFxuICAgIGtleTogbWVyZ2VkUHJvcHMgJiYgbm9ybWFsaXplS2V5KG1lcmdlZFByb3BzKSxcbiAgICByZWY6IGV4dHJhUHJvcHMgJiYgZXh0cmFQcm9wcy5yZWYgPyAoXG4gICAgICAvLyAjMjA3OCBpbiB0aGUgY2FzZSBvZiA8Y29tcG9uZW50IDppcz1cInZub2RlXCIgcmVmPVwiZXh0cmFcIi8+XG4gICAgICAvLyBpZiB0aGUgdm5vZGUgaXRzZWxmIGFscmVhZHkgaGFzIGEgcmVmLCBjbG9uZVZOb2RlIHdpbGwgbmVlZCB0byBtZXJnZVxuICAgICAgLy8gdGhlIHJlZnMgc28gdGhlIHNpbmdsZSB2bm9kZSBjYW4gYmUgc2V0IG9uIG11bHRpcGxlIHJlZnNcbiAgICAgIG1lcmdlUmVmICYmIHJlZiA/IGlzQXJyYXkocmVmKSA/IHJlZi5jb25jYXQobm9ybWFsaXplUmVmKGV4dHJhUHJvcHMpKSA6IFtyZWYsIG5vcm1hbGl6ZVJlZihleHRyYVByb3BzKV0gOiBub3JtYWxpemVSZWYoZXh0cmFQcm9wcylcbiAgICApIDogcmVmLFxuICAgIHNjb3BlSWQ6IHZub2RlLnNjb3BlSWQsXG4gICAgc2xvdFNjb3BlSWRzOiB2bm9kZS5zbG90U2NvcGVJZHMsXG4gICAgY2hpbGRyZW46ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgcGF0Y2hGbGFnID09PSAtMSAmJiBpc0FycmF5KGNoaWxkcmVuKSA/IGNoaWxkcmVuLm1hcChkZWVwQ2xvbmVWTm9kZSkgOiBjaGlsZHJlbixcbiAgICB0YXJnZXQ6IHZub2RlLnRhcmdldCxcbiAgICB0YXJnZXRBbmNob3I6IHZub2RlLnRhcmdldEFuY2hvcixcbiAgICBzdGF0aWNDb3VudDogdm5vZGUuc3RhdGljQ291bnQsXG4gICAgc2hhcGVGbGFnOiB2bm9kZS5zaGFwZUZsYWcsXG4gICAgLy8gaWYgdGhlIHZub2RlIGlzIGNsb25lZCB3aXRoIGV4dHJhIHByb3BzLCB3ZSBjYW4gbm8gbG9uZ2VyIGFzc3VtZSBpdHNcbiAgICAvLyBleGlzdGluZyBwYXRjaCBmbGFnIHRvIGJlIHJlbGlhYmxlIGFuZCBuZWVkIHRvIGFkZCB0aGUgRlVMTF9QUk9QUyBmbGFnLlxuICAgIC8vIG5vdGU6IHByZXNlcnZlIGZsYWcgZm9yIGZyYWdtZW50cyBzaW5jZSB0aGV5IHVzZSB0aGUgZmxhZyBmb3IgY2hpbGRyZW5cbiAgICAvLyBmYXN0IHBhdGhzIG9ubHkuXG4gICAgcGF0Y2hGbGFnOiBleHRyYVByb3BzICYmIHZub2RlLnR5cGUgIT09IEZyYWdtZW50ID8gcGF0Y2hGbGFnID09PSAtMSA/IDE2IDogcGF0Y2hGbGFnIHwgMTYgOiBwYXRjaEZsYWcsXG4gICAgZHluYW1pY1Byb3BzOiB2bm9kZS5keW5hbWljUHJvcHMsXG4gICAgZHluYW1pY0NoaWxkcmVuOiB2bm9kZS5keW5hbWljQ2hpbGRyZW4sXG4gICAgYXBwQ29udGV4dDogdm5vZGUuYXBwQ29udGV4dCxcbiAgICBkaXJzOiB2bm9kZS5kaXJzLFxuICAgIHRyYW5zaXRpb24sXG4gICAgLy8gVGhlc2Ugc2hvdWxkIHRlY2huaWNhbGx5IG9ubHkgYmUgbm9uLW51bGwgb24gbW91bnRlZCBWTm9kZXMuIEhvd2V2ZXIsXG4gICAgLy8gdGhleSAqc2hvdWxkKiBiZSBjb3BpZWQgZm9yIGtlcHQtYWxpdmUgdm5vZGVzLiBTbyB3ZSBqdXN0IGFsd2F5cyBjb3B5XG4gICAgLy8gdGhlbSBzaW5jZSB0aGVtIGJlaW5nIG5vbi1udWxsIGR1cmluZyBhIG1vdW50IGRvZXNuJ3QgYWZmZWN0IHRoZSBsb2dpYyBhc1xuICAgIC8vIHRoZXkgd2lsbCBzaW1wbHkgYmUgb3ZlcndyaXR0ZW4uXG4gICAgY29tcG9uZW50OiB2bm9kZS5jb21wb25lbnQsXG4gICAgc3VzcGVuc2U6IHZub2RlLnN1c3BlbnNlLFxuICAgIHNzQ29udGVudDogdm5vZGUuc3NDb250ZW50ICYmIGNsb25lVk5vZGUodm5vZGUuc3NDb250ZW50KSxcbiAgICBzc0ZhbGxiYWNrOiB2bm9kZS5zc0ZhbGxiYWNrICYmIGNsb25lVk5vZGUodm5vZGUuc3NGYWxsYmFjayksXG4gICAgZWw6IHZub2RlLmVsLFxuICAgIGFuY2hvcjogdm5vZGUuYW5jaG9yLFxuICAgIGN0eDogdm5vZGUuY3R4LFxuICAgIGNlOiB2bm9kZS5jZVxuICB9O1xuICBpZiAodHJhbnNpdGlvbiAmJiBjbG9uZVRyYW5zaXRpb24pIHtcbiAgICBzZXRUcmFuc2l0aW9uSG9va3MoXG4gICAgICBjbG9uZWQsXG4gICAgICB0cmFuc2l0aW9uLmNsb25lKGNsb25lZClcbiAgICApO1xuICB9XG4gIHJldHVybiBjbG9uZWQ7XG59XG5mdW5jdGlvbiBkZWVwQ2xvbmVWTm9kZSh2bm9kZSkge1xuICBjb25zdCBjbG9uZWQgPSBjbG9uZVZOb2RlKHZub2RlKTtcbiAgaWYgKGlzQXJyYXkodm5vZGUuY2hpbGRyZW4pKSB7XG4gICAgY2xvbmVkLmNoaWxkcmVuID0gdm5vZGUuY2hpbGRyZW4ubWFwKGRlZXBDbG9uZVZOb2RlKTtcbiAgfVxuICByZXR1cm4gY2xvbmVkO1xufVxuZnVuY3Rpb24gY3JlYXRlVGV4dFZOb2RlKHRleHQgPSBcIiBcIiwgZmxhZyA9IDApIHtcbiAgcmV0dXJuIGNyZWF0ZVZOb2RlKFRleHQsIG51bGwsIHRleHQsIGZsYWcpO1xufVxuZnVuY3Rpb24gY3JlYXRlU3RhdGljVk5vZGUoY29udGVudCwgbnVtYmVyT2ZOb2Rlcykge1xuICBjb25zdCB2bm9kZSA9IGNyZWF0ZVZOb2RlKFN0YXRpYywgbnVsbCwgY29udGVudCk7XG4gIHZub2RlLnN0YXRpY0NvdW50ID0gbnVtYmVyT2ZOb2RlcztcbiAgcmV0dXJuIHZub2RlO1xufVxuZnVuY3Rpb24gY3JlYXRlQ29tbWVudFZOb2RlKHRleHQgPSBcIlwiLCBhc0Jsb2NrID0gZmFsc2UpIHtcbiAgcmV0dXJuIGFzQmxvY2sgPyAob3BlbkJsb2NrKCksIGNyZWF0ZUJsb2NrKENvbW1lbnQsIG51bGwsIHRleHQpKSA6IGNyZWF0ZVZOb2RlKENvbW1lbnQsIG51bGwsIHRleHQpO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplVk5vZGUoY2hpbGQpIHtcbiAgaWYgKGNoaWxkID09IG51bGwgfHwgdHlwZW9mIGNoaWxkID09PSBcImJvb2xlYW5cIikge1xuICAgIHJldHVybiBjcmVhdGVWTm9kZShDb21tZW50KTtcbiAgfSBlbHNlIGlmIChpc0FycmF5KGNoaWxkKSkge1xuICAgIHJldHVybiBjcmVhdGVWTm9kZShcbiAgICAgIEZyYWdtZW50LFxuICAgICAgbnVsbCxcbiAgICAgIC8vICMzNjY2LCBhdm9pZCByZWZlcmVuY2UgcG9sbHV0aW9uIHdoZW4gcmV1c2luZyB2bm9kZVxuICAgICAgY2hpbGQuc2xpY2UoKVxuICAgICk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGNoaWxkID09PSBcIm9iamVjdFwiKSB7XG4gICAgcmV0dXJuIGNsb25lSWZNb3VudGVkKGNoaWxkKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gY3JlYXRlVk5vZGUoVGV4dCwgbnVsbCwgU3RyaW5nKGNoaWxkKSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGNsb25lSWZNb3VudGVkKGNoaWxkKSB7XG4gIHJldHVybiBjaGlsZC5lbCA9PT0gbnVsbCAmJiBjaGlsZC5wYXRjaEZsYWcgIT09IC0xIHx8IGNoaWxkLm1lbW8gPyBjaGlsZCA6IGNsb25lVk5vZGUoY2hpbGQpO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplQ2hpbGRyZW4odm5vZGUsIGNoaWxkcmVuKSB7XG4gIGxldCB0eXBlID0gMDtcbiAgY29uc3QgeyBzaGFwZUZsYWcgfSA9IHZub2RlO1xuICBpZiAoY2hpbGRyZW4gPT0gbnVsbCkge1xuICAgIGNoaWxkcmVuID0gbnVsbDtcbiAgfSBlbHNlIGlmIChpc0FycmF5KGNoaWxkcmVuKSkge1xuICAgIHR5cGUgPSAxNjtcbiAgfSBlbHNlIGlmICh0eXBlb2YgY2hpbGRyZW4gPT09IFwib2JqZWN0XCIpIHtcbiAgICBpZiAoc2hhcGVGbGFnICYgKDEgfCA2NCkpIHtcbiAgICAgIGNvbnN0IHNsb3QgPSBjaGlsZHJlbi5kZWZhdWx0O1xuICAgICAgaWYgKHNsb3QpIHtcbiAgICAgICAgc2xvdC5fYyAmJiAoc2xvdC5fZCA9IGZhbHNlKTtcbiAgICAgICAgbm9ybWFsaXplQ2hpbGRyZW4odm5vZGUsIHNsb3QoKSk7XG4gICAgICAgIHNsb3QuX2MgJiYgKHNsb3QuX2QgPSB0cnVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2Uge1xuICAgICAgdHlwZSA9IDMyO1xuICAgICAgY29uc3Qgc2xvdEZsYWcgPSBjaGlsZHJlbi5fO1xuICAgICAgaWYgKCFzbG90RmxhZyAmJiAhaXNJbnRlcm5hbE9iamVjdChjaGlsZHJlbikpIHtcbiAgICAgICAgY2hpbGRyZW4uX2N0eCA9IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZTtcbiAgICAgIH0gZWxzZSBpZiAoc2xvdEZsYWcgPT09IDMgJiYgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlKSB7XG4gICAgICAgIGlmIChjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2Uuc2xvdHMuXyA9PT0gMSkge1xuICAgICAgICAgIGNoaWxkcmVuLl8gPSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNoaWxkcmVuLl8gPSAyO1xuICAgICAgICAgIHZub2RlLnBhdGNoRmxhZyB8PSAxMDI0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzRnVuY3Rpb24oY2hpbGRyZW4pKSB7XG4gICAgY2hpbGRyZW4gPSB7IGRlZmF1bHQ6IGNoaWxkcmVuLCBfY3R4OiBjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UgfTtcbiAgICB0eXBlID0gMzI7XG4gIH0gZWxzZSB7XG4gICAgY2hpbGRyZW4gPSBTdHJpbmcoY2hpbGRyZW4pO1xuICAgIGlmIChzaGFwZUZsYWcgJiA2NCkge1xuICAgICAgdHlwZSA9IDE2O1xuICAgICAgY2hpbGRyZW4gPSBbY3JlYXRlVGV4dFZOb2RlKGNoaWxkcmVuKV07XG4gICAgfSBlbHNlIHtcbiAgICAgIHR5cGUgPSA4O1xuICAgIH1cbiAgfVxuICB2bm9kZS5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICB2bm9kZS5zaGFwZUZsYWcgfD0gdHlwZTtcbn1cbmZ1bmN0aW9uIG1lcmdlUHJvcHMoLi4uYXJncykge1xuICBjb25zdCByZXQgPSB7fTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgdG9NZXJnZSA9IGFyZ3NbaV07XG4gICAgZm9yIChjb25zdCBrZXkgaW4gdG9NZXJnZSkge1xuICAgICAgaWYgKGtleSA9PT0gXCJjbGFzc1wiKSB7XG4gICAgICAgIGlmIChyZXQuY2xhc3MgIT09IHRvTWVyZ2UuY2xhc3MpIHtcbiAgICAgICAgICByZXQuY2xhc3MgPSBub3JtYWxpemVDbGFzcyhbcmV0LmNsYXNzLCB0b01lcmdlLmNsYXNzXSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSBcInN0eWxlXCIpIHtcbiAgICAgICAgcmV0LnN0eWxlID0gbm9ybWFsaXplU3R5bGUoW3JldC5zdHlsZSwgdG9NZXJnZS5zdHlsZV0pO1xuICAgICAgfSBlbHNlIGlmIChpc09uKGtleSkpIHtcbiAgICAgICAgY29uc3QgZXhpc3RpbmcgPSByZXRba2V5XTtcbiAgICAgICAgY29uc3QgaW5jb21pbmcgPSB0b01lcmdlW2tleV07XG4gICAgICAgIGlmIChpbmNvbWluZyAmJiBleGlzdGluZyAhPT0gaW5jb21pbmcgJiYgIShpc0FycmF5KGV4aXN0aW5nKSAmJiBleGlzdGluZy5pbmNsdWRlcyhpbmNvbWluZykpKSB7XG4gICAgICAgICAgcmV0W2tleV0gPSBleGlzdGluZyA/IFtdLmNvbmNhdChleGlzdGluZywgaW5jb21pbmcpIDogaW5jb21pbmc7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoa2V5ICE9PSBcIlwiKSB7XG4gICAgICAgIHJldFtrZXldID0gdG9NZXJnZVtrZXldO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcmV0O1xufVxuZnVuY3Rpb24gaW52b2tlVk5vZGVIb29rKGhvb2ssIGluc3RhbmNlLCB2bm9kZSwgcHJldlZOb2RlID0gbnVsbCkge1xuICBjYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZyhob29rLCBpbnN0YW5jZSwgNywgW1xuICAgIHZub2RlLFxuICAgIHByZXZWTm9kZVxuICBdKTtcbn1cblxuY29uc3QgZW1wdHlBcHBDb250ZXh0ID0gY3JlYXRlQXBwQ29udGV4dCgpO1xubGV0IHVpZCA9IDA7XG5mdW5jdGlvbiBjcmVhdGVDb21wb25lbnRJbnN0YW5jZSh2bm9kZSwgcGFyZW50LCBzdXNwZW5zZSkge1xuICBjb25zdCB0eXBlID0gdm5vZGUudHlwZTtcbiAgY29uc3QgYXBwQ29udGV4dCA9IChwYXJlbnQgPyBwYXJlbnQuYXBwQ29udGV4dCA6IHZub2RlLmFwcENvbnRleHQpIHx8IGVtcHR5QXBwQ29udGV4dDtcbiAgY29uc3QgaW5zdGFuY2UgPSB7XG4gICAgdWlkOiB1aWQrKyxcbiAgICB2bm9kZSxcbiAgICB0eXBlLFxuICAgIHBhcmVudCxcbiAgICBhcHBDb250ZXh0LFxuICAgIHJvb3Q6IG51bGwsXG4gICAgLy8gdG8gYmUgaW1tZWRpYXRlbHkgc2V0XG4gICAgbmV4dDogbnVsbCxcbiAgICBzdWJUcmVlOiBudWxsLFxuICAgIC8vIHdpbGwgYmUgc2V0IHN5bmNocm9ub3VzbHkgcmlnaHQgYWZ0ZXIgY3JlYXRpb25cbiAgICBlZmZlY3Q6IG51bGwsXG4gICAgdXBkYXRlOiBudWxsLFxuICAgIC8vIHdpbGwgYmUgc2V0IHN5bmNocm9ub3VzbHkgcmlnaHQgYWZ0ZXIgY3JlYXRpb25cbiAgICBzY29wZTogbmV3IEVmZmVjdFNjb3BlKFxuICAgICAgdHJ1ZVxuICAgICAgLyogZGV0YWNoZWQgKi9cbiAgICApLFxuICAgIHJlbmRlcjogbnVsbCxcbiAgICBwcm94eTogbnVsbCxcbiAgICBleHBvc2VkOiBudWxsLFxuICAgIGV4cG9zZVByb3h5OiBudWxsLFxuICAgIHdpdGhQcm94eTogbnVsbCxcbiAgICBwcm92aWRlczogcGFyZW50ID8gcGFyZW50LnByb3ZpZGVzIDogT2JqZWN0LmNyZWF0ZShhcHBDb250ZXh0LnByb3ZpZGVzKSxcbiAgICBhY2Nlc3NDYWNoZTogbnVsbCxcbiAgICByZW5kZXJDYWNoZTogW10sXG4gICAgLy8gbG9jYWwgcmVzb2x2ZWQgYXNzZXRzXG4gICAgY29tcG9uZW50czogbnVsbCxcbiAgICBkaXJlY3RpdmVzOiBudWxsLFxuICAgIC8vIHJlc29sdmVkIHByb3BzIGFuZCBlbWl0cyBvcHRpb25zXG4gICAgcHJvcHNPcHRpb25zOiBub3JtYWxpemVQcm9wc09wdGlvbnModHlwZSwgYXBwQ29udGV4dCksXG4gICAgZW1pdHNPcHRpb25zOiBub3JtYWxpemVFbWl0c09wdGlvbnModHlwZSwgYXBwQ29udGV4dCksXG4gICAgLy8gZW1pdFxuICAgIGVtaXQ6IG51bGwsXG4gICAgLy8gdG8gYmUgc2V0IGltbWVkaWF0ZWx5XG4gICAgZW1pdHRlZDogbnVsbCxcbiAgICAvLyBwcm9wcyBkZWZhdWx0IHZhbHVlXG4gICAgcHJvcHNEZWZhdWx0czogRU1QVFlfT0JKLFxuICAgIC8vIGluaGVyaXRBdHRyc1xuICAgIGluaGVyaXRBdHRyczogdHlwZS5pbmhlcml0QXR0cnMsXG4gICAgLy8gc3RhdGVcbiAgICBjdHg6IEVNUFRZX09CSixcbiAgICBkYXRhOiBFTVBUWV9PQkosXG4gICAgcHJvcHM6IEVNUFRZX09CSixcbiAgICBhdHRyczogRU1QVFlfT0JKLFxuICAgIHNsb3RzOiBFTVBUWV9PQkosXG4gICAgcmVmczogRU1QVFlfT0JKLFxuICAgIHNldHVwU3RhdGU6IEVNUFRZX09CSixcbiAgICBzZXR1cENvbnRleHQ6IG51bGwsXG4gICAgYXR0cnNQcm94eTogbnVsbCxcbiAgICBzbG90c1Byb3h5OiBudWxsLFxuICAgIC8vIHN1c3BlbnNlIHJlbGF0ZWRcbiAgICBzdXNwZW5zZSxcbiAgICBzdXNwZW5zZUlkOiBzdXNwZW5zZSA/IHN1c3BlbnNlLnBlbmRpbmdJZCA6IDAsXG4gICAgYXN5bmNEZXA6IG51bGwsXG4gICAgYXN5bmNSZXNvbHZlZDogZmFsc2UsXG4gICAgLy8gbGlmZWN5Y2xlIGhvb2tzXG4gICAgLy8gbm90IHVzaW5nIGVudW1zIGhlcmUgYmVjYXVzZSBpdCByZXN1bHRzIGluIGNvbXB1dGVkIHByb3BlcnRpZXNcbiAgICBpc01vdW50ZWQ6IGZhbHNlLFxuICAgIGlzVW5tb3VudGVkOiBmYWxzZSxcbiAgICBpc0RlYWN0aXZhdGVkOiBmYWxzZSxcbiAgICBiYzogbnVsbCxcbiAgICBjOiBudWxsLFxuICAgIGJtOiBudWxsLFxuICAgIG06IG51bGwsXG4gICAgYnU6IG51bGwsXG4gICAgdTogbnVsbCxcbiAgICB1bTogbnVsbCxcbiAgICBidW06IG51bGwsXG4gICAgZGE6IG51bGwsXG4gICAgYTogbnVsbCxcbiAgICBydGc6IG51bGwsXG4gICAgcnRjOiBudWxsLFxuICAgIGVjOiBudWxsLFxuICAgIHNwOiBudWxsXG4gIH07XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgaW5zdGFuY2UuY3R4ID0gY3JlYXRlRGV2UmVuZGVyQ29udGV4dChpbnN0YW5jZSk7XG4gIH0gZWxzZSB7XG4gICAgaW5zdGFuY2UuY3R4ID0geyBfOiBpbnN0YW5jZSB9O1xuICB9XG4gIGluc3RhbmNlLnJvb3QgPSBwYXJlbnQgPyBwYXJlbnQucm9vdCA6IGluc3RhbmNlO1xuICBpbnN0YW5jZS5lbWl0ID0gZW1pdC5iaW5kKG51bGwsIGluc3RhbmNlKTtcbiAgaWYgKHZub2RlLmNlKSB7XG4gICAgdm5vZGUuY2UoaW5zdGFuY2UpO1xuICB9XG4gIHJldHVybiBpbnN0YW5jZTtcbn1cbmxldCBjdXJyZW50SW5zdGFuY2UgPSBudWxsO1xuY29uc3QgZ2V0Q3VycmVudEluc3RhbmNlID0gKCkgPT4gY3VycmVudEluc3RhbmNlIHx8IGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZTtcbmxldCBpbnRlcm5hbFNldEN1cnJlbnRJbnN0YW5jZTtcbmxldCBzZXRJblNTUlNldHVwU3RhdGU7XG57XG4gIGNvbnN0IGcgPSBnZXRHbG9iYWxUaGlzKCk7XG4gIGNvbnN0IHJlZ2lzdGVyR2xvYmFsU2V0dGVyID0gKGtleSwgc2V0dGVyKSA9PiB7XG4gICAgbGV0IHNldHRlcnM7XG4gICAgaWYgKCEoc2V0dGVycyA9IGdba2V5XSkpIHNldHRlcnMgPSBnW2tleV0gPSBbXTtcbiAgICBzZXR0ZXJzLnB1c2goc2V0dGVyKTtcbiAgICByZXR1cm4gKHYpID0+IHtcbiAgICAgIGlmIChzZXR0ZXJzLmxlbmd0aCA+IDEpIHNldHRlcnMuZm9yRWFjaCgoc2V0KSA9PiBzZXQodikpO1xuICAgICAgZWxzZSBzZXR0ZXJzWzBdKHYpO1xuICAgIH07XG4gIH07XG4gIGludGVybmFsU2V0Q3VycmVudEluc3RhbmNlID0gcmVnaXN0ZXJHbG9iYWxTZXR0ZXIoXG4gICAgYF9fVlVFX0lOU1RBTkNFX1NFVFRFUlNfX2AsXG4gICAgKHYpID0+IGN1cnJlbnRJbnN0YW5jZSA9IHZcbiAgKTtcbiAgc2V0SW5TU1JTZXR1cFN0YXRlID0gcmVnaXN0ZXJHbG9iYWxTZXR0ZXIoXG4gICAgYF9fVlVFX1NTUl9TRVRURVJTX19gLFxuICAgICh2KSA9PiBpc0luU1NSQ29tcG9uZW50U2V0dXAgPSB2XG4gICk7XG59XG5jb25zdCBzZXRDdXJyZW50SW5zdGFuY2UgPSAoaW5zdGFuY2UpID0+IHtcbiAgY29uc3QgcHJldiA9IGN1cnJlbnRJbnN0YW5jZTtcbiAgaW50ZXJuYWxTZXRDdXJyZW50SW5zdGFuY2UoaW5zdGFuY2UpO1xuICBpbnN0YW5jZS5zY29wZS5vbigpO1xuICByZXR1cm4gKCkgPT4ge1xuICAgIGluc3RhbmNlLnNjb3BlLm9mZigpO1xuICAgIGludGVybmFsU2V0Q3VycmVudEluc3RhbmNlKHByZXYpO1xuICB9O1xufTtcbmNvbnN0IHVuc2V0Q3VycmVudEluc3RhbmNlID0gKCkgPT4ge1xuICBjdXJyZW50SW5zdGFuY2UgJiYgY3VycmVudEluc3RhbmNlLnNjb3BlLm9mZigpO1xuICBpbnRlcm5hbFNldEN1cnJlbnRJbnN0YW5jZShudWxsKTtcbn07XG5jb25zdCBpc0J1aWx0SW5UYWcgPSAvKiBAX19QVVJFX18gKi8gbWFrZU1hcChcInNsb3QsY29tcG9uZW50XCIpO1xuZnVuY3Rpb24gdmFsaWRhdGVDb21wb25lbnROYW1lKG5hbWUsIHsgaXNOYXRpdmVUYWcgfSkge1xuICBpZiAoaXNCdWlsdEluVGFnKG5hbWUpIHx8IGlzTmF0aXZlVGFnKG5hbWUpKSB7XG4gICAgd2FybiQxKFxuICAgICAgXCJEbyBub3QgdXNlIGJ1aWx0LWluIG9yIHJlc2VydmVkIEhUTUwgZWxlbWVudHMgYXMgY29tcG9uZW50IGlkOiBcIiArIG5hbWVcbiAgICApO1xuICB9XG59XG5mdW5jdGlvbiBpc1N0YXRlZnVsQ29tcG9uZW50KGluc3RhbmNlKSB7XG4gIHJldHVybiBpbnN0YW5jZS52bm9kZS5zaGFwZUZsYWcgJiA0O1xufVxubGV0IGlzSW5TU1JDb21wb25lbnRTZXR1cCA9IGZhbHNlO1xuZnVuY3Rpb24gc2V0dXBDb21wb25lbnQoaW5zdGFuY2UsIGlzU1NSID0gZmFsc2UpIHtcbiAgaXNTU1IgJiYgc2V0SW5TU1JTZXR1cFN0YXRlKGlzU1NSKTtcbiAgY29uc3QgeyBwcm9wcywgY2hpbGRyZW4gfSA9IGluc3RhbmNlLnZub2RlO1xuICBjb25zdCBpc1N0YXRlZnVsID0gaXNTdGF0ZWZ1bENvbXBvbmVudChpbnN0YW5jZSk7XG4gIGluaXRQcm9wcyhpbnN0YW5jZSwgcHJvcHMsIGlzU3RhdGVmdWwsIGlzU1NSKTtcbiAgaW5pdFNsb3RzKGluc3RhbmNlLCBjaGlsZHJlbik7XG4gIGNvbnN0IHNldHVwUmVzdWx0ID0gaXNTdGF0ZWZ1bCA/IHNldHVwU3RhdGVmdWxDb21wb25lbnQoaW5zdGFuY2UsIGlzU1NSKSA6IHZvaWQgMDtcbiAgaXNTU1IgJiYgc2V0SW5TU1JTZXR1cFN0YXRlKGZhbHNlKTtcbiAgcmV0dXJuIHNldHVwUmVzdWx0O1xufVxuZnVuY3Rpb24gc2V0dXBTdGF0ZWZ1bENvbXBvbmVudChpbnN0YW5jZSwgaXNTU1IpIHtcbiAgdmFyIF9hO1xuICBjb25zdCBDb21wb25lbnQgPSBpbnN0YW5jZS50eXBlO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGlmIChDb21wb25lbnQubmFtZSkge1xuICAgICAgdmFsaWRhdGVDb21wb25lbnROYW1lKENvbXBvbmVudC5uYW1lLCBpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZyk7XG4gICAgfVxuICAgIGlmIChDb21wb25lbnQuY29tcG9uZW50cykge1xuICAgICAgY29uc3QgbmFtZXMgPSBPYmplY3Qua2V5cyhDb21wb25lbnQuY29tcG9uZW50cyk7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhbGlkYXRlQ29tcG9uZW50TmFtZShuYW1lc1tpXSwgaW5zdGFuY2UuYXBwQ29udGV4dC5jb25maWcpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoQ29tcG9uZW50LmRpcmVjdGl2ZXMpIHtcbiAgICAgIGNvbnN0IG5hbWVzID0gT2JqZWN0LmtleXMoQ29tcG9uZW50LmRpcmVjdGl2ZXMpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YWxpZGF0ZURpcmVjdGl2ZU5hbWUobmFtZXNbaV0pO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoQ29tcG9uZW50LmNvbXBpbGVyT3B0aW9ucyAmJiBpc1J1bnRpbWVPbmx5KCkpIHtcbiAgICAgIHdhcm4kMShcbiAgICAgICAgYFwiY29tcGlsZXJPcHRpb25zXCIgaXMgb25seSBzdXBwb3J0ZWQgd2hlbiB1c2luZyBhIGJ1aWxkIG9mIFZ1ZSB0aGF0IGluY2x1ZGVzIHRoZSBydW50aW1lIGNvbXBpbGVyLiBTaW5jZSB5b3UgYXJlIHVzaW5nIGEgcnVudGltZS1vbmx5IGJ1aWxkLCB0aGUgb3B0aW9ucyBzaG91bGQgYmUgcGFzc2VkIHZpYSB5b3VyIGJ1aWxkIHRvb2wgY29uZmlnIGluc3RlYWQuYFxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgaW5zdGFuY2UuYWNjZXNzQ2FjaGUgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgaW5zdGFuY2UucHJveHkgPSBuZXcgUHJveHkoaW5zdGFuY2UuY3R4LCBQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMpO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGV4cG9zZVByb3BzT25SZW5kZXJDb250ZXh0KGluc3RhbmNlKTtcbiAgfVxuICBjb25zdCB7IHNldHVwIH0gPSBDb21wb25lbnQ7XG4gIGlmIChzZXR1cCkge1xuICAgIGNvbnN0IHNldHVwQ29udGV4dCA9IGluc3RhbmNlLnNldHVwQ29udGV4dCA9IHNldHVwLmxlbmd0aCA+IDEgPyBjcmVhdGVTZXR1cENvbnRleHQoaW5zdGFuY2UpIDogbnVsbDtcbiAgICBjb25zdCByZXNldCA9IHNldEN1cnJlbnRJbnN0YW5jZShpbnN0YW5jZSk7XG4gICAgcGF1c2VUcmFja2luZygpO1xuICAgIGNvbnN0IHNldHVwUmVzdWx0ID0gY2FsbFdpdGhFcnJvckhhbmRsaW5nKFxuICAgICAgc2V0dXAsXG4gICAgICBpbnN0YW5jZSxcbiAgICAgIDAsXG4gICAgICBbXG4gICAgICAgICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyBzaGFsbG93UmVhZG9ubHkoaW5zdGFuY2UucHJvcHMpIDogaW5zdGFuY2UucHJvcHMsXG4gICAgICAgIHNldHVwQ29udGV4dFxuICAgICAgXVxuICAgICk7XG4gICAgcmVzZXRUcmFja2luZygpO1xuICAgIHJlc2V0KCk7XG4gICAgaWYgKGlzUHJvbWlzZShzZXR1cFJlc3VsdCkpIHtcbiAgICAgIHNldHVwUmVzdWx0LnRoZW4odW5zZXRDdXJyZW50SW5zdGFuY2UsIHVuc2V0Q3VycmVudEluc3RhbmNlKTtcbiAgICAgIGlmIChpc1NTUikge1xuICAgICAgICByZXR1cm4gc2V0dXBSZXN1bHQudGhlbigocmVzb2x2ZWRSZXN1bHQpID0+IHtcbiAgICAgICAgICBoYW5kbGVTZXR1cFJlc3VsdChpbnN0YW5jZSwgcmVzb2x2ZWRSZXN1bHQsIGlzU1NSKTtcbiAgICAgICAgfSkuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgICBoYW5kbGVFcnJvcihlLCBpbnN0YW5jZSwgMCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5zdGFuY2UuYXN5bmNEZXAgPSBzZXR1cFJlc3VsdDtcbiAgICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIWluc3RhbmNlLnN1c3BlbnNlKSB7XG4gICAgICAgICAgY29uc3QgbmFtZSA9IChfYSA9IENvbXBvbmVudC5uYW1lKSAhPSBudWxsID8gX2EgOiBcIkFub255bW91c1wiO1xuICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgIGBDb21wb25lbnQgPCR7bmFtZX0+OiBzZXR1cCBmdW5jdGlvbiByZXR1cm5lZCBhIHByb21pc2UsIGJ1dCBubyA8U3VzcGVuc2U+IGJvdW5kYXJ5IHdhcyBmb3VuZCBpbiB0aGUgcGFyZW50IGNvbXBvbmVudCB0cmVlLiBBIGNvbXBvbmVudCB3aXRoIGFzeW5jIHNldHVwKCkgbXVzdCBiZSBuZXN0ZWQgaW4gYSA8U3VzcGVuc2U+IGluIG9yZGVyIHRvIGJlIHJlbmRlcmVkLmBcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGhhbmRsZVNldHVwUmVzdWx0KGluc3RhbmNlLCBzZXR1cFJlc3VsdCwgaXNTU1IpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmaW5pc2hDb21wb25lbnRTZXR1cChpbnN0YW5jZSwgaXNTU1IpO1xuICB9XG59XG5mdW5jdGlvbiBoYW5kbGVTZXR1cFJlc3VsdChpbnN0YW5jZSwgc2V0dXBSZXN1bHQsIGlzU1NSKSB7XG4gIGlmIChpc0Z1bmN0aW9uKHNldHVwUmVzdWx0KSkge1xuICAgIGlmIChpbnN0YW5jZS50eXBlLl9fc3NySW5saW5lUmVuZGVyKSB7XG4gICAgICBpbnN0YW5jZS5zc3JSZW5kZXIgPSBzZXR1cFJlc3VsdDtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5zdGFuY2UucmVuZGVyID0gc2V0dXBSZXN1bHQ7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzT2JqZWN0KHNldHVwUmVzdWx0KSkge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIGlzVk5vZGUoc2V0dXBSZXN1bHQpKSB7XG4gICAgICB3YXJuJDEoXG4gICAgICAgIGBzZXR1cCgpIHNob3VsZCBub3QgcmV0dXJuIFZOb2RlcyBkaXJlY3RseSAtIHJldHVybiBhIHJlbmRlciBmdW5jdGlvbiBpbnN0ZWFkLmBcbiAgICAgICk7XG4gICAgfVxuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykge1xuICAgICAgaW5zdGFuY2UuZGV2dG9vbHNSYXdTZXR1cFN0YXRlID0gc2V0dXBSZXN1bHQ7XG4gICAgfVxuICAgIGluc3RhbmNlLnNldHVwU3RhdGUgPSBwcm94eVJlZnMoc2V0dXBSZXN1bHQpO1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICBleHBvc2VTZXR1cFN0YXRlT25SZW5kZXJDb250ZXh0KGluc3RhbmNlKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiBzZXR1cFJlc3VsdCAhPT0gdm9pZCAwKSB7XG4gICAgd2FybiQxKFxuICAgICAgYHNldHVwKCkgc2hvdWxkIHJldHVybiBhbiBvYmplY3QuIFJlY2VpdmVkOiAke3NldHVwUmVzdWx0ID09PSBudWxsID8gXCJudWxsXCIgOiB0eXBlb2Ygc2V0dXBSZXN1bHR9YFxuICAgICk7XG4gIH1cbiAgZmluaXNoQ29tcG9uZW50U2V0dXAoaW5zdGFuY2UsIGlzU1NSKTtcbn1cbmxldCBjb21waWxlO1xubGV0IGluc3RhbGxXaXRoUHJveHk7XG5mdW5jdGlvbiByZWdpc3RlclJ1bnRpbWVDb21waWxlcihfY29tcGlsZSkge1xuICBjb21waWxlID0gX2NvbXBpbGU7XG4gIGluc3RhbGxXaXRoUHJveHkgPSAoaSkgPT4ge1xuICAgIGlmIChpLnJlbmRlci5fcmMpIHtcbiAgICAgIGkud2l0aFByb3h5ID0gbmV3IFByb3h5KGkuY3R4LCBSdW50aW1lQ29tcGlsZWRQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMpO1xuICAgIH1cbiAgfTtcbn1cbmNvbnN0IGlzUnVudGltZU9ubHkgPSAoKSA9PiAhY29tcGlsZTtcbmZ1bmN0aW9uIGZpbmlzaENvbXBvbmVudFNldHVwKGluc3RhbmNlLCBpc1NTUiwgc2tpcE9wdGlvbnMpIHtcbiAgY29uc3QgQ29tcG9uZW50ID0gaW5zdGFuY2UudHlwZTtcbiAgaWYgKCFpbnN0YW5jZS5yZW5kZXIpIHtcbiAgICBpZiAoIWlzU1NSICYmIGNvbXBpbGUgJiYgIUNvbXBvbmVudC5yZW5kZXIpIHtcbiAgICAgIGNvbnN0IHRlbXBsYXRlID0gQ29tcG9uZW50LnRlbXBsYXRlIHx8IHJlc29sdmVNZXJnZWRPcHRpb25zKGluc3RhbmNlKS50ZW1wbGF0ZTtcbiAgICAgIGlmICh0ZW1wbGF0ZSkge1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIHN0YXJ0TWVhc3VyZShpbnN0YW5jZSwgYGNvbXBpbGVgKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IGlzQ3VzdG9tRWxlbWVudCwgY29tcGlsZXJPcHRpb25zIH0gPSBpbnN0YW5jZS5hcHBDb250ZXh0LmNvbmZpZztcbiAgICAgICAgY29uc3QgeyBkZWxpbWl0ZXJzLCBjb21waWxlck9wdGlvbnM6IGNvbXBvbmVudENvbXBpbGVyT3B0aW9ucyB9ID0gQ29tcG9uZW50O1xuICAgICAgICBjb25zdCBmaW5hbENvbXBpbGVyT3B0aW9ucyA9IGV4dGVuZChcbiAgICAgICAgICBleHRlbmQoXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGlzQ3VzdG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgZGVsaW1pdGVyc1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbXBpbGVyT3B0aW9uc1xuICAgICAgICAgICksXG4gICAgICAgICAgY29tcG9uZW50Q29tcGlsZXJPcHRpb25zXG4gICAgICAgICk7XG4gICAgICAgIENvbXBvbmVudC5yZW5kZXIgPSBjb21waWxlKHRlbXBsYXRlLCBmaW5hbENvbXBpbGVyT3B0aW9ucyk7XG4gICAgICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpKSB7XG4gICAgICAgICAgZW5kTWVhc3VyZShpbnN0YW5jZSwgYGNvbXBpbGVgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpbnN0YW5jZS5yZW5kZXIgPSBDb21wb25lbnQucmVuZGVyIHx8IE5PT1A7XG4gICAgaWYgKGluc3RhbGxXaXRoUHJveHkpIHtcbiAgICAgIGluc3RhbGxXaXRoUHJveHkoaW5zdGFuY2UpO1xuICAgIH1cbiAgfVxuICBpZiAoX19WVUVfT1BUSU9OU19BUElfXyAmJiB0cnVlKSB7XG4gICAgY29uc3QgcmVzZXQgPSBzZXRDdXJyZW50SW5zdGFuY2UoaW5zdGFuY2UpO1xuICAgIHBhdXNlVHJhY2tpbmcoKTtcbiAgICB0cnkge1xuICAgICAgYXBwbHlPcHRpb25zKGluc3RhbmNlKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgcmVzZXRUcmFja2luZygpO1xuICAgICAgcmVzZXQoKTtcbiAgICB9XG4gIH1cbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgIUNvbXBvbmVudC5yZW5kZXIgJiYgaW5zdGFuY2UucmVuZGVyID09PSBOT09QICYmICFpc1NTUikge1xuICAgIGlmICghY29tcGlsZSAmJiBDb21wb25lbnQudGVtcGxhdGUpIHtcbiAgICAgIHdhcm4kMShcbiAgICAgICAgYENvbXBvbmVudCBwcm92aWRlZCB0ZW1wbGF0ZSBvcHRpb24gYnV0IHJ1bnRpbWUgY29tcGlsYXRpb24gaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJ1aWxkIG9mIFZ1ZS5gICsgKGAgQ29uZmlndXJlIHlvdXIgYnVuZGxlciB0byBhbGlhcyBcInZ1ZVwiIHRvIFwidnVlL2Rpc3QvdnVlLmVzbS1idW5kbGVyLmpzXCIuYCApXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB3YXJuJDEoYENvbXBvbmVudCBpcyBtaXNzaW5nIHRlbXBsYXRlIG9yIHJlbmRlciBmdW5jdGlvbjogYCwgQ29tcG9uZW50KTtcbiAgICB9XG4gIH1cbn1cbmNvbnN0IGF0dHJzUHJveHlIYW5kbGVycyA9ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyB7XG4gIGdldCh0YXJnZXQsIGtleSkge1xuICAgIG1hcmtBdHRyc0FjY2Vzc2VkKCk7XG4gICAgdHJhY2sodGFyZ2V0LCBcImdldFwiLCBcIlwiKTtcbiAgICByZXR1cm4gdGFyZ2V0W2tleV07XG4gIH0sXG4gIHNldCgpIHtcbiAgICB3YXJuJDEoYHNldHVwQ29udGV4dC5hdHRycyBpcyByZWFkb25seS5gKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIGRlbGV0ZVByb3BlcnR5KCkge1xuICAgIHdhcm4kMShgc2V0dXBDb250ZXh0LmF0dHJzIGlzIHJlYWRvbmx5LmApO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufSA6IHtcbiAgZ2V0KHRhcmdldCwga2V5KSB7XG4gICAgdHJhY2sodGFyZ2V0LCBcImdldFwiLCBcIlwiKTtcbiAgICByZXR1cm4gdGFyZ2V0W2tleV07XG4gIH1cbn07XG5mdW5jdGlvbiBnZXRTbG90c1Byb3h5KGluc3RhbmNlKSB7XG4gIHJldHVybiBpbnN0YW5jZS5zbG90c1Byb3h5IHx8IChpbnN0YW5jZS5zbG90c1Byb3h5ID0gbmV3IFByb3h5KGluc3RhbmNlLnNsb3RzLCB7XG4gICAgZ2V0KHRhcmdldCwga2V5KSB7XG4gICAgICB0cmFjayhpbnN0YW5jZSwgXCJnZXRcIiwgXCIkc2xvdHNcIik7XG4gICAgICByZXR1cm4gdGFyZ2V0W2tleV07XG4gICAgfVxuICB9KSk7XG59XG5mdW5jdGlvbiBjcmVhdGVTZXR1cENvbnRleHQoaW5zdGFuY2UpIHtcbiAgY29uc3QgZXhwb3NlID0gKGV4cG9zZWQpID0+IHtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgaWYgKGluc3RhbmNlLmV4cG9zZWQpIHtcbiAgICAgICAgd2FybiQxKGBleHBvc2UoKSBzaG91bGQgYmUgY2FsbGVkIG9ubHkgb25jZSBwZXIgc2V0dXAoKS5gKTtcbiAgICAgIH1cbiAgICAgIGlmIChleHBvc2VkICE9IG51bGwpIHtcbiAgICAgICAgbGV0IGV4cG9zZWRUeXBlID0gdHlwZW9mIGV4cG9zZWQ7XG4gICAgICAgIGlmIChleHBvc2VkVHlwZSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgIGlmIChpc0FycmF5KGV4cG9zZWQpKSB7XG4gICAgICAgICAgICBleHBvc2VkVHlwZSA9IFwiYXJyYXlcIjtcbiAgICAgICAgICB9IGVsc2UgaWYgKGlzUmVmKGV4cG9zZWQpKSB7XG4gICAgICAgICAgICBleHBvc2VkVHlwZSA9IFwicmVmXCI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChleHBvc2VkVHlwZSAhPT0gXCJvYmplY3RcIikge1xuICAgICAgICAgIHdhcm4kMShcbiAgICAgICAgICAgIGBleHBvc2UoKSBzaG91bGQgYmUgcGFzc2VkIGEgcGxhaW4gb2JqZWN0LCByZWNlaXZlZCAke2V4cG9zZWRUeXBlfS5gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpbnN0YW5jZS5leHBvc2VkID0gZXhwb3NlZCB8fCB7fTtcbiAgfTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBsZXQgYXR0cnNQcm94eTtcbiAgICByZXR1cm4gT2JqZWN0LmZyZWV6ZSh7XG4gICAgICBnZXQgYXR0cnMoKSB7XG4gICAgICAgIHJldHVybiBhdHRyc1Byb3h5IHx8IChhdHRyc1Byb3h5ID0gbmV3IFByb3h5KGluc3RhbmNlLmF0dHJzLCBhdHRyc1Byb3h5SGFuZGxlcnMpKTtcbiAgICAgIH0sXG4gICAgICBnZXQgc2xvdHMoKSB7XG4gICAgICAgIHJldHVybiBnZXRTbG90c1Byb3h5KGluc3RhbmNlKTtcbiAgICAgIH0sXG4gICAgICBnZXQgZW1pdCgpIHtcbiAgICAgICAgcmV0dXJuIChldmVudCwgLi4uYXJncykgPT4gaW5zdGFuY2UuZW1pdChldmVudCwgLi4uYXJncyk7XG4gICAgICB9LFxuICAgICAgZXhwb3NlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGF0dHJzOiBuZXcgUHJveHkoaW5zdGFuY2UuYXR0cnMsIGF0dHJzUHJveHlIYW5kbGVycyksXG4gICAgICBzbG90czogaW5zdGFuY2Uuc2xvdHMsXG4gICAgICBlbWl0OiBpbnN0YW5jZS5lbWl0LFxuICAgICAgZXhwb3NlXG4gICAgfTtcbiAgfVxufVxuZnVuY3Rpb24gZ2V0Q29tcG9uZW50UHVibGljSW5zdGFuY2UoaW5zdGFuY2UpIHtcbiAgaWYgKGluc3RhbmNlLmV4cG9zZWQpIHtcbiAgICByZXR1cm4gaW5zdGFuY2UuZXhwb3NlUHJveHkgfHwgKGluc3RhbmNlLmV4cG9zZVByb3h5ID0gbmV3IFByb3h5KHByb3h5UmVmcyhtYXJrUmF3KGluc3RhbmNlLmV4cG9zZWQpKSwge1xuICAgICAgZ2V0KHRhcmdldCwga2V5KSB7XG4gICAgICAgIGlmIChrZXkgaW4gdGFyZ2V0KSB7XG4gICAgICAgICAgcmV0dXJuIHRhcmdldFtrZXldO1xuICAgICAgICB9IGVsc2UgaWYgKGtleSBpbiBwdWJsaWNQcm9wZXJ0aWVzTWFwKSB7XG4gICAgICAgICAgcmV0dXJuIHB1YmxpY1Byb3BlcnRpZXNNYXBba2V5XShpbnN0YW5jZSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBoYXModGFyZ2V0LCBrZXkpIHtcbiAgICAgICAgcmV0dXJuIGtleSBpbiB0YXJnZXQgfHwga2V5IGluIHB1YmxpY1Byb3BlcnRpZXNNYXA7XG4gICAgICB9XG4gICAgfSkpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBpbnN0YW5jZS5wcm94eTtcbiAgfVxufVxuY29uc3QgY2xhc3NpZnlSRSA9IC8oPzpefFstX10pKFxcdykvZztcbmNvbnN0IGNsYXNzaWZ5ID0gKHN0cikgPT4gc3RyLnJlcGxhY2UoY2xhc3NpZnlSRSwgKGMpID0+IGMudG9VcHBlckNhc2UoKSkucmVwbGFjZSgvWy1fXS9nLCBcIlwiKTtcbmZ1bmN0aW9uIGdldENvbXBvbmVudE5hbWUoQ29tcG9uZW50LCBpbmNsdWRlSW5mZXJyZWQgPSB0cnVlKSB7XG4gIHJldHVybiBpc0Z1bmN0aW9uKENvbXBvbmVudCkgPyBDb21wb25lbnQuZGlzcGxheU5hbWUgfHwgQ29tcG9uZW50Lm5hbWUgOiBDb21wb25lbnQubmFtZSB8fCBpbmNsdWRlSW5mZXJyZWQgJiYgQ29tcG9uZW50Ll9fbmFtZTtcbn1cbmZ1bmN0aW9uIGZvcm1hdENvbXBvbmVudE5hbWUoaW5zdGFuY2UsIENvbXBvbmVudCwgaXNSb290ID0gZmFsc2UpIHtcbiAgbGV0IG5hbWUgPSBnZXRDb21wb25lbnROYW1lKENvbXBvbmVudCk7XG4gIGlmICghbmFtZSAmJiBDb21wb25lbnQuX19maWxlKSB7XG4gICAgY29uc3QgbWF0Y2ggPSBDb21wb25lbnQuX19maWxlLm1hdGNoKC8oW14vXFxcXF0rKVxcLlxcdyskLyk7XG4gICAgaWYgKG1hdGNoKSB7XG4gICAgICBuYW1lID0gbWF0Y2hbMV07XG4gICAgfVxuICB9XG4gIGlmICghbmFtZSAmJiBpbnN0YW5jZSAmJiBpbnN0YW5jZS5wYXJlbnQpIHtcbiAgICBjb25zdCBpbmZlckZyb21SZWdpc3RyeSA9IChyZWdpc3RyeSkgPT4ge1xuICAgICAgZm9yIChjb25zdCBrZXkgaW4gcmVnaXN0cnkpIHtcbiAgICAgICAgaWYgKHJlZ2lzdHJ5W2tleV0gPT09IENvbXBvbmVudCkge1xuICAgICAgICAgIHJldHVybiBrZXk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIG5hbWUgPSBpbmZlckZyb21SZWdpc3RyeShcbiAgICAgIGluc3RhbmNlLmNvbXBvbmVudHMgfHwgaW5zdGFuY2UucGFyZW50LnR5cGUuY29tcG9uZW50c1xuICAgICkgfHwgaW5mZXJGcm9tUmVnaXN0cnkoaW5zdGFuY2UuYXBwQ29udGV4dC5jb21wb25lbnRzKTtcbiAgfVxuICByZXR1cm4gbmFtZSA/IGNsYXNzaWZ5KG5hbWUpIDogaXNSb290ID8gYEFwcGAgOiBgQW5vbnltb3VzYDtcbn1cbmZ1bmN0aW9uIGlzQ2xhc3NDb21wb25lbnQodmFsdWUpIHtcbiAgcmV0dXJuIGlzRnVuY3Rpb24odmFsdWUpICYmIFwiX192Y2NPcHRzXCIgaW4gdmFsdWU7XG59XG5cbmNvbnN0IGNvbXB1dGVkID0gKGdldHRlck9yT3B0aW9ucywgZGVidWdPcHRpb25zKSA9PiB7XG4gIGNvbnN0IGMgPSBjb21wdXRlZCQxKGdldHRlck9yT3B0aW9ucywgZGVidWdPcHRpb25zLCBpc0luU1NSQ29tcG9uZW50U2V0dXApO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGNvbnN0IGkgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgICBpZiAoaSAmJiBpLmFwcENvbnRleHQuY29uZmlnLndhcm5SZWN1cnNpdmVDb21wdXRlZCkge1xuICAgICAgYy5fd2FyblJlY3Vyc2l2ZSA9IHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBjO1xufTtcblxuZnVuY3Rpb24gdXNlTW9kZWwocHJvcHMsIG5hbWUsIG9wdGlvbnMgPSBFTVBUWV9PQkopIHtcbiAgY29uc3QgaSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhaSkge1xuICAgIHdhcm4kMShgdXNlTW9kZWwoKSBjYWxsZWQgd2l0aG91dCBhY3RpdmUgaW5zdGFuY2UuYCk7XG4gICAgcmV0dXJuIHJlZigpO1xuICB9XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFpLnByb3BzT3B0aW9uc1swXVtuYW1lXSkge1xuICAgIHdhcm4kMShgdXNlTW9kZWwoKSBjYWxsZWQgd2l0aCBwcm9wIFwiJHtuYW1lfVwiIHdoaWNoIGlzIG5vdCBkZWNsYXJlZC5gKTtcbiAgICByZXR1cm4gcmVmKCk7XG4gIH1cbiAgY29uc3QgY2FtZWxpemVkTmFtZSA9IGNhbWVsaXplKG5hbWUpO1xuICBjb25zdCBoeXBoZW5hdGVkTmFtZSA9IGh5cGhlbmF0ZShuYW1lKTtcbiAgY29uc3QgcmVzID0gY3VzdG9tUmVmKCh0cmFjaywgdHJpZ2dlcikgPT4ge1xuICAgIGxldCBsb2NhbFZhbHVlO1xuICAgIHdhdGNoU3luY0VmZmVjdCgoKSA9PiB7XG4gICAgICBjb25zdCBwcm9wVmFsdWUgPSBwcm9wc1tuYW1lXTtcbiAgICAgIGlmIChoYXNDaGFuZ2VkKGxvY2FsVmFsdWUsIHByb3BWYWx1ZSkpIHtcbiAgICAgICAgbG9jYWxWYWx1ZSA9IHByb3BWYWx1ZTtcbiAgICAgICAgdHJpZ2dlcigpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICBnZXQoKSB7XG4gICAgICAgIHRyYWNrKCk7XG4gICAgICAgIHJldHVybiBvcHRpb25zLmdldCA/IG9wdGlvbnMuZ2V0KGxvY2FsVmFsdWUpIDogbG9jYWxWYWx1ZTtcbiAgICAgIH0sXG4gICAgICBzZXQodmFsdWUpIHtcbiAgICAgICAgY29uc3QgcmF3UHJvcHMgPSBpLnZub2RlLnByb3BzO1xuICAgICAgICBpZiAoIShyYXdQcm9wcyAmJiAvLyBjaGVjayBpZiBwYXJlbnQgaGFzIHBhc3NlZCB2LW1vZGVsXG4gICAgICAgIChuYW1lIGluIHJhd1Byb3BzIHx8IGNhbWVsaXplZE5hbWUgaW4gcmF3UHJvcHMgfHwgaHlwaGVuYXRlZE5hbWUgaW4gcmF3UHJvcHMpICYmIChgb25VcGRhdGU6JHtuYW1lfWAgaW4gcmF3UHJvcHMgfHwgYG9uVXBkYXRlOiR7Y2FtZWxpemVkTmFtZX1gIGluIHJhd1Byb3BzIHx8IGBvblVwZGF0ZToke2h5cGhlbmF0ZWROYW1lfWAgaW4gcmF3UHJvcHMpKSAmJiBoYXNDaGFuZ2VkKHZhbHVlLCBsb2NhbFZhbHVlKSkge1xuICAgICAgICAgIGxvY2FsVmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICB0cmlnZ2VyKCk7XG4gICAgICAgIH1cbiAgICAgICAgaS5lbWl0KGB1cGRhdGU6JHtuYW1lfWAsIG9wdGlvbnMuc2V0ID8gb3B0aW9ucy5zZXQodmFsdWUpIDogdmFsdWUpO1xuICAgICAgfVxuICAgIH07XG4gIH0pO1xuICBjb25zdCBtb2RpZmllcktleSA9IG5hbWUgPT09IFwibW9kZWxWYWx1ZVwiID8gXCJtb2RlbE1vZGlmaWVyc1wiIDogYCR7bmFtZX1Nb2RpZmllcnNgO1xuICByZXNbU3ltYm9sLml0ZXJhdG9yXSA9ICgpID0+IHtcbiAgICBsZXQgaTIgPSAwO1xuICAgIHJldHVybiB7XG4gICAgICBuZXh0KCkge1xuICAgICAgICBpZiAoaTIgPCAyKSB7XG4gICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IGkyKysgPyBwcm9wc1ttb2RpZmllcktleV0gfHwge30gOiByZXMsIGRvbmU6IGZhbHNlIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHsgZG9uZTogdHJ1ZSB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfTtcbiAgcmV0dXJuIHJlcztcbn1cblxuZnVuY3Rpb24gaCh0eXBlLCBwcm9wc09yQ2hpbGRyZW4sIGNoaWxkcmVuKSB7XG4gIGNvbnN0IGwgPSBhcmd1bWVudHMubGVuZ3RoO1xuICBpZiAobCA9PT0gMikge1xuICAgIGlmIChpc09iamVjdChwcm9wc09yQ2hpbGRyZW4pICYmICFpc0FycmF5KHByb3BzT3JDaGlsZHJlbikpIHtcbiAgICAgIGlmIChpc1ZOb2RlKHByb3BzT3JDaGlsZHJlbikpIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKHR5cGUsIG51bGwsIFtwcm9wc09yQ2hpbGRyZW5dKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjcmVhdGVWTm9kZSh0eXBlLCBwcm9wc09yQ2hpbGRyZW4pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gY3JlYXRlVk5vZGUodHlwZSwgbnVsbCwgcHJvcHNPckNoaWxkcmVuKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGwgPiAzKSB7XG4gICAgICBjaGlsZHJlbiA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMik7XG4gICAgfSBlbHNlIGlmIChsID09PSAzICYmIGlzVk5vZGUoY2hpbGRyZW4pKSB7XG4gICAgICBjaGlsZHJlbiA9IFtjaGlsZHJlbl07XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVWTm9kZSh0eXBlLCBwcm9wc09yQ2hpbGRyZW4sIGNoaWxkcmVuKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpbml0Q3VzdG9tRm9ybWF0dGVyKCkge1xuICBpZiAoISEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgdHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCB2dWVTdHlsZSA9IHsgc3R5bGU6IFwiY29sb3I6IzNiYTc3NlwiIH07XG4gIGNvbnN0IG51bWJlclN0eWxlID0geyBzdHlsZTogXCJjb2xvcjojMTY3N2ZmXCIgfTtcbiAgY29uc3Qgc3RyaW5nU3R5bGUgPSB7IHN0eWxlOiBcImNvbG9yOiNmNTIyMmRcIiB9O1xuICBjb25zdCBrZXl3b3JkU3R5bGUgPSB7IHN0eWxlOiBcImNvbG9yOiNlYjJmOTZcIiB9O1xuICBjb25zdCBmb3JtYXR0ZXIgPSB7XG4gICAgaGVhZGVyKG9iaikge1xuICAgICAgaWYgKCFpc09iamVjdChvYmopKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgaWYgKG9iai5fX2lzVnVlKSB7XG4gICAgICAgIHJldHVybiBbXCJkaXZcIiwgdnVlU3R5bGUsIGBWdWVJbnN0YW5jZWBdO1xuICAgICAgfSBlbHNlIGlmIChpc1JlZihvYmopKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICB7fSxcbiAgICAgICAgICBbXCJzcGFuXCIsIHZ1ZVN0eWxlLCBnZW5SZWZGbGFnKG9iaildLFxuICAgICAgICAgIFwiPFwiLFxuICAgICAgICAgIGZvcm1hdFZhbHVlKG9iai52YWx1ZSksXG4gICAgICAgICAgYD5gXG4gICAgICAgIF07XG4gICAgICB9IGVsc2UgaWYgKGlzUmVhY3RpdmUob2JqKSkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAge30sXG4gICAgICAgICAgW1wic3BhblwiLCB2dWVTdHlsZSwgaXNTaGFsbG93KG9iaikgPyBcIlNoYWxsb3dSZWFjdGl2ZVwiIDogXCJSZWFjdGl2ZVwiXSxcbiAgICAgICAgICBcIjxcIixcbiAgICAgICAgICBmb3JtYXRWYWx1ZShvYmopLFxuICAgICAgICAgIGA+JHtpc1JlYWRvbmx5KG9iaikgPyBgIChyZWFkb25seSlgIDogYGB9YFxuICAgICAgICBdO1xuICAgICAgfSBlbHNlIGlmIChpc1JlYWRvbmx5KG9iaikpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgIHt9LFxuICAgICAgICAgIFtcInNwYW5cIiwgdnVlU3R5bGUsIGlzU2hhbGxvdyhvYmopID8gXCJTaGFsbG93UmVhZG9ubHlcIiA6IFwiUmVhZG9ubHlcIl0sXG4gICAgICAgICAgXCI8XCIsXG4gICAgICAgICAgZm9ybWF0VmFsdWUob2JqKSxcbiAgICAgICAgICBcIj5cIlxuICAgICAgICBdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSxcbiAgICBoYXNCb2R5KG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiBvYmouX19pc1Z1ZTtcbiAgICB9LFxuICAgIGJvZHkob2JqKSB7XG4gICAgICBpZiAob2JqICYmIG9iai5fX2lzVnVlKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICB7fSxcbiAgICAgICAgICAuLi5mb3JtYXRJbnN0YW5jZShvYmouJClcbiAgICAgICAgXTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGZ1bmN0aW9uIGZvcm1hdEluc3RhbmNlKGluc3RhbmNlKSB7XG4gICAgY29uc3QgYmxvY2tzID0gW107XG4gICAgaWYgKGluc3RhbmNlLnR5cGUucHJvcHMgJiYgaW5zdGFuY2UucHJvcHMpIHtcbiAgICAgIGJsb2Nrcy5wdXNoKGNyZWF0ZUluc3RhbmNlQmxvY2soXCJwcm9wc1wiLCB0b1JhdyhpbnN0YW5jZS5wcm9wcykpKTtcbiAgICB9XG4gICAgaWYgKGluc3RhbmNlLnNldHVwU3RhdGUgIT09IEVNUFRZX09CSikge1xuICAgICAgYmxvY2tzLnB1c2goY3JlYXRlSW5zdGFuY2VCbG9jayhcInNldHVwXCIsIGluc3RhbmNlLnNldHVwU3RhdGUpKTtcbiAgICB9XG4gICAgaWYgKGluc3RhbmNlLmRhdGEgIT09IEVNUFRZX09CSikge1xuICAgICAgYmxvY2tzLnB1c2goY3JlYXRlSW5zdGFuY2VCbG9jayhcImRhdGFcIiwgdG9SYXcoaW5zdGFuY2UuZGF0YSkpKTtcbiAgICB9XG4gICAgY29uc3QgY29tcHV0ZWQgPSBleHRyYWN0S2V5cyhpbnN0YW5jZSwgXCJjb21wdXRlZFwiKTtcbiAgICBpZiAoY29tcHV0ZWQpIHtcbiAgICAgIGJsb2Nrcy5wdXNoKGNyZWF0ZUluc3RhbmNlQmxvY2soXCJjb21wdXRlZFwiLCBjb21wdXRlZCkpO1xuICAgIH1cbiAgICBjb25zdCBpbmplY3RlZCA9IGV4dHJhY3RLZXlzKGluc3RhbmNlLCBcImluamVjdFwiKTtcbiAgICBpZiAoaW5qZWN0ZWQpIHtcbiAgICAgIGJsb2Nrcy5wdXNoKGNyZWF0ZUluc3RhbmNlQmxvY2soXCJpbmplY3RlZFwiLCBpbmplY3RlZCkpO1xuICAgIH1cbiAgICBibG9ja3MucHVzaChbXG4gICAgICBcImRpdlwiLFxuICAgICAge30sXG4gICAgICBbXG4gICAgICAgIFwic3BhblwiLFxuICAgICAgICB7XG4gICAgICAgICAgc3R5bGU6IGtleXdvcmRTdHlsZS5zdHlsZSArIFwiO29wYWNpdHk6MC42NlwiXG4gICAgICAgIH0sXG4gICAgICAgIFwiJCAoaW50ZXJuYWwpOiBcIlxuICAgICAgXSxcbiAgICAgIFtcIm9iamVjdFwiLCB7IG9iamVjdDogaW5zdGFuY2UgfV1cbiAgICBdKTtcbiAgICByZXR1cm4gYmxvY2tzO1xuICB9XG4gIGZ1bmN0aW9uIGNyZWF0ZUluc3RhbmNlQmxvY2sodHlwZSwgdGFyZ2V0KSB7XG4gICAgdGFyZ2V0ID0gZXh0ZW5kKHt9LCB0YXJnZXQpO1xuICAgIGlmICghT2JqZWN0LmtleXModGFyZ2V0KS5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBbXCJzcGFuXCIsIHt9XTtcbiAgICB9XG4gICAgcmV0dXJuIFtcbiAgICAgIFwiZGl2XCIsXG4gICAgICB7IHN0eWxlOiBcImxpbmUtaGVpZ2h0OjEuMjVlbTttYXJnaW4tYm90dG9tOjAuNmVtXCIgfSxcbiAgICAgIFtcbiAgICAgICAgXCJkaXZcIixcbiAgICAgICAge1xuICAgICAgICAgIHN0eWxlOiBcImNvbG9yOiM0NzY1ODJcIlxuICAgICAgICB9LFxuICAgICAgICB0eXBlXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICBcImRpdlwiLFxuICAgICAgICB7XG4gICAgICAgICAgc3R5bGU6IFwicGFkZGluZy1sZWZ0OjEuMjVlbVwiXG4gICAgICAgIH0sXG4gICAgICAgIC4uLk9iamVjdC5rZXlzKHRhcmdldCkubWFwKChrZXkpID0+IHtcbiAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgIHt9LFxuICAgICAgICAgICAgW1wic3BhblwiLCBrZXl3b3JkU3R5bGUsIGtleSArIFwiOiBcIl0sXG4gICAgICAgICAgICBmb3JtYXRWYWx1ZSh0YXJnZXRba2V5XSwgZmFsc2UpXG4gICAgICAgICAgXTtcbiAgICAgICAgfSlcbiAgICAgIF1cbiAgICBdO1xuICB9XG4gIGZ1bmN0aW9uIGZvcm1hdFZhbHVlKHYsIGFzUmF3ID0gdHJ1ZSkge1xuICAgIGlmICh0eXBlb2YgdiA9PT0gXCJudW1iZXJcIikge1xuICAgICAgcmV0dXJuIFtcInNwYW5cIiwgbnVtYmVyU3R5bGUsIHZdO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHYgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHJldHVybiBbXCJzcGFuXCIsIHN0cmluZ1N0eWxlLCBKU09OLnN0cmluZ2lmeSh2KV07XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdiA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgIHJldHVybiBbXCJzcGFuXCIsIGtleXdvcmRTdHlsZSwgdl07XG4gICAgfSBlbHNlIGlmIChpc09iamVjdCh2KSkge1xuICAgICAgcmV0dXJuIFtcIm9iamVjdFwiLCB7IG9iamVjdDogYXNSYXcgPyB0b1Jhdyh2KSA6IHYgfV07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBbXCJzcGFuXCIsIHN0cmluZ1N0eWxlLCBTdHJpbmcodildO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBleHRyYWN0S2V5cyhpbnN0YW5jZSwgdHlwZSkge1xuICAgIGNvbnN0IENvbXAgPSBpbnN0YW5jZS50eXBlO1xuICAgIGlmIChpc0Z1bmN0aW9uKENvbXApKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGV4dHJhY3RlZCA9IHt9O1xuICAgIGZvciAoY29uc3Qga2V5IGluIGluc3RhbmNlLmN0eCkge1xuICAgICAgaWYgKGlzS2V5T2ZUeXBlKENvbXAsIGtleSwgdHlwZSkpIHtcbiAgICAgICAgZXh0cmFjdGVkW2tleV0gPSBpbnN0YW5jZS5jdHhba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGV4dHJhY3RlZDtcbiAgfVxuICBmdW5jdGlvbiBpc0tleU9mVHlwZShDb21wLCBrZXksIHR5cGUpIHtcbiAgICBjb25zdCBvcHRzID0gQ29tcFt0eXBlXTtcbiAgICBpZiAoaXNBcnJheShvcHRzKSAmJiBvcHRzLmluY2x1ZGVzKGtleSkgfHwgaXNPYmplY3Qob3B0cykgJiYga2V5IGluIG9wdHMpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoQ29tcC5leHRlbmRzICYmIGlzS2V5T2ZUeXBlKENvbXAuZXh0ZW5kcywga2V5LCB0eXBlKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChDb21wLm1peGlucyAmJiBDb21wLm1peGlucy5zb21lKChtKSA9PiBpc0tleU9mVHlwZShtLCBrZXksIHR5cGUpKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGdlblJlZkZsYWcodikge1xuICAgIGlmIChpc1NoYWxsb3codikpIHtcbiAgICAgIHJldHVybiBgU2hhbGxvd1JlZmA7XG4gICAgfVxuICAgIGlmICh2LmVmZmVjdCkge1xuICAgICAgcmV0dXJuIGBDb21wdXRlZFJlZmA7XG4gICAgfVxuICAgIHJldHVybiBgUmVmYDtcbiAgfVxuICBpZiAod2luZG93LmRldnRvb2xzRm9ybWF0dGVycykge1xuICAgIHdpbmRvdy5kZXZ0b29sc0Zvcm1hdHRlcnMucHVzaChmb3JtYXR0ZXIpO1xuICB9IGVsc2Uge1xuICAgIHdpbmRvdy5kZXZ0b29sc0Zvcm1hdHRlcnMgPSBbZm9ybWF0dGVyXTtcbiAgfVxufVxuXG5mdW5jdGlvbiB3aXRoTWVtbyhtZW1vLCByZW5kZXIsIGNhY2hlLCBpbmRleCkge1xuICBjb25zdCBjYWNoZWQgPSBjYWNoZVtpbmRleF07XG4gIGlmIChjYWNoZWQgJiYgaXNNZW1vU2FtZShjYWNoZWQsIG1lbW8pKSB7XG4gICAgcmV0dXJuIGNhY2hlZDtcbiAgfVxuICBjb25zdCByZXQgPSByZW5kZXIoKTtcbiAgcmV0Lm1lbW8gPSBtZW1vLnNsaWNlKCk7XG4gIHJldC5tZW1vSW5kZXggPSBpbmRleDtcbiAgcmV0dXJuIGNhY2hlW2luZGV4XSA9IHJldDtcbn1cbmZ1bmN0aW9uIGlzTWVtb1NhbWUoY2FjaGVkLCBtZW1vKSB7XG4gIGNvbnN0IHByZXYgPSBjYWNoZWQubWVtbztcbiAgaWYgKHByZXYubGVuZ3RoICE9IG1lbW8ubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcHJldi5sZW5ndGg7IGkrKykge1xuICAgIGlmIChoYXNDaGFuZ2VkKHByZXZbaV0sIG1lbW9baV0pKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIGlmIChpc0Jsb2NrVHJlZUVuYWJsZWQgPiAwICYmIGN1cnJlbnRCbG9jaykge1xuICAgIGN1cnJlbnRCbG9jay5wdXNoKGNhY2hlZCk7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbmNvbnN0IHZlcnNpb24gPSBcIjMuNC4yOVwiO1xuY29uc3Qgd2FybiA9ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgPyB3YXJuJDEgOiBOT09QO1xuY29uc3QgRXJyb3JUeXBlU3RyaW5ncyA9IEVycm9yVHlwZVN0cmluZ3MkMSA7XG5jb25zdCBkZXZ0b29scyA9ICEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgfHwgdHJ1ZSA/IGRldnRvb2xzJDEgOiB2b2lkIDA7XG5jb25zdCBzZXREZXZ0b29sc0hvb2sgPSAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHx8IHRydWUgPyBzZXREZXZ0b29sc0hvb2skMSA6IE5PT1A7XG5jb25zdCBfc3NyVXRpbHMgPSB7XG4gIGNyZWF0ZUNvbXBvbmVudEluc3RhbmNlLFxuICBzZXR1cENvbXBvbmVudCxcbiAgcmVuZGVyQ29tcG9uZW50Um9vdCxcbiAgc2V0Q3VycmVudFJlbmRlcmluZ0luc3RhbmNlLFxuICBpc1ZOb2RlOiBpc1ZOb2RlLFxuICBub3JtYWxpemVWTm9kZSxcbiAgZ2V0Q29tcG9uZW50UHVibGljSW5zdGFuY2Vcbn07XG5jb25zdCBzc3JVdGlscyA9IF9zc3JVdGlscyA7XG5jb25zdCByZXNvbHZlRmlsdGVyID0gbnVsbDtcbmNvbnN0IGNvbXBhdFV0aWxzID0gbnVsbDtcbmNvbnN0IERlcHJlY2F0aW9uVHlwZXMgPSBudWxsO1xuXG5leHBvcnQgeyBCYXNlVHJhbnNpdGlvbiwgQmFzZVRyYW5zaXRpb25Qcm9wc1ZhbGlkYXRvcnMsIENvbW1lbnQsIERlcHJlY2F0aW9uVHlwZXMsIEVycm9yQ29kZXMsIEVycm9yVHlwZVN0cmluZ3MsIEZyYWdtZW50LCBLZWVwQWxpdmUsIFN0YXRpYywgU3VzcGVuc2UsIFRlbGVwb3J0LCBUZXh0LCBhc3NlcnROdW1iZXIsIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nLCBjYWxsV2l0aEVycm9ySGFuZGxpbmcsIGNsb25lVk5vZGUsIGNvbXBhdFV0aWxzLCBjb21wdXRlZCwgY3JlYXRlQmxvY2ssIGNyZWF0ZUNvbW1lbnRWTm9kZSwgY3JlYXRlRWxlbWVudEJsb2NrLCBjcmVhdGVCYXNlVk5vZGUgYXMgY3JlYXRlRWxlbWVudFZOb2RlLCBjcmVhdGVIeWRyYXRpb25SZW5kZXJlciwgY3JlYXRlUHJvcHNSZXN0UHJveHksIGNyZWF0ZVJlbmRlcmVyLCBjcmVhdGVTbG90cywgY3JlYXRlU3RhdGljVk5vZGUsIGNyZWF0ZVRleHRWTm9kZSwgY3JlYXRlVk5vZGUsIGRlZmluZUFzeW5jQ29tcG9uZW50LCBkZWZpbmVDb21wb25lbnQsIGRlZmluZUVtaXRzLCBkZWZpbmVFeHBvc2UsIGRlZmluZU1vZGVsLCBkZWZpbmVPcHRpb25zLCBkZWZpbmVQcm9wcywgZGVmaW5lU2xvdHMsIGRldnRvb2xzLCBnZXRDdXJyZW50SW5zdGFuY2UsIGdldFRyYW5zaXRpb25SYXdDaGlsZHJlbiwgZ3VhcmRSZWFjdGl2ZVByb3BzLCBoLCBoYW5kbGVFcnJvciwgaGFzSW5qZWN0aW9uQ29udGV4dCwgaW5pdEN1c3RvbUZvcm1hdHRlciwgaW5qZWN0LCBpc01lbW9TYW1lLCBpc1J1bnRpbWVPbmx5LCBpc1ZOb2RlLCBtZXJnZURlZmF1bHRzLCBtZXJnZU1vZGVscywgbWVyZ2VQcm9wcywgbmV4dFRpY2ssIG9uQWN0aXZhdGVkLCBvbkJlZm9yZU1vdW50LCBvbkJlZm9yZVVubW91bnQsIG9uQmVmb3JlVXBkYXRlLCBvbkRlYWN0aXZhdGVkLCBvbkVycm9yQ2FwdHVyZWQsIG9uTW91bnRlZCwgb25SZW5kZXJUcmFja2VkLCBvblJlbmRlclRyaWdnZXJlZCwgb25TZXJ2ZXJQcmVmZXRjaCwgb25Vbm1vdW50ZWQsIG9uVXBkYXRlZCwgb3BlbkJsb2NrLCBwb3BTY29wZUlkLCBwcm92aWRlLCBwdXNoU2NvcGVJZCwgcXVldWVQb3N0Rmx1c2hDYiwgcmVnaXN0ZXJSdW50aW1lQ29tcGlsZXIsIHJlbmRlckxpc3QsIHJlbmRlclNsb3QsIHJlc29sdmVDb21wb25lbnQsIHJlc29sdmVEaXJlY3RpdmUsIHJlc29sdmVEeW5hbWljQ29tcG9uZW50LCByZXNvbHZlRmlsdGVyLCByZXNvbHZlVHJhbnNpdGlvbkhvb2tzLCBzZXRCbG9ja1RyYWNraW5nLCBzZXREZXZ0b29sc0hvb2ssIHNldFRyYW5zaXRpb25Ib29rcywgc3NyQ29udGV4dEtleSwgc3NyVXRpbHMsIHRvSGFuZGxlcnMsIHRyYW5zZm9ybVZOb2RlQXJncywgdXNlQXR0cnMsIHVzZU1vZGVsLCB1c2VTU1JDb250ZXh0LCB1c2VTbG90cywgdXNlVHJhbnNpdGlvblN0YXRlLCB2ZXJzaW9uLCB3YXJuLCB3YXRjaCwgd2F0Y2hFZmZlY3QsIHdhdGNoUG9zdEVmZmVjdCwgd2F0Y2hTeW5jRWZmZWN0LCB3aXRoQXN5bmNDb250ZXh0LCB3aXRoQ3R4LCB3aXRoRGVmYXVsdHMsIHdpdGhEaXJlY3RpdmVzLCB3aXRoTWVtbywgd2l0aFNjb3BlSWQgfTtcbiIsIi8qKlxuKiBAdnVlL3J1bnRpbWUtZG9tIHYzLjQuMjlcbiogKGMpIDIwMTgtcHJlc2VudCBZdXhpIChFdmFuKSBZb3UgYW5kIFZ1ZSBjb250cmlidXRvcnNcbiogQGxpY2Vuc2UgTUlUXG4qKi9cbmltcG9ydCB7IGgsIEJhc2VUcmFuc2l0aW9uLCBCYXNlVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycywgYXNzZXJ0TnVtYmVyLCBnZXRDdXJyZW50SW5zdGFuY2UsIHdhcm4sIG9uTW91bnRlZCwgd2F0Y2hQb3N0RWZmZWN0LCBvblVubW91bnRlZCwgRnJhZ21lbnQsIFN0YXRpYywgY2FtZWxpemUsIGNhbGxXaXRoQXN5bmNFcnJvckhhbmRsaW5nLCBkZWZpbmVDb21wb25lbnQsIG5leHRUaWNrLCBjcmVhdGVWTm9kZSwgdXNlVHJhbnNpdGlvblN0YXRlLCBvblVwZGF0ZWQsIHRvUmF3LCBnZXRUcmFuc2l0aW9uUmF3Q2hpbGRyZW4sIHNldFRyYW5zaXRpb25Ib29rcywgcmVzb2x2ZVRyYW5zaXRpb25Ib29rcywgaXNSdW50aW1lT25seSwgY3JlYXRlUmVuZGVyZXIsIGNyZWF0ZUh5ZHJhdGlvblJlbmRlcmVyIH0gZnJvbSAnQHZ1ZS9ydW50aW1lLWNvcmUnO1xuZXhwb3J0ICogZnJvbSAnQHZ1ZS9ydW50aW1lLWNvcmUnO1xuaW1wb3J0IHsgZXh0ZW5kLCBpc09iamVjdCwgdG9OdW1iZXIsIGlzQXJyYXksIGlzU3RyaW5nLCBoeXBoZW5hdGUsIGNhcGl0YWxpemUsIGluY2x1ZGVCb29sZWFuQXR0ciwgaXNTcGVjaWFsQm9vbGVhbkF0dHIsIGlzRnVuY3Rpb24sIE5PT1AsIGlzT24sIGlzTW9kZWxMaXN0ZW5lciwgY2FtZWxpemUgYXMgY2FtZWxpemUkMSwgRU1QVFlfT0JKLCBsb29zZVRvTnVtYmVyLCBsb29zZUluZGV4T2YsIGlzU2V0LCBsb29zZUVxdWFsLCBpbnZva2VBcnJheUZucywgaXNIVE1MVGFnLCBpc1NWR1RhZywgaXNNYXRoTUxUYWcgfSBmcm9tICdAdnVlL3NoYXJlZCc7XG5cbmNvbnN0IHN2Z05TID0gXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiO1xuY29uc3QgbWF0aG1sTlMgPSBcImh0dHA6Ly93d3cudzMub3JnLzE5OTgvTWF0aC9NYXRoTUxcIjtcbmNvbnN0IGRvYyA9IHR5cGVvZiBkb2N1bWVudCAhPT0gXCJ1bmRlZmluZWRcIiA/IGRvY3VtZW50IDogbnVsbDtcbmNvbnN0IHRlbXBsYXRlQ29udGFpbmVyID0gZG9jICYmIC8qIEBfX1BVUkVfXyAqLyBkb2MuY3JlYXRlRWxlbWVudChcInRlbXBsYXRlXCIpO1xuY29uc3Qgbm9kZU9wcyA9IHtcbiAgaW5zZXJ0OiAoY2hpbGQsIHBhcmVudCwgYW5jaG9yKSA9PiB7XG4gICAgcGFyZW50Lmluc2VydEJlZm9yZShjaGlsZCwgYW5jaG9yIHx8IG51bGwpO1xuICB9LFxuICByZW1vdmU6IChjaGlsZCkgPT4ge1xuICAgIGNvbnN0IHBhcmVudCA9IGNoaWxkLnBhcmVudE5vZGU7XG4gICAgaWYgKHBhcmVudCkge1xuICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKGNoaWxkKTtcbiAgICB9XG4gIH0sXG4gIGNyZWF0ZUVsZW1lbnQ6ICh0YWcsIG5hbWVzcGFjZSwgaXMsIHByb3BzKSA9PiB7XG4gICAgY29uc3QgZWwgPSBuYW1lc3BhY2UgPT09IFwic3ZnXCIgPyBkb2MuY3JlYXRlRWxlbWVudE5TKHN2Z05TLCB0YWcpIDogbmFtZXNwYWNlID09PSBcIm1hdGhtbFwiID8gZG9jLmNyZWF0ZUVsZW1lbnROUyhtYXRobWxOUywgdGFnKSA6IGlzID8gZG9jLmNyZWF0ZUVsZW1lbnQodGFnLCB7IGlzIH0pIDogZG9jLmNyZWF0ZUVsZW1lbnQodGFnKTtcbiAgICBpZiAodGFnID09PSBcInNlbGVjdFwiICYmIHByb3BzICYmIHByb3BzLm11bHRpcGxlICE9IG51bGwpIHtcbiAgICAgIGVsLnNldEF0dHJpYnV0ZShcIm11bHRpcGxlXCIsIHByb3BzLm11bHRpcGxlKTtcbiAgICB9XG4gICAgcmV0dXJuIGVsO1xuICB9LFxuICBjcmVhdGVUZXh0OiAodGV4dCkgPT4gZG9jLmNyZWF0ZVRleHROb2RlKHRleHQpLFxuICBjcmVhdGVDb21tZW50OiAodGV4dCkgPT4gZG9jLmNyZWF0ZUNvbW1lbnQodGV4dCksXG4gIHNldFRleHQ6IChub2RlLCB0ZXh0KSA9PiB7XG4gICAgbm9kZS5ub2RlVmFsdWUgPSB0ZXh0O1xuICB9LFxuICBzZXRFbGVtZW50VGV4dDogKGVsLCB0ZXh0KSA9PiB7XG4gICAgZWwudGV4dENvbnRlbnQgPSB0ZXh0O1xuICB9LFxuICBwYXJlbnROb2RlOiAobm9kZSkgPT4gbm9kZS5wYXJlbnROb2RlLFxuICBuZXh0U2libGluZzogKG5vZGUpID0+IG5vZGUubmV4dFNpYmxpbmcsXG4gIHF1ZXJ5U2VsZWN0b3I6IChzZWxlY3RvcikgPT4gZG9jLnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpLFxuICBzZXRTY29wZUlkKGVsLCBpZCkge1xuICAgIGVsLnNldEF0dHJpYnV0ZShpZCwgXCJcIik7XG4gIH0sXG4gIC8vIF9fVU5TQUZFX19cbiAgLy8gUmVhc29uOiBpbm5lckhUTUwuXG4gIC8vIFN0YXRpYyBjb250ZW50IGhlcmUgY2FuIG9ubHkgY29tZSBmcm9tIGNvbXBpbGVkIHRlbXBsYXRlcy5cbiAgLy8gQXMgbG9uZyBhcyB0aGUgdXNlciBvbmx5IHVzZXMgdHJ1c3RlZCB0ZW1wbGF0ZXMsIHRoaXMgaXMgc2FmZS5cbiAgaW5zZXJ0U3RhdGljQ29udGVudChjb250ZW50LCBwYXJlbnQsIGFuY2hvciwgbmFtZXNwYWNlLCBzdGFydCwgZW5kKSB7XG4gICAgY29uc3QgYmVmb3JlID0gYW5jaG9yID8gYW5jaG9yLnByZXZpb3VzU2libGluZyA6IHBhcmVudC5sYXN0Q2hpbGQ7XG4gICAgaWYgKHN0YXJ0ICYmIChzdGFydCA9PT0gZW5kIHx8IHN0YXJ0Lm5leHRTaWJsaW5nKSkge1xuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShzdGFydC5jbG9uZU5vZGUodHJ1ZSksIGFuY2hvcik7XG4gICAgICAgIGlmIChzdGFydCA9PT0gZW5kIHx8ICEoc3RhcnQgPSBzdGFydC5uZXh0U2libGluZykpIGJyZWFrO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0ZW1wbGF0ZUNvbnRhaW5lci5pbm5lckhUTUwgPSBuYW1lc3BhY2UgPT09IFwic3ZnXCIgPyBgPHN2Zz4ke2NvbnRlbnR9PC9zdmc+YCA6IG5hbWVzcGFjZSA9PT0gXCJtYXRobWxcIiA/IGA8bWF0aD4ke2NvbnRlbnR9PC9tYXRoPmAgOiBjb250ZW50O1xuICAgICAgY29uc3QgdGVtcGxhdGUgPSB0ZW1wbGF0ZUNvbnRhaW5lci5jb250ZW50O1xuICAgICAgaWYgKG5hbWVzcGFjZSA9PT0gXCJzdmdcIiB8fCBuYW1lc3BhY2UgPT09IFwibWF0aG1sXCIpIHtcbiAgICAgICAgY29uc3Qgd3JhcHBlciA9IHRlbXBsYXRlLmZpcnN0Q2hpbGQ7XG4gICAgICAgIHdoaWxlICh3cmFwcGVyLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICB0ZW1wbGF0ZS5hcHBlbmRDaGlsZCh3cmFwcGVyLmZpcnN0Q2hpbGQpO1xuICAgICAgICB9XG4gICAgICAgIHRlbXBsYXRlLnJlbW92ZUNoaWxkKHdyYXBwZXIpO1xuICAgICAgfVxuICAgICAgcGFyZW50Lmluc2VydEJlZm9yZSh0ZW1wbGF0ZSwgYW5jaG9yKTtcbiAgICB9XG4gICAgcmV0dXJuIFtcbiAgICAgIC8vIGZpcnN0XG4gICAgICBiZWZvcmUgPyBiZWZvcmUubmV4dFNpYmxpbmcgOiBwYXJlbnQuZmlyc3RDaGlsZCxcbiAgICAgIC8vIGxhc3RcbiAgICAgIGFuY2hvciA/IGFuY2hvci5wcmV2aW91c1NpYmxpbmcgOiBwYXJlbnQubGFzdENoaWxkXG4gICAgXTtcbiAgfVxufTtcblxuY29uc3QgVFJBTlNJVElPTiA9IFwidHJhbnNpdGlvblwiO1xuY29uc3QgQU5JTUFUSU9OID0gXCJhbmltYXRpb25cIjtcbmNvbnN0IHZ0Y0tleSA9IFN5bWJvbChcIl92dGNcIik7XG5jb25zdCBUcmFuc2l0aW9uID0gKHByb3BzLCB7IHNsb3RzIH0pID0+IGgoQmFzZVRyYW5zaXRpb24sIHJlc29sdmVUcmFuc2l0aW9uUHJvcHMocHJvcHMpLCBzbG90cyk7XG5UcmFuc2l0aW9uLmRpc3BsYXlOYW1lID0gXCJUcmFuc2l0aW9uXCI7XG5jb25zdCBET01UcmFuc2l0aW9uUHJvcHNWYWxpZGF0b3JzID0ge1xuICBuYW1lOiBTdHJpbmcsXG4gIHR5cGU6IFN0cmluZyxcbiAgY3NzOiB7XG4gICAgdHlwZTogQm9vbGVhbixcbiAgICBkZWZhdWx0OiB0cnVlXG4gIH0sXG4gIGR1cmF0aW9uOiBbU3RyaW5nLCBOdW1iZXIsIE9iamVjdF0sXG4gIGVudGVyRnJvbUNsYXNzOiBTdHJpbmcsXG4gIGVudGVyQWN0aXZlQ2xhc3M6IFN0cmluZyxcbiAgZW50ZXJUb0NsYXNzOiBTdHJpbmcsXG4gIGFwcGVhckZyb21DbGFzczogU3RyaW5nLFxuICBhcHBlYXJBY3RpdmVDbGFzczogU3RyaW5nLFxuICBhcHBlYXJUb0NsYXNzOiBTdHJpbmcsXG4gIGxlYXZlRnJvbUNsYXNzOiBTdHJpbmcsXG4gIGxlYXZlQWN0aXZlQ2xhc3M6IFN0cmluZyxcbiAgbGVhdmVUb0NsYXNzOiBTdHJpbmdcbn07XG5jb25zdCBUcmFuc2l0aW9uUHJvcHNWYWxpZGF0b3JzID0gVHJhbnNpdGlvbi5wcm9wcyA9IC8qIEBfX1BVUkVfXyAqLyBleHRlbmQoXG4gIHt9LFxuICBCYXNlVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycyxcbiAgRE9NVHJhbnNpdGlvblByb3BzVmFsaWRhdG9yc1xuKTtcbmNvbnN0IGNhbGxIb29rID0gKGhvb2ssIGFyZ3MgPSBbXSkgPT4ge1xuICBpZiAoaXNBcnJheShob29rKSkge1xuICAgIGhvb2suZm9yRWFjaCgoaDIpID0+IGgyKC4uLmFyZ3MpKTtcbiAgfSBlbHNlIGlmIChob29rKSB7XG4gICAgaG9vayguLi5hcmdzKTtcbiAgfVxufTtcbmNvbnN0IGhhc0V4cGxpY2l0Q2FsbGJhY2sgPSAoaG9vaykgPT4ge1xuICByZXR1cm4gaG9vayA/IGlzQXJyYXkoaG9vaykgPyBob29rLnNvbWUoKGgyKSA9PiBoMi5sZW5ndGggPiAxKSA6IGhvb2subGVuZ3RoID4gMSA6IGZhbHNlO1xufTtcbmZ1bmN0aW9uIHJlc29sdmVUcmFuc2l0aW9uUHJvcHMocmF3UHJvcHMpIHtcbiAgY29uc3QgYmFzZVByb3BzID0ge307XG4gIGZvciAoY29uc3Qga2V5IGluIHJhd1Byb3BzKSB7XG4gICAgaWYgKCEoa2V5IGluIERPTVRyYW5zaXRpb25Qcm9wc1ZhbGlkYXRvcnMpKSB7XG4gICAgICBiYXNlUHJvcHNba2V5XSA9IHJhd1Byb3BzW2tleV07XG4gICAgfVxuICB9XG4gIGlmIChyYXdQcm9wcy5jc3MgPT09IGZhbHNlKSB7XG4gICAgcmV0dXJuIGJhc2VQcm9wcztcbiAgfVxuICBjb25zdCB7XG4gICAgbmFtZSA9IFwidlwiLFxuICAgIHR5cGUsXG4gICAgZHVyYXRpb24sXG4gICAgZW50ZXJGcm9tQ2xhc3MgPSBgJHtuYW1lfS1lbnRlci1mcm9tYCxcbiAgICBlbnRlckFjdGl2ZUNsYXNzID0gYCR7bmFtZX0tZW50ZXItYWN0aXZlYCxcbiAgICBlbnRlclRvQ2xhc3MgPSBgJHtuYW1lfS1lbnRlci10b2AsXG4gICAgYXBwZWFyRnJvbUNsYXNzID0gZW50ZXJGcm9tQ2xhc3MsXG4gICAgYXBwZWFyQWN0aXZlQ2xhc3MgPSBlbnRlckFjdGl2ZUNsYXNzLFxuICAgIGFwcGVhclRvQ2xhc3MgPSBlbnRlclRvQ2xhc3MsXG4gICAgbGVhdmVGcm9tQ2xhc3MgPSBgJHtuYW1lfS1sZWF2ZS1mcm9tYCxcbiAgICBsZWF2ZUFjdGl2ZUNsYXNzID0gYCR7bmFtZX0tbGVhdmUtYWN0aXZlYCxcbiAgICBsZWF2ZVRvQ2xhc3MgPSBgJHtuYW1lfS1sZWF2ZS10b2BcbiAgfSA9IHJhd1Byb3BzO1xuICBjb25zdCBkdXJhdGlvbnMgPSBub3JtYWxpemVEdXJhdGlvbihkdXJhdGlvbik7XG4gIGNvbnN0IGVudGVyRHVyYXRpb24gPSBkdXJhdGlvbnMgJiYgZHVyYXRpb25zWzBdO1xuICBjb25zdCBsZWF2ZUR1cmF0aW9uID0gZHVyYXRpb25zICYmIGR1cmF0aW9uc1sxXTtcbiAgY29uc3Qge1xuICAgIG9uQmVmb3JlRW50ZXIsXG4gICAgb25FbnRlcixcbiAgICBvbkVudGVyQ2FuY2VsbGVkLFxuICAgIG9uTGVhdmUsXG4gICAgb25MZWF2ZUNhbmNlbGxlZCxcbiAgICBvbkJlZm9yZUFwcGVhciA9IG9uQmVmb3JlRW50ZXIsXG4gICAgb25BcHBlYXIgPSBvbkVudGVyLFxuICAgIG9uQXBwZWFyQ2FuY2VsbGVkID0gb25FbnRlckNhbmNlbGxlZFxuICB9ID0gYmFzZVByb3BzO1xuICBjb25zdCBmaW5pc2hFbnRlciA9IChlbCwgaXNBcHBlYXIsIGRvbmUpID0+IHtcbiAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGlzQXBwZWFyID8gYXBwZWFyVG9DbGFzcyA6IGVudGVyVG9DbGFzcyk7XG4gICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBpc0FwcGVhciA/IGFwcGVhckFjdGl2ZUNsYXNzIDogZW50ZXJBY3RpdmVDbGFzcyk7XG4gICAgZG9uZSAmJiBkb25lKCk7XG4gIH07XG4gIGNvbnN0IGZpbmlzaExlYXZlID0gKGVsLCBkb25lKSA9PiB7XG4gICAgZWwuX2lzTGVhdmluZyA9IGZhbHNlO1xuICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVGcm9tQ2xhc3MpO1xuICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVUb0NsYXNzKTtcbiAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlQWN0aXZlQ2xhc3MpO1xuICAgIGRvbmUgJiYgZG9uZSgpO1xuICB9O1xuICBjb25zdCBtYWtlRW50ZXJIb29rID0gKGlzQXBwZWFyKSA9PiB7XG4gICAgcmV0dXJuIChlbCwgZG9uZSkgPT4ge1xuICAgICAgY29uc3QgaG9vayA9IGlzQXBwZWFyID8gb25BcHBlYXIgOiBvbkVudGVyO1xuICAgICAgY29uc3QgcmVzb2x2ZSA9ICgpID0+IGZpbmlzaEVudGVyKGVsLCBpc0FwcGVhciwgZG9uZSk7XG4gICAgICBjYWxsSG9vayhob29rLCBbZWwsIHJlc29sdmVdKTtcbiAgICAgIG5leHRGcmFtZSgoKSA9PiB7XG4gICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgaXNBcHBlYXIgPyBhcHBlYXJGcm9tQ2xhc3MgOiBlbnRlckZyb21DbGFzcyk7XG4gICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgaXNBcHBlYXIgPyBhcHBlYXJUb0NsYXNzIDogZW50ZXJUb0NsYXNzKTtcbiAgICAgICAgaWYgKCFoYXNFeHBsaWNpdENhbGxiYWNrKGhvb2spKSB7XG4gICAgICAgICAgd2hlblRyYW5zaXRpb25FbmRzKGVsLCB0eXBlLCBlbnRlckR1cmF0aW9uLCByZXNvbHZlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcbiAgfTtcbiAgcmV0dXJuIGV4dGVuZChiYXNlUHJvcHMsIHtcbiAgICBvbkJlZm9yZUVudGVyKGVsKSB7XG4gICAgICBjYWxsSG9vayhvbkJlZm9yZUVudGVyLCBbZWxdKTtcbiAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgZW50ZXJGcm9tQ2xhc3MpO1xuICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBlbnRlckFjdGl2ZUNsYXNzKTtcbiAgICB9LFxuICAgIG9uQmVmb3JlQXBwZWFyKGVsKSB7XG4gICAgICBjYWxsSG9vayhvbkJlZm9yZUFwcGVhciwgW2VsXSk7XG4gICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGFwcGVhckZyb21DbGFzcyk7XG4gICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGFwcGVhckFjdGl2ZUNsYXNzKTtcbiAgICB9LFxuICAgIG9uRW50ZXI6IG1ha2VFbnRlckhvb2soZmFsc2UpLFxuICAgIG9uQXBwZWFyOiBtYWtlRW50ZXJIb29rKHRydWUpLFxuICAgIG9uTGVhdmUoZWwsIGRvbmUpIHtcbiAgICAgIGVsLl9pc0xlYXZpbmcgPSB0cnVlO1xuICAgICAgY29uc3QgcmVzb2x2ZSA9ICgpID0+IGZpbmlzaExlYXZlKGVsLCBkb25lKTtcbiAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVGcm9tQ2xhc3MpO1xuICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUFjdGl2ZUNsYXNzKTtcbiAgICAgIGZvcmNlUmVmbG93KCk7XG4gICAgICBuZXh0RnJhbWUoKCkgPT4ge1xuICAgICAgICBpZiAoIWVsLl9pc0xlYXZpbmcpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUZyb21DbGFzcyk7XG4gICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVUb0NsYXNzKTtcbiAgICAgICAgaWYgKCFoYXNFeHBsaWNpdENhbGxiYWNrKG9uTGVhdmUpKSB7XG4gICAgICAgICAgd2hlblRyYW5zaXRpb25FbmRzKGVsLCB0eXBlLCBsZWF2ZUR1cmF0aW9uLCByZXNvbHZlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjYWxsSG9vayhvbkxlYXZlLCBbZWwsIHJlc29sdmVdKTtcbiAgICB9LFxuICAgIG9uRW50ZXJDYW5jZWxsZWQoZWwpIHtcbiAgICAgIGZpbmlzaEVudGVyKGVsLCBmYWxzZSk7XG4gICAgICBjYWxsSG9vayhvbkVudGVyQ2FuY2VsbGVkLCBbZWxdKTtcbiAgICB9LFxuICAgIG9uQXBwZWFyQ2FuY2VsbGVkKGVsKSB7XG4gICAgICBmaW5pc2hFbnRlcihlbCwgdHJ1ZSk7XG4gICAgICBjYWxsSG9vayhvbkFwcGVhckNhbmNlbGxlZCwgW2VsXSk7XG4gICAgfSxcbiAgICBvbkxlYXZlQ2FuY2VsbGVkKGVsKSB7XG4gICAgICBmaW5pc2hMZWF2ZShlbCk7XG4gICAgICBjYWxsSG9vayhvbkxlYXZlQ2FuY2VsbGVkLCBbZWxdKTtcbiAgICB9XG4gIH0pO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplRHVyYXRpb24oZHVyYXRpb24pIHtcbiAgaWYgKGR1cmF0aW9uID09IG51bGwpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfSBlbHNlIGlmIChpc09iamVjdChkdXJhdGlvbikpIHtcbiAgICByZXR1cm4gW051bWJlck9mKGR1cmF0aW9uLmVudGVyKSwgTnVtYmVyT2YoZHVyYXRpb24ubGVhdmUpXTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBuID0gTnVtYmVyT2YoZHVyYXRpb24pO1xuICAgIHJldHVybiBbbiwgbl07XG4gIH1cbn1cbmZ1bmN0aW9uIE51bWJlck9mKHZhbCkge1xuICBjb25zdCByZXMgPSB0b051bWJlcih2YWwpO1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGFzc2VydE51bWJlcihyZXMsIFwiPHRyYW5zaXRpb24+IGV4cGxpY2l0IGR1cmF0aW9uXCIpO1xuICB9XG4gIHJldHVybiByZXM7XG59XG5mdW5jdGlvbiBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGNscykge1xuICBjbHMuc3BsaXQoL1xccysvKS5mb3JFYWNoKChjKSA9PiBjICYmIGVsLmNsYXNzTGlzdC5hZGQoYykpO1xuICAoZWxbdnRjS2V5XSB8fCAoZWxbdnRjS2V5XSA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCkpKS5hZGQoY2xzKTtcbn1cbmZ1bmN0aW9uIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgY2xzKSB7XG4gIGNscy5zcGxpdCgvXFxzKy8pLmZvckVhY2goKGMpID0+IGMgJiYgZWwuY2xhc3NMaXN0LnJlbW92ZShjKSk7XG4gIGNvbnN0IF92dGMgPSBlbFt2dGNLZXldO1xuICBpZiAoX3Z0Yykge1xuICAgIF92dGMuZGVsZXRlKGNscyk7XG4gICAgaWYgKCFfdnRjLnNpemUpIHtcbiAgICAgIGVsW3Z0Y0tleV0gPSB2b2lkIDA7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBuZXh0RnJhbWUoY2IpIHtcbiAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoY2IpO1xuICB9KTtcbn1cbmxldCBlbmRJZCA9IDA7XG5mdW5jdGlvbiB3aGVuVHJhbnNpdGlvbkVuZHMoZWwsIGV4cGVjdGVkVHlwZSwgZXhwbGljaXRUaW1lb3V0LCByZXNvbHZlKSB7XG4gIGNvbnN0IGlkID0gZWwuX2VuZElkID0gKytlbmRJZDtcbiAgY29uc3QgcmVzb2x2ZUlmTm90U3RhbGUgPSAoKSA9PiB7XG4gICAgaWYgKGlkID09PSBlbC5fZW5kSWQpIHtcbiAgICAgIHJlc29sdmUoKTtcbiAgICB9XG4gIH07XG4gIGlmIChleHBsaWNpdFRpbWVvdXQpIHtcbiAgICByZXR1cm4gc2V0VGltZW91dChyZXNvbHZlSWZOb3RTdGFsZSwgZXhwbGljaXRUaW1lb3V0KTtcbiAgfVxuICBjb25zdCB7IHR5cGUsIHRpbWVvdXQsIHByb3BDb3VudCB9ID0gZ2V0VHJhbnNpdGlvbkluZm8oZWwsIGV4cGVjdGVkVHlwZSk7XG4gIGlmICghdHlwZSkge1xuICAgIHJldHVybiByZXNvbHZlKCk7XG4gIH1cbiAgY29uc3QgZW5kRXZlbnQgPSB0eXBlICsgXCJlbmRcIjtcbiAgbGV0IGVuZGVkID0gMDtcbiAgY29uc3QgZW5kID0gKCkgPT4ge1xuICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZW5kRXZlbnQsIG9uRW5kKTtcbiAgICByZXNvbHZlSWZOb3RTdGFsZSgpO1xuICB9O1xuICBjb25zdCBvbkVuZCA9IChlKSA9PiB7XG4gICAgaWYgKGUudGFyZ2V0ID09PSBlbCAmJiArK2VuZGVkID49IHByb3BDb3VudCkge1xuICAgICAgZW5kKCk7XG4gICAgfVxuICB9O1xuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICBpZiAoZW5kZWQgPCBwcm9wQ291bnQpIHtcbiAgICAgIGVuZCgpO1xuICAgIH1cbiAgfSwgdGltZW91dCArIDEpO1xuICBlbC5hZGRFdmVudExpc3RlbmVyKGVuZEV2ZW50LCBvbkVuZCk7XG59XG5mdW5jdGlvbiBnZXRUcmFuc2l0aW9uSW5mbyhlbCwgZXhwZWN0ZWRUeXBlKSB7XG4gIGNvbnN0IHN0eWxlcyA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsKTtcbiAgY29uc3QgZ2V0U3R5bGVQcm9wZXJ0aWVzID0gKGtleSkgPT4gKHN0eWxlc1trZXldIHx8IFwiXCIpLnNwbGl0KFwiLCBcIik7XG4gIGNvbnN0IHRyYW5zaXRpb25EZWxheXMgPSBnZXRTdHlsZVByb3BlcnRpZXMoYCR7VFJBTlNJVElPTn1EZWxheWApO1xuICBjb25zdCB0cmFuc2l0aW9uRHVyYXRpb25zID0gZ2V0U3R5bGVQcm9wZXJ0aWVzKGAke1RSQU5TSVRJT059RHVyYXRpb25gKTtcbiAgY29uc3QgdHJhbnNpdGlvblRpbWVvdXQgPSBnZXRUaW1lb3V0KHRyYW5zaXRpb25EZWxheXMsIHRyYW5zaXRpb25EdXJhdGlvbnMpO1xuICBjb25zdCBhbmltYXRpb25EZWxheXMgPSBnZXRTdHlsZVByb3BlcnRpZXMoYCR7QU5JTUFUSU9OfURlbGF5YCk7XG4gIGNvbnN0IGFuaW1hdGlvbkR1cmF0aW9ucyA9IGdldFN0eWxlUHJvcGVydGllcyhgJHtBTklNQVRJT059RHVyYXRpb25gKTtcbiAgY29uc3QgYW5pbWF0aW9uVGltZW91dCA9IGdldFRpbWVvdXQoYW5pbWF0aW9uRGVsYXlzLCBhbmltYXRpb25EdXJhdGlvbnMpO1xuICBsZXQgdHlwZSA9IG51bGw7XG4gIGxldCB0aW1lb3V0ID0gMDtcbiAgbGV0IHByb3BDb3VudCA9IDA7XG4gIGlmIChleHBlY3RlZFR5cGUgPT09IFRSQU5TSVRJT04pIHtcbiAgICBpZiAodHJhbnNpdGlvblRpbWVvdXQgPiAwKSB7XG4gICAgICB0eXBlID0gVFJBTlNJVElPTjtcbiAgICAgIHRpbWVvdXQgPSB0cmFuc2l0aW9uVGltZW91dDtcbiAgICAgIHByb3BDb3VudCA9IHRyYW5zaXRpb25EdXJhdGlvbnMubGVuZ3RoO1xuICAgIH1cbiAgfSBlbHNlIGlmIChleHBlY3RlZFR5cGUgPT09IEFOSU1BVElPTikge1xuICAgIGlmIChhbmltYXRpb25UaW1lb3V0ID4gMCkge1xuICAgICAgdHlwZSA9IEFOSU1BVElPTjtcbiAgICAgIHRpbWVvdXQgPSBhbmltYXRpb25UaW1lb3V0O1xuICAgICAgcHJvcENvdW50ID0gYW5pbWF0aW9uRHVyYXRpb25zLmxlbmd0aDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdGltZW91dCA9IE1hdGgubWF4KHRyYW5zaXRpb25UaW1lb3V0LCBhbmltYXRpb25UaW1lb3V0KTtcbiAgICB0eXBlID0gdGltZW91dCA+IDAgPyB0cmFuc2l0aW9uVGltZW91dCA+IGFuaW1hdGlvblRpbWVvdXQgPyBUUkFOU0lUSU9OIDogQU5JTUFUSU9OIDogbnVsbDtcbiAgICBwcm9wQ291bnQgPSB0eXBlID8gdHlwZSA9PT0gVFJBTlNJVElPTiA/IHRyYW5zaXRpb25EdXJhdGlvbnMubGVuZ3RoIDogYW5pbWF0aW9uRHVyYXRpb25zLmxlbmd0aCA6IDA7XG4gIH1cbiAgY29uc3QgaGFzVHJhbnNmb3JtID0gdHlwZSA9PT0gVFJBTlNJVElPTiAmJiAvXFxiKHRyYW5zZm9ybXxhbGwpKCx8JCkvLnRlc3QoXG4gICAgZ2V0U3R5bGVQcm9wZXJ0aWVzKGAke1RSQU5TSVRJT059UHJvcGVydHlgKS50b1N0cmluZygpXG4gICk7XG4gIHJldHVybiB7XG4gICAgdHlwZSxcbiAgICB0aW1lb3V0LFxuICAgIHByb3BDb3VudCxcbiAgICBoYXNUcmFuc2Zvcm1cbiAgfTtcbn1cbmZ1bmN0aW9uIGdldFRpbWVvdXQoZGVsYXlzLCBkdXJhdGlvbnMpIHtcbiAgd2hpbGUgKGRlbGF5cy5sZW5ndGggPCBkdXJhdGlvbnMubGVuZ3RoKSB7XG4gICAgZGVsYXlzID0gZGVsYXlzLmNvbmNhdChkZWxheXMpO1xuICB9XG4gIHJldHVybiBNYXRoLm1heCguLi5kdXJhdGlvbnMubWFwKChkLCBpKSA9PiB0b01zKGQpICsgdG9NcyhkZWxheXNbaV0pKSk7XG59XG5mdW5jdGlvbiB0b01zKHMpIHtcbiAgaWYgKHMgPT09IFwiYXV0b1wiKSByZXR1cm4gMDtcbiAgcmV0dXJuIE51bWJlcihzLnNsaWNlKDAsIC0xKS5yZXBsYWNlKFwiLFwiLCBcIi5cIikpICogMWUzO1xufVxuZnVuY3Rpb24gZm9yY2VSZWZsb3coKSB7XG4gIHJldHVybiBkb2N1bWVudC5ib2R5Lm9mZnNldEhlaWdodDtcbn1cblxuZnVuY3Rpb24gcGF0Y2hDbGFzcyhlbCwgdmFsdWUsIGlzU1ZHKSB7XG4gIGNvbnN0IHRyYW5zaXRpb25DbGFzc2VzID0gZWxbdnRjS2V5XTtcbiAgaWYgKHRyYW5zaXRpb25DbGFzc2VzKSB7XG4gICAgdmFsdWUgPSAodmFsdWUgPyBbdmFsdWUsIC4uLnRyYW5zaXRpb25DbGFzc2VzXSA6IFsuLi50cmFuc2l0aW9uQ2xhc3Nlc10pLmpvaW4oXCIgXCIpO1xuICB9XG4gIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgZWwucmVtb3ZlQXR0cmlidXRlKFwiY2xhc3NcIik7XG4gIH0gZWxzZSBpZiAoaXNTVkcpIHtcbiAgICBlbC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCB2YWx1ZSk7XG4gIH0gZWxzZSB7XG4gICAgZWwuY2xhc3NOYW1lID0gdmFsdWU7XG4gIH1cbn1cblxuY29uc3QgdlNob3dPcmlnaW5hbERpc3BsYXkgPSBTeW1ib2woXCJfdm9kXCIpO1xuY29uc3QgdlNob3dIaWRkZW4gPSBTeW1ib2woXCJfdnNoXCIpO1xuY29uc3QgdlNob3cgPSB7XG4gIGJlZm9yZU1vdW50KGVsLCB7IHZhbHVlIH0sIHsgdHJhbnNpdGlvbiB9KSB7XG4gICAgZWxbdlNob3dPcmlnaW5hbERpc3BsYXldID0gZWwuc3R5bGUuZGlzcGxheSA9PT0gXCJub25lXCIgPyBcIlwiIDogZWwuc3R5bGUuZGlzcGxheTtcbiAgICBpZiAodHJhbnNpdGlvbiAmJiB2YWx1ZSkge1xuICAgICAgdHJhbnNpdGlvbi5iZWZvcmVFbnRlcihlbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldERpc3BsYXkoZWwsIHZhbHVlKTtcbiAgICB9XG4gIH0sXG4gIG1vdW50ZWQoZWwsIHsgdmFsdWUgfSwgeyB0cmFuc2l0aW9uIH0pIHtcbiAgICBpZiAodHJhbnNpdGlvbiAmJiB2YWx1ZSkge1xuICAgICAgdHJhbnNpdGlvbi5lbnRlcihlbCk7XG4gICAgfVxuICB9LFxuICB1cGRhdGVkKGVsLCB7IHZhbHVlLCBvbGRWYWx1ZSB9LCB7IHRyYW5zaXRpb24gfSkge1xuICAgIGlmICghdmFsdWUgPT09ICFvbGRWYWx1ZSkgcmV0dXJuO1xuICAgIGlmICh0cmFuc2l0aW9uKSB7XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgdHJhbnNpdGlvbi5iZWZvcmVFbnRlcihlbCk7XG4gICAgICAgIHNldERpc3BsYXkoZWwsIHRydWUpO1xuICAgICAgICB0cmFuc2l0aW9uLmVudGVyKGVsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRyYW5zaXRpb24ubGVhdmUoZWwsICgpID0+IHtcbiAgICAgICAgICBzZXREaXNwbGF5KGVsLCBmYWxzZSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzZXREaXNwbGF5KGVsLCB2YWx1ZSk7XG4gICAgfVxuICB9LFxuICBiZWZvcmVVbm1vdW50KGVsLCB7IHZhbHVlIH0pIHtcbiAgICBzZXREaXNwbGF5KGVsLCB2YWx1ZSk7XG4gIH1cbn07XG5pZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICB2U2hvdy5uYW1lID0gXCJzaG93XCI7XG59XG5mdW5jdGlvbiBzZXREaXNwbGF5KGVsLCB2YWx1ZSkge1xuICBlbC5zdHlsZS5kaXNwbGF5ID0gdmFsdWUgPyBlbFt2U2hvd09yaWdpbmFsRGlzcGxheV0gOiBcIm5vbmVcIjtcbiAgZWxbdlNob3dIaWRkZW5dID0gIXZhbHVlO1xufVxuZnVuY3Rpb24gaW5pdFZTaG93Rm9yU1NSKCkge1xuICB2U2hvdy5nZXRTU1JQcm9wcyA9ICh7IHZhbHVlIH0pID0+IHtcbiAgICBpZiAoIXZhbHVlKSB7XG4gICAgICByZXR1cm4geyBzdHlsZTogeyBkaXNwbGF5OiBcIm5vbmVcIiB9IH07XG4gICAgfVxuICB9O1xufVxuXG5jb25zdCBDU1NfVkFSX1RFWFQgPSBTeW1ib2woISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IFwiQ1NTX1ZBUl9URVhUXCIgOiBcIlwiKTtcbmZ1bmN0aW9uIHVzZUNzc1ZhcnMoZ2V0dGVyKSB7XG4gIGNvbnN0IGluc3RhbmNlID0gZ2V0Q3VycmVudEluc3RhbmNlKCk7XG4gIGlmICghaW5zdGFuY2UpIHtcbiAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm4oYHVzZUNzc1ZhcnMgaXMgY2FsbGVkIHdpdGhvdXQgY3VycmVudCBhY3RpdmUgY29tcG9uZW50IGluc3RhbmNlLmApO1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCB1cGRhdGVUZWxlcG9ydHMgPSBpbnN0YW5jZS51dCA9ICh2YXJzID0gZ2V0dGVyKGluc3RhbmNlLnByb3h5KSkgPT4ge1xuICAgIEFycmF5LmZyb20oXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGBbZGF0YS12LW93bmVyPVwiJHtpbnN0YW5jZS51aWR9XCJdYClcbiAgICApLmZvckVhY2goKG5vZGUpID0+IHNldFZhcnNPbk5vZGUobm9kZSwgdmFycykpO1xuICB9O1xuICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgIGluc3RhbmNlLmdldENzc1ZhcnMgPSAoKSA9PiBnZXR0ZXIoaW5zdGFuY2UucHJveHkpO1xuICB9XG4gIGNvbnN0IHNldFZhcnMgPSAoKSA9PiB7XG4gICAgY29uc3QgdmFycyA9IGdldHRlcihpbnN0YW5jZS5wcm94eSk7XG4gICAgc2V0VmFyc09uVk5vZGUoaW5zdGFuY2Uuc3ViVHJlZSwgdmFycyk7XG4gICAgdXBkYXRlVGVsZXBvcnRzKHZhcnMpO1xuICB9O1xuICBvbk1vdW50ZWQoKCkgPT4ge1xuICAgIHdhdGNoUG9zdEVmZmVjdChzZXRWYXJzKTtcbiAgICBjb25zdCBvYiA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKHNldFZhcnMpO1xuICAgIG9iLm9ic2VydmUoaW5zdGFuY2Uuc3ViVHJlZS5lbC5wYXJlbnROb2RlLCB7IGNoaWxkTGlzdDogdHJ1ZSB9KTtcbiAgICBvblVubW91bnRlZCgoKSA9PiBvYi5kaXNjb25uZWN0KCkpO1xuICB9KTtcbn1cbmZ1bmN0aW9uIHNldFZhcnNPblZOb2RlKHZub2RlLCB2YXJzKSB7XG4gIGlmICh2bm9kZS5zaGFwZUZsYWcgJiAxMjgpIHtcbiAgICBjb25zdCBzdXNwZW5zZSA9IHZub2RlLnN1c3BlbnNlO1xuICAgIHZub2RlID0gc3VzcGVuc2UuYWN0aXZlQnJhbmNoO1xuICAgIGlmIChzdXNwZW5zZS5wZW5kaW5nQnJhbmNoICYmICFzdXNwZW5zZS5pc0h5ZHJhdGluZykge1xuICAgICAgc3VzcGVuc2UuZWZmZWN0cy5wdXNoKCgpID0+IHtcbiAgICAgICAgc2V0VmFyc09uVk5vZGUoc3VzcGVuc2UuYWN0aXZlQnJhbmNoLCB2YXJzKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICB3aGlsZSAodm5vZGUuY29tcG9uZW50KSB7XG4gICAgdm5vZGUgPSB2bm9kZS5jb21wb25lbnQuc3ViVHJlZTtcbiAgfVxuICBpZiAodm5vZGUuc2hhcGVGbGFnICYgMSAmJiB2bm9kZS5lbCkge1xuICAgIHNldFZhcnNPbk5vZGUodm5vZGUuZWwsIHZhcnMpO1xuICB9IGVsc2UgaWYgKHZub2RlLnR5cGUgPT09IEZyYWdtZW50KSB7XG4gICAgdm5vZGUuY2hpbGRyZW4uZm9yRWFjaCgoYykgPT4gc2V0VmFyc09uVk5vZGUoYywgdmFycykpO1xuICB9IGVsc2UgaWYgKHZub2RlLnR5cGUgPT09IFN0YXRpYykge1xuICAgIGxldCB7IGVsLCBhbmNob3IgfSA9IHZub2RlO1xuICAgIHdoaWxlIChlbCkge1xuICAgICAgc2V0VmFyc09uTm9kZShlbCwgdmFycyk7XG4gICAgICBpZiAoZWwgPT09IGFuY2hvcikgYnJlYWs7XG4gICAgICBlbCA9IGVsLm5leHRTaWJsaW5nO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gc2V0VmFyc09uTm9kZShlbCwgdmFycykge1xuICBpZiAoZWwubm9kZVR5cGUgPT09IDEpIHtcbiAgICBjb25zdCBzdHlsZSA9IGVsLnN0eWxlO1xuICAgIGxldCBjc3NUZXh0ID0gXCJcIjtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiB2YXJzKSB7XG4gICAgICBzdHlsZS5zZXRQcm9wZXJ0eShgLS0ke2tleX1gLCB2YXJzW2tleV0pO1xuICAgICAgY3NzVGV4dCArPSBgLS0ke2tleX06ICR7dmFyc1trZXldfTtgO1xuICAgIH1cbiAgICBzdHlsZVtDU1NfVkFSX1RFWFRdID0gY3NzVGV4dDtcbiAgfVxufVxuXG5jb25zdCBkaXNwbGF5UkUgPSAvKF58OylcXHMqZGlzcGxheVxccyo6LztcbmZ1bmN0aW9uIHBhdGNoU3R5bGUoZWwsIHByZXYsIG5leHQpIHtcbiAgY29uc3Qgc3R5bGUgPSBlbC5zdHlsZTtcbiAgY29uc3QgaXNDc3NTdHJpbmcgPSBpc1N0cmluZyhuZXh0KTtcbiAgbGV0IGhhc0NvbnRyb2xsZWREaXNwbGF5ID0gZmFsc2U7XG4gIGlmIChuZXh0ICYmICFpc0Nzc1N0cmluZykge1xuICAgIGlmIChwcmV2KSB7XG4gICAgICBpZiAoIWlzU3RyaW5nKHByZXYpKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHByZXYpIHtcbiAgICAgICAgICBpZiAobmV4dFtrZXldID09IG51bGwpIHtcbiAgICAgICAgICAgIHNldFN0eWxlKHN0eWxlLCBrZXksIFwiXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yIChjb25zdCBwcmV2U3R5bGUgb2YgcHJldi5zcGxpdChcIjtcIikpIHtcbiAgICAgICAgICBjb25zdCBrZXkgPSBwcmV2U3R5bGUuc2xpY2UoMCwgcHJldlN0eWxlLmluZGV4T2YoXCI6XCIpKS50cmltKCk7XG4gICAgICAgICAgaWYgKG5leHRba2V5XSA9PSBudWxsKSB7XG4gICAgICAgICAgICBzZXRTdHlsZShzdHlsZSwga2V5LCBcIlwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChjb25zdCBrZXkgaW4gbmV4dCkge1xuICAgICAgaWYgKGtleSA9PT0gXCJkaXNwbGF5XCIpIHtcbiAgICAgICAgaGFzQ29udHJvbGxlZERpc3BsYXkgPSB0cnVlO1xuICAgICAgfVxuICAgICAgc2V0U3R5bGUoc3R5bGUsIGtleSwgbmV4dFtrZXldKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGlzQ3NzU3RyaW5nKSB7XG4gICAgICBpZiAocHJldiAhPT0gbmV4dCkge1xuICAgICAgICBjb25zdCBjc3NWYXJUZXh0ID0gc3R5bGVbQ1NTX1ZBUl9URVhUXTtcbiAgICAgICAgaWYgKGNzc1ZhclRleHQpIHtcbiAgICAgICAgICBuZXh0ICs9IFwiO1wiICsgY3NzVmFyVGV4dDtcbiAgICAgICAgfVxuICAgICAgICBzdHlsZS5jc3NUZXh0ID0gbmV4dDtcbiAgICAgICAgaGFzQ29udHJvbGxlZERpc3BsYXkgPSBkaXNwbGF5UkUudGVzdChuZXh0KTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHByZXYpIHtcbiAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZShcInN0eWxlXCIpO1xuICAgIH1cbiAgfVxuICBpZiAodlNob3dPcmlnaW5hbERpc3BsYXkgaW4gZWwpIHtcbiAgICBlbFt2U2hvd09yaWdpbmFsRGlzcGxheV0gPSBoYXNDb250cm9sbGVkRGlzcGxheSA/IHN0eWxlLmRpc3BsYXkgOiBcIlwiO1xuICAgIGlmIChlbFt2U2hvd0hpZGRlbl0pIHtcbiAgICAgIHN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICB9XG4gIH1cbn1cbmNvbnN0IHNlbWljb2xvblJFID0gL1teXFxcXF07XFxzKiQvO1xuY29uc3QgaW1wb3J0YW50UkUgPSAvXFxzKiFpbXBvcnRhbnQkLztcbmZ1bmN0aW9uIHNldFN0eWxlKHN0eWxlLCBuYW1lLCB2YWwpIHtcbiAgaWYgKGlzQXJyYXkodmFsKSkge1xuICAgIHZhbC5mb3JFYWNoKCh2KSA9PiBzZXRTdHlsZShzdHlsZSwgbmFtZSwgdikpO1xuICB9IGVsc2Uge1xuICAgIGlmICh2YWwgPT0gbnVsbCkgdmFsID0gXCJcIjtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgaWYgKHNlbWljb2xvblJFLnRlc3QodmFsKSkge1xuICAgICAgICB3YXJuKFxuICAgICAgICAgIGBVbmV4cGVjdGVkIHNlbWljb2xvbiBhdCB0aGUgZW5kIG9mICcke25hbWV9JyBzdHlsZSB2YWx1ZTogJyR7dmFsfSdgXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChuYW1lLnN0YXJ0c1dpdGgoXCItLVwiKSkge1xuICAgICAgc3R5bGUuc2V0UHJvcGVydHkobmFtZSwgdmFsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgcHJlZml4ZWQgPSBhdXRvUHJlZml4KHN0eWxlLCBuYW1lKTtcbiAgICAgIGlmIChpbXBvcnRhbnRSRS50ZXN0KHZhbCkpIHtcbiAgICAgICAgc3R5bGUuc2V0UHJvcGVydHkoXG4gICAgICAgICAgaHlwaGVuYXRlKHByZWZpeGVkKSxcbiAgICAgICAgICB2YWwucmVwbGFjZShpbXBvcnRhbnRSRSwgXCJcIiksXG4gICAgICAgICAgXCJpbXBvcnRhbnRcIlxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3R5bGVbcHJlZml4ZWRdID0gdmFsO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuY29uc3QgcHJlZml4ZXMgPSBbXCJXZWJraXRcIiwgXCJNb3pcIiwgXCJtc1wiXTtcbmNvbnN0IHByZWZpeENhY2hlID0ge307XG5mdW5jdGlvbiBhdXRvUHJlZml4KHN0eWxlLCByYXdOYW1lKSB7XG4gIGNvbnN0IGNhY2hlZCA9IHByZWZpeENhY2hlW3Jhd05hbWVdO1xuICBpZiAoY2FjaGVkKSB7XG4gICAgcmV0dXJuIGNhY2hlZDtcbiAgfVxuICBsZXQgbmFtZSA9IGNhbWVsaXplKHJhd05hbWUpO1xuICBpZiAobmFtZSAhPT0gXCJmaWx0ZXJcIiAmJiBuYW1lIGluIHN0eWxlKSB7XG4gICAgcmV0dXJuIHByZWZpeENhY2hlW3Jhd05hbWVdID0gbmFtZTtcbiAgfVxuICBuYW1lID0gY2FwaXRhbGl6ZShuYW1lKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcmVmaXhlcy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHByZWZpeGVkID0gcHJlZml4ZXNbaV0gKyBuYW1lO1xuICAgIGlmIChwcmVmaXhlZCBpbiBzdHlsZSkge1xuICAgICAgcmV0dXJuIHByZWZpeENhY2hlW3Jhd05hbWVdID0gcHJlZml4ZWQ7XG4gICAgfVxuICB9XG4gIHJldHVybiByYXdOYW1lO1xufVxuXG5jb25zdCB4bGlua05TID0gXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCI7XG5mdW5jdGlvbiBwYXRjaEF0dHIoZWwsIGtleSwgdmFsdWUsIGlzU1ZHLCBpbnN0YW5jZSwgaXNCb29sZWFuID0gaXNTcGVjaWFsQm9vbGVhbkF0dHIoa2V5KSkge1xuICBpZiAoaXNTVkcgJiYga2V5LnN0YXJ0c1dpdGgoXCJ4bGluazpcIikpIHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgZWwucmVtb3ZlQXR0cmlidXRlTlMoeGxpbmtOUywga2V5LnNsaWNlKDYsIGtleS5sZW5ndGgpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWwuc2V0QXR0cmlidXRlTlMoeGxpbmtOUywga2V5LCB2YWx1ZSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IGlzQm9vbGVhbiAmJiAhaW5jbHVkZUJvb2xlYW5BdHRyKHZhbHVlKSkge1xuICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKGtleSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsLnNldEF0dHJpYnV0ZShrZXksIGlzQm9vbGVhbiA/IFwiXCIgOiBTdHJpbmcodmFsdWUpKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gcGF0Y2hET01Qcm9wKGVsLCBrZXksIHZhbHVlLCBwcmV2Q2hpbGRyZW4sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHVubW91bnRDaGlsZHJlbikge1xuICBpZiAoa2V5ID09PSBcImlubmVySFRNTFwiIHx8IGtleSA9PT0gXCJ0ZXh0Q29udGVudFwiKSB7XG4gICAgaWYgKHByZXZDaGlsZHJlbikge1xuICAgICAgdW5tb3VudENoaWxkcmVuKHByZXZDaGlsZHJlbiwgcGFyZW50Q29tcG9uZW50LCBwYXJlbnRTdXNwZW5zZSk7XG4gICAgfVxuICAgIGVsW2tleV0gPSB2YWx1ZSA9PSBudWxsID8gXCJcIiA6IHZhbHVlO1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCB0YWcgPSBlbC50YWdOYW1lO1xuICBpZiAoa2V5ID09PSBcInZhbHVlXCIgJiYgdGFnICE9PSBcIlBST0dSRVNTXCIgJiYgLy8gY3VzdG9tIGVsZW1lbnRzIG1heSB1c2UgX3ZhbHVlIGludGVybmFsbHlcbiAgIXRhZy5pbmNsdWRlcyhcIi1cIikpIHtcbiAgICBjb25zdCBvbGRWYWx1ZSA9IHRhZyA9PT0gXCJPUFRJT05cIiA/IGVsLmdldEF0dHJpYnV0ZShcInZhbHVlXCIpIHx8IFwiXCIgOiBlbC52YWx1ZTtcbiAgICBjb25zdCBuZXdWYWx1ZSA9IHZhbHVlID09IG51bGwgPyBcIlwiIDogU3RyaW5nKHZhbHVlKTtcbiAgICBpZiAob2xkVmFsdWUgIT09IG5ld1ZhbHVlIHx8ICEoXCJfdmFsdWVcIiBpbiBlbCkpIHtcbiAgICAgIGVsLnZhbHVlID0gbmV3VmFsdWU7XG4gICAgfVxuICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoa2V5KTtcbiAgICB9XG4gICAgZWwuX3ZhbHVlID0gdmFsdWU7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxldCBuZWVkUmVtb3ZlID0gZmFsc2U7XG4gIGlmICh2YWx1ZSA9PT0gXCJcIiB8fCB2YWx1ZSA9PSBudWxsKSB7XG4gICAgY29uc3QgdHlwZSA9IHR5cGVvZiBlbFtrZXldO1xuICAgIGlmICh0eXBlID09PSBcImJvb2xlYW5cIikge1xuICAgICAgdmFsdWUgPSBpbmNsdWRlQm9vbGVhbkF0dHIodmFsdWUpO1xuICAgIH0gZWxzZSBpZiAodmFsdWUgPT0gbnVsbCAmJiB0eXBlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICB2YWx1ZSA9IFwiXCI7XG4gICAgICBuZWVkUmVtb3ZlID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIHZhbHVlID0gMDtcbiAgICAgIG5lZWRSZW1vdmUgPSB0cnVlO1xuICAgIH1cbiAgfVxuICB0cnkge1xuICAgIGVsW2tleV0gPSB2YWx1ZTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmICFuZWVkUmVtb3ZlKSB7XG4gICAgICB3YXJuKFxuICAgICAgICBgRmFpbGVkIHNldHRpbmcgcHJvcCBcIiR7a2V5fVwiIG9uIDwke3RhZy50b0xvd2VyQ2FzZSgpfT46IHZhbHVlICR7dmFsdWV9IGlzIGludmFsaWQuYCxcbiAgICAgICAgZVxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgbmVlZFJlbW92ZSAmJiBlbC5yZW1vdmVBdHRyaWJ1dGUoa2V5KTtcbn1cblxuZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcihlbCwgZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpIHtcbiAgZWwuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlciwgb3B0aW9ucyk7XG59XG5mdW5jdGlvbiByZW1vdmVFdmVudExpc3RlbmVyKGVsLCBldmVudCwgaGFuZGxlciwgb3B0aW9ucykge1xuICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKTtcbn1cbmNvbnN0IHZlaUtleSA9IFN5bWJvbChcIl92ZWlcIik7XG5mdW5jdGlvbiBwYXRjaEV2ZW50KGVsLCByYXdOYW1lLCBwcmV2VmFsdWUsIG5leHRWYWx1ZSwgaW5zdGFuY2UgPSBudWxsKSB7XG4gIGNvbnN0IGludm9rZXJzID0gZWxbdmVpS2V5XSB8fCAoZWxbdmVpS2V5XSA9IHt9KTtcbiAgY29uc3QgZXhpc3RpbmdJbnZva2VyID0gaW52b2tlcnNbcmF3TmFtZV07XG4gIGlmIChuZXh0VmFsdWUgJiYgZXhpc3RpbmdJbnZva2VyKSB7XG4gICAgZXhpc3RpbmdJbnZva2VyLnZhbHVlID0gISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSA/IHNhbml0aXplRXZlbnRWYWx1ZShuZXh0VmFsdWUsIHJhd05hbWUpIDogbmV4dFZhbHVlO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IFtuYW1lLCBvcHRpb25zXSA9IHBhcnNlTmFtZShyYXdOYW1lKTtcbiAgICBpZiAobmV4dFZhbHVlKSB7XG4gICAgICBjb25zdCBpbnZva2VyID0gaW52b2tlcnNbcmF3TmFtZV0gPSBjcmVhdGVJbnZva2VyKFxuICAgICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpID8gc2FuaXRpemVFdmVudFZhbHVlKG5leHRWYWx1ZSwgcmF3TmFtZSkgOiBuZXh0VmFsdWUsXG4gICAgICAgIGluc3RhbmNlXG4gICAgICApO1xuICAgICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgbmFtZSwgaW52b2tlciwgb3B0aW9ucyk7XG4gICAgfSBlbHNlIGlmIChleGlzdGluZ0ludm9rZXIpIHtcbiAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXIoZWwsIG5hbWUsIGV4aXN0aW5nSW52b2tlciwgb3B0aW9ucyk7XG4gICAgICBpbnZva2Vyc1tyYXdOYW1lXSA9IHZvaWQgMDtcbiAgICB9XG4gIH1cbn1cbmNvbnN0IG9wdGlvbnNNb2RpZmllclJFID0gLyg/Ok9uY2V8UGFzc2l2ZXxDYXB0dXJlKSQvO1xuZnVuY3Rpb24gcGFyc2VOYW1lKG5hbWUpIHtcbiAgbGV0IG9wdGlvbnM7XG4gIGlmIChvcHRpb25zTW9kaWZpZXJSRS50ZXN0KG5hbWUpKSB7XG4gICAgb3B0aW9ucyA9IHt9O1xuICAgIGxldCBtO1xuICAgIHdoaWxlIChtID0gbmFtZS5tYXRjaChvcHRpb25zTW9kaWZpZXJSRSkpIHtcbiAgICAgIG5hbWUgPSBuYW1lLnNsaWNlKDAsIG5hbWUubGVuZ3RoIC0gbVswXS5sZW5ndGgpO1xuICAgICAgb3B0aW9uc1ttWzBdLnRvTG93ZXJDYXNlKCldID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgY29uc3QgZXZlbnQgPSBuYW1lWzJdID09PSBcIjpcIiA/IG5hbWUuc2xpY2UoMykgOiBoeXBoZW5hdGUobmFtZS5zbGljZSgyKSk7XG4gIHJldHVybiBbZXZlbnQsIG9wdGlvbnNdO1xufVxubGV0IGNhY2hlZE5vdyA9IDA7XG5jb25zdCBwID0gLyogQF9fUFVSRV9fICovIFByb21pc2UucmVzb2x2ZSgpO1xuY29uc3QgZ2V0Tm93ID0gKCkgPT4gY2FjaGVkTm93IHx8IChwLnRoZW4oKCkgPT4gY2FjaGVkTm93ID0gMCksIGNhY2hlZE5vdyA9IERhdGUubm93KCkpO1xuZnVuY3Rpb24gY3JlYXRlSW52b2tlcihpbml0aWFsVmFsdWUsIGluc3RhbmNlKSB7XG4gIGNvbnN0IGludm9rZXIgPSAoZSkgPT4ge1xuICAgIGlmICghZS5fdnRzKSB7XG4gICAgICBlLl92dHMgPSBEYXRlLm5vdygpO1xuICAgIH0gZWxzZSBpZiAoZS5fdnRzIDw9IGludm9rZXIuYXR0YWNoZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmcoXG4gICAgICBwYXRjaFN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbihlLCBpbnZva2VyLnZhbHVlKSxcbiAgICAgIGluc3RhbmNlLFxuICAgICAgNSxcbiAgICAgIFtlXVxuICAgICk7XG4gIH07XG4gIGludm9rZXIudmFsdWUgPSBpbml0aWFsVmFsdWU7XG4gIGludm9rZXIuYXR0YWNoZWQgPSBnZXROb3coKTtcbiAgcmV0dXJuIGludm9rZXI7XG59XG5mdW5jdGlvbiBzYW5pdGl6ZUV2ZW50VmFsdWUodmFsdWUsIHByb3BOYW1lKSB7XG4gIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSB8fCBpc0FycmF5KHZhbHVlKSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICB3YXJuKFxuICAgIGBXcm9uZyB0eXBlIHBhc3NlZCBhcyBldmVudCBoYW5kbGVyIHRvICR7cHJvcE5hbWV9IC0gZGlkIHlvdSBmb3JnZXQgQCBvciA6IGluIGZyb250IG9mIHlvdXIgcHJvcD9cbkV4cGVjdGVkIGZ1bmN0aW9uIG9yIGFycmF5IG9mIGZ1bmN0aW9ucywgcmVjZWl2ZWQgdHlwZSAke3R5cGVvZiB2YWx1ZX0uYFxuICApO1xuICByZXR1cm4gTk9PUDtcbn1cbmZ1bmN0aW9uIHBhdGNoU3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKGUsIHZhbHVlKSB7XG4gIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIGNvbnN0IG9yaWdpbmFsU3RvcCA9IGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uO1xuICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uID0gKCkgPT4ge1xuICAgICAgb3JpZ2luYWxTdG9wLmNhbGwoZSk7XG4gICAgICBlLl9zdG9wcGVkID0gdHJ1ZTtcbiAgICB9O1xuICAgIHJldHVybiB2YWx1ZS5tYXAoXG4gICAgICAoZm4pID0+IChlMikgPT4gIWUyLl9zdG9wcGVkICYmIGZuICYmIGZuKGUyKVxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG59XG5cbmNvbnN0IGlzTmF0aXZlT24gPSAoa2V5KSA9PiBrZXkuY2hhckNvZGVBdCgwKSA9PT0gMTExICYmIGtleS5jaGFyQ29kZUF0KDEpID09PSAxMTAgJiYgLy8gbG93ZXJjYXNlIGxldHRlclxua2V5LmNoYXJDb2RlQXQoMikgPiA5NiAmJiBrZXkuY2hhckNvZGVBdCgyKSA8IDEyMztcbmNvbnN0IHBhdGNoUHJvcCA9IChlbCwga2V5LCBwcmV2VmFsdWUsIG5leHRWYWx1ZSwgbmFtZXNwYWNlLCBwcmV2Q2hpbGRyZW4sIHBhcmVudENvbXBvbmVudCwgcGFyZW50U3VzcGVuc2UsIHVubW91bnRDaGlsZHJlbikgPT4ge1xuICBjb25zdCBpc1NWRyA9IG5hbWVzcGFjZSA9PT0gXCJzdmdcIjtcbiAgaWYgKGtleSA9PT0gXCJjbGFzc1wiKSB7XG4gICAgcGF0Y2hDbGFzcyhlbCwgbmV4dFZhbHVlLCBpc1NWRyk7XG4gIH0gZWxzZSBpZiAoa2V5ID09PSBcInN0eWxlXCIpIHtcbiAgICBwYXRjaFN0eWxlKGVsLCBwcmV2VmFsdWUsIG5leHRWYWx1ZSk7XG4gIH0gZWxzZSBpZiAoaXNPbihrZXkpKSB7XG4gICAgaWYgKCFpc01vZGVsTGlzdGVuZXIoa2V5KSkge1xuICAgICAgcGF0Y2hFdmVudChlbCwga2V5LCBwcmV2VmFsdWUsIG5leHRWYWx1ZSwgcGFyZW50Q29tcG9uZW50KTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoa2V5WzBdID09PSBcIi5cIiA/IChrZXkgPSBrZXkuc2xpY2UoMSksIHRydWUpIDoga2V5WzBdID09PSBcIl5cIiA/IChrZXkgPSBrZXkuc2xpY2UoMSksIGZhbHNlKSA6IHNob3VsZFNldEFzUHJvcChlbCwga2V5LCBuZXh0VmFsdWUsIGlzU1ZHKSkge1xuICAgIHBhdGNoRE9NUHJvcChcbiAgICAgIGVsLFxuICAgICAga2V5LFxuICAgICAgbmV4dFZhbHVlLFxuICAgICAgcHJldkNoaWxkcmVuLFxuICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgcGFyZW50U3VzcGVuc2UsXG4gICAgICB1bm1vdW50Q2hpbGRyZW5cbiAgICApO1xuICAgIGlmIChrZXkgPT09IFwidmFsdWVcIiB8fCBrZXkgPT09IFwiY2hlY2tlZFwiIHx8IGtleSA9PT0gXCJzZWxlY3RlZFwiKSB7XG4gICAgICBwYXRjaEF0dHIoZWwsIGtleSwgbmV4dFZhbHVlLCBpc1NWRywgcGFyZW50Q29tcG9uZW50LCBrZXkgIT09IFwidmFsdWVcIik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChrZXkgPT09IFwidHJ1ZS12YWx1ZVwiKSB7XG4gICAgICBlbC5fdHJ1ZVZhbHVlID0gbmV4dFZhbHVlO1xuICAgIH0gZWxzZSBpZiAoa2V5ID09PSBcImZhbHNlLXZhbHVlXCIpIHtcbiAgICAgIGVsLl9mYWxzZVZhbHVlID0gbmV4dFZhbHVlO1xuICAgIH1cbiAgICBwYXRjaEF0dHIoZWwsIGtleSwgbmV4dFZhbHVlLCBpc1NWRyk7XG4gIH1cbn07XG5mdW5jdGlvbiBzaG91bGRTZXRBc1Byb3AoZWwsIGtleSwgdmFsdWUsIGlzU1ZHKSB7XG4gIGlmIChpc1NWRykge1xuICAgIGlmIChrZXkgPT09IFwiaW5uZXJIVE1MXCIgfHwga2V5ID09PSBcInRleHRDb250ZW50XCIpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoa2V5IGluIGVsICYmIGlzTmF0aXZlT24oa2V5KSAmJiBpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoa2V5ID09PSBcInNwZWxsY2hlY2tcIiB8fCBrZXkgPT09IFwiZHJhZ2dhYmxlXCIgfHwga2V5ID09PSBcInRyYW5zbGF0ZVwiKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChrZXkgPT09IFwiZm9ybVwiKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChrZXkgPT09IFwibGlzdFwiICYmIGVsLnRhZ05hbWUgPT09IFwiSU5QVVRcIikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoa2V5ID09PSBcInR5cGVcIiAmJiBlbC50YWdOYW1lID09PSBcIlRFWFRBUkVBXCIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKGtleSA9PT0gXCJ3aWR0aFwiIHx8IGtleSA9PT0gXCJoZWlnaHRcIikge1xuICAgIGNvbnN0IHRhZyA9IGVsLnRhZ05hbWU7XG4gICAgaWYgKHRhZyA9PT0gXCJJTUdcIiB8fCB0YWcgPT09IFwiVklERU9cIiB8fCB0YWcgPT09IFwiQ0FOVkFTXCIgfHwgdGFnID09PSBcIlNPVVJDRVwiKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIGlmIChpc05hdGl2ZU9uKGtleSkgJiYgaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiBrZXkgaW4gZWw7XG59XG5cbi8qISAjX19OT19TSURFX0VGRkVDVFNfXyAqL1xuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmZ1bmN0aW9uIGRlZmluZUN1c3RvbUVsZW1lbnQob3B0aW9ucywgZXh0cmFPcHRpb25zLCBoeWRyYXRlMikge1xuICBjb25zdCBDb21wID0gZGVmaW5lQ29tcG9uZW50KG9wdGlvbnMsIGV4dHJhT3B0aW9ucyk7XG4gIGNsYXNzIFZ1ZUN1c3RvbUVsZW1lbnQgZXh0ZW5kcyBWdWVFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3Rvcihpbml0aWFsUHJvcHMpIHtcbiAgICAgIHN1cGVyKENvbXAsIGluaXRpYWxQcm9wcywgaHlkcmF0ZTIpO1xuICAgIH1cbiAgfVxuICBWdWVDdXN0b21FbGVtZW50LmRlZiA9IENvbXA7XG4gIHJldHVybiBWdWVDdXN0b21FbGVtZW50O1xufVxuLyohICNfX05PX1NJREVfRUZGRUNUU19fICovXG5jb25zdCBkZWZpbmVTU1JDdXN0b21FbGVtZW50ID0gLyogQF9fTk9fU0lERV9FRkZFQ1RTX18gKi8gKG9wdGlvbnMsIGV4dHJhT3B0aW9ucykgPT4ge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGRlZmluZUN1c3RvbUVsZW1lbnQob3B0aW9ucywgZXh0cmFPcHRpb25zLCBoeWRyYXRlKTtcbn07XG5jb25zdCBCYXNlQ2xhc3MgPSB0eXBlb2YgSFRNTEVsZW1lbnQgIT09IFwidW5kZWZpbmVkXCIgPyBIVE1MRWxlbWVudCA6IGNsYXNzIHtcbn07XG5jbGFzcyBWdWVFbGVtZW50IGV4dGVuZHMgQmFzZUNsYXNzIHtcbiAgY29uc3RydWN0b3IoX2RlZiwgX3Byb3BzID0ge30sIGh5ZHJhdGUyKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9kZWYgPSBfZGVmO1xuICAgIHRoaXMuX3Byb3BzID0gX3Byb3BzO1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHRoaXMuX2luc3RhbmNlID0gbnVsbDtcbiAgICB0aGlzLl9jb25uZWN0ZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9yZXNvbHZlZCA9IGZhbHNlO1xuICAgIHRoaXMuX251bWJlclByb3BzID0gbnVsbDtcbiAgICB0aGlzLl9vYiA9IG51bGw7XG4gICAgaWYgKHRoaXMuc2hhZG93Um9vdCAmJiBoeWRyYXRlMikge1xuICAgICAgaHlkcmF0ZTIodGhpcy5fY3JlYXRlVk5vZGUoKSwgdGhpcy5zaGFkb3dSb290KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikgJiYgdGhpcy5zaGFkb3dSb290KSB7XG4gICAgICAgIHdhcm4oXG4gICAgICAgICAgYEN1c3RvbSBlbGVtZW50IGhhcyBwcmUtcmVuZGVyZWQgZGVjbGFyYXRpdmUgc2hhZG93IHJvb3QgYnV0IGlzIG5vdCBkZWZpbmVkIGFzIGh5ZHJhdGFibGUuIFVzZSBcXGBkZWZpbmVTU1JDdXN0b21FbGVtZW50XFxgLmBcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuYXR0YWNoU2hhZG93KHsgbW9kZTogXCJvcGVuXCIgfSk7XG4gICAgICBpZiAoIXRoaXMuX2RlZi5fX2FzeW5jTG9hZGVyKSB7XG4gICAgICAgIHRoaXMuX3Jlc29sdmVQcm9wcyh0aGlzLl9kZWYpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICB0aGlzLl9jb25uZWN0ZWQgPSB0cnVlO1xuICAgIGlmICghdGhpcy5faW5zdGFuY2UpIHtcbiAgICAgIGlmICh0aGlzLl9yZXNvbHZlZCkge1xuICAgICAgICB0aGlzLl91cGRhdGUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX3Jlc29sdmVEZWYoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgdGhpcy5fY29ubmVjdGVkID0gZmFsc2U7XG4gICAgbmV4dFRpY2soKCkgPT4ge1xuICAgICAgaWYgKCF0aGlzLl9jb25uZWN0ZWQpIHtcbiAgICAgICAgaWYgKHRoaXMuX29iKSB7XG4gICAgICAgICAgdGhpcy5fb2IuZGlzY29ubmVjdCgpO1xuICAgICAgICAgIHRoaXMuX29iID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZW5kZXIobnVsbCwgdGhpcy5zaGFkb3dSb290KTtcbiAgICAgICAgdGhpcy5faW5zdGFuY2UgPSBudWxsO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiByZXNvbHZlIGlubmVyIGNvbXBvbmVudCBkZWZpbml0aW9uIChoYW5kbGUgcG9zc2libGUgYXN5bmMgY29tcG9uZW50KVxuICAgKi9cbiAgX3Jlc29sdmVEZWYoKSB7XG4gICAgdGhpcy5fcmVzb2x2ZWQgPSB0cnVlO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5hdHRyaWJ1dGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLl9zZXRBdHRyKHRoaXMuYXR0cmlidXRlc1tpXS5uYW1lKTtcbiAgICB9XG4gICAgdGhpcy5fb2IgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigobXV0YXRpb25zKSA9PiB7XG4gICAgICBmb3IgKGNvbnN0IG0gb2YgbXV0YXRpb25zKSB7XG4gICAgICAgIHRoaXMuX3NldEF0dHIobS5hdHRyaWJ1dGVOYW1lKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLl9vYi5vYnNlcnZlKHRoaXMsIHsgYXR0cmlidXRlczogdHJ1ZSB9KTtcbiAgICBjb25zdCByZXNvbHZlID0gKGRlZiwgaXNBc3luYyA9IGZhbHNlKSA9PiB7XG4gICAgICBjb25zdCB7IHByb3BzLCBzdHlsZXMgfSA9IGRlZjtcbiAgICAgIGxldCBudW1iZXJQcm9wcztcbiAgICAgIGlmIChwcm9wcyAmJiAhaXNBcnJheShwcm9wcykpIHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcHJvcHMpIHtcbiAgICAgICAgICBjb25zdCBvcHQgPSBwcm9wc1trZXldO1xuICAgICAgICAgIGlmIChvcHQgPT09IE51bWJlciB8fCBvcHQgJiYgb3B0LnR5cGUgPT09IE51bWJlcikge1xuICAgICAgICAgICAgaWYgKGtleSBpbiB0aGlzLl9wcm9wcykge1xuICAgICAgICAgICAgICB0aGlzLl9wcm9wc1trZXldID0gdG9OdW1iZXIodGhpcy5fcHJvcHNba2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAobnVtYmVyUHJvcHMgfHwgKG51bWJlclByb3BzID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCkpKVtjYW1lbGl6ZSQxKGtleSldID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMuX251bWJlclByb3BzID0gbnVtYmVyUHJvcHM7XG4gICAgICBpZiAoaXNBc3luYykge1xuICAgICAgICB0aGlzLl9yZXNvbHZlUHJvcHMoZGVmKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2FwcGx5U3R5bGVzKHN0eWxlcyk7XG4gICAgICB0aGlzLl91cGRhdGUoKTtcbiAgICB9O1xuICAgIGNvbnN0IGFzeW5jRGVmID0gdGhpcy5fZGVmLl9fYXN5bmNMb2FkZXI7XG4gICAgaWYgKGFzeW5jRGVmKSB7XG4gICAgICBhc3luY0RlZigpLnRoZW4oKGRlZikgPT4gcmVzb2x2ZShkZWYsIHRydWUpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzb2x2ZSh0aGlzLl9kZWYpO1xuICAgIH1cbiAgfVxuICBfcmVzb2x2ZVByb3BzKGRlZikge1xuICAgIGNvbnN0IHsgcHJvcHMgfSA9IGRlZjtcbiAgICBjb25zdCBkZWNsYXJlZFByb3BLZXlzID0gaXNBcnJheShwcm9wcykgPyBwcm9wcyA6IE9iamVjdC5rZXlzKHByb3BzIHx8IHt9KTtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyh0aGlzKSkge1xuICAgICAgaWYgKGtleVswXSAhPT0gXCJfXCIgJiYgZGVjbGFyZWRQcm9wS2V5cy5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICAgIHRoaXMuX3NldFByb3Aoa2V5LCB0aGlzW2tleV0sIHRydWUsIGZhbHNlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChjb25zdCBrZXkgb2YgZGVjbGFyZWRQcm9wS2V5cy5tYXAoY2FtZWxpemUkMSkpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBrZXksIHtcbiAgICAgICAgZ2V0KCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRQcm9wKGtleSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldCh2YWwpIHtcbiAgICAgICAgICB0aGlzLl9zZXRQcm9wKGtleSwgdmFsKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIF9zZXRBdHRyKGtleSkge1xuICAgIGxldCB2YWx1ZSA9IHRoaXMuaGFzQXR0cmlidXRlKGtleSkgPyB0aGlzLmdldEF0dHJpYnV0ZShrZXkpIDogdm9pZCAwO1xuICAgIGNvbnN0IGNhbWVsS2V5ID0gY2FtZWxpemUkMShrZXkpO1xuICAgIGlmICh0aGlzLl9udW1iZXJQcm9wcyAmJiB0aGlzLl9udW1iZXJQcm9wc1tjYW1lbEtleV0pIHtcbiAgICAgIHZhbHVlID0gdG9OdW1iZXIodmFsdWUpO1xuICAgIH1cbiAgICB0aGlzLl9zZXRQcm9wKGNhbWVsS2V5LCB2YWx1ZSwgZmFsc2UpO1xuICB9XG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIF9nZXRQcm9wKGtleSkge1xuICAgIHJldHVybiB0aGlzLl9wcm9wc1trZXldO1xuICB9XG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIF9zZXRQcm9wKGtleSwgdmFsLCBzaG91bGRSZWZsZWN0ID0gdHJ1ZSwgc2hvdWxkVXBkYXRlID0gdHJ1ZSkge1xuICAgIGlmICh2YWwgIT09IHRoaXMuX3Byb3BzW2tleV0pIHtcbiAgICAgIHRoaXMuX3Byb3BzW2tleV0gPSB2YWw7XG4gICAgICBpZiAoc2hvdWxkVXBkYXRlICYmIHRoaXMuX2luc3RhbmNlKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZSgpO1xuICAgICAgfVxuICAgICAgaWYgKHNob3VsZFJlZmxlY3QpIHtcbiAgICAgICAgaWYgKHZhbCA9PT0gdHJ1ZSkge1xuICAgICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKGh5cGhlbmF0ZShrZXkpLCBcIlwiKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09PSBcInN0cmluZ1wiIHx8IHR5cGVvZiB2YWwgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZShoeXBoZW5hdGUoa2V5KSwgdmFsICsgXCJcIik7XG4gICAgICAgIH0gZWxzZSBpZiAoIXZhbCkge1xuICAgICAgICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKGh5cGhlbmF0ZShrZXkpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBfdXBkYXRlKCkge1xuICAgIHJlbmRlcih0aGlzLl9jcmVhdGVWTm9kZSgpLCB0aGlzLnNoYWRvd1Jvb3QpO1xuICB9XG4gIF9jcmVhdGVWTm9kZSgpIHtcbiAgICBjb25zdCB2bm9kZSA9IGNyZWF0ZVZOb2RlKHRoaXMuX2RlZiwgZXh0ZW5kKHt9LCB0aGlzLl9wcm9wcykpO1xuICAgIGlmICghdGhpcy5faW5zdGFuY2UpIHtcbiAgICAgIHZub2RlLmNlID0gKGluc3RhbmNlKSA9PiB7XG4gICAgICAgIHRoaXMuX2luc3RhbmNlID0gaW5zdGFuY2U7XG4gICAgICAgIGluc3RhbmNlLmlzQ0UgPSB0cnVlO1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgIGluc3RhbmNlLmNlUmVsb2FkID0gKG5ld1N0eWxlcykgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3N0eWxlcykge1xuICAgICAgICAgICAgICB0aGlzLl9zdHlsZXMuZm9yRWFjaCgocykgPT4gdGhpcy5zaGFkb3dSb290LnJlbW92ZUNoaWxkKHMpKTtcbiAgICAgICAgICAgICAgdGhpcy5fc3R5bGVzLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9hcHBseVN0eWxlcyhuZXdTdHlsZXMpO1xuICAgICAgICAgICAgdGhpcy5faW5zdGFuY2UgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlKCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkaXNwYXRjaCA9IChldmVudCwgYXJncykgPT4ge1xuICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChcbiAgICAgICAgICAgIG5ldyBDdXN0b21FdmVudChldmVudCwge1xuICAgICAgICAgICAgICBkZXRhaWw6IGFyZ3NcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKTtcbiAgICAgICAgfTtcbiAgICAgICAgaW5zdGFuY2UuZW1pdCA9IChldmVudCwgLi4uYXJncykgPT4ge1xuICAgICAgICAgIGRpc3BhdGNoKGV2ZW50LCBhcmdzKTtcbiAgICAgICAgICBpZiAoaHlwaGVuYXRlKGV2ZW50KSAhPT0gZXZlbnQpIHtcbiAgICAgICAgICAgIGRpc3BhdGNoKGh5cGhlbmF0ZShldmVudCksIGFyZ3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgbGV0IHBhcmVudCA9IHRoaXM7XG4gICAgICAgIHdoaWxlIChwYXJlbnQgPSBwYXJlbnQgJiYgKHBhcmVudC5wYXJlbnROb2RlIHx8IHBhcmVudC5ob3N0KSkge1xuICAgICAgICAgIGlmIChwYXJlbnQgaW5zdGFuY2VvZiBWdWVFbGVtZW50KSB7XG4gICAgICAgICAgICBpbnN0YW5jZS5wYXJlbnQgPSBwYXJlbnQuX2luc3RhbmNlO1xuICAgICAgICAgICAgaW5zdGFuY2UucHJvdmlkZXMgPSBwYXJlbnQuX2luc3RhbmNlLnByb3ZpZGVzO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gdm5vZGU7XG4gIH1cbiAgX2FwcGx5U3R5bGVzKHN0eWxlcykge1xuICAgIGlmIChzdHlsZXMpIHtcbiAgICAgIHN0eWxlcy5mb3JFYWNoKChjc3MpID0+IHtcbiAgICAgICAgY29uc3QgcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgICAgICAgcy50ZXh0Q29udGVudCA9IGNzcztcbiAgICAgICAgdGhpcy5zaGFkb3dSb290LmFwcGVuZENoaWxkKHMpO1xuICAgICAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSkge1xuICAgICAgICAgICh0aGlzLl9zdHlsZXMgfHwgKHRoaXMuX3N0eWxlcyA9IFtdKSkucHVzaChzKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHVzZUNzc01vZHVsZShuYW1lID0gXCIkc3R5bGVcIikge1xuICB7XG4gICAgY29uc3QgaW5zdGFuY2UgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgICBpZiAoIWluc3RhbmNlKSB7XG4gICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm4oYHVzZUNzc01vZHVsZSBtdXN0IGJlIGNhbGxlZCBpbnNpZGUgc2V0dXAoKWApO1xuICAgICAgcmV0dXJuIEVNUFRZX09CSjtcbiAgICB9XG4gICAgY29uc3QgbW9kdWxlcyA9IGluc3RhbmNlLnR5cGUuX19jc3NNb2R1bGVzO1xuICAgIGlmICghbW9kdWxlcykge1xuICAgICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuKGBDdXJyZW50IGluc3RhbmNlIGRvZXMgbm90IGhhdmUgQ1NTIG1vZHVsZXMgaW5qZWN0ZWQuYCk7XG4gICAgICByZXR1cm4gRU1QVFlfT0JKO1xuICAgIH1cbiAgICBjb25zdCBtb2QgPSBtb2R1bGVzW25hbWVdO1xuICAgIGlmICghbW9kKSB7XG4gICAgICAhIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdhcm4oYEN1cnJlbnQgaW5zdGFuY2UgZG9lcyBub3QgaGF2ZSBDU1MgbW9kdWxlIG5hbWVkIFwiJHtuYW1lfVwiLmApO1xuICAgICAgcmV0dXJuIEVNUFRZX09CSjtcbiAgICB9XG4gICAgcmV0dXJuIG1vZDtcbiAgfVxufVxuXG5jb25zdCBwb3NpdGlvbk1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xuY29uc3QgbmV3UG9zaXRpb25NYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbmNvbnN0IG1vdmVDYktleSA9IFN5bWJvbChcIl9tb3ZlQ2JcIik7XG5jb25zdCBlbnRlckNiS2V5ID0gU3ltYm9sKFwiX2VudGVyQ2JcIik7XG5jb25zdCBUcmFuc2l0aW9uR3JvdXBJbXBsID0ge1xuICBuYW1lOiBcIlRyYW5zaXRpb25Hcm91cFwiLFxuICBwcm9wczogLyogQF9fUFVSRV9fICovIGV4dGVuZCh7fSwgVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycywge1xuICAgIHRhZzogU3RyaW5nLFxuICAgIG1vdmVDbGFzczogU3RyaW5nXG4gIH0pLFxuICBzZXR1cChwcm9wcywgeyBzbG90cyB9KSB7XG4gICAgY29uc3QgaW5zdGFuY2UgPSBnZXRDdXJyZW50SW5zdGFuY2UoKTtcbiAgICBjb25zdCBzdGF0ZSA9IHVzZVRyYW5zaXRpb25TdGF0ZSgpO1xuICAgIGxldCBwcmV2Q2hpbGRyZW47XG4gICAgbGV0IGNoaWxkcmVuO1xuICAgIG9uVXBkYXRlZCgoKSA9PiB7XG4gICAgICBpZiAoIXByZXZDaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgbW92ZUNsYXNzID0gcHJvcHMubW92ZUNsYXNzIHx8IGAke3Byb3BzLm5hbWUgfHwgXCJ2XCJ9LW1vdmVgO1xuICAgICAgaWYgKCFoYXNDU1NUcmFuc2Zvcm0oXG4gICAgICAgIHByZXZDaGlsZHJlblswXS5lbCxcbiAgICAgICAgaW5zdGFuY2Uudm5vZGUuZWwsXG4gICAgICAgIG1vdmVDbGFzc1xuICAgICAgKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwcmV2Q2hpbGRyZW4uZm9yRWFjaChjYWxsUGVuZGluZ0Nicyk7XG4gICAgICBwcmV2Q2hpbGRyZW4uZm9yRWFjaChyZWNvcmRQb3NpdGlvbik7XG4gICAgICBjb25zdCBtb3ZlZENoaWxkcmVuID0gcHJldkNoaWxkcmVuLmZpbHRlcihhcHBseVRyYW5zbGF0aW9uKTtcbiAgICAgIGZvcmNlUmVmbG93KCk7XG4gICAgICBtb3ZlZENoaWxkcmVuLmZvckVhY2goKGMpID0+IHtcbiAgICAgICAgY29uc3QgZWwgPSBjLmVsO1xuICAgICAgICBjb25zdCBzdHlsZSA9IGVsLnN0eWxlO1xuICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIG1vdmVDbGFzcyk7XG4gICAgICAgIHN0eWxlLnRyYW5zZm9ybSA9IHN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IHN0eWxlLnRyYW5zaXRpb25EdXJhdGlvbiA9IFwiXCI7XG4gICAgICAgIGNvbnN0IGNiID0gZWxbbW92ZUNiS2V5XSA9IChlKSA9PiB7XG4gICAgICAgICAgaWYgKGUgJiYgZS50YXJnZXQgIT09IGVsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghZSB8fCAvdHJhbnNmb3JtJC8udGVzdChlLnByb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0cmFuc2l0aW9uZW5kXCIsIGNiKTtcbiAgICAgICAgICAgIGVsW21vdmVDYktleV0gPSBudWxsO1xuICAgICAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBtb3ZlQ2xhc3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihcInRyYW5zaXRpb25lbmRcIiwgY2IpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGNvbnN0IHJhd1Byb3BzID0gdG9SYXcocHJvcHMpO1xuICAgICAgY29uc3QgY3NzVHJhbnNpdGlvblByb3BzID0gcmVzb2x2ZVRyYW5zaXRpb25Qcm9wcyhyYXdQcm9wcyk7XG4gICAgICBsZXQgdGFnID0gcmF3UHJvcHMudGFnIHx8IEZyYWdtZW50O1xuICAgICAgcHJldkNoaWxkcmVuID0gW107XG4gICAgICBpZiAoY2hpbGRyZW4pIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW5baV07XG4gICAgICAgICAgaWYgKGNoaWxkLmVsICYmIGNoaWxkLmVsIGluc3RhbmNlb2YgRWxlbWVudCkge1xuICAgICAgICAgICAgcHJldkNoaWxkcmVuLnB1c2goY2hpbGQpO1xuICAgICAgICAgICAgc2V0VHJhbnNpdGlvbkhvb2tzKFxuICAgICAgICAgICAgICBjaGlsZCxcbiAgICAgICAgICAgICAgcmVzb2x2ZVRyYW5zaXRpb25Ib29rcyhcbiAgICAgICAgICAgICAgICBjaGlsZCxcbiAgICAgICAgICAgICAgICBjc3NUcmFuc2l0aW9uUHJvcHMsXG4gICAgICAgICAgICAgICAgc3RhdGUsXG4gICAgICAgICAgICAgICAgaW5zdGFuY2VcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHBvc2l0aW9uTWFwLnNldChcbiAgICAgICAgICAgICAgY2hpbGQsXG4gICAgICAgICAgICAgIGNoaWxkLmVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY2hpbGRyZW4gPSBzbG90cy5kZWZhdWx0ID8gZ2V0VHJhbnNpdGlvblJhd0NoaWxkcmVuKHNsb3RzLmRlZmF1bHQoKSkgOiBbXTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICAgICAgaWYgKGNoaWxkLmtleSAhPSBudWxsKSB7XG4gICAgICAgICAgc2V0VHJhbnNpdGlvbkhvb2tzKFxuICAgICAgICAgICAgY2hpbGQsXG4gICAgICAgICAgICByZXNvbHZlVHJhbnNpdGlvbkhvb2tzKGNoaWxkLCBjc3NUcmFuc2l0aW9uUHJvcHMsIHN0YXRlLCBpbnN0YW5jZSlcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICAgICAgICB3YXJuKGA8VHJhbnNpdGlvbkdyb3VwPiBjaGlsZHJlbiBtdXN0IGJlIGtleWVkLmApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gY3JlYXRlVk5vZGUodGFnLCBudWxsLCBjaGlsZHJlbik7XG4gICAgfTtcbiAgfVxufTtcbmNvbnN0IHJlbW92ZU1vZGUgPSAocHJvcHMpID0+IGRlbGV0ZSBwcm9wcy5tb2RlO1xuLyogQF9fUFVSRV9fICovIHJlbW92ZU1vZGUoVHJhbnNpdGlvbkdyb3VwSW1wbC5wcm9wcyk7XG5jb25zdCBUcmFuc2l0aW9uR3JvdXAgPSBUcmFuc2l0aW9uR3JvdXBJbXBsO1xuZnVuY3Rpb24gY2FsbFBlbmRpbmdDYnMoYykge1xuICBjb25zdCBlbCA9IGMuZWw7XG4gIGlmIChlbFttb3ZlQ2JLZXldKSB7XG4gICAgZWxbbW92ZUNiS2V5XSgpO1xuICB9XG4gIGlmIChlbFtlbnRlckNiS2V5XSkge1xuICAgIGVsW2VudGVyQ2JLZXldKCk7XG4gIH1cbn1cbmZ1bmN0aW9uIHJlY29yZFBvc2l0aW9uKGMpIHtcbiAgbmV3UG9zaXRpb25NYXAuc2V0KGMsIGMuZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpO1xufVxuZnVuY3Rpb24gYXBwbHlUcmFuc2xhdGlvbihjKSB7XG4gIGNvbnN0IG9sZFBvcyA9IHBvc2l0aW9uTWFwLmdldChjKTtcbiAgY29uc3QgbmV3UG9zID0gbmV3UG9zaXRpb25NYXAuZ2V0KGMpO1xuICBjb25zdCBkeCA9IG9sZFBvcy5sZWZ0IC0gbmV3UG9zLmxlZnQ7XG4gIGNvbnN0IGR5ID0gb2xkUG9zLnRvcCAtIG5ld1Bvcy50b3A7XG4gIGlmIChkeCB8fCBkeSkge1xuICAgIGNvbnN0IHMgPSBjLmVsLnN0eWxlO1xuICAgIHMudHJhbnNmb3JtID0gcy53ZWJraXRUcmFuc2Zvcm0gPSBgdHJhbnNsYXRlKCR7ZHh9cHgsJHtkeX1weClgO1xuICAgIHMudHJhbnNpdGlvbkR1cmF0aW9uID0gXCIwc1wiO1xuICAgIHJldHVybiBjO1xuICB9XG59XG5mdW5jdGlvbiBoYXNDU1NUcmFuc2Zvcm0oZWwsIHJvb3QsIG1vdmVDbGFzcykge1xuICBjb25zdCBjbG9uZSA9IGVsLmNsb25lTm9kZSgpO1xuICBjb25zdCBfdnRjID0gZWxbdnRjS2V5XTtcbiAgaWYgKF92dGMpIHtcbiAgICBfdnRjLmZvckVhY2goKGNscykgPT4ge1xuICAgICAgY2xzLnNwbGl0KC9cXHMrLykuZm9yRWFjaCgoYykgPT4gYyAmJiBjbG9uZS5jbGFzc0xpc3QucmVtb3ZlKGMpKTtcbiAgICB9KTtcbiAgfVxuICBtb3ZlQ2xhc3Muc3BsaXQoL1xccysvKS5mb3JFYWNoKChjKSA9PiBjICYmIGNsb25lLmNsYXNzTGlzdC5hZGQoYykpO1xuICBjbG9uZS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gIGNvbnN0IGNvbnRhaW5lciA9IHJvb3Qubm9kZVR5cGUgPT09IDEgPyByb290IDogcm9vdC5wYXJlbnROb2RlO1xuICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY2xvbmUpO1xuICBjb25zdCB7IGhhc1RyYW5zZm9ybSB9ID0gZ2V0VHJhbnNpdGlvbkluZm8oY2xvbmUpO1xuICBjb250YWluZXIucmVtb3ZlQ2hpbGQoY2xvbmUpO1xuICByZXR1cm4gaGFzVHJhbnNmb3JtO1xufVxuXG5jb25zdCBnZXRNb2RlbEFzc2lnbmVyID0gKHZub2RlKSA9PiB7XG4gIGNvbnN0IGZuID0gdm5vZGUucHJvcHNbXCJvblVwZGF0ZTptb2RlbFZhbHVlXCJdIHx8IGZhbHNlO1xuICByZXR1cm4gaXNBcnJheShmbikgPyAodmFsdWUpID0+IGludm9rZUFycmF5Rm5zKGZuLCB2YWx1ZSkgOiBmbjtcbn07XG5mdW5jdGlvbiBvbkNvbXBvc2l0aW9uU3RhcnQoZSkge1xuICBlLnRhcmdldC5jb21wb3NpbmcgPSB0cnVlO1xufVxuZnVuY3Rpb24gb25Db21wb3NpdGlvbkVuZChlKSB7XG4gIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0O1xuICBpZiAodGFyZ2V0LmNvbXBvc2luZykge1xuICAgIHRhcmdldC5jb21wb3NpbmcgPSBmYWxzZTtcbiAgICB0YXJnZXQuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoXCJpbnB1dFwiKSk7XG4gIH1cbn1cbmNvbnN0IGFzc2lnbktleSA9IFN5bWJvbChcIl9hc3NpZ25cIik7XG5jb25zdCB2TW9kZWxUZXh0ID0ge1xuICBjcmVhdGVkKGVsLCB7IG1vZGlmaWVyczogeyBsYXp5LCB0cmltLCBudW1iZXIgfSB9LCB2bm9kZSkge1xuICAgIGVsW2Fzc2lnbktleV0gPSBnZXRNb2RlbEFzc2lnbmVyKHZub2RlKTtcbiAgICBjb25zdCBjYXN0VG9OdW1iZXIgPSBudW1iZXIgfHwgdm5vZGUucHJvcHMgJiYgdm5vZGUucHJvcHMudHlwZSA9PT0gXCJudW1iZXJcIjtcbiAgICBhZGRFdmVudExpc3RlbmVyKGVsLCBsYXp5ID8gXCJjaGFuZ2VcIiA6IFwiaW5wdXRcIiwgKGUpID0+IHtcbiAgICAgIGlmIChlLnRhcmdldC5jb21wb3NpbmcpIHJldHVybjtcbiAgICAgIGxldCBkb21WYWx1ZSA9IGVsLnZhbHVlO1xuICAgICAgaWYgKHRyaW0pIHtcbiAgICAgICAgZG9tVmFsdWUgPSBkb21WYWx1ZS50cmltKCk7XG4gICAgICB9XG4gICAgICBpZiAoY2FzdFRvTnVtYmVyKSB7XG4gICAgICAgIGRvbVZhbHVlID0gbG9vc2VUb051bWJlcihkb21WYWx1ZSk7XG4gICAgICB9XG4gICAgICBlbFthc3NpZ25LZXldKGRvbVZhbHVlKTtcbiAgICB9KTtcbiAgICBpZiAodHJpbSkge1xuICAgICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgXCJjaGFuZ2VcIiwgKCkgPT4ge1xuICAgICAgICBlbC52YWx1ZSA9IGVsLnZhbHVlLnRyaW0oKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoIWxhenkpIHtcbiAgICAgIGFkZEV2ZW50TGlzdGVuZXIoZWwsIFwiY29tcG9zaXRpb25zdGFydFwiLCBvbkNvbXBvc2l0aW9uU3RhcnQpO1xuICAgICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgXCJjb21wb3NpdGlvbmVuZFwiLCBvbkNvbXBvc2l0aW9uRW5kKTtcbiAgICAgIGFkZEV2ZW50TGlzdGVuZXIoZWwsIFwiY2hhbmdlXCIsIG9uQ29tcG9zaXRpb25FbmQpO1xuICAgIH1cbiAgfSxcbiAgLy8gc2V0IHZhbHVlIG9uIG1vdW50ZWQgc28gaXQncyBhZnRlciBtaW4vbWF4IGZvciB0eXBlPVwicmFuZ2VcIlxuICBtb3VudGVkKGVsLCB7IHZhbHVlIH0pIHtcbiAgICBlbC52YWx1ZSA9IHZhbHVlID09IG51bGwgPyBcIlwiIDogdmFsdWU7XG4gIH0sXG4gIGJlZm9yZVVwZGF0ZShlbCwgeyB2YWx1ZSwgb2xkVmFsdWUsIG1vZGlmaWVyczogeyBsYXp5LCB0cmltLCBudW1iZXIgfSB9LCB2bm9kZSkge1xuICAgIGVsW2Fzc2lnbktleV0gPSBnZXRNb2RlbEFzc2lnbmVyKHZub2RlKTtcbiAgICBpZiAoZWwuY29tcG9zaW5nKSByZXR1cm47XG4gICAgY29uc3QgZWxWYWx1ZSA9IChudW1iZXIgfHwgZWwudHlwZSA9PT0gXCJudW1iZXJcIikgJiYgIS9eMFxcZC8udGVzdChlbC52YWx1ZSkgPyBsb29zZVRvTnVtYmVyKGVsLnZhbHVlKSA6IGVsLnZhbHVlO1xuICAgIGNvbnN0IG5ld1ZhbHVlID0gdmFsdWUgPT0gbnVsbCA/IFwiXCIgOiB2YWx1ZTtcbiAgICBpZiAoZWxWYWx1ZSA9PT0gbmV3VmFsdWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGVsICYmIGVsLnR5cGUgIT09IFwicmFuZ2VcIikge1xuICAgICAgaWYgKGxhenkgJiYgdmFsdWUgPT09IG9sZFZhbHVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICh0cmltICYmIGVsLnZhbHVlLnRyaW0oKSA9PT0gbmV3VmFsdWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBlbC52YWx1ZSA9IG5ld1ZhbHVlO1xuICB9XG59O1xuY29uc3Qgdk1vZGVsQ2hlY2tib3ggPSB7XG4gIC8vICM0MDk2IGFycmF5IGNoZWNrYm94ZXMgbmVlZCB0byBiZSBkZWVwIHRyYXZlcnNlZFxuICBkZWVwOiB0cnVlLFxuICBjcmVhdGVkKGVsLCBfLCB2bm9kZSkge1xuICAgIGVsW2Fzc2lnbktleV0gPSBnZXRNb2RlbEFzc2lnbmVyKHZub2RlKTtcbiAgICBhZGRFdmVudExpc3RlbmVyKGVsLCBcImNoYW5nZVwiLCAoKSA9PiB7XG4gICAgICBjb25zdCBtb2RlbFZhbHVlID0gZWwuX21vZGVsVmFsdWU7XG4gICAgICBjb25zdCBlbGVtZW50VmFsdWUgPSBnZXRWYWx1ZShlbCk7XG4gICAgICBjb25zdCBjaGVja2VkID0gZWwuY2hlY2tlZDtcbiAgICAgIGNvbnN0IGFzc2lnbiA9IGVsW2Fzc2lnbktleV07XG4gICAgICBpZiAoaXNBcnJheShtb2RlbFZhbHVlKSkge1xuICAgICAgICBjb25zdCBpbmRleCA9IGxvb3NlSW5kZXhPZihtb2RlbFZhbHVlLCBlbGVtZW50VmFsdWUpO1xuICAgICAgICBjb25zdCBmb3VuZCA9IGluZGV4ICE9PSAtMTtcbiAgICAgICAgaWYgKGNoZWNrZWQgJiYgIWZvdW5kKSB7XG4gICAgICAgICAgYXNzaWduKG1vZGVsVmFsdWUuY29uY2F0KGVsZW1lbnRWYWx1ZSkpO1xuICAgICAgICB9IGVsc2UgaWYgKCFjaGVja2VkICYmIGZvdW5kKSB7XG4gICAgICAgICAgY29uc3QgZmlsdGVyZWQgPSBbLi4ubW9kZWxWYWx1ZV07XG4gICAgICAgICAgZmlsdGVyZWQuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICBhc3NpZ24oZmlsdGVyZWQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGlzU2V0KG1vZGVsVmFsdWUpKSB7XG4gICAgICAgIGNvbnN0IGNsb25lZCA9IG5ldyBTZXQobW9kZWxWYWx1ZSk7XG4gICAgICAgIGlmIChjaGVja2VkKSB7XG4gICAgICAgICAgY2xvbmVkLmFkZChlbGVtZW50VmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNsb25lZC5kZWxldGUoZWxlbWVudFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBhc3NpZ24oY2xvbmVkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFzc2lnbihnZXRDaGVja2JveFZhbHVlKGVsLCBjaGVja2VkKSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG4gIC8vIHNldCBpbml0aWFsIGNoZWNrZWQgb24gbW91bnQgdG8gd2FpdCBmb3IgdHJ1ZS12YWx1ZS9mYWxzZS12YWx1ZVxuICBtb3VudGVkOiBzZXRDaGVja2VkLFxuICBiZWZvcmVVcGRhdGUoZWwsIGJpbmRpbmcsIHZub2RlKSB7XG4gICAgZWxbYXNzaWduS2V5XSA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xuICAgIHNldENoZWNrZWQoZWwsIGJpbmRpbmcsIHZub2RlKTtcbiAgfVxufTtcbmZ1bmN0aW9uIHNldENoZWNrZWQoZWwsIHsgdmFsdWUsIG9sZFZhbHVlIH0sIHZub2RlKSB7XG4gIGVsLl9tb2RlbFZhbHVlID0gdmFsdWU7XG4gIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIGVsLmNoZWNrZWQgPSBsb29zZUluZGV4T2YodmFsdWUsIHZub2RlLnByb3BzLnZhbHVlKSA+IC0xO1xuICB9IGVsc2UgaWYgKGlzU2V0KHZhbHVlKSkge1xuICAgIGVsLmNoZWNrZWQgPSB2YWx1ZS5oYXModm5vZGUucHJvcHMudmFsdWUpO1xuICB9IGVsc2UgaWYgKHZhbHVlICE9PSBvbGRWYWx1ZSkge1xuICAgIGVsLmNoZWNrZWQgPSBsb29zZUVxdWFsKHZhbHVlLCBnZXRDaGVja2JveFZhbHVlKGVsLCB0cnVlKSk7XG4gIH1cbn1cbmNvbnN0IHZNb2RlbFJhZGlvID0ge1xuICBjcmVhdGVkKGVsLCB7IHZhbHVlIH0sIHZub2RlKSB7XG4gICAgZWwuY2hlY2tlZCA9IGxvb3NlRXF1YWwodmFsdWUsIHZub2RlLnByb3BzLnZhbHVlKTtcbiAgICBlbFthc3NpZ25LZXldID0gZ2V0TW9kZWxBc3NpZ25lcih2bm9kZSk7XG4gICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgXCJjaGFuZ2VcIiwgKCkgPT4ge1xuICAgICAgZWxbYXNzaWduS2V5XShnZXRWYWx1ZShlbCkpO1xuICAgIH0pO1xuICB9LFxuICBiZWZvcmVVcGRhdGUoZWwsIHsgdmFsdWUsIG9sZFZhbHVlIH0sIHZub2RlKSB7XG4gICAgZWxbYXNzaWduS2V5XSA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xuICAgIGlmICh2YWx1ZSAhPT0gb2xkVmFsdWUpIHtcbiAgICAgIGVsLmNoZWNrZWQgPSBsb29zZUVxdWFsKHZhbHVlLCB2bm9kZS5wcm9wcy52YWx1ZSk7XG4gICAgfVxuICB9XG59O1xuY29uc3Qgdk1vZGVsU2VsZWN0ID0ge1xuICAvLyA8c2VsZWN0IG11bHRpcGxlPiB2YWx1ZSBuZWVkIHRvIGJlIGRlZXAgdHJhdmVyc2VkXG4gIGRlZXA6IHRydWUsXG4gIGNyZWF0ZWQoZWwsIHsgdmFsdWUsIG1vZGlmaWVyczogeyBudW1iZXIgfSB9LCB2bm9kZSkge1xuICAgIGNvbnN0IGlzU2V0TW9kZWwgPSBpc1NldCh2YWx1ZSk7XG4gICAgYWRkRXZlbnRMaXN0ZW5lcihlbCwgXCJjaGFuZ2VcIiwgKCkgPT4ge1xuICAgICAgY29uc3Qgc2VsZWN0ZWRWYWwgPSBBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwoZWwub3B0aW9ucywgKG8pID0+IG8uc2VsZWN0ZWQpLm1hcChcbiAgICAgICAgKG8pID0+IG51bWJlciA/IGxvb3NlVG9OdW1iZXIoZ2V0VmFsdWUobykpIDogZ2V0VmFsdWUobylcbiAgICAgICk7XG4gICAgICBlbFthc3NpZ25LZXldKFxuICAgICAgICBlbC5tdWx0aXBsZSA/IGlzU2V0TW9kZWwgPyBuZXcgU2V0KHNlbGVjdGVkVmFsKSA6IHNlbGVjdGVkVmFsIDogc2VsZWN0ZWRWYWxbMF1cbiAgICAgICk7XG4gICAgICBlbC5fYXNzaWduaW5nID0gdHJ1ZTtcbiAgICAgIG5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgZWwuX2Fzc2lnbmluZyA9IGZhbHNlO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgZWxbYXNzaWduS2V5XSA9IGdldE1vZGVsQXNzaWduZXIodm5vZGUpO1xuICB9LFxuICAvLyBzZXQgdmFsdWUgaW4gbW91bnRlZCAmIHVwZGF0ZWQgYmVjYXVzZSA8c2VsZWN0PiByZWxpZXMgb24gaXRzIGNoaWxkcmVuXG4gIC8vIDxvcHRpb24+cy5cbiAgbW91bnRlZChlbCwgeyB2YWx1ZSwgbW9kaWZpZXJzOiB7IG51bWJlciB9IH0pIHtcbiAgICBzZXRTZWxlY3RlZChlbCwgdmFsdWUpO1xuICB9LFxuICBiZWZvcmVVcGRhdGUoZWwsIF9iaW5kaW5nLCB2bm9kZSkge1xuICAgIGVsW2Fzc2lnbktleV0gPSBnZXRNb2RlbEFzc2lnbmVyKHZub2RlKTtcbiAgfSxcbiAgdXBkYXRlZChlbCwgeyB2YWx1ZSwgbW9kaWZpZXJzOiB7IG51bWJlciB9IH0pIHtcbiAgICBpZiAoIWVsLl9hc3NpZ25pbmcpIHtcbiAgICAgIHNldFNlbGVjdGVkKGVsLCB2YWx1ZSk7XG4gICAgfVxuICB9XG59O1xuZnVuY3Rpb24gc2V0U2VsZWN0ZWQoZWwsIHZhbHVlLCBudW1iZXIpIHtcbiAgY29uc3QgaXNNdWx0aXBsZSA9IGVsLm11bHRpcGxlO1xuICBjb25zdCBpc0FycmF5VmFsdWUgPSBpc0FycmF5KHZhbHVlKTtcbiAgaWYgKGlzTXVsdGlwbGUgJiYgIWlzQXJyYXlWYWx1ZSAmJiAhaXNTZXQodmFsdWUpKSB7XG4gICAgISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiB3YXJuKFxuICAgICAgYDxzZWxlY3QgbXVsdGlwbGUgdi1tb2RlbD4gZXhwZWN0cyBhbiBBcnJheSBvciBTZXQgdmFsdWUgZm9yIGl0cyBiaW5kaW5nLCBidXQgZ290ICR7T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKS5zbGljZSg4LCAtMSl9LmBcbiAgICApO1xuICAgIHJldHVybjtcbiAgfVxuICBmb3IgKGxldCBpID0gMCwgbCA9IGVsLm9wdGlvbnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgY29uc3Qgb3B0aW9uID0gZWwub3B0aW9uc1tpXTtcbiAgICBjb25zdCBvcHRpb25WYWx1ZSA9IGdldFZhbHVlKG9wdGlvbik7XG4gICAgaWYgKGlzTXVsdGlwbGUpIHtcbiAgICAgIGlmIChpc0FycmF5VmFsdWUpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9uVHlwZSA9IHR5cGVvZiBvcHRpb25WYWx1ZTtcbiAgICAgICAgaWYgKG9wdGlvblR5cGUgPT09IFwic3RyaW5nXCIgfHwgb3B0aW9uVHlwZSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IHZhbHVlLnNvbWUoKHYpID0+IFN0cmluZyh2KSA9PT0gU3RyaW5nKG9wdGlvblZhbHVlKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb3B0aW9uLnNlbGVjdGVkID0gbG9vc2VJbmRleE9mKHZhbHVlLCBvcHRpb25WYWx1ZSkgPiAtMTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3B0aW9uLnNlbGVjdGVkID0gdmFsdWUuaGFzKG9wdGlvblZhbHVlKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGxvb3NlRXF1YWwoZ2V0VmFsdWUob3B0aW9uKSwgdmFsdWUpKSB7XG4gICAgICBpZiAoZWwuc2VsZWN0ZWRJbmRleCAhPT0gaSkgZWwuc2VsZWN0ZWRJbmRleCA9IGk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG4gIGlmICghaXNNdWx0aXBsZSAmJiBlbC5zZWxlY3RlZEluZGV4ICE9PSAtMSkge1xuICAgIGVsLnNlbGVjdGVkSW5kZXggPSAtMTtcbiAgfVxufVxuZnVuY3Rpb24gZ2V0VmFsdWUoZWwpIHtcbiAgcmV0dXJuIFwiX3ZhbHVlXCIgaW4gZWwgPyBlbC5fdmFsdWUgOiBlbC52YWx1ZTtcbn1cbmZ1bmN0aW9uIGdldENoZWNrYm94VmFsdWUoZWwsIGNoZWNrZWQpIHtcbiAgY29uc3Qga2V5ID0gY2hlY2tlZCA/IFwiX3RydWVWYWx1ZVwiIDogXCJfZmFsc2VWYWx1ZVwiO1xuICByZXR1cm4ga2V5IGluIGVsID8gZWxba2V5XSA6IGNoZWNrZWQ7XG59XG5jb25zdCB2TW9kZWxEeW5hbWljID0ge1xuICBjcmVhdGVkKGVsLCBiaW5kaW5nLCB2bm9kZSkge1xuICAgIGNhbGxNb2RlbEhvb2soZWwsIGJpbmRpbmcsIHZub2RlLCBudWxsLCBcImNyZWF0ZWRcIik7XG4gIH0sXG4gIG1vdW50ZWQoZWwsIGJpbmRpbmcsIHZub2RlKSB7XG4gICAgY2FsbE1vZGVsSG9vayhlbCwgYmluZGluZywgdm5vZGUsIG51bGwsIFwibW91bnRlZFwiKTtcbiAgfSxcbiAgYmVmb3JlVXBkYXRlKGVsLCBiaW5kaW5nLCB2bm9kZSwgcHJldlZOb2RlKSB7XG4gICAgY2FsbE1vZGVsSG9vayhlbCwgYmluZGluZywgdm5vZGUsIHByZXZWTm9kZSwgXCJiZWZvcmVVcGRhdGVcIik7XG4gIH0sXG4gIHVwZGF0ZWQoZWwsIGJpbmRpbmcsIHZub2RlLCBwcmV2Vk5vZGUpIHtcbiAgICBjYWxsTW9kZWxIb29rKGVsLCBiaW5kaW5nLCB2bm9kZSwgcHJldlZOb2RlLCBcInVwZGF0ZWRcIik7XG4gIH1cbn07XG5mdW5jdGlvbiByZXNvbHZlRHluYW1pY01vZGVsKHRhZ05hbWUsIHR5cGUpIHtcbiAgc3dpdGNoICh0YWdOYW1lKSB7XG4gICAgY2FzZSBcIlNFTEVDVFwiOlxuICAgICAgcmV0dXJuIHZNb2RlbFNlbGVjdDtcbiAgICBjYXNlIFwiVEVYVEFSRUFcIjpcbiAgICAgIHJldHVybiB2TW9kZWxUZXh0O1xuICAgIGRlZmF1bHQ6XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBcImNoZWNrYm94XCI6XG4gICAgICAgICAgcmV0dXJuIHZNb2RlbENoZWNrYm94O1xuICAgICAgICBjYXNlIFwicmFkaW9cIjpcbiAgICAgICAgICByZXR1cm4gdk1vZGVsUmFkaW87XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIHZNb2RlbFRleHQ7XG4gICAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGNhbGxNb2RlbEhvb2soZWwsIGJpbmRpbmcsIHZub2RlLCBwcmV2Vk5vZGUsIGhvb2spIHtcbiAgY29uc3QgbW9kZWxUb1VzZSA9IHJlc29sdmVEeW5hbWljTW9kZWwoXG4gICAgZWwudGFnTmFtZSxcbiAgICB2bm9kZS5wcm9wcyAmJiB2bm9kZS5wcm9wcy50eXBlXG4gICk7XG4gIGNvbnN0IGZuID0gbW9kZWxUb1VzZVtob29rXTtcbiAgZm4gJiYgZm4oZWwsIGJpbmRpbmcsIHZub2RlLCBwcmV2Vk5vZGUpO1xufVxuZnVuY3Rpb24gaW5pdFZNb2RlbEZvclNTUigpIHtcbiAgdk1vZGVsVGV4dC5nZXRTU1JQcm9wcyA9ICh7IHZhbHVlIH0pID0+ICh7IHZhbHVlIH0pO1xuICB2TW9kZWxSYWRpby5nZXRTU1JQcm9wcyA9ICh7IHZhbHVlIH0sIHZub2RlKSA9PiB7XG4gICAgaWYgKHZub2RlLnByb3BzICYmIGxvb3NlRXF1YWwodm5vZGUucHJvcHMudmFsdWUsIHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHsgY2hlY2tlZDogdHJ1ZSB9O1xuICAgIH1cbiAgfTtcbiAgdk1vZGVsQ2hlY2tib3guZ2V0U1NSUHJvcHMgPSAoeyB2YWx1ZSB9LCB2bm9kZSkgPT4ge1xuICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgaWYgKHZub2RlLnByb3BzICYmIGxvb3NlSW5kZXhPZih2YWx1ZSwgdm5vZGUucHJvcHMudmFsdWUpID4gLTEpIHtcbiAgICAgICAgcmV0dXJuIHsgY2hlY2tlZDogdHJ1ZSB9O1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaXNTZXQodmFsdWUpKSB7XG4gICAgICBpZiAodm5vZGUucHJvcHMgJiYgdmFsdWUuaGFzKHZub2RlLnByb3BzLnZhbHVlKSkge1xuICAgICAgICByZXR1cm4geyBjaGVja2VkOiB0cnVlIH07XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHsgY2hlY2tlZDogdHJ1ZSB9O1xuICAgIH1cbiAgfTtcbiAgdk1vZGVsRHluYW1pYy5nZXRTU1JQcm9wcyA9IChiaW5kaW5nLCB2bm9kZSkgPT4ge1xuICAgIGlmICh0eXBlb2Ygdm5vZGUudHlwZSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBtb2RlbFRvVXNlID0gcmVzb2x2ZUR5bmFtaWNNb2RlbChcbiAgICAgIC8vIHJlc29sdmVEeW5hbWljTW9kZWwgZXhwZWN0cyBhbiB1cHBlcmNhc2UgdGFnIG5hbWUsIGJ1dCB2bm9kZS50eXBlIGlzIGxvd2VyY2FzZVxuICAgICAgdm5vZGUudHlwZS50b1VwcGVyQ2FzZSgpLFxuICAgICAgdm5vZGUucHJvcHMgJiYgdm5vZGUucHJvcHMudHlwZVxuICAgICk7XG4gICAgaWYgKG1vZGVsVG9Vc2UuZ2V0U1NSUHJvcHMpIHtcbiAgICAgIHJldHVybiBtb2RlbFRvVXNlLmdldFNTUlByb3BzKGJpbmRpbmcsIHZub2RlKTtcbiAgICB9XG4gIH07XG59XG5cbmNvbnN0IHN5c3RlbU1vZGlmaWVycyA9IFtcImN0cmxcIiwgXCJzaGlmdFwiLCBcImFsdFwiLCBcIm1ldGFcIl07XG5jb25zdCBtb2RpZmllckd1YXJkcyA9IHtcbiAgc3RvcDogKGUpID0+IGUuc3RvcFByb3BhZ2F0aW9uKCksXG4gIHByZXZlbnQ6IChlKSA9PiBlLnByZXZlbnREZWZhdWx0KCksXG4gIHNlbGY6IChlKSA9PiBlLnRhcmdldCAhPT0gZS5jdXJyZW50VGFyZ2V0LFxuICBjdHJsOiAoZSkgPT4gIWUuY3RybEtleSxcbiAgc2hpZnQ6IChlKSA9PiAhZS5zaGlmdEtleSxcbiAgYWx0OiAoZSkgPT4gIWUuYWx0S2V5LFxuICBtZXRhOiAoZSkgPT4gIWUubWV0YUtleSxcbiAgbGVmdDogKGUpID0+IFwiYnV0dG9uXCIgaW4gZSAmJiBlLmJ1dHRvbiAhPT0gMCxcbiAgbWlkZGxlOiAoZSkgPT4gXCJidXR0b25cIiBpbiBlICYmIGUuYnV0dG9uICE9PSAxLFxuICByaWdodDogKGUpID0+IFwiYnV0dG9uXCIgaW4gZSAmJiBlLmJ1dHRvbiAhPT0gMixcbiAgZXhhY3Q6IChlLCBtb2RpZmllcnMpID0+IHN5c3RlbU1vZGlmaWVycy5zb21lKChtKSA9PiBlW2Ake219S2V5YF0gJiYgIW1vZGlmaWVycy5pbmNsdWRlcyhtKSlcbn07XG5jb25zdCB3aXRoTW9kaWZpZXJzID0gKGZuLCBtb2RpZmllcnMpID0+IHtcbiAgY29uc3QgY2FjaGUgPSBmbi5fd2l0aE1vZHMgfHwgKGZuLl93aXRoTW9kcyA9IHt9KTtcbiAgY29uc3QgY2FjaGVLZXkgPSBtb2RpZmllcnMuam9pbihcIi5cIik7XG4gIHJldHVybiBjYWNoZVtjYWNoZUtleV0gfHwgKGNhY2hlW2NhY2hlS2V5XSA9IChldmVudCwgLi4uYXJncykgPT4ge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbW9kaWZpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBndWFyZCA9IG1vZGlmaWVyR3VhcmRzW21vZGlmaWVyc1tpXV07XG4gICAgICBpZiAoZ3VhcmQgJiYgZ3VhcmQoZXZlbnQsIG1vZGlmaWVycykpIHJldHVybjtcbiAgICB9XG4gICAgcmV0dXJuIGZuKGV2ZW50LCAuLi5hcmdzKTtcbiAgfSk7XG59O1xuY29uc3Qga2V5TmFtZXMgPSB7XG4gIGVzYzogXCJlc2NhcGVcIixcbiAgc3BhY2U6IFwiIFwiLFxuICB1cDogXCJhcnJvdy11cFwiLFxuICBsZWZ0OiBcImFycm93LWxlZnRcIixcbiAgcmlnaHQ6IFwiYXJyb3ctcmlnaHRcIixcbiAgZG93bjogXCJhcnJvdy1kb3duXCIsXG4gIGRlbGV0ZTogXCJiYWNrc3BhY2VcIlxufTtcbmNvbnN0IHdpdGhLZXlzID0gKGZuLCBtb2RpZmllcnMpID0+IHtcbiAgY29uc3QgY2FjaGUgPSBmbi5fd2l0aEtleXMgfHwgKGZuLl93aXRoS2V5cyA9IHt9KTtcbiAgY29uc3QgY2FjaGVLZXkgPSBtb2RpZmllcnMuam9pbihcIi5cIik7XG4gIHJldHVybiBjYWNoZVtjYWNoZUtleV0gfHwgKGNhY2hlW2NhY2hlS2V5XSA9IChldmVudCkgPT4ge1xuICAgIGlmICghKFwia2V5XCIgaW4gZXZlbnQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGV2ZW50S2V5ID0gaHlwaGVuYXRlKGV2ZW50LmtleSk7XG4gICAgaWYgKG1vZGlmaWVycy5zb21lKChrKSA9PiBrID09PSBldmVudEtleSB8fCBrZXlOYW1lc1trXSA9PT0gZXZlbnRLZXkpKSB7XG4gICAgICByZXR1cm4gZm4oZXZlbnQpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5jb25zdCByZW5kZXJlck9wdGlvbnMgPSAvKiBAX19QVVJFX18gKi8gZXh0ZW5kKHsgcGF0Y2hQcm9wIH0sIG5vZGVPcHMpO1xubGV0IHJlbmRlcmVyO1xubGV0IGVuYWJsZWRIeWRyYXRpb24gPSBmYWxzZTtcbmZ1bmN0aW9uIGVuc3VyZVJlbmRlcmVyKCkge1xuICByZXR1cm4gcmVuZGVyZXIgfHwgKHJlbmRlcmVyID0gY3JlYXRlUmVuZGVyZXIocmVuZGVyZXJPcHRpb25zKSk7XG59XG5mdW5jdGlvbiBlbnN1cmVIeWRyYXRpb25SZW5kZXJlcigpIHtcbiAgcmVuZGVyZXIgPSBlbmFibGVkSHlkcmF0aW9uID8gcmVuZGVyZXIgOiBjcmVhdGVIeWRyYXRpb25SZW5kZXJlcihyZW5kZXJlck9wdGlvbnMpO1xuICBlbmFibGVkSHlkcmF0aW9uID0gdHJ1ZTtcbiAgcmV0dXJuIHJlbmRlcmVyO1xufVxuY29uc3QgcmVuZGVyID0gKC4uLmFyZ3MpID0+IHtcbiAgZW5zdXJlUmVuZGVyZXIoKS5yZW5kZXIoLi4uYXJncyk7XG59O1xuY29uc3QgaHlkcmF0ZSA9ICguLi5hcmdzKSA9PiB7XG4gIGVuc3VyZUh5ZHJhdGlvblJlbmRlcmVyKCkuaHlkcmF0ZSguLi5hcmdzKTtcbn07XG5jb25zdCBjcmVhdGVBcHAgPSAoLi4uYXJncykgPT4ge1xuICBjb25zdCBhcHAgPSBlbnN1cmVSZW5kZXJlcigpLmNyZWF0ZUFwcCguLi5hcmdzKTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBpbmplY3ROYXRpdmVUYWdDaGVjayhhcHApO1xuICAgIGluamVjdENvbXBpbGVyT3B0aW9uc0NoZWNrKGFwcCk7XG4gIH1cbiAgY29uc3QgeyBtb3VudCB9ID0gYXBwO1xuICBhcHAubW91bnQgPSAoY29udGFpbmVyT3JTZWxlY3RvcikgPT4ge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IG5vcm1hbGl6ZUNvbnRhaW5lcihjb250YWluZXJPclNlbGVjdG9yKTtcbiAgICBpZiAoIWNvbnRhaW5lcikgcmV0dXJuO1xuICAgIGNvbnN0IGNvbXBvbmVudCA9IGFwcC5fY29tcG9uZW50O1xuICAgIGlmICghaXNGdW5jdGlvbihjb21wb25lbnQpICYmICFjb21wb25lbnQucmVuZGVyICYmICFjb21wb25lbnQudGVtcGxhdGUpIHtcbiAgICAgIGNvbXBvbmVudC50ZW1wbGF0ZSA9IGNvbnRhaW5lci5pbm5lckhUTUw7XG4gICAgfVxuICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiO1xuICAgIGNvbnN0IHByb3h5ID0gbW91bnQoY29udGFpbmVyLCBmYWxzZSwgcmVzb2x2ZVJvb3ROYW1lc3BhY2UoY29udGFpbmVyKSk7XG4gICAgaWYgKGNvbnRhaW5lciBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcbiAgICAgIGNvbnRhaW5lci5yZW1vdmVBdHRyaWJ1dGUoXCJ2LWNsb2FrXCIpO1xuICAgICAgY29udGFpbmVyLnNldEF0dHJpYnV0ZShcImRhdGEtdi1hcHBcIiwgXCJcIik7XG4gICAgfVxuICAgIHJldHVybiBwcm94eTtcbiAgfTtcbiAgcmV0dXJuIGFwcDtcbn07XG5jb25zdCBjcmVhdGVTU1JBcHAgPSAoLi4uYXJncykgPT4ge1xuICBjb25zdCBhcHAgPSBlbnN1cmVIeWRyYXRpb25SZW5kZXJlcigpLmNyZWF0ZUFwcCguLi5hcmdzKTtcbiAgaWYgKCEhKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikpIHtcbiAgICBpbmplY3ROYXRpdmVUYWdDaGVjayhhcHApO1xuICAgIGluamVjdENvbXBpbGVyT3B0aW9uc0NoZWNrKGFwcCk7XG4gIH1cbiAgY29uc3QgeyBtb3VudCB9ID0gYXBwO1xuICBhcHAubW91bnQgPSAoY29udGFpbmVyT3JTZWxlY3RvcikgPT4ge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IG5vcm1hbGl6ZUNvbnRhaW5lcihjb250YWluZXJPclNlbGVjdG9yKTtcbiAgICBpZiAoY29udGFpbmVyKSB7XG4gICAgICByZXR1cm4gbW91bnQoY29udGFpbmVyLCB0cnVlLCByZXNvbHZlUm9vdE5hbWVzcGFjZShjb250YWluZXIpKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiBhcHA7XG59O1xuZnVuY3Rpb24gcmVzb2x2ZVJvb3ROYW1lc3BhY2UoY29udGFpbmVyKSB7XG4gIGlmIChjb250YWluZXIgaW5zdGFuY2VvZiBTVkdFbGVtZW50KSB7XG4gICAgcmV0dXJuIFwic3ZnXCI7XG4gIH1cbiAgaWYgKHR5cGVvZiBNYXRoTUxFbGVtZW50ID09PSBcImZ1bmN0aW9uXCIgJiYgY29udGFpbmVyIGluc3RhbmNlb2YgTWF0aE1MRWxlbWVudCkge1xuICAgIHJldHVybiBcIm1hdGhtbFwiO1xuICB9XG59XG5mdW5jdGlvbiBpbmplY3ROYXRpdmVUYWdDaGVjayhhcHApIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGFwcC5jb25maWcsIFwiaXNOYXRpdmVUYWdcIiwge1xuICAgIHZhbHVlOiAodGFnKSA9PiBpc0hUTUxUYWcodGFnKSB8fCBpc1NWR1RhZyh0YWcpIHx8IGlzTWF0aE1MVGFnKHRhZyksXG4gICAgd3JpdGFibGU6IGZhbHNlXG4gIH0pO1xufVxuZnVuY3Rpb24gaW5qZWN0Q29tcGlsZXJPcHRpb25zQ2hlY2soYXBwKSB7XG4gIGlmIChpc1J1bnRpbWVPbmx5KCkpIHtcbiAgICBjb25zdCBpc0N1c3RvbUVsZW1lbnQgPSBhcHAuY29uZmlnLmlzQ3VzdG9tRWxlbWVudDtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoYXBwLmNvbmZpZywgXCJpc0N1c3RvbUVsZW1lbnRcIiwge1xuICAgICAgZ2V0KCkge1xuICAgICAgICByZXR1cm4gaXNDdXN0b21FbGVtZW50O1xuICAgICAgfSxcbiAgICAgIHNldCgpIHtcbiAgICAgICAgd2FybihcbiAgICAgICAgICBgVGhlIFxcYGlzQ3VzdG9tRWxlbWVudFxcYCBjb25maWcgb3B0aW9uIGlzIGRlcHJlY2F0ZWQuIFVzZSBcXGBjb21waWxlck9wdGlvbnMuaXNDdXN0b21FbGVtZW50XFxgIGluc3RlYWQuYFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IGNvbXBpbGVyT3B0aW9ucyA9IGFwcC5jb25maWcuY29tcGlsZXJPcHRpb25zO1xuICAgIGNvbnN0IG1zZyA9IGBUaGUgXFxgY29tcGlsZXJPcHRpb25zXFxgIGNvbmZpZyBvcHRpb24gaXMgb25seSByZXNwZWN0ZWQgd2hlbiB1c2luZyBhIGJ1aWxkIG9mIFZ1ZS5qcyB0aGF0IGluY2x1ZGVzIHRoZSBydW50aW1lIGNvbXBpbGVyIChha2EgXCJmdWxsIGJ1aWxkXCIpLiBTaW5jZSB5b3UgYXJlIHVzaW5nIHRoZSBydW50aW1lLW9ubHkgYnVpbGQsIFxcYGNvbXBpbGVyT3B0aW9uc1xcYCBtdXN0IGJlIHBhc3NlZCB0byBcXGBAdnVlL2NvbXBpbGVyLWRvbVxcYCBpbiB0aGUgYnVpbGQgc2V0dXAgaW5zdGVhZC5cbi0gRm9yIHZ1ZS1sb2FkZXI6IHBhc3MgaXQgdmlhIHZ1ZS1sb2FkZXIncyBcXGBjb21waWxlck9wdGlvbnNcXGAgbG9hZGVyIG9wdGlvbi5cbi0gRm9yIHZ1ZS1jbGk6IHNlZSBodHRwczovL2NsaS52dWVqcy5vcmcvZ3VpZGUvd2VicGFjay5odG1sI21vZGlmeWluZy1vcHRpb25zLW9mLWEtbG9hZGVyXG4tIEZvciB2aXRlOiBwYXNzIGl0IHZpYSBAdml0ZWpzL3BsdWdpbi12dWUgb3B0aW9ucy4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS92aXRlanMvdml0ZS1wbHVnaW4tdnVlL3RyZWUvbWFpbi9wYWNrYWdlcy9wbHVnaW4tdnVlI2V4YW1wbGUtZm9yLXBhc3Npbmctb3B0aW9ucy10by12dWVjb21waWxlci1zZmNgO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhcHAuY29uZmlnLCBcImNvbXBpbGVyT3B0aW9uc1wiLCB7XG4gICAgICBnZXQoKSB7XG4gICAgICAgIHdhcm4obXNnKTtcbiAgICAgICAgcmV0dXJuIGNvbXBpbGVyT3B0aW9ucztcbiAgICAgIH0sXG4gICAgICBzZXQoKSB7XG4gICAgICAgIHdhcm4obXNnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuZnVuY3Rpb24gbm9ybWFsaXplQ29udGFpbmVyKGNvbnRhaW5lcikge1xuICBpZiAoaXNTdHJpbmcoY29udGFpbmVyKSkge1xuICAgIGNvbnN0IHJlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyKTtcbiAgICBpZiAoISEocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSAmJiAhcmVzKSB7XG4gICAgICB3YXJuKFxuICAgICAgICBgRmFpbGVkIHRvIG1vdW50IGFwcDogbW91bnQgdGFyZ2V0IHNlbGVjdG9yIFwiJHtjb250YWluZXJ9XCIgcmV0dXJuZWQgbnVsbC5gXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xuICB9XG4gIGlmICghIShwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpICYmIHdpbmRvdy5TaGFkb3dSb290ICYmIGNvbnRhaW5lciBpbnN0YW5jZW9mIHdpbmRvdy5TaGFkb3dSb290ICYmIGNvbnRhaW5lci5tb2RlID09PSBcImNsb3NlZFwiKSB7XG4gICAgd2FybihcbiAgICAgIGBtb3VudGluZyBvbiBhIFNoYWRvd1Jvb3Qgd2l0aCBcXGB7bW9kZTogXCJjbG9zZWRcIn1cXGAgbWF5IGxlYWQgdG8gdW5wcmVkaWN0YWJsZSBidWdzYFxuICAgICk7XG4gIH1cbiAgcmV0dXJuIGNvbnRhaW5lcjtcbn1cbmxldCBzc3JEaXJlY3RpdmVJbml0aWFsaXplZCA9IGZhbHNlO1xuY29uc3QgaW5pdERpcmVjdGl2ZXNGb3JTU1IgPSAoKSA9PiB7XG4gIGlmICghc3NyRGlyZWN0aXZlSW5pdGlhbGl6ZWQpIHtcbiAgICBzc3JEaXJlY3RpdmVJbml0aWFsaXplZCA9IHRydWU7XG4gICAgaW5pdFZNb2RlbEZvclNTUigpO1xuICAgIGluaXRWU2hvd0ZvclNTUigpO1xuICB9XG59IDtcblxuZXhwb3J0IHsgVHJhbnNpdGlvbiwgVHJhbnNpdGlvbkdyb3VwLCBWdWVFbGVtZW50LCBjcmVhdGVBcHAsIGNyZWF0ZVNTUkFwcCwgZGVmaW5lQ3VzdG9tRWxlbWVudCwgZGVmaW5lU1NSQ3VzdG9tRWxlbWVudCwgaHlkcmF0ZSwgaW5pdERpcmVjdGl2ZXNGb3JTU1IsIHJlbmRlciwgdXNlQ3NzTW9kdWxlLCB1c2VDc3NWYXJzLCB2TW9kZWxDaGVja2JveCwgdk1vZGVsRHluYW1pYywgdk1vZGVsUmFkaW8sIHZNb2RlbFNlbGVjdCwgdk1vZGVsVGV4dCwgdlNob3csIHdpdGhLZXlzLCB3aXRoTW9kaWZpZXJzIH07XG4iLCIvKipcbiAqIFZhbGlkYXRlIGEgbmFtZXNwYWNlIHN0cmluZy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZXNwYWNlIFRoZSBuYW1lc3BhY2UgdG8gdmFsaWRhdGUgLSBzaG91bGQgdGFrZSB0aGUgZm9ybVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICBgdmVuZG9yL3BsdWdpbi9mdW5jdGlvbmAuXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgbmFtZXNwYWNlIGlzIHZhbGlkLlxuICovXG5mdW5jdGlvbiB2YWxpZGF0ZU5hbWVzcGFjZShuYW1lc3BhY2UpIHtcbiAgaWYgKCdzdHJpbmcnICE9PSB0eXBlb2YgbmFtZXNwYWNlIHx8ICcnID09PSBuYW1lc3BhY2UpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgIGNvbnNvbGUuZXJyb3IoJ1RoZSBuYW1lc3BhY2UgbXVzdCBiZSBhIG5vbi1lbXB0eSBzdHJpbmcuJyk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmICghL15bYS16QS1aXVthLXpBLVowLTlfLlxcLVxcL10qJC8udGVzdChuYW1lc3BhY2UpKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICBjb25zb2xlLmVycm9yKCdUaGUgbmFtZXNwYWNlIGNhbiBvbmx5IGNvbnRhaW4gbnVtYmVycywgbGV0dGVycywgZGFzaGVzLCBwZXJpb2RzLCB1bmRlcnNjb3JlcyBhbmQgc2xhc2hlcy4nKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5leHBvcnQgZGVmYXVsdCB2YWxpZGF0ZU5hbWVzcGFjZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZhbGlkYXRlTmFtZXNwYWNlLmpzLm1hcCIsIi8qKlxuICogVmFsaWRhdGUgYSBob29rTmFtZSBzdHJpbmcuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGhvb2tOYW1lIFRoZSBob29rIG5hbWUgdG8gdmFsaWRhdGUuIFNob3VsZCBiZSBhIG5vbiBlbXB0eSBzdHJpbmcgY29udGFpbmluZ1xuICogICAgICAgICAgICAgICAgICAgICAgICAgIG9ubHkgbnVtYmVycywgbGV0dGVycywgZGFzaGVzLCBwZXJpb2RzIGFuZCB1bmRlcnNjb3Jlcy4gQWxzbyxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICB0aGUgaG9vayBuYW1lIGNhbm5vdCBiZWdpbiB3aXRoIGBfX2AuXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgaG9vayBuYW1lIGlzIHZhbGlkLlxuICovXG5mdW5jdGlvbiB2YWxpZGF0ZUhvb2tOYW1lKGhvb2tOYW1lKSB7XG4gIGlmICgnc3RyaW5nJyAhPT0gdHlwZW9mIGhvb2tOYW1lIHx8ICcnID09PSBob29rTmFtZSkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgY29uc29sZS5lcnJvcignVGhlIGhvb2sgbmFtZSBtdXN0IGJlIGEgbm9uLWVtcHR5IHN0cmluZy4nKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKC9eX18vLnRlc3QoaG9va05hbWUpKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICBjb25zb2xlLmVycm9yKCdUaGUgaG9vayBuYW1lIGNhbm5vdCBiZWdpbiB3aXRoIGBfX2AuJyk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmICghL15bYS16QS1aXVthLXpBLVowLTlfLi1dKiQvLnRlc3QoaG9va05hbWUpKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICBjb25zb2xlLmVycm9yKCdUaGUgaG9vayBuYW1lIGNhbiBvbmx5IGNvbnRhaW4gbnVtYmVycywgbGV0dGVycywgZGFzaGVzLCBwZXJpb2RzIGFuZCB1bmRlcnNjb3Jlcy4nKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5leHBvcnQgZGVmYXVsdCB2YWxpZGF0ZUhvb2tOYW1lO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmFsaWRhdGVIb29rTmFtZS5qcy5tYXAiLCIvKipcbiAqIEludGVybmFsIGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgdmFsaWRhdGVOYW1lc3BhY2UgZnJvbSAnLi92YWxpZGF0ZU5hbWVzcGFjZS5qcyc7XG5pbXBvcnQgdmFsaWRhdGVIb29rTmFtZSBmcm9tICcuL3ZhbGlkYXRlSG9va05hbWUuanMnO1xuXG4vKipcbiAqIEBjYWxsYmFjayBBZGRIb29rXG4gKlxuICogQWRkcyB0aGUgaG9vayB0byB0aGUgYXBwcm9wcmlhdGUgaG9va3MgY29udGFpbmVyLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSAgICAgICAgICAgICAgIGhvb2tOYW1lICAgICAgTmFtZSBvZiBob29rIHRvIGFkZFxuICogQHBhcmFtIHtzdHJpbmd9ICAgICAgICAgICAgICAgbmFtZXNwYWNlICAgICBUaGUgdW5pcXVlIG5hbWVzcGFjZSBpZGVudGlmeWluZyB0aGUgY2FsbGJhY2sgaW4gdGhlIGZvcm0gYHZlbmRvci9wbHVnaW4vZnVuY3Rpb25gLlxuICogQHBhcmFtIHtpbXBvcnQoJy4nKS5DYWxsYmFja30gY2FsbGJhY2sgICAgICBGdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhlIGhvb2sgaXMgcnVuXG4gKiBAcGFyYW0ge251bWJlcn0gICAgICAgICAgICAgICBbcHJpb3JpdHk9MTBdIFByaW9yaXR5IG9mIHRoaXMgaG9va1xuICovXG5cbi8qKlxuICogUmV0dXJucyBhIGZ1bmN0aW9uIHdoaWNoLCB3aGVuIGludm9rZWQsIHdpbGwgYWRkIGEgaG9vay5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydCgnLicpLkhvb2tzfSAgICBob29rcyAgICBIb29rcyBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7aW1wb3J0KCcuJykuU3RvcmVLZXl9IHN0b3JlS2V5XG4gKlxuICogQHJldHVybiB7QWRkSG9va30gRnVuY3Rpb24gdGhhdCBhZGRzIGEgbmV3IGhvb2suXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUFkZEhvb2soaG9va3MsIHN0b3JlS2V5KSB7XG4gIHJldHVybiBmdW5jdGlvbiBhZGRIb29rKGhvb2tOYW1lLCBuYW1lc3BhY2UsIGNhbGxiYWNrLCBwcmlvcml0eSA9IDEwKSB7XG4gICAgY29uc3QgaG9va3NTdG9yZSA9IGhvb2tzW3N0b3JlS2V5XTtcbiAgICBpZiAoIXZhbGlkYXRlSG9va05hbWUoaG9va05hbWUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghdmFsaWRhdGVOYW1lc3BhY2UobmFtZXNwYWNlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoJ2Z1bmN0aW9uJyAhPT0gdHlwZW9mIGNhbGxiYWNrKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgY29uc29sZS5lcnJvcignVGhlIGhvb2sgY2FsbGJhY2sgbXVzdCBiZSBhIGZ1bmN0aW9uLicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIG51bWVyaWMgcHJpb3JpdHlcbiAgICBpZiAoJ251bWJlcicgIT09IHR5cGVvZiBwcmlvcml0eSkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0lmIHNwZWNpZmllZCwgdGhlIGhvb2sgcHJpb3JpdHkgbXVzdCBiZSBhIG51bWJlci4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgaGFuZGxlciA9IHtcbiAgICAgIGNhbGxiYWNrLFxuICAgICAgcHJpb3JpdHksXG4gICAgICBuYW1lc3BhY2VcbiAgICB9O1xuICAgIGlmIChob29rc1N0b3JlW2hvb2tOYW1lXSkge1xuICAgICAgLy8gRmluZCB0aGUgY29ycmVjdCBpbnNlcnQgaW5kZXggb2YgdGhlIG5ldyBob29rLlxuICAgICAgY29uc3QgaGFuZGxlcnMgPSBob29rc1N0b3JlW2hvb2tOYW1lXS5oYW5kbGVycztcblxuICAgICAgLyoqIEB0eXBlIHtudW1iZXJ9ICovXG4gICAgICBsZXQgaTtcbiAgICAgIGZvciAoaSA9IGhhbmRsZXJzLmxlbmd0aDsgaSA+IDA7IGktLSkge1xuICAgICAgICBpZiAocHJpb3JpdHkgPj0gaGFuZGxlcnNbaSAtIDFdLnByaW9yaXR5KSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChpID09PSBoYW5kbGVycy5sZW5ndGgpIHtcbiAgICAgICAgLy8gSWYgYXBwZW5kLCBvcGVyYXRlIHZpYSBkaXJlY3QgYXNzaWdubWVudC5cbiAgICAgICAgaGFuZGxlcnNbaV0gPSBoYW5kbGVyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gT3RoZXJ3aXNlLCBpbnNlcnQgYmVmb3JlIGluZGV4IHZpYSBzcGxpY2UuXG4gICAgICAgIGhhbmRsZXJzLnNwbGljZShpLCAwLCBoYW5kbGVyKTtcbiAgICAgIH1cblxuICAgICAgLy8gV2UgbWF5IGFsc28gYmUgY3VycmVudGx5IGV4ZWN1dGluZyB0aGlzIGhvb2suICBJZiB0aGUgY2FsbGJhY2tcbiAgICAgIC8vIHdlJ3JlIGFkZGluZyB3b3VsZCBjb21lIGFmdGVyIHRoZSBjdXJyZW50IGNhbGxiYWNrLCB0aGVyZSdzIG5vXG4gICAgICAvLyBwcm9ibGVtOyBvdGhlcndpc2Ugd2UgbmVlZCB0byBpbmNyZWFzZSB0aGUgZXhlY3V0aW9uIGluZGV4IG9mXG4gICAgICAvLyBhbnkgb3RoZXIgcnVucyBieSAxIHRvIGFjY291bnQgZm9yIHRoZSBhZGRlZCBlbGVtZW50LlxuICAgICAgaG9va3NTdG9yZS5fX2N1cnJlbnQuZm9yRWFjaChob29rSW5mbyA9PiB7XG4gICAgICAgIGlmIChob29rSW5mby5uYW1lID09PSBob29rTmFtZSAmJiBob29rSW5mby5jdXJyZW50SW5kZXggPj0gaSkge1xuICAgICAgICAgIGhvb2tJbmZvLmN1cnJlbnRJbmRleCsrO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVGhpcyBpcyB0aGUgZmlyc3QgaG9vayBvZiBpdHMgdHlwZS5cbiAgICAgIGhvb2tzU3RvcmVbaG9va05hbWVdID0ge1xuICAgICAgICBoYW5kbGVyczogW2hhbmRsZXJdLFxuICAgICAgICBydW5zOiAwXG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAoaG9va05hbWUgIT09ICdob29rQWRkZWQnKSB7XG4gICAgICBob29rcy5kb0FjdGlvbignaG9va0FkZGVkJywgaG9va05hbWUsIG5hbWVzcGFjZSwgY2FsbGJhY2ssIHByaW9yaXR5KTtcbiAgICB9XG4gIH07XG59XG5leHBvcnQgZGVmYXVsdCBjcmVhdGVBZGRIb29rO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3JlYXRlQWRkSG9vay5qcy5tYXAiLCIvKipcbiAqIEludGVybmFsIGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgdmFsaWRhdGVOYW1lc3BhY2UgZnJvbSAnLi92YWxpZGF0ZU5hbWVzcGFjZS5qcyc7XG5pbXBvcnQgdmFsaWRhdGVIb29rTmFtZSBmcm9tICcuL3ZhbGlkYXRlSG9va05hbWUuanMnO1xuXG4vKipcbiAqIEBjYWxsYmFjayBSZW1vdmVIb29rXG4gKiBSZW1vdmVzIHRoZSBzcGVjaWZpZWQgY2FsbGJhY2sgKG9yIGFsbCBjYWxsYmFja3MpIGZyb20gdGhlIGhvb2sgd2l0aCBhIGdpdmVuIGhvb2tOYW1lXG4gKiBhbmQgbmFtZXNwYWNlLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBob29rTmFtZSAgVGhlIG5hbWUgb2YgdGhlIGhvb2sgdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVzcGFjZSBUaGUgdW5pcXVlIG5hbWVzcGFjZSBpZGVudGlmeWluZyB0aGUgY2FsbGJhY2sgaW4gdGhlXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm0gYHZlbmRvci9wbHVnaW4vZnVuY3Rpb25gLlxuICpcbiAqIEByZXR1cm4ge251bWJlciB8IHVuZGVmaW5lZH0gVGhlIG51bWJlciBvZiBjYWxsYmFja3MgcmVtb3ZlZC5cbiAqL1xuXG4vKipcbiAqIFJldHVybnMgYSBmdW5jdGlvbiB3aGljaCwgd2hlbiBpbnZva2VkLCB3aWxsIHJlbW92ZSBhIHNwZWNpZmllZCBob29rIG9yIGFsbFxuICogaG9va3MgYnkgdGhlIGdpdmVuIG5hbWUuXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoJy4nKS5Ib29rc30gICAgaG9va3MgICAgICAgICAgICAgSG9va3MgaW5zdGFuY2UuXG4gKiBAcGFyYW0ge2ltcG9ydCgnLicpLlN0b3JlS2V5fSBzdG9yZUtleVxuICogQHBhcmFtIHtib29sZWFufSAgICAgICAgICAgICAgW3JlbW92ZUFsbD1mYWxzZV0gV2hldGhlciB0byByZW1vdmUgYWxsIGNhbGxiYWNrcyBmb3IgYSBob29rTmFtZSxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpdGhvdXQgcmVnYXJkIHRvIG5hbWVzcGFjZS4gVXNlZCB0byBjcmVhdGVcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGByZW1vdmVBbGwqYCBmdW5jdGlvbnMuXG4gKlxuICogQHJldHVybiB7UmVtb3ZlSG9va30gRnVuY3Rpb24gdGhhdCByZW1vdmVzIGhvb2tzLlxuICovXG5mdW5jdGlvbiBjcmVhdGVSZW1vdmVIb29rKGhvb2tzLCBzdG9yZUtleSwgcmVtb3ZlQWxsID0gZmFsc2UpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIHJlbW92ZUhvb2soaG9va05hbWUsIG5hbWVzcGFjZSkge1xuICAgIGNvbnN0IGhvb2tzU3RvcmUgPSBob29rc1tzdG9yZUtleV07XG4gICAgaWYgKCF2YWxpZGF0ZUhvb2tOYW1lKGhvb2tOYW1lKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXJlbW92ZUFsbCAmJiAhdmFsaWRhdGVOYW1lc3BhY2UobmFtZXNwYWNlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEJhaWwgaWYgbm8gaG9va3MgZXhpc3QgYnkgdGhpcyBuYW1lLlxuICAgIGlmICghaG9va3NTdG9yZVtob29rTmFtZV0pIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBsZXQgaGFuZGxlcnNSZW1vdmVkID0gMDtcbiAgICBpZiAocmVtb3ZlQWxsKSB7XG4gICAgICBoYW5kbGVyc1JlbW92ZWQgPSBob29rc1N0b3JlW2hvb2tOYW1lXS5oYW5kbGVycy5sZW5ndGg7XG4gICAgICBob29rc1N0b3JlW2hvb2tOYW1lXSA9IHtcbiAgICAgICAgcnVuczogaG9va3NTdG9yZVtob29rTmFtZV0ucnVucyxcbiAgICAgICAgaGFuZGxlcnM6IFtdXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUcnkgdG8gZmluZCB0aGUgc3BlY2lmaWVkIGNhbGxiYWNrIHRvIHJlbW92ZS5cbiAgICAgIGNvbnN0IGhhbmRsZXJzID0gaG9va3NTdG9yZVtob29rTmFtZV0uaGFuZGxlcnM7XG4gICAgICBmb3IgKGxldCBpID0gaGFuZGxlcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgaWYgKGhhbmRsZXJzW2ldLm5hbWVzcGFjZSA9PT0gbmFtZXNwYWNlKSB7XG4gICAgICAgICAgaGFuZGxlcnMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgIGhhbmRsZXJzUmVtb3ZlZCsrO1xuICAgICAgICAgIC8vIFRoaXMgY2FsbGJhY2sgbWF5IGFsc28gYmUgcGFydCBvZiBhIGhvb2sgdGhhdCBpc1xuICAgICAgICAgIC8vIGN1cnJlbnRseSBleGVjdXRpbmcuICBJZiB0aGUgY2FsbGJhY2sgd2UncmUgcmVtb3ZpbmdcbiAgICAgICAgICAvLyBjb21lcyBhZnRlciB0aGUgY3VycmVudCBjYWxsYmFjaywgdGhlcmUncyBubyBwcm9ibGVtO1xuICAgICAgICAgIC8vIG90aGVyd2lzZSB3ZSBuZWVkIHRvIGRlY3JlYXNlIHRoZSBleGVjdXRpb24gaW5kZXggb2YgYW55XG4gICAgICAgICAgLy8gb3RoZXIgcnVucyBieSAxIHRvIGFjY291bnQgZm9yIHRoZSByZW1vdmVkIGVsZW1lbnQuXG4gICAgICAgICAgaG9va3NTdG9yZS5fX2N1cnJlbnQuZm9yRWFjaChob29rSW5mbyA9PiB7XG4gICAgICAgICAgICBpZiAoaG9va0luZm8ubmFtZSA9PT0gaG9va05hbWUgJiYgaG9va0luZm8uY3VycmVudEluZGV4ID49IGkpIHtcbiAgICAgICAgICAgICAgaG9va0luZm8uY3VycmVudEluZGV4LS07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGhvb2tOYW1lICE9PSAnaG9va1JlbW92ZWQnKSB7XG4gICAgICBob29rcy5kb0FjdGlvbignaG9va1JlbW92ZWQnLCBob29rTmFtZSwgbmFtZXNwYWNlKTtcbiAgICB9XG4gICAgcmV0dXJuIGhhbmRsZXJzUmVtb3ZlZDtcbiAgfTtcbn1cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZVJlbW92ZUhvb2s7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jcmVhdGVSZW1vdmVIb29rLmpzLm1hcCIsIi8qKlxuICogQGNhbGxiYWNrIEhhc0hvb2tcbiAqXG4gKiBSZXR1cm5zIHdoZXRoZXIgYW55IGhhbmRsZXJzIGFyZSBhdHRhY2hlZCBmb3IgdGhlIGdpdmVuIGhvb2tOYW1lIGFuZCBvcHRpb25hbCBuYW1lc3BhY2UuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGhvb2tOYW1lICAgIFRoZSBuYW1lIG9mIHRoZSBob29rIHRvIGNoZWNrIGZvci5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbbmFtZXNwYWNlXSBPcHRpb25hbC4gVGhlIHVuaXF1ZSBuYW1lc3BhY2UgaWRlbnRpZnlpbmcgdGhlIGNhbGxiYWNrXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW4gdGhlIGZvcm0gYHZlbmRvci9wbHVnaW4vZnVuY3Rpb25gLlxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlcmUgYXJlIGhhbmRsZXJzIHRoYXQgYXJlIGF0dGFjaGVkIHRvIHRoZSBnaXZlbiBob29rLlxuICovXG4vKipcbiAqIFJldHVybnMgYSBmdW5jdGlvbiB3aGljaCwgd2hlbiBpbnZva2VkLCB3aWxsIHJldHVybiB3aGV0aGVyIGFueSBoYW5kbGVycyBhcmVcbiAqIGF0dGFjaGVkIHRvIGEgcGFydGljdWxhciBob29rLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KCcuJykuSG9va3N9ICAgIGhvb2tzICAgIEhvb2tzIGluc3RhbmNlLlxuICogQHBhcmFtIHtpbXBvcnQoJy4nKS5TdG9yZUtleX0gc3RvcmVLZXlcbiAqXG4gKiBAcmV0dXJuIHtIYXNIb29rfSBGdW5jdGlvbiB0aGF0IHJldHVybnMgd2hldGhlciBhbnkgaGFuZGxlcnMgYXJlXG4gKiAgICAgICAgICAgICAgICAgICBhdHRhY2hlZCB0byBhIHBhcnRpY3VsYXIgaG9vayBhbmQgb3B0aW9uYWwgbmFtZXNwYWNlLlxuICovXG5mdW5jdGlvbiBjcmVhdGVIYXNIb29rKGhvb2tzLCBzdG9yZUtleSkge1xuICByZXR1cm4gZnVuY3Rpb24gaGFzSG9vayhob29rTmFtZSwgbmFtZXNwYWNlKSB7XG4gICAgY29uc3QgaG9va3NTdG9yZSA9IGhvb2tzW3N0b3JlS2V5XTtcblxuICAgIC8vIFVzZSB0aGUgbmFtZXNwYWNlIGlmIHByb3ZpZGVkLlxuICAgIGlmICgndW5kZWZpbmVkJyAhPT0gdHlwZW9mIG5hbWVzcGFjZSkge1xuICAgICAgcmV0dXJuIGhvb2tOYW1lIGluIGhvb2tzU3RvcmUgJiYgaG9va3NTdG9yZVtob29rTmFtZV0uaGFuZGxlcnMuc29tZShob29rID0+IGhvb2submFtZXNwYWNlID09PSBuYW1lc3BhY2UpO1xuICAgIH1cbiAgICByZXR1cm4gaG9va05hbWUgaW4gaG9va3NTdG9yZTtcbiAgfTtcbn1cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUhhc0hvb2s7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jcmVhdGVIYXNIb29rLmpzLm1hcCIsIi8qKlxuICogUmV0dXJucyBhIGZ1bmN0aW9uIHdoaWNoLCB3aGVuIGludm9rZWQsIHdpbGwgZXhlY3V0ZSBhbGwgY2FsbGJhY2tzXG4gKiByZWdpc3RlcmVkIHRvIGEgaG9vayBvZiB0aGUgc3BlY2lmaWVkIHR5cGUsIG9wdGlvbmFsbHkgcmV0dXJuaW5nIHRoZSBmaW5hbFxuICogdmFsdWUgb2YgdGhlIGNhbGwgY2hhaW4uXG4gKlxuICogQHBhcmFtIHtpbXBvcnQoJy4nKS5Ib29rc30gICAgaG9va3MgICAgICAgICAgICAgICAgICBIb29rcyBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7aW1wb3J0KCcuJykuU3RvcmVLZXl9IHN0b3JlS2V5XG4gKiBAcGFyYW0ge2Jvb2xlYW59ICAgICAgICAgICAgICBbcmV0dXJuRmlyc3RBcmc9ZmFsc2VdIFdoZXRoZXIgZWFjaCBob29rIGNhbGxiYWNrIGlzIGV4cGVjdGVkIHRvXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpdHMgZmlyc3QgYXJndW1lbnQuXG4gKlxuICogQHJldHVybiB7KGhvb2tOYW1lOnN0cmluZywgLi4uYXJnczogdW5rbm93bltdKSA9PiB1bmRlZmluZWR8dW5rbm93bn0gRnVuY3Rpb24gdGhhdCBydW5zIGhvb2sgY2FsbGJhY2tzLlxuICovXG5mdW5jdGlvbiBjcmVhdGVSdW5Ib29rKGhvb2tzLCBzdG9yZUtleSwgcmV0dXJuRmlyc3RBcmcgPSBmYWxzZSkge1xuICByZXR1cm4gZnVuY3Rpb24gcnVuSG9va3MoaG9va05hbWUsIC4uLmFyZ3MpIHtcbiAgICBjb25zdCBob29rc1N0b3JlID0gaG9va3Nbc3RvcmVLZXldO1xuICAgIGlmICghaG9va3NTdG9yZVtob29rTmFtZV0pIHtcbiAgICAgIGhvb2tzU3RvcmVbaG9va05hbWVdID0ge1xuICAgICAgICBoYW5kbGVyczogW10sXG4gICAgICAgIHJ1bnM6IDBcbiAgICAgIH07XG4gICAgfVxuICAgIGhvb2tzU3RvcmVbaG9va05hbWVdLnJ1bnMrKztcbiAgICBjb25zdCBoYW5kbGVycyA9IGhvb2tzU3RvcmVbaG9va05hbWVdLmhhbmRsZXJzO1xuXG4gICAgLy8gVGhlIGZvbGxvd2luZyBjb2RlIGlzIHN0cmlwcGVkIGZyb20gcHJvZHVjdGlvbiBidWlsZHMuXG4gICAgaWYgKCdwcm9kdWN0aW9uJyAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYpIHtcbiAgICAgIC8vIEhhbmRsZSBhbnkgJ2FsbCcgaG9va3MgcmVnaXN0ZXJlZC5cbiAgICAgIGlmICgnaG9va0FkZGVkJyAhPT0gaG9va05hbWUgJiYgaG9va3NTdG9yZS5hbGwpIHtcbiAgICAgICAgaGFuZGxlcnMucHVzaCguLi5ob29rc1N0b3JlLmFsbC5oYW5kbGVycyk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghaGFuZGxlcnMgfHwgIWhhbmRsZXJzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIHJldHVybkZpcnN0QXJnID8gYXJnc1swXSA6IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgY29uc3QgaG9va0luZm8gPSB7XG4gICAgICBuYW1lOiBob29rTmFtZSxcbiAgICAgIGN1cnJlbnRJbmRleDogMFxuICAgIH07XG4gICAgaG9va3NTdG9yZS5fX2N1cnJlbnQucHVzaChob29rSW5mbyk7XG4gICAgd2hpbGUgKGhvb2tJbmZvLmN1cnJlbnRJbmRleCA8IGhhbmRsZXJzLmxlbmd0aCkge1xuICAgICAgY29uc3QgaGFuZGxlciA9IGhhbmRsZXJzW2hvb2tJbmZvLmN1cnJlbnRJbmRleF07XG4gICAgICBjb25zdCByZXN1bHQgPSBoYW5kbGVyLmNhbGxiYWNrLmFwcGx5KG51bGwsIGFyZ3MpO1xuICAgICAgaWYgKHJldHVybkZpcnN0QXJnKSB7XG4gICAgICAgIGFyZ3NbMF0gPSByZXN1bHQ7XG4gICAgICB9XG4gICAgICBob29rSW5mby5jdXJyZW50SW5kZXgrKztcbiAgICB9XG4gICAgaG9va3NTdG9yZS5fX2N1cnJlbnQucG9wKCk7XG4gICAgaWYgKHJldHVybkZpcnN0QXJnKSB7XG4gICAgICByZXR1cm4gYXJnc1swXTtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfTtcbn1cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZVJ1bkhvb2s7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jcmVhdGVSdW5Ib29rLmpzLm1hcCIsIi8qKlxuICogUmV0dXJucyBhIGZ1bmN0aW9uIHdoaWNoLCB3aGVuIGludm9rZWQsIHdpbGwgcmV0dXJuIHRoZSBuYW1lIG9mIHRoZVxuICogY3VycmVudGx5IHJ1bm5pbmcgaG9vaywgb3IgYG51bGxgIGlmIG5vIGhvb2sgb2YgdGhlIGdpdmVuIHR5cGUgaXMgY3VycmVudGx5XG4gKiBydW5uaW5nLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KCcuJykuSG9va3N9ICAgIGhvb2tzICAgIEhvb2tzIGluc3RhbmNlLlxuICogQHBhcmFtIHtpbXBvcnQoJy4nKS5TdG9yZUtleX0gc3RvcmVLZXlcbiAqXG4gKiBAcmV0dXJuIHsoKSA9PiBzdHJpbmcgfCBudWxsfSBGdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIGN1cnJlbnQgaG9vayBuYW1lIG9yIG51bGwuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUN1cnJlbnRIb29rKGhvb2tzLCBzdG9yZUtleSkge1xuICByZXR1cm4gZnVuY3Rpb24gY3VycmVudEhvb2soKSB7XG4gICAgdmFyIF9ob29rc1N0b3JlJF9fY3VycmVudDtcbiAgICBjb25zdCBob29rc1N0b3JlID0gaG9va3Nbc3RvcmVLZXldO1xuICAgIHJldHVybiAoX2hvb2tzU3RvcmUkX19jdXJyZW50ID0gaG9va3NTdG9yZS5fX2N1cnJlbnRbaG9va3NTdG9yZS5fX2N1cnJlbnQubGVuZ3RoIC0gMV0/Lm5hbWUpICE9PSBudWxsICYmIF9ob29rc1N0b3JlJF9fY3VycmVudCAhPT0gdm9pZCAwID8gX2hvb2tzU3RvcmUkX19jdXJyZW50IDogbnVsbDtcbiAgfTtcbn1cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUN1cnJlbnRIb29rO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3JlYXRlQ3VycmVudEhvb2suanMubWFwIiwiLyoqXG4gKiBAY2FsbGJhY2sgRG9pbmdIb29rXG4gKiBSZXR1cm5zIHdoZXRoZXIgYSBob29rIGlzIGN1cnJlbnRseSBiZWluZyBleGVjdXRlZC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gW2hvb2tOYW1lXSBUaGUgbmFtZSBvZiB0aGUgaG9vayB0byBjaGVjayBmb3IuICBJZlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgb21pdHRlZCwgd2lsbCBjaGVjayBmb3IgYW55IGhvb2sgYmVpbmcgZXhlY3V0ZWQuXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgaG9vayBpcyBiZWluZyBleGVjdXRlZC5cbiAqL1xuXG4vKipcbiAqIFJldHVybnMgYSBmdW5jdGlvbiB3aGljaCwgd2hlbiBpbnZva2VkLCB3aWxsIHJldHVybiB3aGV0aGVyIGEgaG9vayBpc1xuICogY3VycmVudGx5IGJlaW5nIGV4ZWN1dGVkLlxuICpcbiAqIEBwYXJhbSB7aW1wb3J0KCcuJykuSG9va3N9ICAgIGhvb2tzICAgIEhvb2tzIGluc3RhbmNlLlxuICogQHBhcmFtIHtpbXBvcnQoJy4nKS5TdG9yZUtleX0gc3RvcmVLZXlcbiAqXG4gKiBAcmV0dXJuIHtEb2luZ0hvb2t9IEZ1bmN0aW9uIHRoYXQgcmV0dXJucyB3aGV0aGVyIGEgaG9vayBpcyBjdXJyZW50bHlcbiAqICAgICAgICAgICAgICAgICAgICAgYmVpbmcgZXhlY3V0ZWQuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZURvaW5nSG9vayhob29rcywgc3RvcmVLZXkpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIGRvaW5nSG9vayhob29rTmFtZSkge1xuICAgIGNvbnN0IGhvb2tzU3RvcmUgPSBob29rc1tzdG9yZUtleV07XG5cbiAgICAvLyBJZiB0aGUgaG9va05hbWUgd2FzIG5vdCBwYXNzZWQsIGNoZWNrIGZvciBhbnkgY3VycmVudCBob29rLlxuICAgIGlmICgndW5kZWZpbmVkJyA9PT0gdHlwZW9mIGhvb2tOYW1lKSB7XG4gICAgICByZXR1cm4gJ3VuZGVmaW5lZCcgIT09IHR5cGVvZiBob29rc1N0b3JlLl9fY3VycmVudFswXTtcbiAgICB9XG5cbiAgICAvLyBSZXR1cm4gdGhlIF9fY3VycmVudCBob29rLlxuICAgIHJldHVybiBob29rc1N0b3JlLl9fY3VycmVudFswXSA/IGhvb2tOYW1lID09PSBob29rc1N0b3JlLl9fY3VycmVudFswXS5uYW1lIDogZmFsc2U7XG4gIH07XG59XG5leHBvcnQgZGVmYXVsdCBjcmVhdGVEb2luZ0hvb2s7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jcmVhdGVEb2luZ0hvb2suanMubWFwIiwiLyoqXG4gKiBJbnRlcm5hbCBkZXBlbmRlbmNpZXNcbiAqL1xuaW1wb3J0IHZhbGlkYXRlSG9va05hbWUgZnJvbSAnLi92YWxpZGF0ZUhvb2tOYW1lLmpzJztcblxuLyoqXG4gKiBAY2FsbGJhY2sgRGlkSG9va1xuICpcbiAqIFJldHVybnMgdGhlIG51bWJlciBvZiB0aW1lcyBhbiBhY3Rpb24gaGFzIGJlZW4gZmlyZWQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGhvb2tOYW1lIFRoZSBob29rIG5hbWUgdG8gY2hlY2suXG4gKlxuICogQHJldHVybiB7bnVtYmVyIHwgdW5kZWZpbmVkfSBUaGUgbnVtYmVyIG9mIHRpbWVzIHRoZSBob29rIGhhcyBydW4uXG4gKi9cblxuLyoqXG4gKiBSZXR1cm5zIGEgZnVuY3Rpb24gd2hpY2gsIHdoZW4gaW52b2tlZCwgd2lsbCByZXR1cm4gdGhlIG51bWJlciBvZiB0aW1lcyBhXG4gKiBob29rIGhhcyBiZWVuIGNhbGxlZC5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydCgnLicpLkhvb2tzfSAgICBob29rcyAgICBIb29rcyBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7aW1wb3J0KCcuJykuU3RvcmVLZXl9IHN0b3JlS2V5XG4gKlxuICogQHJldHVybiB7RGlkSG9va30gRnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgaG9vaydzIGNhbGwgY291bnQuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZURpZEhvb2soaG9va3MsIHN0b3JlS2V5KSB7XG4gIHJldHVybiBmdW5jdGlvbiBkaWRIb29rKGhvb2tOYW1lKSB7XG4gICAgY29uc3QgaG9va3NTdG9yZSA9IGhvb2tzW3N0b3JlS2V5XTtcbiAgICBpZiAoIXZhbGlkYXRlSG9va05hbWUoaG9va05hbWUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHJldHVybiBob29rc1N0b3JlW2hvb2tOYW1lXSAmJiBob29rc1N0b3JlW2hvb2tOYW1lXS5ydW5zID8gaG9va3NTdG9yZVtob29rTmFtZV0ucnVucyA6IDA7XG4gIH07XG59XG5leHBvcnQgZGVmYXVsdCBjcmVhdGVEaWRIb29rO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3JlYXRlRGlkSG9vay5qcy5tYXAiLCIvKipcbiAqIEludGVybmFsIGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgY3JlYXRlQWRkSG9vayBmcm9tICcuL2NyZWF0ZUFkZEhvb2snO1xuaW1wb3J0IGNyZWF0ZVJlbW92ZUhvb2sgZnJvbSAnLi9jcmVhdGVSZW1vdmVIb29rJztcbmltcG9ydCBjcmVhdGVIYXNIb29rIGZyb20gJy4vY3JlYXRlSGFzSG9vayc7XG5pbXBvcnQgY3JlYXRlUnVuSG9vayBmcm9tICcuL2NyZWF0ZVJ1bkhvb2snO1xuaW1wb3J0IGNyZWF0ZUN1cnJlbnRIb29rIGZyb20gJy4vY3JlYXRlQ3VycmVudEhvb2snO1xuaW1wb3J0IGNyZWF0ZURvaW5nSG9vayBmcm9tICcuL2NyZWF0ZURvaW5nSG9vayc7XG5pbXBvcnQgY3JlYXRlRGlkSG9vayBmcm9tICcuL2NyZWF0ZURpZEhvb2snO1xuXG4vKipcbiAqIEludGVybmFsIGNsYXNzIGZvciBjb25zdHJ1Y3RpbmcgaG9va3MuIFVzZSBgY3JlYXRlSG9va3MoKWAgZnVuY3Rpb25cbiAqXG4gKiBOb3RlLCBpdCBpcyBuZWNlc3NhcnkgdG8gZXhwb3NlIHRoaXMgY2xhc3MgdG8gbWFrZSBpdHMgdHlwZSBwdWJsaWMuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGNsYXNzIF9Ib29rcyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIC8qKiBAdHlwZSB7aW1wb3J0KCcuJykuU3RvcmV9IGFjdGlvbnMgKi9cbiAgICB0aGlzLmFjdGlvbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRoaXMuYWN0aW9ucy5fX2N1cnJlbnQgPSBbXTtcblxuICAgIC8qKiBAdHlwZSB7aW1wb3J0KCcuJykuU3RvcmV9IGZpbHRlcnMgKi9cbiAgICB0aGlzLmZpbHRlcnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRoaXMuZmlsdGVycy5fX2N1cnJlbnQgPSBbXTtcbiAgICB0aGlzLmFkZEFjdGlvbiA9IGNyZWF0ZUFkZEhvb2sodGhpcywgJ2FjdGlvbnMnKTtcbiAgICB0aGlzLmFkZEZpbHRlciA9IGNyZWF0ZUFkZEhvb2sodGhpcywgJ2ZpbHRlcnMnKTtcbiAgICB0aGlzLnJlbW92ZUFjdGlvbiA9IGNyZWF0ZVJlbW92ZUhvb2sodGhpcywgJ2FjdGlvbnMnKTtcbiAgICB0aGlzLnJlbW92ZUZpbHRlciA9IGNyZWF0ZVJlbW92ZUhvb2sodGhpcywgJ2ZpbHRlcnMnKTtcbiAgICB0aGlzLmhhc0FjdGlvbiA9IGNyZWF0ZUhhc0hvb2sodGhpcywgJ2FjdGlvbnMnKTtcbiAgICB0aGlzLmhhc0ZpbHRlciA9IGNyZWF0ZUhhc0hvb2sodGhpcywgJ2ZpbHRlcnMnKTtcbiAgICB0aGlzLnJlbW92ZUFsbEFjdGlvbnMgPSBjcmVhdGVSZW1vdmVIb29rKHRoaXMsICdhY3Rpb25zJywgdHJ1ZSk7XG4gICAgdGhpcy5yZW1vdmVBbGxGaWx0ZXJzID0gY3JlYXRlUmVtb3ZlSG9vayh0aGlzLCAnZmlsdGVycycsIHRydWUpO1xuICAgIHRoaXMuZG9BY3Rpb24gPSBjcmVhdGVSdW5Ib29rKHRoaXMsICdhY3Rpb25zJyk7XG4gICAgdGhpcy5hcHBseUZpbHRlcnMgPSBjcmVhdGVSdW5Ib29rKHRoaXMsICdmaWx0ZXJzJywgdHJ1ZSk7XG4gICAgdGhpcy5jdXJyZW50QWN0aW9uID0gY3JlYXRlQ3VycmVudEhvb2sodGhpcywgJ2FjdGlvbnMnKTtcbiAgICB0aGlzLmN1cnJlbnRGaWx0ZXIgPSBjcmVhdGVDdXJyZW50SG9vayh0aGlzLCAnZmlsdGVycycpO1xuICAgIHRoaXMuZG9pbmdBY3Rpb24gPSBjcmVhdGVEb2luZ0hvb2sodGhpcywgJ2FjdGlvbnMnKTtcbiAgICB0aGlzLmRvaW5nRmlsdGVyID0gY3JlYXRlRG9pbmdIb29rKHRoaXMsICdmaWx0ZXJzJyk7XG4gICAgdGhpcy5kaWRBY3Rpb24gPSBjcmVhdGVEaWRIb29rKHRoaXMsICdhY3Rpb25zJyk7XG4gICAgdGhpcy5kaWRGaWx0ZXIgPSBjcmVhdGVEaWRIb29rKHRoaXMsICdmaWx0ZXJzJyk7XG4gIH1cbn1cblxuLyoqIEB0eXBlZGVmIHtfSG9va3N9IEhvb2tzICovXG5cbi8qKlxuICogUmV0dXJucyBhbiBpbnN0YW5jZSBvZiB0aGUgaG9va3Mgb2JqZWN0LlxuICpcbiAqIEByZXR1cm4ge0hvb2tzfSBBIEhvb2tzIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBjcmVhdGVIb29rcygpIHtcbiAgcmV0dXJuIG5ldyBfSG9va3MoKTtcbn1cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZUhvb2tzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3JlYXRlSG9va3MuanMubWFwIiwiLyoqXG4gKiBJbnRlcm5hbCBkZXBlbmRlbmNpZXNcbiAqL1xuaW1wb3J0IGNyZWF0ZUhvb2tzIGZyb20gJy4vY3JlYXRlSG9va3MnO1xuXG4vKiogQHR5cGVkZWYgeyguLi5hcmdzOiBhbnlbXSk9PmFueX0gQ2FsbGJhY2sgKi9cblxuLyoqXG4gKiBAdHlwZWRlZiBIYW5kbGVyXG4gKiBAcHJvcGVydHkge0NhbGxiYWNrfSBjYWxsYmFjayAgVGhlIGNhbGxiYWNrXG4gKiBAcHJvcGVydHkge3N0cmluZ30gICBuYW1lc3BhY2UgVGhlIG5hbWVzcGFjZVxuICogQHByb3BlcnR5IHtudW1iZXJ9ICAgcHJpb3JpdHkgIFRoZSBuYW1lc3BhY2VcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIEhvb2tcbiAqIEBwcm9wZXJ0eSB7SGFuZGxlcltdfSBoYW5kbGVycyBBcnJheSBvZiBoYW5kbGVyc1xuICogQHByb3BlcnR5IHtudW1iZXJ9ICAgIHJ1bnMgICAgIFJ1biBjb3VudGVyXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiBDdXJyZW50XG4gKiBAcHJvcGVydHkge3N0cmluZ30gbmFtZSAgICAgICAgIEhvb2sgbmFtZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IGN1cnJlbnRJbmRleCBUaGUgaW5kZXhcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtSZWNvcmQ8c3RyaW5nLCBIb29rPiAmIHtfX2N1cnJlbnQ6IEN1cnJlbnRbXX19IFN0b3JlXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7J2FjdGlvbnMnIHwgJ2ZpbHRlcnMnfSBTdG9yZUtleVxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi9jcmVhdGVIb29rcycpLkhvb2tzfSBIb29rc1xuICovXG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0SG9va3MgPSBjcmVhdGVIb29rcygpO1xuY29uc3Qge1xuICBhZGRBY3Rpb24sXG4gIGFkZEZpbHRlcixcbiAgcmVtb3ZlQWN0aW9uLFxuICByZW1vdmVGaWx0ZXIsXG4gIGhhc0FjdGlvbixcbiAgaGFzRmlsdGVyLFxuICByZW1vdmVBbGxBY3Rpb25zLFxuICByZW1vdmVBbGxGaWx0ZXJzLFxuICBkb0FjdGlvbixcbiAgYXBwbHlGaWx0ZXJzLFxuICBjdXJyZW50QWN0aW9uLFxuICBjdXJyZW50RmlsdGVyLFxuICBkb2luZ0FjdGlvbixcbiAgZG9pbmdGaWx0ZXIsXG4gIGRpZEFjdGlvbixcbiAgZGlkRmlsdGVyLFxuICBhY3Rpb25zLFxuICBmaWx0ZXJzXG59ID0gZGVmYXVsdEhvb2tzO1xuZXhwb3J0IHsgY3JlYXRlSG9va3MsIGFkZEFjdGlvbiwgYWRkRmlsdGVyLCByZW1vdmVBY3Rpb24sIHJlbW92ZUZpbHRlciwgaGFzQWN0aW9uLCBoYXNGaWx0ZXIsIHJlbW92ZUFsbEFjdGlvbnMsIHJlbW92ZUFsbEZpbHRlcnMsIGRvQWN0aW9uLCBhcHBseUZpbHRlcnMsIGN1cnJlbnRBY3Rpb24sIGN1cnJlbnRGaWx0ZXIsIGRvaW5nQWN0aW9uLCBkb2luZ0ZpbHRlciwgZGlkQWN0aW9uLCBkaWRGaWx0ZXIsIGFjdGlvbnMsIGZpbHRlcnMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIjx0ZW1wbGF0ZT5cbiAgPGRpdiBpZD1cIndwLWFtLXZ1ZS1hcHBcIj5cbiAgICA8ZGl2IHYtaWY9XCJzaG93Tm90aWNlXCIgY2xhc3M9XCJ3cC1hbS1ub3RpY2UtYmFyXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwid3AtYW0tbm90aWNlLWJhci1jb250YWluZXJcIj5cbiAgICAgICAgPHNwYW4gY2xhc3M9XCJ3cC1hbS1ub3RpY2UtYmFyLW1lc3NhZ2VcIiB2LWh0bWw9XCJub3RpY2VNZXNzYWdlXCI+PC9zcGFuPlxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImRpc21pc3NcIiB0aXRsZT1cIkRpc21pc3MgdGhpcyBtZXNzYWdlLlwiIEBjbGljaz1cImRpc21pc3NOb3RpY2VcIj48L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cIm1haW4tY29udGVudFwiPlxuICAgICAgPGRpdiBjbGFzcz1cIndwLWFtLWhlYWRlclwiPlxuICAgICAgICA8aDE+e3sgX18oJ1dQIEFNIFZ1ZSBBcHAnLCAnd3AtYW0tdnVlLWFwcCcpIH19PC9oMT5cbiAgICAgICAgPHA+e3sgX18oJ1Z1ZSBKUyBiYXNlZCBhZG1pbiBwYWdlJykgfX08L3A+XG4gICAgICA8L2Rpdj5cbiAgICAgIDx0YWJzIC8+XG4gICAgICA8cm91dGVyLXZpZXcgLz5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG48L3RlbXBsYXRlPlxuXG48c2NyaXB0PlxuaW1wb3J0IFRhYnMgZnJvbSAnLi9jb21wb25lbnRzL3RhYnMvVGFicy52dWUnO1xuaW1wb3J0IHsgbWVudUZpeCB9IGZyb20gJy4vdXRpbHMvbWVudS1maXgnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgbmFtZTogJ0FwcCcsXG4gICAgY29tcG9uZW50czoge1xuICAgICAgICBUYWJzXG4gICAgfSxcbiAgICBkYXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICBwcm9VcGdyYWRlTGluazogJ2h0dHBzOi8vZXhhbXBsZS5jb20vdXBncmFkZScsXG4gICAgICBzaG93Tm90aWNlOiB0cnVlXG4gICAgfTtcbiAgfSxcbiAgY29tcHV0ZWQ6IHtcbiAgICBub3RpY2VNZXNzYWdlKCkge1xuICAgICAgcmV0dXJuIHNwcmludGYoJ1lvdeKAmXJlIHVzaW5nIFdQIEFtIExpdGUuIFRvIHVubG9jayBtb3JlIGZlYXR1cmVzLCBjb25zaWRlciA8YSBocmVmPVwiJXNcIj51cGdyYWRpbmcgdG8gUHJvPC9hPi4nLCB0aGlzLnByb1VwZ3JhZGVMaW5rKTtcbiAgICB9XG4gIH0sXG4gIGNyZWF0ZWQoKSB7XG4gICAgY29uc3QgbGFzdERpc21pc3NlZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd3cEFtTm90aWNlRGlzbWlzc2VkJyk7XG4gICAgaWYgKGxhc3REaXNtaXNzZWQgJiYgKERhdGUubm93KCkgLSBsYXN0RGlzbWlzc2VkIDwgODY0MDAwMDApKSB7XG4gICAgICB0aGlzLnNob3dOb3RpY2UgPSBmYWxzZTtcbiAgICB9XG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBkaXNtaXNzTm90aWNlKCkge1xuICAgICAgdGhpcy5zaG93Tm90aWNlID0gZmFsc2U7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnd3BBbU5vdGljZURpc21pc3NlZCcsIERhdGUubm93KCkpO1xuICAgIH1cbiAgfSxcbiAgICB3YXRjaDoge1xuICAgICAgICAkcm91dGUoKSB7XG4gICAgICAgICAgICBtZW51Rml4KCk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuPC9zY3JpcHQ+XG48c3R5bGUgbGFuZz1cInNjc3NcIj5cbi53cC1hbS1ub3RpY2UtYmFye1xuICAgIG1heC1oZWlnaHQ6IDM1cHg7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIG1hcmdpbi1ib3R0b206IC0zcHg7XG4gICAgdHJhbnNpdGlvbjogYWxsIC4zcyBlYXNlLW91dDtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuXG4gICAgLndwLWFtLW5vdGljZS1iYXItY29udGFpbmVye1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2RkZDtcbiAgICAgIGJvcmRlci10b3A6IDNweCBzb2xpZCAjZTI3NzMwO1xuICAgICAgY29sb3I6ICM1MDU3NWU7XG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICBwYWRkaW5nOiA3cHg7XG4gICAgICAgIGF7XG4gICAgICAgICAgICBjb2xvcjogI2UyNzczMDtcbiAgICAgICAgICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xuICAgICAgICAgICAgJjpob3ZlcntcbiAgICAgICAgICAgICAgICBjb2xvcjogI2I4NWExYjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAuZGlzbWlzc3tcbiAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgdG9wOiAwO1xuICAgICAgICAgIHJpZ2h0OiAwO1xuICAgICAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgICAgICBwYWRkaW5nOiA1cHg7XG4gICAgICAgICAgbWFyZ2luLXRvcDogNHB4O1xuICAgICAgICAgIGJhY2tncm91bmQ6IDAgMDtcbiAgICAgICAgICBjb2xvcjogIzcyNzc3YztcbiAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgICAgJjpiZWZvcmUge1xuICAgICAgICAgICAgY29udGVudDogJ1xcZjMzNSc7XG4gICAgICAgICAgICBmb250LWZhbWlseTogJ2Rhc2hpY29ucyc7XG4gICAgICAgICAgICBmb250LXNpemU6IDIwcHg7XG5cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbn1cbi53cC1hbS1oZWFkZXIge1xuICAgIGJhY2tncm91bmQ6ICNmMWYxZjE7XG4gICAgcGFkZGluZzogMzBweCAyMHB4O1xuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZWFlYWVhO1xuXG4gICAgaDEge1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xuICAgICAgICBmb250LXNpemU6IDQwcHg7XG4gICAgfVxuICAgIHAge1xuICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgIGZvbnQtc2l6ZTogMjBweDtcbiAgICB9XG59XG5cbjwvc3R5bGU+IiwiPHRlbXBsYXRlPlxuICA8ZGl2IGlkPVwid3AtYW0tdnVlLWFwcC10YWJzXCI+XG4gICAgPGRpdiBjbGFzcz1cInRhYi1pdGVtXCI+XG4gICAgICA8cm91dGVyLWxpbmsgdG89XCIvXCI+XG4gICAgICAgIFNldHRpbmdzXG4gICAgICA8L3JvdXRlci1saW5rPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJ0YWItaXRlbVwiPlxuICAgICAgPHJvdXRlci1saW5rIHRvPVwiL3RhYmxlXCI+XG4gICAgICAgIFRhYmxlXG4gICAgICA8L3JvdXRlci1saW5rPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJ0YWItaXRlbVwiPlxuICAgICAgPHJvdXRlci1saW5rIHRvPVwiL2dyYXBoXCI+XG4gICAgICAgIEdyYXBoXG4gICAgICA8L3JvdXRlci1saW5rPlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbjwvdGVtcGxhdGU+XG5cbjxzY3JpcHQ+XG5pbXBvcnQgXCIuL3N0eWxlLnNjc3NcIjtcblxuZXhwb3J0IGRlZmF1bHQge1xuICAgIG5hbWU6IFwiVGFic1wiLFxuICAgIGNvbXBvbmVudHM6IHt9LFxuICAgIGRhdGEoKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9LFxufTtcbjwvc2NyaXB0PiIsImltcG9ydCB7IHJlbmRlciB9IGZyb20gXCIuL1RhYnMudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTk1NTQ0NmJhXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vVGFicy52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anNcIlxuZXhwb3J0ICogZnJvbSBcIi4vVGFicy52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anNcIlxuXG5pbXBvcnQgZXhwb3J0Q29tcG9uZW50IGZyb20gXCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9kaXN0L2V4cG9ydEhlbHBlci5qc1wiXG5jb25zdCBfX2V4cG9ydHNfXyA9IC8qI19fUFVSRV9fKi9leHBvcnRDb21wb25lbnQoc2NyaXB0LCBbWydyZW5kZXInLHJlbmRlcl1dKVxuXG5leHBvcnQgZGVmYXVsdCBfX2V4cG9ydHNfXyIsImV4cG9ydCBjb25zdCBwbHVnaW5TbHVnID0gJ3dwLWFtLXZ1ZS1hcHAnO1xuXG4vKipcbiAqIEFzIHdlIGFyZSB1c2luZyBoYXNoIGJhc2VkIG5hdmlnYXRpb24sIGhhY2sgZml4XG4gKiB0byBoaWdobGlnaHQgdGhlIGN1cnJlbnQgc2VsZWN0ZWQgbWVudVxuICpcbiAqIFJlcXVpcmVzIGpRdWVyeVxuICovXG5leHBvcnQgZnVuY3Rpb24gbWVudUZpeCgpIHtcbiAgICBjb25zdCAkID0galF1ZXJ5O1xuXG4gICAgY29uc3QgbWVudVJvb3QgPSAkKCcjdG9wbGV2ZWxfcGFnZV8nICsgcGx1Z2luU2x1Zyk7XG4gICAgY29uc3QgY3VycmVudFVybCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xuICAgIGNvbnN0IGN1cnJlbnRQYXRoID0gY3VycmVudFVybC5zdWJzdHIoY3VycmVudFVybC5pbmRleE9mKCdhZG1pbi5waHAnKSk7XG5cbiAgICAkKCd1bC53cC1zdWJtZW51IGxpJywgbWVudVJvb3QpLnJlbW92ZUNsYXNzKCdjdXJyZW50Jyk7XG5cbiAgICBtZW51Um9vdC5vbignY2xpY2snLCAnYScsIGZ1bmN0aW9uKCkge1xuICAgICAgICBjb25zdCBzZWxmID0gJCh0aGlzKTtcblxuICAgICAgICAkKCd1bC53cC1zdWJtZW51IGxpJywgbWVudVJvb3QpLnJlbW92ZUNsYXNzKCdjdXJyZW50Jyk7XG5cbiAgICAgICAgaWYgKHNlbGYuaGFzQ2xhc3MoJ3dwLWhhcy1zdWJtZW51JykpIHtcbiAgICAgICAgICAgICQoJ2xpLndwLWZpcnN0LWl0ZW0nLCBtZW51Um9vdCkuYWRkQ2xhc3MoJ2N1cnJlbnQnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNlbGYucGFyZW50cygnbGknKS5hZGRDbGFzcygnY3VycmVudCcpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAkKCd1bC53cC1zdWJtZW51IGEnLCBtZW51Um9vdCkuZWFjaChmdW5jdGlvbihpbmRleCwgZWwpIHtcbiAgICAgICAgbGV0IGhyZWZSb3V0ZSA9ICQoZWwpLmF0dHIoJ2hyZWYnKS5zdWJzdHJpbmcoJChlbCkuYXR0cignaHJlZicpLmluZGV4T2YoJy9hZG1pbi5waHAnKSArIDEpO1xuXG4gICAgICAgIGlmIChocmVmUm91dGUgPT09IGN1cnJlbnRQYXRoKSB7XG4gICAgICAgICAgICAkKGVsKS5wYXJlbnQoKS5hZGRDbGFzcygnY3VycmVudCcpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbm1lbnVGaXgoKTtcbiIsImltcG9ydCB7IHJlbmRlciB9IGZyb20gXCIuL0FwcC52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NzJkYmY4MTBcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9BcHAudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzXCJcbmV4cG9ydCAqIGZyb20gXCIuL0FwcC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anNcIlxuXG5pbXBvcnQgXCIuL0FwcC52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZpZD03MmRiZjgxMCZsYW5nPXNjc3NcIlxuXG5pbXBvcnQgZXhwb3J0Q29tcG9uZW50IGZyb20gXCIuLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9kaXN0L2V4cG9ydEhlbHBlci5qc1wiXG5jb25zdCBfX2V4cG9ydHNfXyA9IC8qI19fUFVSRV9fKi9leHBvcnRDb21wb25lbnQoc2NyaXB0LCBbWydyZW5kZXInLHJlbmRlcl1dKVxuXG5leHBvcnQgZGVmYXVsdCBfX2V4cG9ydHNfXyIsImV4cG9ydCBmdW5jdGlvbiBnZXREZXZ0b29sc0dsb2JhbEhvb2soKSB7XG4gICAgcmV0dXJuIGdldFRhcmdldCgpLl9fVlVFX0RFVlRPT0xTX0dMT0JBTF9IT09LX187XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0VGFyZ2V0KCkge1xuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgbmF2aWdhdG9yIGFuZCB3aW5kb3dzIGFyZSBub3QgYXZhaWxhYmxlIGluIGFsbCBlbnZpcm9ubWVudHNcbiAgICByZXR1cm4gKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKVxuICAgICAgICA/IHdpbmRvd1xuICAgICAgICA6IHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJ1xuICAgICAgICAgICAgPyBnbG9iYWxUaGlzXG4gICAgICAgICAgICA6IHt9O1xufVxuZXhwb3J0IGNvbnN0IGlzUHJveHlBdmFpbGFibGUgPSB0eXBlb2YgUHJveHkgPT09ICdmdW5jdGlvbic7XG4iLCJleHBvcnQgY29uc3QgSE9PS19TRVRVUCA9ICdkZXZ0b29scy1wbHVnaW46c2V0dXAnO1xuZXhwb3J0IGNvbnN0IEhPT0tfUExVR0lOX1NFVFRJTkdTX1NFVCA9ICdwbHVnaW46c2V0dGluZ3M6c2V0JztcbiIsImxldCBzdXBwb3J0ZWQ7XG5sZXQgcGVyZjtcbmV4cG9ydCBmdW5jdGlvbiBpc1BlcmZvcm1hbmNlU3VwcG9ydGVkKCkge1xuICAgIHZhciBfYTtcbiAgICBpZiAoc3VwcG9ydGVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHN1cHBvcnRlZDtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5wZXJmb3JtYW5jZSkge1xuICAgICAgICBzdXBwb3J0ZWQgPSB0cnVlO1xuICAgICAgICBwZXJmID0gd2luZG93LnBlcmZvcm1hbmNlO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCcgJiYgKChfYSA9IGdsb2JhbFRoaXMucGVyZl9ob29rcykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnBlcmZvcm1hbmNlKSkge1xuICAgICAgICBzdXBwb3J0ZWQgPSB0cnVlO1xuICAgICAgICBwZXJmID0gZ2xvYmFsVGhpcy5wZXJmX2hvb2tzLnBlcmZvcm1hbmNlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc3VwcG9ydGVkID0gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBzdXBwb3J0ZWQ7XG59XG5leHBvcnQgZnVuY3Rpb24gbm93KCkge1xuICAgIHJldHVybiBpc1BlcmZvcm1hbmNlU3VwcG9ydGVkKCkgPyBwZXJmLm5vdygpIDogRGF0ZS5ub3coKTtcbn1cbiIsImltcG9ydCB7IEhPT0tfUExVR0lOX1NFVFRJTkdTX1NFVCB9IGZyb20gJy4vY29uc3QuanMnO1xuaW1wb3J0IHsgbm93IH0gZnJvbSAnLi90aW1lLmpzJztcbmV4cG9ydCBjbGFzcyBBcGlQcm94eSB7XG4gICAgY29uc3RydWN0b3IocGx1Z2luLCBob29rKSB7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy50YXJnZXRRdWV1ZSA9IFtdO1xuICAgICAgICB0aGlzLm9uUXVldWUgPSBbXTtcbiAgICAgICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XG4gICAgICAgIHRoaXMuaG9vayA9IGhvb2s7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRTZXR0aW5ncyA9IHt9O1xuICAgICAgICBpZiAocGx1Z2luLnNldHRpbmdzKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGlkIGluIHBsdWdpbi5zZXR0aW5ncykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBwbHVnaW4uc2V0dGluZ3NbaWRdO1xuICAgICAgICAgICAgICAgIGRlZmF1bHRTZXR0aW5nc1tpZF0gPSBpdGVtLmRlZmF1bHRWYWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBsb2NhbFNldHRpbmdzU2F2ZUlkID0gYF9fdnVlLWRldnRvb2xzLXBsdWdpbi1zZXR0aW5nc19fJHtwbHVnaW4uaWR9YDtcbiAgICAgICAgbGV0IGN1cnJlbnRTZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRTZXR0aW5ncyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByYXcgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShsb2NhbFNldHRpbmdzU2F2ZUlkKTtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKHJhdyk7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKGN1cnJlbnRTZXR0aW5ncywgZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIG5vb3BcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZhbGxiYWNrcyA9IHtcbiAgICAgICAgICAgIGdldFNldHRpbmdzKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50U2V0dGluZ3M7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0U2V0dGluZ3ModmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShsb2NhbFNldHRpbmdzU2F2ZUlkLCBKU09OLnN0cmluZ2lmeSh2YWx1ZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBub29wXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGN1cnJlbnRTZXR0aW5ncyA9IHZhbHVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG5vdygpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbm93KCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICBpZiAoaG9vaykge1xuICAgICAgICAgICAgaG9vay5vbihIT09LX1BMVUdJTl9TRVRUSU5HU19TRVQsIChwbHVnaW5JZCwgdmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocGx1Z2luSWQgPT09IHRoaXMucGx1Z2luLmlkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmFsbGJhY2tzLnNldFNldHRpbmdzKHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnByb3hpZWRPbiA9IG5ldyBQcm94eSh7fSwge1xuICAgICAgICAgICAgZ2V0OiAoX3RhcmdldCwgcHJvcCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50YXJnZXQub25bcHJvcF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25RdWV1ZS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IHByb3AsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJncyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnByb3hpZWRUYXJnZXQgPSBuZXcgUHJveHkoe30sIHtcbiAgICAgICAgICAgIGdldDogKF90YXJnZXQsIHByb3ApID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudGFyZ2V0W3Byb3BdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwcm9wID09PSAnb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnByb3hpZWRPbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoT2JqZWN0LmtleXModGhpcy5mYWxsYmFja3MpLmluY2x1ZGVzKHByb3ApKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoLi4uYXJncykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50YXJnZXRRdWV1ZS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IHByb3AsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJncyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiAoKSA9PiB7IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZhbGxiYWNrc1twcm9wXSguLi5hcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoLi4uYXJncykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50YXJnZXRRdWV1ZS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBwcm9wLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmdzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFzeW5jIHNldFJlYWxUYXJnZXQodGFyZ2V0KSB7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdGhpcy5vblF1ZXVlKSB7XG4gICAgICAgICAgICB0aGlzLnRhcmdldC5vbltpdGVtLm1ldGhvZF0oLi4uaXRlbS5hcmdzKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdGhpcy50YXJnZXRRdWV1ZSkge1xuICAgICAgICAgICAgaXRlbS5yZXNvbHZlKGF3YWl0IHRoaXMudGFyZ2V0W2l0ZW0ubWV0aG9kXSguLi5pdGVtLmFyZ3MpKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IGdldERldnRvb2xzR2xvYmFsSG9vaywgZ2V0VGFyZ2V0LCBpc1Byb3h5QXZhaWxhYmxlIH0gZnJvbSAnLi9lbnYuanMnO1xuaW1wb3J0IHsgSE9PS19TRVRVUCB9IGZyb20gJy4vY29uc3QuanMnO1xuaW1wb3J0IHsgQXBpUHJveHkgfSBmcm9tICcuL3Byb3h5LmpzJztcbmV4cG9ydCAqIGZyb20gJy4vYXBpL2luZGV4LmpzJztcbmV4cG9ydCAqIGZyb20gJy4vcGx1Z2luLmpzJztcbmV4cG9ydCAqIGZyb20gJy4vdGltZS5qcyc7XG5leHBvcnQgZnVuY3Rpb24gc2V0dXBEZXZ0b29sc1BsdWdpbihwbHVnaW5EZXNjcmlwdG9yLCBzZXR1cEZuKSB7XG4gICAgY29uc3QgZGVzY3JpcHRvciA9IHBsdWdpbkRlc2NyaXB0b3I7XG4gICAgY29uc3QgdGFyZ2V0ID0gZ2V0VGFyZ2V0KCk7XG4gICAgY29uc3QgaG9vayA9IGdldERldnRvb2xzR2xvYmFsSG9vaygpO1xuICAgIGNvbnN0IGVuYWJsZVByb3h5ID0gaXNQcm94eUF2YWlsYWJsZSAmJiBkZXNjcmlwdG9yLmVuYWJsZUVhcmx5UHJveHk7XG4gICAgaWYgKGhvb2sgJiYgKHRhcmdldC5fX1ZVRV9ERVZUT09MU19QTFVHSU5fQVBJX0FWQUlMQUJMRV9fIHx8ICFlbmFibGVQcm94eSkpIHtcbiAgICAgICAgaG9vay5lbWl0KEhPT0tfU0VUVVAsIHBsdWdpbkRlc2NyaXB0b3IsIHNldHVwRm4pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgcHJveHkgPSBlbmFibGVQcm94eSA/IG5ldyBBcGlQcm94eShkZXNjcmlwdG9yLCBob29rKSA6IG51bGw7XG4gICAgICAgIGNvbnN0IGxpc3QgPSB0YXJnZXQuX19WVUVfREVWVE9PTFNfUExVR0lOU19fID0gdGFyZ2V0Ll9fVlVFX0RFVlRPT0xTX1BMVUdJTlNfXyB8fCBbXTtcbiAgICAgICAgbGlzdC5wdXNoKHtcbiAgICAgICAgICAgIHBsdWdpbkRlc2NyaXB0b3I6IGRlc2NyaXB0b3IsXG4gICAgICAgICAgICBzZXR1cEZuLFxuICAgICAgICAgICAgcHJveHksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAocHJveHkpIHtcbiAgICAgICAgICAgIHNldHVwRm4ocHJveHkucHJveGllZFRhcmdldCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCIvKiFcbiAgKiB2dWUtcm91dGVyIHY0LjMuM1xuICAqIChjKSAyMDI0IEVkdWFyZG8gU2FuIE1hcnRpbiBNb3JvdGVcbiAgKiBAbGljZW5zZSBNSVRcbiAgKi9cbmltcG9ydCB7IGdldEN1cnJlbnRJbnN0YW5jZSwgaW5qZWN0LCBvblVubW91bnRlZCwgb25EZWFjdGl2YXRlZCwgb25BY3RpdmF0ZWQsIGNvbXB1dGVkLCB1bnJlZiwgd2F0Y2hFZmZlY3QsIGRlZmluZUNvbXBvbmVudCwgcmVhY3RpdmUsIGgsIHByb3ZpZGUsIHJlZiwgd2F0Y2gsIHNoYWxsb3dSZWYsIHNoYWxsb3dSZWFjdGl2ZSwgbmV4dFRpY2sgfSBmcm9tICd2dWUnO1xuaW1wb3J0IHsgc2V0dXBEZXZ0b29sc1BsdWdpbiB9IGZyb20gJ0B2dWUvZGV2dG9vbHMtYXBpJztcblxuY29uc3QgaXNCcm93c2VyID0gdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJztcblxuZnVuY3Rpb24gaXNFU01vZHVsZShvYmopIHtcbiAgICByZXR1cm4gb2JqLl9fZXNNb2R1bGUgfHwgb2JqW1N5bWJvbC50b1N0cmluZ1RhZ10gPT09ICdNb2R1bGUnO1xufVxuY29uc3QgYXNzaWduID0gT2JqZWN0LmFzc2lnbjtcbmZ1bmN0aW9uIGFwcGx5VG9QYXJhbXMoZm4sIHBhcmFtcykge1xuICAgIGNvbnN0IG5ld1BhcmFtcyA9IHt9O1xuICAgIGZvciAoY29uc3Qga2V5IGluIHBhcmFtcykge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHBhcmFtc1trZXldO1xuICAgICAgICBuZXdQYXJhbXNba2V5XSA9IGlzQXJyYXkodmFsdWUpXG4gICAgICAgICAgICA/IHZhbHVlLm1hcChmbilcbiAgICAgICAgICAgIDogZm4odmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3UGFyYW1zO1xufVxuY29uc3Qgbm9vcCA9ICgpID0+IHsgfTtcbi8qKlxuICogVHlwZXNhZmUgYWx0ZXJuYXRpdmUgdG8gQXJyYXkuaXNBcnJheVxuICogaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9UeXBlU2NyaXB0L3B1bGwvNDgyMjhcbiAqL1xuY29uc3QgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5cbmZ1bmN0aW9uIHdhcm4obXNnKSB7XG4gICAgLy8gYXZvaWQgdXNpbmcgLi4uYXJncyBhcyBpdCBicmVha3MgaW4gb2xkZXIgRWRnZSBidWlsZHNcbiAgICBjb25zdCBhcmdzID0gQXJyYXkuZnJvbShhcmd1bWVudHMpLnNsaWNlKDEpO1xuICAgIGNvbnNvbGUud2Fybi5hcHBseShjb25zb2xlLCBbJ1tWdWUgUm91dGVyIHdhcm5dOiAnICsgbXNnXS5jb25jYXQoYXJncykpO1xufVxuXG4vKipcbiAqIEVuY29kaW5nIFJ1bGVzICjikKMgPSBTcGFjZSlcbiAqIC0gUGF0aDog4pCjIFwiIDwgPiAjID8geyB9XG4gKiAtIFF1ZXJ5OiDikKMgXCIgPCA+ICMgJiA9XG4gKiAtIEhhc2g6IOKQoyBcIiA8ID4gYFxuICpcbiAqIE9uIHRvcCBvZiB0aGF0LCB0aGUgUkZDMzk4NiAoaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM5ODYjc2VjdGlvbi0yLjIpXG4gKiBkZWZpbmVzIHNvbWUgZXh0cmEgY2hhcmFjdGVycyB0byBiZSBlbmNvZGVkLiBNb3N0IGJyb3dzZXJzIGRvIG5vdCBlbmNvZGUgdGhlbVxuICogaW4gZW5jb2RlVVJJIGh0dHBzOi8vZ2l0aHViLmNvbS93aGF0d2cvdXJsL2lzc3Vlcy8zNjksIHNvIGl0IG1heSBiZSBzYWZlciB0b1xuICogYWxzbyBlbmNvZGUgYCEnKCkqYC4gTGVhdmluZyB1bi1lbmNvZGVkIG9ubHkgQVNDSUkgYWxwaGFudW1lcmljKGBhLXpBLVowLTlgKVxuICogcGx1cyBgLS5ffmAuIFRoaXMgZXh0cmEgc2FmZXR5IHNob3VsZCBiZSBhcHBsaWVkIHRvIHF1ZXJ5IGJ5IHBhdGNoaW5nIHRoZVxuICogc3RyaW5nIHJldHVybmVkIGJ5IGVuY29kZVVSSUNvbXBvbmVudCBlbmNvZGVVUkkgYWxzbyBlbmNvZGVzIGBbXFxdXmAuIGBcXGBcbiAqIHNob3VsZCBiZSBlbmNvZGVkIHRvIGF2b2lkIGFtYmlndWl0eS4gQnJvd3NlcnMgKElFLCBGRiwgQykgdHJhbnNmb3JtIGEgYFxcYFxuICogaW50byBhIGAvYCBpZiBkaXJlY3RseSB0eXBlZCBpbi4gVGhlIF9iYWNrdGlja18gKGBgYGBgKSBzaG91bGQgYWxzbyBiZVxuICogZW5jb2RlZCBldmVyeXdoZXJlIGJlY2F1c2Ugc29tZSBicm93c2VycyBsaWtlIEZGIGVuY29kZSBpdCB3aGVuIGRpcmVjdGx5XG4gKiB3cml0dGVuIHdoaWxlIG90aGVycyBkb24ndC4gU2FmYXJpIGFuZCBJRSBkb24ndCBlbmNvZGUgYGBcIjw+e31gYGAgaW4gaGFzaC5cbiAqL1xuLy8gY29uc3QgRVhUUkFfUkVTRVJWRURfUkUgPSAvWyEnKCkqXS9nXG4vLyBjb25zdCBlbmNvZGVSZXNlcnZlZFJlcGxhY2VyID0gKGM6IHN0cmluZykgPT4gJyUnICsgYy5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KVxuY29uc3QgSEFTSF9SRSA9IC8jL2c7IC8vICUyM1xuY29uc3QgQU1QRVJTQU5EX1JFID0gLyYvZzsgLy8gJTI2XG5jb25zdCBTTEFTSF9SRSA9IC9cXC8vZzsgLy8gJTJGXG5jb25zdCBFUVVBTF9SRSA9IC89L2c7IC8vICUzRFxuY29uc3QgSU1fUkUgPSAvXFw/L2c7IC8vICUzRlxuY29uc3QgUExVU19SRSA9IC9cXCsvZzsgLy8gJTJCXG4vKipcbiAqIE5PVEU6IEl0J3Mgbm90IGNsZWFyIHRvIG1lIGlmIHdlIHNob3VsZCBlbmNvZGUgdGhlICsgc3ltYm9sIGluIHF1ZXJpZXMsIGl0XG4gKiBzZWVtcyB0byBiZSBsZXNzIGZsZXhpYmxlIHRoYW4gbm90IGRvaW5nIHNvIGFuZCBJIGNhbid0IGZpbmQgb3V0IHRoZSBsZWdhY3lcbiAqIHN5c3RlbXMgcmVxdWlyaW5nIHRoaXMgZm9yIHJlZ3VsYXIgcmVxdWVzdHMgbGlrZSB0ZXh0L2h0bWwuIEluIHRoZSBzdGFuZGFyZCxcbiAqIHRoZSBlbmNvZGluZyBvZiB0aGUgcGx1cyBjaGFyYWN0ZXIgaXMgb25seSBtZW50aW9uZWQgZm9yXG4gKiBhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcbiAqIChodHRwczovL3VybC5zcGVjLndoYXR3Zy5vcmcvI3VybGVuY29kZWQtcGFyc2luZykgYW5kIG1vc3QgYnJvd3NlcnMgc2VlbXMgbG9cbiAqIGxlYXZlIHRoZSBwbHVzIGNoYXJhY3RlciBhcyBpcyBpbiBxdWVyaWVzLiBUbyBiZSBtb3JlIGZsZXhpYmxlLCB3ZSBhbGxvdyB0aGVcbiAqIHBsdXMgY2hhcmFjdGVyIG9uIHRoZSBxdWVyeSwgYnV0IGl0IGNhbiBhbHNvIGJlIG1hbnVhbGx5IGVuY29kZWQgYnkgdGhlIHVzZXIuXG4gKlxuICogUmVzb3VyY2VzOlxuICogLSBodHRwczovL3VybC5zcGVjLndoYXR3Zy5vcmcvI3VybGVuY29kZWQtcGFyc2luZ1xuICogLSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xNjM0MjcxL3VybC1lbmNvZGluZy10aGUtc3BhY2UtY2hhcmFjdGVyLW9yLTIwXG4gKi9cbmNvbnN0IEVOQ19CUkFDS0VUX09QRU5fUkUgPSAvJTVCL2c7IC8vIFtcbmNvbnN0IEVOQ19CUkFDS0VUX0NMT1NFX1JFID0gLyU1RC9nOyAvLyBdXG5jb25zdCBFTkNfQ0FSRVRfUkUgPSAvJTVFL2c7IC8vIF5cbmNvbnN0IEVOQ19CQUNLVElDS19SRSA9IC8lNjAvZzsgLy8gYFxuY29uc3QgRU5DX0NVUkxZX09QRU5fUkUgPSAvJTdCL2c7IC8vIHtcbmNvbnN0IEVOQ19QSVBFX1JFID0gLyU3Qy9nOyAvLyB8XG5jb25zdCBFTkNfQ1VSTFlfQ0xPU0VfUkUgPSAvJTdEL2c7IC8vIH1cbmNvbnN0IEVOQ19TUEFDRV9SRSA9IC8lMjAvZzsgLy8gfVxuLyoqXG4gKiBFbmNvZGUgY2hhcmFjdGVycyB0aGF0IG5lZWQgdG8gYmUgZW5jb2RlZCBvbiB0aGUgcGF0aCwgc2VhcmNoIGFuZCBoYXNoXG4gKiBzZWN0aW9ucyBvZiB0aGUgVVJMLlxuICpcbiAqIEBpbnRlcm5hbFxuICogQHBhcmFtIHRleHQgLSBzdHJpbmcgdG8gZW5jb2RlXG4gKiBAcmV0dXJucyBlbmNvZGVkIHN0cmluZ1xuICovXG5mdW5jdGlvbiBjb21tb25FbmNvZGUodGV4dCkge1xuICAgIHJldHVybiBlbmNvZGVVUkkoJycgKyB0ZXh0KVxuICAgICAgICAucmVwbGFjZShFTkNfUElQRV9SRSwgJ3wnKVxuICAgICAgICAucmVwbGFjZShFTkNfQlJBQ0tFVF9PUEVOX1JFLCAnWycpXG4gICAgICAgIC5yZXBsYWNlKEVOQ19CUkFDS0VUX0NMT1NFX1JFLCAnXScpO1xufVxuLyoqXG4gKiBFbmNvZGUgY2hhcmFjdGVycyB0aGF0IG5lZWQgdG8gYmUgZW5jb2RlZCBvbiB0aGUgaGFzaCBzZWN0aW9uIG9mIHRoZSBVUkwuXG4gKlxuICogQHBhcmFtIHRleHQgLSBzdHJpbmcgdG8gZW5jb2RlXG4gKiBAcmV0dXJucyBlbmNvZGVkIHN0cmluZ1xuICovXG5mdW5jdGlvbiBlbmNvZGVIYXNoKHRleHQpIHtcbiAgICByZXR1cm4gY29tbW9uRW5jb2RlKHRleHQpXG4gICAgICAgIC5yZXBsYWNlKEVOQ19DVVJMWV9PUEVOX1JFLCAneycpXG4gICAgICAgIC5yZXBsYWNlKEVOQ19DVVJMWV9DTE9TRV9SRSwgJ30nKVxuICAgICAgICAucmVwbGFjZShFTkNfQ0FSRVRfUkUsICdeJyk7XG59XG4vKipcbiAqIEVuY29kZSBjaGFyYWN0ZXJzIHRoYXQgbmVlZCB0byBiZSBlbmNvZGVkIHF1ZXJ5IHZhbHVlcyBvbiB0aGUgcXVlcnlcbiAqIHNlY3Rpb24gb2YgdGhlIFVSTC5cbiAqXG4gKiBAcGFyYW0gdGV4dCAtIHN0cmluZyB0byBlbmNvZGVcbiAqIEByZXR1cm5zIGVuY29kZWQgc3RyaW5nXG4gKi9cbmZ1bmN0aW9uIGVuY29kZVF1ZXJ5VmFsdWUodGV4dCkge1xuICAgIHJldHVybiAoY29tbW9uRW5jb2RlKHRleHQpXG4gICAgICAgIC8vIEVuY29kZSB0aGUgc3BhY2UgYXMgKywgZW5jb2RlIHRoZSArIHRvIGRpZmZlcmVudGlhdGUgaXQgZnJvbSB0aGUgc3BhY2VcbiAgICAgICAgLnJlcGxhY2UoUExVU19SRSwgJyUyQicpXG4gICAgICAgIC5yZXBsYWNlKEVOQ19TUEFDRV9SRSwgJysnKVxuICAgICAgICAucmVwbGFjZShIQVNIX1JFLCAnJTIzJylcbiAgICAgICAgLnJlcGxhY2UoQU1QRVJTQU5EX1JFLCAnJTI2JylcbiAgICAgICAgLnJlcGxhY2UoRU5DX0JBQ0tUSUNLX1JFLCAnYCcpXG4gICAgICAgIC5yZXBsYWNlKEVOQ19DVVJMWV9PUEVOX1JFLCAneycpXG4gICAgICAgIC5yZXBsYWNlKEVOQ19DVVJMWV9DTE9TRV9SRSwgJ30nKVxuICAgICAgICAucmVwbGFjZShFTkNfQ0FSRVRfUkUsICdeJykpO1xufVxuLyoqXG4gKiBMaWtlIGBlbmNvZGVRdWVyeVZhbHVlYCBidXQgYWxzbyBlbmNvZGVzIHRoZSBgPWAgY2hhcmFjdGVyLlxuICpcbiAqIEBwYXJhbSB0ZXh0IC0gc3RyaW5nIHRvIGVuY29kZVxuICovXG5mdW5jdGlvbiBlbmNvZGVRdWVyeUtleSh0ZXh0KSB7XG4gICAgcmV0dXJuIGVuY29kZVF1ZXJ5VmFsdWUodGV4dCkucmVwbGFjZShFUVVBTF9SRSwgJyUzRCcpO1xufVxuLyoqXG4gKiBFbmNvZGUgY2hhcmFjdGVycyB0aGF0IG5lZWQgdG8gYmUgZW5jb2RlZCBvbiB0aGUgcGF0aCBzZWN0aW9uIG9mIHRoZSBVUkwuXG4gKlxuICogQHBhcmFtIHRleHQgLSBzdHJpbmcgdG8gZW5jb2RlXG4gKiBAcmV0dXJucyBlbmNvZGVkIHN0cmluZ1xuICovXG5mdW5jdGlvbiBlbmNvZGVQYXRoKHRleHQpIHtcbiAgICByZXR1cm4gY29tbW9uRW5jb2RlKHRleHQpLnJlcGxhY2UoSEFTSF9SRSwgJyUyMycpLnJlcGxhY2UoSU1fUkUsICclM0YnKTtcbn1cbi8qKlxuICogRW5jb2RlIGNoYXJhY3RlcnMgdGhhdCBuZWVkIHRvIGJlIGVuY29kZWQgb24gdGhlIHBhdGggc2VjdGlvbiBvZiB0aGUgVVJMIGFzIGFcbiAqIHBhcmFtLiBUaGlzIGZ1bmN0aW9uIGVuY29kZXMgZXZlcnl0aGluZyB7QGxpbmsgZW5jb2RlUGF0aH0gZG9lcyBwbHVzIHRoZVxuICogc2xhc2ggKGAvYCkgY2hhcmFjdGVyLiBJZiBgdGV4dGAgaXMgYG51bGxgIG9yIGB1bmRlZmluZWRgLCByZXR1cm5zIGFuIGVtcHR5XG4gKiBzdHJpbmcgaW5zdGVhZC5cbiAqXG4gKiBAcGFyYW0gdGV4dCAtIHN0cmluZyB0byBlbmNvZGVcbiAqIEByZXR1cm5zIGVuY29kZWQgc3RyaW5nXG4gKi9cbmZ1bmN0aW9uIGVuY29kZVBhcmFtKHRleHQpIHtcbiAgICByZXR1cm4gdGV4dCA9PSBudWxsID8gJycgOiBlbmNvZGVQYXRoKHRleHQpLnJlcGxhY2UoU0xBU0hfUkUsICclMkYnKTtcbn1cbi8qKlxuICogRGVjb2RlIHRleHQgdXNpbmcgYGRlY29kZVVSSUNvbXBvbmVudGAuIFJldHVybnMgdGhlIG9yaWdpbmFsIHRleHQgaWYgaXRcbiAqIGZhaWxzLlxuICpcbiAqIEBwYXJhbSB0ZXh0IC0gc3RyaW5nIHRvIGRlY29kZVxuICogQHJldHVybnMgZGVjb2RlZCBzdHJpbmdcbiAqL1xuZnVuY3Rpb24gZGVjb2RlKHRleHQpIHtcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KCcnICsgdGV4dCk7XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHdhcm4oYEVycm9yIGRlY29kaW5nIFwiJHt0ZXh0fVwiLiBVc2luZyBvcmlnaW5hbCB2YWx1ZWApO1xuICAgIH1cbiAgICByZXR1cm4gJycgKyB0ZXh0O1xufVxuXG5jb25zdCBUUkFJTElOR19TTEFTSF9SRSA9IC9cXC8kLztcbmNvbnN0IHJlbW92ZVRyYWlsaW5nU2xhc2ggPSAocGF0aCkgPT4gcGF0aC5yZXBsYWNlKFRSQUlMSU5HX1NMQVNIX1JFLCAnJyk7XG4vKipcbiAqIFRyYW5zZm9ybXMgYSBVUkkgaW50byBhIG5vcm1hbGl6ZWQgaGlzdG9yeSBsb2NhdGlvblxuICpcbiAqIEBwYXJhbSBwYXJzZVF1ZXJ5XG4gKiBAcGFyYW0gbG9jYXRpb24gLSBVUkkgdG8gbm9ybWFsaXplXG4gKiBAcGFyYW0gY3VycmVudExvY2F0aW9uIC0gY3VycmVudCBhYnNvbHV0ZSBsb2NhdGlvbi4gQWxsb3dzIHJlc29sdmluZyByZWxhdGl2ZVxuICogcGF0aHMuIE11c3Qgc3RhcnQgd2l0aCBgL2AuIERlZmF1bHRzIHRvIGAvYFxuICogQHJldHVybnMgYSBub3JtYWxpemVkIGhpc3RvcnkgbG9jYXRpb25cbiAqL1xuZnVuY3Rpb24gcGFyc2VVUkwocGFyc2VRdWVyeSwgbG9jYXRpb24sIGN1cnJlbnRMb2NhdGlvbiA9ICcvJykge1xuICAgIGxldCBwYXRoLCBxdWVyeSA9IHt9LCBzZWFyY2hTdHJpbmcgPSAnJywgaGFzaCA9ICcnO1xuICAgIC8vIENvdWxkIHVzZSBVUkwgYW5kIFVSTFNlYXJjaFBhcmFtcyBidXQgSUUgMTEgZG9lc24ndCBzdXBwb3J0IGl0XG4gICAgLy8gVE9ETzogbW92ZSB0byBuZXcgVVJMKClcbiAgICBjb25zdCBoYXNoUG9zID0gbG9jYXRpb24uaW5kZXhPZignIycpO1xuICAgIGxldCBzZWFyY2hQb3MgPSBsb2NhdGlvbi5pbmRleE9mKCc/Jyk7XG4gICAgLy8gdGhlIGhhc2ggYXBwZWFycyBiZWZvcmUgdGhlIHNlYXJjaCwgc28gaXQncyBub3QgcGFydCBvZiB0aGUgc2VhcmNoIHN0cmluZ1xuICAgIGlmIChoYXNoUG9zIDwgc2VhcmNoUG9zICYmIGhhc2hQb3MgPj0gMCkge1xuICAgICAgICBzZWFyY2hQb3MgPSAtMTtcbiAgICB9XG4gICAgaWYgKHNlYXJjaFBvcyA+IC0xKSB7XG4gICAgICAgIHBhdGggPSBsb2NhdGlvbi5zbGljZSgwLCBzZWFyY2hQb3MpO1xuICAgICAgICBzZWFyY2hTdHJpbmcgPSBsb2NhdGlvbi5zbGljZShzZWFyY2hQb3MgKyAxLCBoYXNoUG9zID4gLTEgPyBoYXNoUG9zIDogbG9jYXRpb24ubGVuZ3RoKTtcbiAgICAgICAgcXVlcnkgPSBwYXJzZVF1ZXJ5KHNlYXJjaFN0cmluZyk7XG4gICAgfVxuICAgIGlmIChoYXNoUG9zID4gLTEpIHtcbiAgICAgICAgcGF0aCA9IHBhdGggfHwgbG9jYXRpb24uc2xpY2UoMCwgaGFzaFBvcyk7XG4gICAgICAgIC8vIGtlZXAgdGhlICMgY2hhcmFjdGVyXG4gICAgICAgIGhhc2ggPSBsb2NhdGlvbi5zbGljZShoYXNoUG9zLCBsb2NhdGlvbi5sZW5ndGgpO1xuICAgIH1cbiAgICAvLyBubyBzZWFyY2ggYW5kIG5vIHF1ZXJ5XG4gICAgcGF0aCA9IHJlc29sdmVSZWxhdGl2ZVBhdGgocGF0aCAhPSBudWxsID8gcGF0aCA6IGxvY2F0aW9uLCBjdXJyZW50TG9jYXRpb24pO1xuICAgIC8vIGVtcHR5IHBhdGggbWVhbnMgYSByZWxhdGl2ZSBxdWVyeSBvciBoYXNoIGA/Zm9vPWZgLCBgI3RoaW5nYFxuICAgIHJldHVybiB7XG4gICAgICAgIGZ1bGxQYXRoOiBwYXRoICsgKHNlYXJjaFN0cmluZyAmJiAnPycpICsgc2VhcmNoU3RyaW5nICsgaGFzaCxcbiAgICAgICAgcGF0aCxcbiAgICAgICAgcXVlcnksXG4gICAgICAgIGhhc2g6IGRlY29kZShoYXNoKSxcbiAgICB9O1xufVxuLyoqXG4gKiBTdHJpbmdpZmllcyBhIFVSTCBvYmplY3RcbiAqXG4gKiBAcGFyYW0gc3RyaW5naWZ5UXVlcnlcbiAqIEBwYXJhbSBsb2NhdGlvblxuICovXG5mdW5jdGlvbiBzdHJpbmdpZnlVUkwoc3RyaW5naWZ5UXVlcnksIGxvY2F0aW9uKSB7XG4gICAgY29uc3QgcXVlcnkgPSBsb2NhdGlvbi5xdWVyeSA/IHN0cmluZ2lmeVF1ZXJ5KGxvY2F0aW9uLnF1ZXJ5KSA6ICcnO1xuICAgIHJldHVybiBsb2NhdGlvbi5wYXRoICsgKHF1ZXJ5ICYmICc/JykgKyBxdWVyeSArIChsb2NhdGlvbi5oYXNoIHx8ICcnKTtcbn1cbi8qKlxuICogU3RyaXBzIG9mZiB0aGUgYmFzZSBmcm9tIHRoZSBiZWdpbm5pbmcgb2YgYSBsb2NhdGlvbi5wYXRobmFtZSBpbiBhIG5vbi1jYXNlLXNlbnNpdGl2ZSB3YXkuXG4gKlxuICogQHBhcmFtIHBhdGhuYW1lIC0gbG9jYXRpb24ucGF0aG5hbWVcbiAqIEBwYXJhbSBiYXNlIC0gYmFzZSB0byBzdHJpcCBvZmZcbiAqL1xuZnVuY3Rpb24gc3RyaXBCYXNlKHBhdGhuYW1lLCBiYXNlKSB7XG4gICAgLy8gbm8gYmFzZSBvciBiYXNlIGlzIG5vdCBmb3VuZCBhdCB0aGUgYmVnaW5uaW5nXG4gICAgaWYgKCFiYXNlIHx8ICFwYXRobmFtZS50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgoYmFzZS50b0xvd2VyQ2FzZSgpKSlcbiAgICAgICAgcmV0dXJuIHBhdGhuYW1lO1xuICAgIHJldHVybiBwYXRobmFtZS5zbGljZShiYXNlLmxlbmd0aCkgfHwgJy8nO1xufVxuLyoqXG4gKiBDaGVja3MgaWYgdHdvIFJvdXRlTG9jYXRpb24gYXJlIGVxdWFsLiBUaGlzIG1lYW5zIHRoYXQgYm90aCBsb2NhdGlvbnMgYXJlXG4gKiBwb2ludGluZyB0b3dhcmRzIHRoZSBzYW1lIHtAbGluayBSb3V0ZVJlY29yZH0gYW5kIHRoYXQgYWxsIGBwYXJhbXNgLCBgcXVlcnlgXG4gKiBwYXJhbWV0ZXJzIGFuZCBgaGFzaGAgYXJlIHRoZSBzYW1lXG4gKlxuICogQHBhcmFtIHN0cmluZ2lmeVF1ZXJ5IC0gQSBmdW5jdGlvbiB0aGF0IHRha2VzIGEgcXVlcnkgb2JqZWN0IG9mIHR5cGUgTG9jYXRpb25RdWVyeVJhdyBhbmQgcmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBpdC5cbiAqIEBwYXJhbSBhIC0gZmlyc3Qge0BsaW5rIFJvdXRlTG9jYXRpb259XG4gKiBAcGFyYW0gYiAtIHNlY29uZCB7QGxpbmsgUm91dGVMb2NhdGlvbn1cbiAqL1xuZnVuY3Rpb24gaXNTYW1lUm91dGVMb2NhdGlvbihzdHJpbmdpZnlRdWVyeSwgYSwgYikge1xuICAgIGNvbnN0IGFMYXN0SW5kZXggPSBhLm1hdGNoZWQubGVuZ3RoIC0gMTtcbiAgICBjb25zdCBiTGFzdEluZGV4ID0gYi5tYXRjaGVkLmxlbmd0aCAtIDE7XG4gICAgcmV0dXJuIChhTGFzdEluZGV4ID4gLTEgJiZcbiAgICAgICAgYUxhc3RJbmRleCA9PT0gYkxhc3RJbmRleCAmJlxuICAgICAgICBpc1NhbWVSb3V0ZVJlY29yZChhLm1hdGNoZWRbYUxhc3RJbmRleF0sIGIubWF0Y2hlZFtiTGFzdEluZGV4XSkgJiZcbiAgICAgICAgaXNTYW1lUm91dGVMb2NhdGlvblBhcmFtcyhhLnBhcmFtcywgYi5wYXJhbXMpICYmXG4gICAgICAgIHN0cmluZ2lmeVF1ZXJ5KGEucXVlcnkpID09PSBzdHJpbmdpZnlRdWVyeShiLnF1ZXJ5KSAmJlxuICAgICAgICBhLmhhc2ggPT09IGIuaGFzaCk7XG59XG4vKipcbiAqIENoZWNrIGlmIHR3byBgUm91dGVSZWNvcmRzYCBhcmUgZXF1YWwuIFRha2VzIGludG8gYWNjb3VudCBhbGlhc2VzOiB0aGV5IGFyZVxuICogY29uc2lkZXJlZCBlcXVhbCB0byB0aGUgYFJvdXRlUmVjb3JkYCB0aGV5IGFyZSBhbGlhc2luZy5cbiAqXG4gKiBAcGFyYW0gYSAtIGZpcnN0IHtAbGluayBSb3V0ZVJlY29yZH1cbiAqIEBwYXJhbSBiIC0gc2Vjb25kIHtAbGluayBSb3V0ZVJlY29yZH1cbiAqL1xuZnVuY3Rpb24gaXNTYW1lUm91dGVSZWNvcmQoYSwgYikge1xuICAgIC8vIHNpbmNlIHRoZSBvcmlnaW5hbCByZWNvcmQgaGFzIGFuIHVuZGVmaW5lZCB2YWx1ZSBmb3IgYWxpYXNPZlxuICAgIC8vIGJ1dCBhbGwgYWxpYXNlcyBwb2ludCB0byB0aGUgb3JpZ2luYWwgcmVjb3JkLCB0aGlzIHdpbGwgYWx3YXlzIGNvbXBhcmVcbiAgICAvLyB0aGUgb3JpZ2luYWwgcmVjb3JkXG4gICAgcmV0dXJuIChhLmFsaWFzT2YgfHwgYSkgPT09IChiLmFsaWFzT2YgfHwgYik7XG59XG5mdW5jdGlvbiBpc1NhbWVSb3V0ZUxvY2F0aW9uUGFyYW1zKGEsIGIpIHtcbiAgICBpZiAoT2JqZWN0LmtleXMoYSkubGVuZ3RoICE9PSBPYmplY3Qua2V5cyhiKS5sZW5ndGgpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBhKSB7XG4gICAgICAgIGlmICghaXNTYW1lUm91dGVMb2NhdGlvblBhcmFtc1ZhbHVlKGFba2V5XSwgYltrZXldKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiBpc1NhbWVSb3V0ZUxvY2F0aW9uUGFyYW1zVmFsdWUoYSwgYikge1xuICAgIHJldHVybiBpc0FycmF5KGEpXG4gICAgICAgID8gaXNFcXVpdmFsZW50QXJyYXkoYSwgYilcbiAgICAgICAgOiBpc0FycmF5KGIpXG4gICAgICAgICAgICA/IGlzRXF1aXZhbGVudEFycmF5KGIsIGEpXG4gICAgICAgICAgICA6IGEgPT09IGI7XG59XG4vKipcbiAqIENoZWNrIGlmIHR3byBhcnJheXMgYXJlIHRoZSBzYW1lIG9yIGlmIGFuIGFycmF5IHdpdGggb25lIHNpbmdsZSBlbnRyeSBpcyB0aGVcbiAqIHNhbWUgYXMgYW5vdGhlciBwcmltaXRpdmUgdmFsdWUuIFVzZWQgdG8gY2hlY2sgcXVlcnkgYW5kIHBhcmFtZXRlcnNcbiAqXG4gKiBAcGFyYW0gYSAtIGFycmF5IG9mIHZhbHVlc1xuICogQHBhcmFtIGIgLSBhcnJheSBvZiB2YWx1ZXMgb3IgYSBzaW5nbGUgdmFsdWVcbiAqL1xuZnVuY3Rpb24gaXNFcXVpdmFsZW50QXJyYXkoYSwgYikge1xuICAgIHJldHVybiBpc0FycmF5KGIpXG4gICAgICAgID8gYS5sZW5ndGggPT09IGIubGVuZ3RoICYmIGEuZXZlcnkoKHZhbHVlLCBpKSA9PiB2YWx1ZSA9PT0gYltpXSlcbiAgICAgICAgOiBhLmxlbmd0aCA9PT0gMSAmJiBhWzBdID09PSBiO1xufVxuLyoqXG4gKiBSZXNvbHZlcyBhIHJlbGF0aXZlIHBhdGggdGhhdCBzdGFydHMgd2l0aCBgLmAuXG4gKlxuICogQHBhcmFtIHRvIC0gcGF0aCBsb2NhdGlvbiB3ZSBhcmUgcmVzb2x2aW5nXG4gKiBAcGFyYW0gZnJvbSAtIGN1cnJlbnRMb2NhdGlvbi5wYXRoLCBzaG91bGQgc3RhcnQgd2l0aCBgL2BcbiAqL1xuZnVuY3Rpb24gcmVzb2x2ZVJlbGF0aXZlUGF0aCh0bywgZnJvbSkge1xuICAgIGlmICh0by5zdGFydHNXaXRoKCcvJykpXG4gICAgICAgIHJldHVybiB0bztcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFmcm9tLnN0YXJ0c1dpdGgoJy8nKSkge1xuICAgICAgICB3YXJuKGBDYW5ub3QgcmVzb2x2ZSBhIHJlbGF0aXZlIGxvY2F0aW9uIHdpdGhvdXQgYW4gYWJzb2x1dGUgcGF0aC4gVHJ5aW5nIHRvIHJlc29sdmUgXCIke3RvfVwiIGZyb20gXCIke2Zyb219XCIuIEl0IHNob3VsZCBsb29rIGxpa2UgXCIvJHtmcm9tfVwiLmApO1xuICAgICAgICByZXR1cm4gdG87XG4gICAgfVxuICAgIGlmICghdG8pXG4gICAgICAgIHJldHVybiBmcm9tO1xuICAgIGNvbnN0IGZyb21TZWdtZW50cyA9IGZyb20uc3BsaXQoJy8nKTtcbiAgICBjb25zdCB0b1NlZ21lbnRzID0gdG8uc3BsaXQoJy8nKTtcbiAgICBjb25zdCBsYXN0VG9TZWdtZW50ID0gdG9TZWdtZW50c1t0b1NlZ21lbnRzLmxlbmd0aCAtIDFdO1xuICAgIC8vIG1ha2UgLiBhbmQgLi8gdGhlIHNhbWUgKC4uLyA9PT0gLi4sIC4uLy4uLyA9PT0gLi4vLi4pXG4gICAgLy8gdGhpcyBpcyB0aGUgc2FtZSBiZWhhdmlvciBhcyBuZXcgVVJMKClcbiAgICBpZiAobGFzdFRvU2VnbWVudCA9PT0gJy4uJyB8fCBsYXN0VG9TZWdtZW50ID09PSAnLicpIHtcbiAgICAgICAgdG9TZWdtZW50cy5wdXNoKCcnKTtcbiAgICB9XG4gICAgbGV0IHBvc2l0aW9uID0gZnJvbVNlZ21lbnRzLmxlbmd0aCAtIDE7XG4gICAgbGV0IHRvUG9zaXRpb247XG4gICAgbGV0IHNlZ21lbnQ7XG4gICAgZm9yICh0b1Bvc2l0aW9uID0gMDsgdG9Qb3NpdGlvbiA8IHRvU2VnbWVudHMubGVuZ3RoOyB0b1Bvc2l0aW9uKyspIHtcbiAgICAgICAgc2VnbWVudCA9IHRvU2VnbWVudHNbdG9Qb3NpdGlvbl07XG4gICAgICAgIC8vIHdlIHN0YXkgb24gdGhlIHNhbWUgcG9zaXRpb25cbiAgICAgICAgaWYgKHNlZ21lbnQgPT09ICcuJylcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAvLyBnbyB1cCBpbiB0aGUgZnJvbSBhcnJheVxuICAgICAgICBpZiAoc2VnbWVudCA9PT0gJy4uJykge1xuICAgICAgICAgICAgLy8gd2UgY2FuJ3QgZ28gYmVsb3cgemVybywgYnV0IHdlIHN0aWxsIG5lZWQgdG8gaW5jcmVtZW50IHRvUG9zaXRpb25cbiAgICAgICAgICAgIGlmIChwb3NpdGlvbiA+IDEpXG4gICAgICAgICAgICAgICAgcG9zaXRpb24tLTtcbiAgICAgICAgICAgIC8vIGNvbnRpbnVlXG4gICAgICAgIH1cbiAgICAgICAgLy8gd2UgcmVhY2hlZCBhIG5vbi1yZWxhdGl2ZSBwYXRoLCB3ZSBzdG9wIGhlcmVcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiAoZnJvbVNlZ21lbnRzLnNsaWNlKDAsIHBvc2l0aW9uKS5qb2luKCcvJykgK1xuICAgICAgICAnLycgK1xuICAgICAgICB0b1NlZ21lbnRzLnNsaWNlKHRvUG9zaXRpb24pLmpvaW4oJy8nKSk7XG59XG5cbnZhciBOYXZpZ2F0aW9uVHlwZTtcbihmdW5jdGlvbiAoTmF2aWdhdGlvblR5cGUpIHtcbiAgICBOYXZpZ2F0aW9uVHlwZVtcInBvcFwiXSA9IFwicG9wXCI7XG4gICAgTmF2aWdhdGlvblR5cGVbXCJwdXNoXCJdID0gXCJwdXNoXCI7XG59KShOYXZpZ2F0aW9uVHlwZSB8fCAoTmF2aWdhdGlvblR5cGUgPSB7fSkpO1xudmFyIE5hdmlnYXRpb25EaXJlY3Rpb247XG4oZnVuY3Rpb24gKE5hdmlnYXRpb25EaXJlY3Rpb24pIHtcbiAgICBOYXZpZ2F0aW9uRGlyZWN0aW9uW1wiYmFja1wiXSA9IFwiYmFja1wiO1xuICAgIE5hdmlnYXRpb25EaXJlY3Rpb25bXCJmb3J3YXJkXCJdID0gXCJmb3J3YXJkXCI7XG4gICAgTmF2aWdhdGlvbkRpcmVjdGlvbltcInVua25vd25cIl0gPSBcIlwiO1xufSkoTmF2aWdhdGlvbkRpcmVjdGlvbiB8fCAoTmF2aWdhdGlvbkRpcmVjdGlvbiA9IHt9KSk7XG4vKipcbiAqIFN0YXJ0aW5nIGxvY2F0aW9uIGZvciBIaXN0b3JpZXNcbiAqL1xuY29uc3QgU1RBUlQgPSAnJztcbi8vIEdlbmVyaWMgdXRpbHNcbi8qKlxuICogTm9ybWFsaXplcyBhIGJhc2UgYnkgcmVtb3ZpbmcgYW55IHRyYWlsaW5nIHNsYXNoIGFuZCByZWFkaW5nIHRoZSBiYXNlIHRhZyBpZlxuICogcHJlc2VudC5cbiAqXG4gKiBAcGFyYW0gYmFzZSAtIGJhc2UgdG8gbm9ybWFsaXplXG4gKi9cbmZ1bmN0aW9uIG5vcm1hbGl6ZUJhc2UoYmFzZSkge1xuICAgIGlmICghYmFzZSkge1xuICAgICAgICBpZiAoaXNCcm93c2VyKSB7XG4gICAgICAgICAgICAvLyByZXNwZWN0IDxiYXNlPiB0YWdcbiAgICAgICAgICAgIGNvbnN0IGJhc2VFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Jhc2UnKTtcbiAgICAgICAgICAgIGJhc2UgPSAoYmFzZUVsICYmIGJhc2VFbC5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSkgfHwgJy8nO1xuICAgICAgICAgICAgLy8gc3RyaXAgZnVsbCBVUkwgb3JpZ2luXG4gICAgICAgICAgICBiYXNlID0gYmFzZS5yZXBsYWNlKC9eXFx3KzpcXC9cXC9bXlxcL10rLywgJycpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYmFzZSA9ICcvJztcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBlbnN1cmUgbGVhZGluZyBzbGFzaCB3aGVuIGl0IHdhcyByZW1vdmVkIGJ5IHRoZSByZWdleCBhYm92ZSBhdm9pZCBsZWFkaW5nXG4gICAgLy8gc2xhc2ggd2l0aCBoYXNoIGJlY2F1c2UgdGhlIGZpbGUgY291bGQgYmUgcmVhZCBmcm9tIHRoZSBkaXNrIGxpa2UgZmlsZTovL1xuICAgIC8vIGFuZCB0aGUgbGVhZGluZyBzbGFzaCB3b3VsZCBjYXVzZSBwcm9ibGVtc1xuICAgIGlmIChiYXNlWzBdICE9PSAnLycgJiYgYmFzZVswXSAhPT0gJyMnKVxuICAgICAgICBiYXNlID0gJy8nICsgYmFzZTtcbiAgICAvLyByZW1vdmUgdGhlIHRyYWlsaW5nIHNsYXNoIHNvIGFsbCBvdGhlciBtZXRob2QgY2FuIGp1c3QgZG8gYGJhc2UgKyBmdWxsUGF0aGBcbiAgICAvLyB0byBidWlsZCBhbiBocmVmXG4gICAgcmV0dXJuIHJlbW92ZVRyYWlsaW5nU2xhc2goYmFzZSk7XG59XG4vLyByZW1vdmUgYW55IGNoYXJhY3RlciBiZWZvcmUgdGhlIGhhc2hcbmNvbnN0IEJFRk9SRV9IQVNIX1JFID0gL15bXiNdKyMvO1xuZnVuY3Rpb24gY3JlYXRlSHJlZihiYXNlLCBsb2NhdGlvbikge1xuICAgIHJldHVybiBiYXNlLnJlcGxhY2UoQkVGT1JFX0hBU0hfUkUsICcjJykgKyBsb2NhdGlvbjtcbn1cblxuZnVuY3Rpb24gZ2V0RWxlbWVudFBvc2l0aW9uKGVsLCBvZmZzZXQpIHtcbiAgICBjb25zdCBkb2NSZWN0ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IGVsUmVjdCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGJlaGF2aW9yOiBvZmZzZXQuYmVoYXZpb3IsXG4gICAgICAgIGxlZnQ6IGVsUmVjdC5sZWZ0IC0gZG9jUmVjdC5sZWZ0IC0gKG9mZnNldC5sZWZ0IHx8IDApLFxuICAgICAgICB0b3A6IGVsUmVjdC50b3AgLSBkb2NSZWN0LnRvcCAtIChvZmZzZXQudG9wIHx8IDApLFxuICAgIH07XG59XG5jb25zdCBjb21wdXRlU2Nyb2xsUG9zaXRpb24gPSAoKSA9PiAoe1xuICAgIGxlZnQ6IHdpbmRvdy5zY3JvbGxYLFxuICAgIHRvcDogd2luZG93LnNjcm9sbFksXG59KTtcbmZ1bmN0aW9uIHNjcm9sbFRvUG9zaXRpb24ocG9zaXRpb24pIHtcbiAgICBsZXQgc2Nyb2xsVG9PcHRpb25zO1xuICAgIGlmICgnZWwnIGluIHBvc2l0aW9uKSB7XG4gICAgICAgIGNvbnN0IHBvc2l0aW9uRWwgPSBwb3NpdGlvbi5lbDtcbiAgICAgICAgY29uc3QgaXNJZFNlbGVjdG9yID0gdHlwZW9mIHBvc2l0aW9uRWwgPT09ICdzdHJpbmcnICYmIHBvc2l0aW9uRWwuc3RhcnRzV2l0aCgnIycpO1xuICAgICAgICAvKipcbiAgICAgICAgICogYGlkYHMgY2FuIGFjY2VwdCBwcmV0dHkgbXVjaCBhbnkgY2hhcmFjdGVycywgaW5jbHVkaW5nIENTUyBjb21iaW5hdG9yc1xuICAgICAgICAgKiBsaWtlIGA+YCBvciBgfmAuIEl0J3Mgc3RpbGwgcG9zc2libGUgdG8gcmV0cmlldmUgZWxlbWVudHMgdXNpbmdcbiAgICAgICAgICogYGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd+JylgIGJ1dCBpdCBuZWVkcyB0byBiZSBlc2NhcGVkIHdoZW4gdXNpbmdcbiAgICAgICAgICogYGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNcXFxcficpYCBmb3IgaXQgdG8gYmUgdmFsaWQuIFRoZSBvbmx5XG4gICAgICAgICAqIHJlcXVpcmVtZW50cyBmb3IgYGlkYHMgYXJlIHRoZW0gdG8gYmUgdW5pcXVlIG9uIHRoZSBwYWdlIGFuZCB0byBub3QgYmVcbiAgICAgICAgICogZW1wdHkgKGBpZD1cIlwiYCkuIEJlY2F1c2Ugb2YgdGhhdCwgd2hlbiBwYXNzaW5nIGFuIGlkIHNlbGVjdG9yLCBpdCBzaG91bGRcbiAgICAgICAgICogYmUgcHJvcGVybHkgZXNjYXBlZCBmb3IgaXQgdG8gd29yayB3aXRoIGBxdWVyeVNlbGVjdG9yYC4gV2UgY291bGQgY2hlY2tcbiAgICAgICAgICogZm9yIHRoZSBpZCBzZWxlY3RvciB0byBiZSBzaW1wbGUgKG5vIENTUyBjb21iaW5hdG9ycyBgKyA+fmApIGJ1dCB0aGF0XG4gICAgICAgICAqIHdvdWxkIG1ha2UgdGhpbmdzIGluY29uc2lzdGVudCBzaW5jZSB0aGV5IGFyZSB2YWxpZCBjaGFyYWN0ZXJzIGZvciBhblxuICAgICAgICAgKiBgaWRgIGJ1dCB3b3VsZCBuZWVkIHRvIGJlIGVzY2FwZWQgd2hlbiB1c2luZyBgcXVlcnlTZWxlY3RvcmAsIGJyZWFraW5nXG4gICAgICAgICAqIHRoZWlyIHVzYWdlIGFuZCBlbmRpbmcgdXAgaW4gbm8gc2VsZWN0b3IgcmV0dXJuZWQuIFNlbGVjdG9ycyBuZWVkIHRvIGJlXG4gICAgICAgICAqIGVzY2FwZWQ6XG4gICAgICAgICAqXG4gICAgICAgICAqIC0gYCMxLXRoaW5nYCBiZWNvbWVzIGAjXFwzMSAtdGhpbmdgXG4gICAgICAgICAqIC0gYCN3aXRofnN5bWJvbHNgIGJlY29tZXMgYCN3aXRoXFxcXH5zeW1ib2xzYFxuICAgICAgICAgKlxuICAgICAgICAgKiAtIE1vcmUgaW5mb3JtYXRpb24gYWJvdXQgIHRoZSB0b3BpYyBjYW4gYmUgZm91bmQgYXRcbiAgICAgICAgICogICBodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvaHRtbDUtaWQtY2xhc3MuXG4gICAgICAgICAqIC0gUHJhY3RpY2FsIGV4YW1wbGU6IGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9kZW1vL2h0bWw1LWlkXG4gICAgICAgICAqL1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHR5cGVvZiBwb3NpdGlvbi5lbCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGlmICghaXNJZFNlbGVjdG9yIHx8ICFkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwb3NpdGlvbi5lbC5zbGljZSgxKSkpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmb3VuZEVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3NpdGlvbi5lbCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0lkU2VsZWN0b3IgJiYgZm91bmRFbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2FybihgVGhlIHNlbGVjdG9yIFwiJHtwb3NpdGlvbi5lbH1cIiBzaG91bGQgYmUgcGFzc2VkIGFzIFwiZWw6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyR7cG9zaXRpb24uZWx9JylcIiBiZWNhdXNlIGl0IHN0YXJ0cyB3aXRoIFwiI1wiLmApO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJuIHRvIGF2b2lkIG90aGVyIHdhcm5pbmdzXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICB3YXJuKGBUaGUgc2VsZWN0b3IgXCIke3Bvc2l0aW9uLmVsfVwiIGlzIGludmFsaWQuIElmIHlvdSBhcmUgdXNpbmcgYW4gaWQgc2VsZWN0b3IsIG1ha2Ugc3VyZSB0byBlc2NhcGUgaXQuIFlvdSBjYW4gZmluZCBtb3JlIGluZm9ybWF0aW9uIGFib3V0IGVzY2FwaW5nIGNoYXJhY3RlcnMgaW4gc2VsZWN0b3JzIGF0IGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9jc3MtZXNjYXBlcyBvciB1c2UgQ1NTLmVzY2FwZSAoaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0NTUy9lc2NhcGUpLmApO1xuICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm4gdG8gYXZvaWQgb3RoZXIgd2FybmluZ3NcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlbCA9IHR5cGVvZiBwb3NpdGlvbkVsID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgPyBpc0lkU2VsZWN0b3JcbiAgICAgICAgICAgICAgICA/IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHBvc2l0aW9uRWwuc2xpY2UoMSkpXG4gICAgICAgICAgICAgICAgOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvc2l0aW9uRWwpXG4gICAgICAgICAgICA6IHBvc2l0aW9uRWw7XG4gICAgICAgIGlmICghZWwpIHtcbiAgICAgICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxuICAgICAgICAgICAgICAgIHdhcm4oYENvdWxkbid0IGZpbmQgZWxlbWVudCB1c2luZyBzZWxlY3RvciBcIiR7cG9zaXRpb24uZWx9XCIgcmV0dXJuZWQgYnkgc2Nyb2xsQmVoYXZpb3IuYCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2Nyb2xsVG9PcHRpb25zID0gZ2V0RWxlbWVudFBvc2l0aW9uKGVsLCBwb3NpdGlvbik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBzY3JvbGxUb09wdGlvbnMgPSBwb3NpdGlvbjtcbiAgICB9XG4gICAgaWYgKCdzY3JvbGxCZWhhdmlvcicgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlKVxuICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oc2Nyb2xsVG9PcHRpb25zKTtcbiAgICBlbHNlIHtcbiAgICAgICAgd2luZG93LnNjcm9sbFRvKHNjcm9sbFRvT3B0aW9ucy5sZWZ0ICE9IG51bGwgPyBzY3JvbGxUb09wdGlvbnMubGVmdCA6IHdpbmRvdy5zY3JvbGxYLCBzY3JvbGxUb09wdGlvbnMudG9wICE9IG51bGwgPyBzY3JvbGxUb09wdGlvbnMudG9wIDogd2luZG93LnNjcm9sbFkpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldFNjcm9sbEtleShwYXRoLCBkZWx0YSkge1xuICAgIGNvbnN0IHBvc2l0aW9uID0gaGlzdG9yeS5zdGF0ZSA/IGhpc3Rvcnkuc3RhdGUucG9zaXRpb24gLSBkZWx0YSA6IC0xO1xuICAgIHJldHVybiBwb3NpdGlvbiArIHBhdGg7XG59XG5jb25zdCBzY3JvbGxQb3NpdGlvbnMgPSBuZXcgTWFwKCk7XG5mdW5jdGlvbiBzYXZlU2Nyb2xsUG9zaXRpb24oa2V5LCBzY3JvbGxQb3NpdGlvbikge1xuICAgIHNjcm9sbFBvc2l0aW9ucy5zZXQoa2V5LCBzY3JvbGxQb3NpdGlvbik7XG59XG5mdW5jdGlvbiBnZXRTYXZlZFNjcm9sbFBvc2l0aW9uKGtleSkge1xuICAgIGNvbnN0IHNjcm9sbCA9IHNjcm9sbFBvc2l0aW9ucy5nZXQoa2V5KTtcbiAgICAvLyBjb25zdW1lIGl0IHNvIGl0J3Mgbm90IHVzZWQgYWdhaW5cbiAgICBzY3JvbGxQb3NpdGlvbnMuZGVsZXRlKGtleSk7XG4gICAgcmV0dXJuIHNjcm9sbDtcbn1cbi8vIFRPRE86IFJGQyBhYm91dCBob3cgdG8gc2F2ZSBzY3JvbGwgcG9zaXRpb25cbi8qKlxuICogU2Nyb2xsQmVoYXZpb3IgaW5zdGFuY2UgdXNlZCBieSB0aGUgcm91dGVyIHRvIGNvbXB1dGUgYW5kIHJlc3RvcmUgdGhlIHNjcm9sbFxuICogcG9zaXRpb24gd2hlbiBuYXZpZ2F0aW5nLlxuICovXG4vLyBleHBvcnQgaW50ZXJmYWNlIFNjcm9sbEhhbmRsZXI8U2Nyb2xsUG9zaXRpb25FbnRyeSBleHRlbmRzIEhpc3RvcnlTdGF0ZVZhbHVlLCBTY3JvbGxQb3NpdGlvbiBleHRlbmRzIFNjcm9sbFBvc2l0aW9uRW50cnk+IHtcbi8vICAgLy8gcmV0dXJucyBhIHNjcm9sbCBwb3NpdGlvbiB0aGF0IGNhbiBiZSBzYXZlZCBpbiBoaXN0b3J5XG4vLyAgIGNvbXB1dGUoKTogU2Nyb2xsUG9zaXRpb25FbnRyeVxuLy8gICAvLyBjYW4gdGFrZSBhbiBleHRlbmRlZCBTY3JvbGxQb3NpdGlvbkVudHJ5XG4vLyAgIHNjcm9sbChwb3NpdGlvbjogU2Nyb2xsUG9zaXRpb24pOiB2b2lkXG4vLyB9XG4vLyBleHBvcnQgY29uc3Qgc2Nyb2xsSGFuZGxlcjogU2Nyb2xsSGFuZGxlcjxTY3JvbGxQb3NpdGlvbj4gPSB7XG4vLyAgIGNvbXB1dGU6IGNvbXB1dGVTY3JvbGwsXG4vLyAgIHNjcm9sbDogc2Nyb2xsVG9Qb3NpdGlvbixcbi8vIH1cblxubGV0IGNyZWF0ZUJhc2VMb2NhdGlvbiA9ICgpID0+IGxvY2F0aW9uLnByb3RvY29sICsgJy8vJyArIGxvY2F0aW9uLmhvc3Q7XG4vKipcbiAqIENyZWF0ZXMgYSBub3JtYWxpemVkIGhpc3RvcnkgbG9jYXRpb24gZnJvbSBhIHdpbmRvdy5sb2NhdGlvbiBvYmplY3RcbiAqIEBwYXJhbSBiYXNlIC0gVGhlIGJhc2UgcGF0aFxuICogQHBhcmFtIGxvY2F0aW9uIC0gVGhlIHdpbmRvdy5sb2NhdGlvbiBvYmplY3RcbiAqL1xuZnVuY3Rpb24gY3JlYXRlQ3VycmVudExvY2F0aW9uKGJhc2UsIGxvY2F0aW9uKSB7XG4gICAgY29uc3QgeyBwYXRobmFtZSwgc2VhcmNoLCBoYXNoIH0gPSBsb2NhdGlvbjtcbiAgICAvLyBhbGxvd3MgaGFzaCBiYXNlcyBsaWtlICMsIC8jLCAjLywgIyEsICMhLywgLyMhLywgb3IgZXZlbiAvZm9sZGVyI2VuZFxuICAgIGNvbnN0IGhhc2hQb3MgPSBiYXNlLmluZGV4T2YoJyMnKTtcbiAgICBpZiAoaGFzaFBvcyA+IC0xKSB7XG4gICAgICAgIGxldCBzbGljZVBvcyA9IGhhc2guaW5jbHVkZXMoYmFzZS5zbGljZShoYXNoUG9zKSlcbiAgICAgICAgICAgID8gYmFzZS5zbGljZShoYXNoUG9zKS5sZW5ndGhcbiAgICAgICAgICAgIDogMTtcbiAgICAgICAgbGV0IHBhdGhGcm9tSGFzaCA9IGhhc2guc2xpY2Uoc2xpY2VQb3MpO1xuICAgICAgICAvLyBwcmVwZW5kIHRoZSBzdGFydGluZyBzbGFzaCB0byBoYXNoIHNvIHRoZSB1cmwgc3RhcnRzIHdpdGggLyNcbiAgICAgICAgaWYgKHBhdGhGcm9tSGFzaFswXSAhPT0gJy8nKVxuICAgICAgICAgICAgcGF0aEZyb21IYXNoID0gJy8nICsgcGF0aEZyb21IYXNoO1xuICAgICAgICByZXR1cm4gc3RyaXBCYXNlKHBhdGhGcm9tSGFzaCwgJycpO1xuICAgIH1cbiAgICBjb25zdCBwYXRoID0gc3RyaXBCYXNlKHBhdGhuYW1lLCBiYXNlKTtcbiAgICByZXR1cm4gcGF0aCArIHNlYXJjaCArIGhhc2g7XG59XG5mdW5jdGlvbiB1c2VIaXN0b3J5TGlzdGVuZXJzKGJhc2UsIGhpc3RvcnlTdGF0ZSwgY3VycmVudExvY2F0aW9uLCByZXBsYWNlKSB7XG4gICAgbGV0IGxpc3RlbmVycyA9IFtdO1xuICAgIGxldCB0ZWFyZG93bnMgPSBbXTtcbiAgICAvLyBUT0RPOiBzaG91bGQgaXQgYmUgYSBzdGFjaz8gYSBEaWN0LiBDaGVjayBpZiB0aGUgcG9wc3RhdGUgbGlzdGVuZXJcbiAgICAvLyBjYW4gdHJpZ2dlciB0d2ljZVxuICAgIGxldCBwYXVzZVN0YXRlID0gbnVsbDtcbiAgICBjb25zdCBwb3BTdGF0ZUhhbmRsZXIgPSAoeyBzdGF0ZSwgfSkgPT4ge1xuICAgICAgICBjb25zdCB0byA9IGNyZWF0ZUN1cnJlbnRMb2NhdGlvbihiYXNlLCBsb2NhdGlvbik7XG4gICAgICAgIGNvbnN0IGZyb20gPSBjdXJyZW50TG9jYXRpb24udmFsdWU7XG4gICAgICAgIGNvbnN0IGZyb21TdGF0ZSA9IGhpc3RvcnlTdGF0ZS52YWx1ZTtcbiAgICAgICAgbGV0IGRlbHRhID0gMDtcbiAgICAgICAgaWYgKHN0YXRlKSB7XG4gICAgICAgICAgICBjdXJyZW50TG9jYXRpb24udmFsdWUgPSB0bztcbiAgICAgICAgICAgIGhpc3RvcnlTdGF0ZS52YWx1ZSA9IHN0YXRlO1xuICAgICAgICAgICAgLy8gaWdub3JlIHRoZSBwb3BzdGF0ZSBhbmQgcmVzZXQgdGhlIHBhdXNlU3RhdGVcbiAgICAgICAgICAgIGlmIChwYXVzZVN0YXRlICYmIHBhdXNlU3RhdGUgPT09IGZyb20pIHtcbiAgICAgICAgICAgICAgICBwYXVzZVN0YXRlID0gbnVsbDtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWx0YSA9IGZyb21TdGF0ZSA/IHN0YXRlLnBvc2l0aW9uIC0gZnJvbVN0YXRlLnBvc2l0aW9uIDogMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlcGxhY2UodG8pO1xuICAgICAgICB9XG4gICAgICAgIC8vIEhlcmUgd2UgY291bGQgYWxzbyByZXZlcnQgdGhlIG5hdmlnYXRpb24gYnkgY2FsbGluZyBoaXN0b3J5LmdvKC1kZWx0YSlcbiAgICAgICAgLy8gdGhpcyBsaXN0ZW5lciB3aWxsIGhhdmUgdG8gYmUgYWRhcHRlZCB0byBub3QgdHJpZ2dlciBhZ2FpbiBhbmQgdG8gd2FpdCBmb3IgdGhlIHVybFxuICAgICAgICAvLyB0byBiZSB1cGRhdGVkIGJlZm9yZSB0cmlnZ2VyaW5nIHRoZSBsaXN0ZW5lcnMuIFNvbWUga2luZCBvZiB2YWxpZGF0aW9uIGZ1bmN0aW9uIHdvdWxkIGFsc29cbiAgICAgICAgLy8gbmVlZCB0byBiZSBwYXNzZWQgdG8gdGhlIGxpc3RlbmVycyBzbyB0aGUgbmF2aWdhdGlvbiBjYW4gYmUgYWNjZXB0ZWRcbiAgICAgICAgLy8gY2FsbCBhbGwgbGlzdGVuZXJzXG4gICAgICAgIGxpc3RlbmVycy5mb3JFYWNoKGxpc3RlbmVyID0+IHtcbiAgICAgICAgICAgIGxpc3RlbmVyKGN1cnJlbnRMb2NhdGlvbi52YWx1ZSwgZnJvbSwge1xuICAgICAgICAgICAgICAgIGRlbHRhLFxuICAgICAgICAgICAgICAgIHR5cGU6IE5hdmlnYXRpb25UeXBlLnBvcCxcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb246IGRlbHRhXG4gICAgICAgICAgICAgICAgICAgID8gZGVsdGEgPiAwXG4gICAgICAgICAgICAgICAgICAgICAgICA/IE5hdmlnYXRpb25EaXJlY3Rpb24uZm9yd2FyZFxuICAgICAgICAgICAgICAgICAgICAgICAgOiBOYXZpZ2F0aW9uRGlyZWN0aW9uLmJhY2tcbiAgICAgICAgICAgICAgICAgICAgOiBOYXZpZ2F0aW9uRGlyZWN0aW9uLnVua25vd24sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBwYXVzZUxpc3RlbmVycygpIHtcbiAgICAgICAgcGF1c2VTdGF0ZSA9IGN1cnJlbnRMb2NhdGlvbi52YWx1ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbGlzdGVuKGNhbGxiYWNrKSB7XG4gICAgICAgIC8vIHNldCB1cCB0aGUgbGlzdGVuZXIgYW5kIHByZXBhcmUgdGVhcmRvd24gY2FsbGJhY2tzXG4gICAgICAgIGxpc3RlbmVycy5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgY29uc3QgdGVhcmRvd24gPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IGxpc3RlbmVycy5pbmRleE9mKGNhbGxiYWNrKTtcbiAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKVxuICAgICAgICAgICAgICAgIGxpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9O1xuICAgICAgICB0ZWFyZG93bnMucHVzaCh0ZWFyZG93bik7XG4gICAgICAgIHJldHVybiB0ZWFyZG93bjtcbiAgICB9XG4gICAgZnVuY3Rpb24gYmVmb3JlVW5sb2FkTGlzdGVuZXIoKSB7XG4gICAgICAgIGNvbnN0IHsgaGlzdG9yeSB9ID0gd2luZG93O1xuICAgICAgICBpZiAoIWhpc3Rvcnkuc3RhdGUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGhpc3RvcnkucmVwbGFjZVN0YXRlKGFzc2lnbih7fSwgaGlzdG9yeS5zdGF0ZSwgeyBzY3JvbGw6IGNvbXB1dGVTY3JvbGxQb3NpdGlvbigpIH0pLCAnJyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgIGZvciAoY29uc3QgdGVhcmRvd24gb2YgdGVhcmRvd25zKVxuICAgICAgICAgICAgdGVhcmRvd24oKTtcbiAgICAgICAgdGVhcmRvd25zID0gW107XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdwb3BzdGF0ZScsIHBvcFN0YXRlSGFuZGxlcik7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdiZWZvcmV1bmxvYWQnLCBiZWZvcmVVbmxvYWRMaXN0ZW5lcik7XG4gICAgfVxuICAgIC8vIHNldCB1cCB0aGUgbGlzdGVuZXJzIGFuZCBwcmVwYXJlIHRlYXJkb3duIGNhbGxiYWNrc1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdwb3BzdGF0ZScsIHBvcFN0YXRlSGFuZGxlcik7XG4gICAgLy8gVE9ETzogY291bGQgd2UgdXNlICdwYWdlaGlkZScgb3IgJ3Zpc2liaWxpdHljaGFuZ2UnIGluc3RlYWQ/XG4gICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIuY2hyb21lLmNvbS9ibG9nL3BhZ2UtbGlmZWN5Y2xlLWFwaS9cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgYmVmb3JlVW5sb2FkTGlzdGVuZXIsIHtcbiAgICAgICAgcGFzc2l2ZTogdHJ1ZSxcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgICBwYXVzZUxpc3RlbmVycyxcbiAgICAgICAgbGlzdGVuLFxuICAgICAgICBkZXN0cm95LFxuICAgIH07XG59XG4vKipcbiAqIENyZWF0ZXMgYSBzdGF0ZSBvYmplY3RcbiAqL1xuZnVuY3Rpb24gYnVpbGRTdGF0ZShiYWNrLCBjdXJyZW50LCBmb3J3YXJkLCByZXBsYWNlZCA9IGZhbHNlLCBjb21wdXRlU2Nyb2xsID0gZmFsc2UpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBiYWNrLFxuICAgICAgICBjdXJyZW50LFxuICAgICAgICBmb3J3YXJkLFxuICAgICAgICByZXBsYWNlZCxcbiAgICAgICAgcG9zaXRpb246IHdpbmRvdy5oaXN0b3J5Lmxlbmd0aCxcbiAgICAgICAgc2Nyb2xsOiBjb21wdXRlU2Nyb2xsID8gY29tcHV0ZVNjcm9sbFBvc2l0aW9uKCkgOiBudWxsLFxuICAgIH07XG59XG5mdW5jdGlvbiB1c2VIaXN0b3J5U3RhdGVOYXZpZ2F0aW9uKGJhc2UpIHtcbiAgICBjb25zdCB7IGhpc3RvcnksIGxvY2F0aW9uIH0gPSB3aW5kb3c7XG4gICAgLy8gcHJpdmF0ZSB2YXJpYWJsZXNcbiAgICBjb25zdCBjdXJyZW50TG9jYXRpb24gPSB7XG4gICAgICAgIHZhbHVlOiBjcmVhdGVDdXJyZW50TG9jYXRpb24oYmFzZSwgbG9jYXRpb24pLFxuICAgIH07XG4gICAgY29uc3QgaGlzdG9yeVN0YXRlID0geyB2YWx1ZTogaGlzdG9yeS5zdGF0ZSB9O1xuICAgIC8vIGJ1aWxkIGN1cnJlbnQgaGlzdG9yeSBlbnRyeSBhcyB0aGlzIGlzIGEgZnJlc2ggbmF2aWdhdGlvblxuICAgIGlmICghaGlzdG9yeVN0YXRlLnZhbHVlKSB7XG4gICAgICAgIGNoYW5nZUxvY2F0aW9uKGN1cnJlbnRMb2NhdGlvbi52YWx1ZSwge1xuICAgICAgICAgICAgYmFjazogbnVsbCxcbiAgICAgICAgICAgIGN1cnJlbnQ6IGN1cnJlbnRMb2NhdGlvbi52YWx1ZSxcbiAgICAgICAgICAgIGZvcndhcmQ6IG51bGwsXG4gICAgICAgICAgICAvLyB0aGUgbGVuZ3RoIGlzIG9mZiBieSBvbmUsIHdlIG5lZWQgdG8gZGVjcmVhc2UgaXRcbiAgICAgICAgICAgIHBvc2l0aW9uOiBoaXN0b3J5Lmxlbmd0aCAtIDEsXG4gICAgICAgICAgICByZXBsYWNlZDogdHJ1ZSxcbiAgICAgICAgICAgIC8vIGRvbid0IGFkZCBhIHNjcm9sbCBhcyB0aGUgdXNlciBtYXkgaGF2ZSBhbiBhbmNob3IsIGFuZCB3ZSB3YW50XG4gICAgICAgICAgICAvLyBzY3JvbGxCZWhhdmlvciB0byBiZSB0cmlnZ2VyZWQgd2l0aG91dCBhIHNhdmVkIHBvc2l0aW9uXG4gICAgICAgICAgICBzY3JvbGw6IG51bGwsXG4gICAgICAgIH0sIHRydWUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjaGFuZ2VMb2NhdGlvbih0bywgc3RhdGUsIHJlcGxhY2UpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGlmIGEgYmFzZSB0YWcgaXMgcHJvdmlkZWQsIGFuZCB3ZSBhcmUgb24gYSBub3JtYWwgZG9tYWluLCB3ZSBoYXZlIHRvXG4gICAgICAgICAqIHJlc3BlY3QgdGhlIHByb3ZpZGVkIGBiYXNlYCBhdHRyaWJ1dGUgYmVjYXVzZSBwdXNoU3RhdGUoKSB3aWxsIHVzZSBpdCBhbmRcbiAgICAgICAgICogcG90ZW50aWFsbHkgZXJhc2UgYW55dGhpbmcgYmVmb3JlIHRoZSBgI2AgbGlrZSBhdFxuICAgICAgICAgKiBodHRwczovL2dpdGh1Yi5jb20vdnVlanMvcm91dGVyL2lzc3Vlcy82ODUgd2hlcmUgYSBiYXNlIG9mXG4gICAgICAgICAqIGAvZm9sZGVyLyNgIGJ1dCBhIGJhc2Ugb2YgYC9gIHdvdWxkIGVyYXNlIHRoZSBgL2ZvbGRlci9gIHNlY3Rpb24uIElmXG4gICAgICAgICAqIHRoZXJlIGlzIG5vIGhvc3QsIHRoZSBgPGJhc2U+YCB0YWcgbWFrZXMgbm8gc2Vuc2UgYW5kIGlmIHRoZXJlIGlzbid0IGFcbiAgICAgICAgICogYmFzZSB0YWcgd2UgY2FuIGp1c3QgdXNlIGV2ZXJ5dGhpbmcgYWZ0ZXIgdGhlIGAjYC5cbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IGhhc2hJbmRleCA9IGJhc2UuaW5kZXhPZignIycpO1xuICAgICAgICBjb25zdCB1cmwgPSBoYXNoSW5kZXggPiAtMVxuICAgICAgICAgICAgPyAobG9jYXRpb24uaG9zdCAmJiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdiYXNlJylcbiAgICAgICAgICAgICAgICA/IGJhc2VcbiAgICAgICAgICAgICAgICA6IGJhc2Uuc2xpY2UoaGFzaEluZGV4KSkgKyB0b1xuICAgICAgICAgICAgOiBjcmVhdGVCYXNlTG9jYXRpb24oKSArIGJhc2UgKyB0bztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIEJST1dTRVIgUVVJUktcbiAgICAgICAgICAgIC8vIE5PVEU6IFNhZmFyaSB0aHJvd3MgYSBTZWN1cml0eUVycm9yIHdoZW4gY2FsbGluZyB0aGlzIGZ1bmN0aW9uIDEwMCB0aW1lcyBpbiAzMCBzZWNvbmRzXG4gICAgICAgICAgICBoaXN0b3J5W3JlcGxhY2UgPyAncmVwbGFjZVN0YXRlJyA6ICdwdXNoU3RhdGUnXShzdGF0ZSwgJycsIHVybCk7XG4gICAgICAgICAgICBoaXN0b3J5U3RhdGUudmFsdWUgPSBzdGF0ZTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgd2FybignRXJyb3Igd2l0aCBwdXNoL3JlcGxhY2UgU3RhdGUnLCBlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRm9yY2UgdGhlIG5hdmlnYXRpb24sIHRoaXMgYWxzbyByZXNldHMgdGhlIGNhbGwgY291bnRcbiAgICAgICAgICAgIGxvY2F0aW9uW3JlcGxhY2UgPyAncmVwbGFjZScgOiAnYXNzaWduJ10odXJsKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiByZXBsYWNlKHRvLCBkYXRhKSB7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gYXNzaWduKHt9LCBoaXN0b3J5LnN0YXRlLCBidWlsZFN0YXRlKGhpc3RvcnlTdGF0ZS52YWx1ZS5iYWNrLCBcbiAgICAgICAgLy8ga2VlcCBiYWNrIGFuZCBmb3J3YXJkIGVudHJpZXMgYnV0IG92ZXJyaWRlIGN1cnJlbnQgcG9zaXRpb25cbiAgICAgICAgdG8sIGhpc3RvcnlTdGF0ZS52YWx1ZS5mb3J3YXJkLCB0cnVlKSwgZGF0YSwgeyBwb3NpdGlvbjogaGlzdG9yeVN0YXRlLnZhbHVlLnBvc2l0aW9uIH0pO1xuICAgICAgICBjaGFuZ2VMb2NhdGlvbih0bywgc3RhdGUsIHRydWUpO1xuICAgICAgICBjdXJyZW50TG9jYXRpb24udmFsdWUgPSB0bztcbiAgICB9XG4gICAgZnVuY3Rpb24gcHVzaCh0bywgZGF0YSkge1xuICAgICAgICAvLyBBZGQgdG8gY3VycmVudCBlbnRyeSB0aGUgaW5mb3JtYXRpb24gb2Ygd2hlcmUgd2UgYXJlIGdvaW5nXG4gICAgICAgIC8vIGFzIHdlbGwgYXMgc2F2aW5nIHRoZSBjdXJyZW50IHBvc2l0aW9uXG4gICAgICAgIGNvbnN0IGN1cnJlbnRTdGF0ZSA9IGFzc2lnbih7fSwgXG4gICAgICAgIC8vIHVzZSBjdXJyZW50IGhpc3Rvcnkgc3RhdGUgdG8gZ3JhY2VmdWxseSBoYW5kbGUgYSB3cm9uZyBjYWxsIHRvXG4gICAgICAgIC8vIGhpc3RvcnkucmVwbGFjZVN0YXRlXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS92dWVqcy9yb3V0ZXIvaXNzdWVzLzM2NlxuICAgICAgICBoaXN0b3J5U3RhdGUudmFsdWUsIGhpc3Rvcnkuc3RhdGUsIHtcbiAgICAgICAgICAgIGZvcndhcmQ6IHRvLFxuICAgICAgICAgICAgc2Nyb2xsOiBjb21wdXRlU2Nyb2xsUG9zaXRpb24oKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWhpc3Rvcnkuc3RhdGUpIHtcbiAgICAgICAgICAgIHdhcm4oYGhpc3Rvcnkuc3RhdGUgc2VlbXMgdG8gaGF2ZSBiZWVuIG1hbnVhbGx5IHJlcGxhY2VkIHdpdGhvdXQgcHJlc2VydmluZyB0aGUgbmVjZXNzYXJ5IHZhbHVlcy4gTWFrZSBzdXJlIHRvIHByZXNlcnZlIGV4aXN0aW5nIGhpc3Rvcnkgc3RhdGUgaWYgeW91IGFyZSBtYW51YWxseSBjYWxsaW5nIGhpc3RvcnkucmVwbGFjZVN0YXRlOlxcblxcbmAgK1xuICAgICAgICAgICAgICAgIGBoaXN0b3J5LnJlcGxhY2VTdGF0ZShoaXN0b3J5LnN0YXRlLCAnJywgdXJsKVxcblxcbmAgK1xuICAgICAgICAgICAgICAgIGBZb3UgY2FuIGZpbmQgbW9yZSBpbmZvcm1hdGlvbiBhdCBodHRwczovL25leHQucm91dGVyLnZ1ZWpzLm9yZy9ndWlkZS9taWdyYXRpb24vI3VzYWdlLW9mLWhpc3Rvcnktc3RhdGUuYCk7XG4gICAgICAgIH1cbiAgICAgICAgY2hhbmdlTG9jYXRpb24oY3VycmVudFN0YXRlLmN1cnJlbnQsIGN1cnJlbnRTdGF0ZSwgdHJ1ZSk7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gYXNzaWduKHt9LCBidWlsZFN0YXRlKGN1cnJlbnRMb2NhdGlvbi52YWx1ZSwgdG8sIG51bGwpLCB7IHBvc2l0aW9uOiBjdXJyZW50U3RhdGUucG9zaXRpb24gKyAxIH0sIGRhdGEpO1xuICAgICAgICBjaGFuZ2VMb2NhdGlvbih0bywgc3RhdGUsIGZhbHNlKTtcbiAgICAgICAgY3VycmVudExvY2F0aW9uLnZhbHVlID0gdG87XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGxvY2F0aW9uOiBjdXJyZW50TG9jYXRpb24sXG4gICAgICAgIHN0YXRlOiBoaXN0b3J5U3RhdGUsXG4gICAgICAgIHB1c2gsXG4gICAgICAgIHJlcGxhY2UsXG4gICAgfTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhbiBIVE1MNSBoaXN0b3J5LiBNb3N0IGNvbW1vbiBoaXN0b3J5IGZvciBzaW5nbGUgcGFnZSBhcHBsaWNhdGlvbnMuXG4gKlxuICogQHBhcmFtIGJhc2UgLVxuICovXG5mdW5jdGlvbiBjcmVhdGVXZWJIaXN0b3J5KGJhc2UpIHtcbiAgICBiYXNlID0gbm9ybWFsaXplQmFzZShiYXNlKTtcbiAgICBjb25zdCBoaXN0b3J5TmF2aWdhdGlvbiA9IHVzZUhpc3RvcnlTdGF0ZU5hdmlnYXRpb24oYmFzZSk7XG4gICAgY29uc3QgaGlzdG9yeUxpc3RlbmVycyA9IHVzZUhpc3RvcnlMaXN0ZW5lcnMoYmFzZSwgaGlzdG9yeU5hdmlnYXRpb24uc3RhdGUsIGhpc3RvcnlOYXZpZ2F0aW9uLmxvY2F0aW9uLCBoaXN0b3J5TmF2aWdhdGlvbi5yZXBsYWNlKTtcbiAgICBmdW5jdGlvbiBnbyhkZWx0YSwgdHJpZ2dlckxpc3RlbmVycyA9IHRydWUpIHtcbiAgICAgICAgaWYgKCF0cmlnZ2VyTGlzdGVuZXJzKVxuICAgICAgICAgICAgaGlzdG9yeUxpc3RlbmVycy5wYXVzZUxpc3RlbmVycygpO1xuICAgICAgICBoaXN0b3J5LmdvKGRlbHRhKTtcbiAgICB9XG4gICAgY29uc3Qgcm91dGVySGlzdG9yeSA9IGFzc2lnbih7XG4gICAgICAgIC8vIGl0J3Mgb3ZlcnJpZGRlbiByaWdodCBhZnRlclxuICAgICAgICBsb2NhdGlvbjogJycsXG4gICAgICAgIGJhc2UsXG4gICAgICAgIGdvLFxuICAgICAgICBjcmVhdGVIcmVmOiBjcmVhdGVIcmVmLmJpbmQobnVsbCwgYmFzZSksXG4gICAgfSwgaGlzdG9yeU5hdmlnYXRpb24sIGhpc3RvcnlMaXN0ZW5lcnMpO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyb3V0ZXJIaXN0b3J5LCAnbG9jYXRpb24nLCB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGdldDogKCkgPT4gaGlzdG9yeU5hdmlnYXRpb24ubG9jYXRpb24udmFsdWUsXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHJvdXRlckhpc3RvcnksICdzdGF0ZScsIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgZ2V0OiAoKSA9PiBoaXN0b3J5TmF2aWdhdGlvbi5zdGF0ZS52YWx1ZSxcbiAgICB9KTtcbiAgICByZXR1cm4gcm91dGVySGlzdG9yeTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGFuIGluLW1lbW9yeSBiYXNlZCBoaXN0b3J5LiBUaGUgbWFpbiBwdXJwb3NlIG9mIHRoaXMgaGlzdG9yeSBpcyB0byBoYW5kbGUgU1NSLiBJdCBzdGFydHMgaW4gYSBzcGVjaWFsIGxvY2F0aW9uIHRoYXQgaXMgbm93aGVyZS5cbiAqIEl0J3MgdXAgdG8gdGhlIHVzZXIgdG8gcmVwbGFjZSB0aGF0IGxvY2F0aW9uIHdpdGggdGhlIHN0YXJ0ZXIgbG9jYXRpb24gYnkgZWl0aGVyIGNhbGxpbmcgYHJvdXRlci5wdXNoYCBvciBgcm91dGVyLnJlcGxhY2VgLlxuICpcbiAqIEBwYXJhbSBiYXNlIC0gQmFzZSBhcHBsaWVkIHRvIGFsbCB1cmxzLCBkZWZhdWx0cyB0byAnLydcbiAqIEByZXR1cm5zIGEgaGlzdG9yeSBvYmplY3QgdGhhdCBjYW4gYmUgcGFzc2VkIHRvIHRoZSByb3V0ZXIgY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gY3JlYXRlTWVtb3J5SGlzdG9yeShiYXNlID0gJycpIHtcbiAgICBsZXQgbGlzdGVuZXJzID0gW107XG4gICAgbGV0IHF1ZXVlID0gW1NUQVJUXTtcbiAgICBsZXQgcG9zaXRpb24gPSAwO1xuICAgIGJhc2UgPSBub3JtYWxpemVCYXNlKGJhc2UpO1xuICAgIGZ1bmN0aW9uIHNldExvY2F0aW9uKGxvY2F0aW9uKSB7XG4gICAgICAgIHBvc2l0aW9uKys7XG4gICAgICAgIGlmIChwb3NpdGlvbiAhPT0gcXVldWUubGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyB3ZSBhcmUgaW4gdGhlIG1pZGRsZSwgd2UgcmVtb3ZlIGV2ZXJ5dGhpbmcgZnJvbSBoZXJlIGluIHRoZSBxdWV1ZVxuICAgICAgICAgICAgcXVldWUuc3BsaWNlKHBvc2l0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBxdWV1ZS5wdXNoKGxvY2F0aW9uKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdHJpZ2dlckxpc3RlbmVycyh0bywgZnJvbSwgeyBkaXJlY3Rpb24sIGRlbHRhIH0pIHtcbiAgICAgICAgY29uc3QgaW5mbyA9IHtcbiAgICAgICAgICAgIGRpcmVjdGlvbixcbiAgICAgICAgICAgIGRlbHRhLFxuICAgICAgICAgICAgdHlwZTogTmF2aWdhdGlvblR5cGUucG9wLFxuICAgICAgICB9O1xuICAgICAgICBmb3IgKGNvbnN0IGNhbGxiYWNrIG9mIGxpc3RlbmVycykge1xuICAgICAgICAgICAgY2FsbGJhY2sodG8sIGZyb20sIGluZm8pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHJvdXRlckhpc3RvcnkgPSB7XG4gICAgICAgIC8vIHJld3JpdHRlbiBieSBPYmplY3QuZGVmaW5lUHJvcGVydHlcbiAgICAgICAgbG9jYXRpb246IFNUQVJULFxuICAgICAgICAvLyBUT0RPOiBzaG91bGQgYmUga2VwdCBpbiBxdWV1ZVxuICAgICAgICBzdGF0ZToge30sXG4gICAgICAgIGJhc2UsXG4gICAgICAgIGNyZWF0ZUhyZWY6IGNyZWF0ZUhyZWYuYmluZChudWxsLCBiYXNlKSxcbiAgICAgICAgcmVwbGFjZSh0bykge1xuICAgICAgICAgICAgLy8gcmVtb3ZlIGN1cnJlbnQgZW50cnkgYW5kIGRlY3JlbWVudCBwb3NpdGlvblxuICAgICAgICAgICAgcXVldWUuc3BsaWNlKHBvc2l0aW9uLS0sIDEpO1xuICAgICAgICAgICAgc2V0TG9jYXRpb24odG8pO1xuICAgICAgICB9LFxuICAgICAgICBwdXNoKHRvLCBkYXRhKSB7XG4gICAgICAgICAgICBzZXRMb2NhdGlvbih0byk7XG4gICAgICAgIH0sXG4gICAgICAgIGxpc3RlbihjYWxsYmFjaykge1xuICAgICAgICAgICAgbGlzdGVuZXJzLnB1c2goY2FsbGJhY2spO1xuICAgICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IGxpc3RlbmVycy5pbmRleE9mKGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPiAtMSlcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICBkZXN0cm95KCkge1xuICAgICAgICAgICAgbGlzdGVuZXJzID0gW107XG4gICAgICAgICAgICBxdWV1ZSA9IFtTVEFSVF07XG4gICAgICAgICAgICBwb3NpdGlvbiA9IDA7XG4gICAgICAgIH0sXG4gICAgICAgIGdvKGRlbHRhLCBzaG91bGRUcmlnZ2VyID0gdHJ1ZSkge1xuICAgICAgICAgICAgY29uc3QgZnJvbSA9IHRoaXMubG9jYXRpb247XG4gICAgICAgICAgICBjb25zdCBkaXJlY3Rpb24gPSBcbiAgICAgICAgICAgIC8vIHdlIGFyZSBjb25zaWRlcmluZyBkZWx0YSA9PT0gMCBnb2luZyBmb3J3YXJkLCBidXQgaW4gYWJzdHJhY3QgbW9kZVxuICAgICAgICAgICAgLy8gdXNpbmcgMCBmb3IgdGhlIGRlbHRhIGRvZXNuJ3QgbWFrZSBzZW5zZSBsaWtlIGl0IGRvZXMgaW4gaHRtbDUgd2hlcmVcbiAgICAgICAgICAgIC8vIGl0IHJlbG9hZHMgdGhlIHBhZ2VcbiAgICAgICAgICAgIGRlbHRhIDwgMCA/IE5hdmlnYXRpb25EaXJlY3Rpb24uYmFjayA6IE5hdmlnYXRpb25EaXJlY3Rpb24uZm9yd2FyZDtcbiAgICAgICAgICAgIHBvc2l0aW9uID0gTWF0aC5tYXgoMCwgTWF0aC5taW4ocG9zaXRpb24gKyBkZWx0YSwgcXVldWUubGVuZ3RoIC0gMSkpO1xuICAgICAgICAgICAgaWYgKHNob3VsZFRyaWdnZXIpIHtcbiAgICAgICAgICAgICAgICB0cmlnZ2VyTGlzdGVuZXJzKHRoaXMubG9jYXRpb24sIGZyb20sIHtcbiAgICAgICAgICAgICAgICAgICAgZGlyZWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICBkZWx0YSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyb3V0ZXJIaXN0b3J5LCAnbG9jYXRpb24nLCB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGdldDogKCkgPT4gcXVldWVbcG9zaXRpb25dLFxuICAgIH0pO1xuICAgIHJldHVybiByb3V0ZXJIaXN0b3J5O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBoYXNoIGhpc3RvcnkuIFVzZWZ1bCBmb3Igd2ViIGFwcGxpY2F0aW9ucyB3aXRoIG5vIGhvc3QgKGUuZy4gYGZpbGU6Ly9gKSBvciB3aGVuIGNvbmZpZ3VyaW5nIGEgc2VydmVyIHRvXG4gKiBoYW5kbGUgYW55IFVSTCBpcyBub3QgcG9zc2libGUuXG4gKlxuICogQHBhcmFtIGJhc2UgLSBvcHRpb25hbCBiYXNlIHRvIHByb3ZpZGUuIERlZmF1bHRzIHRvIGBsb2NhdGlvbi5wYXRobmFtZSArIGxvY2F0aW9uLnNlYXJjaGAgSWYgdGhlcmUgaXMgYSBgPGJhc2U+YCB0YWdcbiAqIGluIHRoZSBgaGVhZGAsIGl0cyB2YWx1ZSB3aWxsIGJlIGlnbm9yZWQgaW4gZmF2b3Igb2YgdGhpcyBwYXJhbWV0ZXIgKipidXQgbm90ZSBpdCBhZmZlY3RzIGFsbCB0aGUgaGlzdG9yeS5wdXNoU3RhdGUoKVxuICogY2FsbHMqKiwgbWVhbmluZyB0aGF0IGlmIHlvdSB1c2UgYSBgPGJhc2U+YCB0YWcsIGl0J3MgYGhyZWZgIHZhbHVlICoqaGFzIHRvIG1hdGNoIHRoaXMgcGFyYW1ldGVyKiogKGlnbm9yaW5nIGFueXRoaW5nXG4gKiBhZnRlciB0aGUgYCNgKS5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBganNcbiAqIC8vIGF0IGh0dHBzOi8vZXhhbXBsZS5jb20vZm9sZGVyXG4gKiBjcmVhdGVXZWJIYXNoSGlzdG9yeSgpIC8vIGdpdmVzIGEgdXJsIG9mIGBodHRwczovL2V4YW1wbGUuY29tL2ZvbGRlciNgXG4gKiBjcmVhdGVXZWJIYXNoSGlzdG9yeSgnL2ZvbGRlci8nKSAvLyBnaXZlcyBhIHVybCBvZiBgaHR0cHM6Ly9leGFtcGxlLmNvbS9mb2xkZXIvI2BcbiAqIC8vIGlmIHRoZSBgI2AgaXMgcHJvdmlkZWQgaW4gdGhlIGJhc2UsIGl0IHdvbid0IGJlIGFkZGVkIGJ5IGBjcmVhdGVXZWJIYXNoSGlzdG9yeWBcbiAqIGNyZWF0ZVdlYkhhc2hIaXN0b3J5KCcvZm9sZGVyLyMvYXBwLycpIC8vIGdpdmVzIGEgdXJsIG9mIGBodHRwczovL2V4YW1wbGUuY29tL2ZvbGRlci8jL2FwcC9gXG4gKiAvLyB5b3Ugc2hvdWxkIGF2b2lkIGRvaW5nIHRoaXMgYmVjYXVzZSBpdCBjaGFuZ2VzIHRoZSBvcmlnaW5hbCB1cmwgYW5kIGJyZWFrcyBjb3B5aW5nIHVybHNcbiAqIGNyZWF0ZVdlYkhhc2hIaXN0b3J5KCcvb3RoZXItZm9sZGVyLycpIC8vIGdpdmVzIGEgdXJsIG9mIGBodHRwczovL2V4YW1wbGUuY29tL290aGVyLWZvbGRlci8jYFxuICpcbiAqIC8vIGF0IGZpbGU6Ly8vdXNyL2V0Yy9mb2xkZXIvaW5kZXguaHRtbFxuICogLy8gZm9yIGxvY2F0aW9ucyB3aXRoIG5vIGBob3N0YCwgdGhlIGJhc2UgaXMgaWdub3JlZFxuICogY3JlYXRlV2ViSGFzaEhpc3RvcnkoJy9pQW1JZ25vcmVkJykgLy8gZ2l2ZXMgYSB1cmwgb2YgYGZpbGU6Ly8vdXNyL2V0Yy9mb2xkZXIvaW5kZXguaHRtbCNgXG4gKiBgYGBcbiAqL1xuZnVuY3Rpb24gY3JlYXRlV2ViSGFzaEhpc3RvcnkoYmFzZSkge1xuICAgIC8vIE1ha2Ugc3VyZSB0aGlzIGltcGxlbWVudGF0aW9uIGlzIGZpbmUgaW4gdGVybXMgb2YgZW5jb2RpbmcsIHNwZWNpYWxseSBmb3IgSUUxMVxuICAgIC8vIGZvciBgZmlsZTovL2AsIGRpcmVjdGx5IHVzZSB0aGUgcGF0aG5hbWUgYW5kIGlnbm9yZSB0aGUgYmFzZVxuICAgIC8vIGxvY2F0aW9uLnBhdGhuYW1lIGNvbnRhaW5zIGFuIGluaXRpYWwgYC9gIGV2ZW4gYXQgdGhlIHJvb3Q6IGBodHRwczovL2V4YW1wbGUuY29tYFxuICAgIGJhc2UgPSBsb2NhdGlvbi5ob3N0ID8gYmFzZSB8fCBsb2NhdGlvbi5wYXRobmFtZSArIGxvY2F0aW9uLnNlYXJjaCA6ICcnO1xuICAgIC8vIGFsbG93IHRoZSB1c2VyIHRvIHByb3ZpZGUgYSBgI2AgaW4gdGhlIG1pZGRsZTogYC9iYXNlLyMvYXBwYFxuICAgIGlmICghYmFzZS5pbmNsdWRlcygnIycpKVxuICAgICAgICBiYXNlICs9ICcjJztcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFiYXNlLmVuZHNXaXRoKCcjLycpICYmICFiYXNlLmVuZHNXaXRoKCcjJykpIHtcbiAgICAgICAgd2FybihgQSBoYXNoIGJhc2UgbXVzdCBlbmQgd2l0aCBhIFwiI1wiOlxcblwiJHtiYXNlfVwiIHNob3VsZCBiZSBcIiR7YmFzZS5yZXBsYWNlKC8jLiokLywgJyMnKX1cIi5gKTtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZVdlYkhpc3RvcnkoYmFzZSk7XG59XG5cbmZ1bmN0aW9uIGlzUm91dGVMb2NhdGlvbihyb3V0ZSkge1xuICAgIHJldHVybiB0eXBlb2Ygcm91dGUgPT09ICdzdHJpbmcnIHx8IChyb3V0ZSAmJiB0eXBlb2Ygcm91dGUgPT09ICdvYmplY3QnKTtcbn1cbmZ1bmN0aW9uIGlzUm91dGVOYW1lKG5hbWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIG5hbWUgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBuYW1lID09PSAnc3ltYm9sJztcbn1cblxuLyoqXG4gKiBJbml0aWFsIHJvdXRlIGxvY2F0aW9uIHdoZXJlIHRoZSByb3V0ZXIgaXMuIENhbiBiZSB1c2VkIGluIG5hdmlnYXRpb24gZ3VhcmRzXG4gKiB0byBkaWZmZXJlbnRpYXRlIHRoZSBpbml0aWFsIG5hdmlnYXRpb24uXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYGpzXG4gKiBpbXBvcnQgeyBTVEFSVF9MT0NBVElPTiB9IGZyb20gJ3Z1ZS1yb3V0ZXInXG4gKlxuICogcm91dGVyLmJlZm9yZUVhY2goKHRvLCBmcm9tKSA9PiB7XG4gKiAgIGlmIChmcm9tID09PSBTVEFSVF9MT0NBVElPTikge1xuICogICAgIC8vIGluaXRpYWwgbmF2aWdhdGlvblxuICogICB9XG4gKiB9KVxuICogYGBgXG4gKi9cbmNvbnN0IFNUQVJUX0xPQ0FUSU9OX05PUk1BTElaRUQgPSB7XG4gICAgcGF0aDogJy8nLFxuICAgIG5hbWU6IHVuZGVmaW5lZCxcbiAgICBwYXJhbXM6IHt9LFxuICAgIHF1ZXJ5OiB7fSxcbiAgICBoYXNoOiAnJyxcbiAgICBmdWxsUGF0aDogJy8nLFxuICAgIG1hdGNoZWQ6IFtdLFxuICAgIG1ldGE6IHt9LFxuICAgIHJlZGlyZWN0ZWRGcm9tOiB1bmRlZmluZWQsXG59O1xuXG5jb25zdCBOYXZpZ2F0aW9uRmFpbHVyZVN5bWJvbCA9IFN5bWJvbCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyAnbmF2aWdhdGlvbiBmYWlsdXJlJyA6ICcnKTtcbi8qKlxuICogRW51bWVyYXRpb24gd2l0aCBhbGwgcG9zc2libGUgdHlwZXMgZm9yIG5hdmlnYXRpb24gZmFpbHVyZXMuIENhbiBiZSBwYXNzZWQgdG9cbiAqIHtAbGluayBpc05hdmlnYXRpb25GYWlsdXJlfSB0byBjaGVjayBmb3Igc3BlY2lmaWMgZmFpbHVyZXMuXG4gKi9cbnZhciBOYXZpZ2F0aW9uRmFpbHVyZVR5cGU7XG4oZnVuY3Rpb24gKE5hdmlnYXRpb25GYWlsdXJlVHlwZSkge1xuICAgIC8qKlxuICAgICAqIEFuIGFib3J0ZWQgbmF2aWdhdGlvbiBpcyBhIG5hdmlnYXRpb24gdGhhdCBmYWlsZWQgYmVjYXVzZSBhIG5hdmlnYXRpb25cbiAgICAgKiBndWFyZCByZXR1cm5lZCBgZmFsc2VgIG9yIGNhbGxlZCBgbmV4dChmYWxzZSlgXG4gICAgICovXG4gICAgTmF2aWdhdGlvbkZhaWx1cmVUeXBlW05hdmlnYXRpb25GYWlsdXJlVHlwZVtcImFib3J0ZWRcIl0gPSA0XSA9IFwiYWJvcnRlZFwiO1xuICAgIC8qKlxuICAgICAqIEEgY2FuY2VsbGVkIG5hdmlnYXRpb24gaXMgYSBuYXZpZ2F0aW9uIHRoYXQgZmFpbGVkIGJlY2F1c2UgYSBtb3JlIHJlY2VudFxuICAgICAqIG5hdmlnYXRpb24gZmluaXNoZWQgc3RhcnRlZCAobm90IG5lY2Vzc2FyaWx5IGZpbmlzaGVkKS5cbiAgICAgKi9cbiAgICBOYXZpZ2F0aW9uRmFpbHVyZVR5cGVbTmF2aWdhdGlvbkZhaWx1cmVUeXBlW1wiY2FuY2VsbGVkXCJdID0gOF0gPSBcImNhbmNlbGxlZFwiO1xuICAgIC8qKlxuICAgICAqIEEgZHVwbGljYXRlZCBuYXZpZ2F0aW9uIGlzIGEgbmF2aWdhdGlvbiB0aGF0IGZhaWxlZCBiZWNhdXNlIGl0IHdhc1xuICAgICAqIGluaXRpYXRlZCB3aGlsZSBhbHJlYWR5IGJlaW5nIGF0IHRoZSBleGFjdCBzYW1lIGxvY2F0aW9uLlxuICAgICAqL1xuICAgIE5hdmlnYXRpb25GYWlsdXJlVHlwZVtOYXZpZ2F0aW9uRmFpbHVyZVR5cGVbXCJkdXBsaWNhdGVkXCJdID0gMTZdID0gXCJkdXBsaWNhdGVkXCI7XG59KShOYXZpZ2F0aW9uRmFpbHVyZVR5cGUgfHwgKE5hdmlnYXRpb25GYWlsdXJlVHlwZSA9IHt9KSk7XG4vLyBERVYgb25seSBkZWJ1ZyBtZXNzYWdlc1xuY29uc3QgRXJyb3JUeXBlTWVzc2FnZXMgPSB7XG4gICAgWzEgLyogRXJyb3JUeXBlcy5NQVRDSEVSX05PVF9GT1VORCAqL10oeyBsb2NhdGlvbiwgY3VycmVudExvY2F0aW9uIH0pIHtcbiAgICAgICAgcmV0dXJuIGBObyBtYXRjaCBmb3JcXG4gJHtKU09OLnN0cmluZ2lmeShsb2NhdGlvbil9JHtjdXJyZW50TG9jYXRpb25cbiAgICAgICAgICAgID8gJ1xcbndoaWxlIGJlaW5nIGF0XFxuJyArIEpTT04uc3RyaW5naWZ5KGN1cnJlbnRMb2NhdGlvbilcbiAgICAgICAgICAgIDogJyd9YDtcbiAgICB9LFxuICAgIFsyIC8qIEVycm9yVHlwZXMuTkFWSUdBVElPTl9HVUFSRF9SRURJUkVDVCAqL10oeyBmcm9tLCB0bywgfSkge1xuICAgICAgICByZXR1cm4gYFJlZGlyZWN0ZWQgZnJvbSBcIiR7ZnJvbS5mdWxsUGF0aH1cIiB0byBcIiR7c3RyaW5naWZ5Um91dGUodG8pfVwiIHZpYSBhIG5hdmlnYXRpb24gZ3VhcmQuYDtcbiAgICB9LFxuICAgIFs0IC8qIEVycm9yVHlwZXMuTkFWSUdBVElPTl9BQk9SVEVEICovXSh7IGZyb20sIHRvIH0pIHtcbiAgICAgICAgcmV0dXJuIGBOYXZpZ2F0aW9uIGFib3J0ZWQgZnJvbSBcIiR7ZnJvbS5mdWxsUGF0aH1cIiB0byBcIiR7dG8uZnVsbFBhdGh9XCIgdmlhIGEgbmF2aWdhdGlvbiBndWFyZC5gO1xuICAgIH0sXG4gICAgWzggLyogRXJyb3JUeXBlcy5OQVZJR0FUSU9OX0NBTkNFTExFRCAqL10oeyBmcm9tLCB0byB9KSB7XG4gICAgICAgIHJldHVybiBgTmF2aWdhdGlvbiBjYW5jZWxsZWQgZnJvbSBcIiR7ZnJvbS5mdWxsUGF0aH1cIiB0byBcIiR7dG8uZnVsbFBhdGh9XCIgd2l0aCBhIG5ldyBuYXZpZ2F0aW9uLmA7XG4gICAgfSxcbiAgICBbMTYgLyogRXJyb3JUeXBlcy5OQVZJR0FUSU9OX0RVUExJQ0FURUQgKi9dKHsgZnJvbSwgdG8gfSkge1xuICAgICAgICByZXR1cm4gYEF2b2lkZWQgcmVkdW5kYW50IG5hdmlnYXRpb24gdG8gY3VycmVudCBsb2NhdGlvbjogXCIke2Zyb20uZnVsbFBhdGh9XCIuYDtcbiAgICB9LFxufTtcbi8qKlxuICogQ3JlYXRlcyBhIHR5cGVkIE5hdmlnYXRpb25GYWlsdXJlIG9iamVjdC5cbiAqIEBpbnRlcm5hbFxuICogQHBhcmFtIHR5cGUgLSBOYXZpZ2F0aW9uRmFpbHVyZVR5cGVcbiAqIEBwYXJhbSBwYXJhbXMgLSB7IGZyb20sIHRvIH1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlUm91dGVyRXJyb3IodHlwZSwgcGFyYW1zKSB7XG4gICAgLy8ga2VlcCBmdWxsIGVycm9yIG1lc3NhZ2VzIGluIGNqcyB2ZXJzaW9uc1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgIXRydWUpIHtcbiAgICAgICAgcmV0dXJuIGFzc2lnbihuZXcgRXJyb3IoRXJyb3JUeXBlTWVzc2FnZXNbdHlwZV0ocGFyYW1zKSksIHtcbiAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICBbTmF2aWdhdGlvbkZhaWx1cmVTeW1ib2xdOiB0cnVlLFxuICAgICAgICB9LCBwYXJhbXMpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGFzc2lnbihuZXcgRXJyb3IoKSwge1xuICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgIFtOYXZpZ2F0aW9uRmFpbHVyZVN5bWJvbF06IHRydWUsXG4gICAgICAgIH0sIHBhcmFtcyk7XG4gICAgfVxufVxuZnVuY3Rpb24gaXNOYXZpZ2F0aW9uRmFpbHVyZShlcnJvciwgdHlwZSkge1xuICAgIHJldHVybiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJlxuICAgICAgICBOYXZpZ2F0aW9uRmFpbHVyZVN5bWJvbCBpbiBlcnJvciAmJlxuICAgICAgICAodHlwZSA9PSBudWxsIHx8ICEhKGVycm9yLnR5cGUgJiB0eXBlKSkpO1xufVxuY29uc3QgcHJvcGVydGllc1RvTG9nID0gWydwYXJhbXMnLCAncXVlcnknLCAnaGFzaCddO1xuZnVuY3Rpb24gc3RyaW5naWZ5Um91dGUodG8pIHtcbiAgICBpZiAodHlwZW9mIHRvID09PSAnc3RyaW5nJylcbiAgICAgICAgcmV0dXJuIHRvO1xuICAgIGlmICh0by5wYXRoICE9IG51bGwpXG4gICAgICAgIHJldHVybiB0by5wYXRoO1xuICAgIGNvbnN0IGxvY2F0aW9uID0ge307XG4gICAgZm9yIChjb25zdCBrZXkgb2YgcHJvcGVydGllc1RvTG9nKSB7XG4gICAgICAgIGlmIChrZXkgaW4gdG8pXG4gICAgICAgICAgICBsb2NhdGlvbltrZXldID0gdG9ba2V5XTtcbiAgICB9XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGxvY2F0aW9uLCBudWxsLCAyKTtcbn1cblxuLy8gZGVmYXVsdCBwYXR0ZXJuIGZvciBhIHBhcmFtOiBub24tZ3JlZWR5IGV2ZXJ5dGhpbmcgYnV0IC9cbmNvbnN0IEJBU0VfUEFSQU1fUEFUVEVSTiA9ICdbXi9dKz8nO1xuY29uc3QgQkFTRV9QQVRIX1BBUlNFUl9PUFRJT05TID0ge1xuICAgIHNlbnNpdGl2ZTogZmFsc2UsXG4gICAgc3RyaWN0OiBmYWxzZSxcbiAgICBzdGFydDogdHJ1ZSxcbiAgICBlbmQ6IHRydWUsXG59O1xuLy8gU3BlY2lhbCBSZWdleCBjaGFyYWN0ZXJzIHRoYXQgbXVzdCBiZSBlc2NhcGVkIGluIHN0YXRpYyB0b2tlbnNcbmNvbnN0IFJFR0VYX0NIQVJTX1JFID0gL1suKyo/XiR7fSgpW1xcXS9cXFxcXS9nO1xuLyoqXG4gKiBDcmVhdGVzIGEgcGF0aCBwYXJzZXIgZnJvbSBhbiBhcnJheSBvZiBTZWdtZW50cyAoYSBzZWdtZW50IGlzIGFuIGFycmF5IG9mIFRva2VucylcbiAqXG4gKiBAcGFyYW0gc2VnbWVudHMgLSBhcnJheSBvZiBzZWdtZW50cyByZXR1cm5lZCBieSB0b2tlbml6ZVBhdGhcbiAqIEBwYXJhbSBleHRyYU9wdGlvbnMgLSBvcHRpb25hbCBvcHRpb25zIGZvciB0aGUgcmVnZXhwXG4gKiBAcmV0dXJucyBhIFBhdGhQYXJzZXJcbiAqL1xuZnVuY3Rpb24gdG9rZW5zVG9QYXJzZXIoc2VnbWVudHMsIGV4dHJhT3B0aW9ucykge1xuICAgIGNvbnN0IG9wdGlvbnMgPSBhc3NpZ24oe30sIEJBU0VfUEFUSF9QQVJTRVJfT1BUSU9OUywgZXh0cmFPcHRpb25zKTtcbiAgICAvLyB0aGUgYW1vdW50IG9mIHNjb3JlcyBpcyB0aGUgc2FtZSBhcyB0aGUgbGVuZ3RoIG9mIHNlZ21lbnRzIGV4Y2VwdCBmb3IgdGhlIHJvb3Qgc2VnbWVudCBcIi9cIlxuICAgIGNvbnN0IHNjb3JlID0gW107XG4gICAgLy8gdGhlIHJlZ2V4cCBhcyBhIHN0cmluZ1xuICAgIGxldCBwYXR0ZXJuID0gb3B0aW9ucy5zdGFydCA/ICdeJyA6ICcnO1xuICAgIC8vIGV4dHJhY3RlZCBrZXlzXG4gICAgY29uc3Qga2V5cyA9IFtdO1xuICAgIGZvciAoY29uc3Qgc2VnbWVudCBvZiBzZWdtZW50cykge1xuICAgICAgICAvLyB0aGUgcm9vdCBzZWdtZW50IG5lZWRzIHNwZWNpYWwgdHJlYXRtZW50XG4gICAgICAgIGNvbnN0IHNlZ21lbnRTY29yZXMgPSBzZWdtZW50Lmxlbmd0aCA/IFtdIDogWzkwIC8qIFBhdGhTY29yZS5Sb290ICovXTtcbiAgICAgICAgLy8gYWxsb3cgdHJhaWxpbmcgc2xhc2hcbiAgICAgICAgaWYgKG9wdGlvbnMuc3RyaWN0ICYmICFzZWdtZW50Lmxlbmd0aClcbiAgICAgICAgICAgIHBhdHRlcm4gKz0gJy8nO1xuICAgICAgICBmb3IgKGxldCB0b2tlbkluZGV4ID0gMDsgdG9rZW5JbmRleCA8IHNlZ21lbnQubGVuZ3RoOyB0b2tlbkluZGV4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IHRva2VuID0gc2VnbWVudFt0b2tlbkluZGV4XTtcbiAgICAgICAgICAgIC8vIHJlc2V0cyB0aGUgc2NvcmUgaWYgd2UgYXJlIGluc2lkZSBhIHN1Yi1zZWdtZW50IC86YS1vdGhlci06YlxuICAgICAgICAgICAgbGV0IHN1YlNlZ21lbnRTY29yZSA9IDQwIC8qIFBhdGhTY29yZS5TZWdtZW50ICovICtcbiAgICAgICAgICAgICAgICAob3B0aW9ucy5zZW5zaXRpdmUgPyAwLjI1IC8qIFBhdGhTY29yZS5Cb251c0Nhc2VTZW5zaXRpdmUgKi8gOiAwKTtcbiAgICAgICAgICAgIGlmICh0b2tlbi50eXBlID09PSAwIC8qIFRva2VuVHlwZS5TdGF0aWMgKi8pIHtcbiAgICAgICAgICAgICAgICAvLyBwcmVwZW5kIHRoZSBzbGFzaCBpZiB3ZSBhcmUgc3RhcnRpbmcgYSBuZXcgc2VnbWVudFxuICAgICAgICAgICAgICAgIGlmICghdG9rZW5JbmRleClcbiAgICAgICAgICAgICAgICAgICAgcGF0dGVybiArPSAnLyc7XG4gICAgICAgICAgICAgICAgcGF0dGVybiArPSB0b2tlbi52YWx1ZS5yZXBsYWNlKFJFR0VYX0NIQVJTX1JFLCAnXFxcXCQmJyk7XG4gICAgICAgICAgICAgICAgc3ViU2VnbWVudFNjb3JlICs9IDQwIC8qIFBhdGhTY29yZS5TdGF0aWMgKi87XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0b2tlbi50eXBlID09PSAxIC8qIFRva2VuVHlwZS5QYXJhbSAqLykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgdmFsdWUsIHJlcGVhdGFibGUsIG9wdGlvbmFsLCByZWdleHAgfSA9IHRva2VuO1xuICAgICAgICAgICAgICAgIGtleXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICByZXBlYXRhYmxlLFxuICAgICAgICAgICAgICAgICAgICBvcHRpb25hbCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCByZSA9IHJlZ2V4cCA/IHJlZ2V4cCA6IEJBU0VfUEFSQU1fUEFUVEVSTjtcbiAgICAgICAgICAgICAgICAvLyB0aGUgdXNlciBwcm92aWRlZCBhIGN1c3RvbSByZWdleHAgLzppZChcXFxcZCspXG4gICAgICAgICAgICAgICAgaWYgKHJlICE9PSBCQVNFX1BBUkFNX1BBVFRFUk4pIHtcbiAgICAgICAgICAgICAgICAgICAgc3ViU2VnbWVudFNjb3JlICs9IDEwIC8qIFBhdGhTY29yZS5Cb251c0N1c3RvbVJlZ0V4cCAqLztcbiAgICAgICAgICAgICAgICAgICAgLy8gbWFrZSBzdXJlIHRoZSByZWdleHAgaXMgdmFsaWQgYmVmb3JlIHVzaW5nIGl0XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgUmVnRXhwKGAoJHtyZX0pYCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGN1c3RvbSBSZWdFeHAgZm9yIHBhcmFtIFwiJHt2YWx1ZX1cIiAoJHtyZX0pOiBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gd2hlbiB3ZSByZXBlYXQgd2UgbXVzdCB0YWtlIGNhcmUgb2YgdGhlIHJlcGVhdGluZyBsZWFkaW5nIHNsYXNoXG4gICAgICAgICAgICAgICAgbGV0IHN1YlBhdHRlcm4gPSByZXBlYXRhYmxlID8gYCgoPzoke3JlfSkoPzovKD86JHtyZX0pKSopYCA6IGAoJHtyZX0pYDtcbiAgICAgICAgICAgICAgICAvLyBwcmVwZW5kIHRoZSBzbGFzaCBpZiB3ZSBhcmUgc3RhcnRpbmcgYSBuZXcgc2VnbWVudFxuICAgICAgICAgICAgICAgIGlmICghdG9rZW5JbmRleClcbiAgICAgICAgICAgICAgICAgICAgc3ViUGF0dGVybiA9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhdm9pZCBhbiBvcHRpb25hbCAvIGlmIHRoZXJlIGFyZSBtb3JlIHNlZ21lbnRzIGUuZy4gLzpwPy1zdGF0aWNcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9yIC86cD8tOnAyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25hbCAmJiBzZWdtZW50Lmxlbmd0aCA8IDJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGAoPzovJHtzdWJQYXR0ZXJufSlgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnLycgKyBzdWJQYXR0ZXJuO1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25hbClcbiAgICAgICAgICAgICAgICAgICAgc3ViUGF0dGVybiArPSAnPyc7XG4gICAgICAgICAgICAgICAgcGF0dGVybiArPSBzdWJQYXR0ZXJuO1xuICAgICAgICAgICAgICAgIHN1YlNlZ21lbnRTY29yZSArPSAyMCAvKiBQYXRoU2NvcmUuRHluYW1pYyAqLztcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9uYWwpXG4gICAgICAgICAgICAgICAgICAgIHN1YlNlZ21lbnRTY29yZSArPSAtOCAvKiBQYXRoU2NvcmUuQm9udXNPcHRpb25hbCAqLztcbiAgICAgICAgICAgICAgICBpZiAocmVwZWF0YWJsZSlcbiAgICAgICAgICAgICAgICAgICAgc3ViU2VnbWVudFNjb3JlICs9IC0yMCAvKiBQYXRoU2NvcmUuQm9udXNSZXBlYXRhYmxlICovO1xuICAgICAgICAgICAgICAgIGlmIChyZSA9PT0gJy4qJylcbiAgICAgICAgICAgICAgICAgICAgc3ViU2VnbWVudFNjb3JlICs9IC01MCAvKiBQYXRoU2NvcmUuQm9udXNXaWxkY2FyZCAqLztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNlZ21lbnRTY29yZXMucHVzaChzdWJTZWdtZW50U2NvcmUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGFuIGVtcHR5IGFycmF5IGxpa2UgL2hvbWUvIC0+IFtbe2hvbWV9XSwgW11dXG4gICAgICAgIC8vIGlmICghc2VnbWVudC5sZW5ndGgpIHBhdHRlcm4gKz0gJy8nXG4gICAgICAgIHNjb3JlLnB1c2goc2VnbWVudFNjb3Jlcyk7XG4gICAgfVxuICAgIC8vIG9ubHkgYXBwbHkgdGhlIHN0cmljdCBib251cyB0byB0aGUgbGFzdCBzY29yZVxuICAgIGlmIChvcHRpb25zLnN0cmljdCAmJiBvcHRpb25zLmVuZCkge1xuICAgICAgICBjb25zdCBpID0gc2NvcmUubGVuZ3RoIC0gMTtcbiAgICAgICAgc2NvcmVbaV1bc2NvcmVbaV0ubGVuZ3RoIC0gMV0gKz0gMC43MDAwMDAwMDAwMDAwMDAxIC8qIFBhdGhTY29yZS5Cb251c1N0cmljdCAqLztcbiAgICB9XG4gICAgLy8gVE9ETzogZGV2IG9ubHkgd2FybiBkb3VibGUgdHJhaWxpbmcgc2xhc2hcbiAgICBpZiAoIW9wdGlvbnMuc3RyaWN0KVxuICAgICAgICBwYXR0ZXJuICs9ICcvPyc7XG4gICAgaWYgKG9wdGlvbnMuZW5kKVxuICAgICAgICBwYXR0ZXJuICs9ICckJztcbiAgICAvLyBhbGxvdyBwYXRocyBsaWtlIC9keW5hbWljIHRvIG9ubHkgbWF0Y2ggZHluYW1pYyBvciBkeW5hbWljLy4uLiBidXQgbm90IGR5bmFtaWNfc29tZXRoaW5nX2Vsc2VcbiAgICBlbHNlIGlmIChvcHRpb25zLnN0cmljdClcbiAgICAgICAgcGF0dGVybiArPSAnKD86L3wkKSc7XG4gICAgY29uc3QgcmUgPSBuZXcgUmVnRXhwKHBhdHRlcm4sIG9wdGlvbnMuc2Vuc2l0aXZlID8gJycgOiAnaScpO1xuICAgIGZ1bmN0aW9uIHBhcnNlKHBhdGgpIHtcbiAgICAgICAgY29uc3QgbWF0Y2ggPSBwYXRoLm1hdGNoKHJlKTtcbiAgICAgICAgY29uc3QgcGFyYW1zID0ge307XG4gICAgICAgIGlmICghbWF0Y2gpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBtYXRjaC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBtYXRjaFtpXSB8fCAnJztcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IGtleXNbaSAtIDFdO1xuICAgICAgICAgICAgcGFyYW1zW2tleS5uYW1lXSA9IHZhbHVlICYmIGtleS5yZXBlYXRhYmxlID8gdmFsdWUuc3BsaXQoJy8nKSA6IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXJhbXM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHN0cmluZ2lmeShwYXJhbXMpIHtcbiAgICAgICAgbGV0IHBhdGggPSAnJztcbiAgICAgICAgLy8gZm9yIG9wdGlvbmFsIHBhcmFtZXRlcnMgdG8gYWxsb3cgdG8gYmUgZW1wdHlcbiAgICAgICAgbGV0IGF2b2lkRHVwbGljYXRlZFNsYXNoID0gZmFsc2U7XG4gICAgICAgIGZvciAoY29uc3Qgc2VnbWVudCBvZiBzZWdtZW50cykge1xuICAgICAgICAgICAgaWYgKCFhdm9pZER1cGxpY2F0ZWRTbGFzaCB8fCAhcGF0aC5lbmRzV2l0aCgnLycpKVxuICAgICAgICAgICAgICAgIHBhdGggKz0gJy8nO1xuICAgICAgICAgICAgYXZvaWREdXBsaWNhdGVkU2xhc2ggPSBmYWxzZTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgdG9rZW4gb2Ygc2VnbWVudCkge1xuICAgICAgICAgICAgICAgIGlmICh0b2tlbi50eXBlID09PSAwIC8qIFRva2VuVHlwZS5TdGF0aWMgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgcGF0aCArPSB0b2tlbi52YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodG9rZW4udHlwZSA9PT0gMSAvKiBUb2tlblR5cGUuUGFyYW0gKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyB2YWx1ZSwgcmVwZWF0YWJsZSwgb3B0aW9uYWwgfSA9IHRva2VuO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJhbSA9IHZhbHVlIGluIHBhcmFtcyA/IHBhcmFtc1t2YWx1ZV0gOiAnJztcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzQXJyYXkocGFyYW0pICYmICFyZXBlYXRhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFByb3ZpZGVkIHBhcmFtIFwiJHt2YWx1ZX1cIiBpcyBhbiBhcnJheSBidXQgaXQgaXMgbm90IHJlcGVhdGFibGUgKCogb3IgKyBtb2RpZmllcnMpYCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGV4dCA9IGlzQXJyYXkocGFyYW0pXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHBhcmFtLmpvaW4oJy8nKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBwYXJhbTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0ZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9uYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiB3ZSBoYXZlIG1vcmUgdGhhbiBvbmUgb3B0aW9uYWwgcGFyYW0gbGlrZSAvOmE/LXN0YXRpYyB3ZSBkb24ndCBuZWVkIHRvIGNhcmUgYWJvdXQgdGhlIG9wdGlvbmFsIHBhcmFtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlZ21lbnQubGVuZ3RoIDwgMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZW1vdmUgdGhlIGxhc3Qgc2xhc2ggYXMgd2UgY291bGQgYmUgYXQgdGhlIGVuZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGF0aC5lbmRzV2l0aCgnLycpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aCA9IHBhdGguc2xpY2UoMCwgLTEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBkbyBub3QgYXBwZW5kIGEgc2xhc2ggb24gdGhlIG5leHQgaXRlcmF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF2b2lkRHVwbGljYXRlZFNsYXNoID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBNaXNzaW5nIHJlcXVpcmVkIHBhcmFtIFwiJHt2YWx1ZX1cImApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHBhdGggKz0gdGV4dDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gYXZvaWQgZW1wdHkgcGF0aCB3aGVuIHdlIGhhdmUgbXVsdGlwbGUgb3B0aW9uYWwgcGFyYW1zXG4gICAgICAgIHJldHVybiBwYXRoIHx8ICcvJztcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmUsXG4gICAgICAgIHNjb3JlLFxuICAgICAgICBrZXlzLFxuICAgICAgICBwYXJzZSxcbiAgICAgICAgc3RyaW5naWZ5LFxuICAgIH07XG59XG4vKipcbiAqIENvbXBhcmVzIGFuIGFycmF5IG9mIG51bWJlcnMgYXMgdXNlZCBpbiBQYXRoUGFyc2VyLnNjb3JlIGFuZCByZXR1cm5zIGFcbiAqIG51bWJlci4gVGhpcyBmdW5jdGlvbiBjYW4gYmUgdXNlZCB0byBgc29ydGAgYW4gYXJyYXlcbiAqXG4gKiBAcGFyYW0gYSAtIGZpcnN0IGFycmF5IG9mIG51bWJlcnNcbiAqIEBwYXJhbSBiIC0gc2Vjb25kIGFycmF5IG9mIG51bWJlcnNcbiAqIEByZXR1cm5zIDAgaWYgYm90aCBhcmUgZXF1YWwsIDwgMCBpZiBhIHNob3VsZCBiZSBzb3J0ZWQgZmlyc3QsID4gMCBpZiBiXG4gKiBzaG91bGQgYmUgc29ydGVkIGZpcnN0XG4gKi9cbmZ1bmN0aW9uIGNvbXBhcmVTY29yZUFycmF5KGEsIGIpIHtcbiAgICBsZXQgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBhLmxlbmd0aCAmJiBpIDwgYi5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgZGlmZiA9IGJbaV0gLSBhW2ldO1xuICAgICAgICAvLyBvbmx5IGtlZXAgZ29pbmcgaWYgZGlmZiA9PT0gMFxuICAgICAgICBpZiAoZGlmZilcbiAgICAgICAgICAgIHJldHVybiBkaWZmO1xuICAgICAgICBpKys7XG4gICAgfVxuICAgIC8vIGlmIHRoZSBsYXN0IHN1YnNlZ21lbnQgd2FzIFN0YXRpYywgdGhlIHNob3J0ZXIgc2VnbWVudHMgc2hvdWxkIGJlIHNvcnRlZCBmaXJzdFxuICAgIC8vIG90aGVyd2lzZSBzb3J0IHRoZSBsb25nZXN0IHNlZ21lbnQgZmlyc3RcbiAgICBpZiAoYS5sZW5ndGggPCBiLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gYS5sZW5ndGggPT09IDEgJiYgYVswXSA9PT0gNDAgLyogUGF0aFNjb3JlLlN0YXRpYyAqLyArIDQwIC8qIFBhdGhTY29yZS5TZWdtZW50ICovXG4gICAgICAgICAgICA/IC0xXG4gICAgICAgICAgICA6IDE7XG4gICAgfVxuICAgIGVsc2UgaWYgKGEubGVuZ3RoID4gYi5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGIubGVuZ3RoID09PSAxICYmIGJbMF0gPT09IDQwIC8qIFBhdGhTY29yZS5TdGF0aWMgKi8gKyA0MCAvKiBQYXRoU2NvcmUuU2VnbWVudCAqL1xuICAgICAgICAgICAgPyAxXG4gICAgICAgICAgICA6IC0xO1xuICAgIH1cbiAgICByZXR1cm4gMDtcbn1cbi8qKlxuICogQ29tcGFyZSBmdW5jdGlvbiB0aGF0IGNhbiBiZSB1c2VkIHdpdGggYHNvcnRgIHRvIHNvcnQgYW4gYXJyYXkgb2YgUGF0aFBhcnNlclxuICpcbiAqIEBwYXJhbSBhIC0gZmlyc3QgUGF0aFBhcnNlclxuICogQHBhcmFtIGIgLSBzZWNvbmQgUGF0aFBhcnNlclxuICogQHJldHVybnMgMCBpZiBib3RoIGFyZSBlcXVhbCwgPCAwIGlmIGEgc2hvdWxkIGJlIHNvcnRlZCBmaXJzdCwgPiAwIGlmIGJcbiAqL1xuZnVuY3Rpb24gY29tcGFyZVBhdGhQYXJzZXJTY29yZShhLCBiKSB7XG4gICAgbGV0IGkgPSAwO1xuICAgIGNvbnN0IGFTY29yZSA9IGEuc2NvcmU7XG4gICAgY29uc3QgYlNjb3JlID0gYi5zY29yZTtcbiAgICB3aGlsZSAoaSA8IGFTY29yZS5sZW5ndGggJiYgaSA8IGJTY29yZS5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgY29tcCA9IGNvbXBhcmVTY29yZUFycmF5KGFTY29yZVtpXSwgYlNjb3JlW2ldKTtcbiAgICAgICAgLy8gZG8gbm90IHJldHVybiBpZiBib3RoIGFyZSBlcXVhbFxuICAgICAgICBpZiAoY29tcClcbiAgICAgICAgICAgIHJldHVybiBjb21wO1xuICAgICAgICBpKys7XG4gICAgfVxuICAgIGlmIChNYXRoLmFicyhiU2NvcmUubGVuZ3RoIC0gYVNjb3JlLmxlbmd0aCkgPT09IDEpIHtcbiAgICAgICAgaWYgKGlzTGFzdFNjb3JlTmVnYXRpdmUoYVNjb3JlKSlcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICBpZiAoaXNMYXN0U2NvcmVOZWdhdGl2ZShiU2NvcmUpKVxuICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiAgICAvLyBpZiBhIGFuZCBiIHNoYXJlIHRoZSBzYW1lIHNjb3JlIGVudHJpZXMgYnV0IGIgaGFzIG1vcmUsIHNvcnQgYiBmaXJzdFxuICAgIHJldHVybiBiU2NvcmUubGVuZ3RoIC0gYVNjb3JlLmxlbmd0aDtcbiAgICAvLyB0aGlzIGlzIHRoZSB0ZXJuYXJ5IHZlcnNpb25cbiAgICAvLyByZXR1cm4gYVNjb3JlLmxlbmd0aCA8IGJTY29yZS5sZW5ndGhcbiAgICAvLyAgID8gMVxuICAgIC8vICAgOiBhU2NvcmUubGVuZ3RoID4gYlNjb3JlLmxlbmd0aFxuICAgIC8vICAgPyAtMVxuICAgIC8vICAgOiAwXG59XG4vKipcbiAqIFRoaXMgYWxsb3dzIGRldGVjdGluZyBzcGxhdHMgYXQgdGhlIGVuZCBvZiBhIHBhdGg6IC9ob21lLzppZCguKikqXG4gKlxuICogQHBhcmFtIHNjb3JlIC0gc2NvcmUgdG8gY2hlY2tcbiAqIEByZXR1cm5zIHRydWUgaWYgdGhlIGxhc3QgZW50cnkgaXMgbmVnYXRpdmVcbiAqL1xuZnVuY3Rpb24gaXNMYXN0U2NvcmVOZWdhdGl2ZShzY29yZSkge1xuICAgIGNvbnN0IGxhc3QgPSBzY29yZVtzY29yZS5sZW5ndGggLSAxXTtcbiAgICByZXR1cm4gc2NvcmUubGVuZ3RoID4gMCAmJiBsYXN0W2xhc3QubGVuZ3RoIC0gMV0gPCAwO1xufVxuXG5jb25zdCBST09UX1RPS0VOID0ge1xuICAgIHR5cGU6IDAgLyogVG9rZW5UeXBlLlN0YXRpYyAqLyxcbiAgICB2YWx1ZTogJycsXG59O1xuY29uc3QgVkFMSURfUEFSQU1fUkUgPSAvW2EtekEtWjAtOV9dLztcbi8vIEFmdGVyIHNvbWUgcHJvZmlsaW5nLCB0aGUgY2FjaGUgc2VlbXMgdG8gYmUgdW5uZWNlc3NhcnkgYmVjYXVzZSB0b2tlbml6ZVBhdGhcbi8vICh0aGUgc2xvd2VzdCBwYXJ0IG9mIGFkZGluZyBhIHJvdXRlKSBpcyB2ZXJ5IGZhc3Rcbi8vIGNvbnN0IHRva2VuQ2FjaGUgPSBuZXcgTWFwPHN0cmluZywgVG9rZW5bXVtdPigpXG5mdW5jdGlvbiB0b2tlbml6ZVBhdGgocGF0aCkge1xuICAgIGlmICghcGF0aClcbiAgICAgICAgcmV0dXJuIFtbXV07XG4gICAgaWYgKHBhdGggPT09ICcvJylcbiAgICAgICAgcmV0dXJuIFtbUk9PVF9UT0tFTl1dO1xuICAgIGlmICghcGF0aC5zdGFydHNXaXRoKCcvJykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKVxuICAgICAgICAgICAgPyBgUm91dGUgcGF0aHMgc2hvdWxkIHN0YXJ0IHdpdGggYSBcIi9cIjogXCIke3BhdGh9XCIgc2hvdWxkIGJlIFwiLyR7cGF0aH1cIi5gXG4gICAgICAgICAgICA6IGBJbnZhbGlkIHBhdGggXCIke3BhdGh9XCJgKTtcbiAgICB9XG4gICAgLy8gaWYgKHRva2VuQ2FjaGUuaGFzKHBhdGgpKSByZXR1cm4gdG9rZW5DYWNoZS5nZXQocGF0aCkhXG4gICAgZnVuY3Rpb24gY3Jhc2gobWVzc2FnZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVSUiAoJHtzdGF0ZX0pL1wiJHtidWZmZXJ9XCI6ICR7bWVzc2FnZX1gKTtcbiAgICB9XG4gICAgbGV0IHN0YXRlID0gMCAvKiBUb2tlbml6ZXJTdGF0ZS5TdGF0aWMgKi87XG4gICAgbGV0IHByZXZpb3VzU3RhdGUgPSBzdGF0ZTtcbiAgICBjb25zdCB0b2tlbnMgPSBbXTtcbiAgICAvLyB0aGUgc2VnbWVudCB3aWxsIGFsd2F5cyBiZSB2YWxpZCBiZWNhdXNlIHdlIGdldCBpbnRvIHRoZSBpbml0aWFsIHN0YXRlXG4gICAgLy8gd2l0aCB0aGUgbGVhZGluZyAvXG4gICAgbGV0IHNlZ21lbnQ7XG4gICAgZnVuY3Rpb24gZmluYWxpemVTZWdtZW50KCkge1xuICAgICAgICBpZiAoc2VnbWVudClcbiAgICAgICAgICAgIHRva2Vucy5wdXNoKHNlZ21lbnQpO1xuICAgICAgICBzZWdtZW50ID0gW107XG4gICAgfVxuICAgIC8vIGluZGV4IG9uIHRoZSBwYXRoXG4gICAgbGV0IGkgPSAwO1xuICAgIC8vIGNoYXIgYXQgaW5kZXhcbiAgICBsZXQgY2hhcjtcbiAgICAvLyBidWZmZXIgb2YgdGhlIHZhbHVlIHJlYWRcbiAgICBsZXQgYnVmZmVyID0gJyc7XG4gICAgLy8gY3VzdG9tIHJlZ2V4cCBmb3IgYSBwYXJhbVxuICAgIGxldCBjdXN0b21SZSA9ICcnO1xuICAgIGZ1bmN0aW9uIGNvbnN1bWVCdWZmZXIoKSB7XG4gICAgICAgIGlmICghYnVmZmVyKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAoc3RhdGUgPT09IDAgLyogVG9rZW5pemVyU3RhdGUuU3RhdGljICovKSB7XG4gICAgICAgICAgICBzZWdtZW50LnB1c2goe1xuICAgICAgICAgICAgICAgIHR5cGU6IDAgLyogVG9rZW5UeXBlLlN0YXRpYyAqLyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogYnVmZmVyLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc3RhdGUgPT09IDEgLyogVG9rZW5pemVyU3RhdGUuUGFyYW0gKi8gfHxcbiAgICAgICAgICAgIHN0YXRlID09PSAyIC8qIFRva2VuaXplclN0YXRlLlBhcmFtUmVnRXhwICovIHx8XG4gICAgICAgICAgICBzdGF0ZSA9PT0gMyAvKiBUb2tlbml6ZXJTdGF0ZS5QYXJhbVJlZ0V4cEVuZCAqLykge1xuICAgICAgICAgICAgaWYgKHNlZ21lbnQubGVuZ3RoID4gMSAmJiAoY2hhciA9PT0gJyonIHx8IGNoYXIgPT09ICcrJykpXG4gICAgICAgICAgICAgICAgY3Jhc2goYEEgcmVwZWF0YWJsZSBwYXJhbSAoJHtidWZmZXJ9KSBtdXN0IGJlIGFsb25lIGluIGl0cyBzZWdtZW50LiBlZzogJy86aWRzKy5gKTtcbiAgICAgICAgICAgIHNlZ21lbnQucHVzaCh7XG4gICAgICAgICAgICAgICAgdHlwZTogMSAvKiBUb2tlblR5cGUuUGFyYW0gKi8sXG4gICAgICAgICAgICAgICAgdmFsdWU6IGJ1ZmZlcixcbiAgICAgICAgICAgICAgICByZWdleHA6IGN1c3RvbVJlLFxuICAgICAgICAgICAgICAgIHJlcGVhdGFibGU6IGNoYXIgPT09ICcqJyB8fCBjaGFyID09PSAnKycsXG4gICAgICAgICAgICAgICAgb3B0aW9uYWw6IGNoYXIgPT09ICcqJyB8fCBjaGFyID09PSAnPycsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNyYXNoKCdJbnZhbGlkIHN0YXRlIHRvIGNvbnN1bWUgYnVmZmVyJyk7XG4gICAgICAgIH1cbiAgICAgICAgYnVmZmVyID0gJyc7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFkZENoYXJUb0J1ZmZlcigpIHtcbiAgICAgICAgYnVmZmVyICs9IGNoYXI7XG4gICAgfVxuICAgIHdoaWxlIChpIDwgcGF0aC5sZW5ndGgpIHtcbiAgICAgICAgY2hhciA9IHBhdGhbaSsrXTtcbiAgICAgICAgaWYgKGNoYXIgPT09ICdcXFxcJyAmJiBzdGF0ZSAhPT0gMiAvKiBUb2tlbml6ZXJTdGF0ZS5QYXJhbVJlZ0V4cCAqLykge1xuICAgICAgICAgICAgcHJldmlvdXNTdGF0ZSA9IHN0YXRlO1xuICAgICAgICAgICAgc3RhdGUgPSA0IC8qIFRva2VuaXplclN0YXRlLkVzY2FwZU5leHQgKi87XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKHN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlIDAgLyogVG9rZW5pemVyU3RhdGUuU3RhdGljICovOlxuICAgICAgICAgICAgICAgIGlmIChjaGFyID09PSAnLycpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJ1ZmZlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3VtZUJ1ZmZlcigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZpbmFsaXplU2VnbWVudCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjaGFyID09PSAnOicpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3VtZUJ1ZmZlcigpO1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IDEgLyogVG9rZW5pemVyU3RhdGUuUGFyYW0gKi87XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhZGRDaGFyVG9CdWZmZXIoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDQgLyogVG9rZW5pemVyU3RhdGUuRXNjYXBlTmV4dCAqLzpcbiAgICAgICAgICAgICAgICBhZGRDaGFyVG9CdWZmZXIoKTtcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IHByZXZpb3VzU3RhdGU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDEgLyogVG9rZW5pemVyU3RhdGUuUGFyYW0gKi86XG4gICAgICAgICAgICAgICAgaWYgKGNoYXIgPT09ICcoJykge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IDIgLyogVG9rZW5pemVyU3RhdGUuUGFyYW1SZWdFeHAgKi87XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKFZBTElEX1BBUkFNX1JFLnRlc3QoY2hhcikpIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkQ2hhclRvQnVmZmVyKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdW1lQnVmZmVyKCk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlID0gMCAvKiBUb2tlbml6ZXJTdGF0ZS5TdGF0aWMgKi87XG4gICAgICAgICAgICAgICAgICAgIC8vIGdvIGJhY2sgb25lIGNoYXJhY3RlciBpZiB3ZSB3ZXJlIG5vdCBtb2RpZnlpbmdcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoYXIgIT09ICcqJyAmJiBjaGFyICE9PSAnPycgJiYgY2hhciAhPT0gJysnKVxuICAgICAgICAgICAgICAgICAgICAgICAgaS0tO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMiAvKiBUb2tlbml6ZXJTdGF0ZS5QYXJhbVJlZ0V4cCAqLzpcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBpcyBpdCB3b3J0aCBoYW5kbGluZyBuZXN0ZWQgcmVnZXhwPyBsaWtlIDpwKD86cHJlZml4XyhbXi9dKylfc3VmZml4KVxuICAgICAgICAgICAgICAgIC8vIGl0IGFscmVhZHkgd29ya3MgYnkgZXNjYXBpbmcgdGhlIGNsb3NpbmcgKVxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vcGF0aHMuZXNtLmRldi8/cD1BQU1lSmJpQXdRRWNES2JBb0FBa1A2MFBHMlI2UUF2Z05hQTZBRkFDTTJBQnVRQkIjXG4gICAgICAgICAgICAgICAgLy8gaXMgdGhpcyByZWFsbHkgc29tZXRoaW5nIHBlb3BsZSBuZWVkIHNpbmNlIHlvdSBjYW4gYWxzbyB3cml0ZVxuICAgICAgICAgICAgICAgIC8vIC9wcmVmaXhfOnAoKV9zdWZmaXhcbiAgICAgICAgICAgICAgICBpZiAoY2hhciA9PT0gJyknKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGhhbmRsZSB0aGUgZXNjYXBlZCApXG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXN0b21SZVtjdXN0b21SZS5sZW5ndGggLSAxXSA9PSAnXFxcXCcpXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21SZSA9IGN1c3RvbVJlLnNsaWNlKDAsIC0xKSArIGNoYXI7XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlID0gMyAvKiBUb2tlbml6ZXJTdGF0ZS5QYXJhbVJlZ0V4cEVuZCAqLztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGN1c3RvbVJlICs9IGNoYXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAzIC8qIFRva2VuaXplclN0YXRlLlBhcmFtUmVnRXhwRW5kICovOlxuICAgICAgICAgICAgICAgIC8vIHNhbWUgYXMgZmluYWxpemluZyBhIHBhcmFtXG4gICAgICAgICAgICAgICAgY29uc3VtZUJ1ZmZlcigpO1xuICAgICAgICAgICAgICAgIHN0YXRlID0gMCAvKiBUb2tlbml6ZXJTdGF0ZS5TdGF0aWMgKi87XG4gICAgICAgICAgICAgICAgLy8gZ28gYmFjayBvbmUgY2hhcmFjdGVyIGlmIHdlIHdlcmUgbm90IG1vZGlmeWluZ1xuICAgICAgICAgICAgICAgIGlmIChjaGFyICE9PSAnKicgJiYgY2hhciAhPT0gJz8nICYmIGNoYXIgIT09ICcrJylcbiAgICAgICAgICAgICAgICAgICAgaS0tO1xuICAgICAgICAgICAgICAgIGN1c3RvbVJlID0gJyc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGNyYXNoKCdVbmtub3duIHN0YXRlJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHN0YXRlID09PSAyIC8qIFRva2VuaXplclN0YXRlLlBhcmFtUmVnRXhwICovKVxuICAgICAgICBjcmFzaChgVW5maW5pc2hlZCBjdXN0b20gUmVnRXhwIGZvciBwYXJhbSBcIiR7YnVmZmVyfVwiYCk7XG4gICAgY29uc3VtZUJ1ZmZlcigpO1xuICAgIGZpbmFsaXplU2VnbWVudCgpO1xuICAgIC8vIHRva2VuQ2FjaGUuc2V0KHBhdGgsIHRva2VucylcbiAgICByZXR1cm4gdG9rZW5zO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVSb3V0ZVJlY29yZE1hdGNoZXIocmVjb3JkLCBwYXJlbnQsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBwYXJzZXIgPSB0b2tlbnNUb1BhcnNlcih0b2tlbml6ZVBhdGgocmVjb3JkLnBhdGgpLCBvcHRpb25zKTtcbiAgICAvLyB3YXJuIGFnYWluc3QgcGFyYW1zIHdpdGggdGhlIHNhbWUgbmFtZVxuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgY29uc3QgZXhpc3RpbmdLZXlzID0gbmV3IFNldCgpO1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBwYXJzZXIua2V5cykge1xuICAgICAgICAgICAgaWYgKGV4aXN0aW5nS2V5cy5oYXMoa2V5Lm5hbWUpKVxuICAgICAgICAgICAgICAgIHdhcm4oYEZvdW5kIGR1cGxpY2F0ZWQgcGFyYW1zIHdpdGggbmFtZSBcIiR7a2V5Lm5hbWV9XCIgZm9yIHBhdGggXCIke3JlY29yZC5wYXRofVwiLiBPbmx5IHRoZSBsYXN0IG9uZSB3aWxsIGJlIGF2YWlsYWJsZSBvbiBcIiRyb3V0ZS5wYXJhbXNcIi5gKTtcbiAgICAgICAgICAgIGV4aXN0aW5nS2V5cy5hZGQoa2V5Lm5hbWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IG1hdGNoZXIgPSBhc3NpZ24ocGFyc2VyLCB7XG4gICAgICAgIHJlY29yZCxcbiAgICAgICAgcGFyZW50LFxuICAgICAgICAvLyB0aGVzZSBuZWVkcyB0byBiZSBwb3B1bGF0ZWQgYnkgdGhlIHBhcmVudFxuICAgICAgICBjaGlsZHJlbjogW10sXG4gICAgICAgIGFsaWFzOiBbXSxcbiAgICB9KTtcbiAgICBpZiAocGFyZW50KSB7XG4gICAgICAgIC8vIGJvdGggYXJlIGFsaWFzZXMgb3IgYm90aCBhcmUgbm90IGFsaWFzZXNcbiAgICAgICAgLy8gd2UgZG9uJ3Qgd2FudCB0byBtaXggdGhlbSBiZWNhdXNlIHRoZSBvcmRlciBpcyB1c2VkIHdoZW5cbiAgICAgICAgLy8gcGFzc2luZyBvcmlnaW5hbFJlY29yZCBpbiBNYXRjaGVyLmFkZFJvdXRlXG4gICAgICAgIGlmICghbWF0Y2hlci5yZWNvcmQuYWxpYXNPZiA9PT0gIXBhcmVudC5yZWNvcmQuYWxpYXNPZilcbiAgICAgICAgICAgIHBhcmVudC5jaGlsZHJlbi5wdXNoKG1hdGNoZXIpO1xuICAgIH1cbiAgICByZXR1cm4gbWF0Y2hlcjtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgUm91dGVyIE1hdGNoZXIuXG4gKlxuICogQGludGVybmFsXG4gKiBAcGFyYW0gcm91dGVzIC0gYXJyYXkgb2YgaW5pdGlhbCByb3V0ZXNcbiAqIEBwYXJhbSBnbG9iYWxPcHRpb25zIC0gZ2xvYmFsIHJvdXRlIG9wdGlvbnNcbiAqL1xuZnVuY3Rpb24gY3JlYXRlUm91dGVyTWF0Y2hlcihyb3V0ZXMsIGdsb2JhbE9wdGlvbnMpIHtcbiAgICAvLyBub3JtYWxpemVkIG9yZGVyZWQgYXJyYXkgb2YgbWF0Y2hlcnNcbiAgICBjb25zdCBtYXRjaGVycyA9IFtdO1xuICAgIGNvbnN0IG1hdGNoZXJNYXAgPSBuZXcgTWFwKCk7XG4gICAgZ2xvYmFsT3B0aW9ucyA9IG1lcmdlT3B0aW9ucyh7IHN0cmljdDogZmFsc2UsIGVuZDogdHJ1ZSwgc2Vuc2l0aXZlOiBmYWxzZSB9LCBnbG9iYWxPcHRpb25zKTtcbiAgICBmdW5jdGlvbiBnZXRSZWNvcmRNYXRjaGVyKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIG1hdGNoZXJNYXAuZ2V0KG5hbWUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhZGRSb3V0ZShyZWNvcmQsIHBhcmVudCwgb3JpZ2luYWxSZWNvcmQpIHtcbiAgICAgICAgLy8gdXNlZCBsYXRlciBvbiB0byByZW1vdmUgYnkgbmFtZVxuICAgICAgICBjb25zdCBpc1Jvb3RBZGQgPSAhb3JpZ2luYWxSZWNvcmQ7XG4gICAgICAgIGNvbnN0IG1haW5Ob3JtYWxpemVkUmVjb3JkID0gbm9ybWFsaXplUm91dGVSZWNvcmQocmVjb3JkKTtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgY2hlY2tDaGlsZE1pc3NpbmdOYW1lV2l0aEVtcHR5UGF0aChtYWluTm9ybWFsaXplZFJlY29yZCwgcGFyZW50KTtcbiAgICAgICAgfVxuICAgICAgICAvLyB3ZSBtaWdodCBiZSB0aGUgY2hpbGQgb2YgYW4gYWxpYXNcbiAgICAgICAgbWFpbk5vcm1hbGl6ZWRSZWNvcmQuYWxpYXNPZiA9IG9yaWdpbmFsUmVjb3JkICYmIG9yaWdpbmFsUmVjb3JkLnJlY29yZDtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IG1lcmdlT3B0aW9ucyhnbG9iYWxPcHRpb25zLCByZWNvcmQpO1xuICAgICAgICAvLyBnZW5lcmF0ZSBhbiBhcnJheSBvZiByZWNvcmRzIHRvIGNvcnJlY3RseSBoYW5kbGUgYWxpYXNlc1xuICAgICAgICBjb25zdCBub3JtYWxpemVkUmVjb3JkcyA9IFtcbiAgICAgICAgICAgIG1haW5Ob3JtYWxpemVkUmVjb3JkLFxuICAgICAgICBdO1xuICAgICAgICBpZiAoJ2FsaWFzJyBpbiByZWNvcmQpIHtcbiAgICAgICAgICAgIGNvbnN0IGFsaWFzZXMgPSB0eXBlb2YgcmVjb3JkLmFsaWFzID09PSAnc3RyaW5nJyA/IFtyZWNvcmQuYWxpYXNdIDogcmVjb3JkLmFsaWFzO1xuICAgICAgICAgICAgZm9yIChjb25zdCBhbGlhcyBvZiBhbGlhc2VzKSB7XG4gICAgICAgICAgICAgICAgbm9ybWFsaXplZFJlY29yZHMucHVzaChhc3NpZ24oe30sIG1haW5Ob3JtYWxpemVkUmVjb3JkLCB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgYWxsb3dzIHVzIHRvIGhvbGQgYSBjb3B5IG9mIHRoZSBgY29tcG9uZW50c2Agb3B0aW9uXG4gICAgICAgICAgICAgICAgICAgIC8vIHNvIHRoYXQgYXN5bmMgY29tcG9uZW50cyBjYWNoZSBpcyBob2xkIG9uIHRoZSBvcmlnaW5hbCByZWNvcmRcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50czogb3JpZ2luYWxSZWNvcmRcbiAgICAgICAgICAgICAgICAgICAgICAgID8gb3JpZ2luYWxSZWNvcmQucmVjb3JkLmNvbXBvbmVudHNcbiAgICAgICAgICAgICAgICAgICAgICAgIDogbWFpbk5vcm1hbGl6ZWRSZWNvcmQuY29tcG9uZW50cyxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogYWxpYXMsXG4gICAgICAgICAgICAgICAgICAgIC8vIHdlIG1pZ2h0IGJlIHRoZSBjaGlsZCBvZiBhbiBhbGlhc1xuICAgICAgICAgICAgICAgICAgICBhbGlhc09mOiBvcmlnaW5hbFJlY29yZFxuICAgICAgICAgICAgICAgICAgICAgICAgPyBvcmlnaW5hbFJlY29yZC5yZWNvcmRcbiAgICAgICAgICAgICAgICAgICAgICAgIDogbWFpbk5vcm1hbGl6ZWRSZWNvcmQsXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZSBhbGlhc2VzIGFyZSBhbHdheXMgb2YgdGhlIHNhbWUga2luZCBhcyB0aGUgb3JpZ2luYWwgc2luY2UgdGhleVxuICAgICAgICAgICAgICAgICAgICAvLyBhcmUgZGVmaW5lZCBvbiB0aGUgc2FtZSByZWNvcmRcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG1hdGNoZXI7XG4gICAgICAgIGxldCBvcmlnaW5hbE1hdGNoZXI7XG4gICAgICAgIGZvciAoY29uc3Qgbm9ybWFsaXplZFJlY29yZCBvZiBub3JtYWxpemVkUmVjb3Jkcykge1xuICAgICAgICAgICAgY29uc3QgeyBwYXRoIH0gPSBub3JtYWxpemVkUmVjb3JkO1xuICAgICAgICAgICAgLy8gQnVpbGQgdXAgdGhlIHBhdGggZm9yIG5lc3RlZCByb3V0ZXMgaWYgdGhlIGNoaWxkIGlzbid0IGFuIGFic29sdXRlXG4gICAgICAgICAgICAvLyByb3V0ZS4gT25seSBhZGQgdGhlIC8gZGVsaW1pdGVyIGlmIHRoZSBjaGlsZCBwYXRoIGlzbid0IGVtcHR5IGFuZCBpZiB0aGVcbiAgICAgICAgICAgIC8vIHBhcmVudCBwYXRoIGRvZXNuJ3QgaGF2ZSBhIHRyYWlsaW5nIHNsYXNoXG4gICAgICAgICAgICBpZiAocGFyZW50ICYmIHBhdGhbMF0gIT09ICcvJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudFBhdGggPSBwYXJlbnQucmVjb3JkLnBhdGg7XG4gICAgICAgICAgICAgICAgY29uc3QgY29ubmVjdGluZ1NsYXNoID0gcGFyZW50UGF0aFtwYXJlbnRQYXRoLmxlbmd0aCAtIDFdID09PSAnLycgPyAnJyA6ICcvJztcbiAgICAgICAgICAgICAgICBub3JtYWxpemVkUmVjb3JkLnBhdGggPVxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQucmVjb3JkLnBhdGggKyAocGF0aCAmJiBjb25uZWN0aW5nU2xhc2ggKyBwYXRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgbm9ybWFsaXplZFJlY29yZC5wYXRoID09PSAnKicpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhdGNoIGFsbCByb3V0ZXMgKFwiKlwiKSBtdXN0IG5vdyBiZSBkZWZpbmVkIHVzaW5nIGEgcGFyYW0gd2l0aCBhIGN1c3RvbSByZWdleHAuXFxuJyArXG4gICAgICAgICAgICAgICAgICAgICdTZWUgbW9yZSBhdCBodHRwczovL25leHQucm91dGVyLnZ1ZWpzLm9yZy9ndWlkZS9taWdyYXRpb24vI3JlbW92ZWQtc3Rhci1vci1jYXRjaC1hbGwtcm91dGVzLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gY3JlYXRlIHRoZSBvYmplY3QgYmVmb3JlaGFuZCwgc28gaXQgY2FuIGJlIHBhc3NlZCB0byBjaGlsZHJlblxuICAgICAgICAgICAgbWF0Y2hlciA9IGNyZWF0ZVJvdXRlUmVjb3JkTWF0Y2hlcihub3JtYWxpemVkUmVjb3JkLCBwYXJlbnQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiBwYXJlbnQgJiYgcGF0aFswXSA9PT0gJy8nKVxuICAgICAgICAgICAgICAgIGNoZWNrTWlzc2luZ1BhcmFtc0luQWJzb2x1dGVQYXRoKG1hdGNoZXIsIHBhcmVudCk7XG4gICAgICAgICAgICAvLyBpZiB3ZSBhcmUgYW4gYWxpYXMgd2UgbXVzdCB0ZWxsIHRoZSBvcmlnaW5hbCByZWNvcmQgdGhhdCB3ZSBleGlzdCxcbiAgICAgICAgICAgIC8vIHNvIHdlIGNhbiBiZSByZW1vdmVkXG4gICAgICAgICAgICBpZiAob3JpZ2luYWxSZWNvcmQpIHtcbiAgICAgICAgICAgICAgICBvcmlnaW5hbFJlY29yZC5hbGlhcy5wdXNoKG1hdGNoZXIpO1xuICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tTYW1lUGFyYW1zKG9yaWdpbmFsUmVjb3JkLCBtYXRjaGVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBvdGhlcndpc2UsIHRoZSBmaXJzdCByZWNvcmQgaXMgdGhlIG9yaWdpbmFsIGFuZCBvdGhlcnMgYXJlIGFsaWFzZXNcbiAgICAgICAgICAgICAgICBvcmlnaW5hbE1hdGNoZXIgPSBvcmlnaW5hbE1hdGNoZXIgfHwgbWF0Y2hlcjtcbiAgICAgICAgICAgICAgICBpZiAob3JpZ2luYWxNYXRjaGVyICE9PSBtYXRjaGVyKVxuICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbE1hdGNoZXIuYWxpYXMucHVzaChtYXRjaGVyKTtcbiAgICAgICAgICAgICAgICAvLyByZW1vdmUgdGhlIHJvdXRlIGlmIG5hbWVkIGFuZCBvbmx5IGZvciB0aGUgdG9wIHJlY29yZCAoYXZvaWQgaW4gbmVzdGVkIGNhbGxzKVxuICAgICAgICAgICAgICAgIC8vIHRoaXMgd29ya3MgYmVjYXVzZSB0aGUgb3JpZ2luYWwgcmVjb3JkIGlzIHRoZSBmaXJzdCBvbmVcbiAgICAgICAgICAgICAgICBpZiAoaXNSb290QWRkICYmIHJlY29yZC5uYW1lICYmICFpc0FsaWFzUmVjb3JkKG1hdGNoZXIpKVxuICAgICAgICAgICAgICAgICAgICByZW1vdmVSb3V0ZShyZWNvcmQubmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBBdm9pZCBhZGRpbmcgYSByZWNvcmQgdGhhdCBkb2Vzbid0IGRpc3BsYXkgYW55dGhpbmcuIFRoaXMgYWxsb3dzIHBhc3NpbmcgdGhyb3VnaCByZWNvcmRzIHdpdGhvdXQgYSBjb21wb25lbnQgdG9cbiAgICAgICAgICAgIC8vIG5vdCBiZSByZWFjaGVkIGFuZCBwYXNzIHRocm91Z2ggdGhlIGNhdGNoIGFsbCByb3V0ZVxuICAgICAgICAgICAgaWYgKGlzTWF0Y2hhYmxlKG1hdGNoZXIpKSB7XG4gICAgICAgICAgICAgICAgaW5zZXJ0TWF0Y2hlcihtYXRjaGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtYWluTm9ybWFsaXplZFJlY29yZC5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVuID0gbWFpbk5vcm1hbGl6ZWRSZWNvcmQuY2hpbGRyZW47XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBhZGRSb3V0ZShjaGlsZHJlbltpXSwgbWF0Y2hlciwgb3JpZ2luYWxSZWNvcmQgJiYgb3JpZ2luYWxSZWNvcmQuY2hpbGRyZW5baV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmIHRoZXJlIHdhcyBubyBvcmlnaW5hbCByZWNvcmQsIHRoZW4gdGhlIGZpcnN0IG9uZSB3YXMgbm90IGFuIGFsaWFzIGFuZCBhbGxcbiAgICAgICAgICAgIC8vIG90aGVyIGFsaWFzZXMgKGlmIGFueSkgbmVlZCB0byByZWZlcmVuY2UgdGhpcyByZWNvcmQgd2hlbiBhZGRpbmcgY2hpbGRyZW5cbiAgICAgICAgICAgIG9yaWdpbmFsUmVjb3JkID0gb3JpZ2luYWxSZWNvcmQgfHwgbWF0Y2hlcjtcbiAgICAgICAgICAgIC8vIFRPRE86IGFkZCBub3JtYWxpemVkIHJlY29yZHMgZm9yIG1vcmUgZmxleGliaWxpdHlcbiAgICAgICAgICAgIC8vIGlmIChwYXJlbnQgJiYgaXNBbGlhc1JlY29yZChvcmlnaW5hbFJlY29yZCkpIHtcbiAgICAgICAgICAgIC8vICAgcGFyZW50LmNoaWxkcmVuLnB1c2gob3JpZ2luYWxSZWNvcmQpXG4gICAgICAgICAgICAvLyB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9yaWdpbmFsTWF0Y2hlclxuICAgICAgICAgICAgPyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gc2luY2Ugb3RoZXIgbWF0Y2hlcnMgYXJlIGFsaWFzZXMsIHRoZXkgc2hvdWxkIGJlIHJlbW92ZWQgYnkgdGhlIG9yaWdpbmFsIG1hdGNoZXJcbiAgICAgICAgICAgICAgICByZW1vdmVSb3V0ZShvcmlnaW5hbE1hdGNoZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiBub29wO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZW1vdmVSb3V0ZShtYXRjaGVyUmVmKSB7XG4gICAgICAgIGlmIChpc1JvdXRlTmFtZShtYXRjaGVyUmVmKSkge1xuICAgICAgICAgICAgY29uc3QgbWF0Y2hlciA9IG1hdGNoZXJNYXAuZ2V0KG1hdGNoZXJSZWYpO1xuICAgICAgICAgICAgaWYgKG1hdGNoZXIpIHtcbiAgICAgICAgICAgICAgICBtYXRjaGVyTWFwLmRlbGV0ZShtYXRjaGVyUmVmKTtcbiAgICAgICAgICAgICAgICBtYXRjaGVycy5zcGxpY2UobWF0Y2hlcnMuaW5kZXhPZihtYXRjaGVyKSwgMSk7XG4gICAgICAgICAgICAgICAgbWF0Y2hlci5jaGlsZHJlbi5mb3JFYWNoKHJlbW92ZVJvdXRlKTtcbiAgICAgICAgICAgICAgICBtYXRjaGVyLmFsaWFzLmZvckVhY2gocmVtb3ZlUm91dGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBtYXRjaGVycy5pbmRleE9mKG1hdGNoZXJSZWYpO1xuICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgICAgICBtYXRjaGVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIGlmIChtYXRjaGVyUmVmLnJlY29yZC5uYW1lKVxuICAgICAgICAgICAgICAgICAgICBtYXRjaGVyTWFwLmRlbGV0ZShtYXRjaGVyUmVmLnJlY29yZC5uYW1lKTtcbiAgICAgICAgICAgICAgICBtYXRjaGVyUmVmLmNoaWxkcmVuLmZvckVhY2gocmVtb3ZlUm91dGUpO1xuICAgICAgICAgICAgICAgIG1hdGNoZXJSZWYuYWxpYXMuZm9yRWFjaChyZW1vdmVSb3V0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0Um91dGVzKCkge1xuICAgICAgICByZXR1cm4gbWF0Y2hlcnM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGluc2VydE1hdGNoZXIobWF0Y2hlcikge1xuICAgICAgICBjb25zdCBpbmRleCA9IGZpbmRJbnNlcnRpb25JbmRleChtYXRjaGVyLCBtYXRjaGVycyk7XG4gICAgICAgIG1hdGNoZXJzLnNwbGljZShpbmRleCwgMCwgbWF0Y2hlcik7XG4gICAgICAgIC8vIG9ubHkgYWRkIHRoZSBvcmlnaW5hbCByZWNvcmQgdG8gdGhlIG5hbWUgbWFwXG4gICAgICAgIGlmIChtYXRjaGVyLnJlY29yZC5uYW1lICYmICFpc0FsaWFzUmVjb3JkKG1hdGNoZXIpKVxuICAgICAgICAgICAgbWF0Y2hlck1hcC5zZXQobWF0Y2hlci5yZWNvcmQubmFtZSwgbWF0Y2hlcik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlc29sdmUobG9jYXRpb24sIGN1cnJlbnRMb2NhdGlvbikge1xuICAgICAgICBsZXQgbWF0Y2hlcjtcbiAgICAgICAgbGV0IHBhcmFtcyA9IHt9O1xuICAgICAgICBsZXQgcGF0aDtcbiAgICAgICAgbGV0IG5hbWU7XG4gICAgICAgIGlmICgnbmFtZScgaW4gbG9jYXRpb24gJiYgbG9jYXRpb24ubmFtZSkge1xuICAgICAgICAgICAgbWF0Y2hlciA9IG1hdGNoZXJNYXAuZ2V0KGxvY2F0aW9uLm5hbWUpO1xuICAgICAgICAgICAgaWYgKCFtYXRjaGVyKVxuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZVJvdXRlckVycm9yKDEgLyogRXJyb3JUeXBlcy5NQVRDSEVSX05PVF9GT1VORCAqLywge1xuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbixcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIHdhcm4gaWYgdGhlIHVzZXIgaXMgcGFzc2luZyBpbnZhbGlkIHBhcmFtcyBzbyB0aGV5IGNhbiBkZWJ1ZyBpdCBiZXR0ZXIgd2hlbiB0aGV5IGdldCByZW1vdmVkXG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW52YWxpZFBhcmFtcyA9IE9iamVjdC5rZXlzKGxvY2F0aW9uLnBhcmFtcyB8fCB7fSkuZmlsdGVyKHBhcmFtTmFtZSA9PiAhbWF0Y2hlci5rZXlzLmZpbmQoayA9PiBrLm5hbWUgPT09IHBhcmFtTmFtZSkpO1xuICAgICAgICAgICAgICAgIGlmIChpbnZhbGlkUGFyYW1zLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICB3YXJuKGBEaXNjYXJkZWQgaW52YWxpZCBwYXJhbShzKSBcIiR7aW52YWxpZFBhcmFtcy5qb2luKCdcIiwgXCInKX1cIiB3aGVuIG5hdmlnYXRpbmcuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vdnVlanMvcm91dGVyL2Jsb2IvbWFpbi9wYWNrYWdlcy9yb3V0ZXIvQ0hBTkdFTE9HLm1kIzQxNC0yMDIyLTA4LTIyIGZvciBtb3JlIGRldGFpbHMuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmFtZSA9IG1hdGNoZXIucmVjb3JkLm5hbWU7XG4gICAgICAgICAgICBwYXJhbXMgPSBhc3NpZ24oXG4gICAgICAgICAgICAvLyBwYXJhbXNGcm9tTG9jYXRpb24gaXMgYSBuZXcgb2JqZWN0XG4gICAgICAgICAgICBwYXJhbXNGcm9tTG9jYXRpb24oY3VycmVudExvY2F0aW9uLnBhcmFtcywgXG4gICAgICAgICAgICAvLyBvbmx5IGtlZXAgcGFyYW1zIHRoYXQgZXhpc3QgaW4gdGhlIHJlc29sdmVkIGxvY2F0aW9uXG4gICAgICAgICAgICAvLyBvbmx5IGtlZXAgb3B0aW9uYWwgcGFyYW1zIGNvbWluZyBmcm9tIGEgcGFyZW50IHJlY29yZFxuICAgICAgICAgICAgbWF0Y2hlci5rZXlzXG4gICAgICAgICAgICAgICAgLmZpbHRlcihrID0+ICFrLm9wdGlvbmFsKVxuICAgICAgICAgICAgICAgIC5jb25jYXQobWF0Y2hlci5wYXJlbnQgPyBtYXRjaGVyLnBhcmVudC5rZXlzLmZpbHRlcihrID0+IGsub3B0aW9uYWwpIDogW10pXG4gICAgICAgICAgICAgICAgLm1hcChrID0+IGsubmFtZSkpLCBcbiAgICAgICAgICAgIC8vIGRpc2NhcmQgYW55IGV4aXN0aW5nIHBhcmFtcyBpbiB0aGUgY3VycmVudCBsb2NhdGlvbiB0aGF0IGRvIG5vdCBleGlzdCBoZXJlXG4gICAgICAgICAgICAvLyAjMTQ5NyB0aGlzIGVuc3VyZXMgYmV0dGVyIGFjdGl2ZS9leGFjdCBtYXRjaGluZ1xuICAgICAgICAgICAgbG9jYXRpb24ucGFyYW1zICYmXG4gICAgICAgICAgICAgICAgcGFyYW1zRnJvbUxvY2F0aW9uKGxvY2F0aW9uLnBhcmFtcywgbWF0Y2hlci5rZXlzLm1hcChrID0+IGsubmFtZSkpKTtcbiAgICAgICAgICAgIC8vIHRocm93cyBpZiBjYW5ub3QgYmUgc3RyaW5naWZpZWRcbiAgICAgICAgICAgIHBhdGggPSBtYXRjaGVyLnN0cmluZ2lmeShwYXJhbXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGxvY2F0aW9uLnBhdGggIT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gbm8gbmVlZCB0byByZXNvbHZlIHRoZSBwYXRoIHdpdGggdGhlIG1hdGNoZXIgYXMgaXQgd2FzIHByb3ZpZGVkXG4gICAgICAgICAgICAvLyB0aGlzIGFsc28gYWxsb3dzIHRoZSB1c2VyIHRvIGNvbnRyb2wgdGhlIGVuY29kaW5nXG4gICAgICAgICAgICBwYXRoID0gbG9jYXRpb24ucGF0aDtcbiAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIXBhdGguc3RhcnRzV2l0aCgnLycpKSB7XG4gICAgICAgICAgICAgICAgd2FybihgVGhlIE1hdGNoZXIgY2Fubm90IHJlc29sdmUgcmVsYXRpdmUgcGF0aHMgYnV0IHJlY2VpdmVkIFwiJHtwYXRofVwiLiBVbmxlc3MgeW91IGRpcmVjdGx5IGNhbGxlZCBcXGBtYXRjaGVyLnJlc29sdmUoXCIke3BhdGh9XCIpXFxgLCB0aGlzIGlzIHByb2JhYmx5IGEgYnVnIGluIHZ1ZS1yb3V0ZXIuIFBsZWFzZSBvcGVuIGFuIGlzc3VlIGF0IGh0dHBzOi8vZ2l0aHViLmNvbS92dWVqcy9yb3V0ZXIvaXNzdWVzL25ldy9jaG9vc2UuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtYXRjaGVyID0gbWF0Y2hlcnMuZmluZChtID0+IG0ucmUudGVzdChwYXRoKSk7XG4gICAgICAgICAgICAvLyBtYXRjaGVyIHNob3VsZCBoYXZlIGEgdmFsdWUgYWZ0ZXIgdGhlIGxvb3BcbiAgICAgICAgICAgIGlmIChtYXRjaGVyKSB7XG4gICAgICAgICAgICAgICAgLy8gd2Uga25vdyB0aGUgbWF0Y2hlciB3b3JrcyBiZWNhdXNlIHdlIHRlc3RlZCB0aGUgcmVnZXhwXG4gICAgICAgICAgICAgICAgcGFyYW1zID0gbWF0Y2hlci5wYXJzZShwYXRoKTtcbiAgICAgICAgICAgICAgICBuYW1lID0gbWF0Y2hlci5yZWNvcmQubmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGxvY2F0aW9uIGlzIGEgcmVsYXRpdmUgcGF0aFxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gbWF0Y2ggYnkgbmFtZSBvciBwYXRoIG9mIGN1cnJlbnQgcm91dGVcbiAgICAgICAgICAgIG1hdGNoZXIgPSBjdXJyZW50TG9jYXRpb24ubmFtZVxuICAgICAgICAgICAgICAgID8gbWF0Y2hlck1hcC5nZXQoY3VycmVudExvY2F0aW9uLm5hbWUpXG4gICAgICAgICAgICAgICAgOiBtYXRjaGVycy5maW5kKG0gPT4gbS5yZS50ZXN0KGN1cnJlbnRMb2NhdGlvbi5wYXRoKSk7XG4gICAgICAgICAgICBpZiAoIW1hdGNoZXIpXG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlUm91dGVyRXJyb3IoMSAvKiBFcnJvclR5cGVzLk1BVENIRVJfTk9UX0ZPVU5EICovLCB7XG4gICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50TG9jYXRpb24sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBuYW1lID0gbWF0Y2hlci5yZWNvcmQubmFtZTtcbiAgICAgICAgICAgIC8vIHNpbmNlIHdlIGFyZSBuYXZpZ2F0aW5nIHRvIHRoZSBzYW1lIGxvY2F0aW9uLCB3ZSBkb24ndCBuZWVkIHRvIHBpY2sgdGhlXG4gICAgICAgICAgICAvLyBwYXJhbXMgbGlrZSB3aGVuIGBuYW1lYCBpcyBwcm92aWRlZFxuICAgICAgICAgICAgcGFyYW1zID0gYXNzaWduKHt9LCBjdXJyZW50TG9jYXRpb24ucGFyYW1zLCBsb2NhdGlvbi5wYXJhbXMpO1xuICAgICAgICAgICAgcGF0aCA9IG1hdGNoZXIuc3RyaW5naWZ5KHBhcmFtcyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbWF0Y2hlZCA9IFtdO1xuICAgICAgICBsZXQgcGFyZW50TWF0Y2hlciA9IG1hdGNoZXI7XG4gICAgICAgIHdoaWxlIChwYXJlbnRNYXRjaGVyKSB7XG4gICAgICAgICAgICAvLyByZXZlcnNlZCBvcmRlciBzbyBwYXJlbnRzIGFyZSBhdCB0aGUgYmVnaW5uaW5nXG4gICAgICAgICAgICBtYXRjaGVkLnVuc2hpZnQocGFyZW50TWF0Y2hlci5yZWNvcmQpO1xuICAgICAgICAgICAgcGFyZW50TWF0Y2hlciA9IHBhcmVudE1hdGNoZXIucGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgcGF0aCxcbiAgICAgICAgICAgIHBhcmFtcyxcbiAgICAgICAgICAgIG1hdGNoZWQsXG4gICAgICAgICAgICBtZXRhOiBtZXJnZU1ldGFGaWVsZHMobWF0Y2hlZCksXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8vIGFkZCBpbml0aWFsIHJvdXRlc1xuICAgIHJvdXRlcy5mb3JFYWNoKHJvdXRlID0+IGFkZFJvdXRlKHJvdXRlKSk7XG4gICAgcmV0dXJuIHsgYWRkUm91dGUsIHJlc29sdmUsIHJlbW92ZVJvdXRlLCBnZXRSb3V0ZXMsIGdldFJlY29yZE1hdGNoZXIgfTtcbn1cbmZ1bmN0aW9uIHBhcmFtc0Zyb21Mb2NhdGlvbihwYXJhbXMsIGtleXMpIHtcbiAgICBjb25zdCBuZXdQYXJhbXMgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBrZXlzKSB7XG4gICAgICAgIGlmIChrZXkgaW4gcGFyYW1zKVxuICAgICAgICAgICAgbmV3UGFyYW1zW2tleV0gPSBwYXJhbXNba2V5XTtcbiAgICB9XG4gICAgcmV0dXJuIG5ld1BhcmFtcztcbn1cbi8qKlxuICogTm9ybWFsaXplcyBhIFJvdXRlUmVjb3JkUmF3LiBDcmVhdGVzIGEgY29weVxuICpcbiAqIEBwYXJhbSByZWNvcmRcbiAqIEByZXR1cm5zIHRoZSBub3JtYWxpemVkIHZlcnNpb25cbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplUm91dGVSZWNvcmQocmVjb3JkKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcGF0aDogcmVjb3JkLnBhdGgsXG4gICAgICAgIHJlZGlyZWN0OiByZWNvcmQucmVkaXJlY3QsXG4gICAgICAgIG5hbWU6IHJlY29yZC5uYW1lLFxuICAgICAgICBtZXRhOiByZWNvcmQubWV0YSB8fCB7fSxcbiAgICAgICAgYWxpYXNPZjogdW5kZWZpbmVkLFxuICAgICAgICBiZWZvcmVFbnRlcjogcmVjb3JkLmJlZm9yZUVudGVyLFxuICAgICAgICBwcm9wczogbm9ybWFsaXplUmVjb3JkUHJvcHMocmVjb3JkKSxcbiAgICAgICAgY2hpbGRyZW46IHJlY29yZC5jaGlsZHJlbiB8fCBbXSxcbiAgICAgICAgaW5zdGFuY2VzOiB7fSxcbiAgICAgICAgbGVhdmVHdWFyZHM6IG5ldyBTZXQoKSxcbiAgICAgICAgdXBkYXRlR3VhcmRzOiBuZXcgU2V0KCksXG4gICAgICAgIGVudGVyQ2FsbGJhY2tzOiB7fSxcbiAgICAgICAgY29tcG9uZW50czogJ2NvbXBvbmVudHMnIGluIHJlY29yZFxuICAgICAgICAgICAgPyByZWNvcmQuY29tcG9uZW50cyB8fCBudWxsXG4gICAgICAgICAgICA6IHJlY29yZC5jb21wb25lbnQgJiYgeyBkZWZhdWx0OiByZWNvcmQuY29tcG9uZW50IH0sXG4gICAgfTtcbn1cbi8qKlxuICogTm9ybWFsaXplIHRoZSBvcHRpb25hbCBgcHJvcHNgIGluIGEgcmVjb3JkIHRvIGFsd2F5cyBiZSBhbiBvYmplY3Qgc2ltaWxhciB0b1xuICogY29tcG9uZW50cy4gQWxzbyBhY2NlcHQgYSBib29sZWFuIGZvciBjb21wb25lbnRzLlxuICogQHBhcmFtIHJlY29yZFxuICovXG5mdW5jdGlvbiBub3JtYWxpemVSZWNvcmRQcm9wcyhyZWNvcmQpIHtcbiAgICBjb25zdCBwcm9wc09iamVjdCA9IHt9O1xuICAgIC8vIHByb3BzIGRvZXMgbm90IGV4aXN0IG9uIHJlZGlyZWN0IHJlY29yZHMsIGJ1dCB3ZSBjYW4gc2V0IGZhbHNlIGRpcmVjdGx5XG4gICAgY29uc3QgcHJvcHMgPSByZWNvcmQucHJvcHMgfHwgZmFsc2U7XG4gICAgaWYgKCdjb21wb25lbnQnIGluIHJlY29yZCkge1xuICAgICAgICBwcm9wc09iamVjdC5kZWZhdWx0ID0gcHJvcHM7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBOT1RFOiB3ZSBjb3VsZCBhbHNvIGFsbG93IGEgZnVuY3Rpb24gdG8gYmUgYXBwbGllZCB0byBldmVyeSBjb21wb25lbnQuXG4gICAgICAgIC8vIFdvdWxkIG5lZWQgdXNlciBmZWVkYmFjayBmb3IgdXNlIGNhc2VzXG4gICAgICAgIGZvciAoY29uc3QgbmFtZSBpbiByZWNvcmQuY29tcG9uZW50cylcbiAgICAgICAgICAgIHByb3BzT2JqZWN0W25hbWVdID0gdHlwZW9mIHByb3BzID09PSAnb2JqZWN0JyA/IHByb3BzW25hbWVdIDogcHJvcHM7XG4gICAgfVxuICAgIHJldHVybiBwcm9wc09iamVjdDtcbn1cbi8qKlxuICogQ2hlY2tzIGlmIGEgcmVjb3JkIG9yIGFueSBvZiBpdHMgcGFyZW50IGlzIGFuIGFsaWFzXG4gKiBAcGFyYW0gcmVjb3JkXG4gKi9cbmZ1bmN0aW9uIGlzQWxpYXNSZWNvcmQocmVjb3JkKSB7XG4gICAgd2hpbGUgKHJlY29yZCkge1xuICAgICAgICBpZiAocmVjb3JkLnJlY29yZC5hbGlhc09mKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIHJlY29yZCA9IHJlY29yZC5wYXJlbnQ7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICogTWVyZ2UgbWV0YSBmaWVsZHMgb2YgYW4gYXJyYXkgb2YgcmVjb3Jkc1xuICpcbiAqIEBwYXJhbSBtYXRjaGVkIC0gYXJyYXkgb2YgbWF0Y2hlZCByZWNvcmRzXG4gKi9cbmZ1bmN0aW9uIG1lcmdlTWV0YUZpZWxkcyhtYXRjaGVkKSB7XG4gICAgcmV0dXJuIG1hdGNoZWQucmVkdWNlKChtZXRhLCByZWNvcmQpID0+IGFzc2lnbihtZXRhLCByZWNvcmQubWV0YSksIHt9KTtcbn1cbmZ1bmN0aW9uIG1lcmdlT3B0aW9ucyhkZWZhdWx0cywgcGFydGlhbE9wdGlvbnMpIHtcbiAgICBjb25zdCBvcHRpb25zID0ge307XG4gICAgZm9yIChjb25zdCBrZXkgaW4gZGVmYXVsdHMpIHtcbiAgICAgICAgb3B0aW9uc1trZXldID0ga2V5IGluIHBhcnRpYWxPcHRpb25zID8gcGFydGlhbE9wdGlvbnNba2V5XSA6IGRlZmF1bHRzW2tleV07XG4gICAgfVxuICAgIHJldHVybiBvcHRpb25zO1xufVxuZnVuY3Rpb24gaXNTYW1lUGFyYW0oYSwgYikge1xuICAgIHJldHVybiAoYS5uYW1lID09PSBiLm5hbWUgJiZcbiAgICAgICAgYS5vcHRpb25hbCA9PT0gYi5vcHRpb25hbCAmJlxuICAgICAgICBhLnJlcGVhdGFibGUgPT09IGIucmVwZWF0YWJsZSk7XG59XG4vKipcbiAqIENoZWNrIGlmIGEgcGF0aCBhbmQgaXRzIGFsaWFzIGhhdmUgdGhlIHNhbWUgcmVxdWlyZWQgcGFyYW1zXG4gKlxuICogQHBhcmFtIGEgLSBvcmlnaW5hbCByZWNvcmRcbiAqIEBwYXJhbSBiIC0gYWxpYXMgcmVjb3JkXG4gKi9cbmZ1bmN0aW9uIGNoZWNrU2FtZVBhcmFtcyhhLCBiKSB7XG4gICAgZm9yIChjb25zdCBrZXkgb2YgYS5rZXlzKSB7XG4gICAgICAgIGlmICgha2V5Lm9wdGlvbmFsICYmICFiLmtleXMuZmluZChpc1NhbWVQYXJhbS5iaW5kKG51bGwsIGtleSkpKVxuICAgICAgICAgICAgcmV0dXJuIHdhcm4oYEFsaWFzIFwiJHtiLnJlY29yZC5wYXRofVwiIGFuZCB0aGUgb3JpZ2luYWwgcmVjb3JkOiBcIiR7YS5yZWNvcmQucGF0aH1cIiBtdXN0IGhhdmUgdGhlIGV4YWN0IHNhbWUgcGFyYW0gbmFtZWQgXCIke2tleS5uYW1lfVwiYCk7XG4gICAgfVxuICAgIGZvciAoY29uc3Qga2V5IG9mIGIua2V5cykge1xuICAgICAgICBpZiAoIWtleS5vcHRpb25hbCAmJiAhYS5rZXlzLmZpbmQoaXNTYW1lUGFyYW0uYmluZChudWxsLCBrZXkpKSlcbiAgICAgICAgICAgIHJldHVybiB3YXJuKGBBbGlhcyBcIiR7Yi5yZWNvcmQucGF0aH1cIiBhbmQgdGhlIG9yaWdpbmFsIHJlY29yZDogXCIke2EucmVjb3JkLnBhdGh9XCIgbXVzdCBoYXZlIHRoZSBleGFjdCBzYW1lIHBhcmFtIG5hbWVkIFwiJHtrZXkubmFtZX1cImApO1xuICAgIH1cbn1cbi8qKlxuICogQSByb3V0ZSB3aXRoIGEgbmFtZSBhbmQgYSBjaGlsZCB3aXRoIGFuIGVtcHR5IHBhdGggd2l0aG91dCBhIG5hbWUgc2hvdWxkIHdhcm4gd2hlbiBhZGRpbmcgdGhlIHJvdXRlXG4gKlxuICogQHBhcmFtIG1haW5Ob3JtYWxpemVkUmVjb3JkIC0gUm91dGVSZWNvcmROb3JtYWxpemVkXG4gKiBAcGFyYW0gcGFyZW50IC0gUm91dGVSZWNvcmRNYXRjaGVyXG4gKi9cbmZ1bmN0aW9uIGNoZWNrQ2hpbGRNaXNzaW5nTmFtZVdpdGhFbXB0eVBhdGgobWFpbk5vcm1hbGl6ZWRSZWNvcmQsIHBhcmVudCkge1xuICAgIGlmIChwYXJlbnQgJiZcbiAgICAgICAgcGFyZW50LnJlY29yZC5uYW1lICYmXG4gICAgICAgICFtYWluTm9ybWFsaXplZFJlY29yZC5uYW1lICYmXG4gICAgICAgICFtYWluTm9ybWFsaXplZFJlY29yZC5wYXRoKSB7XG4gICAgICAgIHdhcm4oYFRoZSByb3V0ZSBuYW1lZCBcIiR7U3RyaW5nKHBhcmVudC5yZWNvcmQubmFtZSl9XCIgaGFzIGEgY2hpbGQgd2l0aG91dCBhIG5hbWUgYW5kIGFuIGVtcHR5IHBhdGguIFVzaW5nIHRoYXQgbmFtZSB3b24ndCByZW5kZXIgdGhlIGVtcHR5IHBhdGggY2hpbGQgc28geW91IHByb2JhYmx5IHdhbnQgdG8gbW92ZSB0aGUgbmFtZSB0byB0aGUgY2hpbGQgaW5zdGVhZC4gSWYgdGhpcyBpcyBpbnRlbnRpb25hbCwgYWRkIGEgbmFtZSB0byB0aGUgY2hpbGQgcm91dGUgdG8gcmVtb3ZlIHRoZSB3YXJuaW5nLmApO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNoZWNrTWlzc2luZ1BhcmFtc0luQWJzb2x1dGVQYXRoKHJlY29yZCwgcGFyZW50KSB7XG4gICAgZm9yIChjb25zdCBrZXkgb2YgcGFyZW50LmtleXMpIHtcbiAgICAgICAgaWYgKCFyZWNvcmQua2V5cy5maW5kKGlzU2FtZVBhcmFtLmJpbmQobnVsbCwga2V5KSkpXG4gICAgICAgICAgICByZXR1cm4gd2FybihgQWJzb2x1dGUgcGF0aCBcIiR7cmVjb3JkLnJlY29yZC5wYXRofVwiIG11c3QgaGF2ZSB0aGUgZXhhY3Qgc2FtZSBwYXJhbSBuYW1lZCBcIiR7a2V5Lm5hbWV9XCIgYXMgaXRzIHBhcmVudCBcIiR7cGFyZW50LnJlY29yZC5wYXRofVwiLmApO1xuICAgIH1cbn1cbi8qKlxuICogUGVyZm9ybXMgYSBiaW5hcnkgc2VhcmNoIHRvIGZpbmQgdGhlIGNvcnJlY3QgaW5zZXJ0aW9uIGluZGV4IGZvciBhIG5ldyBtYXRjaGVyLlxuICpcbiAqIE1hdGNoZXJzIGFyZSBwcmltYXJpbHkgc29ydGVkIGJ5IHRoZWlyIHNjb3JlLiBJZiBzY29yZXMgYXJlIHRpZWQgdGhlbiB3ZSBhbHNvIGNvbnNpZGVyIHBhcmVudC9jaGlsZCByZWxhdGlvbnNoaXBzLFxuICogd2l0aCBkZXNjZW5kYW50cyBjb21pbmcgYmVmb3JlIGFuY2VzdG9ycy4gSWYgdGhlcmUncyBzdGlsbCBhIHRpZSwgbmV3IHJvdXRlcyBhcmUgaW5zZXJ0ZWQgYWZ0ZXIgZXhpc3Rpbmcgcm91dGVzLlxuICpcbiAqIEBwYXJhbSBtYXRjaGVyIC0gbmV3IG1hdGNoZXIgdG8gYmUgaW5zZXJ0ZWRcbiAqIEBwYXJhbSBtYXRjaGVycyAtIGV4aXN0aW5nIG1hdGNoZXJzXG4gKi9cbmZ1bmN0aW9uIGZpbmRJbnNlcnRpb25JbmRleChtYXRjaGVyLCBtYXRjaGVycykge1xuICAgIC8vIEZpcnN0IHBoYXNlOiBiaW5hcnkgc2VhcmNoIGJhc2VkIG9uIHNjb3JlXG4gICAgbGV0IGxvd2VyID0gMDtcbiAgICBsZXQgdXBwZXIgPSBtYXRjaGVycy5sZW5ndGg7XG4gICAgd2hpbGUgKGxvd2VyICE9PSB1cHBlcikge1xuICAgICAgICBjb25zdCBtaWQgPSAobG93ZXIgKyB1cHBlcikgPj4gMTtcbiAgICAgICAgY29uc3Qgc29ydE9yZGVyID0gY29tcGFyZVBhdGhQYXJzZXJTY29yZShtYXRjaGVyLCBtYXRjaGVyc1ttaWRdKTtcbiAgICAgICAgaWYgKHNvcnRPcmRlciA8IDApIHtcbiAgICAgICAgICAgIHVwcGVyID0gbWlkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbG93ZXIgPSBtaWQgKyAxO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFNlY29uZCBwaGFzZTogY2hlY2sgZm9yIGFuIGFuY2VzdG9yIHdpdGggdGhlIHNhbWUgc2NvcmVcbiAgICBjb25zdCBpbnNlcnRpb25BbmNlc3RvciA9IGdldEluc2VydGlvbkFuY2VzdG9yKG1hdGNoZXIpO1xuICAgIGlmIChpbnNlcnRpb25BbmNlc3Rvcikge1xuICAgICAgICB1cHBlciA9IG1hdGNoZXJzLmxhc3RJbmRleE9mKGluc2VydGlvbkFuY2VzdG9yLCB1cHBlciAtIDEpO1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmIHVwcGVyIDwgMCkge1xuICAgICAgICAgICAgLy8gVGhpcyBzaG91bGQgbmV2ZXIgaGFwcGVuXG4gICAgICAgICAgICB3YXJuKGBGaW5kaW5nIGFuY2VzdG9yIHJvdXRlIFwiJHtpbnNlcnRpb25BbmNlc3Rvci5yZWNvcmQucGF0aH1cIiBmYWlsZWQgZm9yIFwiJHttYXRjaGVyLnJlY29yZC5wYXRofVwiYCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHVwcGVyO1xufVxuZnVuY3Rpb24gZ2V0SW5zZXJ0aW9uQW5jZXN0b3IobWF0Y2hlcikge1xuICAgIGxldCBhbmNlc3RvciA9IG1hdGNoZXI7XG4gICAgd2hpbGUgKChhbmNlc3RvciA9IGFuY2VzdG9yLnBhcmVudCkpIHtcbiAgICAgICAgaWYgKGlzTWF0Y2hhYmxlKGFuY2VzdG9yKSAmJlxuICAgICAgICAgICAgY29tcGFyZVBhdGhQYXJzZXJTY29yZShtYXRjaGVyLCBhbmNlc3RvcikgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBhbmNlc3RvcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm47XG59XG4vKipcbiAqIENoZWNrcyBpZiBhIG1hdGNoZXIgY2FuIGJlIHJlYWNoYWJsZS4gVGhpcyBtZWFucyBpZiBpdCdzIHBvc3NpYmxlIHRvIHJlYWNoIGl0IGFzIGEgcm91dGUuIEZvciBleGFtcGxlLCByb3V0ZXMgd2l0aG91dFxuICogYSBjb21wb25lbnQsIG9yIG5hbWUsIG9yIHJlZGlyZWN0LCBhcmUganVzdCB1c2VkIHRvIGdyb3VwIG90aGVyIHJvdXRlcy5cbiAqIEBwYXJhbSBtYXRjaGVyXG4gKiBAcGFyYW0gbWF0Y2hlci5yZWNvcmQgcmVjb3JkIG9mIHRoZSBtYXRjaGVyXG4gKiBAcmV0dXJuc1xuICovXG5mdW5jdGlvbiBpc01hdGNoYWJsZSh7IHJlY29yZCB9KSB7XG4gICAgcmV0dXJuICEhKHJlY29yZC5uYW1lIHx8XG4gICAgICAgIChyZWNvcmQuY29tcG9uZW50cyAmJiBPYmplY3Qua2V5cyhyZWNvcmQuY29tcG9uZW50cykubGVuZ3RoKSB8fFxuICAgICAgICByZWNvcmQucmVkaXJlY3QpO1xufVxuXG4vKipcbiAqIFRyYW5zZm9ybXMgYSBxdWVyeVN0cmluZyBpbnRvIGEge0BsaW5rIExvY2F0aW9uUXVlcnl9IG9iamVjdC4gQWNjZXB0IGJvdGgsIGFcbiAqIHZlcnNpb24gd2l0aCB0aGUgbGVhZGluZyBgP2AgYW5kIHdpdGhvdXQgU2hvdWxkIHdvcmsgYXMgVVJMU2VhcmNoUGFyYW1zXG5cbiAqIEBpbnRlcm5hbFxuICpcbiAqIEBwYXJhbSBzZWFyY2ggLSBzZWFyY2ggc3RyaW5nIHRvIHBhcnNlXG4gKiBAcmV0dXJucyBhIHF1ZXJ5IG9iamVjdFxuICovXG5mdW5jdGlvbiBwYXJzZVF1ZXJ5KHNlYXJjaCkge1xuICAgIGNvbnN0IHF1ZXJ5ID0ge307XG4gICAgLy8gYXZvaWQgY3JlYXRpbmcgYW4gb2JqZWN0IHdpdGggYW4gZW1wdHkga2V5IGFuZCBlbXB0eSB2YWx1ZVxuICAgIC8vIGJlY2F1c2Ugb2Ygc3BsaXQoJyYnKVxuICAgIGlmIChzZWFyY2ggPT09ICcnIHx8IHNlYXJjaCA9PT0gJz8nKVxuICAgICAgICByZXR1cm4gcXVlcnk7XG4gICAgY29uc3QgaGFzTGVhZGluZ0lNID0gc2VhcmNoWzBdID09PSAnPyc7XG4gICAgY29uc3Qgc2VhcmNoUGFyYW1zID0gKGhhc0xlYWRpbmdJTSA/IHNlYXJjaC5zbGljZSgxKSA6IHNlYXJjaCkuc3BsaXQoJyYnKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlYXJjaFBhcmFtcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAvLyBwcmUgZGVjb2RlIHRoZSArIGludG8gc3BhY2VcbiAgICAgICAgY29uc3Qgc2VhcmNoUGFyYW0gPSBzZWFyY2hQYXJhbXNbaV0ucmVwbGFjZShQTFVTX1JFLCAnICcpO1xuICAgICAgICAvLyBhbGxvdyB0aGUgPSBjaGFyYWN0ZXJcbiAgICAgICAgY29uc3QgZXFQb3MgPSBzZWFyY2hQYXJhbS5pbmRleE9mKCc9Jyk7XG4gICAgICAgIGNvbnN0IGtleSA9IGRlY29kZShlcVBvcyA8IDAgPyBzZWFyY2hQYXJhbSA6IHNlYXJjaFBhcmFtLnNsaWNlKDAsIGVxUG9zKSk7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gZXFQb3MgPCAwID8gbnVsbCA6IGRlY29kZShzZWFyY2hQYXJhbS5zbGljZShlcVBvcyArIDEpKTtcbiAgICAgICAgaWYgKGtleSBpbiBxdWVyeSkge1xuICAgICAgICAgICAgLy8gYW4gZXh0cmEgdmFyaWFibGUgZm9yIHRzIHR5cGVzXG4gICAgICAgICAgICBsZXQgY3VycmVudFZhbHVlID0gcXVlcnlba2V5XTtcbiAgICAgICAgICAgIGlmICghaXNBcnJheShjdXJyZW50VmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFZhbHVlID0gcXVlcnlba2V5XSA9IFtjdXJyZW50VmFsdWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VycmVudFZhbHVlLnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcXVlcnlba2V5XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBxdWVyeTtcbn1cbi8qKlxuICogU3RyaW5naWZpZXMgYSB7QGxpbmsgTG9jYXRpb25RdWVyeVJhd30gb2JqZWN0LiBMaWtlIGBVUkxTZWFyY2hQYXJhbXNgLCBpdFxuICogZG9lc24ndCBwcmVwZW5kIGEgYD9gXG4gKlxuICogQGludGVybmFsXG4gKlxuICogQHBhcmFtIHF1ZXJ5IC0gcXVlcnkgb2JqZWN0IHRvIHN0cmluZ2lmeVxuICogQHJldHVybnMgc3RyaW5nIHZlcnNpb24gb2YgdGhlIHF1ZXJ5IHdpdGhvdXQgdGhlIGxlYWRpbmcgYD9gXG4gKi9cbmZ1bmN0aW9uIHN0cmluZ2lmeVF1ZXJ5KHF1ZXJ5KSB7XG4gICAgbGV0IHNlYXJjaCA9ICcnO1xuICAgIGZvciAobGV0IGtleSBpbiBxdWVyeSkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHF1ZXJ5W2tleV07XG4gICAgICAgIGtleSA9IGVuY29kZVF1ZXJ5S2V5KGtleSk7XG4gICAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBvbmx5IG51bGwgYWRkcyB0aGUgdmFsdWVcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgc2VhcmNoICs9IChzZWFyY2gubGVuZ3RoID8gJyYnIDogJycpICsga2V5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8ga2VlcCBudWxsIHZhbHVlc1xuICAgICAgICBjb25zdCB2YWx1ZXMgPSBpc0FycmF5KHZhbHVlKVxuICAgICAgICAgICAgPyB2YWx1ZS5tYXAodiA9PiB2ICYmIGVuY29kZVF1ZXJ5VmFsdWUodikpXG4gICAgICAgICAgICA6IFt2YWx1ZSAmJiBlbmNvZGVRdWVyeVZhbHVlKHZhbHVlKV07XG4gICAgICAgIHZhbHVlcy5mb3JFYWNoKHZhbHVlID0+IHtcbiAgICAgICAgICAgIC8vIHNraXAgdW5kZWZpbmVkIHZhbHVlcyBpbiBhcnJheXMgYXMgaWYgdGhleSB3ZXJlIG5vdCBwcmVzZW50XG4gICAgICAgICAgICAvLyBzbWFsbGVyIGNvZGUgdGhhbiB1c2luZyBmaWx0ZXJcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgLy8gb25seSBhcHBlbmQgJiB3aXRoIG5vbi1lbXB0eSBzZWFyY2hcbiAgICAgICAgICAgICAgICBzZWFyY2ggKz0gKHNlYXJjaC5sZW5ndGggPyAnJicgOiAnJykgKyBrZXk7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgIHNlYXJjaCArPSAnPScgKyB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBzZWFyY2g7XG59XG4vKipcbiAqIFRyYW5zZm9ybXMgYSB7QGxpbmsgTG9jYXRpb25RdWVyeVJhd30gaW50byBhIHtAbGluayBMb2NhdGlvblF1ZXJ5fSBieSBjYXN0aW5nXG4gKiBudW1iZXJzIGludG8gc3RyaW5ncywgcmVtb3Zpbmcga2V5cyB3aXRoIGFuIHVuZGVmaW5lZCB2YWx1ZSBhbmQgcmVwbGFjaW5nXG4gKiB1bmRlZmluZWQgd2l0aCBudWxsIGluIGFycmF5c1xuICpcbiAqIEBwYXJhbSBxdWVyeSAtIHF1ZXJ5IG9iamVjdCB0byBub3JtYWxpemVcbiAqIEByZXR1cm5zIGEgbm9ybWFsaXplZCBxdWVyeSBvYmplY3RcbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplUXVlcnkocXVlcnkpIHtcbiAgICBjb25zdCBub3JtYWxpemVkUXVlcnkgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBxdWVyeSkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHF1ZXJ5W2tleV07XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBub3JtYWxpemVkUXVlcnlba2V5XSA9IGlzQXJyYXkodmFsdWUpXG4gICAgICAgICAgICAgICAgPyB2YWx1ZS5tYXAodiA9PiAodiA9PSBudWxsID8gbnVsbCA6ICcnICsgdikpXG4gICAgICAgICAgICAgICAgOiB2YWx1ZSA9PSBudWxsXG4gICAgICAgICAgICAgICAgICAgID8gdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgOiAnJyArIHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBub3JtYWxpemVkUXVlcnk7XG59XG5cbi8qKlxuICogUm91dGVSZWNvcmQgYmVpbmcgcmVuZGVyZWQgYnkgdGhlIGNsb3Nlc3QgYW5jZXN0b3IgUm91dGVyIFZpZXcuIFVzZWQgZm9yXG4gKiBgb25CZWZvcmVSb3V0ZVVwZGF0ZWAgYW5kIGBvbkJlZm9yZVJvdXRlTGVhdmVgLiBydmxtIHN0YW5kcyBmb3IgUm91dGVyIFZpZXdcbiAqIExvY2F0aW9uIE1hdGNoZWRcbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xuY29uc3QgbWF0Y2hlZFJvdXRlS2V5ID0gU3ltYm9sKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSA/ICdyb3V0ZXIgdmlldyBsb2NhdGlvbiBtYXRjaGVkJyA6ICcnKTtcbi8qKlxuICogQWxsb3dzIG92ZXJyaWRpbmcgdGhlIHJvdXRlciB2aWV3IGRlcHRoIHRvIGNvbnRyb2wgd2hpY2ggY29tcG9uZW50IGluXG4gKiBgbWF0Y2hlZGAgaXMgcmVuZGVyZWQuIHJ2ZCBzdGFuZHMgZm9yIFJvdXRlciBWaWV3IERlcHRoXG4gKlxuICogQGludGVybmFsXG4gKi9cbmNvbnN0IHZpZXdEZXB0aEtleSA9IFN5bWJvbCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyAncm91dGVyIHZpZXcgZGVwdGgnIDogJycpO1xuLyoqXG4gKiBBbGxvd3Mgb3ZlcnJpZGluZyB0aGUgcm91dGVyIGluc3RhbmNlIHJldHVybmVkIGJ5IGB1c2VSb3V0ZXJgIGluIHRlc3RzLiByXG4gKiBzdGFuZHMgZm9yIHJvdXRlclxuICpcbiAqIEBpbnRlcm5hbFxuICovXG5jb25zdCByb3V0ZXJLZXkgPSBTeW1ib2woKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gJ3JvdXRlcicgOiAnJyk7XG4vKipcbiAqIEFsbG93cyBvdmVycmlkaW5nIHRoZSBjdXJyZW50IHJvdXRlIHJldHVybmVkIGJ5IGB1c2VSb3V0ZWAgaW4gdGVzdHMuIHJsXG4gKiBzdGFuZHMgZm9yIHJvdXRlIGxvY2F0aW9uXG4gKlxuICogQGludGVybmFsXG4gKi9cbmNvbnN0IHJvdXRlTG9jYXRpb25LZXkgPSBTeW1ib2woKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpID8gJ3JvdXRlIGxvY2F0aW9uJyA6ICcnKTtcbi8qKlxuICogQWxsb3dzIG92ZXJyaWRpbmcgdGhlIGN1cnJlbnQgcm91dGUgdXNlZCBieSByb3V0ZXItdmlldy4gSW50ZXJuYWxseSB0aGlzIGlzXG4gKiB1c2VkIHdoZW4gdGhlIGByb3V0ZWAgcHJvcCBpcyBwYXNzZWQuXG4gKlxuICogQGludGVybmFsXG4gKi9cbmNvbnN0IHJvdXRlclZpZXdMb2NhdGlvbktleSA9IFN5bWJvbCgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyAncm91dGVyIHZpZXcgbG9jYXRpb24nIDogJycpO1xuXG4vKipcbiAqIENyZWF0ZSBhIGxpc3Qgb2YgY2FsbGJhY2tzIHRoYXQgY2FuIGJlIHJlc2V0LiBVc2VkIHRvIGNyZWF0ZSBiZWZvcmUgYW5kIGFmdGVyIG5hdmlnYXRpb24gZ3VhcmRzIGxpc3RcbiAqL1xuZnVuY3Rpb24gdXNlQ2FsbGJhY2tzKCkge1xuICAgIGxldCBoYW5kbGVycyA9IFtdO1xuICAgIGZ1bmN0aW9uIGFkZChoYW5kbGVyKSB7XG4gICAgICAgIGhhbmRsZXJzLnB1c2goaGFuZGxlcik7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpID0gaGFuZGxlcnMuaW5kZXhPZihoYW5kbGVyKTtcbiAgICAgICAgICAgIGlmIChpID4gLTEpXG4gICAgICAgICAgICAgICAgaGFuZGxlcnMuc3BsaWNlKGksIDEpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXNldCgpIHtcbiAgICAgICAgaGFuZGxlcnMgPSBbXTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYWRkLFxuICAgICAgICBsaXN0OiAoKSA9PiBoYW5kbGVycy5zbGljZSgpLFxuICAgICAgICByZXNldCxcbiAgICB9O1xufVxuXG5mdW5jdGlvbiByZWdpc3Rlckd1YXJkKHJlY29yZCwgbmFtZSwgZ3VhcmQpIHtcbiAgICBjb25zdCByZW1vdmVGcm9tTGlzdCA9ICgpID0+IHtcbiAgICAgICAgcmVjb3JkW25hbWVdLmRlbGV0ZShndWFyZCk7XG4gICAgfTtcbiAgICBvblVubW91bnRlZChyZW1vdmVGcm9tTGlzdCk7XG4gICAgb25EZWFjdGl2YXRlZChyZW1vdmVGcm9tTGlzdCk7XG4gICAgb25BY3RpdmF0ZWQoKCkgPT4ge1xuICAgICAgICByZWNvcmRbbmFtZV0uYWRkKGd1YXJkKTtcbiAgICB9KTtcbiAgICByZWNvcmRbbmFtZV0uYWRkKGd1YXJkKTtcbn1cbi8qKlxuICogQWRkIGEgbmF2aWdhdGlvbiBndWFyZCB0aGF0IHRyaWdnZXJzIHdoZW5ldmVyIHRoZSBjb21wb25lbnQgZm9yIHRoZSBjdXJyZW50XG4gKiBsb2NhdGlvbiBpcyBhYm91dCB0byBiZSBsZWZ0LiBTaW1pbGFyIHRvIHtAbGluayBiZWZvcmVSb3V0ZUxlYXZlfSBidXQgY2FuIGJlXG4gKiB1c2VkIGluIGFueSBjb21wb25lbnQuIFRoZSBndWFyZCBpcyByZW1vdmVkIHdoZW4gdGhlIGNvbXBvbmVudCBpcyB1bm1vdW50ZWQuXG4gKlxuICogQHBhcmFtIGxlYXZlR3VhcmQgLSB7QGxpbmsgTmF2aWdhdGlvbkd1YXJkfVxuICovXG5mdW5jdGlvbiBvbkJlZm9yZVJvdXRlTGVhdmUobGVhdmVHdWFyZCkge1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWdldEN1cnJlbnRJbnN0YW5jZSgpKSB7XG4gICAgICAgIHdhcm4oJ2dldEN1cnJlbnRJbnN0YW5jZSgpIHJldHVybmVkIG51bGwuIG9uQmVmb3JlUm91dGVMZWF2ZSgpIG11c3QgYmUgY2FsbGVkIGF0IHRoZSB0b3Agb2YgYSBzZXR1cCBmdW5jdGlvbicpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGFjdGl2ZVJlY29yZCA9IGluamVjdChtYXRjaGVkUm91dGVLZXksIFxuICAgIC8vIHRvIGF2b2lkIHdhcm5pbmdcbiAgICB7fSkudmFsdWU7XG4gICAgaWYgKCFhY3RpdmVSZWNvcmQpIHtcbiAgICAgICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXG4gICAgICAgICAgICB3YXJuKCdObyBhY3RpdmUgcm91dGUgcmVjb3JkIHdhcyBmb3VuZCB3aGVuIGNhbGxpbmcgYG9uQmVmb3JlUm91dGVMZWF2ZSgpYC4gTWFrZSBzdXJlIHlvdSBjYWxsIHRoaXMgZnVuY3Rpb24gaW5zaWRlIGEgY29tcG9uZW50IGNoaWxkIG9mIDxyb3V0ZXItdmlldz4uIE1heWJlIHlvdSBjYWxsZWQgaXQgaW5zaWRlIG9mIEFwcC52dWU/Jyk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmVnaXN0ZXJHdWFyZChhY3RpdmVSZWNvcmQsICdsZWF2ZUd1YXJkcycsIGxlYXZlR3VhcmQpO1xufVxuLyoqXG4gKiBBZGQgYSBuYXZpZ2F0aW9uIGd1YXJkIHRoYXQgdHJpZ2dlcnMgd2hlbmV2ZXIgdGhlIGN1cnJlbnQgbG9jYXRpb24gaXMgYWJvdXRcbiAqIHRvIGJlIHVwZGF0ZWQuIFNpbWlsYXIgdG8ge0BsaW5rIGJlZm9yZVJvdXRlVXBkYXRlfSBidXQgY2FuIGJlIHVzZWQgaW4gYW55XG4gKiBjb21wb25lbnQuIFRoZSBndWFyZCBpcyByZW1vdmVkIHdoZW4gdGhlIGNvbXBvbmVudCBpcyB1bm1vdW50ZWQuXG4gKlxuICogQHBhcmFtIHVwZGF0ZUd1YXJkIC0ge0BsaW5rIE5hdmlnYXRpb25HdWFyZH1cbiAqL1xuZnVuY3Rpb24gb25CZWZvcmVSb3V0ZVVwZGF0ZSh1cGRhdGVHdWFyZCkge1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWdldEN1cnJlbnRJbnN0YW5jZSgpKSB7XG4gICAgICAgIHdhcm4oJ2dldEN1cnJlbnRJbnN0YW5jZSgpIHJldHVybmVkIG51bGwuIG9uQmVmb3JlUm91dGVVcGRhdGUoKSBtdXN0IGJlIGNhbGxlZCBhdCB0aGUgdG9wIG9mIGEgc2V0dXAgZnVuY3Rpb24nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBhY3RpdmVSZWNvcmQgPSBpbmplY3QobWF0Y2hlZFJvdXRlS2V5LCBcbiAgICAvLyB0byBhdm9pZCB3YXJuaW5nXG4gICAge30pLnZhbHVlO1xuICAgIGlmICghYWN0aXZlUmVjb3JkKSB7XG4gICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxuICAgICAgICAgICAgd2FybignTm8gYWN0aXZlIHJvdXRlIHJlY29yZCB3YXMgZm91bmQgd2hlbiBjYWxsaW5nIGBvbkJlZm9yZVJvdXRlVXBkYXRlKClgLiBNYWtlIHN1cmUgeW91IGNhbGwgdGhpcyBmdW5jdGlvbiBpbnNpZGUgYSBjb21wb25lbnQgY2hpbGQgb2YgPHJvdXRlci12aWV3Pi4gTWF5YmUgeW91IGNhbGxlZCBpdCBpbnNpZGUgb2YgQXBwLnZ1ZT8nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZWdpc3Rlckd1YXJkKGFjdGl2ZVJlY29yZCwgJ3VwZGF0ZUd1YXJkcycsIHVwZGF0ZUd1YXJkKTtcbn1cbmZ1bmN0aW9uIGd1YXJkVG9Qcm9taXNlRm4oZ3VhcmQsIHRvLCBmcm9tLCByZWNvcmQsIG5hbWUsIHJ1bldpdGhDb250ZXh0ID0gZm4gPT4gZm4oKSkge1xuICAgIC8vIGtlZXAgYSByZWZlcmVuY2UgdG8gdGhlIGVudGVyQ2FsbGJhY2tBcnJheSB0byBwcmV2ZW50IHB1c2hpbmcgY2FsbGJhY2tzIGlmIGEgbmV3IG5hdmlnYXRpb24gdG9vayBwbGFjZVxuICAgIGNvbnN0IGVudGVyQ2FsbGJhY2tBcnJheSA9IHJlY29yZCAmJlxuICAgICAgICAvLyBuYW1lIGlzIGRlZmluZWQgaWYgcmVjb3JkIGlzIGJlY2F1c2Ugb2YgdGhlIGZ1bmN0aW9uIG92ZXJsb2FkXG4gICAgICAgIChyZWNvcmQuZW50ZXJDYWxsYmFja3NbbmFtZV0gPSByZWNvcmQuZW50ZXJDYWxsYmFja3NbbmFtZV0gfHwgW10pO1xuICAgIHJldHVybiAoKSA9PiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNvbnN0IG5leHQgPSAodmFsaWQpID0+IHtcbiAgICAgICAgICAgIGlmICh2YWxpZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICByZWplY3QoY3JlYXRlUm91dGVyRXJyb3IoNCAvKiBFcnJvclR5cGVzLk5BVklHQVRJT05fQUJPUlRFRCAqLywge1xuICAgICAgICAgICAgICAgICAgICBmcm9tLFxuICAgICAgICAgICAgICAgICAgICB0byxcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh2YWxpZCBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KHZhbGlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzUm91dGVMb2NhdGlvbih2YWxpZCkpIHtcbiAgICAgICAgICAgICAgICByZWplY3QoY3JlYXRlUm91dGVyRXJyb3IoMiAvKiBFcnJvclR5cGVzLk5BVklHQVRJT05fR1VBUkRfUkVESVJFQ1QgKi8sIHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogdG8sXG4gICAgICAgICAgICAgICAgICAgIHRvOiB2YWxpZCxcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoZW50ZXJDYWxsYmFja0FycmF5ICYmXG4gICAgICAgICAgICAgICAgICAgIC8vIHNpbmNlIGVudGVyQ2FsbGJhY2tBcnJheSBpcyB0cnV0aHksIGJvdGggcmVjb3JkIGFuZCBuYW1lIGFsc28gYXJlXG4gICAgICAgICAgICAgICAgICAgIHJlY29yZC5lbnRlckNhbGxiYWNrc1tuYW1lXSA9PT0gZW50ZXJDYWxsYmFja0FycmF5ICYmXG4gICAgICAgICAgICAgICAgICAgIHR5cGVvZiB2YWxpZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBlbnRlckNhbGxiYWNrQXJyYXkucHVzaCh2YWxpZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLy8gd3JhcHBpbmcgd2l0aCBQcm9taXNlLnJlc29sdmUgYWxsb3dzIGl0IHRvIHdvcmsgd2l0aCBib3RoIGFzeW5jIGFuZCBzeW5jIGd1YXJkc1xuICAgICAgICBjb25zdCBndWFyZFJldHVybiA9IHJ1bldpdGhDb250ZXh0KCgpID0+IGd1YXJkLmNhbGwocmVjb3JkICYmIHJlY29yZC5pbnN0YW5jZXNbbmFtZV0sIHRvLCBmcm9tLCAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgPyBjYW5Pbmx5QmVDYWxsZWRPbmNlKG5leHQsIHRvLCBmcm9tKSA6IG5leHQpKTtcbiAgICAgICAgbGV0IGd1YXJkQ2FsbCA9IFByb21pc2UucmVzb2x2ZShndWFyZFJldHVybik7XG4gICAgICAgIGlmIChndWFyZC5sZW5ndGggPCAzKVxuICAgICAgICAgICAgZ3VhcmRDYWxsID0gZ3VhcmRDYWxsLnRoZW4obmV4dCk7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgZ3VhcmQubGVuZ3RoID4gMikge1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGBUaGUgXCJuZXh0XCIgY2FsbGJhY2sgd2FzIG5ldmVyIGNhbGxlZCBpbnNpZGUgb2YgJHtndWFyZC5uYW1lID8gJ1wiJyArIGd1YXJkLm5hbWUgKyAnXCInIDogJyd9OlxcbiR7Z3VhcmQudG9TdHJpbmcoKX1cXG4uIElmIHlvdSBhcmUgcmV0dXJuaW5nIGEgdmFsdWUgaW5zdGVhZCBvZiBjYWxsaW5nIFwibmV4dFwiLCBtYWtlIHN1cmUgdG8gcmVtb3ZlIHRoZSBcIm5leHRcIiBwYXJhbWV0ZXIgZnJvbSB5b3VyIGZ1bmN0aW9uLmA7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGd1YXJkUmV0dXJuID09PSAnb2JqZWN0JyAmJiAndGhlbicgaW4gZ3VhcmRSZXR1cm4pIHtcbiAgICAgICAgICAgICAgICBndWFyZENhbGwgPSBndWFyZENhbGwudGhlbihyZXNvbHZlZFZhbHVlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogX2NhbGxlZCBpcyBhZGRlZCBhdCBjYW5Pbmx5QmVDYWxsZWRPbmNlXG4gICAgICAgICAgICAgICAgICAgIGlmICghbmV4dC5fY2FsbGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignSW52YWxpZCBuYXZpZ2F0aW9uIGd1YXJkJykpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlZFZhbHVlO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZ3VhcmRSZXR1cm4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IF9jYWxsZWQgaXMgYWRkZWQgYXQgY2FuT25seUJlQ2FsbGVkT25jZVxuICAgICAgICAgICAgICAgIGlmICghbmV4dC5fY2FsbGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHdhcm4obWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ0ludmFsaWQgbmF2aWdhdGlvbiBndWFyZCcpKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBndWFyZENhbGwuY2F0Y2goZXJyID0+IHJlamVjdChlcnIpKTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGNhbk9ubHlCZUNhbGxlZE9uY2UobmV4dCwgdG8sIGZyb20pIHtcbiAgICBsZXQgY2FsbGVkID0gMDtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoY2FsbGVkKysgPT09IDEpXG4gICAgICAgICAgICB3YXJuKGBUaGUgXCJuZXh0XCIgY2FsbGJhY2sgd2FzIGNhbGxlZCBtb3JlIHRoYW4gb25jZSBpbiBvbmUgbmF2aWdhdGlvbiBndWFyZCB3aGVuIGdvaW5nIGZyb20gXCIke2Zyb20uZnVsbFBhdGh9XCIgdG8gXCIke3RvLmZ1bGxQYXRofVwiLiBJdCBzaG91bGQgYmUgY2FsbGVkIGV4YWN0bHkgb25lIHRpbWUgaW4gZWFjaCBuYXZpZ2F0aW9uIGd1YXJkLiBUaGlzIHdpbGwgZmFpbCBpbiBwcm9kdWN0aW9uLmApO1xuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiB3ZSBwdXQgaXQgaW4gdGhlIG9yaWdpbmFsIG9uZSBiZWNhdXNlIGl0J3MgZWFzaWVyIHRvIGNoZWNrXG4gICAgICAgIG5leHQuX2NhbGxlZCA9IHRydWU7XG4gICAgICAgIGlmIChjYWxsZWQgPT09IDEpXG4gICAgICAgICAgICBuZXh0LmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGV4dHJhY3RDb21wb25lbnRzR3VhcmRzKG1hdGNoZWQsIGd1YXJkVHlwZSwgdG8sIGZyb20sIHJ1bldpdGhDb250ZXh0ID0gZm4gPT4gZm4oKSkge1xuICAgIGNvbnN0IGd1YXJkcyA9IFtdO1xuICAgIGZvciAoY29uc3QgcmVjb3JkIG9mIG1hdGNoZWQpIHtcbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhcmVjb3JkLmNvbXBvbmVudHMgJiYgIXJlY29yZC5jaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgICAgIHdhcm4oYFJlY29yZCB3aXRoIHBhdGggXCIke3JlY29yZC5wYXRofVwiIGlzIGVpdGhlciBtaXNzaW5nIGEgXCJjb21wb25lbnQocylcImAgK1xuICAgICAgICAgICAgICAgIGAgb3IgXCJjaGlsZHJlblwiIHByb3BlcnR5LmApO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgbmFtZSBpbiByZWNvcmQuY29tcG9uZW50cykge1xuICAgICAgICAgICAgbGV0IHJhd0NvbXBvbmVudCA9IHJlY29yZC5jb21wb25lbnRzW25hbWVdO1xuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgIGlmICghcmF3Q29tcG9uZW50IHx8XG4gICAgICAgICAgICAgICAgICAgICh0eXBlb2YgcmF3Q29tcG9uZW50ICE9PSAnb2JqZWN0JyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIHJhd0NvbXBvbmVudCAhPT0gJ2Z1bmN0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgd2FybihgQ29tcG9uZW50IFwiJHtuYW1lfVwiIGluIHJlY29yZCB3aXRoIHBhdGggXCIke3JlY29yZC5wYXRofVwiIGlzIG5vdGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYCBhIHZhbGlkIGNvbXBvbmVudC4gUmVjZWl2ZWQgXCIke1N0cmluZyhyYXdDb21wb25lbnQpfVwiLmApO1xuICAgICAgICAgICAgICAgICAgICAvLyB0aHJvdyB0byBlbnN1cmUgd2Ugc3RvcCBoZXJlIGJ1dCB3YXJuIHRvIGVuc3VyZSB0aGUgbWVzc2FnZSBpc24ndFxuICAgICAgICAgICAgICAgICAgICAvLyBtaXNzZWQgYnkgdGhlIHVzZXJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHJvdXRlIGNvbXBvbmVudCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICgndGhlbicgaW4gcmF3Q29tcG9uZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHdhcm4gaWYgdXNlciB3cm90ZSBpbXBvcnQoJy9jb21wb25lbnQudnVlJykgaW5zdGVhZCBvZiAoKSA9PlxuICAgICAgICAgICAgICAgICAgICAvLyBpbXBvcnQoJy4vY29tcG9uZW50LnZ1ZScpXG4gICAgICAgICAgICAgICAgICAgIHdhcm4oYENvbXBvbmVudCBcIiR7bmFtZX1cIiBpbiByZWNvcmQgd2l0aCBwYXRoIFwiJHtyZWNvcmQucGF0aH1cIiBpcyBhIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYFByb21pc2UgaW5zdGVhZCBvZiBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIFByb21pc2UuIERpZCB5b3UgYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgd3JpdGUgXCJpbXBvcnQoJy4vTXlQYWdlLnZ1ZScpXCIgaW5zdGVhZCBvZiBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGBcIigpID0+IGltcG9ydCgnLi9NeVBhZ2UudnVlJylcIiA/IFRoaXMgd2lsbCBicmVhayBpbiBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGBwcm9kdWN0aW9uIGlmIG5vdCBmaXhlZC5gKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvbWlzZSA9IHJhd0NvbXBvbmVudDtcbiAgICAgICAgICAgICAgICAgICAgcmF3Q29tcG9uZW50ID0gKCkgPT4gcHJvbWlzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocmF3Q29tcG9uZW50Ll9fYXN5bmNMb2FkZXIgJiZcbiAgICAgICAgICAgICAgICAgICAgLy8gd2FybiBvbmx5IG9uY2UgcGVyIGNvbXBvbmVudFxuICAgICAgICAgICAgICAgICAgICAhcmF3Q29tcG9uZW50Ll9fd2FybmVkRGVmaW5lQXN5bmMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmF3Q29tcG9uZW50Ll9fd2FybmVkRGVmaW5lQXN5bmMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB3YXJuKGBDb21wb25lbnQgXCIke25hbWV9XCIgaW4gcmVjb3JkIHdpdGggcGF0aCBcIiR7cmVjb3JkLnBhdGh9XCIgaXMgZGVmaW5lZCBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGB1c2luZyBcImRlZmluZUFzeW5jQ29tcG9uZW50KClcIi4gYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgV3JpdGUgXCIoKSA9PiBpbXBvcnQoJy4vTXlQYWdlLnZ1ZScpXCIgaW5zdGVhZCBvZiBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGBcImRlZmluZUFzeW5jQ29tcG9uZW50KCgpID0+IGltcG9ydCgnLi9NeVBhZ2UudnVlJykpXCIuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gc2tpcCB1cGRhdGUgYW5kIGxlYXZlIGd1YXJkcyBpZiB0aGUgcm91dGUgY29tcG9uZW50IGlzIG5vdCBtb3VudGVkXG4gICAgICAgICAgICBpZiAoZ3VhcmRUeXBlICE9PSAnYmVmb3JlUm91dGVFbnRlcicgJiYgIXJlY29yZC5pbnN0YW5jZXNbbmFtZV0pXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBpZiAoaXNSb3V0ZUNvbXBvbmVudChyYXdDb21wb25lbnQpKSB7XG4gICAgICAgICAgICAgICAgLy8gX192Y2NPcHRzIGlzIGFkZGVkIGJ5IHZ1ZS1jbGFzcy1jb21wb25lbnQgYW5kIGNvbnRhaW4gdGhlIHJlZ3VsYXIgb3B0aW9uc1xuICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSByYXdDb21wb25lbnQuX192Y2NPcHRzIHx8IHJhd0NvbXBvbmVudDtcbiAgICAgICAgICAgICAgICBjb25zdCBndWFyZCA9IG9wdGlvbnNbZ3VhcmRUeXBlXTtcbiAgICAgICAgICAgICAgICBndWFyZCAmJlxuICAgICAgICAgICAgICAgICAgICBndWFyZHMucHVzaChndWFyZFRvUHJvbWlzZUZuKGd1YXJkLCB0bywgZnJvbSwgcmVjb3JkLCBuYW1lLCBydW5XaXRoQ29udGV4dCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gc3RhcnQgcmVxdWVzdGluZyB0aGUgY2h1bmsgYWxyZWFkeVxuICAgICAgICAgICAgICAgIGxldCBjb21wb25lbnRQcm9taXNlID0gcmF3Q29tcG9uZW50KCk7XG4gICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhKCdjYXRjaCcgaW4gY29tcG9uZW50UHJvbWlzZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgd2FybihgQ29tcG9uZW50IFwiJHtuYW1lfVwiIGluIHJlY29yZCB3aXRoIHBhdGggXCIke3JlY29yZC5wYXRofVwiIGlzIGEgZnVuY3Rpb24gdGhhdCBkb2VzIG5vdCByZXR1cm4gYSBQcm9taXNlLiBJZiB5b3Ugd2VyZSBwYXNzaW5nIGEgZnVuY3Rpb25hbCBjb21wb25lbnQsIG1ha2Ugc3VyZSB0byBhZGQgYSBcImRpc3BsYXlOYW1lXCIgdG8gdGhlIGNvbXBvbmVudC4gVGhpcyB3aWxsIGJyZWFrIGluIHByb2R1Y3Rpb24gaWYgbm90IGZpeGVkLmApO1xuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRQcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKGNvbXBvbmVudFByb21pc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBndWFyZHMucHVzaCgoKSA9PiBjb21wb25lbnRQcm9taXNlLnRoZW4ocmVzb2x2ZWQgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXJlc29sdmVkKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihgQ291bGRuJ3QgcmVzb2x2ZSBjb21wb25lbnQgXCIke25hbWV9XCIgYXQgXCIke3JlY29yZC5wYXRofVwiYCkpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNvbHZlZENvbXBvbmVudCA9IGlzRVNNb2R1bGUocmVzb2x2ZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHJlc29sdmVkLmRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgIDogcmVzb2x2ZWQ7XG4gICAgICAgICAgICAgICAgICAgIC8vIHJlcGxhY2UgdGhlIGZ1bmN0aW9uIHdpdGggdGhlIHJlc29sdmVkIGNvbXBvbmVudFxuICAgICAgICAgICAgICAgICAgICAvLyBjYW5ub3QgYmUgbnVsbCBvciB1bmRlZmluZWQgYmVjYXVzZSB3ZSB3ZW50IGludG8gdGhlIGZvciBsb29wXG4gICAgICAgICAgICAgICAgICAgIHJlY29yZC5jb21wb25lbnRzW25hbWVdID0gcmVzb2x2ZWRDb21wb25lbnQ7XG4gICAgICAgICAgICAgICAgICAgIC8vIF9fdmNjT3B0cyBpcyBhZGRlZCBieSB2dWUtY2xhc3MtY29tcG9uZW50IGFuZCBjb250YWluIHRoZSByZWd1bGFyIG9wdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHJlc29sdmVkQ29tcG9uZW50Ll9fdmNjT3B0cyB8fCByZXNvbHZlZENvbXBvbmVudDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZ3VhcmQgPSBvcHRpb25zW2d1YXJkVHlwZV07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoZ3VhcmQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGd1YXJkVG9Qcm9taXNlRm4oZ3VhcmQsIHRvLCBmcm9tLCByZWNvcmQsIG5hbWUsIHJ1bldpdGhDb250ZXh0KSgpKTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGd1YXJkcztcbn1cbi8qKlxuICogQWxsb3dzIGRpZmZlcmVudGlhdGluZyBsYXp5IGNvbXBvbmVudHMgZnJvbSBmdW5jdGlvbmFsIGNvbXBvbmVudHMgYW5kIHZ1ZS1jbGFzcy1jb21wb25lbnRcbiAqIEBpbnRlcm5hbFxuICpcbiAqIEBwYXJhbSBjb21wb25lbnRcbiAqL1xuZnVuY3Rpb24gaXNSb3V0ZUNvbXBvbmVudChjb21wb25lbnQpIHtcbiAgICByZXR1cm4gKHR5cGVvZiBjb21wb25lbnQgPT09ICdvYmplY3QnIHx8XG4gICAgICAgICdkaXNwbGF5TmFtZScgaW4gY29tcG9uZW50IHx8XG4gICAgICAgICdwcm9wcycgaW4gY29tcG9uZW50IHx8XG4gICAgICAgICdfX3ZjY09wdHMnIGluIGNvbXBvbmVudCk7XG59XG4vKipcbiAqIEVuc3VyZXMgYSByb3V0ZSBpcyBsb2FkZWQsIHNvIGl0IGNhbiBiZSBwYXNzZWQgYXMgbyBwcm9wIHRvIGA8Um91dGVyVmlldz5gLlxuICpcbiAqIEBwYXJhbSByb3V0ZSAtIHJlc29sdmVkIHJvdXRlIHRvIGxvYWRcbiAqL1xuZnVuY3Rpb24gbG9hZFJvdXRlTG9jYXRpb24ocm91dGUpIHtcbiAgICByZXR1cm4gcm91dGUubWF0Y2hlZC5ldmVyeShyZWNvcmQgPT4gcmVjb3JkLnJlZGlyZWN0KVxuICAgICAgICA/IFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignQ2Fubm90IGxvYWQgYSByb3V0ZSB0aGF0IHJlZGlyZWN0cy4nKSlcbiAgICAgICAgOiBQcm9taXNlLmFsbChyb3V0ZS5tYXRjaGVkLm1hcChyZWNvcmQgPT4gcmVjb3JkLmNvbXBvbmVudHMgJiZcbiAgICAgICAgICAgIFByb21pc2UuYWxsKE9iamVjdC5rZXlzKHJlY29yZC5jb21wb25lbnRzKS5yZWR1Y2UoKHByb21pc2VzLCBuYW1lKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmF3Q29tcG9uZW50ID0gcmVjb3JkLmNvbXBvbmVudHNbbmFtZV07XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiByYXdDb21wb25lbnQgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgICAgICAgICAgICAgICAgISgnZGlzcGxheU5hbWUnIGluIHJhd0NvbXBvbmVudCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvbWlzZXMucHVzaChyYXdDb21wb25lbnQoKS50aGVuKHJlc29sdmVkID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVzb2x2ZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcihgQ291bGRuJ3QgcmVzb2x2ZSBjb21wb25lbnQgXCIke25hbWV9XCIgYXQgXCIke3JlY29yZC5wYXRofVwiLiBFbnN1cmUgeW91IHBhc3NlZCBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHByb21pc2UuYCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzb2x2ZWRDb21wb25lbnQgPSBpc0VTTW9kdWxlKHJlc29sdmVkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gcmVzb2x2ZWQuZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogcmVzb2x2ZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyByZXBsYWNlIHRoZSBmdW5jdGlvbiB3aXRoIHRoZSByZXNvbHZlZCBjb21wb25lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNhbm5vdCBiZSBudWxsIG9yIHVuZGVmaW5lZCBiZWNhdXNlIHdlIHdlbnQgaW50byB0aGUgZm9yIGxvb3BcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY29yZC5jb21wb25lbnRzW25hbWVdID0gcmVzb2x2ZWRDb21wb25lbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb21pc2VzO1xuICAgICAgICAgICAgfSwgW10pKSkpLnRoZW4oKCkgPT4gcm91dGUpO1xufVxuXG4vLyBUT0RPOiB3ZSBjb3VsZCBhbGxvdyBjdXJyZW50Um91dGUgYXMgYSBwcm9wIHRvIGV4cG9zZSBgaXNBY3RpdmVgIGFuZFxuLy8gYGlzRXhhY3RBY3RpdmVgIGJlaGF2aW9yIHNob3VsZCBnbyB0aHJvdWdoIGFuIFJGQ1xuZnVuY3Rpb24gdXNlTGluayhwcm9wcykge1xuICAgIGNvbnN0IHJvdXRlciA9IGluamVjdChyb3V0ZXJLZXkpO1xuICAgIGNvbnN0IGN1cnJlbnRSb3V0ZSA9IGluamVjdChyb3V0ZUxvY2F0aW9uS2V5KTtcbiAgICBsZXQgaGFzUHJldmlvdXMgPSBmYWxzZTtcbiAgICBsZXQgcHJldmlvdXNUbyA9IG51bGw7XG4gICAgY29uc3Qgcm91dGUgPSBjb21wdXRlZCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IHRvID0gdW5yZWYocHJvcHMudG8pO1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICghaGFzUHJldmlvdXMgfHwgdG8gIT09IHByZXZpb3VzVG8pKSB7XG4gICAgICAgICAgICBpZiAoIWlzUm91dGVMb2NhdGlvbih0bykpIHtcbiAgICAgICAgICAgICAgICBpZiAoaGFzUHJldmlvdXMpIHtcbiAgICAgICAgICAgICAgICAgICAgd2FybihgSW52YWxpZCB2YWx1ZSBmb3IgcHJvcCBcInRvXCIgaW4gdXNlTGluaygpXFxuLSB0bzpgLCB0bywgYFxcbi0gcHJldmlvdXMgdG86YCwgcHJldmlvdXNUbywgYFxcbi0gcHJvcHM6YCwgcHJvcHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgd2FybihgSW52YWxpZCB2YWx1ZSBmb3IgcHJvcCBcInRvXCIgaW4gdXNlTGluaygpXFxuLSB0bzpgLCB0bywgYFxcbi0gcHJvcHM6YCwgcHJvcHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByZXZpb3VzVG8gPSB0bztcbiAgICAgICAgICAgIGhhc1ByZXZpb3VzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcm91dGVyLnJlc29sdmUodG8pO1xuICAgIH0pO1xuICAgIGNvbnN0IGFjdGl2ZVJlY29yZEluZGV4ID0gY29tcHV0ZWQoKCkgPT4ge1xuICAgICAgICBjb25zdCB7IG1hdGNoZWQgfSA9IHJvdXRlLnZhbHVlO1xuICAgICAgICBjb25zdCB7IGxlbmd0aCB9ID0gbWF0Y2hlZDtcbiAgICAgICAgY29uc3Qgcm91dGVNYXRjaGVkID0gbWF0Y2hlZFtsZW5ndGggLSAxXTtcbiAgICAgICAgY29uc3QgY3VycmVudE1hdGNoZWQgPSBjdXJyZW50Um91dGUubWF0Y2hlZDtcbiAgICAgICAgaWYgKCFyb3V0ZU1hdGNoZWQgfHwgIWN1cnJlbnRNYXRjaGVkLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgY29uc3QgaW5kZXggPSBjdXJyZW50TWF0Y2hlZC5maW5kSW5kZXgoaXNTYW1lUm91dGVSZWNvcmQuYmluZChudWxsLCByb3V0ZU1hdGNoZWQpKTtcbiAgICAgICAgaWYgKGluZGV4ID4gLTEpXG4gICAgICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICAgIC8vIHBvc3NpYmxlIHBhcmVudCByZWNvcmRcbiAgICAgICAgY29uc3QgcGFyZW50UmVjb3JkUGF0aCA9IGdldE9yaWdpbmFsUGF0aChtYXRjaGVkW2xlbmd0aCAtIDJdKTtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgLy8gd2UgYXJlIGRlYWxpbmcgd2l0aCBuZXN0ZWQgcm91dGVzXG4gICAgICAgIGxlbmd0aCA+IDEgJiZcbiAgICAgICAgICAgIC8vIGlmIHRoZSBwYXJlbnQgYW5kIG1hdGNoZWQgcm91dGUgaGF2ZSB0aGUgc2FtZSBwYXRoLCB0aGlzIGxpbmsgaXNcbiAgICAgICAgICAgIC8vIHJlZmVycmluZyB0byB0aGUgZW1wdHkgY2hpbGQuIE9yIHdlIGN1cnJlbnRseSBhcmUgb24gYSBkaWZmZXJlbnRcbiAgICAgICAgICAgIC8vIGNoaWxkIG9mIHRoZSBzYW1lIHBhcmVudFxuICAgICAgICAgICAgZ2V0T3JpZ2luYWxQYXRoKHJvdXRlTWF0Y2hlZCkgPT09IHBhcmVudFJlY29yZFBhdGggJiZcbiAgICAgICAgICAgIC8vIGF2b2lkIGNvbXBhcmluZyB0aGUgY2hpbGQgd2l0aCBpdHMgcGFyZW50XG4gICAgICAgICAgICBjdXJyZW50TWF0Y2hlZFtjdXJyZW50TWF0Y2hlZC5sZW5ndGggLSAxXS5wYXRoICE9PSBwYXJlbnRSZWNvcmRQYXRoXG4gICAgICAgICAgICA/IGN1cnJlbnRNYXRjaGVkLmZpbmRJbmRleChpc1NhbWVSb3V0ZVJlY29yZC5iaW5kKG51bGwsIG1hdGNoZWRbbGVuZ3RoIC0gMl0pKVxuICAgICAgICAgICAgOiBpbmRleCk7XG4gICAgfSk7XG4gICAgY29uc3QgaXNBY3RpdmUgPSBjb21wdXRlZCgoKSA9PiBhY3RpdmVSZWNvcmRJbmRleC52YWx1ZSA+IC0xICYmXG4gICAgICAgIGluY2x1ZGVzUGFyYW1zKGN1cnJlbnRSb3V0ZS5wYXJhbXMsIHJvdXRlLnZhbHVlLnBhcmFtcykpO1xuICAgIGNvbnN0IGlzRXhhY3RBY3RpdmUgPSBjb21wdXRlZCgoKSA9PiBhY3RpdmVSZWNvcmRJbmRleC52YWx1ZSA+IC0xICYmXG4gICAgICAgIGFjdGl2ZVJlY29yZEluZGV4LnZhbHVlID09PSBjdXJyZW50Um91dGUubWF0Y2hlZC5sZW5ndGggLSAxICYmXG4gICAgICAgIGlzU2FtZVJvdXRlTG9jYXRpb25QYXJhbXMoY3VycmVudFJvdXRlLnBhcmFtcywgcm91dGUudmFsdWUucGFyYW1zKSk7XG4gICAgZnVuY3Rpb24gbmF2aWdhdGUoZSA9IHt9KSB7XG4gICAgICAgIGlmIChndWFyZEV2ZW50KGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gcm91dGVyW3VucmVmKHByb3BzLnJlcGxhY2UpID8gJ3JlcGxhY2UnIDogJ3B1c2gnXSh1bnJlZihwcm9wcy50bylcbiAgICAgICAgICAgIC8vIGF2b2lkIHVuY2F1Z2h0IGVycm9ycyBhcmUgdGhleSBhcmUgbG9nZ2VkIGFueXdheVxuICAgICAgICAgICAgKS5jYXRjaChub29wKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIC8vIGRldnRvb2xzIG9ubHlcbiAgICBpZiAoKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB8fCBfX1ZVRV9QUk9EX0RFVlRPT0xTX18pICYmIGlzQnJvd3Nlcikge1xuICAgICAgICBjb25zdCBpbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICAgICAgICBpZiAoaW5zdGFuY2UpIHtcbiAgICAgICAgICAgIGNvbnN0IGxpbmtDb250ZXh0RGV2dG9vbHMgPSB7XG4gICAgICAgICAgICAgICAgcm91dGU6IHJvdXRlLnZhbHVlLFxuICAgICAgICAgICAgICAgIGlzQWN0aXZlOiBpc0FjdGl2ZS52YWx1ZSxcbiAgICAgICAgICAgICAgICBpc0V4YWN0QWN0aXZlOiBpc0V4YWN0QWN0aXZlLnZhbHVlLFxuICAgICAgICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IHRoaXMgaXMgaW50ZXJuYWxcbiAgICAgICAgICAgIGluc3RhbmNlLl9fdnJsX2RldnRvb2xzID0gaW5zdGFuY2UuX192cmxfZGV2dG9vbHMgfHwgW107XG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiB0aGlzIGlzIGludGVybmFsXG4gICAgICAgICAgICBpbnN0YW5jZS5fX3ZybF9kZXZ0b29scy5wdXNoKGxpbmtDb250ZXh0RGV2dG9vbHMpO1xuICAgICAgICAgICAgd2F0Y2hFZmZlY3QoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGxpbmtDb250ZXh0RGV2dG9vbHMucm91dGUgPSByb3V0ZS52YWx1ZTtcbiAgICAgICAgICAgICAgICBsaW5rQ29udGV4dERldnRvb2xzLmlzQWN0aXZlID0gaXNBY3RpdmUudmFsdWU7XG4gICAgICAgICAgICAgICAgbGlua0NvbnRleHREZXZ0b29scy5pc0V4YWN0QWN0aXZlID0gaXNFeGFjdEFjdGl2ZS52YWx1ZTtcbiAgICAgICAgICAgICAgICBsaW5rQ29udGV4dERldnRvb2xzLmVycm9yID0gaXNSb3V0ZUxvY2F0aW9uKHVucmVmKHByb3BzLnRvKSlcbiAgICAgICAgICAgICAgICAgICAgPyBudWxsXG4gICAgICAgICAgICAgICAgICAgIDogJ0ludmFsaWQgXCJ0b1wiIHZhbHVlJztcbiAgICAgICAgICAgIH0sIHsgZmx1c2g6ICdwb3N0JyB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBOT1RFOiB1cGRhdGUge0BsaW5rIF9Sb3V0ZXJMaW5rSX0ncyBgJHNsb3RzYCB0eXBlIHdoZW4gdXBkYXRpbmcgdGhpc1xuICAgICAqL1xuICAgIHJldHVybiB7XG4gICAgICAgIHJvdXRlLFxuICAgICAgICBocmVmOiBjb21wdXRlZCgoKSA9PiByb3V0ZS52YWx1ZS5ocmVmKSxcbiAgICAgICAgaXNBY3RpdmUsXG4gICAgICAgIGlzRXhhY3RBY3RpdmUsXG4gICAgICAgIG5hdmlnYXRlLFxuICAgIH07XG59XG5jb25zdCBSb3V0ZXJMaW5rSW1wbCA9IC8qI19fUFVSRV9fKi8gZGVmaW5lQ29tcG9uZW50KHtcbiAgICBuYW1lOiAnUm91dGVyTGluaycsXG4gICAgY29tcGF0Q29uZmlnOiB7IE1PREU6IDMgfSxcbiAgICBwcm9wczoge1xuICAgICAgICB0bzoge1xuICAgICAgICAgICAgdHlwZTogW1N0cmluZywgT2JqZWN0XSxcbiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgICByZXBsYWNlOiBCb29sZWFuLFxuICAgICAgICBhY3RpdmVDbGFzczogU3RyaW5nLFxuICAgICAgICAvLyBpbmFjdGl2ZUNsYXNzOiBTdHJpbmcsXG4gICAgICAgIGV4YWN0QWN0aXZlQ2xhc3M6IFN0cmluZyxcbiAgICAgICAgY3VzdG9tOiBCb29sZWFuLFxuICAgICAgICBhcmlhQ3VycmVudFZhbHVlOiB7XG4gICAgICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgICAgICBkZWZhdWx0OiAncGFnZScsXG4gICAgICAgIH0sXG4gICAgfSxcbiAgICB1c2VMaW5rLFxuICAgIHNldHVwKHByb3BzLCB7IHNsb3RzIH0pIHtcbiAgICAgICAgY29uc3QgbGluayA9IHJlYWN0aXZlKHVzZUxpbmsocHJvcHMpKTtcbiAgICAgICAgY29uc3QgeyBvcHRpb25zIH0gPSBpbmplY3Qocm91dGVyS2V5KTtcbiAgICAgICAgY29uc3QgZWxDbGFzcyA9IGNvbXB1dGVkKCgpID0+ICh7XG4gICAgICAgICAgICBbZ2V0TGlua0NsYXNzKHByb3BzLmFjdGl2ZUNsYXNzLCBvcHRpb25zLmxpbmtBY3RpdmVDbGFzcywgJ3JvdXRlci1saW5rLWFjdGl2ZScpXTogbGluay5pc0FjdGl2ZSxcbiAgICAgICAgICAgIC8vIFtnZXRMaW5rQ2xhc3MoXG4gICAgICAgICAgICAvLyAgIHByb3BzLmluYWN0aXZlQ2xhc3MsXG4gICAgICAgICAgICAvLyAgIG9wdGlvbnMubGlua0luYWN0aXZlQ2xhc3MsXG4gICAgICAgICAgICAvLyAgICdyb3V0ZXItbGluay1pbmFjdGl2ZSdcbiAgICAgICAgICAgIC8vICldOiAhbGluay5pc0V4YWN0QWN0aXZlLFxuICAgICAgICAgICAgW2dldExpbmtDbGFzcyhwcm9wcy5leGFjdEFjdGl2ZUNsYXNzLCBvcHRpb25zLmxpbmtFeGFjdEFjdGl2ZUNsYXNzLCAncm91dGVyLWxpbmstZXhhY3QtYWN0aXZlJyldOiBsaW5rLmlzRXhhY3RBY3RpdmUsXG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVuID0gc2xvdHMuZGVmYXVsdCAmJiBzbG90cy5kZWZhdWx0KGxpbmspO1xuICAgICAgICAgICAgcmV0dXJuIHByb3BzLmN1c3RvbVxuICAgICAgICAgICAgICAgID8gY2hpbGRyZW5cbiAgICAgICAgICAgICAgICA6IGgoJ2EnLCB7XG4gICAgICAgICAgICAgICAgICAgICdhcmlhLWN1cnJlbnQnOiBsaW5rLmlzRXhhY3RBY3RpdmVcbiAgICAgICAgICAgICAgICAgICAgICAgID8gcHJvcHMuYXJpYUN1cnJlbnRWYWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBocmVmOiBsaW5rLmhyZWYsXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgd291bGQgb3ZlcnJpZGUgdXNlciBhZGRlZCBhdHRycyBidXQgVnVlIHdpbGwgc3RpbGwgYWRkXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZSBsaXN0ZW5lciwgc28gd2UgZW5kIHVwIHRyaWdnZXJpbmcgYm90aFxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiBsaW5rLm5hdmlnYXRlLFxuICAgICAgICAgICAgICAgICAgICBjbGFzczogZWxDbGFzcy52YWx1ZSxcbiAgICAgICAgICAgICAgICB9LCBjaGlsZHJlbik7XG4gICAgICAgIH07XG4gICAgfSxcbn0pO1xuLy8gZXhwb3J0IHRoZSBwdWJsaWMgdHlwZSBmb3IgaC90c3ggaW5mZXJlbmNlXG4vLyBhbHNvIHRvIGF2b2lkIGlubGluZSBpbXBvcnQoKSBpbiBnZW5lcmF0ZWQgZC50cyBmaWxlc1xuLyoqXG4gKiBDb21wb25lbnQgdG8gcmVuZGVyIGEgbGluayB0aGF0IHRyaWdnZXJzIGEgbmF2aWdhdGlvbiBvbiBjbGljay5cbiAqL1xuY29uc3QgUm91dGVyTGluayA9IFJvdXRlckxpbmtJbXBsO1xuZnVuY3Rpb24gZ3VhcmRFdmVudChlKSB7XG4gICAgLy8gZG9uJ3QgcmVkaXJlY3Qgd2l0aCBjb250cm9sIGtleXNcbiAgICBpZiAoZS5tZXRhS2V5IHx8IGUuYWx0S2V5IHx8IGUuY3RybEtleSB8fCBlLnNoaWZ0S2V5KVxuICAgICAgICByZXR1cm47XG4gICAgLy8gZG9uJ3QgcmVkaXJlY3Qgd2hlbiBwcmV2ZW50RGVmYXVsdCBjYWxsZWRcbiAgICBpZiAoZS5kZWZhdWx0UHJldmVudGVkKVxuICAgICAgICByZXR1cm47XG4gICAgLy8gZG9uJ3QgcmVkaXJlY3Qgb24gcmlnaHQgY2xpY2tcbiAgICBpZiAoZS5idXR0b24gIT09IHVuZGVmaW5lZCAmJiBlLmJ1dHRvbiAhPT0gMClcbiAgICAgICAgcmV0dXJuO1xuICAgIC8vIGRvbid0IHJlZGlyZWN0IGlmIGB0YXJnZXQ9XCJfYmxhbmtcImBcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIGdldEF0dHJpYnV0ZSBkb2VzIGV4aXN0XG4gICAgaWYgKGUuY3VycmVudFRhcmdldCAmJiBlLmN1cnJlbnRUYXJnZXQuZ2V0QXR0cmlidXRlKSB7XG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgZ2V0QXR0cmlidXRlIGV4aXN0c1xuICAgICAgICBjb25zdCB0YXJnZXQgPSBlLmN1cnJlbnRUYXJnZXQuZ2V0QXR0cmlidXRlKCd0YXJnZXQnKTtcbiAgICAgICAgaWYgKC9cXGJfYmxhbmtcXGIvaS50ZXN0KHRhcmdldCkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIHRoaXMgbWF5IGJlIGEgV2VleCBldmVudCB3aGljaCBkb2Vzbid0IGhhdmUgdGhpcyBtZXRob2RcbiAgICBpZiAoZS5wcmV2ZW50RGVmYXVsdClcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gaW5jbHVkZXNQYXJhbXMob3V0ZXIsIGlubmVyKSB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gaW5uZXIpIHtcbiAgICAgICAgY29uc3QgaW5uZXJWYWx1ZSA9IGlubmVyW2tleV07XG4gICAgICAgIGNvbnN0IG91dGVyVmFsdWUgPSBvdXRlcltrZXldO1xuICAgICAgICBpZiAodHlwZW9mIGlubmVyVmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBpZiAoaW5uZXJWYWx1ZSAhPT0gb3V0ZXJWYWx1ZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoIWlzQXJyYXkob3V0ZXJWYWx1ZSkgfHxcbiAgICAgICAgICAgICAgICBvdXRlclZhbHVlLmxlbmd0aCAhPT0gaW5uZXJWYWx1ZS5sZW5ndGggfHxcbiAgICAgICAgICAgICAgICBpbm5lclZhbHVlLnNvbWUoKHZhbHVlLCBpKSA9PiB2YWx1ZSAhPT0gb3V0ZXJWYWx1ZVtpXSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuLyoqXG4gKiBHZXQgdGhlIG9yaWdpbmFsIHBhdGggdmFsdWUgb2YgYSByZWNvcmQgYnkgZm9sbG93aW5nIGl0cyBhbGlhc09mXG4gKiBAcGFyYW0gcmVjb3JkXG4gKi9cbmZ1bmN0aW9uIGdldE9yaWdpbmFsUGF0aChyZWNvcmQpIHtcbiAgICByZXR1cm4gcmVjb3JkID8gKHJlY29yZC5hbGlhc09mID8gcmVjb3JkLmFsaWFzT2YucGF0aCA6IHJlY29yZC5wYXRoKSA6ICcnO1xufVxuLyoqXG4gKiBVdGlsaXR5IGNsYXNzIHRvIGdldCB0aGUgYWN0aXZlIGNsYXNzIGJhc2VkIG9uIGRlZmF1bHRzLlxuICogQHBhcmFtIHByb3BDbGFzc1xuICogQHBhcmFtIGdsb2JhbENsYXNzXG4gKiBAcGFyYW0gZGVmYXVsdENsYXNzXG4gKi9cbmNvbnN0IGdldExpbmtDbGFzcyA9IChwcm9wQ2xhc3MsIGdsb2JhbENsYXNzLCBkZWZhdWx0Q2xhc3MpID0+IHByb3BDbGFzcyAhPSBudWxsXG4gICAgPyBwcm9wQ2xhc3NcbiAgICA6IGdsb2JhbENsYXNzICE9IG51bGxcbiAgICAgICAgPyBnbG9iYWxDbGFzc1xuICAgICAgICA6IGRlZmF1bHRDbGFzcztcblxuY29uc3QgUm91dGVyVmlld0ltcGwgPSAvKiNfX1BVUkVfXyovIGRlZmluZUNvbXBvbmVudCh7XG4gICAgbmFtZTogJ1JvdXRlclZpZXcnLFxuICAgIC8vICM2NzQgd2UgbWFudWFsbHkgaW5oZXJpdCB0aGVtXG4gICAgaW5oZXJpdEF0dHJzOiBmYWxzZSxcbiAgICBwcm9wczoge1xuICAgICAgICBuYW1lOiB7XG4gICAgICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgICAgICBkZWZhdWx0OiAnZGVmYXVsdCcsXG4gICAgICAgIH0sXG4gICAgICAgIHJvdXRlOiBPYmplY3QsXG4gICAgfSxcbiAgICAvLyBCZXR0ZXIgY29tcGF0IGZvciBAdnVlL2NvbXBhdCB1c2Vyc1xuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS92dWVqcy9yb3V0ZXIvaXNzdWVzLzEzMTVcbiAgICBjb21wYXRDb25maWc6IHsgTU9ERTogMyB9LFxuICAgIHNldHVwKHByb3BzLCB7IGF0dHJzLCBzbG90cyB9KSB7XG4gICAgICAgIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiB3YXJuRGVwcmVjYXRlZFVzYWdlKCk7XG4gICAgICAgIGNvbnN0IGluamVjdGVkUm91dGUgPSBpbmplY3Qocm91dGVyVmlld0xvY2F0aW9uS2V5KTtcbiAgICAgICAgY29uc3Qgcm91dGVUb0Rpc3BsYXkgPSBjb21wdXRlZCgoKSA9PiBwcm9wcy5yb3V0ZSB8fCBpbmplY3RlZFJvdXRlLnZhbHVlKTtcbiAgICAgICAgY29uc3QgaW5qZWN0ZWREZXB0aCA9IGluamVjdCh2aWV3RGVwdGhLZXksIDApO1xuICAgICAgICAvLyBUaGUgZGVwdGggY2hhbmdlcyBiYXNlZCBvbiBlbXB0eSBjb21wb25lbnRzIG9wdGlvbiwgd2hpY2ggYWxsb3dzIHBhc3N0aHJvdWdoIHJvdXRlcyBlLmcuIHJvdXRlcyB3aXRoIGNoaWxkcmVuXG4gICAgICAgIC8vIHRoYXQgYXJlIHVzZWQgdG8gcmV1c2UgdGhlIGBwYXRoYCBwcm9wZXJ0eVxuICAgICAgICBjb25zdCBkZXB0aCA9IGNvbXB1dGVkKCgpID0+IHtcbiAgICAgICAgICAgIGxldCBpbml0aWFsRGVwdGggPSB1bnJlZihpbmplY3RlZERlcHRoKTtcbiAgICAgICAgICAgIGNvbnN0IHsgbWF0Y2hlZCB9ID0gcm91dGVUb0Rpc3BsYXkudmFsdWU7XG4gICAgICAgICAgICBsZXQgbWF0Y2hlZFJvdXRlO1xuICAgICAgICAgICAgd2hpbGUgKChtYXRjaGVkUm91dGUgPSBtYXRjaGVkW2luaXRpYWxEZXB0aF0pICYmXG4gICAgICAgICAgICAgICAgIW1hdGNoZWRSb3V0ZS5jb21wb25lbnRzKSB7XG4gICAgICAgICAgICAgICAgaW5pdGlhbERlcHRoKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaW5pdGlhbERlcHRoO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgbWF0Y2hlZFJvdXRlUmVmID0gY29tcHV0ZWQoKCkgPT4gcm91dGVUb0Rpc3BsYXkudmFsdWUubWF0Y2hlZFtkZXB0aC52YWx1ZV0pO1xuICAgICAgICBwcm92aWRlKHZpZXdEZXB0aEtleSwgY29tcHV0ZWQoKCkgPT4gZGVwdGgudmFsdWUgKyAxKSk7XG4gICAgICAgIHByb3ZpZGUobWF0Y2hlZFJvdXRlS2V5LCBtYXRjaGVkUm91dGVSZWYpO1xuICAgICAgICBwcm92aWRlKHJvdXRlclZpZXdMb2NhdGlvbktleSwgcm91dGVUb0Rpc3BsYXkpO1xuICAgICAgICBjb25zdCB2aWV3UmVmID0gcmVmKCk7XG4gICAgICAgIC8vIHdhdGNoIGF0IHRoZSBzYW1lIHRpbWUgdGhlIGNvbXBvbmVudCBpbnN0YW5jZSwgdGhlIHJvdXRlIHJlY29yZCB3ZSBhcmVcbiAgICAgICAgLy8gcmVuZGVyaW5nLCBhbmQgdGhlIG5hbWVcbiAgICAgICAgd2F0Y2goKCkgPT4gW3ZpZXdSZWYudmFsdWUsIG1hdGNoZWRSb3V0ZVJlZi52YWx1ZSwgcHJvcHMubmFtZV0sIChbaW5zdGFuY2UsIHRvLCBuYW1lXSwgW29sZEluc3RhbmNlLCBmcm9tLCBvbGROYW1lXSkgPT4ge1xuICAgICAgICAgICAgLy8gY29weSByZXVzZWQgaW5zdGFuY2VzXG4gICAgICAgICAgICBpZiAodG8pIHtcbiAgICAgICAgICAgICAgICAvLyB0aGlzIHdpbGwgdXBkYXRlIHRoZSBpbnN0YW5jZSBmb3IgbmV3IGluc3RhbmNlcyBhcyB3ZWxsIGFzIHJldXNlZFxuICAgICAgICAgICAgICAgIC8vIGluc3RhbmNlcyB3aGVuIG5hdmlnYXRpbmcgdG8gYSBuZXcgcm91dGVcbiAgICAgICAgICAgICAgICB0by5pbnN0YW5jZXNbbmFtZV0gPSBpbnN0YW5jZTtcbiAgICAgICAgICAgICAgICAvLyB0aGUgY29tcG9uZW50IGluc3RhbmNlIGlzIHJldXNlZCBmb3IgYSBkaWZmZXJlbnQgcm91dGUgb3IgbmFtZSwgc29cbiAgICAgICAgICAgICAgICAvLyB3ZSBjb3B5IGFueSBzYXZlZCB1cGRhdGUgb3IgbGVhdmUgZ3VhcmRzLiBXaXRoIGFzeW5jIHNldHVwLCB0aGVcbiAgICAgICAgICAgICAgICAvLyBtb3VudGluZyBjb21wb25lbnQgd2lsbCBtb3VudCBiZWZvcmUgdGhlIG1hdGNoZWRSb3V0ZSBjaGFuZ2VzLFxuICAgICAgICAgICAgICAgIC8vIG1ha2luZyBpbnN0YW5jZSA9PT0gb2xkSW5zdGFuY2UsIHNvIHdlIGNoZWNrIGlmIGd1YXJkcyBoYXZlIGJlZW5cbiAgICAgICAgICAgICAgICAvLyBhZGRlZCBiZWZvcmUuIFRoaXMgd29ya3MgYmVjYXVzZSB3ZSByZW1vdmUgZ3VhcmRzIHdoZW5cbiAgICAgICAgICAgICAgICAvLyB1bm1vdW50aW5nL2RlYWN0aXZhdGluZyBjb21wb25lbnRzXG4gICAgICAgICAgICAgICAgaWYgKGZyb20gJiYgZnJvbSAhPT0gdG8gJiYgaW5zdGFuY2UgJiYgaW5zdGFuY2UgPT09IG9sZEluc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdG8ubGVhdmVHdWFyZHMuc2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG8ubGVhdmVHdWFyZHMgPSBmcm9tLmxlYXZlR3VhcmRzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICghdG8udXBkYXRlR3VhcmRzLnNpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvLnVwZGF0ZUd1YXJkcyA9IGZyb20udXBkYXRlR3VhcmRzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdHJpZ2dlciBiZWZvcmVSb3V0ZUVudGVyIG5leHQgY2FsbGJhY2tzXG4gICAgICAgICAgICBpZiAoaW5zdGFuY2UgJiZcbiAgICAgICAgICAgICAgICB0byAmJlxuICAgICAgICAgICAgICAgIC8vIGlmIHRoZXJlIGlzIG5vIGluc3RhbmNlIGJ1dCB0byBhbmQgZnJvbSBhcmUgdGhlIHNhbWUgdGhpcyBtaWdodCBiZVxuICAgICAgICAgICAgICAgIC8vIHRoZSBmaXJzdCB2aXNpdFxuICAgICAgICAgICAgICAgICghZnJvbSB8fCAhaXNTYW1lUm91dGVSZWNvcmQodG8sIGZyb20pIHx8ICFvbGRJbnN0YW5jZSkpIHtcbiAgICAgICAgICAgICAgICAodG8uZW50ZXJDYWxsYmFja3NbbmFtZV0gfHwgW10pLmZvckVhY2goY2FsbGJhY2sgPT4gY2FsbGJhY2soaW5zdGFuY2UpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgeyBmbHVzaDogJ3Bvc3QnIH0pO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgcm91dGUgPSByb3V0ZVRvRGlzcGxheS52YWx1ZTtcbiAgICAgICAgICAgIC8vIHdlIG5lZWQgdGhlIHZhbHVlIGF0IHRoZSB0aW1lIHdlIHJlbmRlciBiZWNhdXNlIHdoZW4gd2UgdW5tb3VudCwgd2VcbiAgICAgICAgICAgIC8vIG5hdmlnYXRlZCB0byBhIGRpZmZlcmVudCBsb2NhdGlvbiBzbyB0aGUgdmFsdWUgaXMgZGlmZmVyZW50XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50TmFtZSA9IHByb3BzLm5hbWU7XG4gICAgICAgICAgICBjb25zdCBtYXRjaGVkUm91dGUgPSBtYXRjaGVkUm91dGVSZWYudmFsdWU7XG4gICAgICAgICAgICBjb25zdCBWaWV3Q29tcG9uZW50ID0gbWF0Y2hlZFJvdXRlICYmIG1hdGNoZWRSb3V0ZS5jb21wb25lbnRzW2N1cnJlbnROYW1lXTtcbiAgICAgICAgICAgIGlmICghVmlld0NvbXBvbmVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBub3JtYWxpemVTbG90KHNsb3RzLmRlZmF1bHQsIHsgQ29tcG9uZW50OiBWaWV3Q29tcG9uZW50LCByb3V0ZSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHByb3BzIGZyb20gcm91dGUgY29uZmlndXJhdGlvblxuICAgICAgICAgICAgY29uc3Qgcm91dGVQcm9wc09wdGlvbiA9IG1hdGNoZWRSb3V0ZS5wcm9wc1tjdXJyZW50TmFtZV07XG4gICAgICAgICAgICBjb25zdCByb3V0ZVByb3BzID0gcm91dGVQcm9wc09wdGlvblxuICAgICAgICAgICAgICAgID8gcm91dGVQcm9wc09wdGlvbiA9PT0gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICA/IHJvdXRlLnBhcmFtc1xuICAgICAgICAgICAgICAgICAgICA6IHR5cGVvZiByb3V0ZVByb3BzT3B0aW9uID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHJvdXRlUHJvcHNPcHRpb24ocm91dGUpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHJvdXRlUHJvcHNPcHRpb25cbiAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgICBjb25zdCBvblZub2RlVW5tb3VudGVkID0gdm5vZGUgPT4ge1xuICAgICAgICAgICAgICAgIC8vIHJlbW92ZSB0aGUgaW5zdGFuY2UgcmVmZXJlbmNlIHRvIHByZXZlbnQgbGVha1xuICAgICAgICAgICAgICAgIGlmICh2bm9kZS5jb21wb25lbnQuaXNVbm1vdW50ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hlZFJvdXRlLmluc3RhbmNlc1tjdXJyZW50TmFtZV0gPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBjb21wb25lbnQgPSBoKFZpZXdDb21wb25lbnQsIGFzc2lnbih7fSwgcm91dGVQcm9wcywgYXR0cnMsIHtcbiAgICAgICAgICAgICAgICBvblZub2RlVW5tb3VudGVkLFxuICAgICAgICAgICAgICAgIHJlZjogdmlld1JlZixcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIGlmICgoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykgJiZcbiAgICAgICAgICAgICAgICBpc0Jyb3dzZXIgJiZcbiAgICAgICAgICAgICAgICBjb21wb25lbnQucmVmKSB7XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogY2FuIGRpc3BsYXkgaWYgaXQncyBhbiBhbGlhcywgaXRzIHByb3BzXG4gICAgICAgICAgICAgICAgY29uc3QgaW5mbyA9IHtcbiAgICAgICAgICAgICAgICAgICAgZGVwdGg6IGRlcHRoLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBtYXRjaGVkUm91dGUubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogbWF0Y2hlZFJvdXRlLnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIG1ldGE6IG1hdGNoZWRSb3V0ZS5tZXRhLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY29uc3QgaW50ZXJuYWxJbnN0YW5jZXMgPSBpc0FycmF5KGNvbXBvbmVudC5yZWYpXG4gICAgICAgICAgICAgICAgICAgID8gY29tcG9uZW50LnJlZi5tYXAociA9PiByLmkpXG4gICAgICAgICAgICAgICAgICAgIDogW2NvbXBvbmVudC5yZWYuaV07XG4gICAgICAgICAgICAgICAgaW50ZXJuYWxJbnN0YW5jZXMuZm9yRWFjaChpbnN0YW5jZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UuX192cnZfZGV2dG9vbHMgPSBpbmZvO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIC8vIHBhc3MgdGhlIHZub2RlIHRvIHRoZSBzbG90IGFzIGEgcHJvcC5cbiAgICAgICAgICAgIC8vIGggYW5kIDxjb21wb25lbnQgOmlzPVwiLi4uXCI+IGJvdGggYWNjZXB0IHZub2Rlc1xuICAgICAgICAgICAgbm9ybWFsaXplU2xvdChzbG90cy5kZWZhdWx0LCB7IENvbXBvbmVudDogY29tcG9uZW50LCByb3V0ZSB9KSB8fFxuICAgICAgICAgICAgICAgIGNvbXBvbmVudCk7XG4gICAgICAgIH07XG4gICAgfSxcbn0pO1xuZnVuY3Rpb24gbm9ybWFsaXplU2xvdChzbG90LCBkYXRhKSB7XG4gICAgaWYgKCFzbG90KVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBjb25zdCBzbG90Q29udGVudCA9IHNsb3QoZGF0YSk7XG4gICAgcmV0dXJuIHNsb3RDb250ZW50Lmxlbmd0aCA9PT0gMSA/IHNsb3RDb250ZW50WzBdIDogc2xvdENvbnRlbnQ7XG59XG4vLyBleHBvcnQgdGhlIHB1YmxpYyB0eXBlIGZvciBoL3RzeCBpbmZlcmVuY2Vcbi8vIGFsc28gdG8gYXZvaWQgaW5saW5lIGltcG9ydCgpIGluIGdlbmVyYXRlZCBkLnRzIGZpbGVzXG4vKipcbiAqIENvbXBvbmVudCB0byBkaXNwbGF5IHRoZSBjdXJyZW50IHJvdXRlIHRoZSB1c2VyIGlzIGF0LlxuICovXG5jb25zdCBSb3V0ZXJWaWV3ID0gUm91dGVyVmlld0ltcGw7XG4vLyB3YXJuIGFnYWluc3QgZGVwcmVjYXRlZCB1c2FnZSB3aXRoIDx0cmFuc2l0aW9uPiAmIDxrZWVwLWFsaXZlPlxuLy8gZHVlIHRvIGZ1bmN0aW9uYWwgY29tcG9uZW50IGJlaW5nIG5vIGxvbmdlciBlYWdlciBpbiBWdWUgM1xuZnVuY3Rpb24gd2FybkRlcHJlY2F0ZWRVc2FnZSgpIHtcbiAgICBjb25zdCBpbnN0YW5jZSA9IGdldEN1cnJlbnRJbnN0YW5jZSgpO1xuICAgIGNvbnN0IHBhcmVudE5hbWUgPSBpbnN0YW5jZS5wYXJlbnQgJiYgaW5zdGFuY2UucGFyZW50LnR5cGUubmFtZTtcbiAgICBjb25zdCBwYXJlbnRTdWJUcmVlVHlwZSA9IGluc3RhbmNlLnBhcmVudCAmJiBpbnN0YW5jZS5wYXJlbnQuc3ViVHJlZSAmJiBpbnN0YW5jZS5wYXJlbnQuc3ViVHJlZS50eXBlO1xuICAgIGlmIChwYXJlbnROYW1lICYmXG4gICAgICAgIChwYXJlbnROYW1lID09PSAnS2VlcEFsaXZlJyB8fCBwYXJlbnROYW1lLmluY2x1ZGVzKCdUcmFuc2l0aW9uJykpICYmXG4gICAgICAgIHR5cGVvZiBwYXJlbnRTdWJUcmVlVHlwZSA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgcGFyZW50U3ViVHJlZVR5cGUubmFtZSA9PT0gJ1JvdXRlclZpZXcnKSB7XG4gICAgICAgIGNvbnN0IGNvbXAgPSBwYXJlbnROYW1lID09PSAnS2VlcEFsaXZlJyA/ICdrZWVwLWFsaXZlJyA6ICd0cmFuc2l0aW9uJztcbiAgICAgICAgd2FybihgPHJvdXRlci12aWV3PiBjYW4gbm8gbG9uZ2VyIGJlIHVzZWQgZGlyZWN0bHkgaW5zaWRlIDx0cmFuc2l0aW9uPiBvciA8a2VlcC1hbGl2ZT4uXFxuYCArXG4gICAgICAgICAgICBgVXNlIHNsb3QgcHJvcHMgaW5zdGVhZDpcXG5cXG5gICtcbiAgICAgICAgICAgIGA8cm91dGVyLXZpZXcgdi1zbG90PVwieyBDb21wb25lbnQgfVwiPlxcbmAgK1xuICAgICAgICAgICAgYCAgPCR7Y29tcH0+XFxuYCArXG4gICAgICAgICAgICBgICAgIDxjb21wb25lbnQgOmlzPVwiQ29tcG9uZW50XCIgLz5cXG5gICtcbiAgICAgICAgICAgIGAgIDwvJHtjb21wfT5cXG5gICtcbiAgICAgICAgICAgIGA8L3JvdXRlci12aWV3PmApO1xuICAgIH1cbn1cblxuLyoqXG4gKiBDb3BpZXMgYSByb3V0ZSBsb2NhdGlvbiBhbmQgcmVtb3ZlcyBhbnkgcHJvYmxlbWF0aWMgcHJvcGVydGllcyB0aGF0IGNhbm5vdCBiZSBzaG93biBpbiBkZXZ0b29scyAoZS5nLiBWdWUgaW5zdGFuY2VzKS5cbiAqXG4gKiBAcGFyYW0gcm91dGVMb2NhdGlvbiAtIHJvdXRlTG9jYXRpb24gdG8gZm9ybWF0XG4gKiBAcGFyYW0gdG9vbHRpcCAtIG9wdGlvbmFsIHRvb2x0aXBcbiAqIEByZXR1cm5zIGEgY29weSBvZiB0aGUgcm91dGVMb2NhdGlvblxuICovXG5mdW5jdGlvbiBmb3JtYXRSb3V0ZUxvY2F0aW9uKHJvdXRlTG9jYXRpb24sIHRvb2x0aXApIHtcbiAgICBjb25zdCBjb3B5ID0gYXNzaWduKHt9LCByb3V0ZUxvY2F0aW9uLCB7XG4gICAgICAgIC8vIHJlbW92ZSB2YXJpYWJsZXMgdGhhdCBjYW4gY29udGFpbiB2dWUgaW5zdGFuY2VzXG4gICAgICAgIG1hdGNoZWQ6IHJvdXRlTG9jYXRpb24ubWF0Y2hlZC5tYXAobWF0Y2hlZCA9PiBvbWl0KG1hdGNoZWQsIFsnaW5zdGFuY2VzJywgJ2NoaWxkcmVuJywgJ2FsaWFzT2YnXSkpLFxuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICAgIF9jdXN0b206IHtcbiAgICAgICAgICAgIHR5cGU6IG51bGwsXG4gICAgICAgICAgICByZWFkT25seTogdHJ1ZSxcbiAgICAgICAgICAgIGRpc3BsYXk6IHJvdXRlTG9jYXRpb24uZnVsbFBhdGgsXG4gICAgICAgICAgICB0b29sdGlwLFxuICAgICAgICAgICAgdmFsdWU6IGNvcHksXG4gICAgICAgIH0sXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGZvcm1hdERpc3BsYXkoZGlzcGxheSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIF9jdXN0b206IHtcbiAgICAgICAgICAgIGRpc3BsYXksXG4gICAgICAgIH0sXG4gICAgfTtcbn1cbi8vIHRvIHN1cHBvcnQgbXVsdGlwbGUgcm91dGVyIGluc3RhbmNlc1xubGV0IHJvdXRlcklkID0gMDtcbmZ1bmN0aW9uIGFkZERldnRvb2xzKGFwcCwgcm91dGVyLCBtYXRjaGVyKSB7XG4gICAgLy8gVGFrZSBvdmVyIHJvdXRlci5iZWZvcmVFYWNoIGFuZCBhZnRlckVhY2hcbiAgICAvLyBtYWtlIHN1cmUgd2UgYXJlIG5vdCByZWdpc3RlcmluZyB0aGUgZGV2dG9vbCB0d2ljZVxuICAgIGlmIChyb3V0ZXIuX19oYXNEZXZ0b29scylcbiAgICAgICAgcmV0dXJuO1xuICAgIHJvdXRlci5fX2hhc0RldnRvb2xzID0gdHJ1ZTtcbiAgICAvLyBpbmNyZW1lbnQgdG8gc3VwcG9ydCBtdWx0aXBsZSByb3V0ZXIgaW5zdGFuY2VzXG4gICAgY29uc3QgaWQgPSByb3V0ZXJJZCsrO1xuICAgIHNldHVwRGV2dG9vbHNQbHVnaW4oe1xuICAgICAgICBpZDogJ29yZy52dWVqcy5yb3V0ZXInICsgKGlkID8gJy4nICsgaWQgOiAnJyksXG4gICAgICAgIGxhYmVsOiAnVnVlIFJvdXRlcicsXG4gICAgICAgIHBhY2thZ2VOYW1lOiAndnVlLXJvdXRlcicsXG4gICAgICAgIGhvbWVwYWdlOiAnaHR0cHM6Ly9yb3V0ZXIudnVlanMub3JnJyxcbiAgICAgICAgbG9nbzogJ2h0dHBzOi8vcm91dGVyLnZ1ZWpzLm9yZy9sb2dvLnBuZycsXG4gICAgICAgIGNvbXBvbmVudFN0YXRlVHlwZXM6IFsnUm91dGluZyddLFxuICAgICAgICBhcHAsXG4gICAgfSwgYXBpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiBhcGkubm93ICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1tWdWUgUm91dGVyXTogWW91IHNlZW0gdG8gYmUgdXNpbmcgYW4gb3V0ZGF0ZWQgdmVyc2lvbiBvZiBWdWUgRGV2dG9vbHMuIEFyZSB5b3Ugc3RpbGwgdXNpbmcgdGhlIEJldGEgcmVsZWFzZSBpbnN0ZWFkIG9mIHRoZSBzdGFibGUgb25lPyBZb3UgY2FuIGZpbmQgdGhlIGxpbmtzIGF0IGh0dHBzOi8vZGV2dG9vbHMudnVlanMub3JnL2d1aWRlL2luc3RhbGxhdGlvbi5odG1sLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGRpc3BsYXkgc3RhdGUgYWRkZWQgYnkgdGhlIHJvdXRlclxuICAgICAgICBhcGkub24uaW5zcGVjdENvbXBvbmVudCgocGF5bG9hZCwgY3R4KSA9PiB7XG4gICAgICAgICAgICBpZiAocGF5bG9hZC5pbnN0YW5jZURhdGEpIHtcbiAgICAgICAgICAgICAgICBwYXlsb2FkLmluc3RhbmNlRGF0YS5zdGF0ZS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ1JvdXRpbmcnLFxuICAgICAgICAgICAgICAgICAgICBrZXk6ICckcm91dGUnLFxuICAgICAgICAgICAgICAgICAgICBlZGl0YWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBmb3JtYXRSb3V0ZUxvY2F0aW9uKHJvdXRlci5jdXJyZW50Um91dGUudmFsdWUsICdDdXJyZW50IFJvdXRlJyksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBtYXJrIHJvdXRlci1saW5rIGFzIGFjdGl2ZSBhbmQgZGlzcGxheSB0YWdzIG9uIHJvdXRlciB2aWV3c1xuICAgICAgICBhcGkub24udmlzaXRDb21wb25lbnRUcmVlKCh7IHRyZWVOb2RlOiBub2RlLCBjb21wb25lbnRJbnN0YW5jZSB9KSA9PiB7XG4gICAgICAgICAgICBpZiAoY29tcG9uZW50SW5zdGFuY2UuX192cnZfZGV2dG9vbHMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbmZvID0gY29tcG9uZW50SW5zdGFuY2UuX192cnZfZGV2dG9vbHM7XG4gICAgICAgICAgICAgICAgbm9kZS50YWdzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBsYWJlbDogKGluZm8ubmFtZSA/IGAke2luZm8ubmFtZS50b1N0cmluZygpfTogYCA6ICcnKSArIGluZm8ucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgdGV4dENvbG9yOiAwLFxuICAgICAgICAgICAgICAgICAgICB0b29sdGlwOiAnVGhpcyBjb21wb25lbnQgaXMgcmVuZGVyZWQgYnkgJmx0O3JvdXRlci12aWV3Jmd0OycsXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogUElOS181MDAsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBpZiBtdWx0aXBsZSB1c2VMaW5rIGFyZSB1c2VkXG4gICAgICAgICAgICBpZiAoaXNBcnJheShjb21wb25lbnRJbnN0YW5jZS5fX3ZybF9kZXZ0b29scykpIHtcbiAgICAgICAgICAgICAgICBjb21wb25lbnRJbnN0YW5jZS5fX2RldnRvb2xzQXBpID0gYXBpO1xuICAgICAgICAgICAgICAgIGNvbXBvbmVudEluc3RhbmNlLl9fdnJsX2RldnRvb2xzLmZvckVhY2goZGV2dG9vbHNEYXRhID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGxhYmVsID0gZGV2dG9vbHNEYXRhLnJvdXRlLnBhdGg7XG4gICAgICAgICAgICAgICAgICAgIGxldCBiYWNrZ3JvdW5kQ29sb3IgPSBPUkFOR0VfNDAwO1xuICAgICAgICAgICAgICAgICAgICBsZXQgdG9vbHRpcCA9ICcnO1xuICAgICAgICAgICAgICAgICAgICBsZXQgdGV4dENvbG9yID0gMDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRldnRvb2xzRGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWwgPSBkZXZ0b29sc0RhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3IgPSBSRURfMTAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dENvbG9yID0gUkVEXzcwMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChkZXZ0b29sc0RhdGEuaXNFeGFjdEFjdGl2ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yID0gTElNRV81MDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sdGlwID0gJ1RoaXMgaXMgZXhhY3RseSBhY3RpdmUnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGRldnRvb2xzRGF0YS5pc0FjdGl2ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yID0gQkxVRV82MDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sdGlwID0gJ1RoaXMgbGluayBpcyBhY3RpdmUnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG5vZGUudGFncy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dENvbG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9vbHRpcCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcixcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB3YXRjaChyb3V0ZXIuY3VycmVudFJvdXRlLCAoKSA9PiB7XG4gICAgICAgICAgICAvLyByZWZyZXNoIGFjdGl2ZSBzdGF0ZVxuICAgICAgICAgICAgcmVmcmVzaFJvdXRlc1ZpZXcoKTtcbiAgICAgICAgICAgIGFwaS5ub3RpZnlDb21wb25lbnRVcGRhdGUoKTtcbiAgICAgICAgICAgIGFwaS5zZW5kSW5zcGVjdG9yVHJlZShyb3V0ZXJJbnNwZWN0b3JJZCk7XG4gICAgICAgICAgICBhcGkuc2VuZEluc3BlY3RvclN0YXRlKHJvdXRlckluc3BlY3RvcklkKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IG5hdmlnYXRpb25zTGF5ZXJJZCA9ICdyb3V0ZXI6bmF2aWdhdGlvbnM6JyArIGlkO1xuICAgICAgICBhcGkuYWRkVGltZWxpbmVMYXllcih7XG4gICAgICAgICAgICBpZDogbmF2aWdhdGlvbnNMYXllcklkLFxuICAgICAgICAgICAgbGFiZWw6IGBSb3V0ZXIke2lkID8gJyAnICsgaWQgOiAnJ30gTmF2aWdhdGlvbnNgLFxuICAgICAgICAgICAgY29sb3I6IDB4NDBhOGM0LFxuICAgICAgICB9KTtcbiAgICAgICAgLy8gY29uc3QgZXJyb3JzTGF5ZXJJZCA9ICdyb3V0ZXI6ZXJyb3JzJ1xuICAgICAgICAvLyBhcGkuYWRkVGltZWxpbmVMYXllcih7XG4gICAgICAgIC8vICAgaWQ6IGVycm9yc0xheWVySWQsXG4gICAgICAgIC8vICAgbGFiZWw6ICdSb3V0ZXIgRXJyb3JzJyxcbiAgICAgICAgLy8gICBjb2xvcjogMHhlYTU0NTUsXG4gICAgICAgIC8vIH0pXG4gICAgICAgIHJvdXRlci5vbkVycm9yKChlcnJvciwgdG8pID0+IHtcbiAgICAgICAgICAgIGFwaS5hZGRUaW1lbGluZUV2ZW50KHtcbiAgICAgICAgICAgICAgICBsYXllcklkOiBuYXZpZ2F0aW9uc0xheWVySWQsXG4gICAgICAgICAgICAgICAgZXZlbnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdFcnJvciBkdXJpbmcgTmF2aWdhdGlvbicsXG4gICAgICAgICAgICAgICAgICAgIHN1YnRpdGxlOiB0by5mdWxsUGF0aCxcbiAgICAgICAgICAgICAgICAgICAgbG9nVHlwZTogJ2Vycm9yJyxcbiAgICAgICAgICAgICAgICAgICAgdGltZTogYXBpLm5vdygpLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7IGVycm9yIH0sXG4gICAgICAgICAgICAgICAgICAgIGdyb3VwSWQ6IHRvLm1ldGEuX19uYXZpZ2F0aW9uSWQsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gYXR0YWNoZWQgdG8gYG1ldGFgIGFuZCB1c2VkIHRvIGdyb3VwIGV2ZW50c1xuICAgICAgICBsZXQgbmF2aWdhdGlvbklkID0gMDtcbiAgICAgICAgcm91dGVyLmJlZm9yZUVhY2goKHRvLCBmcm9tKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0ge1xuICAgICAgICAgICAgICAgIGd1YXJkOiBmb3JtYXREaXNwbGF5KCdiZWZvcmVFYWNoJyksXG4gICAgICAgICAgICAgICAgZnJvbTogZm9ybWF0Um91dGVMb2NhdGlvbihmcm9tLCAnQ3VycmVudCBMb2NhdGlvbiBkdXJpbmcgdGhpcyBuYXZpZ2F0aW9uJyksXG4gICAgICAgICAgICAgICAgdG86IGZvcm1hdFJvdXRlTG9jYXRpb24odG8sICdUYXJnZXQgbG9jYXRpb24nKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBVc2VkIHRvIGdyb3VwIG5hdmlnYXRpb25zIHRvZ2V0aGVyLCBoaWRlIGZyb20gZGV2dG9vbHNcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0by5tZXRhLCAnX19uYXZpZ2F0aW9uSWQnLCB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IG5hdmlnYXRpb25JZCsrLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBhcGkuYWRkVGltZWxpbmVFdmVudCh7XG4gICAgICAgICAgICAgICAgbGF5ZXJJZDogbmF2aWdhdGlvbnNMYXllcklkLFxuICAgICAgICAgICAgICAgIGV2ZW50OiB7XG4gICAgICAgICAgICAgICAgICAgIHRpbWU6IGFwaS5ub3coKSxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdTdGFydCBvZiBuYXZpZ2F0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgc3VidGl0bGU6IHRvLmZ1bGxQYXRoLFxuICAgICAgICAgICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgICAgICAgICBncm91cElkOiB0by5tZXRhLl9fbmF2aWdhdGlvbklkLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJvdXRlci5hZnRlckVhY2goKHRvLCBmcm9tLCBmYWlsdXJlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0ge1xuICAgICAgICAgICAgICAgIGd1YXJkOiBmb3JtYXREaXNwbGF5KCdhZnRlckVhY2gnKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoZmFpbHVyZSkge1xuICAgICAgICAgICAgICAgIGRhdGEuZmFpbHVyZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgX2N1c3RvbToge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogRXJyb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkT25seTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZhaWx1cmUgPyBmYWlsdXJlLm1lc3NhZ2UgOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2x0aXA6ICdOYXZpZ2F0aW9uIEZhaWx1cmUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGZhaWx1cmUsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBkYXRhLnN0YXR1cyA9IGZvcm1hdERpc3BsYXkoJ+KdjCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZGF0YS5zdGF0dXMgPSBmb3JtYXREaXNwbGF5KCfinIUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHdlIHNldCBoZXJlIHRvIGhhdmUgdGhlIHJpZ2h0IG9yZGVyXG4gICAgICAgICAgICBkYXRhLmZyb20gPSBmb3JtYXRSb3V0ZUxvY2F0aW9uKGZyb20sICdDdXJyZW50IExvY2F0aW9uIGR1cmluZyB0aGlzIG5hdmlnYXRpb24nKTtcbiAgICAgICAgICAgIGRhdGEudG8gPSBmb3JtYXRSb3V0ZUxvY2F0aW9uKHRvLCAnVGFyZ2V0IGxvY2F0aW9uJyk7XG4gICAgICAgICAgICBhcGkuYWRkVGltZWxpbmVFdmVudCh7XG4gICAgICAgICAgICAgICAgbGF5ZXJJZDogbmF2aWdhdGlvbnNMYXllcklkLFxuICAgICAgICAgICAgICAgIGV2ZW50OiB7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnRW5kIG9mIG5hdmlnYXRpb24nLFxuICAgICAgICAgICAgICAgICAgICBzdWJ0aXRsZTogdG8uZnVsbFBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHRpbWU6IGFwaS5ub3coKSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgbG9nVHlwZTogZmFpbHVyZSA/ICd3YXJuaW5nJyA6ICdkZWZhdWx0JyxcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXBJZDogdG8ubWV0YS5fX25hdmlnYXRpb25JZCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5zcGVjdG9yIG9mIEV4aXN0aW5nIHJvdXRlc1xuICAgICAgICAgKi9cbiAgICAgICAgY29uc3Qgcm91dGVySW5zcGVjdG9ySWQgPSAncm91dGVyLWluc3BlY3RvcjonICsgaWQ7XG4gICAgICAgIGFwaS5hZGRJbnNwZWN0b3Ioe1xuICAgICAgICAgICAgaWQ6IHJvdXRlckluc3BlY3RvcklkLFxuICAgICAgICAgICAgbGFiZWw6ICdSb3V0ZXMnICsgKGlkID8gJyAnICsgaWQgOiAnJyksXG4gICAgICAgICAgICBpY29uOiAnYm9vaycsXG4gICAgICAgICAgICB0cmVlRmlsdGVyUGxhY2Vob2xkZXI6ICdTZWFyY2ggcm91dGVzJyxcbiAgICAgICAgfSk7XG4gICAgICAgIGZ1bmN0aW9uIHJlZnJlc2hSb3V0ZXNWaWV3KCkge1xuICAgICAgICAgICAgLy8gdGhlIHJvdXRlcyB2aWV3IGlzbid0IGFjdGl2ZVxuICAgICAgICAgICAgaWYgKCFhY3RpdmVSb3V0ZXNQYXlsb2FkKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBhY3RpdmVSb3V0ZXNQYXlsb2FkO1xuICAgICAgICAgICAgLy8gY2hpbGRyZW4gcm91dGVzIHdpbGwgYXBwZWFyIGFzIG5lc3RlZFxuICAgICAgICAgICAgbGV0IHJvdXRlcyA9IG1hdGNoZXIuZ2V0Um91dGVzKCkuZmlsdGVyKHJvdXRlID0+ICFyb3V0ZS5wYXJlbnQgfHxcbiAgICAgICAgICAgICAgICAvLyB0aGVzZSByb3V0ZXMgaGF2ZSBhIHBhcmVudCB3aXRoIG5vIGNvbXBvbmVudCB3aGljaCB3aWxsIG5vdCBhcHBlYXIgaW4gdGhlIHZpZXdcbiAgICAgICAgICAgICAgICAvLyB0aGVyZWZvcmUgd2Ugc3RpbGwgbmVlZCB0byBpbmNsdWRlIHRoZW1cbiAgICAgICAgICAgICAgICAhcm91dGUucGFyZW50LnJlY29yZC5jb21wb25lbnRzKTtcbiAgICAgICAgICAgIC8vIHJlc2V0IG1hdGNoIHN0YXRlIHRvIGZhbHNlXG4gICAgICAgICAgICByb3V0ZXMuZm9yRWFjaChyZXNldE1hdGNoU3RhdGVPblJvdXRlUmVjb3JkKTtcbiAgICAgICAgICAgIC8vIGFwcGx5IGEgbWF0Y2ggc3RhdGUgaWYgdGhlcmUgaXMgYSBwYXlsb2FkXG4gICAgICAgICAgICBpZiAocGF5bG9hZC5maWx0ZXIpIHtcbiAgICAgICAgICAgICAgICByb3V0ZXMgPSByb3V0ZXMuZmlsdGVyKHJvdXRlID0+IFxuICAgICAgICAgICAgICAgIC8vIHNhdmUgbWF0Y2hlcyBzdGF0ZSBiYXNlZCBvbiB0aGUgcGF5bG9hZFxuICAgICAgICAgICAgICAgIGlzUm91dGVNYXRjaGluZyhyb3V0ZSwgcGF5bG9hZC5maWx0ZXIudG9Mb3dlckNhc2UoKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gbWFyayBhY3RpdmUgcm91dGVzXG4gICAgICAgICAgICByb3V0ZXMuZm9yRWFjaChyb3V0ZSA9PiBtYXJrUm91dGVSZWNvcmRBY3RpdmUocm91dGUsIHJvdXRlci5jdXJyZW50Um91dGUudmFsdWUpKTtcbiAgICAgICAgICAgIHBheWxvYWQucm9vdE5vZGVzID0gcm91dGVzLm1hcChmb3JtYXRSb3V0ZVJlY29yZEZvckluc3BlY3Rvcik7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGFjdGl2ZVJvdXRlc1BheWxvYWQ7XG4gICAgICAgIGFwaS5vbi5nZXRJbnNwZWN0b3JUcmVlKHBheWxvYWQgPT4ge1xuICAgICAgICAgICAgYWN0aXZlUm91dGVzUGF5bG9hZCA9IHBheWxvYWQ7XG4gICAgICAgICAgICBpZiAocGF5bG9hZC5hcHAgPT09IGFwcCAmJiBwYXlsb2FkLmluc3BlY3RvcklkID09PSByb3V0ZXJJbnNwZWN0b3JJZCkge1xuICAgICAgICAgICAgICAgIHJlZnJlc2hSb3V0ZXNWaWV3KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvKipcbiAgICAgICAgICogRGlzcGxheSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgY3VycmVudGx5IHNlbGVjdGVkIHJvdXRlIHJlY29yZFxuICAgICAgICAgKi9cbiAgICAgICAgYXBpLm9uLmdldEluc3BlY3RvclN0YXRlKHBheWxvYWQgPT4ge1xuICAgICAgICAgICAgaWYgKHBheWxvYWQuYXBwID09PSBhcHAgJiYgcGF5bG9hZC5pbnNwZWN0b3JJZCA9PT0gcm91dGVySW5zcGVjdG9ySWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByb3V0ZXMgPSBtYXRjaGVyLmdldFJvdXRlcygpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJvdXRlID0gcm91dGVzLmZpbmQocm91dGUgPT4gcm91dGUucmVjb3JkLl9fdmRfaWQgPT09IHBheWxvYWQubm9kZUlkKTtcbiAgICAgICAgICAgICAgICBpZiAocm91dGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcGF5bG9hZC5zdGF0ZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IGZvcm1hdFJvdXRlUmVjb3JkTWF0Y2hlckZvclN0YXRlSW5zcGVjdG9yKHJvdXRlKSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBhcGkuc2VuZEluc3BlY3RvclRyZWUocm91dGVySW5zcGVjdG9ySWQpO1xuICAgICAgICBhcGkuc2VuZEluc3BlY3RvclN0YXRlKHJvdXRlckluc3BlY3RvcklkKTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIG1vZGlmaWVyRm9yS2V5KGtleSkge1xuICAgIGlmIChrZXkub3B0aW9uYWwpIHtcbiAgICAgICAgcmV0dXJuIGtleS5yZXBlYXRhYmxlID8gJyonIDogJz8nO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGtleS5yZXBlYXRhYmxlID8gJysnIDogJyc7XG4gICAgfVxufVxuZnVuY3Rpb24gZm9ybWF0Um91dGVSZWNvcmRNYXRjaGVyRm9yU3RhdGVJbnNwZWN0b3Iocm91dGUpIHtcbiAgICBjb25zdCB7IHJlY29yZCB9ID0gcm91dGU7XG4gICAgY29uc3QgZmllbGRzID0gW1xuICAgICAgICB7IGVkaXRhYmxlOiBmYWxzZSwga2V5OiAncGF0aCcsIHZhbHVlOiByZWNvcmQucGF0aCB9LFxuICAgIF07XG4gICAgaWYgKHJlY29yZC5uYW1lICE9IG51bGwpIHtcbiAgICAgICAgZmllbGRzLnB1c2goe1xuICAgICAgICAgICAgZWRpdGFibGU6IGZhbHNlLFxuICAgICAgICAgICAga2V5OiAnbmFtZScsXG4gICAgICAgICAgICB2YWx1ZTogcmVjb3JkLm5hbWUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmaWVsZHMucHVzaCh7IGVkaXRhYmxlOiBmYWxzZSwga2V5OiAncmVnZXhwJywgdmFsdWU6IHJvdXRlLnJlIH0pO1xuICAgIGlmIChyb3V0ZS5rZXlzLmxlbmd0aCkge1xuICAgICAgICBmaWVsZHMucHVzaCh7XG4gICAgICAgICAgICBlZGl0YWJsZTogZmFsc2UsXG4gICAgICAgICAgICBrZXk6ICdrZXlzJyxcbiAgICAgICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICAgICAgX2N1c3RvbToge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICByZWFkT25seTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogcm91dGUua2V5c1xuICAgICAgICAgICAgICAgICAgICAgICAgLm1hcChrZXkgPT4gYCR7a2V5Lm5hbWV9JHttb2RpZmllckZvcktleShrZXkpfWApXG4gICAgICAgICAgICAgICAgICAgICAgICAuam9pbignICcpLFxuICAgICAgICAgICAgICAgICAgICB0b29sdGlwOiAnUGFyYW0ga2V5cycsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiByb3V0ZS5rZXlzLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKHJlY29yZC5yZWRpcmVjdCAhPSBudWxsKSB7XG4gICAgICAgIGZpZWxkcy5wdXNoKHtcbiAgICAgICAgICAgIGVkaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIGtleTogJ3JlZGlyZWN0JyxcbiAgICAgICAgICAgIHZhbHVlOiByZWNvcmQucmVkaXJlY3QsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAocm91dGUuYWxpYXMubGVuZ3RoKSB7XG4gICAgICAgIGZpZWxkcy5wdXNoKHtcbiAgICAgICAgICAgIGVkaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIGtleTogJ2FsaWFzZXMnLFxuICAgICAgICAgICAgdmFsdWU6IHJvdXRlLmFsaWFzLm1hcChhbGlhcyA9PiBhbGlhcy5yZWNvcmQucGF0aCksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoT2JqZWN0LmtleXMocm91dGUucmVjb3JkLm1ldGEpLmxlbmd0aCkge1xuICAgICAgICBmaWVsZHMucHVzaCh7XG4gICAgICAgICAgICBlZGl0YWJsZTogZmFsc2UsXG4gICAgICAgICAgICBrZXk6ICdtZXRhJyxcbiAgICAgICAgICAgIHZhbHVlOiByb3V0ZS5yZWNvcmQubWV0YSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZpZWxkcy5wdXNoKHtcbiAgICAgICAga2V5OiAnc2NvcmUnLFxuICAgICAgICBlZGl0YWJsZTogZmFsc2UsXG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICBfY3VzdG9tOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogbnVsbCxcbiAgICAgICAgICAgICAgICByZWFkT25seTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiByb3V0ZS5zY29yZS5tYXAoc2NvcmUgPT4gc2NvcmUuam9pbignLCAnKSkuam9pbignIHwgJyksXG4gICAgICAgICAgICAgICAgdG9vbHRpcDogJ1Njb3JlIHVzZWQgdG8gc29ydCByb3V0ZXMnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiByb3V0ZS5zY29yZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGZpZWxkcztcbn1cbi8qKlxuICogRXh0cmFjdGVkIGZyb20gdGFpbHdpbmQgcGFsZXR0ZVxuICovXG5jb25zdCBQSU5LXzUwMCA9IDB4ZWM0ODk5O1xuY29uc3QgQkxVRV82MDAgPSAweDI1NjNlYjtcbmNvbnN0IExJTUVfNTAwID0gMHg4NGNjMTY7XG5jb25zdCBDWUFOXzQwMCA9IDB4MjJkM2VlO1xuY29uc3QgT1JBTkdFXzQwMCA9IDB4ZmI5MjNjO1xuLy8gY29uc3QgR1JBWV8xMDAgPSAweGY0ZjRmNVxuY29uc3QgREFSSyA9IDB4NjY2NjY2O1xuY29uc3QgUkVEXzEwMCA9IDB4ZmVlMmUyO1xuY29uc3QgUkVEXzcwMCA9IDB4YjkxYzFjO1xuZnVuY3Rpb24gZm9ybWF0Um91dGVSZWNvcmRGb3JJbnNwZWN0b3Iocm91dGUpIHtcbiAgICBjb25zdCB0YWdzID0gW107XG4gICAgY29uc3QgeyByZWNvcmQgfSA9IHJvdXRlO1xuICAgIGlmIChyZWNvcmQubmFtZSAhPSBudWxsKSB7XG4gICAgICAgIHRhZ3MucHVzaCh7XG4gICAgICAgICAgICBsYWJlbDogU3RyaW5nKHJlY29yZC5uYW1lKSxcbiAgICAgICAgICAgIHRleHRDb2xvcjogMCxcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogQ1lBTl80MDAsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAocmVjb3JkLmFsaWFzT2YpIHtcbiAgICAgICAgdGFncy5wdXNoKHtcbiAgICAgICAgICAgIGxhYmVsOiAnYWxpYXMnLFxuICAgICAgICAgICAgdGV4dENvbG9yOiAwLFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBPUkFOR0VfNDAwLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKHJvdXRlLl9fdmRfbWF0Y2gpIHtcbiAgICAgICAgdGFncy5wdXNoKHtcbiAgICAgICAgICAgIGxhYmVsOiAnbWF0Y2hlcycsXG4gICAgICAgICAgICB0ZXh0Q29sb3I6IDAsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFBJTktfNTAwLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKHJvdXRlLl9fdmRfZXhhY3RBY3RpdmUpIHtcbiAgICAgICAgdGFncy5wdXNoKHtcbiAgICAgICAgICAgIGxhYmVsOiAnZXhhY3QnLFxuICAgICAgICAgICAgdGV4dENvbG9yOiAwLFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBMSU1FXzUwMCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChyb3V0ZS5fX3ZkX2FjdGl2ZSkge1xuICAgICAgICB0YWdzLnB1c2goe1xuICAgICAgICAgICAgbGFiZWw6ICdhY3RpdmUnLFxuICAgICAgICAgICAgdGV4dENvbG9yOiAwLFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBCTFVFXzYwMCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChyZWNvcmQucmVkaXJlY3QpIHtcbiAgICAgICAgdGFncy5wdXNoKHtcbiAgICAgICAgICAgIGxhYmVsOiB0eXBlb2YgcmVjb3JkLnJlZGlyZWN0ID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgICAgID8gYHJlZGlyZWN0OiAke3JlY29yZC5yZWRpcmVjdH1gXG4gICAgICAgICAgICAgICAgOiAncmVkaXJlY3RzJyxcbiAgICAgICAgICAgIHRleHRDb2xvcjogMHhmZmZmZmYsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IERBUkssXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBhZGQgYW4gaWQgdG8gYmUgYWJsZSB0byBzZWxlY3QgaXQuIFVzaW5nIHRoZSBgcGF0aGAgaXMgbm90IHBvc3NpYmxlIGJlY2F1c2VcbiAgICAvLyBlbXB0eSBwYXRoIGNoaWxkcmVuIHdvdWxkIGNvbGxpZGUgd2l0aCB0aGVpciBwYXJlbnRzXG4gICAgbGV0IGlkID0gcmVjb3JkLl9fdmRfaWQ7XG4gICAgaWYgKGlkID09IG51bGwpIHtcbiAgICAgICAgaWQgPSBTdHJpbmcocm91dGVSZWNvcmRJZCsrKTtcbiAgICAgICAgcmVjb3JkLl9fdmRfaWQgPSBpZDtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaWQsXG4gICAgICAgIGxhYmVsOiByZWNvcmQucGF0aCxcbiAgICAgICAgdGFncyxcbiAgICAgICAgY2hpbGRyZW46IHJvdXRlLmNoaWxkcmVuLm1hcChmb3JtYXRSb3V0ZVJlY29yZEZvckluc3BlY3RvciksXG4gICAgfTtcbn1cbi8vICBpbmNyZW1lbnRhbCBpZCBmb3Igcm91dGUgcmVjb3JkcyBhbmQgaW5zcGVjdG9yIHN0YXRlXG5sZXQgcm91dGVSZWNvcmRJZCA9IDA7XG5jb25zdCBFWFRSQUNUX1JFR0VYUF9SRSA9IC9eXFwvKC4qKVxcLyhbYS16XSopJC87XG5mdW5jdGlvbiBtYXJrUm91dGVSZWNvcmRBY3RpdmUocm91dGUsIGN1cnJlbnRSb3V0ZSkge1xuICAgIC8vIG5vIHJvdXRlIHdpbGwgYmUgYWN0aXZlIGlmIG1hdGNoZWQgaXMgZW1wdHlcbiAgICAvLyByZXNldCB0aGUgbWF0Y2hpbmcgc3RhdGVcbiAgICBjb25zdCBpc0V4YWN0QWN0aXZlID0gY3VycmVudFJvdXRlLm1hdGNoZWQubGVuZ3RoICYmXG4gICAgICAgIGlzU2FtZVJvdXRlUmVjb3JkKGN1cnJlbnRSb3V0ZS5tYXRjaGVkW2N1cnJlbnRSb3V0ZS5tYXRjaGVkLmxlbmd0aCAtIDFdLCByb3V0ZS5yZWNvcmQpO1xuICAgIHJvdXRlLl9fdmRfZXhhY3RBY3RpdmUgPSByb3V0ZS5fX3ZkX2FjdGl2ZSA9IGlzRXhhY3RBY3RpdmU7XG4gICAgaWYgKCFpc0V4YWN0QWN0aXZlKSB7XG4gICAgICAgIHJvdXRlLl9fdmRfYWN0aXZlID0gY3VycmVudFJvdXRlLm1hdGNoZWQuc29tZShtYXRjaCA9PiBpc1NhbWVSb3V0ZVJlY29yZChtYXRjaCwgcm91dGUucmVjb3JkKSk7XG4gICAgfVxuICAgIHJvdXRlLmNoaWxkcmVuLmZvckVhY2goY2hpbGRSb3V0ZSA9PiBtYXJrUm91dGVSZWNvcmRBY3RpdmUoY2hpbGRSb3V0ZSwgY3VycmVudFJvdXRlKSk7XG59XG5mdW5jdGlvbiByZXNldE1hdGNoU3RhdGVPblJvdXRlUmVjb3JkKHJvdXRlKSB7XG4gICAgcm91dGUuX192ZF9tYXRjaCA9IGZhbHNlO1xuICAgIHJvdXRlLmNoaWxkcmVuLmZvckVhY2gocmVzZXRNYXRjaFN0YXRlT25Sb3V0ZVJlY29yZCk7XG59XG5mdW5jdGlvbiBpc1JvdXRlTWF0Y2hpbmcocm91dGUsIGZpbHRlcikge1xuICAgIGNvbnN0IGZvdW5kID0gU3RyaW5nKHJvdXRlLnJlKS5tYXRjaChFWFRSQUNUX1JFR0VYUF9SRSk7XG4gICAgcm91dGUuX192ZF9tYXRjaCA9IGZhbHNlO1xuICAgIGlmICghZm91bmQgfHwgZm91bmQubGVuZ3RoIDwgMykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8vIHVzZSBhIHJlZ2V4cCB3aXRob3V0ICQgYXQgdGhlIGVuZCB0byBtYXRjaCBuZXN0ZWQgcm91dGVzIGJldHRlclxuICAgIGNvbnN0IG5vbkVuZGluZ1JFID0gbmV3IFJlZ0V4cChmb3VuZFsxXS5yZXBsYWNlKC9cXCQkLywgJycpLCBmb3VuZFsyXSk7XG4gICAgaWYgKG5vbkVuZGluZ1JFLnRlc3QoZmlsdGVyKSkge1xuICAgICAgICAvLyBtYXJrIGNoaWxkcmVuIGFzIG1hdGNoZXNcbiAgICAgICAgcm91dGUuY2hpbGRyZW4uZm9yRWFjaChjaGlsZCA9PiBpc1JvdXRlTWF0Y2hpbmcoY2hpbGQsIGZpbHRlcikpO1xuICAgICAgICAvLyBleGNlcHRpb24gY2FzZTogYC9gXG4gICAgICAgIGlmIChyb3V0ZS5yZWNvcmQucGF0aCAhPT0gJy8nIHx8IGZpbHRlciA9PT0gJy8nKSB7XG4gICAgICAgICAgICByb3V0ZS5fX3ZkX21hdGNoID0gcm91dGUucmUudGVzdChmaWx0ZXIpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaGlkZSB0aGUgLyByb3V0ZVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IHBhdGggPSByb3V0ZS5yZWNvcmQucGF0aC50b0xvd2VyQ2FzZSgpO1xuICAgIGNvbnN0IGRlY29kZWRQYXRoID0gZGVjb2RlKHBhdGgpO1xuICAgIC8vIGFsc28gYWxsb3cgcGFydGlhbCBtYXRjaGluZyBvbiB0aGUgcGF0aFxuICAgIGlmICghZmlsdGVyLnN0YXJ0c1dpdGgoJy8nKSAmJlxuICAgICAgICAoZGVjb2RlZFBhdGguaW5jbHVkZXMoZmlsdGVyKSB8fCBwYXRoLmluY2x1ZGVzKGZpbHRlcikpKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICBpZiAoZGVjb2RlZFBhdGguc3RhcnRzV2l0aChmaWx0ZXIpIHx8IHBhdGguc3RhcnRzV2l0aChmaWx0ZXIpKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICBpZiAocm91dGUucmVjb3JkLm5hbWUgJiYgU3RyaW5nKHJvdXRlLnJlY29yZC5uYW1lKS5pbmNsdWRlcyhmaWx0ZXIpKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICByZXR1cm4gcm91dGUuY2hpbGRyZW4uc29tZShjaGlsZCA9PiBpc1JvdXRlTWF0Y2hpbmcoY2hpbGQsIGZpbHRlcikpO1xufVxuZnVuY3Rpb24gb21pdChvYmosIGtleXMpIHtcbiAgICBjb25zdCByZXQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmopIHtcbiAgICAgICAgaWYgKCFrZXlzLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgICAgIHJldFtrZXldID0gb2JqW2tleV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgUm91dGVyIGluc3RhbmNlIHRoYXQgY2FuIGJlIHVzZWQgYnkgYSBWdWUgYXBwLlxuICpcbiAqIEBwYXJhbSBvcHRpb25zIC0ge0BsaW5rIFJvdXRlck9wdGlvbnN9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVJvdXRlcihvcHRpb25zKSB7XG4gICAgY29uc3QgbWF0Y2hlciA9IGNyZWF0ZVJvdXRlck1hdGNoZXIob3B0aW9ucy5yb3V0ZXMsIG9wdGlvbnMpO1xuICAgIGNvbnN0IHBhcnNlUXVlcnkkMSA9IG9wdGlvbnMucGFyc2VRdWVyeSB8fCBwYXJzZVF1ZXJ5O1xuICAgIGNvbnN0IHN0cmluZ2lmeVF1ZXJ5JDEgPSBvcHRpb25zLnN0cmluZ2lmeVF1ZXJ5IHx8IHN0cmluZ2lmeVF1ZXJ5O1xuICAgIGNvbnN0IHJvdXRlckhpc3RvcnkgPSBvcHRpb25zLmhpc3Rvcnk7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhcm91dGVySGlzdG9yeSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQcm92aWRlIHRoZSBcImhpc3RvcnlcIiBvcHRpb24gd2hlbiBjYWxsaW5nIFwiY3JlYXRlUm91dGVyKClcIjonICtcbiAgICAgICAgICAgICcgaHR0cHM6Ly9uZXh0LnJvdXRlci52dWVqcy5vcmcvYXBpLyNoaXN0b3J5LicpO1xuICAgIGNvbnN0IGJlZm9yZUd1YXJkcyA9IHVzZUNhbGxiYWNrcygpO1xuICAgIGNvbnN0IGJlZm9yZVJlc29sdmVHdWFyZHMgPSB1c2VDYWxsYmFja3MoKTtcbiAgICBjb25zdCBhZnRlckd1YXJkcyA9IHVzZUNhbGxiYWNrcygpO1xuICAgIGNvbnN0IGN1cnJlbnRSb3V0ZSA9IHNoYWxsb3dSZWYoU1RBUlRfTE9DQVRJT05fTk9STUFMSVpFRCk7XG4gICAgbGV0IHBlbmRpbmdMb2NhdGlvbiA9IFNUQVJUX0xPQ0FUSU9OX05PUk1BTElaRUQ7XG4gICAgLy8gbGVhdmUgdGhlIHNjcm9sbFJlc3RvcmF0aW9uIGlmIG5vIHNjcm9sbEJlaGF2aW9yIGlzIHByb3ZpZGVkXG4gICAgaWYgKGlzQnJvd3NlciAmJiBvcHRpb25zLnNjcm9sbEJlaGF2aW9yICYmICdzY3JvbGxSZXN0b3JhdGlvbicgaW4gaGlzdG9yeSkge1xuICAgICAgICBoaXN0b3J5LnNjcm9sbFJlc3RvcmF0aW9uID0gJ21hbnVhbCc7XG4gICAgfVxuICAgIGNvbnN0IG5vcm1hbGl6ZVBhcmFtcyA9IGFwcGx5VG9QYXJhbXMuYmluZChudWxsLCBwYXJhbVZhbHVlID0+ICcnICsgcGFyYW1WYWx1ZSk7XG4gICAgY29uc3QgZW5jb2RlUGFyYW1zID0gYXBwbHlUb1BhcmFtcy5iaW5kKG51bGwsIGVuY29kZVBhcmFtKTtcbiAgICBjb25zdCBkZWNvZGVQYXJhbXMgPSBcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiBpbnRlbnRpb25hbGx5IGF2b2lkIHRoZSB0eXBlIGNoZWNrXG4gICAgYXBwbHlUb1BhcmFtcy5iaW5kKG51bGwsIGRlY29kZSk7XG4gICAgZnVuY3Rpb24gYWRkUm91dGUocGFyZW50T3JSb3V0ZSwgcm91dGUpIHtcbiAgICAgICAgbGV0IHBhcmVudDtcbiAgICAgICAgbGV0IHJlY29yZDtcbiAgICAgICAgaWYgKGlzUm91dGVOYW1lKHBhcmVudE9yUm91dGUpKSB7XG4gICAgICAgICAgICBwYXJlbnQgPSBtYXRjaGVyLmdldFJlY29yZE1hdGNoZXIocGFyZW50T3JSb3V0ZSk7XG4gICAgICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFwYXJlbnQpIHtcbiAgICAgICAgICAgICAgICB3YXJuKGBQYXJlbnQgcm91dGUgXCIke1N0cmluZyhwYXJlbnRPclJvdXRlKX1cIiBub3QgZm91bmQgd2hlbiBhZGRpbmcgY2hpbGQgcm91dGVgLCByb3V0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWNvcmQgPSByb3V0ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlY29yZCA9IHBhcmVudE9yUm91dGU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1hdGNoZXIuYWRkUm91dGUocmVjb3JkLCBwYXJlbnQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZW1vdmVSb3V0ZShuYW1lKSB7XG4gICAgICAgIGNvbnN0IHJlY29yZE1hdGNoZXIgPSBtYXRjaGVyLmdldFJlY29yZE1hdGNoZXIobmFtZSk7XG4gICAgICAgIGlmIChyZWNvcmRNYXRjaGVyKSB7XG4gICAgICAgICAgICBtYXRjaGVyLnJlbW92ZVJvdXRlKHJlY29yZE1hdGNoZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgd2FybihgQ2Fubm90IHJlbW92ZSBub24tZXhpc3RlbnQgcm91dGUgXCIke1N0cmluZyhuYW1lKX1cImApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFJvdXRlcygpIHtcbiAgICAgICAgcmV0dXJuIG1hdGNoZXIuZ2V0Um91dGVzKCkubWFwKHJvdXRlTWF0Y2hlciA9PiByb3V0ZU1hdGNoZXIucmVjb3JkKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaGFzUm91dGUobmFtZSkge1xuICAgICAgICByZXR1cm4gISFtYXRjaGVyLmdldFJlY29yZE1hdGNoZXIobmFtZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlc29sdmUocmF3TG9jYXRpb24sIGN1cnJlbnRMb2NhdGlvbikge1xuICAgICAgICAvLyBjb25zdCBvYmplY3RMb2NhdGlvbiA9IHJvdXRlckxvY2F0aW9uQXNPYmplY3QocmF3TG9jYXRpb24pXG4gICAgICAgIC8vIHdlIGNyZWF0ZSBhIGNvcHkgdG8gbW9kaWZ5IGl0IGxhdGVyXG4gICAgICAgIGN1cnJlbnRMb2NhdGlvbiA9IGFzc2lnbih7fSwgY3VycmVudExvY2F0aW9uIHx8IGN1cnJlbnRSb3V0ZS52YWx1ZSk7XG4gICAgICAgIGlmICh0eXBlb2YgcmF3TG9jYXRpb24gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBjb25zdCBsb2NhdGlvbk5vcm1hbGl6ZWQgPSBwYXJzZVVSTChwYXJzZVF1ZXJ5JDEsIHJhd0xvY2F0aW9uLCBjdXJyZW50TG9jYXRpb24ucGF0aCk7XG4gICAgICAgICAgICBjb25zdCBtYXRjaGVkUm91dGUgPSBtYXRjaGVyLnJlc29sdmUoeyBwYXRoOiBsb2NhdGlvbk5vcm1hbGl6ZWQucGF0aCB9LCBjdXJyZW50TG9jYXRpb24pO1xuICAgICAgICAgICAgY29uc3QgaHJlZiA9IHJvdXRlckhpc3RvcnkuY3JlYXRlSHJlZihsb2NhdGlvbk5vcm1hbGl6ZWQuZnVsbFBhdGgpO1xuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgIGlmIChocmVmLnN0YXJ0c1dpdGgoJy8vJykpXG4gICAgICAgICAgICAgICAgICAgIHdhcm4oYExvY2F0aW9uIFwiJHtyYXdMb2NhdGlvbn1cIiByZXNvbHZlZCB0byBcIiR7aHJlZn1cIi4gQSByZXNvbHZlZCBsb2NhdGlvbiBjYW5ub3Qgc3RhcnQgd2l0aCBtdWx0aXBsZSBzbGFzaGVzLmApO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFtYXRjaGVkUm91dGUubWF0Y2hlZC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgd2FybihgTm8gbWF0Y2ggZm91bmQgZm9yIGxvY2F0aW9uIHdpdGggcGF0aCBcIiR7cmF3TG9jYXRpb259XCJgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBsb2NhdGlvbk5vcm1hbGl6ZWQgaXMgYWx3YXlzIGEgbmV3IG9iamVjdFxuICAgICAgICAgICAgcmV0dXJuIGFzc2lnbihsb2NhdGlvbk5vcm1hbGl6ZWQsIG1hdGNoZWRSb3V0ZSwge1xuICAgICAgICAgICAgICAgIHBhcmFtczogZGVjb2RlUGFyYW1zKG1hdGNoZWRSb3V0ZS5wYXJhbXMpLFxuICAgICAgICAgICAgICAgIGhhc2g6IGRlY29kZShsb2NhdGlvbk5vcm1hbGl6ZWQuaGFzaCksXG4gICAgICAgICAgICAgICAgcmVkaXJlY3RlZEZyb206IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBocmVmLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhaXNSb3V0ZUxvY2F0aW9uKHJhd0xvY2F0aW9uKSkge1xuICAgICAgICAgICAgd2Fybihgcm91dGVyLnJlc29sdmUoKSB3YXMgcGFzc2VkIGFuIGludmFsaWQgbG9jYXRpb24uIFRoaXMgd2lsbCBmYWlsIGluIHByb2R1Y3Rpb24uXFxuLSBMb2NhdGlvbjpgLCByYXdMb2NhdGlvbik7XG4gICAgICAgICAgICByYXdMb2NhdGlvbiA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIGxldCBtYXRjaGVyTG9jYXRpb247XG4gICAgICAgIC8vIHBhdGggY291bGQgYmUgcmVsYXRpdmUgaW4gb2JqZWN0IGFzIHdlbGxcbiAgICAgICAgaWYgKHJhd0xvY2F0aW9uLnBhdGggIT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxuICAgICAgICAgICAgICAgICdwYXJhbXMnIGluIHJhd0xvY2F0aW9uICYmXG4gICAgICAgICAgICAgICAgISgnbmFtZScgaW4gcmF3TG9jYXRpb24pICYmXG4gICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogdGhlIHR5cGUgaXMgbmV2ZXJcbiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhyYXdMb2NhdGlvbi5wYXJhbXMpLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHdhcm4oYFBhdGggXCIke3Jhd0xvY2F0aW9uLnBhdGh9XCIgd2FzIHBhc3NlZCB3aXRoIHBhcmFtcyBidXQgdGhleSB3aWxsIGJlIGlnbm9yZWQuIFVzZSBhIG5hbWVkIHJvdXRlIGFsb25nc2lkZSBwYXJhbXMgaW5zdGVhZC5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1hdGNoZXJMb2NhdGlvbiA9IGFzc2lnbih7fSwgcmF3TG9jYXRpb24sIHtcbiAgICAgICAgICAgICAgICBwYXRoOiBwYXJzZVVSTChwYXJzZVF1ZXJ5JDEsIHJhd0xvY2F0aW9uLnBhdGgsIGN1cnJlbnRMb2NhdGlvbi5wYXRoKS5wYXRoLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyByZW1vdmUgYW55IG51bGxpc2ggcGFyYW1cbiAgICAgICAgICAgIGNvbnN0IHRhcmdldFBhcmFtcyA9IGFzc2lnbih7fSwgcmF3TG9jYXRpb24ucGFyYW1zKTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRhcmdldFBhcmFtcykge1xuICAgICAgICAgICAgICAgIGlmICh0YXJnZXRQYXJhbXNba2V5XSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0YXJnZXRQYXJhbXNba2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBwYXNzIGVuY29kZWQgdmFsdWVzIHRvIHRoZSBtYXRjaGVyLCBzbyBpdCBjYW4gcHJvZHVjZSBlbmNvZGVkIHBhdGggYW5kIGZ1bGxQYXRoXG4gICAgICAgICAgICBtYXRjaGVyTG9jYXRpb24gPSBhc3NpZ24oe30sIHJhd0xvY2F0aW9uLCB7XG4gICAgICAgICAgICAgICAgcGFyYW1zOiBlbmNvZGVQYXJhbXModGFyZ2V0UGFyYW1zKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gY3VycmVudCBsb2NhdGlvbiBwYXJhbXMgYXJlIGRlY29kZWQsIHdlIG5lZWQgdG8gZW5jb2RlIHRoZW0gaW4gY2FzZSB0aGVcbiAgICAgICAgICAgIC8vIG1hdGNoZXIgbWVyZ2VzIHRoZSBwYXJhbXNcbiAgICAgICAgICAgIGN1cnJlbnRMb2NhdGlvbi5wYXJhbXMgPSBlbmNvZGVQYXJhbXMoY3VycmVudExvY2F0aW9uLnBhcmFtcyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbWF0Y2hlZFJvdXRlID0gbWF0Y2hlci5yZXNvbHZlKG1hdGNoZXJMb2NhdGlvbiwgY3VycmVudExvY2F0aW9uKTtcbiAgICAgICAgY29uc3QgaGFzaCA9IHJhd0xvY2F0aW9uLmhhc2ggfHwgJyc7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgaGFzaCAmJiAhaGFzaC5zdGFydHNXaXRoKCcjJykpIHtcbiAgICAgICAgICAgIHdhcm4oYEEgXFxgaGFzaFxcYCBzaG91bGQgYWx3YXlzIHN0YXJ0IHdpdGggdGhlIGNoYXJhY3RlciBcIiNcIi4gUmVwbGFjZSBcIiR7aGFzaH1cIiB3aXRoIFwiIyR7aGFzaH1cIi5gKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0aGUgbWF0Y2hlciBtaWdodCBoYXZlIG1lcmdlZCBjdXJyZW50IGxvY2F0aW9uIHBhcmFtcywgc29cbiAgICAgICAgLy8gd2UgbmVlZCB0byBydW4gdGhlIGRlY29kaW5nIGFnYWluXG4gICAgICAgIG1hdGNoZWRSb3V0ZS5wYXJhbXMgPSBub3JtYWxpemVQYXJhbXMoZGVjb2RlUGFyYW1zKG1hdGNoZWRSb3V0ZS5wYXJhbXMpKTtcbiAgICAgICAgY29uc3QgZnVsbFBhdGggPSBzdHJpbmdpZnlVUkwoc3RyaW5naWZ5UXVlcnkkMSwgYXNzaWduKHt9LCByYXdMb2NhdGlvbiwge1xuICAgICAgICAgICAgaGFzaDogZW5jb2RlSGFzaChoYXNoKSxcbiAgICAgICAgICAgIHBhdGg6IG1hdGNoZWRSb3V0ZS5wYXRoLFxuICAgICAgICB9KSk7XG4gICAgICAgIGNvbnN0IGhyZWYgPSByb3V0ZXJIaXN0b3J5LmNyZWF0ZUhyZWYoZnVsbFBhdGgpO1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgICBpZiAoaHJlZi5zdGFydHNXaXRoKCcvLycpKSB7XG4gICAgICAgICAgICAgICAgd2FybihgTG9jYXRpb24gXCIke3Jhd0xvY2F0aW9ufVwiIHJlc29sdmVkIHRvIFwiJHtocmVmfVwiLiBBIHJlc29sdmVkIGxvY2F0aW9uIGNhbm5vdCBzdGFydCB3aXRoIG11bHRpcGxlIHNsYXNoZXMuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghbWF0Y2hlZFJvdXRlLm1hdGNoZWQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgd2FybihgTm8gbWF0Y2ggZm91bmQgZm9yIGxvY2F0aW9uIHdpdGggcGF0aCBcIiR7cmF3TG9jYXRpb24ucGF0aCAhPSBudWxsID8gcmF3TG9jYXRpb24ucGF0aCA6IHJhd0xvY2F0aW9ufVwiYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFzc2lnbih7XG4gICAgICAgICAgICBmdWxsUGF0aCxcbiAgICAgICAgICAgIC8vIGtlZXAgdGhlIGhhc2ggZW5jb2RlZCBzbyBmdWxsUGF0aCBpcyBlZmZlY3RpdmVseSBwYXRoICsgZW5jb2RlZFF1ZXJ5ICtcbiAgICAgICAgICAgIC8vIGhhc2hcbiAgICAgICAgICAgIGhhc2gsXG4gICAgICAgICAgICBxdWVyeTogXG4gICAgICAgICAgICAvLyBpZiB0aGUgdXNlciBpcyB1c2luZyBhIGN1c3RvbSBxdWVyeSBsaWIgbGlrZSBxcywgd2UgbWlnaHQgaGF2ZVxuICAgICAgICAgICAgLy8gbmVzdGVkIG9iamVjdHMsIHNvIHdlIGtlZXAgdGhlIHF1ZXJ5IGFzIGlzLCBtZWFuaW5nIGl0IGNhbiBjb250YWluXG4gICAgICAgICAgICAvLyBudW1iZXJzIGF0IGAkcm91dGUucXVlcnlgLCBidXQgYXQgdGhlIHBvaW50LCB0aGUgdXNlciB3aWxsIGhhdmUgdG9cbiAgICAgICAgICAgIC8vIHVzZSB0aGVpciBvd24gdHlwZSBhbnl3YXkuXG4gICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdnVlanMvcm91dGVyL2lzc3Vlcy8zMjgjaXNzdWVjb21tZW50LTY0OTQ4MTU2N1xuICAgICAgICAgICAgc3RyaW5naWZ5UXVlcnkkMSA9PT0gc3RyaW5naWZ5UXVlcnlcbiAgICAgICAgICAgICAgICA/IG5vcm1hbGl6ZVF1ZXJ5KHJhd0xvY2F0aW9uLnF1ZXJ5KVxuICAgICAgICAgICAgICAgIDogKHJhd0xvY2F0aW9uLnF1ZXJ5IHx8IHt9KSxcbiAgICAgICAgfSwgbWF0Y2hlZFJvdXRlLCB7XG4gICAgICAgICAgICByZWRpcmVjdGVkRnJvbTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgaHJlZixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGxvY2F0aW9uQXNPYmplY3QodG8pIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB0byA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgID8gcGFyc2VVUkwocGFyc2VRdWVyeSQxLCB0bywgY3VycmVudFJvdXRlLnZhbHVlLnBhdGgpXG4gICAgICAgICAgICA6IGFzc2lnbih7fSwgdG8pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjaGVja0NhbmNlbGVkTmF2aWdhdGlvbih0bywgZnJvbSkge1xuICAgICAgICBpZiAocGVuZGluZ0xvY2F0aW9uICE9PSB0bykge1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVJvdXRlckVycm9yKDggLyogRXJyb3JUeXBlcy5OQVZJR0FUSU9OX0NBTkNFTExFRCAqLywge1xuICAgICAgICAgICAgICAgIGZyb20sXG4gICAgICAgICAgICAgICAgdG8sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBwdXNoKHRvKSB7XG4gICAgICAgIHJldHVybiBwdXNoV2l0aFJlZGlyZWN0KHRvKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVwbGFjZSh0bykge1xuICAgICAgICByZXR1cm4gcHVzaChhc3NpZ24obG9jYXRpb25Bc09iamVjdCh0byksIHsgcmVwbGFjZTogdHJ1ZSB9KSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhbmRsZVJlZGlyZWN0UmVjb3JkKHRvKSB7XG4gICAgICAgIGNvbnN0IGxhc3RNYXRjaGVkID0gdG8ubWF0Y2hlZFt0by5tYXRjaGVkLmxlbmd0aCAtIDFdO1xuICAgICAgICBpZiAobGFzdE1hdGNoZWQgJiYgbGFzdE1hdGNoZWQucmVkaXJlY3QpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgcmVkaXJlY3QgfSA9IGxhc3RNYXRjaGVkO1xuICAgICAgICAgICAgbGV0IG5ld1RhcmdldExvY2F0aW9uID0gdHlwZW9mIHJlZGlyZWN0ID09PSAnZnVuY3Rpb24nID8gcmVkaXJlY3QodG8pIDogcmVkaXJlY3Q7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG5ld1RhcmdldExvY2F0aW9uID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIG5ld1RhcmdldExvY2F0aW9uID1cbiAgICAgICAgICAgICAgICAgICAgbmV3VGFyZ2V0TG9jYXRpb24uaW5jbHVkZXMoJz8nKSB8fCBuZXdUYXJnZXRMb2NhdGlvbi5pbmNsdWRlcygnIycpXG4gICAgICAgICAgICAgICAgICAgICAgICA/IChuZXdUYXJnZXRMb2NhdGlvbiA9IGxvY2F0aW9uQXNPYmplY3QobmV3VGFyZ2V0TG9jYXRpb24pKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiAvLyBmb3JjZSBlbXB0eSBwYXJhbXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHBhdGg6IG5ld1RhcmdldExvY2F0aW9uIH07XG4gICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogZm9yY2UgZW1wdHkgcGFyYW1zIHdoZW4gYSBzdHJpbmcgaXMgcGFzc2VkIHRvIGxldFxuICAgICAgICAgICAgICAgIC8vIHRoZSByb3V0ZXIgcGFyc2UgdGhlbSBhZ2FpblxuICAgICAgICAgICAgICAgIG5ld1RhcmdldExvY2F0aW9uLnBhcmFtcyA9IHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJlxuICAgICAgICAgICAgICAgIG5ld1RhcmdldExvY2F0aW9uLnBhdGggPT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgICEoJ25hbWUnIGluIG5ld1RhcmdldExvY2F0aW9uKSkge1xuICAgICAgICAgICAgICAgIHdhcm4oYEludmFsaWQgcmVkaXJlY3QgZm91bmQ6XFxuJHtKU09OLnN0cmluZ2lmeShuZXdUYXJnZXRMb2NhdGlvbiwgbnVsbCwgMil9XFxuIHdoZW4gbmF2aWdhdGluZyB0byBcIiR7dG8uZnVsbFBhdGh9XCIuIEEgcmVkaXJlY3QgbXVzdCBjb250YWluIGEgbmFtZSBvciBwYXRoLiBUaGlzIHdpbGwgYnJlYWsgaW4gcHJvZHVjdGlvbi5gKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgcmVkaXJlY3QnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhc3NpZ24oe1xuICAgICAgICAgICAgICAgIHF1ZXJ5OiB0by5xdWVyeSxcbiAgICAgICAgICAgICAgICBoYXNoOiB0by5oYXNoLFxuICAgICAgICAgICAgICAgIC8vIGF2b2lkIHRyYW5zZmVycmluZyBwYXJhbXMgaWYgdGhlIHJlZGlyZWN0IGhhcyBhIHBhdGhcbiAgICAgICAgICAgICAgICBwYXJhbXM6IG5ld1RhcmdldExvY2F0aW9uLnBhdGggIT0gbnVsbCA/IHt9IDogdG8ucGFyYW1zLFxuICAgICAgICAgICAgfSwgbmV3VGFyZ2V0TG9jYXRpb24pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHB1c2hXaXRoUmVkaXJlY3QodG8sIHJlZGlyZWN0ZWRGcm9tKSB7XG4gICAgICAgIGNvbnN0IHRhcmdldExvY2F0aW9uID0gKHBlbmRpbmdMb2NhdGlvbiA9IHJlc29sdmUodG8pKTtcbiAgICAgICAgY29uc3QgZnJvbSA9IGN1cnJlbnRSb3V0ZS52YWx1ZTtcbiAgICAgICAgY29uc3QgZGF0YSA9IHRvLnN0YXRlO1xuICAgICAgICBjb25zdCBmb3JjZSA9IHRvLmZvcmNlO1xuICAgICAgICAvLyB0byBjb3VsZCBiZSBhIHN0cmluZyB3aGVyZSBgcmVwbGFjZWAgaXMgYSBmdW5jdGlvblxuICAgICAgICBjb25zdCByZXBsYWNlID0gdG8ucmVwbGFjZSA9PT0gdHJ1ZTtcbiAgICAgICAgY29uc3Qgc2hvdWxkUmVkaXJlY3QgPSBoYW5kbGVSZWRpcmVjdFJlY29yZCh0YXJnZXRMb2NhdGlvbik7XG4gICAgICAgIGlmIChzaG91bGRSZWRpcmVjdClcbiAgICAgICAgICAgIHJldHVybiBwdXNoV2l0aFJlZGlyZWN0KGFzc2lnbihsb2NhdGlvbkFzT2JqZWN0KHNob3VsZFJlZGlyZWN0KSwge1xuICAgICAgICAgICAgICAgIHN0YXRlOiB0eXBlb2Ygc2hvdWxkUmVkaXJlY3QgPT09ICdvYmplY3QnXG4gICAgICAgICAgICAgICAgICAgID8gYXNzaWduKHt9LCBkYXRhLCBzaG91bGRSZWRpcmVjdC5zdGF0ZSlcbiAgICAgICAgICAgICAgICAgICAgOiBkYXRhLFxuICAgICAgICAgICAgICAgIGZvcmNlLFxuICAgICAgICAgICAgICAgIHJlcGxhY2UsXG4gICAgICAgICAgICB9KSwgXG4gICAgICAgICAgICAvLyBrZWVwIG9yaWdpbmFsIHJlZGlyZWN0ZWRGcm9tIGlmIGl0IGV4aXN0c1xuICAgICAgICAgICAgcmVkaXJlY3RlZEZyb20gfHwgdGFyZ2V0TG9jYXRpb24pO1xuICAgICAgICAvLyBpZiBpdCB3YXMgYSByZWRpcmVjdCB3ZSBhbHJlYWR5IGNhbGxlZCBgcHVzaFdpdGhSZWRpcmVjdGAgYWJvdmVcbiAgICAgICAgY29uc3QgdG9Mb2NhdGlvbiA9IHRhcmdldExvY2F0aW9uO1xuICAgICAgICB0b0xvY2F0aW9uLnJlZGlyZWN0ZWRGcm9tID0gcmVkaXJlY3RlZEZyb207XG4gICAgICAgIGxldCBmYWlsdXJlO1xuICAgICAgICBpZiAoIWZvcmNlICYmIGlzU2FtZVJvdXRlTG9jYXRpb24oc3RyaW5naWZ5UXVlcnkkMSwgZnJvbSwgdGFyZ2V0TG9jYXRpb24pKSB7XG4gICAgICAgICAgICBmYWlsdXJlID0gY3JlYXRlUm91dGVyRXJyb3IoMTYgLyogRXJyb3JUeXBlcy5OQVZJR0FUSU9OX0RVUExJQ0FURUQgKi8sIHsgdG86IHRvTG9jYXRpb24sIGZyb20gfSk7XG4gICAgICAgICAgICAvLyB0cmlnZ2VyIHNjcm9sbCB0byBhbGxvdyBzY3JvbGxpbmcgdG8gdGhlIHNhbWUgYW5jaG9yXG4gICAgICAgICAgICBoYW5kbGVTY3JvbGwoZnJvbSwgZnJvbSwgXG4gICAgICAgICAgICAvLyB0aGlzIGlzIGEgcHVzaCwgdGhlIG9ubHkgd2F5IGZvciBpdCB0byBiZSB0cmlnZ2VyZWQgZnJvbSBhXG4gICAgICAgICAgICAvLyBoaXN0b3J5Lmxpc3RlbiBpcyB3aXRoIGEgcmVkaXJlY3QsIHdoaWNoIG1ha2VzIGl0IGJlY29tZSBhIHB1c2hcbiAgICAgICAgICAgIHRydWUsIFxuICAgICAgICAgICAgLy8gVGhpcyBjYW5ub3QgYmUgdGhlIGZpcnN0IG5hdmlnYXRpb24gYmVjYXVzZSB0aGUgaW5pdGlhbCBsb2NhdGlvblxuICAgICAgICAgICAgLy8gY2Fubm90IGJlIG1hbnVhbGx5IG5hdmlnYXRlZCB0b1xuICAgICAgICAgICAgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoZmFpbHVyZSA/IFByb21pc2UucmVzb2x2ZShmYWlsdXJlKSA6IG5hdmlnYXRlKHRvTG9jYXRpb24sIGZyb20pKVxuICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gaXNOYXZpZ2F0aW9uRmFpbHVyZShlcnJvcilcbiAgICAgICAgICAgID8gLy8gbmF2aWdhdGlvbiByZWRpcmVjdHMgc3RpbGwgbWFyayB0aGUgcm91dGVyIGFzIHJlYWR5XG4gICAgICAgICAgICAgICAgaXNOYXZpZ2F0aW9uRmFpbHVyZShlcnJvciwgMiAvKiBFcnJvclR5cGVzLk5BVklHQVRJT05fR1VBUkRfUkVESVJFQ1QgKi8pXG4gICAgICAgICAgICAgICAgICAgID8gZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgOiBtYXJrQXNSZWFkeShlcnJvcikgLy8gYWxzbyByZXR1cm5zIHRoZSBlcnJvclxuICAgICAgICAgICAgOiAvLyByZWplY3QgYW55IHVua25vd24gZXJyb3JcbiAgICAgICAgICAgICAgICB0cmlnZ2VyRXJyb3IoZXJyb3IsIHRvTG9jYXRpb24sIGZyb20pKVxuICAgICAgICAgICAgLnRoZW4oKGZhaWx1cmUpID0+IHtcbiAgICAgICAgICAgIGlmIChmYWlsdXJlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzTmF2aWdhdGlvbkZhaWx1cmUoZmFpbHVyZSwgMiAvKiBFcnJvclR5cGVzLk5BVklHQVRJT05fR1VBUkRfUkVESVJFQ1QgKi8pKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIGFyZSByZWRpcmVjdGluZyB0byB0aGUgc2FtZSBsb2NhdGlvbiB3ZSB3ZXJlIGFscmVhZHkgYXRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzU2FtZVJvdXRlTG9jYXRpb24oc3RyaW5naWZ5UXVlcnkkMSwgcmVzb2x2ZShmYWlsdXJlLnRvKSwgdG9Mb2NhdGlvbikgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFuZCB3ZSBoYXZlIGRvbmUgaXQgYSBjb3VwbGUgb2YgdGltZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZGlyZWN0ZWRGcm9tICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiBhZGRlZCBvbmx5IGluIGRldlxuICAgICAgICAgICAgICAgICAgICAgICAgKHJlZGlyZWN0ZWRGcm9tLl9jb3VudCA9IHJlZGlyZWN0ZWRGcm9tLl9jb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWRpcmVjdGVkRnJvbS5fY291bnQgKyAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAxKSA+IDMwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuKGBEZXRlY3RlZCBhIHBvc3NpYmx5IGluZmluaXRlIHJlZGlyZWN0aW9uIGluIGEgbmF2aWdhdGlvbiBndWFyZCB3aGVuIGdvaW5nIGZyb20gXCIke2Zyb20uZnVsbFBhdGh9XCIgdG8gXCIke3RvTG9jYXRpb24uZnVsbFBhdGh9XCIuIEFib3J0aW5nIHRvIGF2b2lkIGEgU3RhY2sgT3ZlcmZsb3cuXFxuIEFyZSB5b3UgYWx3YXlzIHJldHVybmluZyBhIG5ldyBsb2NhdGlvbiB3aXRoaW4gYSBuYXZpZ2F0aW9uIGd1YXJkPyBUaGF0IHdvdWxkIGxlYWQgdG8gdGhpcyBlcnJvci4gT25seSByZXR1cm4gd2hlbiByZWRpcmVjdGluZyBvciBhYm9ydGluZywgdGhhdCBzaG91bGQgZml4IHRoaXMuIFRoaXMgbWlnaHQgYnJlYWsgaW4gcHJvZHVjdGlvbiBpZiBub3QgZml4ZWQuYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdJbmZpbml0ZSByZWRpcmVjdCBpbiBuYXZpZ2F0aW9uIGd1YXJkJykpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwdXNoV2l0aFJlZGlyZWN0KFxuICAgICAgICAgICAgICAgICAgICAvLyBrZWVwIG9wdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgYXNzaWduKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHByZXNlcnZlIGFuIGV4aXN0aW5nIHJlcGxhY2VtZW50IGJ1dCBhbGxvdyB0aGUgcmVkaXJlY3QgdG8gb3ZlcnJpZGUgaXRcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcGxhY2UsXG4gICAgICAgICAgICAgICAgICAgIH0sIGxvY2F0aW9uQXNPYmplY3QoZmFpbHVyZS50byksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlOiB0eXBlb2YgZmFpbHVyZS50byA9PT0gJ29iamVjdCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGFzc2lnbih7fSwgZGF0YSwgZmFpbHVyZS50by5zdGF0ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JjZSxcbiAgICAgICAgICAgICAgICAgICAgfSksIFxuICAgICAgICAgICAgICAgICAgICAvLyBwcmVzZXJ2ZSB0aGUgb3JpZ2luYWwgcmVkaXJlY3RlZEZyb20gaWYgYW55XG4gICAgICAgICAgICAgICAgICAgIHJlZGlyZWN0ZWRGcm9tIHx8IHRvTG9jYXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGlmIHdlIGZhaWwgd2UgZG9uJ3QgZmluYWxpemUgdGhlIG5hdmlnYXRpb25cbiAgICAgICAgICAgICAgICBmYWlsdXJlID0gZmluYWxpemVOYXZpZ2F0aW9uKHRvTG9jYXRpb24sIGZyb20sIHRydWUsIHJlcGxhY2UsIGRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJpZ2dlckFmdGVyRWFjaCh0b0xvY2F0aW9uLCBmcm9tLCBmYWlsdXJlKTtcbiAgICAgICAgICAgIHJldHVybiBmYWlsdXJlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGVscGVyIHRvIHJlamVjdCBhbmQgc2tpcCBhbGwgbmF2aWdhdGlvbiBndWFyZHMgaWYgYSBuZXcgbmF2aWdhdGlvbiBoYXBwZW5lZFxuICAgICAqIEBwYXJhbSB0b1xuICAgICAqIEBwYXJhbSBmcm9tXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2hlY2tDYW5jZWxlZE5hdmlnYXRpb25BbmRSZWplY3QodG8sIGZyb20pIHtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBjaGVja0NhbmNlbGVkTmF2aWdhdGlvbih0bywgZnJvbSk7XG4gICAgICAgIHJldHVybiBlcnJvciA/IFByb21pc2UucmVqZWN0KGVycm9yKSA6IFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBydW5XaXRoQ29udGV4dChmbikge1xuICAgICAgICBjb25zdCBhcHAgPSBpbnN0YWxsZWRBcHBzLnZhbHVlcygpLm5leHQoKS52YWx1ZTtcbiAgICAgICAgLy8gc3VwcG9ydCBWdWUgPCAzLjNcbiAgICAgICAgcmV0dXJuIGFwcCAmJiB0eXBlb2YgYXBwLnJ1bldpdGhDb250ZXh0ID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgICA/IGFwcC5ydW5XaXRoQ29udGV4dChmbilcbiAgICAgICAgICAgIDogZm4oKTtcbiAgICB9XG4gICAgLy8gVE9ETzogcmVmYWN0b3IgdGhlIHdob2xlIGJlZm9yZSBndWFyZHMgYnkgaW50ZXJuYWxseSB1c2luZyByb3V0ZXIuYmVmb3JlRWFjaFxuICAgIGZ1bmN0aW9uIG5hdmlnYXRlKHRvLCBmcm9tKSB7XG4gICAgICAgIGxldCBndWFyZHM7XG4gICAgICAgIGNvbnN0IFtsZWF2aW5nUmVjb3JkcywgdXBkYXRpbmdSZWNvcmRzLCBlbnRlcmluZ1JlY29yZHNdID0gZXh0cmFjdENoYW5naW5nUmVjb3Jkcyh0bywgZnJvbSk7XG4gICAgICAgIC8vIGFsbCBjb21wb25lbnRzIGhlcmUgaGF2ZSBiZWVuIHJlc29sdmVkIG9uY2UgYmVjYXVzZSB3ZSBhcmUgbGVhdmluZ1xuICAgICAgICBndWFyZHMgPSBleHRyYWN0Q29tcG9uZW50c0d1YXJkcyhsZWF2aW5nUmVjb3Jkcy5yZXZlcnNlKCksICdiZWZvcmVSb3V0ZUxlYXZlJywgdG8sIGZyb20pO1xuICAgICAgICAvLyBsZWF2aW5nUmVjb3JkcyBpcyBhbHJlYWR5IHJldmVyc2VkXG4gICAgICAgIGZvciAoY29uc3QgcmVjb3JkIG9mIGxlYXZpbmdSZWNvcmRzKSB7XG4gICAgICAgICAgICByZWNvcmQubGVhdmVHdWFyZHMuZm9yRWFjaChndWFyZCA9PiB7XG4gICAgICAgICAgICAgICAgZ3VhcmRzLnB1c2goZ3VhcmRUb1Byb21pc2VGbihndWFyZCwgdG8sIGZyb20pKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNhbmNlbGVkTmF2aWdhdGlvbkNoZWNrID0gY2hlY2tDYW5jZWxlZE5hdmlnYXRpb25BbmRSZWplY3QuYmluZChudWxsLCB0bywgZnJvbSk7XG4gICAgICAgIGd1YXJkcy5wdXNoKGNhbmNlbGVkTmF2aWdhdGlvbkNoZWNrKTtcbiAgICAgICAgLy8gcnVuIHRoZSBxdWV1ZSBvZiBwZXIgcm91dGUgYmVmb3JlUm91dGVMZWF2ZSBndWFyZHNcbiAgICAgICAgcmV0dXJuIChydW5HdWFyZFF1ZXVlKGd1YXJkcylcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIC8vIGNoZWNrIGdsb2JhbCBndWFyZHMgYmVmb3JlRWFjaFxuICAgICAgICAgICAgZ3VhcmRzID0gW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGd1YXJkIG9mIGJlZm9yZUd1YXJkcy5saXN0KCkpIHtcbiAgICAgICAgICAgICAgICBndWFyZHMucHVzaChndWFyZFRvUHJvbWlzZUZuKGd1YXJkLCB0bywgZnJvbSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ3VhcmRzLnB1c2goY2FuY2VsZWROYXZpZ2F0aW9uQ2hlY2spO1xuICAgICAgICAgICAgcmV0dXJuIHJ1bkd1YXJkUXVldWUoZ3VhcmRzKTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIC8vIGNoZWNrIGluIGNvbXBvbmVudHMgYmVmb3JlUm91dGVVcGRhdGVcbiAgICAgICAgICAgIGd1YXJkcyA9IGV4dHJhY3RDb21wb25lbnRzR3VhcmRzKHVwZGF0aW5nUmVjb3JkcywgJ2JlZm9yZVJvdXRlVXBkYXRlJywgdG8sIGZyb20pO1xuICAgICAgICAgICAgZm9yIChjb25zdCByZWNvcmQgb2YgdXBkYXRpbmdSZWNvcmRzKSB7XG4gICAgICAgICAgICAgICAgcmVjb3JkLnVwZGF0ZUd1YXJkcy5mb3JFYWNoKGd1YXJkID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZ3VhcmRzLnB1c2goZ3VhcmRUb1Byb21pc2VGbihndWFyZCwgdG8sIGZyb20pKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGd1YXJkcy5wdXNoKGNhbmNlbGVkTmF2aWdhdGlvbkNoZWNrKTtcbiAgICAgICAgICAgIC8vIHJ1biB0aGUgcXVldWUgb2YgcGVyIHJvdXRlIGJlZm9yZUVudGVyIGd1YXJkc1xuICAgICAgICAgICAgcmV0dXJuIHJ1bkd1YXJkUXVldWUoZ3VhcmRzKTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIC8vIGNoZWNrIHRoZSByb3V0ZSBiZWZvcmVFbnRlclxuICAgICAgICAgICAgZ3VhcmRzID0gW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHJlY29yZCBvZiBlbnRlcmluZ1JlY29yZHMpIHtcbiAgICAgICAgICAgICAgICAvLyBkbyBub3QgdHJpZ2dlciBiZWZvcmVFbnRlciBvbiByZXVzZWQgdmlld3NcbiAgICAgICAgICAgICAgICBpZiAocmVjb3JkLmJlZm9yZUVudGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0FycmF5KHJlY29yZC5iZWZvcmVFbnRlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgYmVmb3JlRW50ZXIgb2YgcmVjb3JkLmJlZm9yZUVudGVyKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGd1YXJkcy5wdXNoKGd1YXJkVG9Qcm9taXNlRm4oYmVmb3JlRW50ZXIsIHRvLCBmcm9tKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBndWFyZHMucHVzaChndWFyZFRvUHJvbWlzZUZuKHJlY29yZC5iZWZvcmVFbnRlciwgdG8sIGZyb20pKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGd1YXJkcy5wdXNoKGNhbmNlbGVkTmF2aWdhdGlvbkNoZWNrKTtcbiAgICAgICAgICAgIC8vIHJ1biB0aGUgcXVldWUgb2YgcGVyIHJvdXRlIGJlZm9yZUVudGVyIGd1YXJkc1xuICAgICAgICAgICAgcmV0dXJuIHJ1bkd1YXJkUXVldWUoZ3VhcmRzKTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIC8vIE5PVEU6IGF0IHRoaXMgcG9pbnQgdG8ubWF0Y2hlZCBpcyBub3JtYWxpemVkIGFuZCBkb2VzIG5vdCBjb250YWluIGFueSAoKSA9PiBQcm9taXNlPENvbXBvbmVudD5cbiAgICAgICAgICAgIC8vIGNsZWFyIGV4aXN0aW5nIGVudGVyQ2FsbGJhY2tzLCB0aGVzZSBhcmUgYWRkZWQgYnkgZXh0cmFjdENvbXBvbmVudHNHdWFyZHNcbiAgICAgICAgICAgIHRvLm1hdGNoZWQuZm9yRWFjaChyZWNvcmQgPT4gKHJlY29yZC5lbnRlckNhbGxiYWNrcyA9IHt9KSk7XG4gICAgICAgICAgICAvLyBjaGVjayBpbi1jb21wb25lbnQgYmVmb3JlUm91dGVFbnRlclxuICAgICAgICAgICAgZ3VhcmRzID0gZXh0cmFjdENvbXBvbmVudHNHdWFyZHMoZW50ZXJpbmdSZWNvcmRzLCAnYmVmb3JlUm91dGVFbnRlcicsIHRvLCBmcm9tLCBydW5XaXRoQ29udGV4dCk7XG4gICAgICAgICAgICBndWFyZHMucHVzaChjYW5jZWxlZE5hdmlnYXRpb25DaGVjayk7XG4gICAgICAgICAgICAvLyBydW4gdGhlIHF1ZXVlIG9mIHBlciByb3V0ZSBiZWZvcmVFbnRlciBndWFyZHNcbiAgICAgICAgICAgIHJldHVybiBydW5HdWFyZFF1ZXVlKGd1YXJkcyk7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAvLyBjaGVjayBnbG9iYWwgZ3VhcmRzIGJlZm9yZVJlc29sdmVcbiAgICAgICAgICAgIGd1YXJkcyA9IFtdO1xuICAgICAgICAgICAgZm9yIChjb25zdCBndWFyZCBvZiBiZWZvcmVSZXNvbHZlR3VhcmRzLmxpc3QoKSkge1xuICAgICAgICAgICAgICAgIGd1YXJkcy5wdXNoKGd1YXJkVG9Qcm9taXNlRm4oZ3VhcmQsIHRvLCBmcm9tKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBndWFyZHMucHVzaChjYW5jZWxlZE5hdmlnYXRpb25DaGVjayk7XG4gICAgICAgICAgICByZXR1cm4gcnVuR3VhcmRRdWV1ZShndWFyZHMpO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLy8gY2F0Y2ggYW55IG5hdmlnYXRpb24gY2FuY2VsZWRcbiAgICAgICAgICAgIC5jYXRjaChlcnIgPT4gaXNOYXZpZ2F0aW9uRmFpbHVyZShlcnIsIDggLyogRXJyb3JUeXBlcy5OQVZJR0FUSU9OX0NBTkNFTExFRCAqLylcbiAgICAgICAgICAgID8gZXJyXG4gICAgICAgICAgICA6IFByb21pc2UucmVqZWN0KGVycikpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdHJpZ2dlckFmdGVyRWFjaCh0bywgZnJvbSwgZmFpbHVyZSkge1xuICAgICAgICAvLyBuYXZpZ2F0aW9uIGlzIGNvbmZpcm1lZCwgY2FsbCBhZnRlckd1YXJkc1xuICAgICAgICAvLyBUT0RPOiB3cmFwIHdpdGggZXJyb3IgaGFuZGxlcnNcbiAgICAgICAgYWZ0ZXJHdWFyZHNcbiAgICAgICAgICAgIC5saXN0KClcbiAgICAgICAgICAgIC5mb3JFYWNoKGd1YXJkID0+IHJ1bldpdGhDb250ZXh0KCgpID0+IGd1YXJkKHRvLCBmcm9tLCBmYWlsdXJlKSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiAtIENsZWFucyB1cCBhbnkgbmF2aWdhdGlvbiBndWFyZHNcbiAgICAgKiAtIENoYW5nZXMgdGhlIHVybCBpZiBuZWNlc3NhcnlcbiAgICAgKiAtIENhbGxzIHRoZSBzY3JvbGxCZWhhdmlvclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmFsaXplTmF2aWdhdGlvbih0b0xvY2F0aW9uLCBmcm9tLCBpc1B1c2gsIHJlcGxhY2UsIGRhdGEpIHtcbiAgICAgICAgLy8gYSBtb3JlIHJlY2VudCBuYXZpZ2F0aW9uIHRvb2sgcGxhY2VcbiAgICAgICAgY29uc3QgZXJyb3IgPSBjaGVja0NhbmNlbGVkTmF2aWdhdGlvbih0b0xvY2F0aW9uLCBmcm9tKTtcbiAgICAgICAgaWYgKGVycm9yKVxuICAgICAgICAgICAgcmV0dXJuIGVycm9yO1xuICAgICAgICAvLyBvbmx5IGNvbnNpZGVyIGFzIHB1c2ggaWYgaXQncyBub3QgdGhlIGZpcnN0IG5hdmlnYXRpb25cbiAgICAgICAgY29uc3QgaXNGaXJzdE5hdmlnYXRpb24gPSBmcm9tID09PSBTVEFSVF9MT0NBVElPTl9OT1JNQUxJWkVEO1xuICAgICAgICBjb25zdCBzdGF0ZSA9ICFpc0Jyb3dzZXIgPyB7fSA6IGhpc3Rvcnkuc3RhdGU7XG4gICAgICAgIC8vIGNoYW5nZSBVUkwgb25seSBpZiB0aGUgdXNlciBkaWQgYSBwdXNoL3JlcGxhY2UgYW5kIGlmIGl0J3Mgbm90IHRoZSBpbml0aWFsIG5hdmlnYXRpb24gYmVjYXVzZVxuICAgICAgICAvLyBpdCdzIGp1c3QgcmVmbGVjdGluZyB0aGUgdXJsXG4gICAgICAgIGlmIChpc1B1c2gpIHtcbiAgICAgICAgICAgIC8vIG9uIHRoZSBpbml0aWFsIG5hdmlnYXRpb24sIHdlIHdhbnQgdG8gcmV1c2UgdGhlIHNjcm9sbCBwb3NpdGlvbiBmcm9tXG4gICAgICAgICAgICAvLyBoaXN0b3J5IHN0YXRlIGlmIGl0IGV4aXN0c1xuICAgICAgICAgICAgaWYgKHJlcGxhY2UgfHwgaXNGaXJzdE5hdmlnYXRpb24pXG4gICAgICAgICAgICAgICAgcm91dGVySGlzdG9yeS5yZXBsYWNlKHRvTG9jYXRpb24uZnVsbFBhdGgsIGFzc2lnbih7XG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbDogaXNGaXJzdE5hdmlnYXRpb24gJiYgc3RhdGUgJiYgc3RhdGUuc2Nyb2xsLFxuICAgICAgICAgICAgICAgIH0sIGRhdGEpKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICByb3V0ZXJIaXN0b3J5LnB1c2godG9Mb2NhdGlvbi5mdWxsUGF0aCwgZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYWNjZXB0IGN1cnJlbnQgbmF2aWdhdGlvblxuICAgICAgICBjdXJyZW50Um91dGUudmFsdWUgPSB0b0xvY2F0aW9uO1xuICAgICAgICBoYW5kbGVTY3JvbGwodG9Mb2NhdGlvbiwgZnJvbSwgaXNQdXNoLCBpc0ZpcnN0TmF2aWdhdGlvbik7XG4gICAgICAgIG1hcmtBc1JlYWR5KCk7XG4gICAgfVxuICAgIGxldCByZW1vdmVIaXN0b3J5TGlzdGVuZXI7XG4gICAgLy8gYXR0YWNoIGxpc3RlbmVyIHRvIGhpc3RvcnkgdG8gdHJpZ2dlciBuYXZpZ2F0aW9uc1xuICAgIGZ1bmN0aW9uIHNldHVwTGlzdGVuZXJzKCkge1xuICAgICAgICAvLyBhdm9pZCBzZXR0aW5nIHVwIGxpc3RlbmVycyB0d2ljZSBkdWUgdG8gYW4gaW52YWxpZCBmaXJzdCBuYXZpZ2F0aW9uXG4gICAgICAgIGlmIChyZW1vdmVIaXN0b3J5TGlzdGVuZXIpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHJlbW92ZUhpc3RvcnlMaXN0ZW5lciA9IHJvdXRlckhpc3RvcnkubGlzdGVuKCh0bywgX2Zyb20sIGluZm8pID0+IHtcbiAgICAgICAgICAgIGlmICghcm91dGVyLmxpc3RlbmluZylcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAvLyBjYW5ub3QgYmUgYSByZWRpcmVjdCByb3V0ZSBiZWNhdXNlIGl0IHdhcyBpbiBoaXN0b3J5XG4gICAgICAgICAgICBjb25zdCB0b0xvY2F0aW9uID0gcmVzb2x2ZSh0byk7XG4gICAgICAgICAgICAvLyBkdWUgdG8gZHluYW1pYyByb3V0aW5nLCBhbmQgdG8gaGFzaCBoaXN0b3J5IHdpdGggbWFudWFsIG5hdmlnYXRpb25cbiAgICAgICAgICAgIC8vIChtYW51YWxseSBjaGFuZ2luZyB0aGUgdXJsIG9yIGNhbGxpbmcgaGlzdG9yeS5oYXNoID0gJyMvc29tZXdoZXJlJyksXG4gICAgICAgICAgICAvLyB0aGVyZSBjb3VsZCBiZSBhIHJlZGlyZWN0IHJlY29yZCBpbiBoaXN0b3J5XG4gICAgICAgICAgICBjb25zdCBzaG91bGRSZWRpcmVjdCA9IGhhbmRsZVJlZGlyZWN0UmVjb3JkKHRvTG9jYXRpb24pO1xuICAgICAgICAgICAgaWYgKHNob3VsZFJlZGlyZWN0KSB7XG4gICAgICAgICAgICAgICAgcHVzaFdpdGhSZWRpcmVjdChhc3NpZ24oc2hvdWxkUmVkaXJlY3QsIHsgcmVwbGFjZTogdHJ1ZSB9KSwgdG9Mb2NhdGlvbikuY2F0Y2gobm9vcCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGVuZGluZ0xvY2F0aW9uID0gdG9Mb2NhdGlvbjtcbiAgICAgICAgICAgIGNvbnN0IGZyb20gPSBjdXJyZW50Um91dGUudmFsdWU7XG4gICAgICAgICAgICAvLyBUT0RPOiBzaG91bGQgYmUgbW92ZWQgdG8gd2ViIGhpc3Rvcnk/XG4gICAgICAgICAgICBpZiAoaXNCcm93c2VyKSB7XG4gICAgICAgICAgICAgICAgc2F2ZVNjcm9sbFBvc2l0aW9uKGdldFNjcm9sbEtleShmcm9tLmZ1bGxQYXRoLCBpbmZvLmRlbHRhKSwgY29tcHV0ZVNjcm9sbFBvc2l0aW9uKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmF2aWdhdGUodG9Mb2NhdGlvbiwgZnJvbSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGlzTmF2aWdhdGlvbkZhaWx1cmUoZXJyb3IsIDQgLyogRXJyb3JUeXBlcy5OQVZJR0FUSU9OX0FCT1JURUQgKi8gfCA4IC8qIEVycm9yVHlwZXMuTkFWSUdBVElPTl9DQU5DRUxMRUQgKi8pKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlcnJvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGlzTmF2aWdhdGlvbkZhaWx1cmUoZXJyb3IsIDIgLyogRXJyb3JUeXBlcy5OQVZJR0FUSU9OX0dVQVJEX1JFRElSRUNUICovKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBIZXJlIHdlIGNvdWxkIGNhbGwgaWYgKGluZm8uZGVsdGEpIHJvdXRlckhpc3RvcnkuZ28oLWluZm8uZGVsdGEsXG4gICAgICAgICAgICAgICAgICAgIC8vIGZhbHNlKSBidXQgdGhpcyBpcyBidWcgcHJvbmUgYXMgd2UgaGF2ZSBubyB3YXkgdG8gd2FpdCB0aGVcbiAgICAgICAgICAgICAgICAgICAgLy8gbmF2aWdhdGlvbiB0byBiZSBmaW5pc2hlZCBiZWZvcmUgY2FsbGluZyBwdXNoV2l0aFJlZGlyZWN0LiBVc2luZ1xuICAgICAgICAgICAgICAgICAgICAvLyBhIHNldFRpbWVvdXQgb2YgMTZtcyBzZWVtcyB0byB3b3JrIGJ1dCB0aGVyZSBpcyBubyBndWFyYW50ZWUgZm9yXG4gICAgICAgICAgICAgICAgICAgIC8vIGl0IHRvIHdvcmsgb24gZXZlcnkgYnJvd3Nlci4gU28gaW5zdGVhZCB3ZSBkbyBub3QgcmVzdG9yZSB0aGVcbiAgICAgICAgICAgICAgICAgICAgLy8gaGlzdG9yeSBlbnRyeSBhbmQgdHJpZ2dlciBhIG5ldyBuYXZpZ2F0aW9uIGFzIHJlcXVlc3RlZCBieSB0aGVcbiAgICAgICAgICAgICAgICAgICAgLy8gbmF2aWdhdGlvbiBndWFyZC5cbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlIGVycm9yIGlzIGFscmVhZHkgaGFuZGxlZCBieSByb3V0ZXIucHVzaCB3ZSBqdXN0IHdhbnQgdG8gYXZvaWRcbiAgICAgICAgICAgICAgICAgICAgLy8gbG9nZ2luZyB0aGUgZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgcHVzaFdpdGhSZWRpcmVjdChlcnJvci50bywgdG9Mb2NhdGlvblxuICAgICAgICAgICAgICAgICAgICAvLyBhdm9pZCBhbiB1bmNhdWdodCByZWplY3Rpb24sIGxldCBwdXNoIGNhbGwgdHJpZ2dlckVycm9yXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZhaWx1cmUgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbWFudWFsIGNoYW5nZSBpbiBoYXNoIGhpc3RvcnkgIzkxNiBlbmRpbmcgdXAgaW4gdGhlIFVSTCBub3RcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNoYW5naW5nLCBidXQgaXQgd2FzIGNoYW5nZWQgYnkgdGhlIG1hbnVhbCB1cmwgY2hhbmdlLCBzbyB3ZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbmVlZCB0byBtYW51YWxseSBjaGFuZ2UgaXQgb3Vyc2VsdmVzXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYXZpZ2F0aW9uRmFpbHVyZShmYWlsdXJlLCA0IC8qIEVycm9yVHlwZXMuTkFWSUdBVElPTl9BQk9SVEVEICovIHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAxNiAvKiBFcnJvclR5cGVzLk5BVklHQVRJT05fRFVQTElDQVRFRCAqLykgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhaW5mby5kZWx0YSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZm8udHlwZSA9PT0gTmF2aWdhdGlvblR5cGUucG9wKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm91dGVySGlzdG9yeS5nbygtMSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKG5vb3ApO1xuICAgICAgICAgICAgICAgICAgICAvLyBhdm9pZCB0aGUgdGhlbiBicmFuY2hcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGRvIG5vdCByZXN0b3JlIGhpc3Rvcnkgb24gdW5rbm93biBkaXJlY3Rpb25cbiAgICAgICAgICAgICAgICBpZiAoaW5mby5kZWx0YSkge1xuICAgICAgICAgICAgICAgICAgICByb3V0ZXJIaXN0b3J5LmdvKC1pbmZvLmRlbHRhLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHVucmVjb2duaXplZCBlcnJvciwgdHJhbnNmZXIgdG8gdGhlIGdsb2JhbCBoYW5kbGVyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRyaWdnZXJFcnJvcihlcnJvciwgdG9Mb2NhdGlvbiwgZnJvbSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50aGVuKChmYWlsdXJlKSA9PiB7XG4gICAgICAgICAgICAgICAgZmFpbHVyZSA9XG4gICAgICAgICAgICAgICAgICAgIGZhaWx1cmUgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsaXplTmF2aWdhdGlvbihcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFmdGVyIG5hdmlnYXRpb24sIGFsbCBtYXRjaGVkIGNvbXBvbmVudHMgYXJlIHJlc29sdmVkXG4gICAgICAgICAgICAgICAgICAgICAgICB0b0xvY2F0aW9uLCBmcm9tLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgLy8gcmV2ZXJ0IHRoZSBuYXZpZ2F0aW9uXG4gICAgICAgICAgICAgICAgaWYgKGZhaWx1cmUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZm8uZGVsdGEgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGEgbmV3IG5hdmlnYXRpb24gaGFzIGJlZW4gdHJpZ2dlcmVkLCBzbyB3ZSBkbyBub3Qgd2FudCB0byByZXZlcnQsIHRoYXQgd2lsbCBjaGFuZ2UgdGhlIGN1cnJlbnQgaGlzdG9yeVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZW50cnkgd2hpbGUgYSBkaWZmZXJlbnQgcm91dGUgaXMgZGlzcGxheWVkXG4gICAgICAgICAgICAgICAgICAgICAgICAhaXNOYXZpZ2F0aW9uRmFpbHVyZShmYWlsdXJlLCA4IC8qIEVycm9yVHlwZXMuTkFWSUdBVElPTl9DQU5DRUxMRUQgKi8pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByb3V0ZXJIaXN0b3J5LmdvKC1pbmZvLmRlbHRhLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaW5mby50eXBlID09PSBOYXZpZ2F0aW9uVHlwZS5wb3AgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzTmF2aWdhdGlvbkZhaWx1cmUoZmFpbHVyZSwgNCAvKiBFcnJvclR5cGVzLk5BVklHQVRJT05fQUJPUlRFRCAqLyB8IDE2IC8qIEVycm9yVHlwZXMuTkFWSUdBVElPTl9EVVBMSUNBVEVEICovKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbWFudWFsIGNoYW5nZSBpbiBoYXNoIGhpc3RvcnkgIzkxNlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaXQncyBsaWtlIGEgcHVzaCBidXQgbGFja3MgdGhlIGluZm9ybWF0aW9uIG9mIHRoZSBkaXJlY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdXRlckhpc3RvcnkuZ28oLTEsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0cmlnZ2VyQWZ0ZXJFYWNoKHRvTG9jYXRpb24sIGZyb20sIGZhaWx1cmUpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAvLyBhdm9pZCB3YXJuaW5ncyBpbiB0aGUgY29uc29sZSBhYm91dCB1bmNhdWdodCByZWplY3Rpb25zLCB0aGV5IGFyZSBsb2dnZWQgYnkgdHJpZ2dlckVycm9yc1xuICAgICAgICAgICAgICAgIC5jYXRjaChub29wKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIEluaXRpYWxpemF0aW9uIGFuZCBFcnJvcnNcbiAgICBsZXQgcmVhZHlIYW5kbGVycyA9IHVzZUNhbGxiYWNrcygpO1xuICAgIGxldCBlcnJvckxpc3RlbmVycyA9IHVzZUNhbGxiYWNrcygpO1xuICAgIGxldCByZWFkeTtcbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyIGVycm9yTGlzdGVuZXJzIGFkZGVkIHZpYSBvbkVycm9yIGFuZCB0aHJvd3MgdGhlIGVycm9yIGFzIHdlbGxcbiAgICAgKlxuICAgICAqIEBwYXJhbSBlcnJvciAtIGVycm9yIHRvIHRocm93XG4gICAgICogQHBhcmFtIHRvIC0gbG9jYXRpb24gd2Ugd2VyZSBuYXZpZ2F0aW5nIHRvIHdoZW4gdGhlIGVycm9yIGhhcHBlbmVkXG4gICAgICogQHBhcmFtIGZyb20gLSBsb2NhdGlvbiB3ZSB3ZXJlIG5hdmlnYXRpbmcgZnJvbSB3aGVuIHRoZSBlcnJvciBoYXBwZW5lZFxuICAgICAqIEByZXR1cm5zIHRoZSBlcnJvciBhcyBhIHJlamVjdGVkIHByb21pc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cmlnZ2VyRXJyb3IoZXJyb3IsIHRvLCBmcm9tKSB7XG4gICAgICAgIG1hcmtBc1JlYWR5KGVycm9yKTtcbiAgICAgICAgY29uc3QgbGlzdCA9IGVycm9yTGlzdGVuZXJzLmxpc3QoKTtcbiAgICAgICAgaWYgKGxpc3QubGVuZ3RoKSB7XG4gICAgICAgICAgICBsaXN0LmZvckVhY2goaGFuZGxlciA9PiBoYW5kbGVyKGVycm9yLCB0bywgZnJvbSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgICAgICAgICAgIHdhcm4oJ3VuY2F1Z2h0IGVycm9yIGR1cmluZyByb3V0ZSBuYXZpZ2F0aW9uOicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVqZWN0IHRoZSBlcnJvciBubyBtYXR0ZXIgdGhlcmUgd2VyZSBlcnJvciBsaXN0ZW5lcnMgb3Igbm90XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzUmVhZHkoKSB7XG4gICAgICAgIGlmIChyZWFkeSAmJiBjdXJyZW50Um91dGUudmFsdWUgIT09IFNUQVJUX0xPQ0FUSU9OX05PUk1BTElaRUQpXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICByZWFkeUhhbmRsZXJzLmFkZChbcmVzb2x2ZSwgcmVqZWN0XSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtYXJrQXNSZWFkeShlcnIpIHtcbiAgICAgICAgaWYgKCFyZWFkeSkge1xuICAgICAgICAgICAgLy8gc3RpbGwgbm90IHJlYWR5IGlmIGFuIGVycm9yIGhhcHBlbmVkXG4gICAgICAgICAgICByZWFkeSA9ICFlcnI7XG4gICAgICAgICAgICBzZXR1cExpc3RlbmVycygpO1xuICAgICAgICAgICAgcmVhZHlIYW5kbGVyc1xuICAgICAgICAgICAgICAgIC5saXN0KClcbiAgICAgICAgICAgICAgICAuZm9yRWFjaCgoW3Jlc29sdmUsIHJlamVjdF0pID0+IChlcnIgPyByZWplY3QoZXJyKSA6IHJlc29sdmUoKSkpO1xuICAgICAgICAgICAgcmVhZHlIYW5kbGVycy5yZXNldCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlcnI7XG4gICAgfVxuICAgIC8vIFNjcm9sbCBiZWhhdmlvclxuICAgIGZ1bmN0aW9uIGhhbmRsZVNjcm9sbCh0bywgZnJvbSwgaXNQdXNoLCBpc0ZpcnN0TmF2aWdhdGlvbikge1xuICAgICAgICBjb25zdCB7IHNjcm9sbEJlaGF2aW9yIH0gPSBvcHRpb25zO1xuICAgICAgICBpZiAoIWlzQnJvd3NlciB8fCAhc2Nyb2xsQmVoYXZpb3IpXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgIGNvbnN0IHNjcm9sbFBvc2l0aW9uID0gKCFpc1B1c2ggJiYgZ2V0U2F2ZWRTY3JvbGxQb3NpdGlvbihnZXRTY3JvbGxLZXkodG8uZnVsbFBhdGgsIDApKSkgfHxcbiAgICAgICAgICAgICgoaXNGaXJzdE5hdmlnYXRpb24gfHwgIWlzUHVzaCkgJiZcbiAgICAgICAgICAgICAgICBoaXN0b3J5LnN0YXRlICYmXG4gICAgICAgICAgICAgICAgaGlzdG9yeS5zdGF0ZS5zY3JvbGwpIHx8XG4gICAgICAgICAgICBudWxsO1xuICAgICAgICByZXR1cm4gbmV4dFRpY2soKVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4gc2Nyb2xsQmVoYXZpb3IodG8sIGZyb20sIHNjcm9sbFBvc2l0aW9uKSlcbiAgICAgICAgICAgIC50aGVuKHBvc2l0aW9uID0+IHBvc2l0aW9uICYmIHNjcm9sbFRvUG9zaXRpb24ocG9zaXRpb24pKVxuICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB0cmlnZ2VyRXJyb3IoZXJyLCB0bywgZnJvbSkpO1xuICAgIH1cbiAgICBjb25zdCBnbyA9IChkZWx0YSkgPT4gcm91dGVySGlzdG9yeS5nbyhkZWx0YSk7XG4gICAgbGV0IHN0YXJ0ZWQ7XG4gICAgY29uc3QgaW5zdGFsbGVkQXBwcyA9IG5ldyBTZXQoKTtcbiAgICBjb25zdCByb3V0ZXIgPSB7XG4gICAgICAgIGN1cnJlbnRSb3V0ZSxcbiAgICAgICAgbGlzdGVuaW5nOiB0cnVlLFxuICAgICAgICBhZGRSb3V0ZSxcbiAgICAgICAgcmVtb3ZlUm91dGUsXG4gICAgICAgIGhhc1JvdXRlLFxuICAgICAgICBnZXRSb3V0ZXMsXG4gICAgICAgIHJlc29sdmUsXG4gICAgICAgIG9wdGlvbnMsXG4gICAgICAgIHB1c2gsXG4gICAgICAgIHJlcGxhY2UsXG4gICAgICAgIGdvLFxuICAgICAgICBiYWNrOiAoKSA9PiBnbygtMSksXG4gICAgICAgIGZvcndhcmQ6ICgpID0+IGdvKDEpLFxuICAgICAgICBiZWZvcmVFYWNoOiBiZWZvcmVHdWFyZHMuYWRkLFxuICAgICAgICBiZWZvcmVSZXNvbHZlOiBiZWZvcmVSZXNvbHZlR3VhcmRzLmFkZCxcbiAgICAgICAgYWZ0ZXJFYWNoOiBhZnRlckd1YXJkcy5hZGQsXG4gICAgICAgIG9uRXJyb3I6IGVycm9yTGlzdGVuZXJzLmFkZCxcbiAgICAgICAgaXNSZWFkeSxcbiAgICAgICAgaW5zdGFsbChhcHApIHtcbiAgICAgICAgICAgIGNvbnN0IHJvdXRlciA9IHRoaXM7XG4gICAgICAgICAgICBhcHAuY29tcG9uZW50KCdSb3V0ZXJMaW5rJywgUm91dGVyTGluayk7XG4gICAgICAgICAgICBhcHAuY29tcG9uZW50KCdSb3V0ZXJWaWV3JywgUm91dGVyVmlldyk7XG4gICAgICAgICAgICBhcHAuY29uZmlnLmdsb2JhbFByb3BlcnRpZXMuJHJvdXRlciA9IHJvdXRlcjtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhcHAuY29uZmlnLmdsb2JhbFByb3BlcnRpZXMsICckcm91dGUnLCB7XG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBnZXQ6ICgpID0+IHVucmVmKGN1cnJlbnRSb3V0ZSksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIHRoaXMgaW5pdGlhbCBuYXZpZ2F0aW9uIGlzIG9ubHkgbmVjZXNzYXJ5IG9uIGNsaWVudCwgb24gc2VydmVyIGl0IGRvZXNuJ3RcbiAgICAgICAgICAgIC8vIG1ha2Ugc2Vuc2UgYmVjYXVzZSBpdCB3aWxsIGNyZWF0ZSBhbiBleHRyYSB1bm5lY2Vzc2FyeSBuYXZpZ2F0aW9uIGFuZCBjb3VsZFxuICAgICAgICAgICAgLy8gbGVhZCB0byBwcm9ibGVtc1xuICAgICAgICAgICAgaWYgKGlzQnJvd3NlciAmJlxuICAgICAgICAgICAgICAgIC8vIHVzZWQgZm9yIHRoZSBpbml0aWFsIG5hdmlnYXRpb24gY2xpZW50IHNpZGUgdG8gYXZvaWQgcHVzaGluZ1xuICAgICAgICAgICAgICAgIC8vIG11bHRpcGxlIHRpbWVzIHdoZW4gdGhlIHJvdXRlciBpcyB1c2VkIGluIG11bHRpcGxlIGFwcHNcbiAgICAgICAgICAgICAgICAhc3RhcnRlZCAmJlxuICAgICAgICAgICAgICAgIGN1cnJlbnRSb3V0ZS52YWx1ZSA9PT0gU1RBUlRfTE9DQVRJT05fTk9STUFMSVpFRCkge1xuICAgICAgICAgICAgICAgIC8vIHNlZSBhYm92ZVxuICAgICAgICAgICAgICAgIHN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHB1c2gocm91dGVySGlzdG9yeS5sb2NhdGlvbikuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHdhcm4oJ1VuZXhwZWN0ZWQgZXJyb3Igd2hlbiBzdGFydGluZyB0aGUgcm91dGVyOicsIGVycik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCByZWFjdGl2ZVJvdXRlID0ge307XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBTVEFSVF9MT0NBVElPTl9OT1JNQUxJWkVEKSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHJlYWN0aXZlUm91dGUsIGtleSwge1xuICAgICAgICAgICAgICAgICAgICBnZXQ6ICgpID0+IGN1cnJlbnRSb3V0ZS52YWx1ZVtrZXldLFxuICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXBwLnByb3ZpZGUocm91dGVyS2V5LCByb3V0ZXIpO1xuICAgICAgICAgICAgYXBwLnByb3ZpZGUocm91dGVMb2NhdGlvbktleSwgc2hhbGxvd1JlYWN0aXZlKHJlYWN0aXZlUm91dGUpKTtcbiAgICAgICAgICAgIGFwcC5wcm92aWRlKHJvdXRlclZpZXdMb2NhdGlvbktleSwgY3VycmVudFJvdXRlKTtcbiAgICAgICAgICAgIGNvbnN0IHVubW91bnRBcHAgPSBhcHAudW5tb3VudDtcbiAgICAgICAgICAgIGluc3RhbGxlZEFwcHMuYWRkKGFwcCk7XG4gICAgICAgICAgICBhcHAudW5tb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpbnN0YWxsZWRBcHBzLmRlbGV0ZShhcHApO1xuICAgICAgICAgICAgICAgIC8vIHRoZSByb3V0ZXIgaXMgbm90IGF0dGFjaGVkIHRvIGFuIGFwcCBhbnltb3JlXG4gICAgICAgICAgICAgICAgaWYgKGluc3RhbGxlZEFwcHMuc2l6ZSA8IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaW52YWxpZGF0ZSB0aGUgY3VycmVudCBuYXZpZ2F0aW9uXG4gICAgICAgICAgICAgICAgICAgIHBlbmRpbmdMb2NhdGlvbiA9IFNUQVJUX0xPQ0FUSU9OX05PUk1BTElaRUQ7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUhpc3RvcnlMaXN0ZW5lciAmJiByZW1vdmVIaXN0b3J5TGlzdGVuZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlSGlzdG9yeUxpc3RlbmVyID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFJvdXRlLnZhbHVlID0gU1RBUlRfTE9DQVRJT05fTk9STUFMSVpFRDtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICByZWFkeSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB1bm1vdW50QXBwKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gVE9ETzogdGhpcyBwcm9iYWJseSBuZWVkcyB0byBiZSB1cGRhdGVkIHNvIGl0IGNhbiBiZSB1c2VkIGJ5IHZ1ZS10ZXJtdWlcbiAgICAgICAgICAgIGlmICgoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHx8IF9fVlVFX1BST0RfREVWVE9PTFNfXykgJiYgaXNCcm93c2VyKSB7XG4gICAgICAgICAgICAgICAgYWRkRGV2dG9vbHMoYXBwLCByb3V0ZXIsIG1hdGNoZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIH07XG4gICAgLy8gVE9ETzogdHlwZSB0aGlzIGFzIE5hdmlnYXRpb25HdWFyZFJldHVybiBvciBzaW1pbGFyIGluc3RlYWQgb2YgYW55XG4gICAgZnVuY3Rpb24gcnVuR3VhcmRRdWV1ZShndWFyZHMpIHtcbiAgICAgICAgcmV0dXJuIGd1YXJkcy5yZWR1Y2UoKHByb21pc2UsIGd1YXJkKSA9PiBwcm9taXNlLnRoZW4oKCkgPT4gcnVuV2l0aENvbnRleHQoZ3VhcmQpKSwgUHJvbWlzZS5yZXNvbHZlKCkpO1xuICAgIH1cbiAgICByZXR1cm4gcm91dGVyO1xufVxuZnVuY3Rpb24gZXh0cmFjdENoYW5naW5nUmVjb3Jkcyh0bywgZnJvbSkge1xuICAgIGNvbnN0IGxlYXZpbmdSZWNvcmRzID0gW107XG4gICAgY29uc3QgdXBkYXRpbmdSZWNvcmRzID0gW107XG4gICAgY29uc3QgZW50ZXJpbmdSZWNvcmRzID0gW107XG4gICAgY29uc3QgbGVuID0gTWF0aC5tYXgoZnJvbS5tYXRjaGVkLmxlbmd0aCwgdG8ubWF0Y2hlZC5sZW5ndGgpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgY29uc3QgcmVjb3JkRnJvbSA9IGZyb20ubWF0Y2hlZFtpXTtcbiAgICAgICAgaWYgKHJlY29yZEZyb20pIHtcbiAgICAgICAgICAgIGlmICh0by5tYXRjaGVkLmZpbmQocmVjb3JkID0+IGlzU2FtZVJvdXRlUmVjb3JkKHJlY29yZCwgcmVjb3JkRnJvbSkpKVxuICAgICAgICAgICAgICAgIHVwZGF0aW5nUmVjb3Jkcy5wdXNoKHJlY29yZEZyb20pO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGxlYXZpbmdSZWNvcmRzLnB1c2gocmVjb3JkRnJvbSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVjb3JkVG8gPSB0by5tYXRjaGVkW2ldO1xuICAgICAgICBpZiAocmVjb3JkVG8pIHtcbiAgICAgICAgICAgIC8vIHRoZSB0eXBlIGRvZXNuJ3QgbWF0dGVyIGJlY2F1c2Ugd2UgYXJlIGNvbXBhcmluZyBwZXIgcmVmZXJlbmNlXG4gICAgICAgICAgICBpZiAoIWZyb20ubWF0Y2hlZC5maW5kKHJlY29yZCA9PiBpc1NhbWVSb3V0ZVJlY29yZChyZWNvcmQsIHJlY29yZFRvKSkpIHtcbiAgICAgICAgICAgICAgICBlbnRlcmluZ1JlY29yZHMucHVzaChyZWNvcmRUbyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIFtsZWF2aW5nUmVjb3JkcywgdXBkYXRpbmdSZWNvcmRzLCBlbnRlcmluZ1JlY29yZHNdO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIHJvdXRlciBpbnN0YW5jZS4gRXF1aXZhbGVudCB0byB1c2luZyBgJHJvdXRlcmAgaW5zaWRlXG4gKiB0ZW1wbGF0ZXMuXG4gKi9cbmZ1bmN0aW9uIHVzZVJvdXRlcigpIHtcbiAgICByZXR1cm4gaW5qZWN0KHJvdXRlcktleSk7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIGN1cnJlbnQgcm91dGUgbG9jYXRpb24uIEVxdWl2YWxlbnQgdG8gdXNpbmcgYCRyb3V0ZWAgaW5zaWRlXG4gKiB0ZW1wbGF0ZXMuXG4gKi9cbmZ1bmN0aW9uIHVzZVJvdXRlKCkge1xuICAgIHJldHVybiBpbmplY3Qocm91dGVMb2NhdGlvbktleSk7XG59XG5cbmV4cG9ydCB7IE5hdmlnYXRpb25GYWlsdXJlVHlwZSwgUm91dGVyTGluaywgUm91dGVyVmlldywgU1RBUlRfTE9DQVRJT05fTk9STUFMSVpFRCBhcyBTVEFSVF9MT0NBVElPTiwgY3JlYXRlTWVtb3J5SGlzdG9yeSwgY3JlYXRlUm91dGVyLCBjcmVhdGVSb3V0ZXJNYXRjaGVyLCBjcmVhdGVXZWJIYXNoSGlzdG9yeSwgY3JlYXRlV2ViSGlzdG9yeSwgaXNOYXZpZ2F0aW9uRmFpbHVyZSwgbG9hZFJvdXRlTG9jYXRpb24sIG1hdGNoZWRSb3V0ZUtleSwgb25CZWZvcmVSb3V0ZUxlYXZlLCBvbkJlZm9yZVJvdXRlVXBkYXRlLCBwYXJzZVF1ZXJ5LCByb3V0ZUxvY2F0aW9uS2V5LCByb3V0ZXJLZXksIHJvdXRlclZpZXdMb2NhdGlvbktleSwgc3RyaW5naWZ5UXVlcnksIHVzZUxpbmssIHVzZVJvdXRlLCB1c2VSb3V0ZXIsIHZpZXdEZXB0aEtleSB9O1xuIiwiPHRlbXBsYXRlPlxuICA8ZGl2IGNsYXNzPVwidGFibGUtcGFnZVwiPlxuICAgIDxoND5UYWJsZSBQYWdlPC9oND5cbiAgICA8QmFzZVRhYmxlIDpoZWFkZXJzPVwidGFibGVIZWFkZXJzXCIgOnJvd3M9XCJ0YWJsZVJvd3NcIiAvPlxuICA8L2Rpdj5cbjwvdGVtcGxhdGU+XG5cbjxzY3JpcHQ+XG5pbXBvcnQgeyBtYXBBY3Rpb25zLCBtYXBHZXR0ZXJzIH0gZnJvbSBcInZ1ZXhcIjtcbmltcG9ydCBCYXNlVGFibGUgZnJvbSAnLi4vY29tcG9uZW50cy90YWJsZXMvQmFzZVRhYmxlLnZ1ZSc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgbmFtZTogXCJUYWJsZVwiLFxuICBjb21wb25lbnRzOiB7XG4gICAgQmFzZVRhYmxlXG4gIH0sXG4gIGNvbXB1dGVkOiB7XG4gICAgLi4ubWFwR2V0dGVycyh7XG4gICAgICB0YWJsZUhlYWRlcnM6IFwiZ2V0VGFibGVIZWFkZXJzXCIsXG4gICAgICB0YWJsZVJvd3M6IFwiZ2V0VGFibGVSb3dzXCIsXG4gICAgICBzZXR0aW5nczogXCJzZXR0aW5nc1wiXG4gICAgfSksXG4gIH0sXG4gIHdhdGNoOiB7XG4gICAgc2V0dGluZ3M6IHtcbiAgICAgIGhhbmRsZXIoKSB7XG4gICAgICAgIHRoaXMuZ2V0VGFibGVEYXRhKCk7XG4gICAgICB9LFxuICAgICAgaW1tZWRpYXRlOiB0cnVlXG4gICAgfVxuICB9LFxuICBtZXRob2RzOiB7XG4gICAgLi4ubWFwQWN0aW9ucyhbXCJnZXRUYWJsZURhdGFcIl0pLFxuICB9LFxufTtcbjwvc2NyaXB0PlxuIiwiLyohXG4gKiB2dWV4IHY0LjEuMFxuICogKGMpIDIwMjIgRXZhbiBZb3VcbiAqIEBsaWNlbnNlIE1JVFxuICovXG5pbXBvcnQgeyBpbmplY3QsIGVmZmVjdFNjb3BlLCByZWFjdGl2ZSwgd2F0Y2gsIGNvbXB1dGVkIH0gZnJvbSAndnVlJztcbmltcG9ydCB7IHNldHVwRGV2dG9vbHNQbHVnaW4gfSBmcm9tICdAdnVlL2RldnRvb2xzLWFwaSc7XG5cbnZhciBzdG9yZUtleSA9ICdzdG9yZSc7XG5cbmZ1bmN0aW9uIHVzZVN0b3JlIChrZXkpIHtcbiAgaWYgKCBrZXkgPT09IHZvaWQgMCApIGtleSA9IG51bGw7XG5cbiAgcmV0dXJuIGluamVjdChrZXkgIT09IG51bGwgPyBrZXkgOiBzdG9yZUtleSlcbn1cblxuLyoqXG4gKiBHZXQgdGhlIGZpcnN0IGl0ZW0gdGhhdCBwYXNzIHRoZSB0ZXN0XG4gKiBieSBzZWNvbmQgYXJndW1lbnQgZnVuY3Rpb25cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBsaXN0XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmXG4gKiBAcmV0dXJuIHsqfVxuICovXG5mdW5jdGlvbiBmaW5kIChsaXN0LCBmKSB7XG4gIHJldHVybiBsaXN0LmZpbHRlcihmKVswXVxufVxuXG4vKipcbiAqIERlZXAgY29weSB0aGUgZ2l2ZW4gb2JqZWN0IGNvbnNpZGVyaW5nIGNpcmN1bGFyIHN0cnVjdHVyZS5cbiAqIFRoaXMgZnVuY3Rpb24gY2FjaGVzIGFsbCBuZXN0ZWQgb2JqZWN0cyBhbmQgaXRzIGNvcGllcy5cbiAqIElmIGl0IGRldGVjdHMgY2lyY3VsYXIgc3RydWN0dXJlLCB1c2UgY2FjaGVkIGNvcHkgdG8gYXZvaWQgaW5maW5pdGUgbG9vcC5cbiAqXG4gKiBAcGFyYW0geyp9IG9ialxuICogQHBhcmFtIHtBcnJheTxPYmplY3Q+fSBjYWNoZVxuICogQHJldHVybiB7Kn1cbiAqL1xuZnVuY3Rpb24gZGVlcENvcHkgKG9iaiwgY2FjaGUpIHtcbiAgaWYgKCBjYWNoZSA9PT0gdm9pZCAwICkgY2FjaGUgPSBbXTtcblxuICAvLyBqdXN0IHJldHVybiBpZiBvYmogaXMgaW1tdXRhYmxlIHZhbHVlXG4gIGlmIChvYmogPT09IG51bGwgfHwgdHlwZW9mIG9iaiAhPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gb2JqXG4gIH1cblxuICAvLyBpZiBvYmogaXMgaGl0LCBpdCBpcyBpbiBjaXJjdWxhciBzdHJ1Y3R1cmVcbiAgdmFyIGhpdCA9IGZpbmQoY2FjaGUsIGZ1bmN0aW9uIChjKSB7IHJldHVybiBjLm9yaWdpbmFsID09PSBvYmo7IH0pO1xuICBpZiAoaGl0KSB7XG4gICAgcmV0dXJuIGhpdC5jb3B5XG4gIH1cblxuICB2YXIgY29weSA9IEFycmF5LmlzQXJyYXkob2JqKSA/IFtdIDoge307XG4gIC8vIHB1dCB0aGUgY29weSBpbnRvIGNhY2hlIGF0IGZpcnN0XG4gIC8vIGJlY2F1c2Ugd2Ugd2FudCB0byByZWZlciBpdCBpbiByZWN1cnNpdmUgZGVlcENvcHlcbiAgY2FjaGUucHVzaCh7XG4gICAgb3JpZ2luYWw6IG9iaixcbiAgICBjb3B5OiBjb3B5XG4gIH0pO1xuXG4gIE9iamVjdC5rZXlzKG9iaikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgY29weVtrZXldID0gZGVlcENvcHkob2JqW2tleV0sIGNhY2hlKTtcbiAgfSk7XG5cbiAgcmV0dXJuIGNvcHlcbn1cblxuLyoqXG4gKiBmb3JFYWNoIGZvciBvYmplY3RcbiAqL1xuZnVuY3Rpb24gZm9yRWFjaFZhbHVlIChvYmosIGZuKSB7XG4gIE9iamVjdC5rZXlzKG9iaikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBmbihvYmpba2V5XSwga2V5KTsgfSk7XG59XG5cbmZ1bmN0aW9uIGlzT2JqZWN0IChvYmopIHtcbiAgcmV0dXJuIG9iaiAhPT0gbnVsbCAmJiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0J1xufVxuXG5mdW5jdGlvbiBpc1Byb21pc2UgKHZhbCkge1xuICByZXR1cm4gdmFsICYmIHR5cGVvZiB2YWwudGhlbiA9PT0gJ2Z1bmN0aW9uJ1xufVxuXG5mdW5jdGlvbiBhc3NlcnQgKGNvbmRpdGlvbiwgbXNnKSB7XG4gIGlmICghY29uZGl0aW9uKSB7IHRocm93IG5ldyBFcnJvcigoXCJbdnVleF0gXCIgKyBtc2cpKSB9XG59XG5cbmZ1bmN0aW9uIHBhcnRpYWwgKGZuLCBhcmcpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZm4oYXJnKVxuICB9XG59XG5cbmZ1bmN0aW9uIGdlbmVyaWNTdWJzY3JpYmUgKGZuLCBzdWJzLCBvcHRpb25zKSB7XG4gIGlmIChzdWJzLmluZGV4T2YoZm4pIDwgMCkge1xuICAgIG9wdGlvbnMgJiYgb3B0aW9ucy5wcmVwZW5kXG4gICAgICA/IHN1YnMudW5zaGlmdChmbilcbiAgICAgIDogc3Vicy5wdXNoKGZuKTtcbiAgfVxuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHZhciBpID0gc3Vicy5pbmRleE9mKGZuKTtcbiAgICBpZiAoaSA+IC0xKSB7XG4gICAgICBzdWJzLnNwbGljZShpLCAxKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVzZXRTdG9yZSAoc3RvcmUsIGhvdCkge1xuICBzdG9yZS5fYWN0aW9ucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIHN0b3JlLl9tdXRhdGlvbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICBzdG9yZS5fd3JhcHBlZEdldHRlcnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICBzdG9yZS5fbW9kdWxlc05hbWVzcGFjZU1hcCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIHZhciBzdGF0ZSA9IHN0b3JlLnN0YXRlO1xuICAvLyBpbml0IGFsbCBtb2R1bGVzXG4gIGluc3RhbGxNb2R1bGUoc3RvcmUsIHN0YXRlLCBbXSwgc3RvcmUuX21vZHVsZXMucm9vdCwgdHJ1ZSk7XG4gIC8vIHJlc2V0IHN0YXRlXG4gIHJlc2V0U3RvcmVTdGF0ZShzdG9yZSwgc3RhdGUsIGhvdCk7XG59XG5cbmZ1bmN0aW9uIHJlc2V0U3RvcmVTdGF0ZSAoc3RvcmUsIHN0YXRlLCBob3QpIHtcbiAgdmFyIG9sZFN0YXRlID0gc3RvcmUuX3N0YXRlO1xuICB2YXIgb2xkU2NvcGUgPSBzdG9yZS5fc2NvcGU7XG5cbiAgLy8gYmluZCBzdG9yZSBwdWJsaWMgZ2V0dGVyc1xuICBzdG9yZS5nZXR0ZXJzID0ge307XG4gIC8vIHJlc2V0IGxvY2FsIGdldHRlcnMgY2FjaGVcbiAgc3RvcmUuX21ha2VMb2NhbEdldHRlcnNDYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIHZhciB3cmFwcGVkR2V0dGVycyA9IHN0b3JlLl93cmFwcGVkR2V0dGVycztcbiAgdmFyIGNvbXB1dGVkT2JqID0ge307XG4gIHZhciBjb21wdXRlZENhY2hlID0ge307XG5cbiAgLy8gY3JlYXRlIGEgbmV3IGVmZmVjdCBzY29wZSBhbmQgY3JlYXRlIGNvbXB1dGVkIG9iamVjdCBpbnNpZGUgaXQgdG8gYXZvaWRcbiAgLy8gZ2V0dGVycyAoY29tcHV0ZWQpIGdldHRpbmcgZGVzdHJveWVkIG9uIGNvbXBvbmVudCB1bm1vdW50LlxuICB2YXIgc2NvcGUgPSBlZmZlY3RTY29wZSh0cnVlKTtcblxuICBzY29wZS5ydW4oZnVuY3Rpb24gKCkge1xuICAgIGZvckVhY2hWYWx1ZSh3cmFwcGVkR2V0dGVycywgZnVuY3Rpb24gKGZuLCBrZXkpIHtcbiAgICAgIC8vIHVzZSBjb21wdXRlZCB0byBsZXZlcmFnZSBpdHMgbGF6eS1jYWNoaW5nIG1lY2hhbmlzbVxuICAgICAgLy8gZGlyZWN0IGlubGluZSBmdW5jdGlvbiB1c2Ugd2lsbCBsZWFkIHRvIGNsb3N1cmUgcHJlc2VydmluZyBvbGRTdGF0ZS5cbiAgICAgIC8vIHVzaW5nIHBhcnRpYWwgdG8gcmV0dXJuIGZ1bmN0aW9uIHdpdGggb25seSBhcmd1bWVudHMgcHJlc2VydmVkIGluIGNsb3N1cmUgZW52aXJvbm1lbnQuXG4gICAgICBjb21wdXRlZE9ialtrZXldID0gcGFydGlhbChmbiwgc3RvcmUpO1xuICAgICAgY29tcHV0ZWRDYWNoZVtrZXldID0gY29tcHV0ZWQoZnVuY3Rpb24gKCkgeyByZXR1cm4gY29tcHV0ZWRPYmpba2V5XSgpOyB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzdG9yZS5nZXR0ZXJzLCBrZXksIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjb21wdXRlZENhY2hlW2tleV0udmFsdWU7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUgLy8gZm9yIGxvY2FsIGdldHRlcnNcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBzdG9yZS5fc3RhdGUgPSByZWFjdGl2ZSh7XG4gICAgZGF0YTogc3RhdGVcbiAgfSk7XG5cbiAgLy8gcmVnaXN0ZXIgdGhlIG5ld2x5IGNyZWF0ZWQgZWZmZWN0IHNjb3BlIHRvIHRoZSBzdG9yZSBzbyB0aGF0IHdlIGNhblxuICAvLyBkaXNwb3NlIHRoZSBlZmZlY3RzIHdoZW4gdGhpcyBtZXRob2QgcnVucyBhZ2FpbiBpbiB0aGUgZnV0dXJlLlxuICBzdG9yZS5fc2NvcGUgPSBzY29wZTtcblxuICAvLyBlbmFibGUgc3RyaWN0IG1vZGUgZm9yIG5ldyBzdGF0ZVxuICBpZiAoc3RvcmUuc3RyaWN0KSB7XG4gICAgZW5hYmxlU3RyaWN0TW9kZShzdG9yZSk7XG4gIH1cblxuICBpZiAob2xkU3RhdGUpIHtcbiAgICBpZiAoaG90KSB7XG4gICAgICAvLyBkaXNwYXRjaCBjaGFuZ2VzIGluIGFsbCBzdWJzY3JpYmVkIHdhdGNoZXJzXG4gICAgICAvLyB0byBmb3JjZSBnZXR0ZXIgcmUtZXZhbHVhdGlvbiBmb3IgaG90IHJlbG9hZGluZy5cbiAgICAgIHN0b3JlLl93aXRoQ29tbWl0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgb2xkU3RhdGUuZGF0YSA9IG51bGw7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvLyBkaXNwb3NlIHByZXZpb3VzbHkgcmVnaXN0ZXJlZCBlZmZlY3Qgc2NvcGUgaWYgdGhlcmUgaXMgb25lLlxuICBpZiAob2xkU2NvcGUpIHtcbiAgICBvbGRTY29wZS5zdG9wKCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaW5zdGFsbE1vZHVsZSAoc3RvcmUsIHJvb3RTdGF0ZSwgcGF0aCwgbW9kdWxlLCBob3QpIHtcbiAgdmFyIGlzUm9vdCA9ICFwYXRoLmxlbmd0aDtcbiAgdmFyIG5hbWVzcGFjZSA9IHN0b3JlLl9tb2R1bGVzLmdldE5hbWVzcGFjZShwYXRoKTtcblxuICAvLyByZWdpc3RlciBpbiBuYW1lc3BhY2UgbWFwXG4gIGlmIChtb2R1bGUubmFtZXNwYWNlZCkge1xuICAgIGlmIChzdG9yZS5fbW9kdWxlc05hbWVzcGFjZU1hcFtuYW1lc3BhY2VdICYmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgY29uc29sZS5lcnJvcigoXCJbdnVleF0gZHVwbGljYXRlIG5hbWVzcGFjZSBcIiArIG5hbWVzcGFjZSArIFwiIGZvciB0aGUgbmFtZXNwYWNlZCBtb2R1bGUgXCIgKyAocGF0aC5qb2luKCcvJykpKSk7XG4gICAgfVxuICAgIHN0b3JlLl9tb2R1bGVzTmFtZXNwYWNlTWFwW25hbWVzcGFjZV0gPSBtb2R1bGU7XG4gIH1cblxuICAvLyBzZXQgc3RhdGVcbiAgaWYgKCFpc1Jvb3QgJiYgIWhvdCkge1xuICAgIHZhciBwYXJlbnRTdGF0ZSA9IGdldE5lc3RlZFN0YXRlKHJvb3RTdGF0ZSwgcGF0aC5zbGljZSgwLCAtMSkpO1xuICAgIHZhciBtb2R1bGVOYW1lID0gcGF0aFtwYXRoLmxlbmd0aCAtIDFdO1xuICAgIHN0b3JlLl93aXRoQ29tbWl0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgaWYgKG1vZHVsZU5hbWUgaW4gcGFyZW50U3RhdGUpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICAoXCJbdnVleF0gc3RhdGUgZmllbGQgXFxcIlwiICsgbW9kdWxlTmFtZSArIFwiXFxcIiB3YXMgb3ZlcnJpZGRlbiBieSBhIG1vZHVsZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXQgXFxcIlwiICsgKHBhdGguam9pbignLicpKSArIFwiXFxcIlwiKVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHBhcmVudFN0YXRlW21vZHVsZU5hbWVdID0gbW9kdWxlLnN0YXRlO1xuICAgIH0pO1xuICB9XG5cbiAgdmFyIGxvY2FsID0gbW9kdWxlLmNvbnRleHQgPSBtYWtlTG9jYWxDb250ZXh0KHN0b3JlLCBuYW1lc3BhY2UsIHBhdGgpO1xuXG4gIG1vZHVsZS5mb3JFYWNoTXV0YXRpb24oZnVuY3Rpb24gKG11dGF0aW9uLCBrZXkpIHtcbiAgICB2YXIgbmFtZXNwYWNlZFR5cGUgPSBuYW1lc3BhY2UgKyBrZXk7XG4gICAgcmVnaXN0ZXJNdXRhdGlvbihzdG9yZSwgbmFtZXNwYWNlZFR5cGUsIG11dGF0aW9uLCBsb2NhbCk7XG4gIH0pO1xuXG4gIG1vZHVsZS5mb3JFYWNoQWN0aW9uKGZ1bmN0aW9uIChhY3Rpb24sIGtleSkge1xuICAgIHZhciB0eXBlID0gYWN0aW9uLnJvb3QgPyBrZXkgOiBuYW1lc3BhY2UgKyBrZXk7XG4gICAgdmFyIGhhbmRsZXIgPSBhY3Rpb24uaGFuZGxlciB8fCBhY3Rpb247XG4gICAgcmVnaXN0ZXJBY3Rpb24oc3RvcmUsIHR5cGUsIGhhbmRsZXIsIGxvY2FsKTtcbiAgfSk7XG5cbiAgbW9kdWxlLmZvckVhY2hHZXR0ZXIoZnVuY3Rpb24gKGdldHRlciwga2V5KSB7XG4gICAgdmFyIG5hbWVzcGFjZWRUeXBlID0gbmFtZXNwYWNlICsga2V5O1xuICAgIHJlZ2lzdGVyR2V0dGVyKHN0b3JlLCBuYW1lc3BhY2VkVHlwZSwgZ2V0dGVyLCBsb2NhbCk7XG4gIH0pO1xuXG4gIG1vZHVsZS5mb3JFYWNoQ2hpbGQoZnVuY3Rpb24gKGNoaWxkLCBrZXkpIHtcbiAgICBpbnN0YWxsTW9kdWxlKHN0b3JlLCByb290U3RhdGUsIHBhdGguY29uY2F0KGtleSksIGNoaWxkLCBob3QpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBtYWtlIGxvY2FsaXplZCBkaXNwYXRjaCwgY29tbWl0LCBnZXR0ZXJzIGFuZCBzdGF0ZVxuICogaWYgdGhlcmUgaXMgbm8gbmFtZXNwYWNlLCBqdXN0IHVzZSByb290IG9uZXNcbiAqL1xuZnVuY3Rpb24gbWFrZUxvY2FsQ29udGV4dCAoc3RvcmUsIG5hbWVzcGFjZSwgcGF0aCkge1xuICB2YXIgbm9OYW1lc3BhY2UgPSBuYW1lc3BhY2UgPT09ICcnO1xuXG4gIHZhciBsb2NhbCA9IHtcbiAgICBkaXNwYXRjaDogbm9OYW1lc3BhY2UgPyBzdG9yZS5kaXNwYXRjaCA6IGZ1bmN0aW9uIChfdHlwZSwgX3BheWxvYWQsIF9vcHRpb25zKSB7XG4gICAgICB2YXIgYXJncyA9IHVuaWZ5T2JqZWN0U3R5bGUoX3R5cGUsIF9wYXlsb2FkLCBfb3B0aW9ucyk7XG4gICAgICB2YXIgcGF5bG9hZCA9IGFyZ3MucGF5bG9hZDtcbiAgICAgIHZhciBvcHRpb25zID0gYXJncy5vcHRpb25zO1xuICAgICAgdmFyIHR5cGUgPSBhcmdzLnR5cGU7XG5cbiAgICAgIGlmICghb3B0aW9ucyB8fCAhb3B0aW9ucy5yb290KSB7XG4gICAgICAgIHR5cGUgPSBuYW1lc3BhY2UgKyB0eXBlO1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFzdG9yZS5fYWN0aW9uc1t0eXBlXSkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoKFwiW3Z1ZXhdIHVua25vd24gbG9jYWwgYWN0aW9uIHR5cGU6IFwiICsgKGFyZ3MudHlwZSkgKyBcIiwgZ2xvYmFsIHR5cGU6IFwiICsgdHlwZSkpO1xuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzdG9yZS5kaXNwYXRjaCh0eXBlLCBwYXlsb2FkKVxuICAgIH0sXG5cbiAgICBjb21taXQ6IG5vTmFtZXNwYWNlID8gc3RvcmUuY29tbWl0IDogZnVuY3Rpb24gKF90eXBlLCBfcGF5bG9hZCwgX29wdGlvbnMpIHtcbiAgICAgIHZhciBhcmdzID0gdW5pZnlPYmplY3RTdHlsZShfdHlwZSwgX3BheWxvYWQsIF9vcHRpb25zKTtcbiAgICAgIHZhciBwYXlsb2FkID0gYXJncy5wYXlsb2FkO1xuICAgICAgdmFyIG9wdGlvbnMgPSBhcmdzLm9wdGlvbnM7XG4gICAgICB2YXIgdHlwZSA9IGFyZ3MudHlwZTtcblxuICAgICAgaWYgKCFvcHRpb25zIHx8ICFvcHRpb25zLnJvb3QpIHtcbiAgICAgICAgdHlwZSA9IG5hbWVzcGFjZSArIHR5cGU7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIXN0b3JlLl9tdXRhdGlvbnNbdHlwZV0pIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKChcIlt2dWV4XSB1bmtub3duIGxvY2FsIG11dGF0aW9uIHR5cGU6IFwiICsgKGFyZ3MudHlwZSkgKyBcIiwgZ2xvYmFsIHR5cGU6IFwiICsgdHlwZSkpO1xuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHN0b3JlLmNvbW1pdCh0eXBlLCBwYXlsb2FkLCBvcHRpb25zKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gZ2V0dGVycyBhbmQgc3RhdGUgb2JqZWN0IG11c3QgYmUgZ290dGVuIGxhemlseVxuICAvLyBiZWNhdXNlIHRoZXkgd2lsbCBiZSBjaGFuZ2VkIGJ5IHN0YXRlIHVwZGF0ZVxuICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhsb2NhbCwge1xuICAgIGdldHRlcnM6IHtcbiAgICAgIGdldDogbm9OYW1lc3BhY2VcbiAgICAgICAgPyBmdW5jdGlvbiAoKSB7IHJldHVybiBzdG9yZS5nZXR0ZXJzOyB9XG4gICAgICAgIDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbWFrZUxvY2FsR2V0dGVycyhzdG9yZSwgbmFtZXNwYWNlKTsgfVxuICAgIH0sXG4gICAgc3RhdGU6IHtcbiAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZ2V0TmVzdGVkU3RhdGUoc3RvcmUuc3RhdGUsIHBhdGgpOyB9XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gbG9jYWxcbn1cblxuZnVuY3Rpb24gbWFrZUxvY2FsR2V0dGVycyAoc3RvcmUsIG5hbWVzcGFjZSkge1xuICBpZiAoIXN0b3JlLl9tYWtlTG9jYWxHZXR0ZXJzQ2FjaGVbbmFtZXNwYWNlXSkge1xuICAgIHZhciBnZXR0ZXJzUHJveHkgPSB7fTtcbiAgICB2YXIgc3BsaXRQb3MgPSBuYW1lc3BhY2UubGVuZ3RoO1xuICAgIE9iamVjdC5rZXlzKHN0b3JlLmdldHRlcnMpLmZvckVhY2goZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgIC8vIHNraXAgaWYgdGhlIHRhcmdldCBnZXR0ZXIgaXMgbm90IG1hdGNoIHRoaXMgbmFtZXNwYWNlXG4gICAgICBpZiAodHlwZS5zbGljZSgwLCBzcGxpdFBvcykgIT09IG5hbWVzcGFjZSkgeyByZXR1cm4gfVxuXG4gICAgICAvLyBleHRyYWN0IGxvY2FsIGdldHRlciB0eXBlXG4gICAgICB2YXIgbG9jYWxUeXBlID0gdHlwZS5zbGljZShzcGxpdFBvcyk7XG5cbiAgICAgIC8vIEFkZCBhIHBvcnQgdG8gdGhlIGdldHRlcnMgcHJveHkuXG4gICAgICAvLyBEZWZpbmUgYXMgZ2V0dGVyIHByb3BlcnR5IGJlY2F1c2VcbiAgICAgIC8vIHdlIGRvIG5vdCB3YW50IHRvIGV2YWx1YXRlIHRoZSBnZXR0ZXJzIGluIHRoaXMgdGltZS5cbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShnZXR0ZXJzUHJveHksIGxvY2FsVHlwZSwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN0b3JlLmdldHRlcnNbdHlwZV07IH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHN0b3JlLl9tYWtlTG9jYWxHZXR0ZXJzQ2FjaGVbbmFtZXNwYWNlXSA9IGdldHRlcnNQcm94eTtcbiAgfVxuXG4gIHJldHVybiBzdG9yZS5fbWFrZUxvY2FsR2V0dGVyc0NhY2hlW25hbWVzcGFjZV1cbn1cblxuZnVuY3Rpb24gcmVnaXN0ZXJNdXRhdGlvbiAoc3RvcmUsIHR5cGUsIGhhbmRsZXIsIGxvY2FsKSB7XG4gIHZhciBlbnRyeSA9IHN0b3JlLl9tdXRhdGlvbnNbdHlwZV0gfHwgKHN0b3JlLl9tdXRhdGlvbnNbdHlwZV0gPSBbXSk7XG4gIGVudHJ5LnB1c2goZnVuY3Rpb24gd3JhcHBlZE11dGF0aW9uSGFuZGxlciAocGF5bG9hZCkge1xuICAgIGhhbmRsZXIuY2FsbChzdG9yZSwgbG9jYWwuc3RhdGUsIHBheWxvYWQpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gcmVnaXN0ZXJBY3Rpb24gKHN0b3JlLCB0eXBlLCBoYW5kbGVyLCBsb2NhbCkge1xuICB2YXIgZW50cnkgPSBzdG9yZS5fYWN0aW9uc1t0eXBlXSB8fCAoc3RvcmUuX2FjdGlvbnNbdHlwZV0gPSBbXSk7XG4gIGVudHJ5LnB1c2goZnVuY3Rpb24gd3JhcHBlZEFjdGlvbkhhbmRsZXIgKHBheWxvYWQpIHtcbiAgICB2YXIgcmVzID0gaGFuZGxlci5jYWxsKHN0b3JlLCB7XG4gICAgICBkaXNwYXRjaDogbG9jYWwuZGlzcGF0Y2gsXG4gICAgICBjb21taXQ6IGxvY2FsLmNvbW1pdCxcbiAgICAgIGdldHRlcnM6IGxvY2FsLmdldHRlcnMsXG4gICAgICBzdGF0ZTogbG9jYWwuc3RhdGUsXG4gICAgICByb290R2V0dGVyczogc3RvcmUuZ2V0dGVycyxcbiAgICAgIHJvb3RTdGF0ZTogc3RvcmUuc3RhdGVcbiAgICB9LCBwYXlsb2FkKTtcbiAgICBpZiAoIWlzUHJvbWlzZShyZXMpKSB7XG4gICAgICByZXMgPSBQcm9taXNlLnJlc29sdmUocmVzKTtcbiAgICB9XG4gICAgaWYgKHN0b3JlLl9kZXZ0b29sSG9vaykge1xuICAgICAgcmV0dXJuIHJlcy5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHN0b3JlLl9kZXZ0b29sSG9vay5lbWl0KCd2dWV4OmVycm9yJywgZXJyKTtcbiAgICAgICAgdGhyb3cgZXJyXG4gICAgICB9KVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcmVzXG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gcmVnaXN0ZXJHZXR0ZXIgKHN0b3JlLCB0eXBlLCByYXdHZXR0ZXIsIGxvY2FsKSB7XG4gIGlmIChzdG9yZS5fd3JhcHBlZEdldHRlcnNbdHlwZV0pIHtcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICBjb25zb2xlLmVycm9yKChcIlt2dWV4XSBkdXBsaWNhdGUgZ2V0dGVyIGtleTogXCIgKyB0eXBlKSk7XG4gICAgfVxuICAgIHJldHVyblxuICB9XG4gIHN0b3JlLl93cmFwcGVkR2V0dGVyc1t0eXBlXSA9IGZ1bmN0aW9uIHdyYXBwZWRHZXR0ZXIgKHN0b3JlKSB7XG4gICAgcmV0dXJuIHJhd0dldHRlcihcbiAgICAgIGxvY2FsLnN0YXRlLCAvLyBsb2NhbCBzdGF0ZVxuICAgICAgbG9jYWwuZ2V0dGVycywgLy8gbG9jYWwgZ2V0dGVyc1xuICAgICAgc3RvcmUuc3RhdGUsIC8vIHJvb3Qgc3RhdGVcbiAgICAgIHN0b3JlLmdldHRlcnMgLy8gcm9vdCBnZXR0ZXJzXG4gICAgKVxuICB9O1xufVxuXG5mdW5jdGlvbiBlbmFibGVTdHJpY3RNb2RlIChzdG9yZSkge1xuICB3YXRjaChmdW5jdGlvbiAoKSB7IHJldHVybiBzdG9yZS5fc3RhdGUuZGF0YTsgfSwgZnVuY3Rpb24gKCkge1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgIGFzc2VydChzdG9yZS5fY29tbWl0dGluZywgXCJkbyBub3QgbXV0YXRlIHZ1ZXggc3RvcmUgc3RhdGUgb3V0c2lkZSBtdXRhdGlvbiBoYW5kbGVycy5cIik7XG4gICAgfVxuICB9LCB7IGRlZXA6IHRydWUsIGZsdXNoOiAnc3luYycgfSk7XG59XG5cbmZ1bmN0aW9uIGdldE5lc3RlZFN0YXRlIChzdGF0ZSwgcGF0aCkge1xuICByZXR1cm4gcGF0aC5yZWR1Y2UoZnVuY3Rpb24gKHN0YXRlLCBrZXkpIHsgcmV0dXJuIHN0YXRlW2tleV07IH0sIHN0YXRlKVxufVxuXG5mdW5jdGlvbiB1bmlmeU9iamVjdFN0eWxlICh0eXBlLCBwYXlsb2FkLCBvcHRpb25zKSB7XG4gIGlmIChpc09iamVjdCh0eXBlKSAmJiB0eXBlLnR5cGUpIHtcbiAgICBvcHRpb25zID0gcGF5bG9hZDtcbiAgICBwYXlsb2FkID0gdHlwZTtcbiAgICB0eXBlID0gdHlwZS50eXBlO1xuICB9XG5cbiAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgIGFzc2VydCh0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycsIChcImV4cGVjdHMgc3RyaW5nIGFzIHRoZSB0eXBlLCBidXQgZm91bmQgXCIgKyAodHlwZW9mIHR5cGUpICsgXCIuXCIpKTtcbiAgfVxuXG4gIHJldHVybiB7IHR5cGU6IHR5cGUsIHBheWxvYWQ6IHBheWxvYWQsIG9wdGlvbnM6IG9wdGlvbnMgfVxufVxuXG52YXIgTEFCRUxfVlVFWF9CSU5ESU5HUyA9ICd2dWV4IGJpbmRpbmdzJztcbnZhciBNVVRBVElPTlNfTEFZRVJfSUQgPSAndnVleDptdXRhdGlvbnMnO1xudmFyIEFDVElPTlNfTEFZRVJfSUQgPSAndnVleDphY3Rpb25zJztcbnZhciBJTlNQRUNUT1JfSUQgPSAndnVleCc7XG5cbnZhciBhY3Rpb25JZCA9IDA7XG5cbmZ1bmN0aW9uIGFkZERldnRvb2xzIChhcHAsIHN0b3JlKSB7XG4gIHNldHVwRGV2dG9vbHNQbHVnaW4oXG4gICAge1xuICAgICAgaWQ6ICdvcmcudnVlanMudnVleCcsXG4gICAgICBhcHA6IGFwcCxcbiAgICAgIGxhYmVsOiAnVnVleCcsXG4gICAgICBob21lcGFnZTogJ2h0dHBzOi8vbmV4dC52dWV4LnZ1ZWpzLm9yZy8nLFxuICAgICAgbG9nbzogJ2h0dHBzOi8vdnVlanMub3JnL2ltYWdlcy9pY29ucy9mYXZpY29uLTk2eDk2LnBuZycsXG4gICAgICBwYWNrYWdlTmFtZTogJ3Z1ZXgnLFxuICAgICAgY29tcG9uZW50U3RhdGVUeXBlczogW0xBQkVMX1ZVRVhfQklORElOR1NdXG4gICAgfSxcbiAgICBmdW5jdGlvbiAoYXBpKSB7XG4gICAgICBhcGkuYWRkVGltZWxpbmVMYXllcih7XG4gICAgICAgIGlkOiBNVVRBVElPTlNfTEFZRVJfSUQsXG4gICAgICAgIGxhYmVsOiAnVnVleCBNdXRhdGlvbnMnLFxuICAgICAgICBjb2xvcjogQ09MT1JfTElNRV81MDBcbiAgICAgIH0pO1xuXG4gICAgICBhcGkuYWRkVGltZWxpbmVMYXllcih7XG4gICAgICAgIGlkOiBBQ1RJT05TX0xBWUVSX0lELFxuICAgICAgICBsYWJlbDogJ1Z1ZXggQWN0aW9ucycsXG4gICAgICAgIGNvbG9yOiBDT0xPUl9MSU1FXzUwMFxuICAgICAgfSk7XG5cbiAgICAgIGFwaS5hZGRJbnNwZWN0b3Ioe1xuICAgICAgICBpZDogSU5TUEVDVE9SX0lELFxuICAgICAgICBsYWJlbDogJ1Z1ZXgnLFxuICAgICAgICBpY29uOiAnc3RvcmFnZScsXG4gICAgICAgIHRyZWVGaWx0ZXJQbGFjZWhvbGRlcjogJ0ZpbHRlciBzdG9yZXMuLi4nXG4gICAgICB9KTtcblxuICAgICAgYXBpLm9uLmdldEluc3BlY3RvclRyZWUoZnVuY3Rpb24gKHBheWxvYWQpIHtcbiAgICAgICAgaWYgKHBheWxvYWQuYXBwID09PSBhcHAgJiYgcGF5bG9hZC5pbnNwZWN0b3JJZCA9PT0gSU5TUEVDVE9SX0lEKSB7XG4gICAgICAgICAgaWYgKHBheWxvYWQuZmlsdGVyKSB7XG4gICAgICAgICAgICB2YXIgbm9kZXMgPSBbXTtcbiAgICAgICAgICAgIGZsYXR0ZW5TdG9yZUZvckluc3BlY3RvclRyZWUobm9kZXMsIHN0b3JlLl9tb2R1bGVzLnJvb3QsIHBheWxvYWQuZmlsdGVyLCAnJyk7XG4gICAgICAgICAgICBwYXlsb2FkLnJvb3ROb2RlcyA9IG5vZGVzO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYXlsb2FkLnJvb3ROb2RlcyA9IFtcbiAgICAgICAgICAgICAgZm9ybWF0U3RvcmVGb3JJbnNwZWN0b3JUcmVlKHN0b3JlLl9tb2R1bGVzLnJvb3QsICcnKVxuICAgICAgICAgICAgXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBhcGkub24uZ2V0SW5zcGVjdG9yU3RhdGUoZnVuY3Rpb24gKHBheWxvYWQpIHtcbiAgICAgICAgaWYgKHBheWxvYWQuYXBwID09PSBhcHAgJiYgcGF5bG9hZC5pbnNwZWN0b3JJZCA9PT0gSU5TUEVDVE9SX0lEKSB7XG4gICAgICAgICAgdmFyIG1vZHVsZVBhdGggPSBwYXlsb2FkLm5vZGVJZDtcbiAgICAgICAgICBtYWtlTG9jYWxHZXR0ZXJzKHN0b3JlLCBtb2R1bGVQYXRoKTtcbiAgICAgICAgICBwYXlsb2FkLnN0YXRlID0gZm9ybWF0U3RvcmVGb3JJbnNwZWN0b3JTdGF0ZShcbiAgICAgICAgICAgIGdldFN0b3JlTW9kdWxlKHN0b3JlLl9tb2R1bGVzLCBtb2R1bGVQYXRoKSxcbiAgICAgICAgICAgIG1vZHVsZVBhdGggPT09ICdyb290JyA/IHN0b3JlLmdldHRlcnMgOiBzdG9yZS5fbWFrZUxvY2FsR2V0dGVyc0NhY2hlLFxuICAgICAgICAgICAgbW9kdWxlUGF0aFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBhcGkub24uZWRpdEluc3BlY3RvclN0YXRlKGZ1bmN0aW9uIChwYXlsb2FkKSB7XG4gICAgICAgIGlmIChwYXlsb2FkLmFwcCA9PT0gYXBwICYmIHBheWxvYWQuaW5zcGVjdG9ySWQgPT09IElOU1BFQ1RPUl9JRCkge1xuICAgICAgICAgIHZhciBtb2R1bGVQYXRoID0gcGF5bG9hZC5ub2RlSWQ7XG4gICAgICAgICAgdmFyIHBhdGggPSBwYXlsb2FkLnBhdGg7XG4gICAgICAgICAgaWYgKG1vZHVsZVBhdGggIT09ICdyb290Jykge1xuICAgICAgICAgICAgcGF0aCA9IG1vZHVsZVBhdGguc3BsaXQoJy8nKS5maWx0ZXIoQm9vbGVhbikuY29uY2F0KCBwYXRoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3RvcmUuX3dpdGhDb21taXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcGF5bG9hZC5zZXQoc3RvcmUuX3N0YXRlLmRhdGEsIHBhdGgsIHBheWxvYWQuc3RhdGUudmFsdWUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgc3RvcmUuc3Vic2NyaWJlKGZ1bmN0aW9uIChtdXRhdGlvbiwgc3RhdGUpIHtcbiAgICAgICAgdmFyIGRhdGEgPSB7fTtcblxuICAgICAgICBpZiAobXV0YXRpb24ucGF5bG9hZCkge1xuICAgICAgICAgIGRhdGEucGF5bG9hZCA9IG11dGF0aW9uLnBheWxvYWQ7XG4gICAgICAgIH1cblxuICAgICAgICBkYXRhLnN0YXRlID0gc3RhdGU7XG5cbiAgICAgICAgYXBpLm5vdGlmeUNvbXBvbmVudFVwZGF0ZSgpO1xuICAgICAgICBhcGkuc2VuZEluc3BlY3RvclRyZWUoSU5TUEVDVE9SX0lEKTtcbiAgICAgICAgYXBpLnNlbmRJbnNwZWN0b3JTdGF0ZShJTlNQRUNUT1JfSUQpO1xuXG4gICAgICAgIGFwaS5hZGRUaW1lbGluZUV2ZW50KHtcbiAgICAgICAgICBsYXllcklkOiBNVVRBVElPTlNfTEFZRVJfSUQsXG4gICAgICAgICAgZXZlbnQ6IHtcbiAgICAgICAgICAgIHRpbWU6IERhdGUubm93KCksXG4gICAgICAgICAgICB0aXRsZTogbXV0YXRpb24udHlwZSxcbiAgICAgICAgICAgIGRhdGE6IGRhdGFcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIHN0b3JlLnN1YnNjcmliZUFjdGlvbih7XG4gICAgICAgIGJlZm9yZTogZnVuY3Rpb24gKGFjdGlvbiwgc3RhdGUpIHtcbiAgICAgICAgICB2YXIgZGF0YSA9IHt9O1xuICAgICAgICAgIGlmIChhY3Rpb24ucGF5bG9hZCkge1xuICAgICAgICAgICAgZGF0YS5wYXlsb2FkID0gYWN0aW9uLnBheWxvYWQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGFjdGlvbi5faWQgPSBhY3Rpb25JZCsrO1xuICAgICAgICAgIGFjdGlvbi5fdGltZSA9IERhdGUubm93KCk7XG4gICAgICAgICAgZGF0YS5zdGF0ZSA9IHN0YXRlO1xuXG4gICAgICAgICAgYXBpLmFkZFRpbWVsaW5lRXZlbnQoe1xuICAgICAgICAgICAgbGF5ZXJJZDogQUNUSU9OU19MQVlFUl9JRCxcbiAgICAgICAgICAgIGV2ZW50OiB7XG4gICAgICAgICAgICAgIHRpbWU6IGFjdGlvbi5fdGltZSxcbiAgICAgICAgICAgICAgdGl0bGU6IGFjdGlvbi50eXBlLFxuICAgICAgICAgICAgICBncm91cElkOiBhY3Rpb24uX2lkLFxuICAgICAgICAgICAgICBzdWJ0aXRsZTogJ3N0YXJ0JyxcbiAgICAgICAgICAgICAgZGF0YTogZGF0YVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBhZnRlcjogZnVuY3Rpb24gKGFjdGlvbiwgc3RhdGUpIHtcbiAgICAgICAgICB2YXIgZGF0YSA9IHt9O1xuICAgICAgICAgIHZhciBkdXJhdGlvbiA9IERhdGUubm93KCkgLSBhY3Rpb24uX3RpbWU7XG4gICAgICAgICAgZGF0YS5kdXJhdGlvbiA9IHtcbiAgICAgICAgICAgIF9jdXN0b206IHtcbiAgICAgICAgICAgICAgdHlwZTogJ2R1cmF0aW9uJyxcbiAgICAgICAgICAgICAgZGlzcGxheTogKGR1cmF0aW9uICsgXCJtc1wiKSxcbiAgICAgICAgICAgICAgdG9vbHRpcDogJ0FjdGlvbiBkdXJhdGlvbicsXG4gICAgICAgICAgICAgIHZhbHVlOiBkdXJhdGlvblxuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgICAgaWYgKGFjdGlvbi5wYXlsb2FkKSB7XG4gICAgICAgICAgICBkYXRhLnBheWxvYWQgPSBhY3Rpb24ucGF5bG9hZDtcbiAgICAgICAgICB9XG4gICAgICAgICAgZGF0YS5zdGF0ZSA9IHN0YXRlO1xuXG4gICAgICAgICAgYXBpLmFkZFRpbWVsaW5lRXZlbnQoe1xuICAgICAgICAgICAgbGF5ZXJJZDogQUNUSU9OU19MQVlFUl9JRCxcbiAgICAgICAgICAgIGV2ZW50OiB7XG4gICAgICAgICAgICAgIHRpbWU6IERhdGUubm93KCksXG4gICAgICAgICAgICAgIHRpdGxlOiBhY3Rpb24udHlwZSxcbiAgICAgICAgICAgICAgZ3JvdXBJZDogYWN0aW9uLl9pZCxcbiAgICAgICAgICAgICAgc3VidGl0bGU6ICdlbmQnLFxuICAgICAgICAgICAgICBkYXRhOiBkYXRhXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgKTtcbn1cblxuLy8gZXh0cmFjdGVkIGZyb20gdGFpbHdpbmQgcGFsZXR0ZVxudmFyIENPTE9SX0xJTUVfNTAwID0gMHg4NGNjMTY7XG52YXIgQ09MT1JfREFSSyA9IDB4NjY2NjY2O1xudmFyIENPTE9SX1dISVRFID0gMHhmZmZmZmY7XG5cbnZhciBUQUdfTkFNRVNQQUNFRCA9IHtcbiAgbGFiZWw6ICduYW1lc3BhY2VkJyxcbiAgdGV4dENvbG9yOiBDT0xPUl9XSElURSxcbiAgYmFja2dyb3VuZENvbG9yOiBDT0xPUl9EQVJLXG59O1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoXG4gKi9cbmZ1bmN0aW9uIGV4dHJhY3ROYW1lRnJvbVBhdGggKHBhdGgpIHtcbiAgcmV0dXJuIHBhdGggJiYgcGF0aCAhPT0gJ3Jvb3QnID8gcGF0aC5zcGxpdCgnLycpLnNsaWNlKC0yLCAtMSlbMF0gOiAnUm9vdCdcbn1cblxuLyoqXG4gKiBAcGFyYW0geyp9IG1vZHVsZVxuICogQHJldHVybiB7aW1wb3J0KCdAdnVlL2RldnRvb2xzLWFwaScpLkN1c3RvbUluc3BlY3Rvck5vZGV9XG4gKi9cbmZ1bmN0aW9uIGZvcm1hdFN0b3JlRm9ySW5zcGVjdG9yVHJlZSAobW9kdWxlLCBwYXRoKSB7XG4gIHJldHVybiB7XG4gICAgaWQ6IHBhdGggfHwgJ3Jvb3QnLFxuICAgIC8vIGFsbCBtb2R1bGVzIGVuZCB3aXRoIGEgYC9gLCB3ZSB3YW50IHRoZSBsYXN0IHNlZ21lbnQgb25seVxuICAgIC8vIGNhcnQvIC0+IGNhcnRcbiAgICAvLyBuZXN0ZWQvY2FydC8gLT4gY2FydFxuICAgIGxhYmVsOiBleHRyYWN0TmFtZUZyb21QYXRoKHBhdGgpLFxuICAgIHRhZ3M6IG1vZHVsZS5uYW1lc3BhY2VkID8gW1RBR19OQU1FU1BBQ0VEXSA6IFtdLFxuICAgIGNoaWxkcmVuOiBPYmplY3Qua2V5cyhtb2R1bGUuX2NoaWxkcmVuKS5tYXAoZnVuY3Rpb24gKG1vZHVsZU5hbWUpIHsgcmV0dXJuIGZvcm1hdFN0b3JlRm9ySW5zcGVjdG9yVHJlZShcbiAgICAgICAgbW9kdWxlLl9jaGlsZHJlblttb2R1bGVOYW1lXSxcbiAgICAgICAgcGF0aCArIG1vZHVsZU5hbWUgKyAnLydcbiAgICAgICk7IH1cbiAgICApXG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydCgnQHZ1ZS9kZXZ0b29scy1hcGknKS5DdXN0b21JbnNwZWN0b3JOb2RlW119IHJlc3VsdFxuICogQHBhcmFtIHsqfSBtb2R1bGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBmaWx0ZXJcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoXG4gKi9cbmZ1bmN0aW9uIGZsYXR0ZW5TdG9yZUZvckluc3BlY3RvclRyZWUgKHJlc3VsdCwgbW9kdWxlLCBmaWx0ZXIsIHBhdGgpIHtcbiAgaWYgKHBhdGguaW5jbHVkZXMoZmlsdGVyKSkge1xuICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgIGlkOiBwYXRoIHx8ICdyb290JyxcbiAgICAgIGxhYmVsOiBwYXRoLmVuZHNXaXRoKCcvJykgPyBwYXRoLnNsaWNlKDAsIHBhdGgubGVuZ3RoIC0gMSkgOiBwYXRoIHx8ICdSb290JyxcbiAgICAgIHRhZ3M6IG1vZHVsZS5uYW1lc3BhY2VkID8gW1RBR19OQU1FU1BBQ0VEXSA6IFtdXG4gICAgfSk7XG4gIH1cbiAgT2JqZWN0LmtleXMobW9kdWxlLl9jaGlsZHJlbikuZm9yRWFjaChmdW5jdGlvbiAobW9kdWxlTmFtZSkge1xuICAgIGZsYXR0ZW5TdG9yZUZvckluc3BlY3RvclRyZWUocmVzdWx0LCBtb2R1bGUuX2NoaWxkcmVuW21vZHVsZU5hbWVdLCBmaWx0ZXIsIHBhdGggKyBtb2R1bGVOYW1lICsgJy8nKTtcbiAgfSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHsqfSBtb2R1bGVcbiAqIEByZXR1cm4ge2ltcG9ydCgnQHZ1ZS9kZXZ0b29scy1hcGknKS5DdXN0b21JbnNwZWN0b3JTdGF0ZX1cbiAqL1xuZnVuY3Rpb24gZm9ybWF0U3RvcmVGb3JJbnNwZWN0b3JTdGF0ZSAobW9kdWxlLCBnZXR0ZXJzLCBwYXRoKSB7XG4gIGdldHRlcnMgPSBwYXRoID09PSAncm9vdCcgPyBnZXR0ZXJzIDogZ2V0dGVyc1twYXRoXTtcbiAgdmFyIGdldHRlcnNLZXlzID0gT2JqZWN0LmtleXMoZ2V0dGVycyk7XG4gIHZhciBzdG9yZVN0YXRlID0ge1xuICAgIHN0YXRlOiBPYmplY3Qua2V5cyhtb2R1bGUuc3RhdGUpLm1hcChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiAoe1xuICAgICAga2V5OiBrZXksXG4gICAgICBlZGl0YWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiBtb2R1bGUuc3RhdGVba2V5XVxuICAgIH0pOyB9KVxuICB9O1xuXG4gIGlmIChnZXR0ZXJzS2V5cy5sZW5ndGgpIHtcbiAgICB2YXIgdHJlZSA9IHRyYW5zZm9ybVBhdGhzVG9PYmplY3RUcmVlKGdldHRlcnMpO1xuICAgIHN0b3JlU3RhdGUuZ2V0dGVycyA9IE9iamVjdC5rZXlzKHRyZWUpLm1hcChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiAoe1xuICAgICAga2V5OiBrZXkuZW5kc1dpdGgoJy8nKSA/IGV4dHJhY3ROYW1lRnJvbVBhdGgoa2V5KSA6IGtleSxcbiAgICAgIGVkaXRhYmxlOiBmYWxzZSxcbiAgICAgIHZhbHVlOiBjYW5UaHJvdyhmdW5jdGlvbiAoKSB7IHJldHVybiB0cmVlW2tleV07IH0pXG4gICAgfSk7IH0pO1xuICB9XG5cbiAgcmV0dXJuIHN0b3JlU3RhdGVcbn1cblxuZnVuY3Rpb24gdHJhbnNmb3JtUGF0aHNUb09iamVjdFRyZWUgKGdldHRlcnMpIHtcbiAgdmFyIHJlc3VsdCA9IHt9O1xuICBPYmplY3Qua2V5cyhnZXR0ZXJzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIgcGF0aCA9IGtleS5zcGxpdCgnLycpO1xuICAgIGlmIChwYXRoLmxlbmd0aCA+IDEpIHtcbiAgICAgIHZhciB0YXJnZXQgPSByZXN1bHQ7XG4gICAgICB2YXIgbGVhZktleSA9IHBhdGgucG9wKCk7XG4gICAgICBwYXRoLmZvckVhY2goZnVuY3Rpb24gKHApIHtcbiAgICAgICAgaWYgKCF0YXJnZXRbcF0pIHtcbiAgICAgICAgICB0YXJnZXRbcF0gPSB7XG4gICAgICAgICAgICBfY3VzdG9tOiB7XG4gICAgICAgICAgICAgIHZhbHVlOiB7fSxcbiAgICAgICAgICAgICAgZGlzcGxheTogcCxcbiAgICAgICAgICAgICAgdG9vbHRpcDogJ01vZHVsZScsXG4gICAgICAgICAgICAgIGFic3RyYWN0OiB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICB0YXJnZXQgPSB0YXJnZXRbcF0uX2N1c3RvbS52YWx1ZTtcbiAgICAgIH0pO1xuICAgICAgdGFyZ2V0W2xlYWZLZXldID0gY2FuVGhyb3coZnVuY3Rpb24gKCkgeyByZXR1cm4gZ2V0dGVyc1trZXldOyB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0W2tleV0gPSBjYW5UaHJvdyhmdW5jdGlvbiAoKSB7IHJldHVybiBnZXR0ZXJzW2tleV07IH0pO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiByZXN1bHRcbn1cblxuZnVuY3Rpb24gZ2V0U3RvcmVNb2R1bGUgKG1vZHVsZU1hcCwgcGF0aCkge1xuICB2YXIgbmFtZXMgPSBwYXRoLnNwbGl0KCcvJykuZmlsdGVyKGZ1bmN0aW9uIChuKSB7IHJldHVybiBuOyB9KTtcbiAgcmV0dXJuIG5hbWVzLnJlZHVjZShcbiAgICBmdW5jdGlvbiAobW9kdWxlLCBtb2R1bGVOYW1lLCBpKSB7XG4gICAgICB2YXIgY2hpbGQgPSBtb2R1bGVbbW9kdWxlTmFtZV07XG4gICAgICBpZiAoIWNoaWxkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcigoXCJNaXNzaW5nIG1vZHVsZSBcXFwiXCIgKyBtb2R1bGVOYW1lICsgXCJcXFwiIGZvciBwYXRoIFxcXCJcIiArIHBhdGggKyBcIlxcXCIuXCIpKVxuICAgICAgfVxuICAgICAgcmV0dXJuIGkgPT09IG5hbWVzLmxlbmd0aCAtIDEgPyBjaGlsZCA6IGNoaWxkLl9jaGlsZHJlblxuICAgIH0sXG4gICAgcGF0aCA9PT0gJ3Jvb3QnID8gbW9kdWxlTWFwIDogbW9kdWxlTWFwLnJvb3QuX2NoaWxkcmVuXG4gIClcbn1cblxuZnVuY3Rpb24gY2FuVGhyb3cgKGNiKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGNiKClcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBlXG4gIH1cbn1cblxuLy8gQmFzZSBkYXRhIHN0cnVjdCBmb3Igc3RvcmUncyBtb2R1bGUsIHBhY2thZ2Ugd2l0aCBzb21lIGF0dHJpYnV0ZSBhbmQgbWV0aG9kXG52YXIgTW9kdWxlID0gZnVuY3Rpb24gTW9kdWxlIChyYXdNb2R1bGUsIHJ1bnRpbWUpIHtcbiAgdGhpcy5ydW50aW1lID0gcnVudGltZTtcbiAgLy8gU3RvcmUgc29tZSBjaGlsZHJlbiBpdGVtXG4gIHRoaXMuX2NoaWxkcmVuID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgLy8gU3RvcmUgdGhlIG9yaWdpbiBtb2R1bGUgb2JqZWN0IHdoaWNoIHBhc3NlZCBieSBwcm9ncmFtbWVyXG4gIHRoaXMuX3Jhd01vZHVsZSA9IHJhd01vZHVsZTtcbiAgdmFyIHJhd1N0YXRlID0gcmF3TW9kdWxlLnN0YXRlO1xuXG4gIC8vIFN0b3JlIHRoZSBvcmlnaW4gbW9kdWxlJ3Mgc3RhdGVcbiAgdGhpcy5zdGF0ZSA9ICh0eXBlb2YgcmF3U3RhdGUgPT09ICdmdW5jdGlvbicgPyByYXdTdGF0ZSgpIDogcmF3U3RhdGUpIHx8IHt9O1xufTtcblxudmFyIHByb3RvdHlwZUFjY2Vzc29ycyQxID0geyBuYW1lc3BhY2VkOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbnByb3RvdHlwZUFjY2Vzc29ycyQxLm5hbWVzcGFjZWQuZ2V0ID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gISF0aGlzLl9yYXdNb2R1bGUubmFtZXNwYWNlZFxufTtcblxuTW9kdWxlLnByb3RvdHlwZS5hZGRDaGlsZCA9IGZ1bmN0aW9uIGFkZENoaWxkIChrZXksIG1vZHVsZSkge1xuICB0aGlzLl9jaGlsZHJlbltrZXldID0gbW9kdWxlO1xufTtcblxuTW9kdWxlLnByb3RvdHlwZS5yZW1vdmVDaGlsZCA9IGZ1bmN0aW9uIHJlbW92ZUNoaWxkIChrZXkpIHtcbiAgZGVsZXRlIHRoaXMuX2NoaWxkcmVuW2tleV07XG59O1xuXG5Nb2R1bGUucHJvdG90eXBlLmdldENoaWxkID0gZnVuY3Rpb24gZ2V0Q2hpbGQgKGtleSkge1xuICByZXR1cm4gdGhpcy5fY2hpbGRyZW5ba2V5XVxufTtcblxuTW9kdWxlLnByb3RvdHlwZS5oYXNDaGlsZCA9IGZ1bmN0aW9uIGhhc0NoaWxkIChrZXkpIHtcbiAgcmV0dXJuIGtleSBpbiB0aGlzLl9jaGlsZHJlblxufTtcblxuTW9kdWxlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUgKHJhd01vZHVsZSkge1xuICB0aGlzLl9yYXdNb2R1bGUubmFtZXNwYWNlZCA9IHJhd01vZHVsZS5uYW1lc3BhY2VkO1xuICBpZiAocmF3TW9kdWxlLmFjdGlvbnMpIHtcbiAgICB0aGlzLl9yYXdNb2R1bGUuYWN0aW9ucyA9IHJhd01vZHVsZS5hY3Rpb25zO1xuICB9XG4gIGlmIChyYXdNb2R1bGUubXV0YXRpb25zKSB7XG4gICAgdGhpcy5fcmF3TW9kdWxlLm11dGF0aW9ucyA9IHJhd01vZHVsZS5tdXRhdGlvbnM7XG4gIH1cbiAgaWYgKHJhd01vZHVsZS5nZXR0ZXJzKSB7XG4gICAgdGhpcy5fcmF3TW9kdWxlLmdldHRlcnMgPSByYXdNb2R1bGUuZ2V0dGVycztcbiAgfVxufTtcblxuTW9kdWxlLnByb3RvdHlwZS5mb3JFYWNoQ2hpbGQgPSBmdW5jdGlvbiBmb3JFYWNoQ2hpbGQgKGZuKSB7XG4gIGZvckVhY2hWYWx1ZSh0aGlzLl9jaGlsZHJlbiwgZm4pO1xufTtcblxuTW9kdWxlLnByb3RvdHlwZS5mb3JFYWNoR2V0dGVyID0gZnVuY3Rpb24gZm9yRWFjaEdldHRlciAoZm4pIHtcbiAgaWYgKHRoaXMuX3Jhd01vZHVsZS5nZXR0ZXJzKSB7XG4gICAgZm9yRWFjaFZhbHVlKHRoaXMuX3Jhd01vZHVsZS5nZXR0ZXJzLCBmbik7XG4gIH1cbn07XG5cbk1vZHVsZS5wcm90b3R5cGUuZm9yRWFjaEFjdGlvbiA9IGZ1bmN0aW9uIGZvckVhY2hBY3Rpb24gKGZuKSB7XG4gIGlmICh0aGlzLl9yYXdNb2R1bGUuYWN0aW9ucykge1xuICAgIGZvckVhY2hWYWx1ZSh0aGlzLl9yYXdNb2R1bGUuYWN0aW9ucywgZm4pO1xuICB9XG59O1xuXG5Nb2R1bGUucHJvdG90eXBlLmZvckVhY2hNdXRhdGlvbiA9IGZ1bmN0aW9uIGZvckVhY2hNdXRhdGlvbiAoZm4pIHtcbiAgaWYgKHRoaXMuX3Jhd01vZHVsZS5tdXRhdGlvbnMpIHtcbiAgICBmb3JFYWNoVmFsdWUodGhpcy5fcmF3TW9kdWxlLm11dGF0aW9ucywgZm4pO1xuICB9XG59O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyggTW9kdWxlLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzJDEgKTtcblxudmFyIE1vZHVsZUNvbGxlY3Rpb24gPSBmdW5jdGlvbiBNb2R1bGVDb2xsZWN0aW9uIChyYXdSb290TW9kdWxlKSB7XG4gIC8vIHJlZ2lzdGVyIHJvb3QgbW9kdWxlIChWdWV4LlN0b3JlIG9wdGlvbnMpXG4gIHRoaXMucmVnaXN0ZXIoW10sIHJhd1Jvb3RNb2R1bGUsIGZhbHNlKTtcbn07XG5cbk1vZHVsZUNvbGxlY3Rpb24ucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIGdldCAocGF0aCkge1xuICByZXR1cm4gcGF0aC5yZWR1Y2UoZnVuY3Rpb24gKG1vZHVsZSwga2V5KSB7XG4gICAgcmV0dXJuIG1vZHVsZS5nZXRDaGlsZChrZXkpXG4gIH0sIHRoaXMucm9vdClcbn07XG5cbk1vZHVsZUNvbGxlY3Rpb24ucHJvdG90eXBlLmdldE5hbWVzcGFjZSA9IGZ1bmN0aW9uIGdldE5hbWVzcGFjZSAocGF0aCkge1xuICB2YXIgbW9kdWxlID0gdGhpcy5yb290O1xuICByZXR1cm4gcGF0aC5yZWR1Y2UoZnVuY3Rpb24gKG5hbWVzcGFjZSwga2V5KSB7XG4gICAgbW9kdWxlID0gbW9kdWxlLmdldENoaWxkKGtleSk7XG4gICAgcmV0dXJuIG5hbWVzcGFjZSArIChtb2R1bGUubmFtZXNwYWNlZCA/IGtleSArICcvJyA6ICcnKVxuICB9LCAnJylcbn07XG5cbk1vZHVsZUNvbGxlY3Rpb24ucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSQxIChyYXdSb290TW9kdWxlKSB7XG4gIHVwZGF0ZShbXSwgdGhpcy5yb290LCByYXdSb290TW9kdWxlKTtcbn07XG5cbk1vZHVsZUNvbGxlY3Rpb24ucHJvdG90eXBlLnJlZ2lzdGVyID0gZnVuY3Rpb24gcmVnaXN0ZXIgKHBhdGgsIHJhd01vZHVsZSwgcnVudGltZSkge1xuICAgIHZhciB0aGlzJDEkMSA9IHRoaXM7XG4gICAgaWYgKCBydW50aW1lID09PSB2b2lkIDAgKSBydW50aW1lID0gdHJ1ZTtcblxuICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgYXNzZXJ0UmF3TW9kdWxlKHBhdGgsIHJhd01vZHVsZSk7XG4gIH1cblxuICB2YXIgbmV3TW9kdWxlID0gbmV3IE1vZHVsZShyYXdNb2R1bGUsIHJ1bnRpbWUpO1xuICBpZiAocGF0aC5sZW5ndGggPT09IDApIHtcbiAgICB0aGlzLnJvb3QgPSBuZXdNb2R1bGU7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHBhcmVudCA9IHRoaXMuZ2V0KHBhdGguc2xpY2UoMCwgLTEpKTtcbiAgICBwYXJlbnQuYWRkQ2hpbGQocGF0aFtwYXRoLmxlbmd0aCAtIDFdLCBuZXdNb2R1bGUpO1xuICB9XG5cbiAgLy8gcmVnaXN0ZXIgbmVzdGVkIG1vZHVsZXNcbiAgaWYgKHJhd01vZHVsZS5tb2R1bGVzKSB7XG4gICAgZm9yRWFjaFZhbHVlKHJhd01vZHVsZS5tb2R1bGVzLCBmdW5jdGlvbiAocmF3Q2hpbGRNb2R1bGUsIGtleSkge1xuICAgICAgdGhpcyQxJDEucmVnaXN0ZXIocGF0aC5jb25jYXQoa2V5KSwgcmF3Q2hpbGRNb2R1bGUsIHJ1bnRpbWUpO1xuICAgIH0pO1xuICB9XG59O1xuXG5Nb2R1bGVDb2xsZWN0aW9uLnByb3RvdHlwZS51bnJlZ2lzdGVyID0gZnVuY3Rpb24gdW5yZWdpc3RlciAocGF0aCkge1xuICB2YXIgcGFyZW50ID0gdGhpcy5nZXQocGF0aC5zbGljZSgwLCAtMSkpO1xuICB2YXIga2V5ID0gcGF0aFtwYXRoLmxlbmd0aCAtIDFdO1xuICB2YXIgY2hpbGQgPSBwYXJlbnQuZ2V0Q2hpbGQoa2V5KTtcblxuICBpZiAoIWNoaWxkKSB7XG4gICAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICBcIlt2dWV4XSB0cnlpbmcgdG8gdW5yZWdpc3RlciBtb2R1bGUgJ1wiICsga2V5ICsgXCInLCB3aGljaCBpcyBcIiArXG4gICAgICAgIFwibm90IHJlZ2lzdGVyZWRcIlxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuXG4gIH1cblxuICBpZiAoIWNoaWxkLnJ1bnRpbWUpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIHBhcmVudC5yZW1vdmVDaGlsZChrZXkpO1xufTtcblxuTW9kdWxlQ29sbGVjdGlvbi5wcm90b3R5cGUuaXNSZWdpc3RlcmVkID0gZnVuY3Rpb24gaXNSZWdpc3RlcmVkIChwYXRoKSB7XG4gIHZhciBwYXJlbnQgPSB0aGlzLmdldChwYXRoLnNsaWNlKDAsIC0xKSk7XG4gIHZhciBrZXkgPSBwYXRoW3BhdGgubGVuZ3RoIC0gMV07XG5cbiAgaWYgKHBhcmVudCkge1xuICAgIHJldHVybiBwYXJlbnQuaGFzQ2hpbGQoa2V5KVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlXG59O1xuXG5mdW5jdGlvbiB1cGRhdGUgKHBhdGgsIHRhcmdldE1vZHVsZSwgbmV3TW9kdWxlKSB7XG4gIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICBhc3NlcnRSYXdNb2R1bGUocGF0aCwgbmV3TW9kdWxlKTtcbiAgfVxuXG4gIC8vIHVwZGF0ZSB0YXJnZXQgbW9kdWxlXG4gIHRhcmdldE1vZHVsZS51cGRhdGUobmV3TW9kdWxlKTtcblxuICAvLyB1cGRhdGUgbmVzdGVkIG1vZHVsZXNcbiAgaWYgKG5ld01vZHVsZS5tb2R1bGVzKSB7XG4gICAgZm9yICh2YXIga2V5IGluIG5ld01vZHVsZS5tb2R1bGVzKSB7XG4gICAgICBpZiAoIXRhcmdldE1vZHVsZS5nZXRDaGlsZChrZXkpKSB7XG4gICAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICBcIlt2dWV4XSB0cnlpbmcgdG8gYWRkIGEgbmV3IG1vZHVsZSAnXCIgKyBrZXkgKyBcIicgb24gaG90IHJlbG9hZGluZywgXCIgK1xuICAgICAgICAgICAgJ21hbnVhbCByZWxvYWQgaXMgbmVlZGVkJ1xuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICB1cGRhdGUoXG4gICAgICAgIHBhdGguY29uY2F0KGtleSksXG4gICAgICAgIHRhcmdldE1vZHVsZS5nZXRDaGlsZChrZXkpLFxuICAgICAgICBuZXdNb2R1bGUubW9kdWxlc1trZXldXG4gICAgICApO1xuICAgIH1cbiAgfVxufVxuXG52YXIgZnVuY3Rpb25Bc3NlcnQgPSB7XG4gIGFzc2VydDogZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbic7IH0sXG4gIGV4cGVjdGVkOiAnZnVuY3Rpb24nXG59O1xuXG52YXIgb2JqZWN0QXNzZXJ0ID0ge1xuICBhc3NlcnQ6IGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nIHx8XG4gICAgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHZhbHVlLmhhbmRsZXIgPT09ICdmdW5jdGlvbicpOyB9LFxuICBleHBlY3RlZDogJ2Z1bmN0aW9uIG9yIG9iamVjdCB3aXRoIFwiaGFuZGxlclwiIGZ1bmN0aW9uJ1xufTtcblxudmFyIGFzc2VydFR5cGVzID0ge1xuICBnZXR0ZXJzOiBmdW5jdGlvbkFzc2VydCxcbiAgbXV0YXRpb25zOiBmdW5jdGlvbkFzc2VydCxcbiAgYWN0aW9uczogb2JqZWN0QXNzZXJ0XG59O1xuXG5mdW5jdGlvbiBhc3NlcnRSYXdNb2R1bGUgKHBhdGgsIHJhd01vZHVsZSkge1xuICBPYmplY3Qua2V5cyhhc3NlcnRUeXBlcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgaWYgKCFyYXdNb2R1bGVba2V5XSkgeyByZXR1cm4gfVxuXG4gICAgdmFyIGFzc2VydE9wdGlvbnMgPSBhc3NlcnRUeXBlc1trZXldO1xuXG4gICAgZm9yRWFjaFZhbHVlKHJhd01vZHVsZVtrZXldLCBmdW5jdGlvbiAodmFsdWUsIHR5cGUpIHtcbiAgICAgIGFzc2VydChcbiAgICAgICAgYXNzZXJ0T3B0aW9ucy5hc3NlcnQodmFsdWUpLFxuICAgICAgICBtYWtlQXNzZXJ0aW9uTWVzc2FnZShwYXRoLCBrZXksIHR5cGUsIHZhbHVlLCBhc3NlcnRPcHRpb25zLmV4cGVjdGVkKVxuICAgICAgKTtcbiAgICB9KTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIG1ha2VBc3NlcnRpb25NZXNzYWdlIChwYXRoLCBrZXksIHR5cGUsIHZhbHVlLCBleHBlY3RlZCkge1xuICB2YXIgYnVmID0ga2V5ICsgXCIgc2hvdWxkIGJlIFwiICsgZXhwZWN0ZWQgKyBcIiBidXQgXFxcIlwiICsga2V5ICsgXCIuXCIgKyB0eXBlICsgXCJcXFwiXCI7XG4gIGlmIChwYXRoLmxlbmd0aCA+IDApIHtcbiAgICBidWYgKz0gXCIgaW4gbW9kdWxlIFxcXCJcIiArIChwYXRoLmpvaW4oJy4nKSkgKyBcIlxcXCJcIjtcbiAgfVxuICBidWYgKz0gXCIgaXMgXCIgKyAoSlNPTi5zdHJpbmdpZnkodmFsdWUpKSArIFwiLlwiO1xuICByZXR1cm4gYnVmXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVN0b3JlIChvcHRpb25zKSB7XG4gIHJldHVybiBuZXcgU3RvcmUob3B0aW9ucylcbn1cblxudmFyIFN0b3JlID0gZnVuY3Rpb24gU3RvcmUgKG9wdGlvbnMpIHtcbiAgdmFyIHRoaXMkMSQxID0gdGhpcztcbiAgaWYgKCBvcHRpb25zID09PSB2b2lkIDAgKSBvcHRpb25zID0ge307XG5cbiAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgIGFzc2VydCh0eXBlb2YgUHJvbWlzZSAhPT0gJ3VuZGVmaW5lZCcsIFwidnVleCByZXF1aXJlcyBhIFByb21pc2UgcG9seWZpbGwgaW4gdGhpcyBicm93c2VyLlwiKTtcbiAgICBhc3NlcnQodGhpcyBpbnN0YW5jZW9mIFN0b3JlLCBcInN0b3JlIG11c3QgYmUgY2FsbGVkIHdpdGggdGhlIG5ldyBvcGVyYXRvci5cIik7XG4gIH1cblxuICB2YXIgcGx1Z2lucyA9IG9wdGlvbnMucGx1Z2luczsgaWYgKCBwbHVnaW5zID09PSB2b2lkIDAgKSBwbHVnaW5zID0gW107XG4gIHZhciBzdHJpY3QgPSBvcHRpb25zLnN0cmljdDsgaWYgKCBzdHJpY3QgPT09IHZvaWQgMCApIHN0cmljdCA9IGZhbHNlO1xuICB2YXIgZGV2dG9vbHMgPSBvcHRpb25zLmRldnRvb2xzO1xuXG4gIC8vIHN0b3JlIGludGVybmFsIHN0YXRlXG4gIHRoaXMuX2NvbW1pdHRpbmcgPSBmYWxzZTtcbiAgdGhpcy5fYWN0aW9ucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIHRoaXMuX2FjdGlvblN1YnNjcmliZXJzID0gW107XG4gIHRoaXMuX211dGF0aW9ucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIHRoaXMuX3dyYXBwZWRHZXR0ZXJzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgdGhpcy5fbW9kdWxlcyA9IG5ldyBNb2R1bGVDb2xsZWN0aW9uKG9wdGlvbnMpO1xuICB0aGlzLl9tb2R1bGVzTmFtZXNwYWNlTWFwID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgdGhpcy5fc3Vic2NyaWJlcnMgPSBbXTtcbiAgdGhpcy5fbWFrZUxvY2FsR2V0dGVyc0NhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuICAvLyBFZmZlY3RTY29wZSBpbnN0YW5jZS4gd2hlbiByZWdpc3RlcmluZyBuZXcgZ2V0dGVycywgd2Ugd3JhcCB0aGVtIGluc2lkZVxuICAvLyBFZmZlY3RTY29wZSBzbyB0aGF0IGdldHRlcnMgKGNvbXB1dGVkKSB3b3VsZCBub3QgYmUgZGVzdHJveWVkIG9uXG4gIC8vIGNvbXBvbmVudCB1bm1vdW50LlxuICB0aGlzLl9zY29wZSA9IG51bGw7XG5cbiAgdGhpcy5fZGV2dG9vbHMgPSBkZXZ0b29scztcblxuICAvLyBiaW5kIGNvbW1pdCBhbmQgZGlzcGF0Y2ggdG8gc2VsZlxuICB2YXIgc3RvcmUgPSB0aGlzO1xuICB2YXIgcmVmID0gdGhpcztcbiAgdmFyIGRpc3BhdGNoID0gcmVmLmRpc3BhdGNoO1xuICB2YXIgY29tbWl0ID0gcmVmLmNvbW1pdDtcbiAgdGhpcy5kaXNwYXRjaCA9IGZ1bmN0aW9uIGJvdW5kRGlzcGF0Y2ggKHR5cGUsIHBheWxvYWQpIHtcbiAgICByZXR1cm4gZGlzcGF0Y2guY2FsbChzdG9yZSwgdHlwZSwgcGF5bG9hZClcbiAgfTtcbiAgdGhpcy5jb21taXQgPSBmdW5jdGlvbiBib3VuZENvbW1pdCAodHlwZSwgcGF5bG9hZCwgb3B0aW9ucykge1xuICAgIHJldHVybiBjb21taXQuY2FsbChzdG9yZSwgdHlwZSwgcGF5bG9hZCwgb3B0aW9ucylcbiAgfTtcblxuICAvLyBzdHJpY3QgbW9kZVxuICB0aGlzLnN0cmljdCA9IHN0cmljdDtcblxuICB2YXIgc3RhdGUgPSB0aGlzLl9tb2R1bGVzLnJvb3Quc3RhdGU7XG5cbiAgLy8gaW5pdCByb290IG1vZHVsZS5cbiAgLy8gdGhpcyBhbHNvIHJlY3Vyc2l2ZWx5IHJlZ2lzdGVycyBhbGwgc3ViLW1vZHVsZXNcbiAgLy8gYW5kIGNvbGxlY3RzIGFsbCBtb2R1bGUgZ2V0dGVycyBpbnNpZGUgdGhpcy5fd3JhcHBlZEdldHRlcnNcbiAgaW5zdGFsbE1vZHVsZSh0aGlzLCBzdGF0ZSwgW10sIHRoaXMuX21vZHVsZXMucm9vdCk7XG5cbiAgLy8gaW5pdGlhbGl6ZSB0aGUgc3RvcmUgc3RhdGUsIHdoaWNoIGlzIHJlc3BvbnNpYmxlIGZvciB0aGUgcmVhY3Rpdml0eVxuICAvLyAoYWxzbyByZWdpc3RlcnMgX3dyYXBwZWRHZXR0ZXJzIGFzIGNvbXB1dGVkIHByb3BlcnRpZXMpXG4gIHJlc2V0U3RvcmVTdGF0ZSh0aGlzLCBzdGF0ZSk7XG5cbiAgLy8gYXBwbHkgcGx1Z2luc1xuICBwbHVnaW5zLmZvckVhY2goZnVuY3Rpb24gKHBsdWdpbikgeyByZXR1cm4gcGx1Z2luKHRoaXMkMSQxKTsgfSk7XG59O1xuXG52YXIgcHJvdG90eXBlQWNjZXNzb3JzID0geyBzdGF0ZTogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG5TdG9yZS5wcm90b3R5cGUuaW5zdGFsbCA9IGZ1bmN0aW9uIGluc3RhbGwgKGFwcCwgaW5qZWN0S2V5KSB7XG4gIGFwcC5wcm92aWRlKGluamVjdEtleSB8fCBzdG9yZUtleSwgdGhpcyk7XG4gIGFwcC5jb25maWcuZ2xvYmFsUHJvcGVydGllcy4kc3RvcmUgPSB0aGlzO1xuXG4gIHZhciB1c2VEZXZ0b29scyA9IHRoaXMuX2RldnRvb2xzICE9PSB1bmRlZmluZWRcbiAgICA/IHRoaXMuX2RldnRvb2xzXG4gICAgOiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgfHwgX19WVUVfUFJPRF9ERVZUT09MU19fO1xuXG4gIGlmICh1c2VEZXZ0b29scykge1xuICAgIGFkZERldnRvb2xzKGFwcCwgdGhpcyk7XG4gIH1cbn07XG5cbnByb3RvdHlwZUFjY2Vzc29ycy5zdGF0ZS5nZXQgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLl9zdGF0ZS5kYXRhXG59O1xuXG5wcm90b3R5cGVBY2Nlc3NvcnMuc3RhdGUuc2V0ID0gZnVuY3Rpb24gKHYpIHtcbiAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgIGFzc2VydChmYWxzZSwgXCJ1c2Ugc3RvcmUucmVwbGFjZVN0YXRlKCkgdG8gZXhwbGljaXQgcmVwbGFjZSBzdG9yZSBzdGF0ZS5cIik7XG4gIH1cbn07XG5cblN0b3JlLnByb3RvdHlwZS5jb21taXQgPSBmdW5jdGlvbiBjb21taXQgKF90eXBlLCBfcGF5bG9hZCwgX29wdGlvbnMpIHtcbiAgICB2YXIgdGhpcyQxJDEgPSB0aGlzO1xuXG4gIC8vIGNoZWNrIG9iamVjdC1zdHlsZSBjb21taXRcbiAgdmFyIHJlZiA9IHVuaWZ5T2JqZWN0U3R5bGUoX3R5cGUsIF9wYXlsb2FkLCBfb3B0aW9ucyk7XG4gICAgdmFyIHR5cGUgPSByZWYudHlwZTtcbiAgICB2YXIgcGF5bG9hZCA9IHJlZi5wYXlsb2FkO1xuICAgIHZhciBvcHRpb25zID0gcmVmLm9wdGlvbnM7XG5cbiAgdmFyIG11dGF0aW9uID0geyB0eXBlOiB0eXBlLCBwYXlsb2FkOiBwYXlsb2FkIH07XG4gIHZhciBlbnRyeSA9IHRoaXMuX211dGF0aW9uc1t0eXBlXTtcbiAgaWYgKCFlbnRyeSkge1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoKFwiW3Z1ZXhdIHVua25vd24gbXV0YXRpb24gdHlwZTogXCIgKyB0eXBlKSk7XG4gICAgfVxuICAgIHJldHVyblxuICB9XG4gIHRoaXMuX3dpdGhDb21taXQoZnVuY3Rpb24gKCkge1xuICAgIGVudHJ5LmZvckVhY2goZnVuY3Rpb24gY29tbWl0SXRlcmF0b3IgKGhhbmRsZXIpIHtcbiAgICAgIGhhbmRsZXIocGF5bG9hZCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIHRoaXMuX3N1YnNjcmliZXJzXG4gICAgLnNsaWNlKCkgLy8gc2hhbGxvdyBjb3B5IHRvIHByZXZlbnQgaXRlcmF0b3IgaW52YWxpZGF0aW9uIGlmIHN1YnNjcmliZXIgc3luY2hyb25vdXNseSBjYWxscyB1bnN1YnNjcmliZVxuICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChzdWIpIHsgcmV0dXJuIHN1YihtdXRhdGlvbiwgdGhpcyQxJDEuc3RhdGUpOyB9KTtcblxuICBpZiAoXG4gICAgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmXG4gICAgb3B0aW9ucyAmJiBvcHRpb25zLnNpbGVudFxuICApIHtcbiAgICBjb25zb2xlLndhcm4oXG4gICAgICBcIlt2dWV4XSBtdXRhdGlvbiB0eXBlOiBcIiArIHR5cGUgKyBcIi4gU2lsZW50IG9wdGlvbiBoYXMgYmVlbiByZW1vdmVkLiBcIiArXG4gICAgICAnVXNlIHRoZSBmaWx0ZXIgZnVuY3Rpb25hbGl0eSBpbiB0aGUgdnVlLWRldnRvb2xzJ1xuICAgICk7XG4gIH1cbn07XG5cblN0b3JlLnByb3RvdHlwZS5kaXNwYXRjaCA9IGZ1bmN0aW9uIGRpc3BhdGNoIChfdHlwZSwgX3BheWxvYWQpIHtcbiAgICB2YXIgdGhpcyQxJDEgPSB0aGlzO1xuXG4gIC8vIGNoZWNrIG9iamVjdC1zdHlsZSBkaXNwYXRjaFxuICB2YXIgcmVmID0gdW5pZnlPYmplY3RTdHlsZShfdHlwZSwgX3BheWxvYWQpO1xuICAgIHZhciB0eXBlID0gcmVmLnR5cGU7XG4gICAgdmFyIHBheWxvYWQgPSByZWYucGF5bG9hZDtcblxuICB2YXIgYWN0aW9uID0geyB0eXBlOiB0eXBlLCBwYXlsb2FkOiBwYXlsb2FkIH07XG4gIHZhciBlbnRyeSA9IHRoaXMuX2FjdGlvbnNbdHlwZV07XG4gIGlmICghZW50cnkpIHtcbiAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICBjb25zb2xlLmVycm9yKChcIlt2dWV4XSB1bmtub3duIGFjdGlvbiB0eXBlOiBcIiArIHR5cGUpKTtcbiAgICB9XG4gICAgcmV0dXJuXG4gIH1cblxuICB0cnkge1xuICAgIHRoaXMuX2FjdGlvblN1YnNjcmliZXJzXG4gICAgICAuc2xpY2UoKSAvLyBzaGFsbG93IGNvcHkgdG8gcHJldmVudCBpdGVyYXRvciBpbnZhbGlkYXRpb24gaWYgc3Vic2NyaWJlciBzeW5jaHJvbm91c2x5IGNhbGxzIHVuc3Vic2NyaWJlXG4gICAgICAuZmlsdGVyKGZ1bmN0aW9uIChzdWIpIHsgcmV0dXJuIHN1Yi5iZWZvcmU7IH0pXG4gICAgICAuZm9yRWFjaChmdW5jdGlvbiAoc3ViKSB7IHJldHVybiBzdWIuYmVmb3JlKGFjdGlvbiwgdGhpcyQxJDEuc3RhdGUpOyB9KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICAgIGNvbnNvbGUud2FybihcIlt2dWV4XSBlcnJvciBpbiBiZWZvcmUgYWN0aW9uIHN1YnNjcmliZXJzOiBcIik7XG4gICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgIH1cbiAgfVxuXG4gIHZhciByZXN1bHQgPSBlbnRyeS5sZW5ndGggPiAxXG4gICAgPyBQcm9taXNlLmFsbChlbnRyeS5tYXAoZnVuY3Rpb24gKGhhbmRsZXIpIHsgcmV0dXJuIGhhbmRsZXIocGF5bG9hZCk7IH0pKVxuICAgIDogZW50cnlbMF0ocGF5bG9hZCk7XG5cbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICByZXN1bHQudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICB0cnkge1xuICAgICAgICB0aGlzJDEkMS5fYWN0aW9uU3Vic2NyaWJlcnNcbiAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChzdWIpIHsgcmV0dXJuIHN1Yi5hZnRlcjsgfSlcbiAgICAgICAgICAuZm9yRWFjaChmdW5jdGlvbiAoc3ViKSB7IHJldHVybiBzdWIuYWZ0ZXIoYWN0aW9uLCB0aGlzJDEkMS5zdGF0ZSk7IH0pO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFwiW3Z1ZXhdIGVycm9yIGluIGFmdGVyIGFjdGlvbiBzdWJzY3JpYmVyczogXCIpO1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJlc29sdmUocmVzKTtcbiAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMkMSQxLl9hY3Rpb25TdWJzY3JpYmVyc1xuICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKHN1YikgeyByZXR1cm4gc3ViLmVycm9yOyB9KVxuICAgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChzdWIpIHsgcmV0dXJuIHN1Yi5lcnJvcihhY3Rpb24sIHRoaXMkMSQxLnN0YXRlLCBlcnJvcik7IH0pO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFwiW3Z1ZXhdIGVycm9yIGluIGVycm9yIGFjdGlvbiBzdWJzY3JpYmVyczogXCIpO1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJlamVjdChlcnJvcik7XG4gICAgfSk7XG4gIH0pXG59O1xuXG5TdG9yZS5wcm90b3R5cGUuc3Vic2NyaWJlID0gZnVuY3Rpb24gc3Vic2NyaWJlIChmbiwgb3B0aW9ucykge1xuICByZXR1cm4gZ2VuZXJpY1N1YnNjcmliZShmbiwgdGhpcy5fc3Vic2NyaWJlcnMsIG9wdGlvbnMpXG59O1xuXG5TdG9yZS5wcm90b3R5cGUuc3Vic2NyaWJlQWN0aW9uID0gZnVuY3Rpb24gc3Vic2NyaWJlQWN0aW9uIChmbiwgb3B0aW9ucykge1xuICB2YXIgc3VicyA9IHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJyA/IHsgYmVmb3JlOiBmbiB9IDogZm47XG4gIHJldHVybiBnZW5lcmljU3Vic2NyaWJlKHN1YnMsIHRoaXMuX2FjdGlvblN1YnNjcmliZXJzLCBvcHRpb25zKVxufTtcblxuU3RvcmUucHJvdG90eXBlLndhdGNoID0gZnVuY3Rpb24gd2F0Y2gkMSAoZ2V0dGVyLCBjYiwgb3B0aW9ucykge1xuICAgIHZhciB0aGlzJDEkMSA9IHRoaXM7XG5cbiAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSkge1xuICAgIGFzc2VydCh0eXBlb2YgZ2V0dGVyID09PSAnZnVuY3Rpb24nLCBcInN0b3JlLndhdGNoIG9ubHkgYWNjZXB0cyBhIGZ1bmN0aW9uLlwiKTtcbiAgfVxuICByZXR1cm4gd2F0Y2goZnVuY3Rpb24gKCkgeyByZXR1cm4gZ2V0dGVyKHRoaXMkMSQxLnN0YXRlLCB0aGlzJDEkMS5nZXR0ZXJzKTsgfSwgY2IsIE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMpKVxufTtcblxuU3RvcmUucHJvdG90eXBlLnJlcGxhY2VTdGF0ZSA9IGZ1bmN0aW9uIHJlcGxhY2VTdGF0ZSAoc3RhdGUpIHtcbiAgICB2YXIgdGhpcyQxJDEgPSB0aGlzO1xuXG4gIHRoaXMuX3dpdGhDb21taXQoZnVuY3Rpb24gKCkge1xuICAgIHRoaXMkMSQxLl9zdGF0ZS5kYXRhID0gc3RhdGU7XG4gIH0pO1xufTtcblxuU3RvcmUucHJvdG90eXBlLnJlZ2lzdGVyTW9kdWxlID0gZnVuY3Rpb24gcmVnaXN0ZXJNb2R1bGUgKHBhdGgsIHJhd01vZHVsZSwgb3B0aW9ucykge1xuICAgIGlmICggb3B0aW9ucyA9PT0gdm9pZCAwICkgb3B0aW9ucyA9IHt9O1xuXG4gIGlmICh0eXBlb2YgcGF0aCA9PT0gJ3N0cmluZycpIHsgcGF0aCA9IFtwYXRoXTsgfVxuXG4gIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykpIHtcbiAgICBhc3NlcnQoQXJyYXkuaXNBcnJheShwYXRoKSwgXCJtb2R1bGUgcGF0aCBtdXN0IGJlIGEgc3RyaW5nIG9yIGFuIEFycmF5LlwiKTtcbiAgICBhc3NlcnQocGF0aC5sZW5ndGggPiAwLCAnY2Fubm90IHJlZ2lzdGVyIHRoZSByb290IG1vZHVsZSBieSB1c2luZyByZWdpc3Rlck1vZHVsZS4nKTtcbiAgfVxuXG4gIHRoaXMuX21vZHVsZXMucmVnaXN0ZXIocGF0aCwgcmF3TW9kdWxlKTtcbiAgaW5zdGFsbE1vZHVsZSh0aGlzLCB0aGlzLnN0YXRlLCBwYXRoLCB0aGlzLl9tb2R1bGVzLmdldChwYXRoKSwgb3B0aW9ucy5wcmVzZXJ2ZVN0YXRlKTtcbiAgLy8gcmVzZXQgc3RvcmUgdG8gdXBkYXRlIGdldHRlcnMuLi5cbiAgcmVzZXRTdG9yZVN0YXRlKHRoaXMsIHRoaXMuc3RhdGUpO1xufTtcblxuU3RvcmUucHJvdG90eXBlLnVucmVnaXN0ZXJNb2R1bGUgPSBmdW5jdGlvbiB1bnJlZ2lzdGVyTW9kdWxlIChwYXRoKSB7XG4gICAgdmFyIHRoaXMkMSQxID0gdGhpcztcblxuICBpZiAodHlwZW9mIHBhdGggPT09ICdzdHJpbmcnKSB7IHBhdGggPSBbcGF0aF07IH1cblxuICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgYXNzZXJ0KEFycmF5LmlzQXJyYXkocGF0aCksIFwibW9kdWxlIHBhdGggbXVzdCBiZSBhIHN0cmluZyBvciBhbiBBcnJheS5cIik7XG4gIH1cblxuICB0aGlzLl9tb2R1bGVzLnVucmVnaXN0ZXIocGF0aCk7XG4gIHRoaXMuX3dpdGhDb21taXQoZnVuY3Rpb24gKCkge1xuICAgIHZhciBwYXJlbnRTdGF0ZSA9IGdldE5lc3RlZFN0YXRlKHRoaXMkMSQxLnN0YXRlLCBwYXRoLnNsaWNlKDAsIC0xKSk7XG4gICAgZGVsZXRlIHBhcmVudFN0YXRlW3BhdGhbcGF0aC5sZW5ndGggLSAxXV07XG4gIH0pO1xuICByZXNldFN0b3JlKHRoaXMpO1xufTtcblxuU3RvcmUucHJvdG90eXBlLmhhc01vZHVsZSA9IGZ1bmN0aW9uIGhhc01vZHVsZSAocGF0aCkge1xuICBpZiAodHlwZW9mIHBhdGggPT09ICdzdHJpbmcnKSB7IHBhdGggPSBbcGF0aF07IH1cblxuICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpKSB7XG4gICAgYXNzZXJ0KEFycmF5LmlzQXJyYXkocGF0aCksIFwibW9kdWxlIHBhdGggbXVzdCBiZSBhIHN0cmluZyBvciBhbiBBcnJheS5cIik7XG4gIH1cblxuICByZXR1cm4gdGhpcy5fbW9kdWxlcy5pc1JlZ2lzdGVyZWQocGF0aClcbn07XG5cblN0b3JlLnByb3RvdHlwZS5ob3RVcGRhdGUgPSBmdW5jdGlvbiBob3RVcGRhdGUgKG5ld09wdGlvbnMpIHtcbiAgdGhpcy5fbW9kdWxlcy51cGRhdGUobmV3T3B0aW9ucyk7XG4gIHJlc2V0U3RvcmUodGhpcywgdHJ1ZSk7XG59O1xuXG5TdG9yZS5wcm90b3R5cGUuX3dpdGhDb21taXQgPSBmdW5jdGlvbiBfd2l0aENvbW1pdCAoZm4pIHtcbiAgdmFyIGNvbW1pdHRpbmcgPSB0aGlzLl9jb21taXR0aW5nO1xuICB0aGlzLl9jb21taXR0aW5nID0gdHJ1ZTtcbiAgZm4oKTtcbiAgdGhpcy5fY29tbWl0dGluZyA9IGNvbW1pdHRpbmc7XG59O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyggU3RvcmUucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxuLyoqXG4gKiBSZWR1Y2UgdGhlIGNvZGUgd2hpY2ggd3JpdHRlbiBpbiBWdWUuanMgZm9yIGdldHRpbmcgdGhlIHN0YXRlLlxuICogQHBhcmFtIHtTdHJpbmd9IFtuYW1lc3BhY2VdIC0gTW9kdWxlJ3MgbmFtZXNwYWNlXG4gKiBAcGFyYW0ge09iamVjdHxBcnJheX0gc3RhdGVzICMgT2JqZWN0J3MgaXRlbSBjYW4gYmUgYSBmdW5jdGlvbiB3aGljaCBhY2NlcHQgc3RhdGUgYW5kIGdldHRlcnMgZm9yIHBhcmFtLCB5b3UgY2FuIGRvIHNvbWV0aGluZyBmb3Igc3RhdGUgYW5kIGdldHRlcnMgaW4gaXQuXG4gKiBAcGFyYW0ge09iamVjdH1cbiAqL1xudmFyIG1hcFN0YXRlID0gbm9ybWFsaXplTmFtZXNwYWNlKGZ1bmN0aW9uIChuYW1lc3BhY2UsIHN0YXRlcykge1xuICB2YXIgcmVzID0ge307XG4gIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWlzVmFsaWRNYXAoc3RhdGVzKSkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1t2dWV4XSBtYXBTdGF0ZTogbWFwcGVyIHBhcmFtZXRlciBtdXN0IGJlIGVpdGhlciBhbiBBcnJheSBvciBhbiBPYmplY3QnKTtcbiAgfVxuICBub3JtYWxpemVNYXAoc3RhdGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChyZWYpIHtcbiAgICB2YXIga2V5ID0gcmVmLmtleTtcbiAgICB2YXIgdmFsID0gcmVmLnZhbDtcblxuICAgIHJlc1trZXldID0gZnVuY3Rpb24gbWFwcGVkU3RhdGUgKCkge1xuICAgICAgdmFyIHN0YXRlID0gdGhpcy4kc3RvcmUuc3RhdGU7XG4gICAgICB2YXIgZ2V0dGVycyA9IHRoaXMuJHN0b3JlLmdldHRlcnM7XG4gICAgICBpZiAobmFtZXNwYWNlKSB7XG4gICAgICAgIHZhciBtb2R1bGUgPSBnZXRNb2R1bGVCeU5hbWVzcGFjZSh0aGlzLiRzdG9yZSwgJ21hcFN0YXRlJywgbmFtZXNwYWNlKTtcbiAgICAgICAgaWYgKCFtb2R1bGUpIHtcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICBzdGF0ZSA9IG1vZHVsZS5jb250ZXh0LnN0YXRlO1xuICAgICAgICBnZXR0ZXJzID0gbW9kdWxlLmNvbnRleHQuZ2V0dGVycztcbiAgICAgIH1cbiAgICAgIHJldHVybiB0eXBlb2YgdmFsID09PSAnZnVuY3Rpb24nXG4gICAgICAgID8gdmFsLmNhbGwodGhpcywgc3RhdGUsIGdldHRlcnMpXG4gICAgICAgIDogc3RhdGVbdmFsXVxuICAgIH07XG4gICAgLy8gbWFyayB2dWV4IGdldHRlciBmb3IgZGV2dG9vbHNcbiAgICByZXNba2V5XS52dWV4ID0gdHJ1ZTtcbiAgfSk7XG4gIHJldHVybiByZXNcbn0pO1xuXG4vKipcbiAqIFJlZHVjZSB0aGUgY29kZSB3aGljaCB3cml0dGVuIGluIFZ1ZS5qcyBmb3IgY29tbWl0dGluZyB0aGUgbXV0YXRpb25cbiAqIEBwYXJhbSB7U3RyaW5nfSBbbmFtZXNwYWNlXSAtIE1vZHVsZSdzIG5hbWVzcGFjZVxuICogQHBhcmFtIHtPYmplY3R8QXJyYXl9IG11dGF0aW9ucyAjIE9iamVjdCdzIGl0ZW0gY2FuIGJlIGEgZnVuY3Rpb24gd2hpY2ggYWNjZXB0IGBjb21taXRgIGZ1bmN0aW9uIGFzIHRoZSBmaXJzdCBwYXJhbSwgaXQgY2FuIGFjY2VwdCBhbm90aGVyIHBhcmFtcy4gWW91IGNhbiBjb21taXQgbXV0YXRpb24gYW5kIGRvIGFueSBvdGhlciB0aGluZ3MgaW4gdGhpcyBmdW5jdGlvbi4gc3BlY2lhbGx5LCBZb3UgbmVlZCB0byBwYXNzIGFudGhvciBwYXJhbXMgZnJvbSB0aGUgbWFwcGVkIGZ1bmN0aW9uLlxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG52YXIgbWFwTXV0YXRpb25zID0gbm9ybWFsaXplTmFtZXNwYWNlKGZ1bmN0aW9uIChuYW1lc3BhY2UsIG11dGF0aW9ucykge1xuICB2YXIgcmVzID0ge307XG4gIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWlzVmFsaWRNYXAobXV0YXRpb25zKSkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1t2dWV4XSBtYXBNdXRhdGlvbnM6IG1hcHBlciBwYXJhbWV0ZXIgbXVzdCBiZSBlaXRoZXIgYW4gQXJyYXkgb3IgYW4gT2JqZWN0Jyk7XG4gIH1cbiAgbm9ybWFsaXplTWFwKG11dGF0aW9ucykuZm9yRWFjaChmdW5jdGlvbiAocmVmKSB7XG4gICAgdmFyIGtleSA9IHJlZi5rZXk7XG4gICAgdmFyIHZhbCA9IHJlZi52YWw7XG5cbiAgICByZXNba2V5XSA9IGZ1bmN0aW9uIG1hcHBlZE11dGF0aW9uICgpIHtcbiAgICAgIHZhciBhcmdzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICB3aGlsZSAoIGxlbi0tICkgYXJnc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgICAvLyBHZXQgdGhlIGNvbW1pdCBtZXRob2QgZnJvbSBzdG9yZVxuICAgICAgdmFyIGNvbW1pdCA9IHRoaXMuJHN0b3JlLmNvbW1pdDtcbiAgICAgIGlmIChuYW1lc3BhY2UpIHtcbiAgICAgICAgdmFyIG1vZHVsZSA9IGdldE1vZHVsZUJ5TmFtZXNwYWNlKHRoaXMuJHN0b3JlLCAnbWFwTXV0YXRpb25zJywgbmFtZXNwYWNlKTtcbiAgICAgICAgaWYgKCFtb2R1bGUpIHtcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICBjb21taXQgPSBtb2R1bGUuY29udGV4dC5jb21taXQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICA/IHZhbC5hcHBseSh0aGlzLCBbY29tbWl0XS5jb25jYXQoYXJncykpXG4gICAgICAgIDogY29tbWl0LmFwcGx5KHRoaXMuJHN0b3JlLCBbdmFsXS5jb25jYXQoYXJncykpXG4gICAgfTtcbiAgfSk7XG4gIHJldHVybiByZXNcbn0pO1xuXG4vKipcbiAqIFJlZHVjZSB0aGUgY29kZSB3aGljaCB3cml0dGVuIGluIFZ1ZS5qcyBmb3IgZ2V0dGluZyB0aGUgZ2V0dGVyc1xuICogQHBhcmFtIHtTdHJpbmd9IFtuYW1lc3BhY2VdIC0gTW9kdWxlJ3MgbmFtZXNwYWNlXG4gKiBAcGFyYW0ge09iamVjdHxBcnJheX0gZ2V0dGVyc1xuICogQHJldHVybiB7T2JqZWN0fVxuICovXG52YXIgbWFwR2V0dGVycyA9IG5vcm1hbGl6ZU5hbWVzcGFjZShmdW5jdGlvbiAobmFtZXNwYWNlLCBnZXR0ZXJzKSB7XG4gIHZhciByZXMgPSB7fTtcbiAgaWYgKChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSAmJiAhaXNWYWxpZE1hcChnZXR0ZXJzKSkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1t2dWV4XSBtYXBHZXR0ZXJzOiBtYXBwZXIgcGFyYW1ldGVyIG11c3QgYmUgZWl0aGVyIGFuIEFycmF5IG9yIGFuIE9iamVjdCcpO1xuICB9XG4gIG5vcm1hbGl6ZU1hcChnZXR0ZXJzKS5mb3JFYWNoKGZ1bmN0aW9uIChyZWYpIHtcbiAgICB2YXIga2V5ID0gcmVmLmtleTtcbiAgICB2YXIgdmFsID0gcmVmLnZhbDtcblxuICAgIC8vIFRoZSBuYW1lc3BhY2UgaGFzIGJlZW4gbXV0YXRlZCBieSBub3JtYWxpemVOYW1lc3BhY2VcbiAgICB2YWwgPSBuYW1lc3BhY2UgKyB2YWw7XG4gICAgcmVzW2tleV0gPSBmdW5jdGlvbiBtYXBwZWRHZXR0ZXIgKCkge1xuICAgICAgaWYgKG5hbWVzcGFjZSAmJiAhZ2V0TW9kdWxlQnlOYW1lc3BhY2UodGhpcy4kc3RvcmUsICdtYXBHZXR0ZXJzJywgbmFtZXNwYWNlKSkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgISh2YWwgaW4gdGhpcy4kc3RvcmUuZ2V0dGVycykpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcigoXCJbdnVleF0gdW5rbm93biBnZXR0ZXI6IFwiICsgdmFsKSk7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnNbdmFsXVxuICAgIH07XG4gICAgLy8gbWFyayB2dWV4IGdldHRlciBmb3IgZGV2dG9vbHNcbiAgICByZXNba2V5XS52dWV4ID0gdHJ1ZTtcbiAgfSk7XG4gIHJldHVybiByZXNcbn0pO1xuXG4vKipcbiAqIFJlZHVjZSB0aGUgY29kZSB3aGljaCB3cml0dGVuIGluIFZ1ZS5qcyBmb3IgZGlzcGF0Y2ggdGhlIGFjdGlvblxuICogQHBhcmFtIHtTdHJpbmd9IFtuYW1lc3BhY2VdIC0gTW9kdWxlJ3MgbmFtZXNwYWNlXG4gKiBAcGFyYW0ge09iamVjdHxBcnJheX0gYWN0aW9ucyAjIE9iamVjdCdzIGl0ZW0gY2FuIGJlIGEgZnVuY3Rpb24gd2hpY2ggYWNjZXB0IGBkaXNwYXRjaGAgZnVuY3Rpb24gYXMgdGhlIGZpcnN0IHBhcmFtLCBpdCBjYW4gYWNjZXB0IGFudGhvciBwYXJhbXMuIFlvdSBjYW4gZGlzcGF0Y2ggYWN0aW9uIGFuZCBkbyBhbnkgb3RoZXIgdGhpbmdzIGluIHRoaXMgZnVuY3Rpb24uIHNwZWNpYWxseSwgWW91IG5lZWQgdG8gcGFzcyBhbnRob3IgcGFyYW1zIGZyb20gdGhlIG1hcHBlZCBmdW5jdGlvbi5cbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xudmFyIG1hcEFjdGlvbnMgPSBub3JtYWxpemVOYW1lc3BhY2UoZnVuY3Rpb24gKG5hbWVzcGFjZSwgYWN0aW9ucykge1xuICB2YXIgcmVzID0ge307XG4gIGlmICgocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgJiYgIWlzVmFsaWRNYXAoYWN0aW9ucykpIHtcbiAgICBjb25zb2xlLmVycm9yKCdbdnVleF0gbWFwQWN0aW9uczogbWFwcGVyIHBhcmFtZXRlciBtdXN0IGJlIGVpdGhlciBhbiBBcnJheSBvciBhbiBPYmplY3QnKTtcbiAgfVxuICBub3JtYWxpemVNYXAoYWN0aW9ucykuZm9yRWFjaChmdW5jdGlvbiAocmVmKSB7XG4gICAgdmFyIGtleSA9IHJlZi5rZXk7XG4gICAgdmFyIHZhbCA9IHJlZi52YWw7XG5cbiAgICByZXNba2V5XSA9IGZ1bmN0aW9uIG1hcHBlZEFjdGlvbiAoKSB7XG4gICAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgICAgLy8gZ2V0IGRpc3BhdGNoIGZ1bmN0aW9uIGZyb20gc3RvcmVcbiAgICAgIHZhciBkaXNwYXRjaCA9IHRoaXMuJHN0b3JlLmRpc3BhdGNoO1xuICAgICAgaWYgKG5hbWVzcGFjZSkge1xuICAgICAgICB2YXIgbW9kdWxlID0gZ2V0TW9kdWxlQnlOYW1lc3BhY2UodGhpcy4kc3RvcmUsICdtYXBBY3Rpb25zJywgbmFtZXNwYWNlKTtcbiAgICAgICAgaWYgKCFtb2R1bGUpIHtcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICBkaXNwYXRjaCA9IG1vZHVsZS5jb250ZXh0LmRpc3BhdGNoO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHR5cGVvZiB2YWwgPT09ICdmdW5jdGlvbidcbiAgICAgICAgPyB2YWwuYXBwbHkodGhpcywgW2Rpc3BhdGNoXS5jb25jYXQoYXJncykpXG4gICAgICAgIDogZGlzcGF0Y2guYXBwbHkodGhpcy4kc3RvcmUsIFt2YWxdLmNvbmNhdChhcmdzKSlcbiAgICB9O1xuICB9KTtcbiAgcmV0dXJuIHJlc1xufSk7XG5cbi8qKlxuICogUmViaW5kaW5nIG5hbWVzcGFjZSBwYXJhbSBmb3IgbWFwWFhYIGZ1bmN0aW9uIGluIHNwZWNpYWwgc2NvcGVkLCBhbmQgcmV0dXJuIHRoZW0gYnkgc2ltcGxlIG9iamVjdFxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZVxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG52YXIgY3JlYXRlTmFtZXNwYWNlZEhlbHBlcnMgPSBmdW5jdGlvbiAobmFtZXNwYWNlKSB7IHJldHVybiAoe1xuICBtYXBTdGF0ZTogbWFwU3RhdGUuYmluZChudWxsLCBuYW1lc3BhY2UpLFxuICBtYXBHZXR0ZXJzOiBtYXBHZXR0ZXJzLmJpbmQobnVsbCwgbmFtZXNwYWNlKSxcbiAgbWFwTXV0YXRpb25zOiBtYXBNdXRhdGlvbnMuYmluZChudWxsLCBuYW1lc3BhY2UpLFxuICBtYXBBY3Rpb25zOiBtYXBBY3Rpb25zLmJpbmQobnVsbCwgbmFtZXNwYWNlKVxufSk7IH07XG5cbi8qKlxuICogTm9ybWFsaXplIHRoZSBtYXBcbiAqIG5vcm1hbGl6ZU1hcChbMSwgMiwgM10pID0+IFsgeyBrZXk6IDEsIHZhbDogMSB9LCB7IGtleTogMiwgdmFsOiAyIH0sIHsga2V5OiAzLCB2YWw6IDMgfSBdXG4gKiBub3JtYWxpemVNYXAoe2E6IDEsIGI6IDIsIGM6IDN9KSA9PiBbIHsga2V5OiAnYScsIHZhbDogMSB9LCB7IGtleTogJ2InLCB2YWw6IDIgfSwgeyBrZXk6ICdjJywgdmFsOiAzIH0gXVxuICogQHBhcmFtIHtBcnJheXxPYmplY3R9IG1hcFxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiBub3JtYWxpemVNYXAgKG1hcCkge1xuICBpZiAoIWlzVmFsaWRNYXAobWFwKSkge1xuICAgIHJldHVybiBbXVxuICB9XG4gIHJldHVybiBBcnJheS5pc0FycmF5KG1hcClcbiAgICA/IG1hcC5tYXAoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gKHsga2V5OiBrZXksIHZhbDoga2V5IH0pOyB9KVxuICAgIDogT2JqZWN0LmtleXMobWFwKS5tYXAoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gKHsga2V5OiBrZXksIHZhbDogbWFwW2tleV0gfSk7IH0pXG59XG5cbi8qKlxuICogVmFsaWRhdGUgd2hldGhlciBnaXZlbiBtYXAgaXMgdmFsaWQgb3Igbm90XG4gKiBAcGFyYW0geyp9IG1hcFxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNWYWxpZE1hcCAobWFwKSB7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KG1hcCkgfHwgaXNPYmplY3QobWFwKVxufVxuXG4vKipcbiAqIFJldHVybiBhIGZ1bmN0aW9uIGV4cGVjdCB0d28gcGFyYW0gY29udGFpbnMgbmFtZXNwYWNlIGFuZCBtYXAuIGl0IHdpbGwgbm9ybWFsaXplIHRoZSBuYW1lc3BhY2UgYW5kIHRoZW4gdGhlIHBhcmFtJ3MgZnVuY3Rpb24gd2lsbCBoYW5kbGUgdGhlIG5ldyBuYW1lc3BhY2UgYW5kIHRoZSBtYXAuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICogQHJldHVybiB7RnVuY3Rpb259XG4gKi9cbmZ1bmN0aW9uIG5vcm1hbGl6ZU5hbWVzcGFjZSAoZm4pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChuYW1lc3BhY2UsIG1hcCkge1xuICAgIGlmICh0eXBlb2YgbmFtZXNwYWNlICE9PSAnc3RyaW5nJykge1xuICAgICAgbWFwID0gbmFtZXNwYWNlO1xuICAgICAgbmFtZXNwYWNlID0gJyc7XG4gICAgfSBlbHNlIGlmIChuYW1lc3BhY2UuY2hhckF0KG5hbWVzcGFjZS5sZW5ndGggLSAxKSAhPT0gJy8nKSB7XG4gICAgICBuYW1lc3BhY2UgKz0gJy8nO1xuICAgIH1cbiAgICByZXR1cm4gZm4obmFtZXNwYWNlLCBtYXApXG4gIH1cbn1cblxuLyoqXG4gKiBTZWFyY2ggYSBzcGVjaWFsIG1vZHVsZSBmcm9tIHN0b3JlIGJ5IG5hbWVzcGFjZS4gaWYgbW9kdWxlIG5vdCBleGlzdCwgcHJpbnQgZXJyb3IgbWVzc2FnZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBzdG9yZVxuICogQHBhcmFtIHtTdHJpbmd9IGhlbHBlclxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZVxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5mdW5jdGlvbiBnZXRNb2R1bGVCeU5hbWVzcGFjZSAoc3RvcmUsIGhlbHBlciwgbmFtZXNwYWNlKSB7XG4gIHZhciBtb2R1bGUgPSBzdG9yZS5fbW9kdWxlc05hbWVzcGFjZU1hcFtuYW1lc3BhY2VdO1xuICBpZiAoKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpICYmICFtb2R1bGUpIHtcbiAgICBjb25zb2xlLmVycm9yKChcIlt2dWV4XSBtb2R1bGUgbmFtZXNwYWNlIG5vdCBmb3VuZCBpbiBcIiArIGhlbHBlciArIFwiKCk6IFwiICsgbmFtZXNwYWNlKSk7XG4gIH1cbiAgcmV0dXJuIG1vZHVsZVxufVxuXG4vLyBDcmVkaXRzOiBib3Jyb3dlZCBjb2RlIGZyb20gZmNvbWIvcmVkdXgtbG9nZ2VyXG5cbmZ1bmN0aW9uIGNyZWF0ZUxvZ2dlciAocmVmKSB7XG4gIGlmICggcmVmID09PSB2b2lkIDAgKSByZWYgPSB7fTtcbiAgdmFyIGNvbGxhcHNlZCA9IHJlZi5jb2xsYXBzZWQ7IGlmICggY29sbGFwc2VkID09PSB2b2lkIDAgKSBjb2xsYXBzZWQgPSB0cnVlO1xuICB2YXIgZmlsdGVyID0gcmVmLmZpbHRlcjsgaWYgKCBmaWx0ZXIgPT09IHZvaWQgMCApIGZpbHRlciA9IGZ1bmN0aW9uIChtdXRhdGlvbiwgc3RhdGVCZWZvcmUsIHN0YXRlQWZ0ZXIpIHsgcmV0dXJuIHRydWU7IH07XG4gIHZhciB0cmFuc2Zvcm1lciA9IHJlZi50cmFuc2Zvcm1lcjsgaWYgKCB0cmFuc2Zvcm1lciA9PT0gdm9pZCAwICkgdHJhbnNmb3JtZXIgPSBmdW5jdGlvbiAoc3RhdGUpIHsgcmV0dXJuIHN0YXRlOyB9O1xuICB2YXIgbXV0YXRpb25UcmFuc2Zvcm1lciA9IHJlZi5tdXRhdGlvblRyYW5zZm9ybWVyOyBpZiAoIG11dGF0aW9uVHJhbnNmb3JtZXIgPT09IHZvaWQgMCApIG11dGF0aW9uVHJhbnNmb3JtZXIgPSBmdW5jdGlvbiAobXV0KSB7IHJldHVybiBtdXQ7IH07XG4gIHZhciBhY3Rpb25GaWx0ZXIgPSByZWYuYWN0aW9uRmlsdGVyOyBpZiAoIGFjdGlvbkZpbHRlciA9PT0gdm9pZCAwICkgYWN0aW9uRmlsdGVyID0gZnVuY3Rpb24gKGFjdGlvbiwgc3RhdGUpIHsgcmV0dXJuIHRydWU7IH07XG4gIHZhciBhY3Rpb25UcmFuc2Zvcm1lciA9IHJlZi5hY3Rpb25UcmFuc2Zvcm1lcjsgaWYgKCBhY3Rpb25UcmFuc2Zvcm1lciA9PT0gdm9pZCAwICkgYWN0aW9uVHJhbnNmb3JtZXIgPSBmdW5jdGlvbiAoYWN0KSB7IHJldHVybiBhY3Q7IH07XG4gIHZhciBsb2dNdXRhdGlvbnMgPSByZWYubG9nTXV0YXRpb25zOyBpZiAoIGxvZ011dGF0aW9ucyA9PT0gdm9pZCAwICkgbG9nTXV0YXRpb25zID0gdHJ1ZTtcbiAgdmFyIGxvZ0FjdGlvbnMgPSByZWYubG9nQWN0aW9uczsgaWYgKCBsb2dBY3Rpb25zID09PSB2b2lkIDAgKSBsb2dBY3Rpb25zID0gdHJ1ZTtcbiAgdmFyIGxvZ2dlciA9IHJlZi5sb2dnZXI7IGlmICggbG9nZ2VyID09PSB2b2lkIDAgKSBsb2dnZXIgPSBjb25zb2xlO1xuXG4gIHJldHVybiBmdW5jdGlvbiAoc3RvcmUpIHtcbiAgICB2YXIgcHJldlN0YXRlID0gZGVlcENvcHkoc3RvcmUuc3RhdGUpO1xuXG4gICAgaWYgKHR5cGVvZiBsb2dnZXIgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBpZiAobG9nTXV0YXRpb25zKSB7XG4gICAgICBzdG9yZS5zdWJzY3JpYmUoZnVuY3Rpb24gKG11dGF0aW9uLCBzdGF0ZSkge1xuICAgICAgICB2YXIgbmV4dFN0YXRlID0gZGVlcENvcHkoc3RhdGUpO1xuXG4gICAgICAgIGlmIChmaWx0ZXIobXV0YXRpb24sIHByZXZTdGF0ZSwgbmV4dFN0YXRlKSkge1xuICAgICAgICAgIHZhciBmb3JtYXR0ZWRUaW1lID0gZ2V0Rm9ybWF0dGVkVGltZSgpO1xuICAgICAgICAgIHZhciBmb3JtYXR0ZWRNdXRhdGlvbiA9IG11dGF0aW9uVHJhbnNmb3JtZXIobXV0YXRpb24pO1xuICAgICAgICAgIHZhciBtZXNzYWdlID0gXCJtdXRhdGlvbiBcIiArIChtdXRhdGlvbi50eXBlKSArIGZvcm1hdHRlZFRpbWU7XG5cbiAgICAgICAgICBzdGFydE1lc3NhZ2UobG9nZ2VyLCBtZXNzYWdlLCBjb2xsYXBzZWQpO1xuICAgICAgICAgIGxvZ2dlci5sb2coJyVjIHByZXYgc3RhdGUnLCAnY29sb3I6ICM5RTlFOUU7IGZvbnQtd2VpZ2h0OiBib2xkJywgdHJhbnNmb3JtZXIocHJldlN0YXRlKSk7XG4gICAgICAgICAgbG9nZ2VyLmxvZygnJWMgbXV0YXRpb24nLCAnY29sb3I6ICMwM0E5RjQ7IGZvbnQtd2VpZ2h0OiBib2xkJywgZm9ybWF0dGVkTXV0YXRpb24pO1xuICAgICAgICAgIGxvZ2dlci5sb2coJyVjIG5leHQgc3RhdGUnLCAnY29sb3I6ICM0Q0FGNTA7IGZvbnQtd2VpZ2h0OiBib2xkJywgdHJhbnNmb3JtZXIobmV4dFN0YXRlKSk7XG4gICAgICAgICAgZW5kTWVzc2FnZShsb2dnZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcHJldlN0YXRlID0gbmV4dFN0YXRlO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGxvZ0FjdGlvbnMpIHtcbiAgICAgIHN0b3JlLnN1YnNjcmliZUFjdGlvbihmdW5jdGlvbiAoYWN0aW9uLCBzdGF0ZSkge1xuICAgICAgICBpZiAoYWN0aW9uRmlsdGVyKGFjdGlvbiwgc3RhdGUpKSB7XG4gICAgICAgICAgdmFyIGZvcm1hdHRlZFRpbWUgPSBnZXRGb3JtYXR0ZWRUaW1lKCk7XG4gICAgICAgICAgdmFyIGZvcm1hdHRlZEFjdGlvbiA9IGFjdGlvblRyYW5zZm9ybWVyKGFjdGlvbik7XG4gICAgICAgICAgdmFyIG1lc3NhZ2UgPSBcImFjdGlvbiBcIiArIChhY3Rpb24udHlwZSkgKyBmb3JtYXR0ZWRUaW1lO1xuXG4gICAgICAgICAgc3RhcnRNZXNzYWdlKGxvZ2dlciwgbWVzc2FnZSwgY29sbGFwc2VkKTtcbiAgICAgICAgICBsb2dnZXIubG9nKCclYyBhY3Rpb24nLCAnY29sb3I6ICMwM0E5RjQ7IGZvbnQtd2VpZ2h0OiBib2xkJywgZm9ybWF0dGVkQWN0aW9uKTtcbiAgICAgICAgICBlbmRNZXNzYWdlKGxvZ2dlcik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBzdGFydE1lc3NhZ2UgKGxvZ2dlciwgbWVzc2FnZSwgY29sbGFwc2VkKSB7XG4gIHZhciBzdGFydE1lc3NhZ2UgPSBjb2xsYXBzZWRcbiAgICA/IGxvZ2dlci5ncm91cENvbGxhcHNlZFxuICAgIDogbG9nZ2VyLmdyb3VwO1xuXG4gIC8vIHJlbmRlclxuICB0cnkge1xuICAgIHN0YXJ0TWVzc2FnZS5jYWxsKGxvZ2dlciwgbWVzc2FnZSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBsb2dnZXIubG9nKG1lc3NhZ2UpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGVuZE1lc3NhZ2UgKGxvZ2dlcikge1xuICB0cnkge1xuICAgIGxvZ2dlci5ncm91cEVuZCgpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgbG9nZ2VyLmxvZygn4oCU4oCUIGxvZyBlbmQg4oCU4oCUJyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0Rm9ybWF0dGVkVGltZSAoKSB7XG4gIHZhciB0aW1lID0gbmV3IERhdGUoKTtcbiAgcmV0dXJuIChcIiBAIFwiICsgKHBhZCh0aW1lLmdldEhvdXJzKCksIDIpKSArIFwiOlwiICsgKHBhZCh0aW1lLmdldE1pbnV0ZXMoKSwgMikpICsgXCI6XCIgKyAocGFkKHRpbWUuZ2V0U2Vjb25kcygpLCAyKSkgKyBcIi5cIiArIChwYWQodGltZS5nZXRNaWxsaXNlY29uZHMoKSwgMykpKVxufVxuXG5mdW5jdGlvbiByZXBlYXQgKHN0ciwgdGltZXMpIHtcbiAgcmV0dXJuIChuZXcgQXJyYXkodGltZXMgKyAxKSkuam9pbihzdHIpXG59XG5cbmZ1bmN0aW9uIHBhZCAobnVtLCBtYXhMZW5ndGgpIHtcbiAgcmV0dXJuIHJlcGVhdCgnMCcsIG1heExlbmd0aCAtIG51bS50b1N0cmluZygpLmxlbmd0aCkgKyBudW1cbn1cblxudmFyIGluZGV4ID0ge1xuICB2ZXJzaW9uOiAnNC4xLjAnLFxuICBTdG9yZTogU3RvcmUsXG4gIHN0b3JlS2V5OiBzdG9yZUtleSxcbiAgY3JlYXRlU3RvcmU6IGNyZWF0ZVN0b3JlLFxuICB1c2VTdG9yZTogdXNlU3RvcmUsXG4gIG1hcFN0YXRlOiBtYXBTdGF0ZSxcbiAgbWFwTXV0YXRpb25zOiBtYXBNdXRhdGlvbnMsXG4gIG1hcEdldHRlcnM6IG1hcEdldHRlcnMsXG4gIG1hcEFjdGlvbnM6IG1hcEFjdGlvbnMsXG4gIGNyZWF0ZU5hbWVzcGFjZWRIZWxwZXJzOiBjcmVhdGVOYW1lc3BhY2VkSGVscGVycyxcbiAgY3JlYXRlTG9nZ2VyOiBjcmVhdGVMb2dnZXJcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGluZGV4O1xuZXhwb3J0IHsgU3RvcmUsIGNyZWF0ZUxvZ2dlciwgY3JlYXRlTmFtZXNwYWNlZEhlbHBlcnMsIGNyZWF0ZVN0b3JlLCBtYXBBY3Rpb25zLCBtYXBHZXR0ZXJzLCBtYXBNdXRhdGlvbnMsIG1hcFN0YXRlLCBzdG9yZUtleSwgdXNlU3RvcmUgfTtcbiIsIjx0ZW1wbGF0ZT5cbiAgPGRpdiBjbGFzcz1cInRhYmxlLXJlc3BvbnNpdmVcIj5cbiAgICA8VGFibGVMb2FkaW5nIHYtaWY9XCJsb2FkaW5nXCIgLz5cbiAgICA8dGFibGUgdi1pZj1cIiFsb2FkaW5nXCIgY2xhc3M9XCJiYXNlLXRhYmxlXCI+XG4gICAgICA8dGhlYWQ+XG4gICAgICAgIDx0cj5cbiAgICAgICAgICA8dGggdi1mb3I9XCJoZWFkZXIgaW4gaGVhZGVyc1wiIDprZXk9XCJoZWFkZXJcIj57eyBoZWFkZXIgfX08L3RoPlxuICAgICAgICA8L3RyPlxuICAgICAgPC90aGVhZD5cbiAgICAgIDx0Ym9keT5cbiAgICAgICAgPHRyIHYtZm9yPVwicm93IGluIHJvd3NcIiA6a2V5PVwicm93LmlkXCI+XG4gICAgICAgICAgPHRkIHYtZm9yPVwia2V5IGluIGhlYWRlcnNcIiA6a2V5PVwia2V5XCI+XG4gICAgICAgICAgICA8ZGl2IHYtaWY9XCJpc0h0bWwoa2V5Py50b0xvd2VyQ2FzZSgpKVwiIHYtaHRtbD1cInJvdz8uW2tleT8udG9Mb3dlckNhc2UoKV1cIiAvPlxuICAgICAgICAgICAgPHNwYW4gdi1lbHNlPnt7IHJvdz8uW2tleT8udG9Mb3dlckNhc2UoKV0gfX08L3NwYW4+XG4gICAgICAgICAgPC90ZD5cbiAgICAgICAgPC90cj5cbiAgICAgIDwvdGJvZHk+XG4gICAgPC90YWJsZT5cbiAgPC9kaXY+XG48L3RlbXBsYXRlPlxuXG48c2NyaXB0PlxuaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gXCJ2dWV4XCI7XG5pbXBvcnQgVGFibGVMb2FkaW5nIGZyb20gJy4vVGFibGVMb2FkaW5nLnZ1ZSc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgbmFtZTogJ0Jhc2VUYWJsZScsXG4gIGNvbXBvbmVudHM6IHtcbiAgICBUYWJsZUxvYWRpbmcsXG4gIH0sXG4gIHByb3BzOiB7XG4gICAgaGVhZGVyczoge1xuICAgICAgdHlwZTogQXJyYXksXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICB9LFxuICAgIHJvd3M6IHtcbiAgICAgIHR5cGU6IEFycmF5LFxuICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgfSxcbiAgICBsb2FkaW5nOiB7XG4gICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgZGVmYXVsdDogZmFsc2UsXG4gICAgfSxcbiAgICBodG1sQ29sdW1uczoge1xuICAgICAgdHlwZTogQXJyYXksXG4gICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICBkZWZhdWx0OiAoKSA9PiBbXSxcbiAgICB9XG4gIH0sXG4gIGNvbXB1dGVkOiB7XG4gICAgLi4ubWFwR2V0dGVycyhbXCJzZXR0aW5nc1wiXSksXG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBpc0h0bWwoa2V5TmFtZSkge1xuICAgICAgcmV0dXJuIHRoaXMuaHRtbENvbHVtbnMuaW5jbHVkZXMoa2V5TmFtZSk7XG4gICAgfVxuICB9XG59O1xuPC9zY3JpcHQ+XG5cbjxzdHlsZSBsYW5nPVwic2Nzc1wiIHNjb3BlZD5cbi50YWJsZS1yZXNwb25zaXZlIHtcbiAgb3ZlcmZsb3cteDogYXV0bztcbiAgcGFkZGluZzogMjBweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Y5ZjlmOTtcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xuICBib3gtc2hhZG93OiAwIDJweCA0cHggcmdiYSgwLCAwLCAwLCAwLjEpO1xuXG4gIHRhYmxlIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xuICAgIGJvcmRlcjogMXB4IHNvbGlkICM4MDgwODAxYTtcblxuICAgIHRoLCB0ZCB7XG4gICAgICBwYWRkaW5nOiAxcmVtO1xuICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlZWU7XG4gICAgICB0ZXh0LWFsaWduOiBsZWZ0O1xuICAgIH1cblxuICAgIHRoIHtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDczYWE7XG4gICAgICBjb2xvcjogd2hpdGU7XG4gICAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xuICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgfVxuXG4gICAgdGQge1xuICAgICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG4gICAgICBjb2xvcjogIzMzMztcbiAgICB9XG5cbiAgICB0cjpob3ZlciB0ZCB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjFmMWYxO1xuICAgIH1cbiAgfVxufVxuPC9zdHlsZT5cbiIsIjx0ZW1wbGF0ZT5cbiAgPGRpdlxuICAgIGNsYXNzPVwic2tlbGV0b24gc2tlbGV0b24tdGV4dFwiXG4gICAgOnN0eWxlPVwic2tlbGV0b25XaWR0aFN0eWxlXCJcbiAgLz5cbjwvdGVtcGxhdGU+XG5cbjxzY3JpcHQ+XG5leHBvcnQgZGVmYXVsdCB7XG4gICAgbmFtZTogXCJTa2VsZXRvblRleHRcIixcblxuICAgIHByb3BzOiB7XG4gICAgICAgIHdpZHRoOiB7XG4gICAgICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICAgICAgICBkZWZhdWx0OiAnMTAwJScsXG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgY29tcHV0ZWQ6IHtcbiAgICAgICAgc2tlbGV0b25XaWR0aFN0eWxlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB3aWR0aDogdGhpcy53aWR0aFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbn07XG48L3NjcmlwdD5cblxuPHN0eWxlIGxhbmc9XCJzY3NzXCIgc2NvcGVkPlxuLnNrZWxldG9uIHtcbiAgYW5pbWF0aW9uOiBza2VsZXRvbi1sb2FkaW5nIDFzIGxpbmVhciBpbmZpbml0ZSBhbHRlcm5hdGU7XG59XG5cbkBrZXlmcmFtZXMgc2tlbGV0b24tbG9hZGluZyB7XG4gIDAlIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBoc2woMjAwLCAyMCUsIDgwJSk7XG4gIH1cbiAgMTAwJSB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogaHNsKDIwMCwgMjAlLCA5NSUpO1xuICB9XG59XG5cbi5za2VsZXRvbi10ZXh0IHtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMC43cmVtO1xuICBtYXJnaW4tYm90dG9tOiAwLjVyZW07XG4gIGJvcmRlci1yYWRpdXM6IDAuMjVyZW07XG59XG48L3N0eWxlPiIsIjx0ZW1wbGF0ZT5cbiAgPHRhYmxlPlxuICAgIDx0aGVhZD5cbiAgICAgIDx0cj5cbiAgICAgICAgPHRoPlxuICAgICAgICAgIDxTa2VsZXRvblRleHQgd2lkdGg9XCIxMDBweFwiIC8+XG4gICAgICAgIDwvdGg+XG4gICAgICAgIDx0aD5cbiAgICAgICAgICA8U2tlbGV0b25UZXh0IHdpZHRoPVwiMTAwcHhcIiAvPlxuICAgICAgICA8L3RoPlxuICAgICAgICA8dGg+XG4gICAgICAgICAgPFNrZWxldG9uVGV4dCB3aWR0aD1cIjEwMHB4XCIgLz5cbiAgICAgICAgPC90aD5cbiAgICAgICAgPHRoPlxuICAgICAgICAgIDxTa2VsZXRvblRleHQgd2lkdGg9XCIxMDBweFwiIC8+XG4gICAgICAgIDwvdGg+XG4gICAgICAgIDx0aD5cbiAgICAgICAgICA8U2tlbGV0b25UZXh0IHdpZHRoPVwiMTAwcHhcIiAvPlxuICAgICAgICA8L3RoPlxuICAgICAgPC90cj5cbiAgICA8L3RoZWFkPlxuICAgIDx0Ym9keT5cbiAgICAgIDx0clxuICAgICAgICB2LWZvcj1cIihuLCBpKSBpbiA1XCJcbiAgICAgICAgOmtleT1cImlcIlxuICAgICAgICBzdHlsZT1cIm1hcmdpbi10b3A6IDUwcHg7XCJcbiAgICAgID5cbiAgICAgICAgPHRkPjxTa2VsZXRvblRleHQgd2lkdGg9XCIxMDBweFwiIC8+PC90ZD5cbiAgICAgICAgPHRkPjxTa2VsZXRvblRleHQgd2lkdGg9XCIxMDBweFwiIC8+PC90ZD5cbiAgICAgICAgPHRkPjxTa2VsZXRvblRleHQgd2lkdGg9XCIxMDBweFwiIC8+PC90ZD5cbiAgICAgICAgPHRkPjxTa2VsZXRvblRleHQgd2lkdGg9XCIxMDBweFwiIC8+PC90ZD5cbiAgICAgICAgPHRkPjxTa2VsZXRvblRleHQgd2lkdGg9XCIxMDBweFwiIC8+PC90ZD5cbiAgICAgIDwvdHI+XG4gICAgPC90Ym9keT5cbiAgPC90YWJsZT5cbjwvdGVtcGxhdGU+XG5cbjxzY3JpcHQ+XG5pbXBvcnQgU2tlbGV0b25UZXh0IGZyb20gJy4uL3NrZWxldG9uL1NrZWxldG9uVGV4dC52dWUnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgbmFtZTogJ1RhYmxlTG9hZGluZycsXG5cbiAgICBjb21wb25lbnRzOiB7XG4gICAgICAgIFNrZWxldG9uVGV4dFxuICAgIH1cbn07XG48L3NjcmlwdD5cblxuPHN0eWxlIGxhbmc9XCJzY3NzXCIgc2NvcGVkPlxudGFibGUge1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XG4gICAgYm9yZGVyOiAxcHggc29saWQgIzgwODA4MDFhO1xuXG4gICAgdGgsIHRkIHtcbiAgICAgICAgcGFkZGluZzogMTBweCAyMHB4O1xuICAgIH1cblxuICAgIHRoIHtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tY29sb3Itd2hpdGUpO1xuICAgIH1cbn1cbjwvc3R5bGU+IiwiaW1wb3J0IHsgcmVuZGVyIH0gZnJvbSBcIi4vU2tlbGV0b25UZXh0LnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD0zZWUyNDgyMiZzY29wZWQ9dHJ1ZVwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL1NrZWxldG9uVGV4dC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anNcIlxuZXhwb3J0ICogZnJvbSBcIi4vU2tlbGV0b25UZXh0LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qc1wiXG5cbmltcG9ydCBcIi4vU2tlbGV0b25UZXh0LnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmlkPTNlZTI0ODIyJmxhbmc9c2NzcyZzY29wZWQ9dHJ1ZVwiXG5cbmltcG9ydCBleHBvcnRDb21wb25lbnQgZnJvbSBcIi4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2Rpc3QvZXhwb3J0SGVscGVyLmpzXCJcbmNvbnN0IF9fZXhwb3J0c19fID0gLyojX19QVVJFX18qL2V4cG9ydENvbXBvbmVudChzY3JpcHQsIFtbJ3JlbmRlcicscmVuZGVyXSxbJ19fc2NvcGVJZCcsXCJkYXRhLXYtM2VlMjQ4MjJcIl1dKVxuXG5leHBvcnQgZGVmYXVsdCBfX2V4cG9ydHNfXyIsImltcG9ydCB7IHJlbmRlciB9IGZyb20gXCIuL1RhYmxlTG9hZGluZy52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9YTBiYTA2NDImc2NvcGVkPXRydWVcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9UYWJsZUxvYWRpbmcudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzXCJcbmV4cG9ydCAqIGZyb20gXCIuL1RhYmxlTG9hZGluZy52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anNcIlxuXG5pbXBvcnQgXCIuL1RhYmxlTG9hZGluZy52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZpZD1hMGJhMDY0MiZsYW5nPXNjc3Mmc2NvcGVkPXRydWVcIlxuXG5pbXBvcnQgZXhwb3J0Q29tcG9uZW50IGZyb20gXCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9kaXN0L2V4cG9ydEhlbHBlci5qc1wiXG5jb25zdCBfX2V4cG9ydHNfXyA9IC8qI19fUFVSRV9fKi9leHBvcnRDb21wb25lbnQoc2NyaXB0LCBbWydyZW5kZXInLHJlbmRlcl0sWydfX3Njb3BlSWQnLFwiZGF0YS12LWEwYmEwNjQyXCJdXSlcblxuZXhwb3J0IGRlZmF1bHQgX19leHBvcnRzX18iLCJpbXBvcnQgeyByZW5kZXIgfSBmcm9tIFwiLi9CYXNlVGFibGUudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPWU0YzBmMWJjJnNjb3BlZD10cnVlXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vQmFzZVRhYmxlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qc1wiXG5leHBvcnQgKiBmcm9tIFwiLi9CYXNlVGFibGUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzXCJcblxuaW1wb3J0IFwiLi9CYXNlVGFibGUudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmaWQ9ZTRjMGYxYmMmbGFuZz1zY3NzJnNjb3BlZD10cnVlXCJcblxuaW1wb3J0IGV4cG9ydENvbXBvbmVudCBmcm9tIFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvZGlzdC9leHBvcnRIZWxwZXIuanNcIlxuY29uc3QgX19leHBvcnRzX18gPSAvKiNfX1BVUkVfXyovZXhwb3J0Q29tcG9uZW50KHNjcmlwdCwgW1sncmVuZGVyJyxyZW5kZXJdLFsnX19zY29wZUlkJyxcImRhdGEtdi1lNGMwZjFiY1wiXV0pXG5cbmV4cG9ydCBkZWZhdWx0IF9fZXhwb3J0c19fIiwiaW1wb3J0IHsgcmVuZGVyIH0gZnJvbSBcIi4vVGFibGUudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTliNzNjYmFhXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vVGFibGUudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzXCJcbmV4cG9ydCAqIGZyb20gXCIuL1RhYmxlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qc1wiXG5cbmltcG9ydCBleHBvcnRDb21wb25lbnQgZnJvbSBcIi4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2Rpc3QvZXhwb3J0SGVscGVyLmpzXCJcbmNvbnN0IF9fZXhwb3J0c19fID0gLyojX19QVVJFX18qL2V4cG9ydENvbXBvbmVudChzY3JpcHQsIFtbJ3JlbmRlcicscmVuZGVyXV0pXG5cbmV4cG9ydCBkZWZhdWx0IF9fZXhwb3J0c19fIiwiPHRlbXBsYXRlPlxuICA8ZGl2IGNsYXNzPVwic2V0dGluZ3MtcGFnZVwiPlxuICAgIDxoND5TZXR0aW5nczwvaDQ+XG4gICAgPGZvcm0gbWV0aG9kPVwicG9zdFwiIEBzdWJtaXQucHJldmVudD1cIm9uU3VibWl0XCI+XG4gICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxuICAgICAgICA8bGFiZWwgZm9yPVwicm93XCI+TnVtYmVyIG9mIFJvdzwvbGFiZWw+XG4gICAgICAgIDxCYXNlSW5wdXRcbiAgICAgICAgICA6bmFtZT1cInJvd251bWJlclwiXG4gICAgICAgICAgdHlwZT1cIm51bWJlclwiXG4gICAgICAgICAgOnZhbHVlPVwibnVtcm93c1wiXG4gICAgICAgICAgOm1pbj1cIjFcIlxuICAgICAgICAgIDptYXg9XCI1XCJcbiAgICAgICAgICA6b24tY2hhbmdlPVwib25OdW1Sb3dzQ2hhbmdlXCJcbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cbiAgICAgICAgPGxhYmVsIGZvcj1cInJlYWRhYmxlXCI+UmVhZGFibGUgRGF0ZTwvbGFiZWw+XG4gICAgICAgIDxCYXNlSW5wdXRcbiAgICAgICAgICB2LWlmPVwiaXNDaGVja2JveFwiXG4gICAgICAgICAgOm5hbWU9XCJjaGVja2JveE5hbWVcIlxuICAgICAgICAgIDp0eXBlPVwiY2hlY2tib3hUeXBlXCJcbiAgICAgICAgICA6dmFsdWU9XCJjaGVja2JveFZhbHVlXCJcbiAgICAgICAgICA6cGxhY2Vob2xkZXI9XCJjaGVja2JveFBsYWNlaG9sZGVyXCJcbiAgICAgICAgICA6b24tY2hhbmdlPVwib25DaGVja2JveENoYW5nZVwiXG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XG4gICAgICAgIDxsYWJlbD5FbWFpbHMgKDEtNSk6PC9sYWJlbD5cbiAgICAgICAgPGRpdiBjbGFzcz1cImVtYWlsLWdyb3VwXCI+XG4gICAgICAgIDxkaXYgdi1mb3I9XCIoZW1haWwsIGluZGV4KSBpbiBlbWFpbHNcIiA6a2V5PVwiaW5kZXhcIiBjbGFzcz1cImVtYWlsLWlucHV0XCI+XG4gICAgICAgICAgPEJhc2VJbnB1dFxuICAgICAgICAgICAgOm5hbWU9XCInZW1haWxbJyArIGluZGV4ICsnXSdcIlxuICAgICAgICAgICAgdHlwZT1cImVtYWlsXCJcbiAgICAgICAgICAgIDp2YWx1ZT1cImVtYWlsXCJcbiAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cImVtYWlsQGV4YW1wbGUuY29tXCJcbiAgICAgICAgICAgIDpvbi1jaGFuZ2U9XCIodmFsdWUpID0+IG9uRW1haWxDaGFuZ2UoaW5kZXgsIHZhbHVlKVwiXG4gICAgICAgICAgLz5cbiAgICAgICAgICA8YnV0dG9uIHYtaWY9XCJlbWFpbHMubGVuZ3RoID4gMVwiIGNsYXNzPVwicmVtb3ZlLWJ1dHRvblwiIEBjbGljay5wcmV2ZW50PVwicmVtb3ZlRW1haWwoaW5kZXgpXCI+UmVtb3ZlPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGJ1dHRvbiB2LWlmPVwiZW1haWxzLmxlbmd0aCA8IDVcIiBjbGFzcz1cImFkZC1idXR0b25cIiBAY2xpY2sucHJldmVudD1cImFkZEVtYWlsXCI+QWRkIEVtYWlsPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxCdXR0b24gdHlwZT1cInN1Ym1pdFwiPlNhdmU8L0J1dHRvbj5cbiAgICAgIDxkaXYgdi1pZj1cInNob3dNZXNzYWdlXCIgOmNsYXNzPVwiWydtZXNzYWdlJywgbWVzc2FnZVR5cGVdXCI+e3sgbWVzc2FnZSB9fTwvZGl2PlxuICAgIDwvZm9ybT5cbiAgPC9kaXY+XG48L3RlbXBsYXRlPlxuXG48c2NyaXB0PlxuaW1wb3J0IHsgbWFwQWN0aW9ucywgbWFwR2V0dGVycyB9IGZyb20gXCJ2dWV4XCI7XG5pbXBvcnQgQnV0dG9uIGZyb20gXCIuLi9jb21wb25lbnRzL2J1dHRvbi9CdXR0b24udnVlXCI7XG5pbXBvcnQgQmFzZUlucHV0IGZyb20gXCIuLi9jb21wb25lbnRzL2lucHV0L0Jhc2VJbnB1dC52dWVcIjtcblxuZXhwb3J0IGRlZmF1bHQge1xuICAgIG5hbWU6IFwiU2V0dGluZ3NcIixcbiAgICBjb21wb25lbnRzOiB7IEJ1dHRvbiwgQmFzZUlucHV0IH0sXG4gICAgZGF0YSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHdwQW1WdWU6IHdwQW1WdWUsXG4gICAgICAgICAgICByb3dudW1iZXI6IFwicm93bnVtYmVyXCIsXG4gICAgICAgICAgICBudW1yb3dzOiA1LFxuICAgICAgICAgICAgY2hlY2tib3hOYW1lOiBcInRvZ2dsZVN3aXRjaFwiLFxuICAgICAgICAgICAgY2hlY2tib3hUeXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICBjaGVja2JveFZhbHVlOiAxLFxuICAgICAgICAgICAgY2hlY2tib3hQbGFjZWhvbGRlcjogXCJUb2dnbGUgU3dpdGNoXCIsXG4gICAgICAgICAgICBlbWFpbHM6IFtdLFxuICAgICAgICAgICAgc2hvd01lc3NhZ2U6IGZhbHNlLFxuICAgICAgICAgICAgbWVzc2FnZTogJycsXG4gICAgICAgICAgICBtZXNzYWdlVHlwZTogJ3N1Y2Nlc3MnLCAvLyAnc3VjY2Vzcycgb3IgJ2Vycm9yJ1xuICAgICAgICB9O1xuICAgIH0sXG4gICAgY29tcHV0ZWQ6IHtcbiAgICAgICAgLi4ubWFwR2V0dGVycyhbIFwiaXNTYXZpbmdcIiwgXCJzZXR0aW5nc1wiIF0pLFxuICAgICAgICBpc0NoZWNrYm94KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2tib3hUeXBlID09PSBcImNoZWNrYm94XCI7XG4gICAgICAgIH0sXG4gICAgfSxcbiAgICB3YXRjaDoge1xuICAgICAgICBzZXR0aW5nczogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGlzLnBvcHVsYXRlRm9ybUZpZWxkcygpO1xuICAgICAgICB9LFxuICAgIH0sXG4gICAgbW91bnRlZCgpIHtcbiAgICAgICAgdGhpcy5nZXRTZXR0aW5ncygpO1xuICAgIH0sXG4gICAgbWV0aG9kczoge1xuICAgICAgICAuLi5tYXBBY3Rpb25zKFsgXCJzdG9yZVNldHRpbmdzXCIsIFwiZ2V0U2V0dGluZ3NcIiBdKSxcbiAgICAgICAgYXN5bmMgb25TdWJtaXQoZSkge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAvLyBWYWxpZGF0ZSBlbWFpbCBmaWVsZHMuXG4gICAgICAgICAgaWYgKHRoaXMuZW1haWxzLnNvbWUoZW1haWwgPT4gZW1haWwudHJpbSgpID09PSBcIlwiKSkge1xuICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZVR5cGUgPSBcImVycm9yXCI7XG4gICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gXCJFbWFpbCBmaWVsZHMgY2Fubm90IGJlIGVtcHR5LlwiO1xuICAgICAgICAgICAgICAgIHRoaXMuc2hvd01lc3NhZ2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHNldHRpbmcgPSB7XG4gICAgICAgICAgICAgICAgcm93czogcGFyc2VJbnQodGhpcy5udW1yb3dzKSxcbiAgICAgICAgICAgICAgICByZWFkYWJsZTogdGhpcy5jaGVja2JveFZhbHVlLFxuICAgICAgICAgICAgICAgIGVtYWlsczogdGhpcy5lbWFpbHMubWFwKChlbWFpbCkgPT4gZW1haWwpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zdG9yZVNldHRpbmdzKHNldHRpbmcpO1xuICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZVR5cGUgPSAnc3VjY2Vzcyc7XG4gICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gJ1NldHRpbmdzIHNhdmVkIHN1Y2Nlc3NmdWxseSEnO1xuICAgICAgICAgICAgICAgIHRoaXMuc2hvd01lc3NhZ2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBsb2NhbCBkYXRhIHdpdGggc3RvcmUgZ2V0dGVyc1xuICAgICAgICAgICAgICAgIHRoaXMucG9wdWxhdGVGb3JtRmllbGRzKCk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZVR5cGUgPSAnZXJyb3InO1xuICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9ICdGYWlsZWQgdG8gc2F2ZSBzZXR0aW5ncy4nO1xuICAgICAgICAgICAgICAgIHRoaXMuc2hvd01lc3NhZ2UgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5zaG93TWVzc2FnZSA9IGZhbHNlO1xuICAgICAgICAgICAgfSwgNTAwMCk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uTnVtUm93c0NoYW5nZShpbnB1dCkge1xuICAgICAgICAgICAgdGhpcy5udW1yb3dzID0gaW5wdXQudmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIG9uQ2hlY2tib3hDaGFuZ2UoZGF0YSkge1xuICAgICAgICAgICAgdGhpcy5jaGVja2JveFZhbHVlID0gZGF0YS52YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgb25FbWFpbENoYW5nZShpbmRleCwgaW5wdXQpIHtcbiAgICAgICAgICAgIHRoaXMuZW1haWxzW2luZGV4XSA9IGlucHV0LnZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICByZW1vdmVFbWFpbChpbmRleCkge1xuICAgICAgICAgICAgdGhpcy5lbWFpbHMgPSB0aGlzLmVtYWlscy5maWx0ZXIoKGVtYWlsLCBpKSA9PiBpICE9PSBpbmRleCk7XG4gICAgICAgIH0sXG4gICAgICAgIGFkZEVtYWlsKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZW1haWxzLmxlbmd0aCA8IDUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVtYWlscyA9IFsgLi4udGhpcy5lbWFpbHMsIFwiXCIgXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgcG9wdWxhdGVGb3JtRmllbGRzKCkge1xuICAgICAgICAgICAgdGhpcy5udW1yb3dzID0gdGhpcy5zZXR0aW5ncy5yb3dzIHx8IDU7XG4gICAgICAgICAgICB0aGlzLmNoZWNrYm94VmFsdWUgPSB0aGlzLnNldHRpbmdzLnJlYWRhYmxlID8gMSA6IDA7XG4gICAgICAgICAgICB0aGlzLmVtYWlscyA9IHRoaXMuc2V0dGluZ3MuZW1haWxzIHx8IFt0aGlzLndwQW1WdWUudXNlci5lbWFpbF07XG4gICAgICAgIH0sXG4gICAgfSxcbn07XG48L3NjcmlwdD5cblxuPHN0eWxlIGxhbmc9XCJzY3NzXCIgc2NvcGVkPlxuLm1lc3NhZ2Uge1xuICBtYXJnaW4tdG9wOiAyMHB4O1xuICBwYWRkaW5nOiAxMHB4O1xuICBib3JkZXItcmFkaXVzOiA0cHg7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAmLnN1Y2Nlc3Mge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNkNGVkZGE7XG4gICAgY29sb3I6ICMxNTU3MjQ7XG4gICAgYm9yZGVyOiAxcHggc29saWQgI2MzZTZjYjtcbiAgfVxuICAmLmVycm9yIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjhkN2RhO1xuICAgIGNvbG9yOiAjNzIxYzI0O1xuICAgIGJvcmRlcjogMXB4IHNvbGlkICNmNWM2Y2I7XG4gIH1cbn1cbmZvcm0ge1xuICAuZm9ybS1ncm91cCB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogZmxleC1zdGFydDtcbiAgICBtYXJnaW4tYm90dG9tOiAzMHB4O1xuICAgIHBhZGRpbmctdG9wOjIwcHg7XG4gICAgbGFiZWwge1xuICAgICAgbWFyZ2luLXJpZ2h0OiAxMDBweDtcbiAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgZm9udC1zaXplOiAxNnB4O1xuICAgICAgbWluLXdpZHRoOiAxNTBweDtcbiAgICB9XG4gIH1cbiAgLmVtYWlsLWdyb3VwIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7XG4gICAgLmVtYWlsLWlucHV0IHtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICBnYXA6IDEwcHg7XG4gICAgICBtYXJnaW4tYm90dG9tOjE1cHhcbiAgICB9XG4gIH1cbn1cbi5pbmxpbmUtaW5wdXQge1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWl0ZW1zOiBjZW50ZXI7XG4gIGdhcDogMTBweDtcbiAgbWF4LXdpZHRoOiA0MDBweDtcbiAgbWFyZ2luLWJvdHRvbTogMjBweDtcbn1cbi5yZW1vdmUtYnV0dG9uIHtcbiAgYmFja2dyb3VuZDogI2YwNDtcbiAgY29sb3I6ICNmZmY7XG4gIGJvcmRlcjogMHB4IHNvbGlkO1xuICBwYWRkaW5nOiAxMHB4IDIwcHg7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgdHJhbnNpdGlvbjogYWxsO1xuICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICY6aG92ZXIge1xuICAgIG9wYWNpdHk6IDAuOTtcbiAgfVxufVxuLmFkZC1idXR0b24ge1xuICBiYWNrZ3JvdW5kOiAjMzY3ODMwO1xuICBjb2xvcjogI2ZmZjtcbiAgYm9yZGVyOiAwcHggc29saWQ7XG4gIHBhZGRpbmc6IDEwcHggMjBweDtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICB0cmFuc2l0aW9uOiBhbGw7XG4gIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgJjpob3ZlciB7XG4gICAgb3BhY2l0eTogMC45O1xuICB9XG59XG48L3N0eWxlPlxuIiwiPHRlbXBsYXRlPlxuICA8YnV0dG9uPlxuICAgIDxzbG90IC8+IDwhLS0gc2xvdCBidXR0b24gY29udGVudCAtLT5cbiAgPC9idXR0b24+XG48L3RlbXBsYXRlPlxuXG48c2NyaXB0PlxuZXhwb3J0IGRlZmF1bHQge1xuICAgIG5hbWU6ICdCdXR0b24nLFxufTtcbjwvc2NyaXB0PlxuXG48c3R5bGUgbGFuZz1cInNjc3NcIiBzY29wZWQ+XG4gICAgYnV0dG9uIHtcbiAgICAgICAgYmFja2dyb3VuZDogI2UyNzczMDtcbiAgICAgICAgY29sb3I6ICNmZmY7XG4gICAgICAgIGJvcmRlcjogMHB4IHNvbGlkICNlMjc3MzA7XG4gICAgICAgIHBhZGRpbmc6IDEwcHggMjBweDtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICB0cmFuc2l0aW9uOiBhbGw7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcblxuICAgICAgICAmOmhvdmVye1xuICAgICAgICAgICAgb3BhY2l0eTogMC45O1xuICAgICAgICB9XG4gICAgfVxuPC9zdHlsZT4iLCJpbXBvcnQgeyByZW5kZXIgfSBmcm9tIFwiLi9CdXR0b24udnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTNmNzBlMjQ2JnNjb3BlZD10cnVlXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vQnV0dG9uLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qc1wiXG5leHBvcnQgKiBmcm9tIFwiLi9CdXR0b24udnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzXCJcblxuaW1wb3J0IFwiLi9CdXR0b24udnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmaWQ9M2Y3MGUyNDYmbGFuZz1zY3NzJnNjb3BlZD10cnVlXCJcblxuaW1wb3J0IGV4cG9ydENvbXBvbmVudCBmcm9tIFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvZGlzdC9leHBvcnRIZWxwZXIuanNcIlxuY29uc3QgX19leHBvcnRzX18gPSAvKiNfX1BVUkVfXyovZXhwb3J0Q29tcG9uZW50KHNjcmlwdCwgW1sncmVuZGVyJyxyZW5kZXJdLFsnX19zY29wZUlkJyxcImRhdGEtdi0zZjcwZTI0NlwiXV0pXG5cbmV4cG9ydCBkZWZhdWx0IF9fZXhwb3J0c19fIiwiPHRlbXBsYXRlPlxuICA8ZGl2IGNsYXNzPVwiaW5wdXQtYXJlYVwiPlxuICAgIDwhLS0gSGFuZGxlIGlucHV0IGNvbXBvbmVudCBmb3IgZ2VuZXJhbCBpbnB1dHMgbGlrZSwgdGV4dCwgbnVtYmVyLCBlbWFpbCAtLT5cbiAgICA8aW5wdXRcbiAgICAgIHYtaWY9XCJpc0RlZmF1bHRJbnB1dFwiXG4gICAgICA6aWQ9XCJuYW1lXCJcbiAgICAgIGNsYXNzPVwiaW5wdXQtbWFpblwiXG4gICAgICA6bmFtZT1cIm5hbWVcIlxuICAgICAgOnR5cGU9XCJ0eXBlXCJcbiAgICAgIDp2YWx1ZT1cInZhbHVlXCJcbiAgICAgIDpwbGFjZWhvbGRlcj1cInBsYWNlaG9sZGVyXCJcbiAgICAgIDpvbmNoYW5nZT1cIm9uQ2hhbmdlSW5wdXRcIlxuICAgICAgOm1pbj1cIm1pblwiXG4gICAgICA6bWF4PVwibWF4XCJcbiAgICA+XG5cbiAgICA8IS0tIEhhbmRsZSBpbnB1dCBjb21wb25lbnQgZm9yIHN3aXRjaCB0eXBlIGlucHV0IC0tPlxuICAgIDxsYWJlbCB2LWlmPVwiaXNDaGVja2JveFwiPlxuICAgICAgPGlucHV0XG4gICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgIDpjaGVja2VkPVwiaXNDaGVja2VkXCJcbiAgICAgICAgOm9uY2hhbmdlPVwib25DaGFuZ2VJbnB1dFwiXG4gICAgICA+XG4gICAgICA8c3BhbiBjbGFzcz1cInRvZ2dsZS1zd2l0Y2hcIiAvPlxuXG4gICAgICA8c3Bhbj5cbiAgICAgICAge3sgaXNDaGVja2VkID8gXCJPblwiIDogXCJPZmZcIiB9fVxuICAgICAgPC9zcGFuPlxuICAgIDwvbGFiZWw+XG4gIDwvZGl2PlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdD5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBuYW1lOiBcIkJhc2VJbnB1dFwiLFxuXG4gICAgcHJvcHM6IHtcbiAgICAgICAgbmFtZToge1xuICAgICAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgIH0sXG5cbiAgICAgICAgdHlwZToge1xuICAgICAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgICAgICAgZGVmYXVsdDogXCJ0ZXh0XCIsXG4gICAgICAgIH0sXG5cbiAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgIHR5cGU6IFtTdHJpbmcsIE51bWJlciwgQXJyYXldLFxuICAgICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgICAgICAgZGVmYXVsdDogJycsXG4gICAgICAgIH0sXG5cbiAgICAgICAgcGxhY2Vob2xkZXI6IHtcbiAgICAgICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgICAgICAgIGRlZmF1bHQ6IFwiXCIsXG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVxdWlyZWQ6IHtcbiAgICAgICAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICAgICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICAgICAgICBkZWZhdWx0OiBmYWxzZSxcbiAgICAgICAgfSxcblxuICAgICAgICBvbkNoYW5nZToge1xuICAgICAgICAgICAgdHlwZTogRnVuY3Rpb24sXG4gICAgICAgICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICAgICAgICBkZWZhdWx0OiAoKSA9PiB7fSxcbiAgICAgICAgfSxcblxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgdnVlL3JlcXVpcmUtZGVmYXVsdC1wcm9wXG4gICAgICAgIG1pbjoge1xuICAgICAgICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgICB9LFxuXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSB2dWUvcmVxdWlyZS1kZWZhdWx0LXByb3BcbiAgICAgICAgbWF4OiB7XG4gICAgICAgICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICAgICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICAgIH0sXG4gICAgfSxcblxuICAgIGNvbXB1dGVkOiB7XG4gICAgICAgIGlzRGVmYXVsdElucHV0KCkge1xuICAgICAgICAgICAgY29uc3QgZGVmYXVsdElucHV0VHlwZXMgPSBbXCJ0ZXh0XCIsIFwibnVtYmVyXCIsIFwiZW1haWxcIiwgXCJzZWFyY2hcIiwgXCJ1cmxcIl07XG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdElucHV0VHlwZXMuaW5jbHVkZXModGhpcy50eXBlKTtcbiAgICAgICAgfSxcblxuICAgICAgICBpc0NoZWNrYm94KCkge1xuICAgICAgICAgICAgcmV0dXJuIFwic3dpdGNoXCIgPT09IHRoaXMudHlwZSB8fCBcImNoZWNrYm94XCIgPT09IHRoaXMudHlwZTtcbiAgICAgICAgfSxcblxuICAgICAgICBpc0NoZWNrZWQoKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQodGhpcy52YWx1ZSkgPT09IDE7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgbWV0aG9kczoge1xuICAgICAgICBvbkNoYW5nZUlucHV0KGUpIHtcbiAgICAgICAgICAgIC8vIEhhbmRsZSB2YXJpb3VzIGlucHV0IHR5cGUgYW5kIHByb2Nlc3MuXG4gICAgICAgICAgICBpZiAodGhpcy5pc0NoZWNrYm94KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkNoYW5nZSh7XG4gICAgICAgICAgICAgICAgICAgIGtleTogdGhpcy5uYW1lLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZS50YXJnZXQuY2hlY2tlZCA/IDEgOiAwLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5vbkNoYW5nZSh7XG4gICAgICAgICAgICAgICAga2V5OiB0aGlzLm5hbWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGUudGFyZ2V0LnZhbHVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgfSxcbn07XG48L3NjcmlwdD5cblxuPHN0eWxlIGxhbmc9XCJzY3NzXCIgc2NvcGVkPlxuLmlucHV0LWFyZWEge1xuICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgZmxleC1iYXNpczogOTAlO1xufVxuXG4uaW5wdXQtbWFpbiB7XG4gIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWNvbG9yLWJvcmRlcik7XG4gIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgYm94LXNoYWRvdzogbm9uZTtcbiAgY29sb3I6IHZhcigtLWNvbG9yLXNlY29uZGFyeS1kYXJrKTtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xuICBwYWRkaW5nOiA3cHggMTJweDtcbiAgbWFyZ2luOiAwIDEwcHggMCAwO1xuICB3aWR0aDogMTAwJTtcbiAgbWluLWhlaWdodDogMzVweDtcbiAgbGluZS1oZWlnaHQ6IDEuMztcbn1cblxuLnRvZ2dsZS1zd2l0Y2gge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2NjYztcbiAgYm9yZGVyLXJhZGl1czogMTVweDtcbiAgLXdlYmtpdC10cmFuc2l0aW9uOiBhbGwgMC4ycyBlYXNlLWluLW91dDtcbiAgLW1vei10cmFuc2l0aW9uOiBhbGwgMC4ycyBlYXNlLWluLW91dDtcbiAgLW1zLXRyYW5zaXRpb246IGFsbCAwLjJzIGVhc2UtaW4tb3V0O1xuICB0cmFuc2l0aW9uOiBhbGwgMC4ycyBlYXNlLWluLW91dDtcbiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICBtYXJnaW46IC0xcHggNXB4IDAgMDtcbiAgd2lkdGg6IDM2cHg7XG4gIGhlaWdodDogMjBweDtcblxuICAmOjpiZWZvcmUge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBjb250ZW50OiBcIlwiO1xuICAgIGhlaWdodDogMTZweDtcbiAgICB3aWR0aDogMTZweDtcbiAgICBsZWZ0OiAycHg7XG4gICAgdG9wOiAycHg7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XG4gICAgLXdlYmtpdC10cmFuc2l0aW9uOiBhbGwgMC4ycyBlYXNlLWluLW91dDtcbiAgICAtbW96LXRyYW5zaXRpb246IGFsbCAwLjJzIGVhc2UtaW4tb3V0O1xuICAgIC1tcy10cmFuc2l0aW9uOiBhbGwgMC4ycyBlYXNlLWluLW91dDtcbiAgICB0cmFuc2l0aW9uOiBhbGwgMC4ycyBlYXNlLWluLW91dDtcbiAgfVxufVxuXG5pbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0ge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogYXV0bztcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgY2xpcDogcmVjdCgxcHgsIDFweCwgMXB4LCAxcHgpO1xuICB3aWR0aDogMXB4O1xuICBoZWlnaHQ6IDFweDtcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcblxuICAmOmNoZWNrZWQ6OmJlZm9yZSB7XG4gICAgY29udGVudDogdXJsKFwiZGF0YTppbWFnZS9zdmcreG1sO3V0ZjgsJTNDc3ZnJTIweG1sbnMlM0QlMjdodHRwJTNBJTJGJTJGd3d3LnczLm9yZyUyRjIwMDAlMkZzdmclMjclMjB2aWV3Qm94JTNEJTI3MCUyMDAlMjAyMCUyMDIwJTI3JTNFJTNDcGF0aCUyMGQlM0QlMjdNMTQuODMlMjA0Ljg5bDEuMzQuOTQtNS44MSUyMDguMzhIOS4wMkw1Ljc4JTIwOS42N2wxLjM0LTEuMjUlMjAyLjU3JTIwMi40eiUyNyUyMGZpbGwlM0QlMjclMjMzNTgyYzQlMjclMkYlM0UlM0MlMkZzdmclM0VcIik7XG4gICAgbWFyZ2luOiAtMC4xODc1cmVtIDAgMCAtMC4yNXJlbTtcbiAgICBoZWlnaHQ6IDEuMzEyNXJlbTtcbiAgICB3aWR0aDogMS4zMTI1cmVtO1xuICB9XG5cbiAgJjpjaGVja2VkICsgLnRvZ2dsZS1zd2l0Y2gge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICMwMGEzMmE7XG5cbiAgICAmOjpiZWZvcmUge1xuICAgICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMTZweCk7XG4gICAgICAtbXMtdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDE2cHgpO1xuICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDE2cHgpO1xuICAgIH1cbiAgfVxufVxuXG4vLyBNZWRpdW0gc2NyZWVuXG5AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDYwMHB4KSB7XG4gIC5pbnB1dC1tYWluIHtcbiAgICBtYXgtd2lkdGg6IDQwMHB4O1xuICB9XG59XG48L3N0eWxlPiIsImltcG9ydCB7IHJlbmRlciB9IGZyb20gXCIuL0Jhc2VJbnB1dC52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9MzkyZTI1Mjkmc2NvcGVkPXRydWVcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9CYXNlSW5wdXQudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzXCJcbmV4cG9ydCAqIGZyb20gXCIuL0Jhc2VJbnB1dC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anNcIlxuXG5pbXBvcnQgXCIuL0Jhc2VJbnB1dC52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZpZD0zOTJlMjUyOSZsYW5nPXNjc3Mmc2NvcGVkPXRydWVcIlxuXG5pbXBvcnQgZXhwb3J0Q29tcG9uZW50IGZyb20gXCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9kaXN0L2V4cG9ydEhlbHBlci5qc1wiXG5jb25zdCBfX2V4cG9ydHNfXyA9IC8qI19fUFVSRV9fKi9leHBvcnRDb21wb25lbnQoc2NyaXB0LCBbWydyZW5kZXInLHJlbmRlcl0sWydfX3Njb3BlSWQnLFwiZGF0YS12LTM5MmUyNTI5XCJdXSlcblxuZXhwb3J0IGRlZmF1bHQgX19leHBvcnRzX18iLCJpbXBvcnQgeyByZW5kZXIgfSBmcm9tIFwiLi9TZXR0aW5ncy52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NmZiZjkxNDImc2NvcGVkPXRydWVcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9TZXR0aW5ncy52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anNcIlxuZXhwb3J0ICogZnJvbSBcIi4vU2V0dGluZ3MudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzXCJcblxuaW1wb3J0IFwiLi9TZXR0aW5ncy52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZpZD02ZmJmOTE0MiZsYW5nPXNjc3Mmc2NvcGVkPXRydWVcIlxuXG5pbXBvcnQgZXhwb3J0Q29tcG9uZW50IGZyb20gXCIuLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9kaXN0L2V4cG9ydEhlbHBlci5qc1wiXG5jb25zdCBfX2V4cG9ydHNfXyA9IC8qI19fUFVSRV9fKi9leHBvcnRDb21wb25lbnQoc2NyaXB0LCBbWydyZW5kZXInLHJlbmRlcl0sWydfX3Njb3BlSWQnLFwiZGF0YS12LTZmYmY5MTQyXCJdXSlcblxuZXhwb3J0IGRlZmF1bHQgX19leHBvcnRzX18iLCI8dGVtcGxhdGU+XG4gIDxkaXYgY2xhc3M9XCJncmFwaC1wYWdlXCI+XG4gICAgPGg0PkdyYXBoIFBhZ2U8L2g0PlxuICAgIDxCYXJDaGFydFxuICAgICAgOmxhYmVscz1cImdyYXBoRGF0YS5sYWJlbHNcIlxuICAgICAgOmRhdGFzZXRzPVwiZ3JhcGhEYXRhLmRhdGFzZXRzXCJcbiAgICAgIDpoZWlnaHQ9XCIxMDBcIlxuICAgIC8+XG4gIDwvZGl2PlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdD5cbmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JztcbmltcG9ydCBCYXJDaGFydCBmcm9tICcuLi9jb21wb25lbnRzL2NoYXJ0L0JhckNoYXJ0LnZ1ZSc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBuYW1lOiAnR3JhcGgnLFxuICAgIGNvbXBvbmVudHM6IHsgQmFyQ2hhcnQgfSxcblxuICAgIGNvbXB1dGVkOiB7XG4gICAgICAgIC4uLm1hcEdldHRlcnMoWydnZXRHcmFwaERhdGEnXSksXG4gICAgICAgIGdyYXBoRGF0YSgpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbGFiZWxzOiB0aGlzLmdldEdyYXBoRGF0YS5sYWJlbHMsXG4gICAgICAgICAgICAgICAgZGF0YXNldHM6IFtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICdWYWx1ZXMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAncmdiYSg3NSwgMTkyLCAxOTIsIDEpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlckNvbG9yOiAncmdiYSg3NSwgMTkyLCAxOTIsIDEpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcldpZHRoOiA1LFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogdGhpcy5nZXRHcmFwaERhdGEudmFsdWVzLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgIH0sXG5cbiAgICBjcmVhdGVkKCkge1xuICAgIC8vIERpc3BhdGNoIHRoZSBmZXRjaEdyYXBoRGF0YSBhY3Rpb24gd2hlbiB0aGUgY29tcG9uZW50IGlzIGNyZWF0ZWRcbiAgICAgICAgdGhpcy5mZXRjaEdyYXBoRGF0YSgpO1xuICAgIH0sXG5cbiAgICBtZXRob2RzOiB7XG4gICAgICAgIC4uLm1hcEFjdGlvbnMoWydmZXRjaEdyYXBoRGF0YSddKSxcbiAgICB9LFxufTtcbjwvc2NyaXB0PlxuIiwiLyohXG4gKiBAa3Vya2xlL2NvbG9yIHYwLjMuMlxuICogaHR0cHM6Ly9naXRodWIuY29tL2t1cmtsZS9jb2xvciNyZWFkbWVcbiAqIChjKSAyMDIzIEp1a2thIEt1cmtlbGFcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZVxuICovXG5mdW5jdGlvbiByb3VuZCh2KSB7XG4gIHJldHVybiB2ICsgMC41IHwgMDtcbn1cbmNvbnN0IGxpbSA9ICh2LCBsLCBoKSA9PiBNYXRoLm1heChNYXRoLm1pbih2LCBoKSwgbCk7XG5mdW5jdGlvbiBwMmIodikge1xuICByZXR1cm4gbGltKHJvdW5kKHYgKiAyLjU1KSwgMCwgMjU1KTtcbn1cbmZ1bmN0aW9uIGIycCh2KSB7XG4gIHJldHVybiBsaW0ocm91bmQodiAvIDIuNTUpLCAwLCAxMDApO1xufVxuZnVuY3Rpb24gbjJiKHYpIHtcbiAgcmV0dXJuIGxpbShyb3VuZCh2ICogMjU1KSwgMCwgMjU1KTtcbn1cbmZ1bmN0aW9uIGIybih2KSB7XG4gIHJldHVybiBsaW0ocm91bmQodiAvIDIuNTUpIC8gMTAwLCAwLCAxKTtcbn1cbmZ1bmN0aW9uIG4ycCh2KSB7XG4gIHJldHVybiBsaW0ocm91bmQodiAqIDEwMCksIDAsIDEwMCk7XG59XG5cbmNvbnN0IG1hcCQxID0gezA6IDAsIDE6IDEsIDI6IDIsIDM6IDMsIDQ6IDQsIDU6IDUsIDY6IDYsIDc6IDcsIDg6IDgsIDk6IDksIEE6IDEwLCBCOiAxMSwgQzogMTIsIEQ6IDEzLCBFOiAxNCwgRjogMTUsIGE6IDEwLCBiOiAxMSwgYzogMTIsIGQ6IDEzLCBlOiAxNCwgZjogMTV9O1xuY29uc3QgaGV4ID0gWy4uLicwMTIzNDU2Nzg5QUJDREVGJ107XG5jb25zdCBoMSA9IGIgPT4gaGV4W2IgJiAweEZdO1xuY29uc3QgaDIgPSBiID0+IGhleFsoYiAmIDB4RjApID4+IDRdICsgaGV4W2IgJiAweEZdO1xuY29uc3QgZXEgPSBiID0+ICgoYiAmIDB4RjApID4+IDQpID09PSAoYiAmIDB4Rik7XG5jb25zdCBpc1Nob3J0ID0gdiA9PiBlcSh2LnIpICYmIGVxKHYuZykgJiYgZXEodi5iKSAmJiBlcSh2LmEpO1xuZnVuY3Rpb24gaGV4UGFyc2Uoc3RyKSB7XG4gIHZhciBsZW4gPSBzdHIubGVuZ3RoO1xuICB2YXIgcmV0O1xuICBpZiAoc3RyWzBdID09PSAnIycpIHtcbiAgICBpZiAobGVuID09PSA0IHx8IGxlbiA9PT0gNSkge1xuICAgICAgcmV0ID0ge1xuICAgICAgICByOiAyNTUgJiBtYXAkMVtzdHJbMV1dICogMTcsXG4gICAgICAgIGc6IDI1NSAmIG1hcCQxW3N0clsyXV0gKiAxNyxcbiAgICAgICAgYjogMjU1ICYgbWFwJDFbc3RyWzNdXSAqIDE3LFxuICAgICAgICBhOiBsZW4gPT09IDUgPyBtYXAkMVtzdHJbNF1dICogMTcgOiAyNTVcbiAgICAgIH07XG4gICAgfSBlbHNlIGlmIChsZW4gPT09IDcgfHwgbGVuID09PSA5KSB7XG4gICAgICByZXQgPSB7XG4gICAgICAgIHI6IG1hcCQxW3N0clsxXV0gPDwgNCB8IG1hcCQxW3N0clsyXV0sXG4gICAgICAgIGc6IG1hcCQxW3N0clszXV0gPDwgNCB8IG1hcCQxW3N0cls0XV0sXG4gICAgICAgIGI6IG1hcCQxW3N0cls1XV0gPDwgNCB8IG1hcCQxW3N0cls2XV0sXG4gICAgICAgIGE6IGxlbiA9PT0gOSA/IChtYXAkMVtzdHJbN11dIDw8IDQgfCBtYXAkMVtzdHJbOF1dKSA6IDI1NVxuICAgICAgfTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cbmNvbnN0IGFscGhhID0gKGEsIGYpID0+IGEgPCAyNTUgPyBmKGEpIDogJyc7XG5mdW5jdGlvbiBoZXhTdHJpbmcodikge1xuICB2YXIgZiA9IGlzU2hvcnQodikgPyBoMSA6IGgyO1xuICByZXR1cm4gdlxuICAgID8gJyMnICsgZih2LnIpICsgZih2LmcpICsgZih2LmIpICsgYWxwaGEodi5hLCBmKVxuICAgIDogdW5kZWZpbmVkO1xufVxuXG5jb25zdCBIVUVfUkUgPSAvXihoc2xhP3xod2J8aHN2KVxcKFxccyooWy0rLmVcXGRdKykoPzpkZWcpP1tcXHMsXSsoWy0rLmVcXGRdKyklW1xccyxdKyhbLSsuZVxcZF0rKSUoPzpbXFxzLF0rKFstKy5lXFxkXSspKCUpPyk/XFxzKlxcKSQvO1xuZnVuY3Rpb24gaHNsMnJnYm4oaCwgcywgbCkge1xuICBjb25zdCBhID0gcyAqIE1hdGgubWluKGwsIDEgLSBsKTtcbiAgY29uc3QgZiA9IChuLCBrID0gKG4gKyBoIC8gMzApICUgMTIpID0+IGwgLSBhICogTWF0aC5tYXgoTWF0aC5taW4oayAtIDMsIDkgLSBrLCAxKSwgLTEpO1xuICByZXR1cm4gW2YoMCksIGYoOCksIGYoNCldO1xufVxuZnVuY3Rpb24gaHN2MnJnYm4oaCwgcywgdikge1xuICBjb25zdCBmID0gKG4sIGsgPSAobiArIGggLyA2MCkgJSA2KSA9PiB2IC0gdiAqIHMgKiBNYXRoLm1heChNYXRoLm1pbihrLCA0IC0gaywgMSksIDApO1xuICByZXR1cm4gW2YoNSksIGYoMyksIGYoMSldO1xufVxuZnVuY3Rpb24gaHdiMnJnYm4oaCwgdywgYikge1xuICBjb25zdCByZ2IgPSBoc2wycmdibihoLCAxLCAwLjUpO1xuICBsZXQgaTtcbiAgaWYgKHcgKyBiID4gMSkge1xuICAgIGkgPSAxIC8gKHcgKyBiKTtcbiAgICB3ICo9IGk7XG4gICAgYiAqPSBpO1xuICB9XG4gIGZvciAoaSA9IDA7IGkgPCAzOyBpKyspIHtcbiAgICByZ2JbaV0gKj0gMSAtIHcgLSBiO1xuICAgIHJnYltpXSArPSB3O1xuICB9XG4gIHJldHVybiByZ2I7XG59XG5mdW5jdGlvbiBodWVWYWx1ZShyLCBnLCBiLCBkLCBtYXgpIHtcbiAgaWYgKHIgPT09IG1heCkge1xuICAgIHJldHVybiAoKGcgLSBiKSAvIGQpICsgKGcgPCBiID8gNiA6IDApO1xuICB9XG4gIGlmIChnID09PSBtYXgpIHtcbiAgICByZXR1cm4gKGIgLSByKSAvIGQgKyAyO1xuICB9XG4gIHJldHVybiAociAtIGcpIC8gZCArIDQ7XG59XG5mdW5jdGlvbiByZ2IyaHNsKHYpIHtcbiAgY29uc3QgcmFuZ2UgPSAyNTU7XG4gIGNvbnN0IHIgPSB2LnIgLyByYW5nZTtcbiAgY29uc3QgZyA9IHYuZyAvIHJhbmdlO1xuICBjb25zdCBiID0gdi5iIC8gcmFuZ2U7XG4gIGNvbnN0IG1heCA9IE1hdGgubWF4KHIsIGcsIGIpO1xuICBjb25zdCBtaW4gPSBNYXRoLm1pbihyLCBnLCBiKTtcbiAgY29uc3QgbCA9IChtYXggKyBtaW4pIC8gMjtcbiAgbGV0IGgsIHMsIGQ7XG4gIGlmIChtYXggIT09IG1pbikge1xuICAgIGQgPSBtYXggLSBtaW47XG4gICAgcyA9IGwgPiAwLjUgPyBkIC8gKDIgLSBtYXggLSBtaW4pIDogZCAvIChtYXggKyBtaW4pO1xuICAgIGggPSBodWVWYWx1ZShyLCBnLCBiLCBkLCBtYXgpO1xuICAgIGggPSBoICogNjAgKyAwLjU7XG4gIH1cbiAgcmV0dXJuIFtoIHwgMCwgcyB8fCAwLCBsXTtcbn1cbmZ1bmN0aW9uIGNhbGxuKGYsIGEsIGIsIGMpIHtcbiAgcmV0dXJuIChcbiAgICBBcnJheS5pc0FycmF5KGEpXG4gICAgICA/IGYoYVswXSwgYVsxXSwgYVsyXSlcbiAgICAgIDogZihhLCBiLCBjKVxuICApLm1hcChuMmIpO1xufVxuZnVuY3Rpb24gaHNsMnJnYihoLCBzLCBsKSB7XG4gIHJldHVybiBjYWxsbihoc2wycmdibiwgaCwgcywgbCk7XG59XG5mdW5jdGlvbiBod2IycmdiKGgsIHcsIGIpIHtcbiAgcmV0dXJuIGNhbGxuKGh3YjJyZ2JuLCBoLCB3LCBiKTtcbn1cbmZ1bmN0aW9uIGhzdjJyZ2IoaCwgcywgdikge1xuICByZXR1cm4gY2FsbG4oaHN2MnJnYm4sIGgsIHMsIHYpO1xufVxuZnVuY3Rpb24gaHVlKGgpIHtcbiAgcmV0dXJuIChoICUgMzYwICsgMzYwKSAlIDM2MDtcbn1cbmZ1bmN0aW9uIGh1ZVBhcnNlKHN0cikge1xuICBjb25zdCBtID0gSFVFX1JFLmV4ZWMoc3RyKTtcbiAgbGV0IGEgPSAyNTU7XG4gIGxldCB2O1xuICBpZiAoIW0pIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKG1bNV0gIT09IHYpIHtcbiAgICBhID0gbVs2XSA/IHAyYigrbVs1XSkgOiBuMmIoK21bNV0pO1xuICB9XG4gIGNvbnN0IGggPSBodWUoK21bMl0pO1xuICBjb25zdCBwMSA9ICttWzNdIC8gMTAwO1xuICBjb25zdCBwMiA9ICttWzRdIC8gMTAwO1xuICBpZiAobVsxXSA9PT0gJ2h3YicpIHtcbiAgICB2ID0gaHdiMnJnYihoLCBwMSwgcDIpO1xuICB9IGVsc2UgaWYgKG1bMV0gPT09ICdoc3YnKSB7XG4gICAgdiA9IGhzdjJyZ2IoaCwgcDEsIHAyKTtcbiAgfSBlbHNlIHtcbiAgICB2ID0gaHNsMnJnYihoLCBwMSwgcDIpO1xuICB9XG4gIHJldHVybiB7XG4gICAgcjogdlswXSxcbiAgICBnOiB2WzFdLFxuICAgIGI6IHZbMl0sXG4gICAgYTogYVxuICB9O1xufVxuZnVuY3Rpb24gcm90YXRlKHYsIGRlZykge1xuICB2YXIgaCA9IHJnYjJoc2wodik7XG4gIGhbMF0gPSBodWUoaFswXSArIGRlZyk7XG4gIGggPSBoc2wycmdiKGgpO1xuICB2LnIgPSBoWzBdO1xuICB2LmcgPSBoWzFdO1xuICB2LmIgPSBoWzJdO1xufVxuZnVuY3Rpb24gaHNsU3RyaW5nKHYpIHtcbiAgaWYgKCF2KSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IGEgPSByZ2IyaHNsKHYpO1xuICBjb25zdCBoID0gYVswXTtcbiAgY29uc3QgcyA9IG4ycChhWzFdKTtcbiAgY29uc3QgbCA9IG4ycChhWzJdKTtcbiAgcmV0dXJuIHYuYSA8IDI1NVxuICAgID8gYGhzbGEoJHtofSwgJHtzfSUsICR7bH0lLCAke2Iybih2LmEpfSlgXG4gICAgOiBgaHNsKCR7aH0sICR7c30lLCAke2x9JSlgO1xufVxuXG5jb25zdCBtYXAgPSB7XG4gIHg6ICdkYXJrJyxcbiAgWjogJ2xpZ2h0JyxcbiAgWTogJ3JlJyxcbiAgWDogJ2JsdScsXG4gIFc6ICdncicsXG4gIFY6ICdtZWRpdW0nLFxuICBVOiAnc2xhdGUnLFxuICBBOiAnZWUnLFxuICBUOiAnb2wnLFxuICBTOiAnb3InLFxuICBCOiAncmEnLFxuICBDOiAnbGF0ZWcnLFxuICBEOiAnaWdodHMnLFxuICBSOiAnaW4nLFxuICBROiAndHVycXVvaXMnLFxuICBFOiAnaGknLFxuICBQOiAncm8nLFxuICBPOiAnYWwnLFxuICBOOiAnbGUnLFxuICBNOiAnZGUnLFxuICBMOiAneWVsbG8nLFxuICBGOiAnZW4nLFxuICBLOiAnY2gnLFxuICBHOiAnYXJrcycsXG4gIEg6ICdlYScsXG4gIEk6ICdpZ2h0ZycsXG4gIEo6ICd3aCdcbn07XG5jb25zdCBuYW1lcyQxID0ge1xuICBPaWNlWGU6ICdmMGY4ZmYnLFxuICBhbnRpcXVld0V0ZTogJ2ZhZWJkNycsXG4gIGFxdWE6ICdmZmZmJyxcbiAgYXF1YW1hclJlOiAnN2ZmZmQ0JyxcbiAgYXp1WTogJ2YwZmZmZicsXG4gIGJlaWdlOiAnZjVmNWRjJyxcbiAgYmlzcXVlOiAnZmZlNGM0JyxcbiAgYmxhY2s6ICcwJyxcbiAgYmxhbktlZE9tb25kOiAnZmZlYmNkJyxcbiAgWGU6ICdmZicsXG4gIFhldmlUZXQ6ICc4YTJiZTInLFxuICBiUHduOiAnYTUyYTJhJyxcbiAgYnVybHl3b29kOiAnZGViODg3JyxcbiAgY2FNdFhlOiAnNWY5ZWEwJyxcbiAgS2FydFl1c2U6ICc3ZmZmMDAnLFxuICBLb2NUYXRlOiAnZDI2OTFlJyxcbiAgY1NPOiAnZmY3ZjUwJyxcbiAgY1NuZmxvd2VyWGU6ICc2NDk1ZWQnLFxuICBjU25zaWxrOiAnZmZmOGRjJyxcbiAgY3JpbXNvbjogJ2RjMTQzYycsXG4gIGN5YW46ICdmZmZmJyxcbiAgeFhlOiAnOGInLFxuICB4Y3lhbjogJzhiOGInLFxuICB4Z1RNblBkOiAnYjg4NjBiJyxcbiAgeFdheTogJ2E5YTlhOScsXG4gIHhnWUY6ICc2NDAwJyxcbiAgeGdZeTogJ2E5YTlhOScsXG4gIHhraGFraTogJ2JkYjc2YicsXG4gIHhtYWdGdGE6ICc4YjAwOGInLFxuICB4VGl2ZWdZRjogJzU1NmIyZicsXG4gIHhTYW5nZTogJ2ZmOGMwMCcsXG4gIHhTY0VkOiAnOTkzMmNjJyxcbiAgeFlkOiAnOGIwMDAwJyxcbiAgeHNPbW9uOiAnZTk5NjdhJyxcbiAgeHNIZ1lGOiAnOGZiYzhmJyxcbiAgeFVYZTogJzQ4M2Q4YicsXG4gIHhVV2F5OiAnMmY0ZjRmJyxcbiAgeFVnWXk6ICcyZjRmNGYnLFxuICB4UWU6ICdjZWQxJyxcbiAgeHZpVGV0OiAnOTQwMGQzJyxcbiAgZEFwcFJrOiAnZmYxNDkzJyxcbiAgZEFwc2t5WGU6ICdiZmZmJyxcbiAgZGltV2F5OiAnNjk2OTY5JyxcbiAgZGltZ1l5OiAnNjk2OTY5JyxcbiAgZG9kZ2VyWGU6ICcxZTkwZmYnLFxuICBmaVlicmljazogJ2IyMjIyMicsXG4gIGZsU093RXRlOiAnZmZmYWYwJyxcbiAgZm9Zc3RXQW46ICcyMjhiMjInLFxuICBmdUtzaWE6ICdmZjAwZmYnLFxuICBnYVJzYlNvOiAnZGNkY2RjJyxcbiAgZ2hvc3R3RXRlOiAnZjhmOGZmJyxcbiAgZ1RkOiAnZmZkNzAwJyxcbiAgZ1RNblBkOiAnZGFhNTIwJyxcbiAgV2F5OiAnODA4MDgwJyxcbiAgZ1lGOiAnODAwMCcsXG4gIGdZRkx3OiAnYWRmZjJmJyxcbiAgZ1l5OiAnODA4MDgwJyxcbiAgaG9uZXlNdzogJ2YwZmZmMCcsXG4gIGhvdHBSazogJ2ZmNjliNCcsXG4gIFJkaWFuWWQ6ICdjZDVjNWMnLFxuICBSZGlnbzogJzRiMDA4MicsXG4gIGl2U3k6ICdmZmZmZjAnLFxuICBraGFraTogJ2YwZTY4YycsXG4gIGxhdkZNcjogJ2U2ZTZmYScsXG4gIGxhdkZNclhzaDogJ2ZmZjBmNScsXG4gIGxhd25nWUY6ICc3Y2ZjMDAnLFxuICBObW9uY0VmZm9uOiAnZmZmYWNkJyxcbiAgWlhlOiAnYWRkOGU2JyxcbiAgWmNTTzogJ2YwODA4MCcsXG4gIFpjeWFuOiAnZTBmZmZmJyxcbiAgWmdUTW5QZEx3OiAnZmFmYWQyJyxcbiAgWldheTogJ2QzZDNkMycsXG4gIFpnWUY6ICc5MGVlOTAnLFxuICBaZ1l5OiAnZDNkM2QzJyxcbiAgWnBSazogJ2ZmYjZjMScsXG4gIFpzT21vbjogJ2ZmYTA3YScsXG4gIFpzSGdZRjogJzIwYjJhYScsXG4gIFpza3lYZTogJzg3Y2VmYScsXG4gIFpVV2F5OiAnNzc4ODk5JyxcbiAgWlVnWXk6ICc3Nzg4OTknLFxuICBac3RBbFhlOiAnYjBjNGRlJyxcbiAgWkx3OiAnZmZmZmUwJyxcbiAgbGltZTogJ2ZmMDAnLFxuICBsaW1lZ1lGOiAnMzJjZDMyJyxcbiAgbFJGOiAnZmFmMGU2JyxcbiAgbWFnRnRhOiAnZmYwMGZmJyxcbiAgbWFQb246ICc4MDAwMDAnLFxuICBWYXF1YW1hclJlOiAnNjZjZGFhJyxcbiAgVlhlOiAnY2QnLFxuICBWU2NFZDogJ2JhNTVkMycsXG4gIFZwdXJwTjogJzkzNzBkYicsXG4gIFZzSGdZRjogJzNjYjM3MScsXG4gIFZVWGU6ICc3YjY4ZWUnLFxuICBWc3ByUmdnWUY6ICdmYTlhJyxcbiAgVlFlOiAnNDhkMWNjJyxcbiAgVnZpVGV0WWQ6ICdjNzE1ODUnLFxuICBtaWRuaWdodFhlOiAnMTkxOTcwJyxcbiAgbVJ0Y1lhbTogJ2Y1ZmZmYScsXG4gIG1pc3R5UHNlOiAnZmZlNGUxJyxcbiAgbW9jY2FzUjogJ2ZmZTRiNScsXG4gIG5hdmFqb3dFdGU6ICdmZmRlYWQnLFxuICBuYXZ5OiAnODAnLFxuICBUZGxhY2U6ICdmZGY1ZTYnLFxuICBUaXZlOiAnODA4MDAwJyxcbiAgVGl2ZWRCYjogJzZiOGUyMycsXG4gIFNhbmdlOiAnZmZhNTAwJyxcbiAgU2FuZ2VZZDogJ2ZmNDUwMCcsXG4gIFNjRWQ6ICdkYTcwZDYnLFxuICBwT2VnVE1uUGQ6ICdlZWU4YWEnLFxuICBwT2VnWUY6ICc5OGZiOTgnLFxuICBwT2VRZTogJ2FmZWVlZScsXG4gIHBPZXZpVGV0WWQ6ICdkYjcwOTMnLFxuICBwYXBheWF3RXA6ICdmZmVmZDUnLFxuICBwSEtwdWZmOiAnZmZkYWI5JyxcbiAgcGVydTogJ2NkODUzZicsXG4gIHBSazogJ2ZmYzBjYicsXG4gIHBsdW06ICdkZGEwZGQnLFxuICBwb3dNclhlOiAnYjBlMGU2JyxcbiAgcHVycE46ICc4MDAwODAnLFxuICBZYmVjY2FwdXJwTjogJzY2MzM5OScsXG4gIFlkOiAnZmYwMDAwJyxcbiAgUHN5YnJvd246ICdiYzhmOGYnLFxuICBQeU9YZTogJzQxNjllMScsXG4gIHNhZGROYlB3bjogJzhiNDUxMycsXG4gIHNPbW9uOiAnZmE4MDcyJyxcbiAgc2FuZHliUHduOiAnZjRhNDYwJyxcbiAgc0hnWUY6ICcyZThiNTcnLFxuICBzSHNoZWxsOiAnZmZmNWVlJyxcbiAgc2lGbmE6ICdhMDUyMmQnLFxuICBzaWx2ZXI6ICdjMGMwYzAnLFxuICBza3lYZTogJzg3Y2VlYicsXG4gIFVYZTogJzZhNWFjZCcsXG4gIFVXYXk6ICc3MDgwOTAnLFxuICBVZ1l5OiAnNzA4MDkwJyxcbiAgc25vdzogJ2ZmZmFmYScsXG4gIHNwclJnZ1lGOiAnZmY3ZicsXG4gIHN0QWxYZTogJzQ2ODJiNCcsXG4gIHRhbjogJ2QyYjQ4YycsXG4gIHRlTzogJzgwODAnLFxuICB0RXN0TjogJ2Q4YmZkOCcsXG4gIHRvbWF0bzogJ2ZmNjM0NycsXG4gIFFlOiAnNDBlMGQwJyxcbiAgdmlUZXQ6ICdlZTgyZWUnLFxuICBKSHQ6ICdmNWRlYjMnLFxuICB3RXRlOiAnZmZmZmZmJyxcbiAgd0V0ZXNtb2tlOiAnZjVmNWY1JyxcbiAgTHc6ICdmZmZmMDAnLFxuICBMd2dZRjogJzlhY2QzMidcbn07XG5mdW5jdGlvbiB1bnBhY2soKSB7XG4gIGNvbnN0IHVucGFja2VkID0ge307XG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhuYW1lcyQxKTtcbiAgY29uc3QgdGtleXMgPSBPYmplY3Qua2V5cyhtYXApO1xuICBsZXQgaSwgaiwgaywgb2ssIG5rO1xuICBmb3IgKGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgIG9rID0gbmsgPSBrZXlzW2ldO1xuICAgIGZvciAoaiA9IDA7IGogPCB0a2V5cy5sZW5ndGg7IGorKykge1xuICAgICAgayA9IHRrZXlzW2pdO1xuICAgICAgbmsgPSBuay5yZXBsYWNlKGssIG1hcFtrXSk7XG4gICAgfVxuICAgIGsgPSBwYXJzZUludChuYW1lcyQxW29rXSwgMTYpO1xuICAgIHVucGFja2VkW25rXSA9IFtrID4+IDE2ICYgMHhGRiwgayA+PiA4ICYgMHhGRiwgayAmIDB4RkZdO1xuICB9XG4gIHJldHVybiB1bnBhY2tlZDtcbn1cblxubGV0IG5hbWVzO1xuZnVuY3Rpb24gbmFtZVBhcnNlKHN0cikge1xuICBpZiAoIW5hbWVzKSB7XG4gICAgbmFtZXMgPSB1bnBhY2soKTtcbiAgICBuYW1lcy50cmFuc3BhcmVudCA9IFswLCAwLCAwLCAwXTtcbiAgfVxuICBjb25zdCBhID0gbmFtZXNbc3RyLnRvTG93ZXJDYXNlKCldO1xuICByZXR1cm4gYSAmJiB7XG4gICAgcjogYVswXSxcbiAgICBnOiBhWzFdLFxuICAgIGI6IGFbMl0sXG4gICAgYTogYS5sZW5ndGggPT09IDQgPyBhWzNdIDogMjU1XG4gIH07XG59XG5cbmNvbnN0IFJHQl9SRSA9IC9ecmdiYT9cXChcXHMqKFstKy5cXGRdKykoJSk/W1xccyxdKyhbLSsuZVxcZF0rKSglKT9bXFxzLF0rKFstKy5lXFxkXSspKCUpPyg/OltcXHMsL10rKFstKy5lXFxkXSspKCUpPyk/XFxzKlxcKSQvO1xuZnVuY3Rpb24gcmdiUGFyc2Uoc3RyKSB7XG4gIGNvbnN0IG0gPSBSR0JfUkUuZXhlYyhzdHIpO1xuICBsZXQgYSA9IDI1NTtcbiAgbGV0IHIsIGcsIGI7XG4gIGlmICghbSkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAobVs3XSAhPT0gcikge1xuICAgIGNvbnN0IHYgPSArbVs3XTtcbiAgICBhID0gbVs4XSA/IHAyYih2KSA6IGxpbSh2ICogMjU1LCAwLCAyNTUpO1xuICB9XG4gIHIgPSArbVsxXTtcbiAgZyA9ICttWzNdO1xuICBiID0gK21bNV07XG4gIHIgPSAyNTUgJiAobVsyXSA/IHAyYihyKSA6IGxpbShyLCAwLCAyNTUpKTtcbiAgZyA9IDI1NSAmIChtWzRdID8gcDJiKGcpIDogbGltKGcsIDAsIDI1NSkpO1xuICBiID0gMjU1ICYgKG1bNl0gPyBwMmIoYikgOiBsaW0oYiwgMCwgMjU1KSk7XG4gIHJldHVybiB7XG4gICAgcjogcixcbiAgICBnOiBnLFxuICAgIGI6IGIsXG4gICAgYTogYVxuICB9O1xufVxuZnVuY3Rpb24gcmdiU3RyaW5nKHYpIHtcbiAgcmV0dXJuIHYgJiYgKFxuICAgIHYuYSA8IDI1NVxuICAgICAgPyBgcmdiYSgke3Yucn0sICR7di5nfSwgJHt2LmJ9LCAke2Iybih2LmEpfSlgXG4gICAgICA6IGByZ2IoJHt2LnJ9LCAke3YuZ30sICR7di5ifSlgXG4gICk7XG59XG5cbmNvbnN0IHRvID0gdiA9PiB2IDw9IDAuMDAzMTMwOCA/IHYgKiAxMi45MiA6IE1hdGgucG93KHYsIDEuMCAvIDIuNCkgKiAxLjA1NSAtIDAuMDU1O1xuY29uc3QgZnJvbSA9IHYgPT4gdiA8PSAwLjA0MDQ1ID8gdiAvIDEyLjkyIDogTWF0aC5wb3coKHYgKyAwLjA1NSkgLyAxLjA1NSwgMi40KTtcbmZ1bmN0aW9uIGludGVycG9sYXRlKHJnYjEsIHJnYjIsIHQpIHtcbiAgY29uc3QgciA9IGZyb20oYjJuKHJnYjEucikpO1xuICBjb25zdCBnID0gZnJvbShiMm4ocmdiMS5nKSk7XG4gIGNvbnN0IGIgPSBmcm9tKGIybihyZ2IxLmIpKTtcbiAgcmV0dXJuIHtcbiAgICByOiBuMmIodG8ociArIHQgKiAoZnJvbShiMm4ocmdiMi5yKSkgLSByKSkpLFxuICAgIGc6IG4yYih0byhnICsgdCAqIChmcm9tKGIybihyZ2IyLmcpKSAtIGcpKSksXG4gICAgYjogbjJiKHRvKGIgKyB0ICogKGZyb20oYjJuKHJnYjIuYikpIC0gYikpKSxcbiAgICBhOiByZ2IxLmEgKyB0ICogKHJnYjIuYSAtIHJnYjEuYSlcbiAgfTtcbn1cblxuZnVuY3Rpb24gbW9kSFNMKHYsIGksIHJhdGlvKSB7XG4gIGlmICh2KSB7XG4gICAgbGV0IHRtcCA9IHJnYjJoc2wodik7XG4gICAgdG1wW2ldID0gTWF0aC5tYXgoMCwgTWF0aC5taW4odG1wW2ldICsgdG1wW2ldICogcmF0aW8sIGkgPT09IDAgPyAzNjAgOiAxKSk7XG4gICAgdG1wID0gaHNsMnJnYih0bXApO1xuICAgIHYuciA9IHRtcFswXTtcbiAgICB2LmcgPSB0bXBbMV07XG4gICAgdi5iID0gdG1wWzJdO1xuICB9XG59XG5mdW5jdGlvbiBjbG9uZSh2LCBwcm90bykge1xuICByZXR1cm4gdiA/IE9iamVjdC5hc3NpZ24ocHJvdG8gfHwge30sIHYpIDogdjtcbn1cbmZ1bmN0aW9uIGZyb21PYmplY3QoaW5wdXQpIHtcbiAgdmFyIHYgPSB7cjogMCwgZzogMCwgYjogMCwgYTogMjU1fTtcbiAgaWYgKEFycmF5LmlzQXJyYXkoaW5wdXQpKSB7XG4gICAgaWYgKGlucHV0Lmxlbmd0aCA+PSAzKSB7XG4gICAgICB2ID0ge3I6IGlucHV0WzBdLCBnOiBpbnB1dFsxXSwgYjogaW5wdXRbMl0sIGE6IDI1NX07XG4gICAgICBpZiAoaW5wdXQubGVuZ3RoID4gMykge1xuICAgICAgICB2LmEgPSBuMmIoaW5wdXRbM10pO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2ID0gY2xvbmUoaW5wdXQsIHtyOiAwLCBnOiAwLCBiOiAwLCBhOiAxfSk7XG4gICAgdi5hID0gbjJiKHYuYSk7XG4gIH1cbiAgcmV0dXJuIHY7XG59XG5mdW5jdGlvbiBmdW5jdGlvblBhcnNlKHN0cikge1xuICBpZiAoc3RyLmNoYXJBdCgwKSA9PT0gJ3InKSB7XG4gICAgcmV0dXJuIHJnYlBhcnNlKHN0cik7XG4gIH1cbiAgcmV0dXJuIGh1ZVBhcnNlKHN0cik7XG59XG5jbGFzcyBDb2xvciB7XG4gIGNvbnN0cnVjdG9yKGlucHV0KSB7XG4gICAgaWYgKGlucHV0IGluc3RhbmNlb2YgQ29sb3IpIHtcbiAgICAgIHJldHVybiBpbnB1dDtcbiAgICB9XG4gICAgY29uc3QgdHlwZSA9IHR5cGVvZiBpbnB1dDtcbiAgICBsZXQgdjtcbiAgICBpZiAodHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHYgPSBmcm9tT2JqZWN0KGlucHV0KTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICB2ID0gaGV4UGFyc2UoaW5wdXQpIHx8IG5hbWVQYXJzZShpbnB1dCkgfHwgZnVuY3Rpb25QYXJzZShpbnB1dCk7XG4gICAgfVxuICAgIHRoaXMuX3JnYiA9IHY7XG4gICAgdGhpcy5fdmFsaWQgPSAhIXY7XG4gIH1cbiAgZ2V0IHZhbGlkKCkge1xuICAgIHJldHVybiB0aGlzLl92YWxpZDtcbiAgfVxuICBnZXQgcmdiKCkge1xuICAgIHZhciB2ID0gY2xvbmUodGhpcy5fcmdiKTtcbiAgICBpZiAodikge1xuICAgICAgdi5hID0gYjJuKHYuYSk7XG4gICAgfVxuICAgIHJldHVybiB2O1xuICB9XG4gIHNldCByZ2Iob2JqKSB7XG4gICAgdGhpcy5fcmdiID0gZnJvbU9iamVjdChvYmopO1xuICB9XG4gIHJnYlN0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5fdmFsaWQgPyByZ2JTdHJpbmcodGhpcy5fcmdiKSA6IHVuZGVmaW5lZDtcbiAgfVxuICBoZXhTdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3ZhbGlkID8gaGV4U3RyaW5nKHRoaXMuX3JnYikgOiB1bmRlZmluZWQ7XG4gIH1cbiAgaHNsU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLl92YWxpZCA/IGhzbFN0cmluZyh0aGlzLl9yZ2IpIDogdW5kZWZpbmVkO1xuICB9XG4gIG1peChjb2xvciwgd2VpZ2h0KSB7XG4gICAgaWYgKGNvbG9yKSB7XG4gICAgICBjb25zdCBjMSA9IHRoaXMucmdiO1xuICAgICAgY29uc3QgYzIgPSBjb2xvci5yZ2I7XG4gICAgICBsZXQgdzI7XG4gICAgICBjb25zdCBwID0gd2VpZ2h0ID09PSB3MiA/IDAuNSA6IHdlaWdodDtcbiAgICAgIGNvbnN0IHcgPSAyICogcCAtIDE7XG4gICAgICBjb25zdCBhID0gYzEuYSAtIGMyLmE7XG4gICAgICBjb25zdCB3MSA9ICgodyAqIGEgPT09IC0xID8gdyA6ICh3ICsgYSkgLyAoMSArIHcgKiBhKSkgKyAxKSAvIDIuMDtcbiAgICAgIHcyID0gMSAtIHcxO1xuICAgICAgYzEuciA9IDB4RkYgJiB3MSAqIGMxLnIgKyB3MiAqIGMyLnIgKyAwLjU7XG4gICAgICBjMS5nID0gMHhGRiAmIHcxICogYzEuZyArIHcyICogYzIuZyArIDAuNTtcbiAgICAgIGMxLmIgPSAweEZGICYgdzEgKiBjMS5iICsgdzIgKiBjMi5iICsgMC41O1xuICAgICAgYzEuYSA9IHAgKiBjMS5hICsgKDEgLSBwKSAqIGMyLmE7XG4gICAgICB0aGlzLnJnYiA9IGMxO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBpbnRlcnBvbGF0ZShjb2xvciwgdCkge1xuICAgIGlmIChjb2xvcikge1xuICAgICAgdGhpcy5fcmdiID0gaW50ZXJwb2xhdGUodGhpcy5fcmdiLCBjb2xvci5fcmdiLCB0KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgY2xvbmUoKSB7XG4gICAgcmV0dXJuIG5ldyBDb2xvcih0aGlzLnJnYik7XG4gIH1cbiAgYWxwaGEoYSkge1xuICAgIHRoaXMuX3JnYi5hID0gbjJiKGEpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGNsZWFyZXIocmF0aW8pIHtcbiAgICBjb25zdCByZ2IgPSB0aGlzLl9yZ2I7XG4gICAgcmdiLmEgKj0gMSAtIHJhdGlvO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGdyZXlzY2FsZSgpIHtcbiAgICBjb25zdCByZ2IgPSB0aGlzLl9yZ2I7XG4gICAgY29uc3QgdmFsID0gcm91bmQocmdiLnIgKiAwLjMgKyByZ2IuZyAqIDAuNTkgKyByZ2IuYiAqIDAuMTEpO1xuICAgIHJnYi5yID0gcmdiLmcgPSByZ2IuYiA9IHZhbDtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBvcGFxdWVyKHJhdGlvKSB7XG4gICAgY29uc3QgcmdiID0gdGhpcy5fcmdiO1xuICAgIHJnYi5hICo9IDEgKyByYXRpbztcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBuZWdhdGUoKSB7XG4gICAgY29uc3QgdiA9IHRoaXMuX3JnYjtcbiAgICB2LnIgPSAyNTUgLSB2LnI7XG4gICAgdi5nID0gMjU1IC0gdi5nO1xuICAgIHYuYiA9IDI1NSAtIHYuYjtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBsaWdodGVuKHJhdGlvKSB7XG4gICAgbW9kSFNMKHRoaXMuX3JnYiwgMiwgcmF0aW8pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIGRhcmtlbihyYXRpbykge1xuICAgIG1vZEhTTCh0aGlzLl9yZ2IsIDIsIC1yYXRpbyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgc2F0dXJhdGUocmF0aW8pIHtcbiAgICBtb2RIU0wodGhpcy5fcmdiLCAxLCByYXRpbyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgZGVzYXR1cmF0ZShyYXRpbykge1xuICAgIG1vZEhTTCh0aGlzLl9yZ2IsIDEsIC1yYXRpbyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgcm90YXRlKGRlZykge1xuICAgIHJvdGF0ZSh0aGlzLl9yZ2IsIGRlZyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cblxuZnVuY3Rpb24gaW5kZXhfZXNtKGlucHV0KSB7XG4gIHJldHVybiBuZXcgQ29sb3IoaW5wdXQpO1xufVxuXG5leHBvcnQgeyBDb2xvciwgYjJuLCBiMnAsIGluZGV4X2VzbSBhcyBkZWZhdWx0LCBoZXhQYXJzZSwgaGV4U3RyaW5nLCBoc2wycmdiLCBoc2xTdHJpbmcsIGhzdjJyZ2IsIGh1ZVBhcnNlLCBod2IycmdiLCBsaW0sIG4yYiwgbjJwLCBuYW1lUGFyc2UsIHAyYiwgcmdiMmhzbCwgcmdiUGFyc2UsIHJnYlN0cmluZywgcm90YXRlLCByb3VuZCB9O1xuIiwiLyohXG4gKiBDaGFydC5qcyB2NC40LjNcbiAqIGh0dHBzOi8vd3d3LmNoYXJ0anMub3JnXG4gKiAoYykgMjAyNCBDaGFydC5qcyBDb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZVxuICovXG5pbXBvcnQgeyBDb2xvciB9IGZyb20gJ0BrdXJrbGUvY29sb3InO1xuXG4vKipcbiAqIEBuYW1lc3BhY2UgQ2hhcnQuaGVscGVyc1xuICovIC8qKlxuICogQW4gZW1wdHkgZnVuY3Rpb24gdGhhdCBjYW4gYmUgdXNlZCwgZm9yIGV4YW1wbGUsIGZvciBvcHRpb25hbCBjYWxsYmFjay5cbiAqLyBmdW5jdGlvbiBub29wKCkge1xuLyogbm9vcCAqLyB9XG4vKipcbiAqIFJldHVybnMgYSB1bmlxdWUgaWQsIHNlcXVlbnRpYWxseSBnZW5lcmF0ZWQgZnJvbSBhIGdsb2JhbCB2YXJpYWJsZS5cbiAqLyBjb25zdCB1aWQgPSAoKCk9PntcbiAgICBsZXQgaWQgPSAwO1xuICAgIHJldHVybiAoKT0+aWQrKztcbn0pKCk7XG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiBgdmFsdWVgIGlzIG5laXRoZXIgbnVsbCBub3IgdW5kZWZpbmVkLCBlbHNlIHJldHVybnMgZmFsc2UuXG4gKiBAcGFyYW0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gdGVzdC5cbiAqIEBzaW5jZSAyLjcuMFxuICovIGZ1bmN0aW9uIGlzTnVsbE9yVW5kZWYodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IG51bGwgfHwgdHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJztcbn1cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXkgKGluY2x1ZGluZyB0eXBlZCBhcnJheXMpLCBlbHNlIHJldHVybnMgZmFsc2UuXG4gKiBAcGFyYW0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gdGVzdC5cbiAqIEBmdW5jdGlvblxuICovIGZ1bmN0aW9uIGlzQXJyYXkodmFsdWUpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSAmJiBBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY29uc3QgdHlwZSA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gICAgaWYgKHR5cGUuc2xpY2UoMCwgNykgPT09ICdbb2JqZWN0JyAmJiB0eXBlLnNsaWNlKC02KSA9PT0gJ0FycmF5XScpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIGB2YWx1ZWAgaXMgYW4gb2JqZWN0IChleGNsdWRpbmcgbnVsbCksIGVsc2UgcmV0dXJucyBmYWxzZS5cbiAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byB0ZXN0LlxuICogQHNpbmNlIDIuNy4wXG4gKi8gZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgIT09IG51bGwgJiYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgT2JqZWN0XSc7XG59XG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiBgdmFsdWVgIGlzIGEgZmluaXRlIG51bWJlciwgZWxzZSByZXR1cm5zIGZhbHNlXG4gKiBAcGFyYW0gdmFsdWUgIC0gVGhlIHZhbHVlIHRvIHRlc3QuXG4gKi8gZnVuY3Rpb24gaXNOdW1iZXJGaW5pdGUodmFsdWUpIHtcbiAgICByZXR1cm4gKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgfHwgdmFsdWUgaW5zdGFuY2VvZiBOdW1iZXIpICYmIGlzRmluaXRlKCt2YWx1ZSk7XG59XG4vKipcbiAqIFJldHVybnMgYHZhbHVlYCBpZiBmaW5pdGUsIGVsc2UgcmV0dXJucyBgZGVmYXVsdFZhbHVlYC5cbiAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byByZXR1cm4gaWYgZGVmaW5lZC5cbiAqIEBwYXJhbSBkZWZhdWx0VmFsdWUgLSBUaGUgdmFsdWUgdG8gcmV0dXJuIGlmIGB2YWx1ZWAgaXMgbm90IGZpbml0ZS5cbiAqLyBmdW5jdGlvbiBmaW5pdGVPckRlZmF1bHQodmFsdWUsIGRlZmF1bHRWYWx1ZSkge1xuICAgIHJldHVybiBpc051bWJlckZpbml0ZSh2YWx1ZSkgPyB2YWx1ZSA6IGRlZmF1bHRWYWx1ZTtcbn1cbi8qKlxuICogUmV0dXJucyBgdmFsdWVgIGlmIGRlZmluZWQsIGVsc2UgcmV0dXJucyBgZGVmYXVsdFZhbHVlYC5cbiAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byByZXR1cm4gaWYgZGVmaW5lZC5cbiAqIEBwYXJhbSBkZWZhdWx0VmFsdWUgLSBUaGUgdmFsdWUgdG8gcmV0dXJuIGlmIGB2YWx1ZWAgaXMgdW5kZWZpbmVkLlxuICovIGZ1bmN0aW9uIHZhbHVlT3JEZWZhdWx0KHZhbHVlLCBkZWZhdWx0VmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJyA/IGRlZmF1bHRWYWx1ZSA6IHZhbHVlO1xufVxuY29uc3QgdG9QZXJjZW50YWdlID0gKHZhbHVlLCBkaW1lbnNpb24pPT50eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnICYmIHZhbHVlLmVuZHNXaXRoKCclJykgPyBwYXJzZUZsb2F0KHZhbHVlKSAvIDEwMCA6ICt2YWx1ZSAvIGRpbWVuc2lvbjtcbmNvbnN0IHRvRGltZW5zaW9uID0gKHZhbHVlLCBkaW1lbnNpb24pPT50eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnICYmIHZhbHVlLmVuZHNXaXRoKCclJykgPyBwYXJzZUZsb2F0KHZhbHVlKSAvIDEwMCAqIGRpbWVuc2lvbiA6ICt2YWx1ZTtcbi8qKlxuICogQ2FsbHMgYGZuYCB3aXRoIHRoZSBnaXZlbiBgYXJnc2AgaW4gdGhlIHNjb3BlIGRlZmluZWQgYnkgYHRoaXNBcmdgIGFuZCByZXR1cm5zIHRoZVxuICogdmFsdWUgcmV0dXJuZWQgYnkgYGZuYC4gSWYgYGZuYCBpcyBub3QgYSBmdW5jdGlvbiwgdGhpcyBtZXRob2QgcmV0dXJucyB1bmRlZmluZWQuXG4gKiBAcGFyYW0gZm4gLSBUaGUgZnVuY3Rpb24gdG8gY2FsbC5cbiAqIEBwYXJhbSBhcmdzIC0gVGhlIGFyZ3VtZW50cyB3aXRoIHdoaWNoIGBmbmAgc2hvdWxkIGJlIGNhbGxlZC5cbiAqIEBwYXJhbSBbdGhpc0FyZ10gLSBUaGUgdmFsdWUgb2YgYHRoaXNgIHByb3ZpZGVkIGZvciB0aGUgY2FsbCB0byBgZm5gLlxuICovIGZ1bmN0aW9uIGNhbGxiYWNrKGZuLCBhcmdzLCB0aGlzQXJnKSB7XG4gICAgaWYgKGZuICYmIHR5cGVvZiBmbi5jYWxsID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbiAgICB9XG59XG5mdW5jdGlvbiBlYWNoKGxvb3BhYmxlLCBmbiwgdGhpc0FyZywgcmV2ZXJzZSkge1xuICAgIGxldCBpLCBsZW4sIGtleXM7XG4gICAgaWYgKGlzQXJyYXkobG9vcGFibGUpKSB7XG4gICAgICAgIGxlbiA9IGxvb3BhYmxlLmxlbmd0aDtcbiAgICAgICAgaWYgKHJldmVyc2UpIHtcbiAgICAgICAgICAgIGZvcihpID0gbGVuIC0gMTsgaSA+PSAwOyBpLS0pe1xuICAgICAgICAgICAgICAgIGZuLmNhbGwodGhpc0FyZywgbG9vcGFibGVbaV0sIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm9yKGkgPSAwOyBpIDwgbGVuOyBpKyspe1xuICAgICAgICAgICAgICAgIGZuLmNhbGwodGhpc0FyZywgbG9vcGFibGVbaV0sIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSBlbHNlIGlmIChpc09iamVjdChsb29wYWJsZSkpIHtcbiAgICAgICAga2V5cyA9IE9iamVjdC5rZXlzKGxvb3BhYmxlKTtcbiAgICAgICAgbGVuID0ga2V5cy5sZW5ndGg7XG4gICAgICAgIGZvcihpID0gMDsgaSA8IGxlbjsgaSsrKXtcbiAgICAgICAgICAgIGZuLmNhbGwodGhpc0FyZywgbG9vcGFibGVba2V5c1tpXV0sIGtleXNbaV0pO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIGBhMGAgYW5kIGBhMWAgYXJyYXlzIGhhdmUgdGhlIHNhbWUgY29udGVudCwgZWxzZSByZXR1cm5zIGZhbHNlLlxuICogQHBhcmFtIGEwIC0gVGhlIGFycmF5IHRvIGNvbXBhcmVcbiAqIEBwYXJhbSBhMSAtIFRoZSBhcnJheSB0byBjb21wYXJlXG4gKiBAcHJpdmF0ZVxuICovIGZ1bmN0aW9uIF9lbGVtZW50c0VxdWFsKGEwLCBhMSkge1xuICAgIGxldCBpLCBpbGVuLCB2MCwgdjE7XG4gICAgaWYgKCFhMCB8fCAhYTEgfHwgYTAubGVuZ3RoICE9PSBhMS5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmb3IoaSA9IDAsIGlsZW4gPSBhMC5sZW5ndGg7IGkgPCBpbGVuOyArK2kpe1xuICAgICAgICB2MCA9IGEwW2ldO1xuICAgICAgICB2MSA9IGExW2ldO1xuICAgICAgICBpZiAodjAuZGF0YXNldEluZGV4ICE9PSB2MS5kYXRhc2V0SW5kZXggfHwgdjAuaW5kZXggIT09IHYxLmluZGV4KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG4vKipcbiAqIFJldHVybnMgYSBkZWVwIGNvcHkgb2YgYHNvdXJjZWAgd2l0aG91dCBrZWVwaW5nIHJlZmVyZW5jZXMgb24gb2JqZWN0cyBhbmQgYXJyYXlzLlxuICogQHBhcmFtIHNvdXJjZSAtIFRoZSB2YWx1ZSB0byBjbG9uZS5cbiAqLyBmdW5jdGlvbiBjbG9uZShzb3VyY2UpIHtcbiAgICBpZiAoaXNBcnJheShzb3VyY2UpKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2UubWFwKGNsb25lKTtcbiAgICB9XG4gICAgaWYgKGlzT2JqZWN0KHNvdXJjZSkpIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7XG4gICAgICAgIGNvbnN0IGtsZW4gPSBrZXlzLmxlbmd0aDtcbiAgICAgICAgbGV0IGsgPSAwO1xuICAgICAgICBmb3IoOyBrIDwga2xlbjsgKytrKXtcbiAgICAgICAgICAgIHRhcmdldFtrZXlzW2tdXSA9IGNsb25lKHNvdXJjZVtrZXlzW2tdXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9XG4gICAgcmV0dXJuIHNvdXJjZTtcbn1cbmZ1bmN0aW9uIGlzVmFsaWRLZXkoa2V5KSB7XG4gICAgcmV0dXJuIFtcbiAgICAgICAgJ19fcHJvdG9fXycsXG4gICAgICAgICdwcm90b3R5cGUnLFxuICAgICAgICAnY29uc3RydWN0b3InXG4gICAgXS5pbmRleE9mKGtleSkgPT09IC0xO1xufVxuLyoqXG4gKiBUaGUgZGVmYXVsdCBtZXJnZXIgd2hlbiBDaGFydC5oZWxwZXJzLm1lcmdlIGlzIGNhbGxlZCB3aXRob3V0IG1lcmdlciBvcHRpb24uXG4gKiBOb3RlKFNCKTogYWxzbyB1c2VkIGJ5IG1lcmdlQ29uZmlnIGFuZCBtZXJnZVNjYWxlQ29uZmlnIGFzIGZhbGxiYWNrLlxuICogQHByaXZhdGVcbiAqLyBmdW5jdGlvbiBfbWVyZ2VyKGtleSwgdGFyZ2V0LCBzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICBpZiAoIWlzVmFsaWRLZXkoa2V5KSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHR2YWwgPSB0YXJnZXRba2V5XTtcbiAgICBjb25zdCBzdmFsID0gc291cmNlW2tleV07XG4gICAgaWYgKGlzT2JqZWN0KHR2YWwpICYmIGlzT2JqZWN0KHN2YWwpKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICAgICAgbWVyZ2UodHZhbCwgc3ZhbCwgb3B0aW9ucyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGFyZ2V0W2tleV0gPSBjbG9uZShzdmFsKTtcbiAgICB9XG59XG5mdW5jdGlvbiBtZXJnZSh0YXJnZXQsIHNvdXJjZSwgb3B0aW9ucykge1xuICAgIGNvbnN0IHNvdXJjZXMgPSBpc0FycmF5KHNvdXJjZSkgPyBzb3VyY2UgOiBbXG4gICAgICAgIHNvdXJjZVxuICAgIF07XG4gICAgY29uc3QgaWxlbiA9IHNvdXJjZXMubGVuZ3RoO1xuICAgIGlmICghaXNPYmplY3QodGFyZ2V0KSkge1xuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH1cbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBjb25zdCBtZXJnZXIgPSBvcHRpb25zLm1lcmdlciB8fCBfbWVyZ2VyO1xuICAgIGxldCBjdXJyZW50O1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBpbGVuOyArK2kpe1xuICAgICAgICBjdXJyZW50ID0gc291cmNlc1tpXTtcbiAgICAgICAgaWYgKCFpc09iamVjdChjdXJyZW50KSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGN1cnJlbnQpO1xuICAgICAgICBmb3IobGV0IGsgPSAwLCBrbGVuID0ga2V5cy5sZW5ndGg7IGsgPCBrbGVuOyArK2spe1xuICAgICAgICAgICAgbWVyZ2VyKGtleXNba10sIHRhcmdldCwgY3VycmVudCwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldDtcbn1cbmZ1bmN0aW9uIG1lcmdlSWYodGFyZ2V0LCBzb3VyY2UpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgcmV0dXJuIG1lcmdlKHRhcmdldCwgc291cmNlLCB7XG4gICAgICAgIG1lcmdlcjogX21lcmdlcklmXG4gICAgfSk7XG59XG4vKipcbiAqIE1lcmdlcyBzb3VyY2Vba2V5XSBpbiB0YXJnZXRba2V5XSBvbmx5IGlmIHRhcmdldFtrZXldIGlzIHVuZGVmaW5lZC5cbiAqIEBwcml2YXRlXG4gKi8gZnVuY3Rpb24gX21lcmdlcklmKGtleSwgdGFyZ2V0LCBzb3VyY2UpIHtcbiAgICBpZiAoIWlzVmFsaWRLZXkoa2V5KSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHR2YWwgPSB0YXJnZXRba2V5XTtcbiAgICBjb25zdCBzdmFsID0gc291cmNlW2tleV07XG4gICAgaWYgKGlzT2JqZWN0KHR2YWwpICYmIGlzT2JqZWN0KHN2YWwpKSB7XG4gICAgICAgIG1lcmdlSWYodHZhbCwgc3ZhbCk7XG4gICAgfSBlbHNlIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRhcmdldCwga2V5KSkge1xuICAgICAgICB0YXJnZXRba2V5XSA9IGNsb25lKHN2YWwpO1xuICAgIH1cbn1cbi8qKlxuICogQHByaXZhdGVcbiAqLyBmdW5jdGlvbiBfZGVwcmVjYXRlZChzY29wZSwgdmFsdWUsIHByZXZpb3VzLCBjdXJyZW50KSB7XG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uc29sZS53YXJuKHNjb3BlICsgJzogXCInICsgcHJldmlvdXMgKyAnXCIgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSBcIicgKyBjdXJyZW50ICsgJ1wiIGluc3RlYWQnKTtcbiAgICB9XG59XG4vLyByZXNvbHZlT2JqZWN0S2V5IHJlc29sdmVyIGNhY2hlXG5jb25zdCBrZXlSZXNvbHZlcnMgPSB7XG4gICAgLy8gQ2hhcnQuaGVscGVycy5jb3JlIHJlc29sdmVPYmplY3RLZXkgc2hvdWxkIHJlc29sdmUgZW1wdHkga2V5IHRvIHJvb3Qgb2JqZWN0XG4gICAgJyc6ICh2KT0+dixcbiAgICAvLyBkZWZhdWx0IHJlc29sdmVyc1xuICAgIHg6IChvKT0+by54LFxuICAgIHk6IChvKT0+by55XG59O1xuLyoqXG4gKiBAcHJpdmF0ZVxuICovIGZ1bmN0aW9uIF9zcGxpdEtleShrZXkpIHtcbiAgICBjb25zdCBwYXJ0cyA9IGtleS5zcGxpdCgnLicpO1xuICAgIGNvbnN0IGtleXMgPSBbXTtcbiAgICBsZXQgdG1wID0gJyc7XG4gICAgZm9yIChjb25zdCBwYXJ0IG9mIHBhcnRzKXtcbiAgICAgICAgdG1wICs9IHBhcnQ7XG4gICAgICAgIGlmICh0bXAuZW5kc1dpdGgoJ1xcXFwnKSkge1xuICAgICAgICAgICAgdG1wID0gdG1wLnNsaWNlKDAsIC0xKSArICcuJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGtleXMucHVzaCh0bXApO1xuICAgICAgICAgICAgdG1wID0gJyc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGtleXM7XG59XG5mdW5jdGlvbiBfZ2V0S2V5UmVzb2x2ZXIoa2V5KSB7XG4gICAgY29uc3Qga2V5cyA9IF9zcGxpdEtleShrZXkpO1xuICAgIHJldHVybiAob2JqKT0+e1xuICAgICAgICBmb3IgKGNvbnN0IGsgb2Yga2V5cyl7XG4gICAgICAgICAgICBpZiAoayA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9iaiA9IG9iaiAmJiBvYmpba107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9O1xufVxuZnVuY3Rpb24gcmVzb2x2ZU9iamVjdEtleShvYmosIGtleSkge1xuICAgIGNvbnN0IHJlc29sdmVyID0ga2V5UmVzb2x2ZXJzW2tleV0gfHwgKGtleVJlc29sdmVyc1trZXldID0gX2dldEtleVJlc29sdmVyKGtleSkpO1xuICAgIHJldHVybiByZXNvbHZlcihvYmopO1xufVxuLyoqXG4gKiBAcHJpdmF0ZVxuICovIGZ1bmN0aW9uIF9jYXBpdGFsaXplKHN0cikge1xuICAgIHJldHVybiBzdHIuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHIuc2xpY2UoMSk7XG59XG5jb25zdCBkZWZpbmVkID0gKHZhbHVlKT0+dHlwZW9mIHZhbHVlICE9PSAndW5kZWZpbmVkJztcbmNvbnN0IGlzRnVuY3Rpb24gPSAodmFsdWUpPT50eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbic7XG4vLyBBZGFwdGVkIGZyb20gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzExMjg4NTUvY29tcGFyaW5nLWVjbWE2LXNldHMtZm9yLWVxdWFsaXR5IzMxMTI5Mzg0XG5jb25zdCBzZXRzRXF1YWwgPSAoYSwgYik9PntcbiAgICBpZiAoYS5zaXplICE9PSBiLnNpemUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgYSl7XG4gICAgICAgIGlmICghYi5oYXMoaXRlbSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn07XG4vKipcbiAqIEBwYXJhbSBlIC0gVGhlIGV2ZW50XG4gKiBAcHJpdmF0ZVxuICovIGZ1bmN0aW9uIF9pc0NsaWNrRXZlbnQoZSkge1xuICAgIHJldHVybiBlLnR5cGUgPT09ICdtb3VzZXVwJyB8fCBlLnR5cGUgPT09ICdjbGljaycgfHwgZS50eXBlID09PSAnY29udGV4dG1lbnUnO1xufVxuXG4vKipcbiAqIEBhbGlhcyBDaGFydC5oZWxwZXJzLm1hdGhcbiAqIEBuYW1lc3BhY2VcbiAqLyBjb25zdCBQSSA9IE1hdGguUEk7XG5jb25zdCBUQVUgPSAyICogUEk7XG5jb25zdCBQSVRBVSA9IFRBVSArIFBJO1xuY29uc3QgSU5GSU5JVFkgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG5jb25zdCBSQURfUEVSX0RFRyA9IFBJIC8gMTgwO1xuY29uc3QgSEFMRl9QSSA9IFBJIC8gMjtcbmNvbnN0IFFVQVJURVJfUEkgPSBQSSAvIDQ7XG5jb25zdCBUV09fVEhJUkRTX1BJID0gUEkgKiAyIC8gMztcbmNvbnN0IGxvZzEwID0gTWF0aC5sb2cxMDtcbmNvbnN0IHNpZ24gPSBNYXRoLnNpZ247XG5mdW5jdGlvbiBhbG1vc3RFcXVhbHMoeCwgeSwgZXBzaWxvbikge1xuICAgIHJldHVybiBNYXRoLmFicyh4IC0geSkgPCBlcHNpbG9uO1xufVxuLyoqXG4gKiBJbXBsZW1lbnRhdGlvbiBvZiB0aGUgbmljZSBudW1iZXIgYWxnb3JpdGhtIHVzZWQgaW4gZGV0ZXJtaW5pbmcgd2hlcmUgYXhpcyBsYWJlbHMgd2lsbCBnb1xuICovIGZ1bmN0aW9uIG5pY2VOdW0ocmFuZ2UpIHtcbiAgICBjb25zdCByb3VuZGVkUmFuZ2UgPSBNYXRoLnJvdW5kKHJhbmdlKTtcbiAgICByYW5nZSA9IGFsbW9zdEVxdWFscyhyYW5nZSwgcm91bmRlZFJhbmdlLCByYW5nZSAvIDEwMDApID8gcm91bmRlZFJhbmdlIDogcmFuZ2U7XG4gICAgY29uc3QgbmljZVJhbmdlID0gTWF0aC5wb3coMTAsIE1hdGguZmxvb3IobG9nMTAocmFuZ2UpKSk7XG4gICAgY29uc3QgZnJhY3Rpb24gPSByYW5nZSAvIG5pY2VSYW5nZTtcbiAgICBjb25zdCBuaWNlRnJhY3Rpb24gPSBmcmFjdGlvbiA8PSAxID8gMSA6IGZyYWN0aW9uIDw9IDIgPyAyIDogZnJhY3Rpb24gPD0gNSA/IDUgOiAxMDtcbiAgICByZXR1cm4gbmljZUZyYWN0aW9uICogbmljZVJhbmdlO1xufVxuLyoqXG4gKiBSZXR1cm5zIGFuIGFycmF5IG9mIGZhY3RvcnMgc29ydGVkIGZyb20gMSB0byBzcXJ0KHZhbHVlKVxuICogQHByaXZhdGVcbiAqLyBmdW5jdGlvbiBfZmFjdG9yaXplKHZhbHVlKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgY29uc3Qgc3FydCA9IE1hdGguc3FydCh2YWx1ZSk7XG4gICAgbGV0IGk7XG4gICAgZm9yKGkgPSAxOyBpIDwgc3FydDsgaSsrKXtcbiAgICAgICAgaWYgKHZhbHVlICUgaSA9PT0gMCkge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goaSk7XG4gICAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSAvIGkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChzcXJ0ID09PSAoc3FydCB8IDApKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKHNxcnQpO1xuICAgIH1cbiAgICByZXN1bHQuc29ydCgoYSwgYik9PmEgLSBiKS5wb3AoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gaXNOdW1iZXIobikge1xuICAgIHJldHVybiAhaXNOYU4ocGFyc2VGbG9hdChuKSkgJiYgaXNGaW5pdGUobik7XG59XG5mdW5jdGlvbiBhbG1vc3RXaG9sZSh4LCBlcHNpbG9uKSB7XG4gICAgY29uc3Qgcm91bmRlZCA9IE1hdGgucm91bmQoeCk7XG4gICAgcmV0dXJuIHJvdW5kZWQgLSBlcHNpbG9uIDw9IHggJiYgcm91bmRlZCArIGVwc2lsb24gPj0geDtcbn1cbi8qKlxuICogQHByaXZhdGVcbiAqLyBmdW5jdGlvbiBfc2V0TWluQW5kTWF4QnlLZXkoYXJyYXksIHRhcmdldCwgcHJvcGVydHkpIHtcbiAgICBsZXQgaSwgaWxlbiwgdmFsdWU7XG4gICAgZm9yKGkgPSAwLCBpbGVuID0gYXJyYXkubGVuZ3RoOyBpIDwgaWxlbjsgaSsrKXtcbiAgICAgICAgdmFsdWUgPSBhcnJheVtpXVtwcm9wZXJ0eV07XG4gICAgICAgIGlmICghaXNOYU4odmFsdWUpKSB7XG4gICAgICAgICAgICB0YXJnZXQubWluID0gTWF0aC5taW4odGFyZ2V0Lm1pbiwgdmFsdWUpO1xuICAgICAgICAgICAgdGFyZ2V0Lm1heCA9IE1hdGgubWF4KHRhcmdldC5tYXgsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIHRvUmFkaWFucyhkZWdyZWVzKSB7XG4gICAgcmV0dXJuIGRlZ3JlZXMgKiAoUEkgLyAxODApO1xufVxuZnVuY3Rpb24gdG9EZWdyZWVzKHJhZGlhbnMpIHtcbiAgICByZXR1cm4gcmFkaWFucyAqICgxODAgLyBQSSk7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIG51bWJlciBvZiBkZWNpbWFsIHBsYWNlc1xuICogaS5lLiB0aGUgbnVtYmVyIG9mIGRpZ2l0cyBhZnRlciB0aGUgZGVjaW1hbCBwb2ludCwgb2YgdGhlIHZhbHVlIG9mIHRoaXMgTnVtYmVyLlxuICogQHBhcmFtIHggLSBBIG51bWJlci5cbiAqIEByZXR1cm5zIFRoZSBudW1iZXIgb2YgZGVjaW1hbCBwbGFjZXMuXG4gKiBAcHJpdmF0ZVxuICovIGZ1bmN0aW9uIF9kZWNpbWFsUGxhY2VzKHgpIHtcbiAgICBpZiAoIWlzTnVtYmVyRmluaXRlKHgpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IGUgPSAxO1xuICAgIGxldCBwID0gMDtcbiAgICB3aGlsZShNYXRoLnJvdW5kKHggKiBlKSAvIGUgIT09IHgpe1xuICAgICAgICBlICo9IDEwO1xuICAgICAgICBwKys7XG4gICAgfVxuICAgIHJldHVybiBwO1xufVxuLy8gR2V0cyB0aGUgYW5nbGUgZnJvbSB2ZXJ0aWNhbCB1cHJpZ2h0IHRvIHRoZSBwb2ludCBhYm91dCBhIGNlbnRyZS5cbmZ1bmN0aW9uIGdldEFuZ2xlRnJvbVBvaW50KGNlbnRyZVBvaW50LCBhbmdsZVBvaW50KSB7XG4gICAgY29uc3QgZGlzdGFuY2VGcm9tWENlbnRlciA9IGFuZ2xlUG9pbnQueCAtIGNlbnRyZVBvaW50Lng7XG4gICAgY29uc3QgZGlzdGFuY2VGcm9tWUNlbnRlciA9IGFuZ2xlUG9pbnQueSAtIGNlbnRyZVBvaW50Lnk7XG4gICAgY29uc3QgcmFkaWFsRGlzdGFuY2VGcm9tQ2VudGVyID0gTWF0aC5zcXJ0KGRpc3RhbmNlRnJvbVhDZW50ZXIgKiBkaXN0YW5jZUZyb21YQ2VudGVyICsgZGlzdGFuY2VGcm9tWUNlbnRlciAqIGRpc3RhbmNlRnJvbVlDZW50ZXIpO1xuICAgIGxldCBhbmdsZSA9IE1hdGguYXRhbjIoZGlzdGFuY2VGcm9tWUNlbnRlciwgZGlzdGFuY2VGcm9tWENlbnRlcik7XG4gICAgaWYgKGFuZ2xlIDwgLTAuNSAqIFBJKSB7XG4gICAgICAgIGFuZ2xlICs9IFRBVTsgLy8gbWFrZSBzdXJlIHRoZSByZXR1cm5lZCBhbmdsZSBpcyBpbiB0aGUgcmFuZ2Ugb2YgKC1QSS8yLCAzUEkvMl1cbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYW5nbGUsXG4gICAgICAgIGRpc3RhbmNlOiByYWRpYWxEaXN0YW5jZUZyb21DZW50ZXJcbiAgICB9O1xufVxuZnVuY3Rpb24gZGlzdGFuY2VCZXR3ZWVuUG9pbnRzKHB0MSwgcHQyKSB7XG4gICAgcmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyhwdDIueCAtIHB0MS54LCAyKSArIE1hdGgucG93KHB0Mi55IC0gcHQxLnksIDIpKTtcbn1cbi8qKlxuICogU2hvcnRlc3QgZGlzdGFuY2UgYmV0d2VlbiBhbmdsZXMsIGluIGVpdGhlciBkaXJlY3Rpb24uXG4gKiBAcHJpdmF0ZVxuICovIGZ1bmN0aW9uIF9hbmdsZURpZmYoYSwgYikge1xuICAgIHJldHVybiAoYSAtIGIgKyBQSVRBVSkgJSBUQVUgLSBQSTtcbn1cbi8qKlxuICogTm9ybWFsaXplIGFuZ2xlIHRvIGJlIGJldHdlZW4gMCBhbmQgMipQSVxuICogQHByaXZhdGVcbiAqLyBmdW5jdGlvbiBfbm9ybWFsaXplQW5nbGUoYSkge1xuICAgIHJldHVybiAoYSAlIFRBVSArIFRBVSkgJSBUQVU7XG59XG4vKipcbiAqIEBwcml2YXRlXG4gKi8gZnVuY3Rpb24gX2FuZ2xlQmV0d2VlbihhbmdsZSwgc3RhcnQsIGVuZCwgc2FtZUFuZ2xlSXNGdWxsQ2lyY2xlKSB7XG4gICAgY29uc3QgYSA9IF9ub3JtYWxpemVBbmdsZShhbmdsZSk7XG4gICAgY29uc3QgcyA9IF9ub3JtYWxpemVBbmdsZShzdGFydCk7XG4gICAgY29uc3QgZSA9IF9ub3JtYWxpemVBbmdsZShlbmQpO1xuICAgIGNvbnN0IGFuZ2xlVG9TdGFydCA9IF9ub3JtYWxpemVBbmdsZShzIC0gYSk7XG4gICAgY29uc3QgYW5nbGVUb0VuZCA9IF9ub3JtYWxpemVBbmdsZShlIC0gYSk7XG4gICAgY29uc3Qgc3RhcnRUb0FuZ2xlID0gX25vcm1hbGl6ZUFuZ2xlKGEgLSBzKTtcbiAgICBjb25zdCBlbmRUb0FuZ2xlID0gX25vcm1hbGl6ZUFuZ2xlKGEgLSBlKTtcbiAgICByZXR1cm4gYSA9PT0gcyB8fCBhID09PSBlIHx8IHNhbWVBbmdsZUlzRnVsbENpcmNsZSAmJiBzID09PSBlIHx8IGFuZ2xlVG9TdGFydCA+IGFuZ2xlVG9FbmQgJiYgc3RhcnRUb0FuZ2xlIDwgZW5kVG9BbmdsZTtcbn1cbi8qKlxuICogTGltaXQgYHZhbHVlYCBiZXR3ZWVuIGBtaW5gIGFuZCBgbWF4YFxuICogQHBhcmFtIHZhbHVlXG4gKiBAcGFyYW0gbWluXG4gKiBAcGFyYW0gbWF4XG4gKiBAcHJpdmF0ZVxuICovIGZ1bmN0aW9uIF9saW1pdFZhbHVlKHZhbHVlLCBtaW4sIG1heCkge1xuICAgIHJldHVybiBNYXRoLm1heChtaW4sIE1hdGgubWluKG1heCwgdmFsdWUpKTtcbn1cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXG4gKiBAcHJpdmF0ZVxuICovIGZ1bmN0aW9uIF9pbnQxNlJhbmdlKHZhbHVlKSB7XG4gICAgcmV0dXJuIF9saW1pdFZhbHVlKHZhbHVlLCAtMzI3NjgsIDMyNzY3KTtcbn1cbi8qKlxuICogQHBhcmFtIHZhbHVlXG4gKiBAcGFyYW0gc3RhcnRcbiAqIEBwYXJhbSBlbmRcbiAqIEBwYXJhbSBbZXBzaWxvbl1cbiAqIEBwcml2YXRlXG4gKi8gZnVuY3Rpb24gX2lzQmV0d2Vlbih2YWx1ZSwgc3RhcnQsIGVuZCwgZXBzaWxvbiA9IDFlLTYpIHtcbiAgICByZXR1cm4gdmFsdWUgPj0gTWF0aC5taW4oc3RhcnQsIGVuZCkgLSBlcHNpbG9uICYmIHZhbHVlIDw9IE1hdGgubWF4KHN0YXJ0LCBlbmQpICsgZXBzaWxvbjtcbn1cblxuZnVuY3Rpb24gX2xvb2t1cCh0YWJsZSwgdmFsdWUsIGNtcCkge1xuICAgIGNtcCA9IGNtcCB8fCAoKGluZGV4KT0+dGFibGVbaW5kZXhdIDwgdmFsdWUpO1xuICAgIGxldCBoaSA9IHRhYmxlLmxlbmd0aCAtIDE7XG4gICAgbGV0IGxvID0gMDtcbiAgICBsZXQgbWlkO1xuICAgIHdoaWxlKGhpIC0gbG8gPiAxKXtcbiAgICAgICAgbWlkID0gbG8gKyBoaSA+PiAxO1xuICAgICAgICBpZiAoY21wKG1pZCkpIHtcbiAgICAgICAgICAgIGxvID0gbWlkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaGkgPSBtaWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG8sXG4gICAgICAgIGhpXG4gICAgfTtcbn1cbi8qKlxuICogQmluYXJ5IHNlYXJjaFxuICogQHBhcmFtIHRhYmxlIC0gdGhlIHRhYmxlIHNlYXJjaC4gbXVzdCBiZSBzb3J0ZWQhXG4gKiBAcGFyYW0ga2V5IC0gcHJvcGVydHkgbmFtZSBmb3IgdGhlIHZhbHVlIGluIGVhY2ggZW50cnlcbiAqIEBwYXJhbSB2YWx1ZSAtIHZhbHVlIHRvIGZpbmRcbiAqIEBwYXJhbSBsYXN0IC0gbG9va3VwIGxhc3QgaW5kZXhcbiAqIEBwcml2YXRlXG4gKi8gY29uc3QgX2xvb2t1cEJ5S2V5ID0gKHRhYmxlLCBrZXksIHZhbHVlLCBsYXN0KT0+X2xvb2t1cCh0YWJsZSwgdmFsdWUsIGxhc3QgPyAoaW5kZXgpPT57XG4gICAgICAgIGNvbnN0IHRpID0gdGFibGVbaW5kZXhdW2tleV07XG4gICAgICAgIHJldHVybiB0aSA8IHZhbHVlIHx8IHRpID09PSB2YWx1ZSAmJiB0YWJsZVtpbmRleCArIDFdW2tleV0gPT09IHZhbHVlO1xuICAgIH0gOiAoaW5kZXgpPT50YWJsZVtpbmRleF1ba2V5XSA8IHZhbHVlKTtcbi8qKlxuICogUmV2ZXJzZSBiaW5hcnkgc2VhcmNoXG4gKiBAcGFyYW0gdGFibGUgLSB0aGUgdGFibGUgc2VhcmNoLiBtdXN0IGJlIHNvcnRlZCFcbiAqIEBwYXJhbSBrZXkgLSBwcm9wZXJ0eSBuYW1lIGZvciB0aGUgdmFsdWUgaW4gZWFjaCBlbnRyeVxuICogQHBhcmFtIHZhbHVlIC0gdmFsdWUgdG8gZmluZFxuICogQHByaXZhdGVcbiAqLyBjb25zdCBfcmxvb2t1cEJ5S2V5ID0gKHRhYmxlLCBrZXksIHZhbHVlKT0+X2xvb2t1cCh0YWJsZSwgdmFsdWUsIChpbmRleCk9PnRhYmxlW2luZGV4XVtrZXldID49IHZhbHVlKTtcbi8qKlxuICogUmV0dXJuIHN1YnNldCBvZiBgdmFsdWVzYCBiZXR3ZWVuIGBtaW5gIGFuZCBgbWF4YCBpbmNsdXNpdmUuXG4gKiBWYWx1ZXMgYXJlIGFzc3VtZWQgdG8gYmUgaW4gc29ydGVkIG9yZGVyLlxuICogQHBhcmFtIHZhbHVlcyAtIHNvcnRlZCBhcnJheSBvZiB2YWx1ZXNcbiAqIEBwYXJhbSBtaW4gLSBtaW4gdmFsdWVcbiAqIEBwYXJhbSBtYXggLSBtYXggdmFsdWVcbiAqLyBmdW5jdGlvbiBfZmlsdGVyQmV0d2Vlbih2YWx1ZXMsIG1pbiwgbWF4KSB7XG4gICAgbGV0IHN0YXJ0ID0gMDtcbiAgICBsZXQgZW5kID0gdmFsdWVzLmxlbmd0aDtcbiAgICB3aGlsZShzdGFydCA8IGVuZCAmJiB2YWx1ZXNbc3RhcnRdIDwgbWluKXtcbiAgICAgICAgc3RhcnQrKztcbiAgICB9XG4gICAgd2hpbGUoZW5kID4gc3RhcnQgJiYgdmFsdWVzW2VuZCAtIDFdID4gbWF4KXtcbiAgICAgICAgZW5kLS07XG4gICAgfVxuICAgIHJldHVybiBzdGFydCA+IDAgfHwgZW5kIDwgdmFsdWVzLmxlbmd0aCA/IHZhbHVlcy5zbGljZShzdGFydCwgZW5kKSA6IHZhbHVlcztcbn1cbmNvbnN0IGFycmF5RXZlbnRzID0gW1xuICAgICdwdXNoJyxcbiAgICAncG9wJyxcbiAgICAnc2hpZnQnLFxuICAgICdzcGxpY2UnLFxuICAgICd1bnNoaWZ0J1xuXTtcbmZ1bmN0aW9uIGxpc3RlbkFycmF5RXZlbnRzKGFycmF5LCBsaXN0ZW5lcikge1xuICAgIGlmIChhcnJheS5fY2hhcnRqcykge1xuICAgICAgICBhcnJheS5fY2hhcnRqcy5saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGFycmF5LCAnX2NoYXJ0anMnLCB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICBsaXN0ZW5lcnM6IFtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lclxuICAgICAgICAgICAgXVxuICAgICAgICB9XG4gICAgfSk7XG4gICAgYXJyYXlFdmVudHMuZm9yRWFjaCgoa2V5KT0+e1xuICAgICAgICBjb25zdCBtZXRob2QgPSAnX29uRGF0YScgKyBfY2FwaXRhbGl6ZShrZXkpO1xuICAgICAgICBjb25zdCBiYXNlID0gYXJyYXlba2V5XTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGFycmF5LCBrZXksIHtcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgdmFsdWUgKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXMgPSBiYXNlLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICAgICAgICAgIGFycmF5Ll9jaGFydGpzLmxpc3RlbmVycy5mb3JFYWNoKChvYmplY3QpPT57XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqZWN0W21ldGhvZF0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdFttZXRob2RdKC4uLmFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiB1bmxpc3RlbkFycmF5RXZlbnRzKGFycmF5LCBsaXN0ZW5lcikge1xuICAgIGNvbnN0IHN0dWIgPSBhcnJheS5fY2hhcnRqcztcbiAgICBpZiAoIXN0dWIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBsaXN0ZW5lcnMgPSBzdHViLmxpc3RlbmVycztcbiAgICBjb25zdCBpbmRleCA9IGxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKTtcbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgIGxpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbiAgICBpZiAobGlzdGVuZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBhcnJheUV2ZW50cy5mb3JFYWNoKChrZXkpPT57XG4gICAgICAgIGRlbGV0ZSBhcnJheVtrZXldO1xuICAgIH0pO1xuICAgIGRlbGV0ZSBhcnJheS5fY2hhcnRqcztcbn1cbi8qKlxuICogQHBhcmFtIGl0ZW1zXG4gKi8gZnVuY3Rpb24gX2FycmF5VW5pcXVlKGl0ZW1zKSB7XG4gICAgY29uc3Qgc2V0ID0gbmV3IFNldChpdGVtcyk7XG4gICAgaWYgKHNldC5zaXplID09PSBpdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGl0ZW1zO1xuICAgIH1cbiAgICByZXR1cm4gQXJyYXkuZnJvbShzZXQpO1xufVxuXG5mdW5jdGlvbiBmb250U3RyaW5nKHBpeGVsU2l6ZSwgZm9udFN0eWxlLCBmb250RmFtaWx5KSB7XG4gICAgcmV0dXJuIGZvbnRTdHlsZSArICcgJyArIHBpeGVsU2l6ZSArICdweCAnICsgZm9udEZhbWlseTtcbn1cbi8qKlxuKiBSZXF1ZXN0IGFuaW1hdGlvbiBwb2x5ZmlsbFxuKi8gY29uc3QgcmVxdWVzdEFuaW1GcmFtZSA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjaygpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZTtcbn0oKTtcbi8qKlxuICogVGhyb3R0bGVzIGNhbGxpbmcgYGZuYCBvbmNlIHBlciBhbmltYXRpb24gZnJhbWVcbiAqIExhdGVzdCBhcmd1bWVudHMgYXJlIHVzZWQgb24gdGhlIGFjdHVhbCBjYWxsXG4gKi8gZnVuY3Rpb24gdGhyb3R0bGVkKGZuLCB0aGlzQXJnKSB7XG4gICAgbGV0IGFyZ3NUb1VzZSA9IFtdO1xuICAgIGxldCB0aWNraW5nID0gZmFsc2U7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKC4uLmFyZ3MpIHtcbiAgICAgICAgLy8gU2F2ZSB0aGUgYXJncyBmb3IgdXNlIGxhdGVyXG4gICAgICAgIGFyZ3NUb1VzZSA9IGFyZ3M7XG4gICAgICAgIGlmICghdGlja2luZykge1xuICAgICAgICAgICAgdGlja2luZyA9IHRydWU7XG4gICAgICAgICAgICByZXF1ZXN0QW5pbUZyYW1lLmNhbGwod2luZG93LCAoKT0+e1xuICAgICAgICAgICAgICAgIHRpY2tpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBmbi5hcHBseSh0aGlzQXJnLCBhcmdzVG9Vc2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuLyoqXG4gKiBEZWJvdW5jZXMgY2FsbGluZyBgZm5gIGZvciBgZGVsYXlgIG1zXG4gKi8gZnVuY3Rpb24gZGVib3VuY2UoZm4sIGRlbGF5KSB7XG4gICAgbGV0IHRpbWVvdXQ7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKC4uLmFyZ3MpIHtcbiAgICAgICAgaWYgKGRlbGF5KSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChmbiwgZGVsYXksIGFyZ3MpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm4uYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRlbGF5O1xuICAgIH07XG59XG4vKipcbiAqIENvbnZlcnRzICdzdGFydCcgdG8gJ2xlZnQnLCAnZW5kJyB0byAncmlnaHQnIGFuZCBvdGhlcnMgdG8gJ2NlbnRlcidcbiAqIEBwcml2YXRlXG4gKi8gY29uc3QgX3RvTGVmdFJpZ2h0Q2VudGVyID0gKGFsaWduKT0+YWxpZ24gPT09ICdzdGFydCcgPyAnbGVmdCcgOiBhbGlnbiA9PT0gJ2VuZCcgPyAncmlnaHQnIDogJ2NlbnRlcic7XG4vKipcbiAqIFJldHVybnMgYHN0YXJ0YCwgYGVuZGAgb3IgYChzdGFydCArIGVuZCkgLyAyYCBkZXBlbmRpbmcgb24gYGFsaWduYC4gRGVmYXVsdHMgdG8gYGNlbnRlcmBcbiAqIEBwcml2YXRlXG4gKi8gY29uc3QgX2FsaWduU3RhcnRFbmQgPSAoYWxpZ24sIHN0YXJ0LCBlbmQpPT5hbGlnbiA9PT0gJ3N0YXJ0JyA/IHN0YXJ0IDogYWxpZ24gPT09ICdlbmQnID8gZW5kIDogKHN0YXJ0ICsgZW5kKSAvIDI7XG4vKipcbiAqIFJldHVybnMgYGxlZnRgLCBgcmlnaHRgIG9yIGAobGVmdCArIHJpZ2h0KSAvIDJgIGRlcGVuZGluZyBvbiBgYWxpZ25gLiBEZWZhdWx0cyB0byBgbGVmdGBcbiAqIEBwcml2YXRlXG4gKi8gY29uc3QgX3RleHRYID0gKGFsaWduLCBsZWZ0LCByaWdodCwgcnRsKT0+e1xuICAgIGNvbnN0IGNoZWNrID0gcnRsID8gJ2xlZnQnIDogJ3JpZ2h0JztcbiAgICByZXR1cm4gYWxpZ24gPT09IGNoZWNrID8gcmlnaHQgOiBhbGlnbiA9PT0gJ2NlbnRlcicgPyAobGVmdCArIHJpZ2h0KSAvIDIgOiBsZWZ0O1xufTtcbi8qKlxuICogUmV0dXJuIHN0YXJ0IGFuZCBjb3VudCBvZiB2aXNpYmxlIHBvaW50cy5cbiAqIEBwcml2YXRlXG4gKi8gZnVuY3Rpb24gX2dldFN0YXJ0QW5kQ291bnRPZlZpc2libGVQb2ludHMobWV0YSwgcG9pbnRzLCBhbmltYXRpb25zRGlzYWJsZWQpIHtcbiAgICBjb25zdCBwb2ludENvdW50ID0gcG9pbnRzLmxlbmd0aDtcbiAgICBsZXQgc3RhcnQgPSAwO1xuICAgIGxldCBjb3VudCA9IHBvaW50Q291bnQ7XG4gICAgaWYgKG1ldGEuX3NvcnRlZCkge1xuICAgICAgICBjb25zdCB7IGlTY2FsZSAsIF9wYXJzZWQgIH0gPSBtZXRhO1xuICAgICAgICBjb25zdCBheGlzID0gaVNjYWxlLmF4aXM7XG4gICAgICAgIGNvbnN0IHsgbWluICwgbWF4ICwgbWluRGVmaW5lZCAsIG1heERlZmluZWQgIH0gPSBpU2NhbGUuZ2V0VXNlckJvdW5kcygpO1xuICAgICAgICBpZiAobWluRGVmaW5lZCkge1xuICAgICAgICAgICAgc3RhcnQgPSBfbGltaXRWYWx1ZShNYXRoLm1pbigvLyBAdHMtZXhwZWN0LWVycm9yIE5lZWQgdG8gdHlwZSBfcGFyc2VkXG4gICAgICAgICAgICBfbG9va3VwQnlLZXkoX3BhcnNlZCwgYXhpcywgbWluKS5sbywgLy8gQHRzLWV4cGVjdC1lcnJvciBOZWVkIHRvIGZpeCB0eXBlcyBvbiBfbG9va3VwQnlLZXlcbiAgICAgICAgICAgIGFuaW1hdGlvbnNEaXNhYmxlZCA/IHBvaW50Q291bnQgOiBfbG9va3VwQnlLZXkocG9pbnRzLCBheGlzLCBpU2NhbGUuZ2V0UGl4ZWxGb3JWYWx1ZShtaW4pKS5sbyksIDAsIHBvaW50Q291bnQgLSAxKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWF4RGVmaW5lZCkge1xuICAgICAgICAgICAgY291bnQgPSBfbGltaXRWYWx1ZShNYXRoLm1heCgvLyBAdHMtZXhwZWN0LWVycm9yIE5lZWQgdG8gdHlwZSBfcGFyc2VkXG4gICAgICAgICAgICBfbG9va3VwQnlLZXkoX3BhcnNlZCwgaVNjYWxlLmF4aXMsIG1heCwgdHJ1ZSkuaGkgKyAxLCAvLyBAdHMtZXhwZWN0LWVycm9yIE5lZWQgdG8gZml4IHR5cGVzIG9uIF9sb29rdXBCeUtleVxuICAgICAgICAgICAgYW5pbWF0aW9uc0Rpc2FibGVkID8gMCA6IF9sb29rdXBCeUtleShwb2ludHMsIGF4aXMsIGlTY2FsZS5nZXRQaXhlbEZvclZhbHVlKG1heCksIHRydWUpLmhpICsgMSksIHN0YXJ0LCBwb2ludENvdW50KSAtIHN0YXJ0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY291bnQgPSBwb2ludENvdW50IC0gc3RhcnQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3RhcnQsXG4gICAgICAgIGNvdW50XG4gICAgfTtcbn1cbi8qKlxuICogQ2hlY2tzIGlmIHRoZSBzY2FsZSByYW5nZXMgaGF2ZSBjaGFuZ2VkLlxuICogQHBhcmFtIHtvYmplY3R9IG1ldGEgLSBkYXRhc2V0IG1ldGEuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqIEBwcml2YXRlXG4gKi8gZnVuY3Rpb24gX3NjYWxlUmFuZ2VzQ2hhbmdlZChtZXRhKSB7XG4gICAgY29uc3QgeyB4U2NhbGUgLCB5U2NhbGUgLCBfc2NhbGVSYW5nZXMgIH0gPSBtZXRhO1xuICAgIGNvbnN0IG5ld1JhbmdlcyA9IHtcbiAgICAgICAgeG1pbjogeFNjYWxlLm1pbixcbiAgICAgICAgeG1heDogeFNjYWxlLm1heCxcbiAgICAgICAgeW1pbjogeVNjYWxlLm1pbixcbiAgICAgICAgeW1heDogeVNjYWxlLm1heFxuICAgIH07XG4gICAgaWYgKCFfc2NhbGVSYW5nZXMpIHtcbiAgICAgICAgbWV0YS5fc2NhbGVSYW5nZXMgPSBuZXdSYW5nZXM7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjb25zdCBjaGFuZ2VkID0gX3NjYWxlUmFuZ2VzLnhtaW4gIT09IHhTY2FsZS5taW4gfHwgX3NjYWxlUmFuZ2VzLnhtYXggIT09IHhTY2FsZS5tYXggfHwgX3NjYWxlUmFuZ2VzLnltaW4gIT09IHlTY2FsZS5taW4gfHwgX3NjYWxlUmFuZ2VzLnltYXggIT09IHlTY2FsZS5tYXg7XG4gICAgT2JqZWN0LmFzc2lnbihfc2NhbGVSYW5nZXMsIG5ld1Jhbmdlcyk7XG4gICAgcmV0dXJuIGNoYW5nZWQ7XG59XG5cbmNvbnN0IGF0RWRnZSA9ICh0KT0+dCA9PT0gMCB8fCB0ID09PSAxO1xuY29uc3QgZWxhc3RpY0luID0gKHQsIHMsIHApPT4tKE1hdGgucG93KDIsIDEwICogKHQgLT0gMSkpICogTWF0aC5zaW4oKHQgLSBzKSAqIFRBVSAvIHApKTtcbmNvbnN0IGVsYXN0aWNPdXQgPSAodCwgcywgcCk9Pk1hdGgucG93KDIsIC0xMCAqIHQpICogTWF0aC5zaW4oKHQgLSBzKSAqIFRBVSAvIHApICsgMTtcbi8qKlxuICogRWFzaW5nIGZ1bmN0aW9ucyBhZGFwdGVkIGZyb20gUm9iZXJ0IFBlbm5lcidzIGVhc2luZyBlcXVhdGlvbnMuXG4gKiBAbmFtZXNwYWNlIENoYXJ0LmhlbHBlcnMuZWFzaW5nLmVmZmVjdHNcbiAqIEBzZWUgaHR0cDovL3d3dy5yb2JlcnRwZW5uZXIuY29tL2Vhc2luZy9cbiAqLyBjb25zdCBlZmZlY3RzID0ge1xuICAgIGxpbmVhcjogKHQpPT50LFxuICAgIGVhc2VJblF1YWQ6ICh0KT0+dCAqIHQsXG4gICAgZWFzZU91dFF1YWQ6ICh0KT0+LXQgKiAodCAtIDIpLFxuICAgIGVhc2VJbk91dFF1YWQ6ICh0KT0+KHQgLz0gMC41KSA8IDEgPyAwLjUgKiB0ICogdCA6IC0wLjUgKiAoLS10ICogKHQgLSAyKSAtIDEpLFxuICAgIGVhc2VJbkN1YmljOiAodCk9PnQgKiB0ICogdCxcbiAgICBlYXNlT3V0Q3ViaWM6ICh0KT0+KHQgLT0gMSkgKiB0ICogdCArIDEsXG4gICAgZWFzZUluT3V0Q3ViaWM6ICh0KT0+KHQgLz0gMC41KSA8IDEgPyAwLjUgKiB0ICogdCAqIHQgOiAwLjUgKiAoKHQgLT0gMikgKiB0ICogdCArIDIpLFxuICAgIGVhc2VJblF1YXJ0OiAodCk9PnQgKiB0ICogdCAqIHQsXG4gICAgZWFzZU91dFF1YXJ0OiAodCk9Pi0oKHQgLT0gMSkgKiB0ICogdCAqIHQgLSAxKSxcbiAgICBlYXNlSW5PdXRRdWFydDogKHQpPT4odCAvPSAwLjUpIDwgMSA/IDAuNSAqIHQgKiB0ICogdCAqIHQgOiAtMC41ICogKCh0IC09IDIpICogdCAqIHQgKiB0IC0gMiksXG4gICAgZWFzZUluUXVpbnQ6ICh0KT0+dCAqIHQgKiB0ICogdCAqIHQsXG4gICAgZWFzZU91dFF1aW50OiAodCk9Pih0IC09IDEpICogdCAqIHQgKiB0ICogdCArIDEsXG4gICAgZWFzZUluT3V0UXVpbnQ6ICh0KT0+KHQgLz0gMC41KSA8IDEgPyAwLjUgKiB0ICogdCAqIHQgKiB0ICogdCA6IDAuNSAqICgodCAtPSAyKSAqIHQgKiB0ICogdCAqIHQgKyAyKSxcbiAgICBlYXNlSW5TaW5lOiAodCk9Pi1NYXRoLmNvcyh0ICogSEFMRl9QSSkgKyAxLFxuICAgIGVhc2VPdXRTaW5lOiAodCk9Pk1hdGguc2luKHQgKiBIQUxGX1BJKSxcbiAgICBlYXNlSW5PdXRTaW5lOiAodCk9Pi0wLjUgKiAoTWF0aC5jb3MoUEkgKiB0KSAtIDEpLFxuICAgIGVhc2VJbkV4cG86ICh0KT0+dCA9PT0gMCA/IDAgOiBNYXRoLnBvdygyLCAxMCAqICh0IC0gMSkpLFxuICAgIGVhc2VPdXRFeHBvOiAodCk9PnQgPT09IDEgPyAxIDogLU1hdGgucG93KDIsIC0xMCAqIHQpICsgMSxcbiAgICBlYXNlSW5PdXRFeHBvOiAodCk9PmF0RWRnZSh0KSA/IHQgOiB0IDwgMC41ID8gMC41ICogTWF0aC5wb3coMiwgMTAgKiAodCAqIDIgLSAxKSkgOiAwLjUgKiAoLU1hdGgucG93KDIsIC0xMCAqICh0ICogMiAtIDEpKSArIDIpLFxuICAgIGVhc2VJbkNpcmM6ICh0KT0+dCA+PSAxID8gdCA6IC0oTWF0aC5zcXJ0KDEgLSB0ICogdCkgLSAxKSxcbiAgICBlYXNlT3V0Q2lyYzogKHQpPT5NYXRoLnNxcnQoMSAtICh0IC09IDEpICogdCksXG4gICAgZWFzZUluT3V0Q2lyYzogKHQpPT4odCAvPSAwLjUpIDwgMSA/IC0wLjUgKiAoTWF0aC5zcXJ0KDEgLSB0ICogdCkgLSAxKSA6IDAuNSAqIChNYXRoLnNxcnQoMSAtICh0IC09IDIpICogdCkgKyAxKSxcbiAgICBlYXNlSW5FbGFzdGljOiAodCk9PmF0RWRnZSh0KSA/IHQgOiBlbGFzdGljSW4odCwgMC4wNzUsIDAuMyksXG4gICAgZWFzZU91dEVsYXN0aWM6ICh0KT0+YXRFZGdlKHQpID8gdCA6IGVsYXN0aWNPdXQodCwgMC4wNzUsIDAuMyksXG4gICAgZWFzZUluT3V0RWxhc3RpYyAodCkge1xuICAgICAgICBjb25zdCBzID0gMC4xMTI1O1xuICAgICAgICBjb25zdCBwID0gMC40NTtcbiAgICAgICAgcmV0dXJuIGF0RWRnZSh0KSA/IHQgOiB0IDwgMC41ID8gMC41ICogZWxhc3RpY0luKHQgKiAyLCBzLCBwKSA6IDAuNSArIDAuNSAqIGVsYXN0aWNPdXQodCAqIDIgLSAxLCBzLCBwKTtcbiAgICB9LFxuICAgIGVhc2VJbkJhY2sgKHQpIHtcbiAgICAgICAgY29uc3QgcyA9IDEuNzAxNTg7XG4gICAgICAgIHJldHVybiB0ICogdCAqICgocyArIDEpICogdCAtIHMpO1xuICAgIH0sXG4gICAgZWFzZU91dEJhY2sgKHQpIHtcbiAgICAgICAgY29uc3QgcyA9IDEuNzAxNTg7XG4gICAgICAgIHJldHVybiAodCAtPSAxKSAqIHQgKiAoKHMgKyAxKSAqIHQgKyBzKSArIDE7XG4gICAgfSxcbiAgICBlYXNlSW5PdXRCYWNrICh0KSB7XG4gICAgICAgIGxldCBzID0gMS43MDE1ODtcbiAgICAgICAgaWYgKCh0IC89IDAuNSkgPCAxKSB7XG4gICAgICAgICAgICByZXR1cm4gMC41ICogKHQgKiB0ICogKCgocyAqPSAxLjUyNSkgKyAxKSAqIHQgLSBzKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIDAuNSAqICgodCAtPSAyKSAqIHQgKiAoKChzICo9IDEuNTI1KSArIDEpICogdCArIHMpICsgMik7XG4gICAgfSxcbiAgICBlYXNlSW5Cb3VuY2U6ICh0KT0+MSAtIGVmZmVjdHMuZWFzZU91dEJvdW5jZSgxIC0gdCksXG4gICAgZWFzZU91dEJvdW5jZSAodCkge1xuICAgICAgICBjb25zdCBtID0gNy41NjI1O1xuICAgICAgICBjb25zdCBkID0gMi43NTtcbiAgICAgICAgaWYgKHQgPCAxIC8gZCkge1xuICAgICAgICAgICAgcmV0dXJuIG0gKiB0ICogdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodCA8IDIgLyBkKSB7XG4gICAgICAgICAgICByZXR1cm4gbSAqICh0IC09IDEuNSAvIGQpICogdCArIDAuNzU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHQgPCAyLjUgLyBkKSB7XG4gICAgICAgICAgICByZXR1cm4gbSAqICh0IC09IDIuMjUgLyBkKSAqIHQgKyAwLjkzNzU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG0gKiAodCAtPSAyLjYyNSAvIGQpICogdCArIDAuOTg0Mzc1O1xuICAgIH0sXG4gICAgZWFzZUluT3V0Qm91bmNlOiAodCk9PnQgPCAwLjUgPyBlZmZlY3RzLmVhc2VJbkJvdW5jZSh0ICogMikgKiAwLjUgOiBlZmZlY3RzLmVhc2VPdXRCb3VuY2UodCAqIDIgLSAxKSAqIDAuNSArIDAuNVxufTtcblxuZnVuY3Rpb24gaXNQYXR0ZXJuT3JHcmFkaWVudCh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGNvbnN0IHR5cGUgPSB2YWx1ZS50b1N0cmluZygpO1xuICAgICAgICByZXR1cm4gdHlwZSA9PT0gJ1tvYmplY3QgQ2FudmFzUGF0dGVybl0nIHx8IHR5cGUgPT09ICdbb2JqZWN0IENhbnZhc0dyYWRpZW50XSc7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGNvbG9yKHZhbHVlKSB7XG4gICAgcmV0dXJuIGlzUGF0dGVybk9yR3JhZGllbnQodmFsdWUpID8gdmFsdWUgOiBuZXcgQ29sb3IodmFsdWUpO1xufVxuZnVuY3Rpb24gZ2V0SG92ZXJDb2xvcih2YWx1ZSkge1xuICAgIHJldHVybiBpc1BhdHRlcm5PckdyYWRpZW50KHZhbHVlKSA/IHZhbHVlIDogbmV3IENvbG9yKHZhbHVlKS5zYXR1cmF0ZSgwLjUpLmRhcmtlbigwLjEpLmhleFN0cmluZygpO1xufVxuXG5jb25zdCBudW1iZXJzID0gW1xuICAgICd4JyxcbiAgICAneScsXG4gICAgJ2JvcmRlcldpZHRoJyxcbiAgICAncmFkaXVzJyxcbiAgICAndGVuc2lvbidcbl07XG5jb25zdCBjb2xvcnMgPSBbXG4gICAgJ2NvbG9yJyxcbiAgICAnYm9yZGVyQ29sb3InLFxuICAgICdiYWNrZ3JvdW5kQ29sb3InXG5dO1xuZnVuY3Rpb24gYXBwbHlBbmltYXRpb25zRGVmYXVsdHMoZGVmYXVsdHMpIHtcbiAgICBkZWZhdWx0cy5zZXQoJ2FuaW1hdGlvbicsIHtcbiAgICAgICAgZGVsYXk6IHVuZGVmaW5lZCxcbiAgICAgICAgZHVyYXRpb246IDEwMDAsXG4gICAgICAgIGVhc2luZzogJ2Vhc2VPdXRRdWFydCcsXG4gICAgICAgIGZuOiB1bmRlZmluZWQsXG4gICAgICAgIGZyb206IHVuZGVmaW5lZCxcbiAgICAgICAgbG9vcDogdW5kZWZpbmVkLFxuICAgICAgICB0bzogdW5kZWZpbmVkLFxuICAgICAgICB0eXBlOiB1bmRlZmluZWRcbiAgICB9KTtcbiAgICBkZWZhdWx0cy5kZXNjcmliZSgnYW5pbWF0aW9uJywge1xuICAgICAgICBfZmFsbGJhY2s6IGZhbHNlLFxuICAgICAgICBfaW5kZXhhYmxlOiBmYWxzZSxcbiAgICAgICAgX3NjcmlwdGFibGU6IChuYW1lKT0+bmFtZSAhPT0gJ29uUHJvZ3Jlc3MnICYmIG5hbWUgIT09ICdvbkNvbXBsZXRlJyAmJiBuYW1lICE9PSAnZm4nXG4gICAgfSk7XG4gICAgZGVmYXVsdHMuc2V0KCdhbmltYXRpb25zJywge1xuICAgICAgICBjb2xvcnM6IHtcbiAgICAgICAgICAgIHR5cGU6ICdjb2xvcicsXG4gICAgICAgICAgICBwcm9wZXJ0aWVzOiBjb2xvcnNcbiAgICAgICAgfSxcbiAgICAgICAgbnVtYmVyczoge1xuICAgICAgICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICAgICAgICBwcm9wZXJ0aWVzOiBudW1iZXJzXG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBkZWZhdWx0cy5kZXNjcmliZSgnYW5pbWF0aW9ucycsIHtcbiAgICAgICAgX2ZhbGxiYWNrOiAnYW5pbWF0aW9uJ1xuICAgIH0pO1xuICAgIGRlZmF1bHRzLnNldCgndHJhbnNpdGlvbnMnLCB7XG4gICAgICAgIGFjdGl2ZToge1xuICAgICAgICAgICAgYW5pbWF0aW9uOiB7XG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDQwMFxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICByZXNpemU6IHtcbiAgICAgICAgICAgIGFuaW1hdGlvbjoge1xuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAwXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHNob3c6IHtcbiAgICAgICAgICAgIGFuaW1hdGlvbnM6IHtcbiAgICAgICAgICAgICAgICBjb2xvcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogJ3RyYW5zcGFyZW50J1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdmlzaWJsZToge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnYm9vbGVhbicsXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAwXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBoaWRlOiB7XG4gICAgICAgICAgICBhbmltYXRpb25zOiB7XG4gICAgICAgICAgICAgICAgY29sb3JzOiB7XG4gICAgICAgICAgICAgICAgICAgIHRvOiAndHJhbnNwYXJlbnQnXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB2aXNpYmxlOiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdib29sZWFuJyxcbiAgICAgICAgICAgICAgICAgICAgZWFzaW5nOiAnbGluZWFyJyxcbiAgICAgICAgICAgICAgICAgICAgZm46ICh2KT0+diB8IDBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gYXBwbHlMYXlvdXRzRGVmYXVsdHMoZGVmYXVsdHMpIHtcbiAgICBkZWZhdWx0cy5zZXQoJ2xheW91dCcsIHtcbiAgICAgICAgYXV0b1BhZGRpbmc6IHRydWUsXG4gICAgICAgIHBhZGRpbmc6IHtcbiAgICAgICAgICAgIHRvcDogMCxcbiAgICAgICAgICAgIHJpZ2h0OiAwLFxuICAgICAgICAgICAgYm90dG9tOiAwLFxuICAgICAgICAgICAgbGVmdDogMFxuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmNvbnN0IGludGxDYWNoZSA9IG5ldyBNYXAoKTtcbmZ1bmN0aW9uIGdldE51bWJlckZvcm1hdChsb2NhbGUsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBjb25zdCBjYWNoZUtleSA9IGxvY2FsZSArIEpTT04uc3RyaW5naWZ5KG9wdGlvbnMpO1xuICAgIGxldCBmb3JtYXR0ZXIgPSBpbnRsQ2FjaGUuZ2V0KGNhY2hlS2V5KTtcbiAgICBpZiAoIWZvcm1hdHRlcikge1xuICAgICAgICBmb3JtYXR0ZXIgPSBuZXcgSW50bC5OdW1iZXJGb3JtYXQobG9jYWxlLCBvcHRpb25zKTtcbiAgICAgICAgaW50bENhY2hlLnNldChjYWNoZUtleSwgZm9ybWF0dGVyKTtcbiAgICB9XG4gICAgcmV0dXJuIGZvcm1hdHRlcjtcbn1cbmZ1bmN0aW9uIGZvcm1hdE51bWJlcihudW0sIGxvY2FsZSwgb3B0aW9ucykge1xuICAgIHJldHVybiBnZXROdW1iZXJGb3JtYXQobG9jYWxlLCBvcHRpb25zKS5mb3JtYXQobnVtKTtcbn1cblxuY29uc3QgZm9ybWF0dGVycyA9IHtcbiB2YWx1ZXMgKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBpc0FycmF5KHZhbHVlKSA/ICB2YWx1ZSA6ICcnICsgdmFsdWU7XG4gICAgfSxcbiBudW1lcmljICh0aWNrVmFsdWUsIGluZGV4LCB0aWNrcykge1xuICAgICAgICBpZiAodGlja1ZhbHVlID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gJzAnO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxvY2FsZSA9IHRoaXMuY2hhcnQub3B0aW9ucy5sb2NhbGU7XG4gICAgICAgIGxldCBub3RhdGlvbjtcbiAgICAgICAgbGV0IGRlbHRhID0gdGlja1ZhbHVlO1xuICAgICAgICBpZiAodGlja3MubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgY29uc3QgbWF4VGljayA9IE1hdGgubWF4KE1hdGguYWJzKHRpY2tzWzBdLnZhbHVlKSwgTWF0aC5hYnModGlja3NbdGlja3MubGVuZ3RoIC0gMV0udmFsdWUpKTtcbiAgICAgICAgICAgIGlmIChtYXhUaWNrIDwgMWUtNCB8fCBtYXhUaWNrID4gMWUrMTUpIHtcbiAgICAgICAgICAgICAgICBub3RhdGlvbiA9ICdzY2llbnRpZmljJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlbHRhID0gY2FsY3VsYXRlRGVsdGEodGlja1ZhbHVlLCB0aWNrcyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbG9nRGVsdGEgPSBsb2cxMChNYXRoLmFicyhkZWx0YSkpO1xuICAgICAgICBjb25zdCBudW1EZWNpbWFsID0gaXNOYU4obG9nRGVsdGEpID8gMSA6IE1hdGgubWF4KE1hdGgubWluKC0xICogTWF0aC5mbG9vcihsb2dEZWx0YSksIDIwKSwgMCk7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgICAgICBub3RhdGlvbixcbiAgICAgICAgICAgIG1pbmltdW1GcmFjdGlvbkRpZ2l0czogbnVtRGVjaW1hbCxcbiAgICAgICAgICAgIG1heGltdW1GcmFjdGlvbkRpZ2l0czogbnVtRGVjaW1hbFxuICAgICAgICB9O1xuICAgICAgICBPYmplY3QuYXNzaWduKG9wdGlvbnMsIHRoaXMub3B0aW9ucy50aWNrcy5mb3JtYXQpO1xuICAgICAgICByZXR1cm4gZm9ybWF0TnVtYmVyKHRpY2tWYWx1ZSwgbG9jYWxlLCBvcHRpb25zKTtcbiAgICB9LFxuIGxvZ2FyaXRobWljICh0aWNrVmFsdWUsIGluZGV4LCB0aWNrcykge1xuICAgICAgICBpZiAodGlja1ZhbHVlID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gJzAnO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlbWFpbiA9IHRpY2tzW2luZGV4XS5zaWduaWZpY2FuZCB8fCB0aWNrVmFsdWUgLyBNYXRoLnBvdygxMCwgTWF0aC5mbG9vcihsb2cxMCh0aWNrVmFsdWUpKSk7XG4gICAgICAgIGlmIChbXG4gICAgICAgICAgICAxLFxuICAgICAgICAgICAgMixcbiAgICAgICAgICAgIDMsXG4gICAgICAgICAgICA1LFxuICAgICAgICAgICAgMTAsXG4gICAgICAgICAgICAxNVxuICAgICAgICBdLmluY2x1ZGVzKHJlbWFpbikgfHwgaW5kZXggPiAwLjggKiB0aWNrcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBmb3JtYXR0ZXJzLm51bWVyaWMuY2FsbCh0aGlzLCB0aWNrVmFsdWUsIGluZGV4LCB0aWNrcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cbn07XG5mdW5jdGlvbiBjYWxjdWxhdGVEZWx0YSh0aWNrVmFsdWUsIHRpY2tzKSB7XG4gICAgbGV0IGRlbHRhID0gdGlja3MubGVuZ3RoID4gMyA/IHRpY2tzWzJdLnZhbHVlIC0gdGlja3NbMV0udmFsdWUgOiB0aWNrc1sxXS52YWx1ZSAtIHRpY2tzWzBdLnZhbHVlO1xuICAgIGlmIChNYXRoLmFicyhkZWx0YSkgPj0gMSAmJiB0aWNrVmFsdWUgIT09IE1hdGguZmxvb3IodGlja1ZhbHVlKSkge1xuICAgICAgICBkZWx0YSA9IHRpY2tWYWx1ZSAtIE1hdGguZmxvb3IodGlja1ZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIGRlbHRhO1xufVxuIHZhciBUaWNrcyA9IHtcbiAgICBmb3JtYXR0ZXJzXG59O1xuXG5mdW5jdGlvbiBhcHBseVNjYWxlRGVmYXVsdHMoZGVmYXVsdHMpIHtcbiAgICBkZWZhdWx0cy5zZXQoJ3NjYWxlJywge1xuICAgICAgICBkaXNwbGF5OiB0cnVlLFxuICAgICAgICBvZmZzZXQ6IGZhbHNlLFxuICAgICAgICByZXZlcnNlOiBmYWxzZSxcbiAgICAgICAgYmVnaW5BdFplcm86IGZhbHNlLFxuIGJvdW5kczogJ3RpY2tzJyxcbiAgICAgICAgY2xpcDogdHJ1ZSxcbiBncmFjZTogMCxcbiAgICAgICAgZ3JpZDoge1xuICAgICAgICAgICAgZGlzcGxheTogdHJ1ZSxcbiAgICAgICAgICAgIGxpbmVXaWR0aDogMSxcbiAgICAgICAgICAgIGRyYXdPbkNoYXJ0QXJlYTogdHJ1ZSxcbiAgICAgICAgICAgIGRyYXdUaWNrczogdHJ1ZSxcbiAgICAgICAgICAgIHRpY2tMZW5ndGg6IDgsXG4gICAgICAgICAgICB0aWNrV2lkdGg6IChfY3R4LCBvcHRpb25zKT0+b3B0aW9ucy5saW5lV2lkdGgsXG4gICAgICAgICAgICB0aWNrQ29sb3I6IChfY3R4LCBvcHRpb25zKT0+b3B0aW9ucy5jb2xvcixcbiAgICAgICAgICAgIG9mZnNldDogZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgYm9yZGVyOiB7XG4gICAgICAgICAgICBkaXNwbGF5OiB0cnVlLFxuICAgICAgICAgICAgZGFzaDogW10sXG4gICAgICAgICAgICBkYXNoT2Zmc2V0OiAwLjAsXG4gICAgICAgICAgICB3aWR0aDogMVxuICAgICAgICB9LFxuICAgICAgICB0aXRsZToge1xuICAgICAgICAgICAgZGlzcGxheTogZmFsc2UsXG4gICAgICAgICAgICB0ZXh0OiAnJyxcbiAgICAgICAgICAgIHBhZGRpbmc6IHtcbiAgICAgICAgICAgICAgICB0b3A6IDQsXG4gICAgICAgICAgICAgICAgYm90dG9tOiA0XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHRpY2tzOiB7XG4gICAgICAgICAgICBtaW5Sb3RhdGlvbjogMCxcbiAgICAgICAgICAgIG1heFJvdGF0aW9uOiA1MCxcbiAgICAgICAgICAgIG1pcnJvcjogZmFsc2UsXG4gICAgICAgICAgICB0ZXh0U3Ryb2tlV2lkdGg6IDAsXG4gICAgICAgICAgICB0ZXh0U3Ryb2tlQ29sb3I6ICcnLFxuICAgICAgICAgICAgcGFkZGluZzogMyxcbiAgICAgICAgICAgIGRpc3BsYXk6IHRydWUsXG4gICAgICAgICAgICBhdXRvU2tpcDogdHJ1ZSxcbiAgICAgICAgICAgIGF1dG9Ta2lwUGFkZGluZzogMyxcbiAgICAgICAgICAgIGxhYmVsT2Zmc2V0OiAwLFxuICAgICAgICAgICAgY2FsbGJhY2s6IFRpY2tzLmZvcm1hdHRlcnMudmFsdWVzLFxuICAgICAgICAgICAgbWlub3I6IHt9LFxuICAgICAgICAgICAgbWFqb3I6IHt9LFxuICAgICAgICAgICAgYWxpZ246ICdjZW50ZXInLFxuICAgICAgICAgICAgY3Jvc3NBbGlnbjogJ25lYXInLFxuICAgICAgICAgICAgc2hvd0xhYmVsQmFja2Ryb3A6IGZhbHNlLFxuICAgICAgICAgICAgYmFja2Ryb3BDb2xvcjogJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC43NSknLFxuICAgICAgICAgICAgYmFja2Ryb3BQYWRkaW5nOiAyXG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBkZWZhdWx0cy5yb3V0ZSgnc2NhbGUudGlja3MnLCAnY29sb3InLCAnJywgJ2NvbG9yJyk7XG4gICAgZGVmYXVsdHMucm91dGUoJ3NjYWxlLmdyaWQnLCAnY29sb3InLCAnJywgJ2JvcmRlckNvbG9yJyk7XG4gICAgZGVmYXVsdHMucm91dGUoJ3NjYWxlLmJvcmRlcicsICdjb2xvcicsICcnLCAnYm9yZGVyQ29sb3InKTtcbiAgICBkZWZhdWx0cy5yb3V0ZSgnc2NhbGUudGl0bGUnLCAnY29sb3InLCAnJywgJ2NvbG9yJyk7XG4gICAgZGVmYXVsdHMuZGVzY3JpYmUoJ3NjYWxlJywge1xuICAgICAgICBfZmFsbGJhY2s6IGZhbHNlLFxuICAgICAgICBfc2NyaXB0YWJsZTogKG5hbWUpPT4hbmFtZS5zdGFydHNXaXRoKCdiZWZvcmUnKSAmJiAhbmFtZS5zdGFydHNXaXRoKCdhZnRlcicpICYmIG5hbWUgIT09ICdjYWxsYmFjaycgJiYgbmFtZSAhPT0gJ3BhcnNlcicsXG4gICAgICAgIF9pbmRleGFibGU6IChuYW1lKT0+bmFtZSAhPT0gJ2JvcmRlckRhc2gnICYmIG5hbWUgIT09ICd0aWNrQm9yZGVyRGFzaCcgJiYgbmFtZSAhPT0gJ2Rhc2gnXG4gICAgfSk7XG4gICAgZGVmYXVsdHMuZGVzY3JpYmUoJ3NjYWxlcycsIHtcbiAgICAgICAgX2ZhbGxiYWNrOiAnc2NhbGUnXG4gICAgfSk7XG4gICAgZGVmYXVsdHMuZGVzY3JpYmUoJ3NjYWxlLnRpY2tzJywge1xuICAgICAgICBfc2NyaXB0YWJsZTogKG5hbWUpPT5uYW1lICE9PSAnYmFja2Ryb3BQYWRkaW5nJyAmJiBuYW1lICE9PSAnY2FsbGJhY2snLFxuICAgICAgICBfaW5kZXhhYmxlOiAobmFtZSk9Pm5hbWUgIT09ICdiYWNrZHJvcFBhZGRpbmcnXG4gICAgfSk7XG59XG5cbmNvbnN0IG92ZXJyaWRlcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5jb25zdCBkZXNjcmlwdG9ycyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gZnVuY3Rpb24gZ2V0U2NvcGUkMShub2RlLCBrZXkpIHtcbiAgICBpZiAoIWtleSkge1xuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG4gICAgY29uc3Qga2V5cyA9IGtleS5zcGxpdCgnLicpO1xuICAgIGZvcihsZXQgaSA9IDAsIG4gPSBrZXlzLmxlbmd0aDsgaSA8IG47ICsraSl7XG4gICAgICAgIGNvbnN0IGsgPSBrZXlzW2ldO1xuICAgICAgICBub2RlID0gbm9kZVtrXSB8fCAobm9kZVtrXSA9IE9iamVjdC5jcmVhdGUobnVsbCkpO1xuICAgIH1cbiAgICByZXR1cm4gbm9kZTtcbn1cbmZ1bmN0aW9uIHNldChyb290LCBzY29wZSwgdmFsdWVzKSB7XG4gICAgaWYgKHR5cGVvZiBzY29wZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIG1lcmdlKGdldFNjb3BlJDEocm9vdCwgc2NvcGUpLCB2YWx1ZXMpO1xuICAgIH1cbiAgICByZXR1cm4gbWVyZ2UoZ2V0U2NvcGUkMShyb290LCAnJyksIHNjb3BlKTtcbn1cbiBjbGFzcyBEZWZhdWx0cyB7XG4gICAgY29uc3RydWN0b3IoX2Rlc2NyaXB0b3JzLCBfYXBwbGllcnMpe1xuICAgICAgICB0aGlzLmFuaW1hdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kQ29sb3IgPSAncmdiYSgwLDAsMCwwLjEpJztcbiAgICAgICAgdGhpcy5ib3JkZXJDb2xvciA9ICdyZ2JhKDAsMCwwLDAuMSknO1xuICAgICAgICB0aGlzLmNvbG9yID0gJyM2NjYnO1xuICAgICAgICB0aGlzLmRhdGFzZXRzID0ge307XG4gICAgICAgIHRoaXMuZGV2aWNlUGl4ZWxSYXRpbyA9IChjb250ZXh0KT0+Y29udGV4dC5jaGFydC5wbGF0Zm9ybS5nZXREZXZpY2VQaXhlbFJhdGlvKCk7XG4gICAgICAgIHRoaXMuZWxlbWVudHMgPSB7fTtcbiAgICAgICAgdGhpcy5ldmVudHMgPSBbXG4gICAgICAgICAgICAnbW91c2Vtb3ZlJyxcbiAgICAgICAgICAgICdtb3VzZW91dCcsXG4gICAgICAgICAgICAnY2xpY2snLFxuICAgICAgICAgICAgJ3RvdWNoc3RhcnQnLFxuICAgICAgICAgICAgJ3RvdWNobW92ZSdcbiAgICAgICAgXTtcbiAgICAgICAgdGhpcy5mb250ID0ge1xuICAgICAgICAgICAgZmFtaWx5OiBcIidIZWx2ZXRpY2EgTmV1ZScsICdIZWx2ZXRpY2EnLCAnQXJpYWwnLCBzYW5zLXNlcmlmXCIsXG4gICAgICAgICAgICBzaXplOiAxMixcbiAgICAgICAgICAgIHN0eWxlOiAnbm9ybWFsJyxcbiAgICAgICAgICAgIGxpbmVIZWlnaHQ6IDEuMixcbiAgICAgICAgICAgIHdlaWdodDogbnVsbFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmhvdmVyID0ge307XG4gICAgICAgIHRoaXMuaG92ZXJCYWNrZ3JvdW5kQ29sb3IgPSAoY3R4LCBvcHRpb25zKT0+Z2V0SG92ZXJDb2xvcihvcHRpb25zLmJhY2tncm91bmRDb2xvcik7XG4gICAgICAgIHRoaXMuaG92ZXJCb3JkZXJDb2xvciA9IChjdHgsIG9wdGlvbnMpPT5nZXRIb3ZlckNvbG9yKG9wdGlvbnMuYm9yZGVyQ29sb3IpO1xuICAgICAgICB0aGlzLmhvdmVyQ29sb3IgPSAoY3R4LCBvcHRpb25zKT0+Z2V0SG92ZXJDb2xvcihvcHRpb25zLmNvbG9yKTtcbiAgICAgICAgdGhpcy5pbmRleEF4aXMgPSAneCc7XG4gICAgICAgIHRoaXMuaW50ZXJhY3Rpb24gPSB7XG4gICAgICAgICAgICBtb2RlOiAnbmVhcmVzdCcsXG4gICAgICAgICAgICBpbnRlcnNlY3Q6IHRydWUsXG4gICAgICAgICAgICBpbmNsdWRlSW52aXNpYmxlOiBmYWxzZVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLm1haW50YWluQXNwZWN0UmF0aW8gPSB0cnVlO1xuICAgICAgICB0aGlzLm9uSG92ZXIgPSBudWxsO1xuICAgICAgICB0aGlzLm9uQ2xpY2sgPSBudWxsO1xuICAgICAgICB0aGlzLnBhcnNpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLnBsdWdpbnMgPSB7fTtcbiAgICAgICAgdGhpcy5yZXNwb25zaXZlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zY2FsZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5zY2FsZXMgPSB7fTtcbiAgICAgICAgdGhpcy5zaG93TGluZSA9IHRydWU7XG4gICAgICAgIHRoaXMuZHJhd0FjdGl2ZUVsZW1lbnRzT25Ub3AgPSB0cnVlO1xuICAgICAgICB0aGlzLmRlc2NyaWJlKF9kZXNjcmlwdG9ycyk7XG4gICAgICAgIHRoaXMuYXBwbHkoX2FwcGxpZXJzKTtcbiAgICB9XG4gc2V0KHNjb3BlLCB2YWx1ZXMpIHtcbiAgICAgICAgcmV0dXJuIHNldCh0aGlzLCBzY29wZSwgdmFsdWVzKTtcbiAgICB9XG4gZ2V0KHNjb3BlKSB7XG4gICAgICAgIHJldHVybiBnZXRTY29wZSQxKHRoaXMsIHNjb3BlKTtcbiAgICB9XG4gZGVzY3JpYmUoc2NvcGUsIHZhbHVlcykge1xuICAgICAgICByZXR1cm4gc2V0KGRlc2NyaXB0b3JzLCBzY29wZSwgdmFsdWVzKTtcbiAgICB9XG4gICAgb3ZlcnJpZGUoc2NvcGUsIHZhbHVlcykge1xuICAgICAgICByZXR1cm4gc2V0KG92ZXJyaWRlcywgc2NvcGUsIHZhbHVlcyk7XG4gICAgfVxuIHJvdXRlKHNjb3BlLCBuYW1lLCB0YXJnZXRTY29wZSwgdGFyZ2V0TmFtZSkge1xuICAgICAgICBjb25zdCBzY29wZU9iamVjdCA9IGdldFNjb3BlJDEodGhpcywgc2NvcGUpO1xuICAgICAgICBjb25zdCB0YXJnZXRTY29wZU9iamVjdCA9IGdldFNjb3BlJDEodGhpcywgdGFyZ2V0U2NvcGUpO1xuICAgICAgICBjb25zdCBwcml2YXRlTmFtZSA9ICdfJyArIG5hbWU7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHNjb3BlT2JqZWN0LCB7XG4gICAgICAgICAgICBbcHJpdmF0ZU5hbWVdOiB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IHNjb3BlT2JqZWN0W25hbWVdLFxuICAgICAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgW25hbWVdOiB7XG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBnZXQgKCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsb2NhbCA9IHRoaXNbcHJpdmF0ZU5hbWVdO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXQgPSB0YXJnZXRTY29wZU9iamVjdFt0YXJnZXROYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzT2JqZWN0KGxvY2FsKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHRhcmdldCwgbG9jYWwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZU9yRGVmYXVsdChsb2NhbCwgdGFyZ2V0KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNldCAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpc1twcml2YXRlTmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhcHBseShhcHBsaWVycykge1xuICAgICAgICBhcHBsaWVycy5mb3JFYWNoKChhcHBseSk9PmFwcGx5KHRoaXMpKTtcbiAgICB9XG59XG52YXIgZGVmYXVsdHMgPSAvKiAjX19QVVJFX18gKi8gbmV3IERlZmF1bHRzKHtcbiAgICBfc2NyaXB0YWJsZTogKG5hbWUpPT4hbmFtZS5zdGFydHNXaXRoKCdvbicpLFxuICAgIF9pbmRleGFibGU6IChuYW1lKT0+bmFtZSAhPT0gJ2V2ZW50cycsXG4gICAgaG92ZXI6IHtcbiAgICAgICAgX2ZhbGxiYWNrOiAnaW50ZXJhY3Rpb24nXG4gICAgfSxcbiAgICBpbnRlcmFjdGlvbjoge1xuICAgICAgICBfc2NyaXB0YWJsZTogZmFsc2UsXG4gICAgICAgIF9pbmRleGFibGU6IGZhbHNlXG4gICAgfVxufSwgW1xuICAgIGFwcGx5QW5pbWF0aW9uc0RlZmF1bHRzLFxuICAgIGFwcGx5TGF5b3V0c0RlZmF1bHRzLFxuICAgIGFwcGx5U2NhbGVEZWZhdWx0c1xuXSk7XG5cbi8qKlxuICogQ29udmVydHMgdGhlIGdpdmVuIGZvbnQgb2JqZWN0IGludG8gYSBDU1MgZm9udCBzdHJpbmcuXG4gKiBAcGFyYW0gZm9udCAtIEEgZm9udCBvYmplY3QuXG4gKiBAcmV0dXJuIFRoZSBDU1MgZm9udCBzdHJpbmcuIFNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9DU1MvZm9udFxuICogQHByaXZhdGVcbiAqLyBmdW5jdGlvbiB0b0ZvbnRTdHJpbmcoZm9udCkge1xuICAgIGlmICghZm9udCB8fCBpc051bGxPclVuZGVmKGZvbnQuc2l6ZSkgfHwgaXNOdWxsT3JVbmRlZihmb250LmZhbWlseSkpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiAoZm9udC5zdHlsZSA/IGZvbnQuc3R5bGUgKyAnICcgOiAnJykgKyAoZm9udC53ZWlnaHQgPyBmb250LndlaWdodCArICcgJyA6ICcnKSArIGZvbnQuc2l6ZSArICdweCAnICsgZm9udC5mYW1pbHk7XG59XG4vKipcbiAqIEBwcml2YXRlXG4gKi8gZnVuY3Rpb24gX21lYXN1cmVUZXh0KGN0eCwgZGF0YSwgZ2MsIGxvbmdlc3QsIHN0cmluZykge1xuICAgIGxldCB0ZXh0V2lkdGggPSBkYXRhW3N0cmluZ107XG4gICAgaWYgKCF0ZXh0V2lkdGgpIHtcbiAgICAgICAgdGV4dFdpZHRoID0gZGF0YVtzdHJpbmddID0gY3R4Lm1lYXN1cmVUZXh0KHN0cmluZykud2lkdGg7XG4gICAgICAgIGdjLnB1c2goc3RyaW5nKTtcbiAgICB9XG4gICAgaWYgKHRleHRXaWR0aCA+IGxvbmdlc3QpIHtcbiAgICAgICAgbG9uZ2VzdCA9IHRleHRXaWR0aDtcbiAgICB9XG4gICAgcmV0dXJuIGxvbmdlc3Q7XG59XG4vKipcbiAqIEBwcml2YXRlXG4gKi8gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbXBsZXhpdHlcbmZ1bmN0aW9uIF9sb25nZXN0VGV4dChjdHgsIGZvbnQsIGFycmF5T2ZUaGluZ3MsIGNhY2hlKSB7XG4gICAgY2FjaGUgPSBjYWNoZSB8fCB7fTtcbiAgICBsZXQgZGF0YSA9IGNhY2hlLmRhdGEgPSBjYWNoZS5kYXRhIHx8IHt9O1xuICAgIGxldCBnYyA9IGNhY2hlLmdhcmJhZ2VDb2xsZWN0ID0gY2FjaGUuZ2FyYmFnZUNvbGxlY3QgfHwgW107XG4gICAgaWYgKGNhY2hlLmZvbnQgIT09IGZvbnQpIHtcbiAgICAgICAgZGF0YSA9IGNhY2hlLmRhdGEgPSB7fTtcbiAgICAgICAgZ2MgPSBjYWNoZS5nYXJiYWdlQ29sbGVjdCA9IFtdO1xuICAgICAgICBjYWNoZS5mb250ID0gZm9udDtcbiAgICB9XG4gICAgY3R4LnNhdmUoKTtcbiAgICBjdHguZm9udCA9IGZvbnQ7XG4gICAgbGV0IGxvbmdlc3QgPSAwO1xuICAgIGNvbnN0IGlsZW4gPSBhcnJheU9mVGhpbmdzLmxlbmd0aDtcbiAgICBsZXQgaSwgaiwgamxlbiwgdGhpbmcsIG5lc3RlZFRoaW5nO1xuICAgIGZvcihpID0gMDsgaSA8IGlsZW47IGkrKyl7XG4gICAgICAgIHRoaW5nID0gYXJyYXlPZlRoaW5nc1tpXTtcbiAgICAgICAgLy8gVW5kZWZpbmVkIHN0cmluZ3MgYW5kIGFycmF5cyBzaG91bGQgbm90IGJlIG1lYXN1cmVkXG4gICAgICAgIGlmICh0aGluZyAhPT0gdW5kZWZpbmVkICYmIHRoaW5nICE9PSBudWxsICYmICFpc0FycmF5KHRoaW5nKSkge1xuICAgICAgICAgICAgbG9uZ2VzdCA9IF9tZWFzdXJlVGV4dChjdHgsIGRhdGEsIGdjLCBsb25nZXN0LCB0aGluZyk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNBcnJheSh0aGluZykpIHtcbiAgICAgICAgICAgIC8vIGlmIGl0IGlzIGFuIGFycmF5IGxldHMgbWVhc3VyZSBlYWNoIGVsZW1lbnRcbiAgICAgICAgICAgIC8vIHRvIGRvIG1heWJlIHNpbXBsaWZ5IHRoaXMgZnVuY3Rpb24gYSBiaXQgc28gd2UgY2FuIGRvIHRoaXMgbW9yZSByZWN1cnNpdmVseT9cbiAgICAgICAgICAgIGZvcihqID0gMCwgamxlbiA9IHRoaW5nLmxlbmd0aDsgaiA8IGpsZW47IGorKyl7XG4gICAgICAgICAgICAgICAgbmVzdGVkVGhpbmcgPSB0aGluZ1tqXTtcbiAgICAgICAgICAgICAgICAvLyBVbmRlZmluZWQgc3RyaW5ncyBhbmQgYXJyYXlzIHNob3VsZCBub3QgYmUgbWVhc3VyZWRcbiAgICAgICAgICAgICAgICBpZiAobmVzdGVkVGhpbmcgIT09IHVuZGVmaW5lZCAmJiBuZXN0ZWRUaGluZyAhPT0gbnVsbCAmJiAhaXNBcnJheShuZXN0ZWRUaGluZykpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9uZ2VzdCA9IF9tZWFzdXJlVGV4dChjdHgsIGRhdGEsIGdjLCBsb25nZXN0LCBuZXN0ZWRUaGluZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgY29uc3QgZ2NMZW4gPSBnYy5sZW5ndGggLyAyO1xuICAgIGlmIChnY0xlbiA+IGFycmF5T2ZUaGluZ3MubGVuZ3RoKSB7XG4gICAgICAgIGZvcihpID0gMDsgaSA8IGdjTGVuOyBpKyspe1xuICAgICAgICAgICAgZGVsZXRlIGRhdGFbZ2NbaV1dO1xuICAgICAgICB9XG4gICAgICAgIGdjLnNwbGljZSgwLCBnY0xlbik7XG4gICAgfVxuICAgIHJldHVybiBsb25nZXN0O1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBhbGlnbmVkIHBpeGVsIHZhbHVlIHRvIGF2b2lkIGFudGktYWxpYXNpbmcgYmx1clxuICogQHBhcmFtIGNoYXJ0IC0gVGhlIGNoYXJ0IGluc3RhbmNlLlxuICogQHBhcmFtIHBpeGVsIC0gQSBwaXhlbCB2YWx1ZS5cbiAqIEBwYXJhbSB3aWR0aCAtIFRoZSB3aWR0aCBvZiB0aGUgZWxlbWVudC5cbiAqIEByZXR1cm5zIFRoZSBhbGlnbmVkIHBpeGVsIHZhbHVlLlxuICogQHByaXZhdGVcbiAqLyBmdW5jdGlvbiBfYWxpZ25QaXhlbChjaGFydCwgcGl4ZWwsIHdpZHRoKSB7XG4gICAgY29uc3QgZGV2aWNlUGl4ZWxSYXRpbyA9IGNoYXJ0LmN1cnJlbnREZXZpY2VQaXhlbFJhdGlvO1xuICAgIGNvbnN0IGhhbGZXaWR0aCA9IHdpZHRoICE9PSAwID8gTWF0aC5tYXgod2lkdGggLyAyLCAwLjUpIDogMDtcbiAgICByZXR1cm4gTWF0aC5yb3VuZCgocGl4ZWwgLSBoYWxmV2lkdGgpICogZGV2aWNlUGl4ZWxSYXRpbykgLyBkZXZpY2VQaXhlbFJhdGlvICsgaGFsZldpZHRoO1xufVxuLyoqXG4gKiBDbGVhcnMgdGhlIGVudGlyZSBjYW52YXMuXG4gKi8gZnVuY3Rpb24gY2xlYXJDYW52YXMoY2FudmFzLCBjdHgpIHtcbiAgICBpZiAoIWN0eCAmJiAhY2FudmFzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY3R4ID0gY3R4IHx8IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgIGN0eC5zYXZlKCk7XG4gICAgLy8gY2FudmFzLndpZHRoIGFuZCBjYW52YXMuaGVpZ2h0IGRvIG5vdCBjb25zaWRlciB0aGUgY2FudmFzIHRyYW5zZm9ybSxcbiAgICAvLyB3aGlsZSBjbGVhclJlY3QgZG9lc1xuICAgIGN0eC5yZXNldFRyYW5zZm9ybSgpO1xuICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICBjdHgucmVzdG9yZSgpO1xufVxuZnVuY3Rpb24gZHJhd1BvaW50KGN0eCwgb3B0aW9ucywgeCwgeSkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICBkcmF3UG9pbnRMZWdlbmQoY3R4LCBvcHRpb25zLCB4LCB5LCBudWxsKTtcbn1cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb21wbGV4aXR5XG5mdW5jdGlvbiBkcmF3UG9pbnRMZWdlbmQoY3R4LCBvcHRpb25zLCB4LCB5LCB3KSB7XG4gICAgbGV0IHR5cGUsIHhPZmZzZXQsIHlPZmZzZXQsIHNpemUsIGNvcm5lclJhZGl1cywgd2lkdGgsIHhPZmZzZXRXLCB5T2Zmc2V0VztcbiAgICBjb25zdCBzdHlsZSA9IG9wdGlvbnMucG9pbnRTdHlsZTtcbiAgICBjb25zdCByb3RhdGlvbiA9IG9wdGlvbnMucm90YXRpb247XG4gICAgY29uc3QgcmFkaXVzID0gb3B0aW9ucy5yYWRpdXM7XG4gICAgbGV0IHJhZCA9IChyb3RhdGlvbiB8fCAwKSAqIFJBRF9QRVJfREVHO1xuICAgIGlmIChzdHlsZSAmJiB0eXBlb2Ygc3R5bGUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIHR5cGUgPSBzdHlsZS50b1N0cmluZygpO1xuICAgICAgICBpZiAodHlwZSA9PT0gJ1tvYmplY3QgSFRNTEltYWdlRWxlbWVudF0nIHx8IHR5cGUgPT09ICdbb2JqZWN0IEhUTUxDYW52YXNFbGVtZW50XScpIHtcbiAgICAgICAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAgICAgICBjdHgudHJhbnNsYXRlKHgsIHkpO1xuICAgICAgICAgICAgY3R4LnJvdGF0ZShyYWQpO1xuICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShzdHlsZSwgLXN0eWxlLndpZHRoIC8gMiwgLXN0eWxlLmhlaWdodCAvIDIsIHN0eWxlLndpZHRoLCBzdHlsZS5oZWlnaHQpO1xuICAgICAgICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXNOYU4ocmFkaXVzKSB8fCByYWRpdXMgPD0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBzd2l0Y2goc3R5bGUpe1xuICAgICAgICAvLyBEZWZhdWx0IGluY2x1ZGVzIGNpcmNsZVxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgaWYgKHcpIHtcbiAgICAgICAgICAgICAgICBjdHguZWxsaXBzZSh4LCB5LCB3IC8gMiwgcmFkaXVzLCAwLCAwLCBUQVUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjdHguYXJjKHgsIHksIHJhZGl1cywgMCwgVEFVKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICd0cmlhbmdsZSc6XG4gICAgICAgICAgICB3aWR0aCA9IHcgPyB3IC8gMiA6IHJhZGl1cztcbiAgICAgICAgICAgIGN0eC5tb3ZlVG8oeCArIE1hdGguc2luKHJhZCkgKiB3aWR0aCwgeSAtIE1hdGguY29zKHJhZCkgKiByYWRpdXMpO1xuICAgICAgICAgICAgcmFkICs9IFRXT19USElSRFNfUEk7XG4gICAgICAgICAgICBjdHgubGluZVRvKHggKyBNYXRoLnNpbihyYWQpICogd2lkdGgsIHkgLSBNYXRoLmNvcyhyYWQpICogcmFkaXVzKTtcbiAgICAgICAgICAgIHJhZCArPSBUV09fVEhJUkRTX1BJO1xuICAgICAgICAgICAgY3R4LmxpbmVUbyh4ICsgTWF0aC5zaW4ocmFkKSAqIHdpZHRoLCB5IC0gTWF0aC5jb3MocmFkKSAqIHJhZGl1cyk7XG4gICAgICAgICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAncmVjdFJvdW5kZWQnOlxuICAgICAgICAgICAgLy8gTk9URTogdGhlIHJvdW5kZWQgcmVjdCBpbXBsZW1lbnRhdGlvbiBjaGFuZ2VkIHRvIHVzZSBgYXJjYCBpbnN0ZWFkIG9mXG4gICAgICAgICAgICAvLyBgcXVhZHJhdGljQ3VydmVUb2Agc2luY2UgaXQgZ2VuZXJhdGVzIGJldHRlciByZXN1bHRzIHdoZW4gcmVjdCBpc1xuICAgICAgICAgICAgLy8gYWxtb3N0IGEgY2lyY2xlLiAwLjUxNiAoaW5zdGVhZCBvZiAwLjUpIHByb2R1Y2VzIHJlc3VsdHMgd2l0aCB2aXN1YWxseVxuICAgICAgICAgICAgLy8gY2xvc2VyIHByb3BvcnRpb24gdG8gdGhlIHByZXZpb3VzIGltcGwgYW5kIGl0IGlzIGluc2NyaWJlZCBpbiB0aGVcbiAgICAgICAgICAgIC8vIGNpcmNsZSB3aXRoIGByYWRpdXNgLiBGb3IgbW9yZSBkZXRhaWxzLCBzZWUgdGhlIGZvbGxvd2luZyBQUnM6XG4gICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vY2hhcnRqcy9DaGFydC5qcy9pc3N1ZXMvNTU5N1xuICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2NoYXJ0anMvQ2hhcnQuanMvaXNzdWVzLzU4NThcbiAgICAgICAgICAgIGNvcm5lclJhZGl1cyA9IHJhZGl1cyAqIDAuNTE2O1xuICAgICAgICAgICAgc2l6ZSA9IHJhZGl1cyAtIGNvcm5lclJhZGl1cztcbiAgICAgICAgICAgIHhPZmZzZXQgPSBNYXRoLmNvcyhyYWQgKyBRVUFSVEVSX1BJKSAqIHNpemU7XG4gICAgICAgICAgICB4T2Zmc2V0VyA9IE1hdGguY29zKHJhZCArIFFVQVJURVJfUEkpICogKHcgPyB3IC8gMiAtIGNvcm5lclJhZGl1cyA6IHNpemUpO1xuICAgICAgICAgICAgeU9mZnNldCA9IE1hdGguc2luKHJhZCArIFFVQVJURVJfUEkpICogc2l6ZTtcbiAgICAgICAgICAgIHlPZmZzZXRXID0gTWF0aC5zaW4ocmFkICsgUVVBUlRFUl9QSSkgKiAodyA/IHcgLyAyIC0gY29ybmVyUmFkaXVzIDogc2l6ZSk7XG4gICAgICAgICAgICBjdHguYXJjKHggLSB4T2Zmc2V0VywgeSAtIHlPZmZzZXQsIGNvcm5lclJhZGl1cywgcmFkIC0gUEksIHJhZCAtIEhBTEZfUEkpO1xuICAgICAgICAgICAgY3R4LmFyYyh4ICsgeU9mZnNldFcsIHkgLSB4T2Zmc2V0LCBjb3JuZXJSYWRpdXMsIHJhZCAtIEhBTEZfUEksIHJhZCk7XG4gICAgICAgICAgICBjdHguYXJjKHggKyB4T2Zmc2V0VywgeSArIHlPZmZzZXQsIGNvcm5lclJhZGl1cywgcmFkLCByYWQgKyBIQUxGX1BJKTtcbiAgICAgICAgICAgIGN0eC5hcmMoeCAtIHlPZmZzZXRXLCB5ICsgeE9mZnNldCwgY29ybmVyUmFkaXVzLCByYWQgKyBIQUxGX1BJLCByYWQgKyBQSSk7XG4gICAgICAgICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAncmVjdCc6XG4gICAgICAgICAgICBpZiAoIXJvdGF0aW9uKSB7XG4gICAgICAgICAgICAgICAgc2l6ZSA9IE1hdGguU1FSVDFfMiAqIHJhZGl1cztcbiAgICAgICAgICAgICAgICB3aWR0aCA9IHcgPyB3IC8gMiA6IHNpemU7XG4gICAgICAgICAgICAgICAgY3R4LnJlY3QoeCAtIHdpZHRoLCB5IC0gc2l6ZSwgMiAqIHdpZHRoLCAyICogc2l6ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByYWQgKz0gUVVBUlRFUl9QSTtcbiAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqLyBjYXNlICdyZWN0Um90JzpcbiAgICAgICAgICAgIHhPZmZzZXRXID0gTWF0aC5jb3MocmFkKSAqICh3ID8gdyAvIDIgOiByYWRpdXMpO1xuICAgICAgICAgICAgeE9mZnNldCA9IE1hdGguY29zKHJhZCkgKiByYWRpdXM7XG4gICAgICAgICAgICB5T2Zmc2V0ID0gTWF0aC5zaW4ocmFkKSAqIHJhZGl1cztcbiAgICAgICAgICAgIHlPZmZzZXRXID0gTWF0aC5zaW4ocmFkKSAqICh3ID8gdyAvIDIgOiByYWRpdXMpO1xuICAgICAgICAgICAgY3R4Lm1vdmVUbyh4IC0geE9mZnNldFcsIHkgLSB5T2Zmc2V0KTtcbiAgICAgICAgICAgIGN0eC5saW5lVG8oeCArIHlPZmZzZXRXLCB5IC0geE9mZnNldCk7XG4gICAgICAgICAgICBjdHgubGluZVRvKHggKyB4T2Zmc2V0VywgeSArIHlPZmZzZXQpO1xuICAgICAgICAgICAgY3R4LmxpbmVUbyh4IC0geU9mZnNldFcsIHkgKyB4T2Zmc2V0KTtcbiAgICAgICAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdjcm9zc1JvdCc6XG4gICAgICAgICAgICByYWQgKz0gUVVBUlRFUl9QSTtcbiAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqLyBjYXNlICdjcm9zcyc6XG4gICAgICAgICAgICB4T2Zmc2V0VyA9IE1hdGguY29zKHJhZCkgKiAodyA/IHcgLyAyIDogcmFkaXVzKTtcbiAgICAgICAgICAgIHhPZmZzZXQgPSBNYXRoLmNvcyhyYWQpICogcmFkaXVzO1xuICAgICAgICAgICAgeU9mZnNldCA9IE1hdGguc2luKHJhZCkgKiByYWRpdXM7XG4gICAgICAgICAgICB5T2Zmc2V0VyA9IE1hdGguc2luKHJhZCkgKiAodyA/IHcgLyAyIDogcmFkaXVzKTtcbiAgICAgICAgICAgIGN0eC5tb3ZlVG8oeCAtIHhPZmZzZXRXLCB5IC0geU9mZnNldCk7XG4gICAgICAgICAgICBjdHgubGluZVRvKHggKyB4T2Zmc2V0VywgeSArIHlPZmZzZXQpO1xuICAgICAgICAgICAgY3R4Lm1vdmVUbyh4ICsgeU9mZnNldFcsIHkgLSB4T2Zmc2V0KTtcbiAgICAgICAgICAgIGN0eC5saW5lVG8oeCAtIHlPZmZzZXRXLCB5ICsgeE9mZnNldCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnc3Rhcic6XG4gICAgICAgICAgICB4T2Zmc2V0VyA9IE1hdGguY29zKHJhZCkgKiAodyA/IHcgLyAyIDogcmFkaXVzKTtcbiAgICAgICAgICAgIHhPZmZzZXQgPSBNYXRoLmNvcyhyYWQpICogcmFkaXVzO1xuICAgICAgICAgICAgeU9mZnNldCA9IE1hdGguc2luKHJhZCkgKiByYWRpdXM7XG4gICAgICAgICAgICB5T2Zmc2V0VyA9IE1hdGguc2luKHJhZCkgKiAodyA/IHcgLyAyIDogcmFkaXVzKTtcbiAgICAgICAgICAgIGN0eC5tb3ZlVG8oeCAtIHhPZmZzZXRXLCB5IC0geU9mZnNldCk7XG4gICAgICAgICAgICBjdHgubGluZVRvKHggKyB4T2Zmc2V0VywgeSArIHlPZmZzZXQpO1xuICAgICAgICAgICAgY3R4Lm1vdmVUbyh4ICsgeU9mZnNldFcsIHkgLSB4T2Zmc2V0KTtcbiAgICAgICAgICAgIGN0eC5saW5lVG8oeCAtIHlPZmZzZXRXLCB5ICsgeE9mZnNldCk7XG4gICAgICAgICAgICByYWQgKz0gUVVBUlRFUl9QSTtcbiAgICAgICAgICAgIHhPZmZzZXRXID0gTWF0aC5jb3MocmFkKSAqICh3ID8gdyAvIDIgOiByYWRpdXMpO1xuICAgICAgICAgICAgeE9mZnNldCA9IE1hdGguY29zKHJhZCkgKiByYWRpdXM7XG4gICAgICAgICAgICB5T2Zmc2V0ID0gTWF0aC5zaW4ocmFkKSAqIHJhZGl1cztcbiAgICAgICAgICAgIHlPZmZzZXRXID0gTWF0aC5zaW4ocmFkKSAqICh3ID8gdyAvIDIgOiByYWRpdXMpO1xuICAgICAgICAgICAgY3R4Lm1vdmVUbyh4IC0geE9mZnNldFcsIHkgLSB5T2Zmc2V0KTtcbiAgICAgICAgICAgIGN0eC5saW5lVG8oeCArIHhPZmZzZXRXLCB5ICsgeU9mZnNldCk7XG4gICAgICAgICAgICBjdHgubW92ZVRvKHggKyB5T2Zmc2V0VywgeSAtIHhPZmZzZXQpO1xuICAgICAgICAgICAgY3R4LmxpbmVUbyh4IC0geU9mZnNldFcsIHkgKyB4T2Zmc2V0KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdsaW5lJzpcbiAgICAgICAgICAgIHhPZmZzZXQgPSB3ID8gdyAvIDIgOiBNYXRoLmNvcyhyYWQpICogcmFkaXVzO1xuICAgICAgICAgICAgeU9mZnNldCA9IE1hdGguc2luKHJhZCkgKiByYWRpdXM7XG4gICAgICAgICAgICBjdHgubW92ZVRvKHggLSB4T2Zmc2V0LCB5IC0geU9mZnNldCk7XG4gICAgICAgICAgICBjdHgubGluZVRvKHggKyB4T2Zmc2V0LCB5ICsgeU9mZnNldCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZGFzaCc6XG4gICAgICAgICAgICBjdHgubW92ZVRvKHgsIHkpO1xuICAgICAgICAgICAgY3R4LmxpbmVUbyh4ICsgTWF0aC5jb3MocmFkKSAqICh3ID8gdyAvIDIgOiByYWRpdXMpLCB5ICsgTWF0aC5zaW4ocmFkKSAqIHJhZGl1cyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBmYWxzZTpcbiAgICAgICAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBjdHguZmlsbCgpO1xuICAgIGlmIChvcHRpb25zLmJvcmRlcldpZHRoID4gMCkge1xuICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgfVxufVxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIHBvaW50IGlzIGluc2lkZSB0aGUgcmVjdGFuZ2xlXG4gKiBAcGFyYW0gcG9pbnQgLSBUaGUgcG9pbnQgdG8gdGVzdFxuICogQHBhcmFtIGFyZWEgLSBUaGUgcmVjdGFuZ2xlXG4gKiBAcGFyYW0gbWFyZ2luIC0gYWxsb3dlZCBtYXJnaW5cbiAqIEBwcml2YXRlXG4gKi8gZnVuY3Rpb24gX2lzUG9pbnRJbkFyZWEocG9pbnQsIGFyZWEsIG1hcmdpbikge1xuICAgIG1hcmdpbiA9IG1hcmdpbiB8fCAwLjU7IC8vIG1hcmdpbiAtIGRlZmF1bHQgaXMgdG8gbWF0Y2ggcm91bmRlZCBkZWNpbWFsc1xuICAgIHJldHVybiAhYXJlYSB8fCBwb2ludCAmJiBwb2ludC54ID4gYXJlYS5sZWZ0IC0gbWFyZ2luICYmIHBvaW50LnggPCBhcmVhLnJpZ2h0ICsgbWFyZ2luICYmIHBvaW50LnkgPiBhcmVhLnRvcCAtIG1hcmdpbiAmJiBwb2ludC55IDwgYXJlYS5ib3R0b20gKyBtYXJnaW47XG59XG5mdW5jdGlvbiBjbGlwQXJlYShjdHgsIGFyZWEpIHtcbiAgICBjdHguc2F2ZSgpO1xuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHgucmVjdChhcmVhLmxlZnQsIGFyZWEudG9wLCBhcmVhLnJpZ2h0IC0gYXJlYS5sZWZ0LCBhcmVhLmJvdHRvbSAtIGFyZWEudG9wKTtcbiAgICBjdHguY2xpcCgpO1xufVxuZnVuY3Rpb24gdW5jbGlwQXJlYShjdHgpIHtcbiAgICBjdHgucmVzdG9yZSgpO1xufVxuLyoqXG4gKiBAcHJpdmF0ZVxuICovIGZ1bmN0aW9uIF9zdGVwcGVkTGluZVRvKGN0eCwgcHJldmlvdXMsIHRhcmdldCwgZmxpcCwgbW9kZSkge1xuICAgIGlmICghcHJldmlvdXMpIHtcbiAgICAgICAgcmV0dXJuIGN0eC5saW5lVG8odGFyZ2V0LngsIHRhcmdldC55KTtcbiAgICB9XG4gICAgaWYgKG1vZGUgPT09ICdtaWRkbGUnKSB7XG4gICAgICAgIGNvbnN0IG1pZHBvaW50ID0gKHByZXZpb3VzLnggKyB0YXJnZXQueCkgLyAyLjA7XG4gICAgICAgIGN0eC5saW5lVG8obWlkcG9pbnQsIHByZXZpb3VzLnkpO1xuICAgICAgICBjdHgubGluZVRvKG1pZHBvaW50LCB0YXJnZXQueSk7XG4gICAgfSBlbHNlIGlmIChtb2RlID09PSAnYWZ0ZXInICE9PSAhIWZsaXApIHtcbiAgICAgICAgY3R4LmxpbmVUbyhwcmV2aW91cy54LCB0YXJnZXQueSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY3R4LmxpbmVUbyh0YXJnZXQueCwgcHJldmlvdXMueSk7XG4gICAgfVxuICAgIGN0eC5saW5lVG8odGFyZ2V0LngsIHRhcmdldC55KTtcbn1cbi8qKlxuICogQHByaXZhdGVcbiAqLyBmdW5jdGlvbiBfYmV6aWVyQ3VydmVUbyhjdHgsIHByZXZpb3VzLCB0YXJnZXQsIGZsaXApIHtcbiAgICBpZiAoIXByZXZpb3VzKSB7XG4gICAgICAgIHJldHVybiBjdHgubGluZVRvKHRhcmdldC54LCB0YXJnZXQueSk7XG4gICAgfVxuICAgIGN0eC5iZXppZXJDdXJ2ZVRvKGZsaXAgPyBwcmV2aW91cy5jcDF4IDogcHJldmlvdXMuY3AyeCwgZmxpcCA/IHByZXZpb3VzLmNwMXkgOiBwcmV2aW91cy5jcDJ5LCBmbGlwID8gdGFyZ2V0LmNwMnggOiB0YXJnZXQuY3AxeCwgZmxpcCA/IHRhcmdldC5jcDJ5IDogdGFyZ2V0LmNwMXksIHRhcmdldC54LCB0YXJnZXQueSk7XG59XG5mdW5jdGlvbiBzZXRSZW5kZXJPcHRzKGN0eCwgb3B0cykge1xuICAgIGlmIChvcHRzLnRyYW5zbGF0aW9uKSB7XG4gICAgICAgIGN0eC50cmFuc2xhdGUob3B0cy50cmFuc2xhdGlvblswXSwgb3B0cy50cmFuc2xhdGlvblsxXSk7XG4gICAgfVxuICAgIGlmICghaXNOdWxsT3JVbmRlZihvcHRzLnJvdGF0aW9uKSkge1xuICAgICAgICBjdHgucm90YXRlKG9wdHMucm90YXRpb24pO1xuICAgIH1cbiAgICBpZiAob3B0cy5jb2xvcikge1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gb3B0cy5jb2xvcjtcbiAgICB9XG4gICAgaWYgKG9wdHMudGV4dEFsaWduKSB7XG4gICAgICAgIGN0eC50ZXh0QWxpZ24gPSBvcHRzLnRleHRBbGlnbjtcbiAgICB9XG4gICAgaWYgKG9wdHMudGV4dEJhc2VsaW5lKSB7XG4gICAgICAgIGN0eC50ZXh0QmFzZWxpbmUgPSBvcHRzLnRleHRCYXNlbGluZTtcbiAgICB9XG59XG5mdW5jdGlvbiBkZWNvcmF0ZVRleHQoY3R4LCB4LCB5LCBsaW5lLCBvcHRzKSB7XG4gICAgaWYgKG9wdHMuc3RyaWtldGhyb3VnaCB8fCBvcHRzLnVuZGVybGluZSkge1xuICAgICAgICAvKipcbiAgICAgKiBOb3cgdGhhdCBJRTExIHN1cHBvcnQgaGFzIGJlZW4gZHJvcHBlZCwgd2UgY2FuIHVzZSBtb3JlXG4gICAgICogb2YgdGhlIFRleHRNZXRyaWNzIG9iamVjdC4gVGhlIGFjdHVhbCBib3VuZGluZyBib3hlc1xuICAgICAqIGFyZSB1bmZsYWdnZWQgaW4gQ2hyb21lLCBGaXJlZm94LCBFZGdlLCBhbmQgU2FmYXJpIHNvIHRoZXlcbiAgICAgKiBjYW4gYmUgc2FmZWx5IHVzZWQuXG4gICAgICogU2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9UZXh0TWV0cmljcyNCcm93c2VyX2NvbXBhdGliaWxpdHlcbiAgICAgKi8gY29uc3QgbWV0cmljcyA9IGN0eC5tZWFzdXJlVGV4dChsaW5lKTtcbiAgICAgICAgY29uc3QgbGVmdCA9IHggLSBtZXRyaWNzLmFjdHVhbEJvdW5kaW5nQm94TGVmdDtcbiAgICAgICAgY29uc3QgcmlnaHQgPSB4ICsgbWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveFJpZ2h0O1xuICAgICAgICBjb25zdCB0b3AgPSB5IC0gbWV0cmljcy5hY3R1YWxCb3VuZGluZ0JveEFzY2VudDtcbiAgICAgICAgY29uc3QgYm90dG9tID0geSArIG1ldHJpY3MuYWN0dWFsQm91bmRpbmdCb3hEZXNjZW50O1xuICAgICAgICBjb25zdCB5RGVjb3JhdGlvbiA9IG9wdHMuc3RyaWtldGhyb3VnaCA/ICh0b3AgKyBib3R0b20pIC8gMiA6IGJvdHRvbTtcbiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gY3R4LmZpbGxTdHlsZTtcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICBjdHgubGluZVdpZHRoID0gb3B0cy5kZWNvcmF0aW9uV2lkdGggfHwgMjtcbiAgICAgICAgY3R4Lm1vdmVUbyhsZWZ0LCB5RGVjb3JhdGlvbik7XG4gICAgICAgIGN0eC5saW5lVG8ocmlnaHQsIHlEZWNvcmF0aW9uKTtcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGRyYXdCYWNrZHJvcChjdHgsIG9wdHMpIHtcbiAgICBjb25zdCBvbGRDb2xvciA9IGN0eC5maWxsU3R5bGU7XG4gICAgY3R4LmZpbGxTdHlsZSA9IG9wdHMuY29sb3I7XG4gICAgY3R4LmZpbGxSZWN0KG9wdHMubGVmdCwgb3B0cy50b3AsIG9wdHMud2lkdGgsIG9wdHMuaGVpZ2h0KTtcbiAgICBjdHguZmlsbFN0eWxlID0gb2xkQ29sb3I7XG59XG4vKipcbiAqIFJlbmRlciB0ZXh0IG9udG8gdGhlIGNhbnZhc1xuICovIGZ1bmN0aW9uIHJlbmRlclRleHQoY3R4LCB0ZXh0LCB4LCB5LCBmb250LCBvcHRzID0ge30pIHtcbiAgICBjb25zdCBsaW5lcyA9IGlzQXJyYXkodGV4dCkgPyB0ZXh0IDogW1xuICAgICAgICB0ZXh0XG4gICAgXTtcbiAgICBjb25zdCBzdHJva2UgPSBvcHRzLnN0cm9rZVdpZHRoID4gMCAmJiBvcHRzLnN0cm9rZUNvbG9yICE9PSAnJztcbiAgICBsZXQgaSwgbGluZTtcbiAgICBjdHguc2F2ZSgpO1xuICAgIGN0eC5mb250ID0gZm9udC5zdHJpbmc7XG4gICAgc2V0UmVuZGVyT3B0cyhjdHgsIG9wdHMpO1xuICAgIGZvcihpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgKytpKXtcbiAgICAgICAgbGluZSA9IGxpbmVzW2ldO1xuICAgICAgICBpZiAob3B0cy5iYWNrZHJvcCkge1xuICAgICAgICAgICAgZHJhd0JhY2tkcm9wKGN0eCwgb3B0cy5iYWNrZHJvcCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0cm9rZSkge1xuICAgICAgICAgICAgaWYgKG9wdHMuc3Ryb2tlQ29sb3IpIHtcbiAgICAgICAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBvcHRzLnN0cm9rZUNvbG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFpc051bGxPclVuZGVmKG9wdHMuc3Ryb2tlV2lkdGgpKSB7XG4gICAgICAgICAgICAgICAgY3R4LmxpbmVXaWR0aCA9IG9wdHMuc3Ryb2tlV2lkdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdHguc3Ryb2tlVGV4dChsaW5lLCB4LCB5LCBvcHRzLm1heFdpZHRoKTtcbiAgICAgICAgfVxuICAgICAgICBjdHguZmlsbFRleHQobGluZSwgeCwgeSwgb3B0cy5tYXhXaWR0aCk7XG4gICAgICAgIGRlY29yYXRlVGV4dChjdHgsIHgsIHksIGxpbmUsIG9wdHMpO1xuICAgICAgICB5ICs9IE51bWJlcihmb250LmxpbmVIZWlnaHQpO1xuICAgIH1cbiAgICBjdHgucmVzdG9yZSgpO1xufVxuLyoqXG4gKiBBZGQgYSBwYXRoIG9mIGEgcmVjdGFuZ2xlIHdpdGggcm91bmRlZCBjb3JuZXJzIHRvIHRoZSBjdXJyZW50IHN1Yi1wYXRoXG4gKiBAcGFyYW0gY3R4IC0gQ29udGV4dFxuICogQHBhcmFtIHJlY3QgLSBCb3VuZGluZyByZWN0XG4gKi8gZnVuY3Rpb24gYWRkUm91bmRlZFJlY3RQYXRoKGN0eCwgcmVjdCkge1xuICAgIGNvbnN0IHsgeCAsIHkgLCB3ICwgaCAsIHJhZGl1cyAgfSA9IHJlY3Q7XG4gICAgLy8gdG9wIGxlZnQgYXJjXG4gICAgY3R4LmFyYyh4ICsgcmFkaXVzLnRvcExlZnQsIHkgKyByYWRpdXMudG9wTGVmdCwgcmFkaXVzLnRvcExlZnQsIDEuNSAqIFBJLCBQSSwgdHJ1ZSk7XG4gICAgLy8gbGluZSBmcm9tIHRvcCBsZWZ0IHRvIGJvdHRvbSBsZWZ0XG4gICAgY3R4LmxpbmVUbyh4LCB5ICsgaCAtIHJhZGl1cy5ib3R0b21MZWZ0KTtcbiAgICAvLyBib3R0b20gbGVmdCBhcmNcbiAgICBjdHguYXJjKHggKyByYWRpdXMuYm90dG9tTGVmdCwgeSArIGggLSByYWRpdXMuYm90dG9tTGVmdCwgcmFkaXVzLmJvdHRvbUxlZnQsIFBJLCBIQUxGX1BJLCB0cnVlKTtcbiAgICAvLyBsaW5lIGZyb20gYm90dG9tIGxlZnQgdG8gYm90dG9tIHJpZ2h0XG4gICAgY3R4LmxpbmVUbyh4ICsgdyAtIHJhZGl1cy5ib3R0b21SaWdodCwgeSArIGgpO1xuICAgIC8vIGJvdHRvbSByaWdodCBhcmNcbiAgICBjdHguYXJjKHggKyB3IC0gcmFkaXVzLmJvdHRvbVJpZ2h0LCB5ICsgaCAtIHJhZGl1cy5ib3R0b21SaWdodCwgcmFkaXVzLmJvdHRvbVJpZ2h0LCBIQUxGX1BJLCAwLCB0cnVlKTtcbiAgICAvLyBsaW5lIGZyb20gYm90dG9tIHJpZ2h0IHRvIHRvcCByaWdodFxuICAgIGN0eC5saW5lVG8oeCArIHcsIHkgKyByYWRpdXMudG9wUmlnaHQpO1xuICAgIC8vIHRvcCByaWdodCBhcmNcbiAgICBjdHguYXJjKHggKyB3IC0gcmFkaXVzLnRvcFJpZ2h0LCB5ICsgcmFkaXVzLnRvcFJpZ2h0LCByYWRpdXMudG9wUmlnaHQsIDAsIC1IQUxGX1BJLCB0cnVlKTtcbiAgICAvLyBsaW5lIGZyb20gdG9wIHJpZ2h0IHRvIHRvcCBsZWZ0XG4gICAgY3R4LmxpbmVUbyh4ICsgcmFkaXVzLnRvcExlZnQsIHkpO1xufVxuXG5jb25zdCBMSU5FX0hFSUdIVCA9IC9eKG5vcm1hbHwoXFxkKyg/OlxcLlxcZCspPykocHh8ZW18JSk/KSQvO1xuY29uc3QgRk9OVF9TVFlMRSA9IC9eKG5vcm1hbHxpdGFsaWN8aW5pdGlhbHxpbmhlcml0fHVuc2V0fChvYmxpcXVlKCAtP1swLTldP1swLTldZGVnKT8pKSQvO1xuLyoqXG4gKiBAYWxpYXMgQ2hhcnQuaGVscGVycy5vcHRpb25zXG4gKiBAbmFtZXNwYWNlXG4gKi8gLyoqXG4gKiBDb252ZXJ0cyB0aGUgZ2l2ZW4gbGluZSBoZWlnaHQgYHZhbHVlYCBpbiBwaXhlbHMgZm9yIGEgc3BlY2lmaWMgZm9udCBgc2l6ZWAuXG4gKiBAcGFyYW0gdmFsdWUgLSBUaGUgbGluZUhlaWdodCB0byBwYXJzZSAoZWcuIDEuNiwgJzE0cHgnLCAnNzUlJywgJzEuNmVtJykuXG4gKiBAcGFyYW0gc2l6ZSAtIFRoZSBmb250IHNpemUgKGluIHBpeGVscykgdXNlZCB0byByZXNvbHZlIHJlbGF0aXZlIGB2YWx1ZWAuXG4gKiBAcmV0dXJucyBUaGUgZWZmZWN0aXZlIGxpbmUgaGVpZ2h0IGluIHBpeGVscyAoc2l6ZSAqIDEuMiBpZiB2YWx1ZSBpcyBpbnZhbGlkKS5cbiAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL2xpbmUtaGVpZ2h0XG4gKiBAc2luY2UgMi43LjBcbiAqLyBmdW5jdGlvbiB0b0xpbmVIZWlnaHQodmFsdWUsIHNpemUpIHtcbiAgICBjb25zdCBtYXRjaGVzID0gKCcnICsgdmFsdWUpLm1hdGNoKExJTkVfSEVJR0hUKTtcbiAgICBpZiAoIW1hdGNoZXMgfHwgbWF0Y2hlc1sxXSA9PT0gJ25vcm1hbCcpIHtcbiAgICAgICAgcmV0dXJuIHNpemUgKiAxLjI7XG4gICAgfVxuICAgIHZhbHVlID0gK21hdGNoZXNbMl07XG4gICAgc3dpdGNoKG1hdGNoZXNbM10pe1xuICAgICAgICBjYXNlICdweCc6XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIGNhc2UgJyUnOlxuICAgICAgICAgICAgdmFsdWUgLz0gMTAwO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiBzaXplICogdmFsdWU7XG59XG5jb25zdCBudW1iZXJPclplcm8gPSAodik9Pit2IHx8IDA7XG5mdW5jdGlvbiBfcmVhZFZhbHVlVG9Qcm9wcyh2YWx1ZSwgcHJvcHMpIHtcbiAgICBjb25zdCByZXQgPSB7fTtcbiAgICBjb25zdCBvYmpQcm9wcyA9IGlzT2JqZWN0KHByb3BzKTtcbiAgICBjb25zdCBrZXlzID0gb2JqUHJvcHMgPyBPYmplY3Qua2V5cyhwcm9wcykgOiBwcm9wcztcbiAgICBjb25zdCByZWFkID0gaXNPYmplY3QodmFsdWUpID8gb2JqUHJvcHMgPyAocHJvcCk9PnZhbHVlT3JEZWZhdWx0KHZhbHVlW3Byb3BdLCB2YWx1ZVtwcm9wc1twcm9wXV0pIDogKHByb3ApPT52YWx1ZVtwcm9wXSA6ICgpPT52YWx1ZTtcbiAgICBmb3IgKGNvbnN0IHByb3Agb2Yga2V5cyl7XG4gICAgICAgIHJldFtwcm9wXSA9IG51bWJlck9yWmVybyhyZWFkKHByb3ApKTtcbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbn1cbi8qKlxuICogQ29udmVydHMgdGhlIGdpdmVuIHZhbHVlIGludG8gYSBUUkJMIG9iamVjdC5cbiAqIEBwYXJhbSB2YWx1ZSAtIElmIGEgbnVtYmVyLCBzZXQgdGhlIHZhbHVlIHRvIGFsbCBUUkJMIGNvbXBvbmVudCxcbiAqICBlbHNlLCBpZiBhbiBvYmplY3QsIHVzZSBkZWZpbmVkIHByb3BlcnRpZXMgYW5kIHNldHMgdW5kZWZpbmVkIG9uZXMgdG8gMC5cbiAqICB4IC8geSBhcmUgc2hvcnRoYW5kcyBmb3Igc2FtZSB2YWx1ZSBmb3IgbGVmdC9yaWdodCBhbmQgdG9wL2JvdHRvbS5cbiAqIEByZXR1cm5zIFRoZSBwYWRkaW5nIHZhbHVlcyAodG9wLCByaWdodCwgYm90dG9tLCBsZWZ0KVxuICogQHNpbmNlIDMuMC4wXG4gKi8gZnVuY3Rpb24gdG9UUkJMKHZhbHVlKSB7XG4gICAgcmV0dXJuIF9yZWFkVmFsdWVUb1Byb3BzKHZhbHVlLCB7XG4gICAgICAgIHRvcDogJ3knLFxuICAgICAgICByaWdodDogJ3gnLFxuICAgICAgICBib3R0b206ICd5JyxcbiAgICAgICAgbGVmdDogJ3gnXG4gICAgfSk7XG59XG4vKipcbiAqIENvbnZlcnRzIHRoZSBnaXZlbiB2YWx1ZSBpbnRvIGEgVFJCTCBjb3JuZXJzIG9iamVjdCAoc2ltaWxhciB3aXRoIGNzcyBib3JkZXItcmFkaXVzKS5cbiAqIEBwYXJhbSB2YWx1ZSAtIElmIGEgbnVtYmVyLCBzZXQgdGhlIHZhbHVlIHRvIGFsbCBUUkJMIGNvcm5lciBjb21wb25lbnRzLFxuICogIGVsc2UsIGlmIGFuIG9iamVjdCwgdXNlIGRlZmluZWQgcHJvcGVydGllcyBhbmQgc2V0cyB1bmRlZmluZWQgb25lcyB0byAwLlxuICogQHJldHVybnMgVGhlIFRSQkwgY29ybmVyIHZhbHVlcyAodG9wTGVmdCwgdG9wUmlnaHQsIGJvdHRvbUxlZnQsIGJvdHRvbVJpZ2h0KVxuICogQHNpbmNlIDMuMC4wXG4gKi8gZnVuY3Rpb24gdG9UUkJMQ29ybmVycyh2YWx1ZSkge1xuICAgIHJldHVybiBfcmVhZFZhbHVlVG9Qcm9wcyh2YWx1ZSwgW1xuICAgICAgICAndG9wTGVmdCcsXG4gICAgICAgICd0b3BSaWdodCcsXG4gICAgICAgICdib3R0b21MZWZ0JyxcbiAgICAgICAgJ2JvdHRvbVJpZ2h0J1xuICAgIF0pO1xufVxuLyoqXG4gKiBDb252ZXJ0cyB0aGUgZ2l2ZW4gdmFsdWUgaW50byBhIHBhZGRpbmcgb2JqZWN0IHdpdGggcHJlLWNvbXB1dGVkIHdpZHRoL2hlaWdodC5cbiAqIEBwYXJhbSB2YWx1ZSAtIElmIGEgbnVtYmVyLCBzZXQgdGhlIHZhbHVlIHRvIGFsbCBUUkJMIGNvbXBvbmVudCxcbiAqICBlbHNlLCBpZiBhbiBvYmplY3QsIHVzZSBkZWZpbmVkIHByb3BlcnRpZXMgYW5kIHNldHMgdW5kZWZpbmVkIG9uZXMgdG8gMC5cbiAqICB4IC8geSBhcmUgc2hvcnRoYW5kcyBmb3Igc2FtZSB2YWx1ZSBmb3IgbGVmdC9yaWdodCBhbmQgdG9wL2JvdHRvbS5cbiAqIEByZXR1cm5zIFRoZSBwYWRkaW5nIHZhbHVlcyAodG9wLCByaWdodCwgYm90dG9tLCBsZWZ0LCB3aWR0aCwgaGVpZ2h0KVxuICogQHNpbmNlIDIuNy4wXG4gKi8gZnVuY3Rpb24gdG9QYWRkaW5nKHZhbHVlKSB7XG4gICAgY29uc3Qgb2JqID0gdG9UUkJMKHZhbHVlKTtcbiAgICBvYmoud2lkdGggPSBvYmoubGVmdCArIG9iai5yaWdodDtcbiAgICBvYmouaGVpZ2h0ID0gb2JqLnRvcCArIG9iai5ib3R0b207XG4gICAgcmV0dXJuIG9iajtcbn1cbi8qKlxuICogUGFyc2VzIGZvbnQgb3B0aW9ucyBhbmQgcmV0dXJucyB0aGUgZm9udCBvYmplY3QuXG4gKiBAcGFyYW0gb3B0aW9ucyAtIEEgb2JqZWN0IHRoYXQgY29udGFpbnMgZm9udCBvcHRpb25zIHRvIGJlIHBhcnNlZC5cbiAqIEBwYXJhbSBmYWxsYmFjayAtIEEgb2JqZWN0IHRoYXQgY29udGFpbnMgZmFsbGJhY2sgZm9udCBvcHRpb25zLlxuICogQHJldHVybiBUaGUgZm9udCBvYmplY3QuXG4gKiBAcHJpdmF0ZVxuICovIGZ1bmN0aW9uIHRvRm9udChvcHRpb25zLCBmYWxsYmFjaykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIGZhbGxiYWNrID0gZmFsbGJhY2sgfHwgZGVmYXVsdHMuZm9udDtcbiAgICBsZXQgc2l6ZSA9IHZhbHVlT3JEZWZhdWx0KG9wdGlvbnMuc2l6ZSwgZmFsbGJhY2suc2l6ZSk7XG4gICAgaWYgKHR5cGVvZiBzaXplID09PSAnc3RyaW5nJykge1xuICAgICAgICBzaXplID0gcGFyc2VJbnQoc2l6ZSwgMTApO1xuICAgIH1cbiAgICBsZXQgc3R5bGUgPSB2YWx1ZU9yRGVmYXVsdChvcHRpb25zLnN0eWxlLCBmYWxsYmFjay5zdHlsZSk7XG4gICAgaWYgKHN0eWxlICYmICEoJycgKyBzdHlsZSkubWF0Y2goRk9OVF9TVFlMRSkpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdJbnZhbGlkIGZvbnQgc3R5bGUgc3BlY2lmaWVkOiBcIicgKyBzdHlsZSArICdcIicpO1xuICAgICAgICBzdHlsZSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgY29uc3QgZm9udCA9IHtcbiAgICAgICAgZmFtaWx5OiB2YWx1ZU9yRGVmYXVsdChvcHRpb25zLmZhbWlseSwgZmFsbGJhY2suZmFtaWx5KSxcbiAgICAgICAgbGluZUhlaWdodDogdG9MaW5lSGVpZ2h0KHZhbHVlT3JEZWZhdWx0KG9wdGlvbnMubGluZUhlaWdodCwgZmFsbGJhY2subGluZUhlaWdodCksIHNpemUpLFxuICAgICAgICBzaXplLFxuICAgICAgICBzdHlsZSxcbiAgICAgICAgd2VpZ2h0OiB2YWx1ZU9yRGVmYXVsdChvcHRpb25zLndlaWdodCwgZmFsbGJhY2sud2VpZ2h0KSxcbiAgICAgICAgc3RyaW5nOiAnJ1xuICAgIH07XG4gICAgZm9udC5zdHJpbmcgPSB0b0ZvbnRTdHJpbmcoZm9udCk7XG4gICAgcmV0dXJuIGZvbnQ7XG59XG4vKipcbiAqIEV2YWx1YXRlcyB0aGUgZ2l2ZW4gYGlucHV0c2Agc2VxdWVudGlhbGx5IGFuZCByZXR1cm5zIHRoZSBmaXJzdCBkZWZpbmVkIHZhbHVlLlxuICogQHBhcmFtIGlucHV0cyAtIEFuIGFycmF5IG9mIHZhbHVlcywgZmFsbGluZyBiYWNrIHRvIHRoZSBsYXN0IHZhbHVlLlxuICogQHBhcmFtIGNvbnRleHQgLSBJZiBkZWZpbmVkIGFuZCB0aGUgY3VycmVudCB2YWx1ZSBpcyBhIGZ1bmN0aW9uLCB0aGUgdmFsdWVcbiAqIGlzIGNhbGxlZCB3aXRoIGBjb250ZXh0YCBhcyBmaXJzdCBhcmd1bWVudCBhbmQgdGhlIHJlc3VsdCBiZWNvbWVzIHRoZSBuZXcgaW5wdXQuXG4gKiBAcGFyYW0gaW5kZXggLSBJZiBkZWZpbmVkIGFuZCB0aGUgY3VycmVudCB2YWx1ZSBpcyBhbiBhcnJheSwgdGhlIHZhbHVlXG4gKiBhdCBgaW5kZXhgIGJlY29tZSB0aGUgbmV3IGlucHV0LlxuICogQHBhcmFtIGluZm8gLSBvYmplY3QgdG8gcmV0dXJuIGluZm9ybWF0aW9uIGFib3V0IHJlc29sdXRpb24gaW5cbiAqIEBwYXJhbSBpbmZvLmNhY2hlYWJsZSAtIFdpbGwgYmUgc2V0IHRvIGBmYWxzZWAgaWYgb3B0aW9uIGlzIG5vdCBjYWNoZWFibGUuXG4gKiBAc2luY2UgMi43LjBcbiAqLyBmdW5jdGlvbiByZXNvbHZlKGlucHV0cywgY29udGV4dCwgaW5kZXgsIGluZm8pIHtcbiAgICBsZXQgY2FjaGVhYmxlID0gdHJ1ZTtcbiAgICBsZXQgaSwgaWxlbiwgdmFsdWU7XG4gICAgZm9yKGkgPSAwLCBpbGVuID0gaW5wdXRzLmxlbmd0aDsgaSA8IGlsZW47ICsraSl7XG4gICAgICAgIHZhbHVlID0gaW5wdXRzW2ldO1xuICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbnRleHQgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUoY29udGV4dCk7XG4gICAgICAgICAgICBjYWNoZWFibGUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5kZXggIT09IHVuZGVmaW5lZCAmJiBpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZVtpbmRleCAlIHZhbHVlLmxlbmd0aF07XG4gICAgICAgICAgICBjYWNoZWFibGUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKGluZm8gJiYgIWNhY2hlYWJsZSkge1xuICAgICAgICAgICAgICAgIGluZm8uY2FjaGVhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEBwYXJhbSBtaW5tYXhcbiAqIEBwYXJhbSBncmFjZVxuICogQHBhcmFtIGJlZ2luQXRaZXJvXG4gKiBAcHJpdmF0ZVxuICovIGZ1bmN0aW9uIF9hZGRHcmFjZShtaW5tYXgsIGdyYWNlLCBiZWdpbkF0WmVybykge1xuICAgIGNvbnN0IHsgbWluICwgbWF4ICB9ID0gbWlubWF4O1xuICAgIGNvbnN0IGNoYW5nZSA9IHRvRGltZW5zaW9uKGdyYWNlLCAobWF4IC0gbWluKSAvIDIpO1xuICAgIGNvbnN0IGtlZXBaZXJvID0gKHZhbHVlLCBhZGQpPT5iZWdpbkF0WmVybyAmJiB2YWx1ZSA9PT0gMCA/IDAgOiB2YWx1ZSArIGFkZDtcbiAgICByZXR1cm4ge1xuICAgICAgICBtaW46IGtlZXBaZXJvKG1pbiwgLU1hdGguYWJzKGNoYW5nZSkpLFxuICAgICAgICBtYXg6IGtlZXBaZXJvKG1heCwgY2hhbmdlKVxuICAgIH07XG59XG5mdW5jdGlvbiBjcmVhdGVDb250ZXh0KHBhcmVudENvbnRleHQsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuY3JlYXRlKHBhcmVudENvbnRleHQpLCBjb250ZXh0KTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgUHJveHkgZm9yIHJlc29sdmluZyByYXcgdmFsdWVzIGZvciBvcHRpb25zLlxuICogQHBhcmFtIHNjb3BlcyAtIFRoZSBvcHRpb24gc2NvcGVzIHRvIGxvb2sgZm9yIHZhbHVlcywgaW4gcmVzb2x1dGlvbiBvcmRlclxuICogQHBhcmFtIHByZWZpeGVzIC0gVGhlIHByZWZpeGVzIGZvciB2YWx1ZXMsIGluIHJlc29sdXRpb24gb3JkZXIuXG4gKiBAcGFyYW0gcm9vdFNjb3BlcyAtIFRoZSByb290IG9wdGlvbiBzY29wZXNcbiAqIEBwYXJhbSBmYWxsYmFjayAtIFBhcmVudCBzY29wZXMgZmFsbGJhY2tcbiAqIEBwYXJhbSBnZXRUYXJnZXQgLSBjYWxsYmFjayBmb3IgZ2V0dGluZyB0aGUgdGFyZ2V0IGZvciBjaGFuZ2VkIHZhbHVlc1xuICogQHJldHVybnMgUHJveHlcbiAqIEBwcml2YXRlXG4gKi8gZnVuY3Rpb24gX2NyZWF0ZVJlc29sdmVyKHNjb3BlcywgcHJlZml4ZXMgPSBbXG4gICAgJydcbl0sIHJvb3RTY29wZXMsIGZhbGxiYWNrLCBnZXRUYXJnZXQgPSAoKT0+c2NvcGVzWzBdKSB7XG4gICAgY29uc3QgZmluYWxSb290U2NvcGVzID0gcm9vdFNjb3BlcyB8fCBzY29wZXM7XG4gICAgaWYgKHR5cGVvZiBmYWxsYmFjayA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgZmFsbGJhY2sgPSBfcmVzb2x2ZSgnX2ZhbGxiYWNrJywgc2NvcGVzKTtcbiAgICB9XG4gICAgY29uc3QgY2FjaGUgPSB7XG4gICAgICAgIFtTeW1ib2wudG9TdHJpbmdUYWddOiAnT2JqZWN0JyxcbiAgICAgICAgX2NhY2hlYWJsZTogdHJ1ZSxcbiAgICAgICAgX3Njb3Blczogc2NvcGVzLFxuICAgICAgICBfcm9vdFNjb3BlczogZmluYWxSb290U2NvcGVzLFxuICAgICAgICBfZmFsbGJhY2s6IGZhbGxiYWNrLFxuICAgICAgICBfZ2V0VGFyZ2V0OiBnZXRUYXJnZXQsXG4gICAgICAgIG92ZXJyaWRlOiAoc2NvcGUpPT5fY3JlYXRlUmVzb2x2ZXIoW1xuICAgICAgICAgICAgICAgIHNjb3BlLFxuICAgICAgICAgICAgICAgIC4uLnNjb3Blc1xuICAgICAgICAgICAgXSwgcHJlZml4ZXMsIGZpbmFsUm9vdFNjb3BlcywgZmFsbGJhY2spXG4gICAgfTtcbiAgICByZXR1cm4gbmV3IFByb3h5KGNhY2hlLCB7XG4gICAgICAgIC8qKlxuICAgICAqIEEgdHJhcCBmb3IgdGhlIGRlbGV0ZSBvcGVyYXRvci5cbiAgICAgKi8gZGVsZXRlUHJvcGVydHkgKHRhcmdldCwgcHJvcCkge1xuICAgICAgICAgICAgZGVsZXRlIHRhcmdldFtwcm9wXTsgLy8gcmVtb3ZlIGZyb20gY2FjaGVcbiAgICAgICAgICAgIGRlbGV0ZSB0YXJnZXQuX2tleXM7IC8vIHJlbW92ZSBjYWNoZWQga2V5c1xuICAgICAgICAgICAgZGVsZXRlIHNjb3Blc1swXVtwcm9wXTsgLy8gcmVtb3ZlIGZyb20gdG9wIGxldmVsIHNjb3BlXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICogQSB0cmFwIGZvciBnZXR0aW5nIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKi8gZ2V0ICh0YXJnZXQsIHByb3ApIHtcbiAgICAgICAgICAgIHJldHVybiBfY2FjaGVkKHRhcmdldCwgcHJvcCwgKCk9Pl9yZXNvbHZlV2l0aFByZWZpeGVzKHByb3AsIHByZWZpeGVzLCBzY29wZXMsIHRhcmdldCkpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgKiBBIHRyYXAgZm9yIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IuXG4gICAgICogQWxzbyB1c2VkIGJ5IE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5cbiAgICAgKi8gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yICh0YXJnZXQsIHByb3ApIHtcbiAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQuX3Njb3Blc1swXSwgcHJvcCk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAqIEEgdHJhcCBmb3IgT2JqZWN0LmdldFByb3RvdHlwZU9mLlxuICAgICAqLyBnZXRQcm90b3R5cGVPZiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5nZXRQcm90b3R5cGVPZihzY29wZXNbMF0pO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgKiBBIHRyYXAgZm9yIHRoZSBpbiBvcGVyYXRvci5cbiAgICAgKi8gaGFzICh0YXJnZXQsIHByb3ApIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRLZXlzRnJvbUFsbFNjb3Blcyh0YXJnZXQpLmluY2x1ZGVzKHByb3ApO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgKiBBIHRyYXAgZm9yIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzIGFuZCBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLlxuICAgICAqLyBvd25LZXlzICh0YXJnZXQpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRLZXlzRnJvbUFsbFNjb3Blcyh0YXJnZXQpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgKiBBIHRyYXAgZm9yIHNldHRpbmcgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqLyBzZXQgKHRhcmdldCwgcHJvcCwgdmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0b3JhZ2UgPSB0YXJnZXQuX3N0b3JhZ2UgfHwgKHRhcmdldC5fc3RvcmFnZSA9IGdldFRhcmdldCgpKTtcbiAgICAgICAgICAgIHRhcmdldFtwcm9wXSA9IHN0b3JhZ2VbcHJvcF0gPSB2YWx1ZTsgLy8gc2V0IHRvIHRvcCBsZXZlbCBzY29wZSArIGNhY2hlXG4gICAgICAgICAgICBkZWxldGUgdGFyZ2V0Ll9rZXlzOyAvLyByZW1vdmUgY2FjaGVkIGtleXNcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4vKipcbiAqIFJldHVybnMgYW4gUHJveHkgZm9yIHJlc29sdmluZyBvcHRpb24gdmFsdWVzIHdpdGggY29udGV4dC5cbiAqIEBwYXJhbSBwcm94eSAtIFRoZSBQcm94eSByZXR1cm5lZCBieSBgX2NyZWF0ZVJlc29sdmVyYFxuICogQHBhcmFtIGNvbnRleHQgLSBDb250ZXh0IG9iamVjdCBmb3Igc2NyaXB0YWJsZS9pbmRleGFibGUgb3B0aW9uc1xuICogQHBhcmFtIHN1YlByb3h5IC0gVGhlIHByb3h5IHByb3ZpZGVkIGZvciBzY3JpcHRhYmxlIG9wdGlvbnNcbiAqIEBwYXJhbSBkZXNjcmlwdG9yRGVmYXVsdHMgLSBEZWZhdWx0cyBmb3IgZGVzY3JpcHRvcnNcbiAqIEBwcml2YXRlXG4gKi8gZnVuY3Rpb24gX2F0dGFjaENvbnRleHQocHJveHksIGNvbnRleHQsIHN1YlByb3h5LCBkZXNjcmlwdG9yRGVmYXVsdHMpIHtcbiAgICBjb25zdCBjYWNoZSA9IHtcbiAgICAgICAgX2NhY2hlYWJsZTogZmFsc2UsXG4gICAgICAgIF9wcm94eTogcHJveHksXG4gICAgICAgIF9jb250ZXh0OiBjb250ZXh0LFxuICAgICAgICBfc3ViUHJveHk6IHN1YlByb3h5LFxuICAgICAgICBfc3RhY2s6IG5ldyBTZXQoKSxcbiAgICAgICAgX2Rlc2NyaXB0b3JzOiBfZGVzY3JpcHRvcnMocHJveHksIGRlc2NyaXB0b3JEZWZhdWx0cyksXG4gICAgICAgIHNldENvbnRleHQ6IChjdHgpPT5fYXR0YWNoQ29udGV4dChwcm94eSwgY3R4LCBzdWJQcm94eSwgZGVzY3JpcHRvckRlZmF1bHRzKSxcbiAgICAgICAgb3ZlcnJpZGU6IChzY29wZSk9Pl9hdHRhY2hDb250ZXh0KHByb3h5Lm92ZXJyaWRlKHNjb3BlKSwgY29udGV4dCwgc3ViUHJveHksIGRlc2NyaXB0b3JEZWZhdWx0cylcbiAgICB9O1xuICAgIHJldHVybiBuZXcgUHJveHkoY2FjaGUsIHtcbiAgICAgICAgLyoqXG4gICAgICogQSB0cmFwIGZvciB0aGUgZGVsZXRlIG9wZXJhdG9yLlxuICAgICAqLyBkZWxldGVQcm9wZXJ0eSAodGFyZ2V0LCBwcm9wKSB7XG4gICAgICAgICAgICBkZWxldGUgdGFyZ2V0W3Byb3BdOyAvLyByZW1vdmUgZnJvbSBjYWNoZVxuICAgICAgICAgICAgZGVsZXRlIHByb3h5W3Byb3BdOyAvLyByZW1vdmUgZnJvbSBwcm94eVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAqIEEgdHJhcCBmb3IgZ2V0dGluZyBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICovIGdldCAodGFyZ2V0LCBwcm9wLCByZWNlaXZlcikge1xuICAgICAgICAgICAgcmV0dXJuIF9jYWNoZWQodGFyZ2V0LCBwcm9wLCAoKT0+X3Jlc29sdmVXaXRoQ29udGV4dCh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAqIEEgdHJhcCBmb3IgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvci5cbiAgICAgKiBBbHNvIHVzZWQgYnkgT2JqZWN0Lmhhc093blByb3BlcnR5LlxuICAgICAqLyBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgKHRhcmdldCwgcHJvcCkge1xuICAgICAgICAgICAgcmV0dXJuIHRhcmdldC5fZGVzY3JpcHRvcnMuYWxsS2V5cyA/IFJlZmxlY3QuaGFzKHByb3h5LCBwcm9wKSA/IHtcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICAgICAgfSA6IHVuZGVmaW5lZCA6IFJlZmxlY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHByb3h5LCBwcm9wKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICogQSB0cmFwIGZvciBPYmplY3QuZ2V0UHJvdG90eXBlT2YuXG4gICAgICovIGdldFByb3RvdHlwZU9mICgpIHtcbiAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmdldFByb3RvdHlwZU9mKHByb3h5KTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICogQSB0cmFwIGZvciB0aGUgaW4gb3BlcmF0b3IuXG4gICAgICovIGhhcyAodGFyZ2V0LCBwcm9wKSB7XG4gICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5oYXMocHJveHksIHByb3ApO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgKiBBIHRyYXAgZm9yIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzIGFuZCBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLlxuICAgICAqLyBvd25LZXlzICgpIHtcbiAgICAgICAgICAgIHJldHVybiBSZWZsZWN0Lm93bktleXMocHJveHkpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgKiBBIHRyYXAgZm9yIHNldHRpbmcgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqLyBzZXQgKHRhcmdldCwgcHJvcCwgdmFsdWUpIHtcbiAgICAgICAgICAgIHByb3h5W3Byb3BdID0gdmFsdWU7IC8vIHNldCB0byBwcm94eVxuICAgICAgICAgICAgZGVsZXRlIHRhcmdldFtwcm9wXTsgLy8gcmVtb3ZlIGZyb20gY2FjaGVcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4vKipcbiAqIEBwcml2YXRlXG4gKi8gZnVuY3Rpb24gX2Rlc2NyaXB0b3JzKHByb3h5LCBkZWZhdWx0cyA9IHtcbiAgICBzY3JpcHRhYmxlOiB0cnVlLFxuICAgIGluZGV4YWJsZTogdHJ1ZVxufSkge1xuICAgIGNvbnN0IHsgX3NjcmlwdGFibGUgPWRlZmF1bHRzLnNjcmlwdGFibGUgLCBfaW5kZXhhYmxlID1kZWZhdWx0cy5pbmRleGFibGUgLCBfYWxsS2V5cyA9ZGVmYXVsdHMuYWxsS2V5cyAgfSA9IHByb3h5O1xuICAgIHJldHVybiB7XG4gICAgICAgIGFsbEtleXM6IF9hbGxLZXlzLFxuICAgICAgICBzY3JpcHRhYmxlOiBfc2NyaXB0YWJsZSxcbiAgICAgICAgaW5kZXhhYmxlOiBfaW5kZXhhYmxlLFxuICAgICAgICBpc1NjcmlwdGFibGU6IGlzRnVuY3Rpb24oX3NjcmlwdGFibGUpID8gX3NjcmlwdGFibGUgOiAoKT0+X3NjcmlwdGFibGUsXG4gICAgICAgIGlzSW5kZXhhYmxlOiBpc0Z1bmN0aW9uKF9pbmRleGFibGUpID8gX2luZGV4YWJsZSA6ICgpPT5faW5kZXhhYmxlXG4gICAgfTtcbn1cbmNvbnN0IHJlYWRLZXkgPSAocHJlZml4LCBuYW1lKT0+cHJlZml4ID8gcHJlZml4ICsgX2NhcGl0YWxpemUobmFtZSkgOiBuYW1lO1xuY29uc3QgbmVlZHNTdWJSZXNvbHZlciA9IChwcm9wLCB2YWx1ZSk9PmlzT2JqZWN0KHZhbHVlKSAmJiBwcm9wICE9PSAnYWRhcHRlcnMnICYmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YodmFsdWUpID09PSBudWxsIHx8IHZhbHVlLmNvbnN0cnVjdG9yID09PSBPYmplY3QpO1xuZnVuY3Rpb24gX2NhY2hlZCh0YXJnZXQsIHByb3AsIHJlc29sdmUpIHtcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRhcmdldCwgcHJvcCkgfHwgcHJvcCA9PT0gJ2NvbnN0cnVjdG9yJykge1xuICAgICAgICByZXR1cm4gdGFyZ2V0W3Byb3BdO1xuICAgIH1cbiAgICBjb25zdCB2YWx1ZSA9IHJlc29sdmUoKTtcbiAgICAvLyBjYWNoZSB0aGUgcmVzb2x2ZWQgdmFsdWVcbiAgICB0YXJnZXRbcHJvcF0gPSB2YWx1ZTtcbiAgICByZXR1cm4gdmFsdWU7XG59XG5mdW5jdGlvbiBfcmVzb2x2ZVdpdGhDb250ZXh0KHRhcmdldCwgcHJvcCwgcmVjZWl2ZXIpIHtcbiAgICBjb25zdCB7IF9wcm94eSAsIF9jb250ZXh0ICwgX3N1YlByb3h5ICwgX2Rlc2NyaXB0b3JzOiBkZXNjcmlwdG9ycyAgfSA9IHRhcmdldDtcbiAgICBsZXQgdmFsdWUgPSBfcHJveHlbcHJvcF07IC8vIHJlc29sdmUgZnJvbSBwcm94eVxuICAgIC8vIHJlc29sdmUgd2l0aCBjb250ZXh0XG4gICAgaWYgKGlzRnVuY3Rpb24odmFsdWUpICYmIGRlc2NyaXB0b3JzLmlzU2NyaXB0YWJsZShwcm9wKSkge1xuICAgICAgICB2YWx1ZSA9IF9yZXNvbHZlU2NyaXB0YWJsZShwcm9wLCB2YWx1ZSwgdGFyZ2V0LCByZWNlaXZlcik7XG4gICAgfVxuICAgIGlmIChpc0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5sZW5ndGgpIHtcbiAgICAgICAgdmFsdWUgPSBfcmVzb2x2ZUFycmF5KHByb3AsIHZhbHVlLCB0YXJnZXQsIGRlc2NyaXB0b3JzLmlzSW5kZXhhYmxlKTtcbiAgICB9XG4gICAgaWYgKG5lZWRzU3ViUmVzb2x2ZXIocHJvcCwgdmFsdWUpKSB7XG4gICAgICAgIC8vIGlmIHRoZSByZXNvbHZlZCB2YWx1ZSBpcyBhbiBvYmplY3QsIGNyZWF0ZSBhIHN1YiByZXNvbHZlciBmb3IgaXRcbiAgICAgICAgdmFsdWUgPSBfYXR0YWNoQ29udGV4dCh2YWx1ZSwgX2NvbnRleHQsIF9zdWJQcm94eSAmJiBfc3ViUHJveHlbcHJvcF0sIGRlc2NyaXB0b3JzKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuZnVuY3Rpb24gX3Jlc29sdmVTY3JpcHRhYmxlKHByb3AsIGdldFZhbHVlLCB0YXJnZXQsIHJlY2VpdmVyKSB7XG4gICAgY29uc3QgeyBfcHJveHkgLCBfY29udGV4dCAsIF9zdWJQcm94eSAsIF9zdGFjayAgfSA9IHRhcmdldDtcbiAgICBpZiAoX3N0YWNrLmhhcyhwcm9wKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlY3Vyc2lvbiBkZXRlY3RlZDogJyArIEFycmF5LmZyb20oX3N0YWNrKS5qb2luKCctPicpICsgJy0+JyArIHByb3ApO1xuICAgIH1cbiAgICBfc3RhY2suYWRkKHByb3ApO1xuICAgIGxldCB2YWx1ZSA9IGdldFZhbHVlKF9jb250ZXh0LCBfc3ViUHJveHkgfHwgcmVjZWl2ZXIpO1xuICAgIF9zdGFjay5kZWxldGUocHJvcCk7XG4gICAgaWYgKG5lZWRzU3ViUmVzb2x2ZXIocHJvcCwgdmFsdWUpKSB7XG4gICAgICAgIC8vIFdoZW4gc2NyaXB0YWJsZSBvcHRpb24gcmV0dXJucyBhbiBvYmplY3QsIGNyZWF0ZSBhIHJlc29sdmVyIG9uIHRoYXQuXG4gICAgICAgIHZhbHVlID0gY3JlYXRlU3ViUmVzb2x2ZXIoX3Byb3h5Ll9zY29wZXMsIF9wcm94eSwgcHJvcCwgdmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG5mdW5jdGlvbiBfcmVzb2x2ZUFycmF5KHByb3AsIHZhbHVlLCB0YXJnZXQsIGlzSW5kZXhhYmxlKSB7XG4gICAgY29uc3QgeyBfcHJveHkgLCBfY29udGV4dCAsIF9zdWJQcm94eSAsIF9kZXNjcmlwdG9yczogZGVzY3JpcHRvcnMgIH0gPSB0YXJnZXQ7XG4gICAgaWYgKHR5cGVvZiBfY29udGV4dC5pbmRleCAhPT0gJ3VuZGVmaW5lZCcgJiYgaXNJbmRleGFibGUocHJvcCkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlW19jb250ZXh0LmluZGV4ICUgdmFsdWUubGVuZ3RoXTtcbiAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KHZhbHVlWzBdKSkge1xuICAgICAgICAvLyBBcnJheSBvZiBvYmplY3RzLCByZXR1cm4gYXJyYXkgb3IgcmVzb2x2ZXJzXG4gICAgICAgIGNvbnN0IGFyciA9IHZhbHVlO1xuICAgICAgICBjb25zdCBzY29wZXMgPSBfcHJveHkuX3Njb3Blcy5maWx0ZXIoKHMpPT5zICE9PSBhcnIpO1xuICAgICAgICB2YWx1ZSA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgYXJyKXtcbiAgICAgICAgICAgIGNvbnN0IHJlc29sdmVyID0gY3JlYXRlU3ViUmVzb2x2ZXIoc2NvcGVzLCBfcHJveHksIHByb3AsIGl0ZW0pO1xuICAgICAgICAgICAgdmFsdWUucHVzaChfYXR0YWNoQ29udGV4dChyZXNvbHZlciwgX2NvbnRleHQsIF9zdWJQcm94eSAmJiBfc3ViUHJveHlbcHJvcF0sIGRlc2NyaXB0b3JzKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuZnVuY3Rpb24gcmVzb2x2ZUZhbGxiYWNrKGZhbGxiYWNrLCBwcm9wLCB2YWx1ZSkge1xuICAgIHJldHVybiBpc0Z1bmN0aW9uKGZhbGxiYWNrKSA/IGZhbGxiYWNrKHByb3AsIHZhbHVlKSA6IGZhbGxiYWNrO1xufVxuY29uc3QgZ2V0U2NvcGUgPSAoa2V5LCBwYXJlbnQpPT5rZXkgPT09IHRydWUgPyBwYXJlbnQgOiB0eXBlb2Yga2V5ID09PSAnc3RyaW5nJyA/IHJlc29sdmVPYmplY3RLZXkocGFyZW50LCBrZXkpIDogdW5kZWZpbmVkO1xuZnVuY3Rpb24gYWRkU2NvcGVzKHNldCwgcGFyZW50U2NvcGVzLCBrZXksIHBhcmVudEZhbGxiYWNrLCB2YWx1ZSkge1xuICAgIGZvciAoY29uc3QgcGFyZW50IG9mIHBhcmVudFNjb3Blcyl7XG4gICAgICAgIGNvbnN0IHNjb3BlID0gZ2V0U2NvcGUoa2V5LCBwYXJlbnQpO1xuICAgICAgICBpZiAoc2NvcGUpIHtcbiAgICAgICAgICAgIHNldC5hZGQoc2NvcGUpO1xuICAgICAgICAgICAgY29uc3QgZmFsbGJhY2sgPSByZXNvbHZlRmFsbGJhY2soc2NvcGUuX2ZhbGxiYWNrLCBrZXksIHZhbHVlKTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZmFsbGJhY2sgIT09ICd1bmRlZmluZWQnICYmIGZhbGxiYWNrICE9PSBrZXkgJiYgZmFsbGJhY2sgIT09IHBhcmVudEZhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgLy8gV2hlbiB3ZSByZWFjaCB0aGUgZGVzY3JpcHRvciB0aGF0IGRlZmluZXMgYSBuZXcgX2ZhbGxiYWNrLCByZXR1cm4gdGhhdC5cbiAgICAgICAgICAgICAgICAvLyBUaGUgZmFsbGJhY2sgd2lsbCByZXN1bWUgdG8gdGhhdCBuZXcgc2NvcGUuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbGxiYWNrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHNjb3BlID09PSBmYWxzZSAmJiB0eXBlb2YgcGFyZW50RmFsbGJhY2sgIT09ICd1bmRlZmluZWQnICYmIGtleSAhPT0gcGFyZW50RmFsbGJhY2spIHtcbiAgICAgICAgICAgIC8vIEZhbGxiYWNrIHRvIGBmYWxzZWAgcmVzdWx0cyB0byBgZmFsc2VgLCB3aGVuIGZhbGxpbmcgYmFjayB0byBkaWZmZXJlbnQga2V5LlxuICAgICAgICAgICAgLy8gRm9yIGV4YW1wbGUgYGludGVyYWN0aW9uYCBmcm9tIGBob3ZlcmAgb3IgYHBsdWdpbnMudG9vbHRpcGAgYW5kIGBhbmltYXRpb25gIGZyb20gYGFuaW1hdGlvbnNgXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBjcmVhdGVTdWJSZXNvbHZlcihwYXJlbnRTY29wZXMsIHJlc29sdmVyLCBwcm9wLCB2YWx1ZSkge1xuICAgIGNvbnN0IHJvb3RTY29wZXMgPSByZXNvbHZlci5fcm9vdFNjb3BlcztcbiAgICBjb25zdCBmYWxsYmFjayA9IHJlc29sdmVGYWxsYmFjayhyZXNvbHZlci5fZmFsbGJhY2ssIHByb3AsIHZhbHVlKTtcbiAgICBjb25zdCBhbGxTY29wZXMgPSBbXG4gICAgICAgIC4uLnBhcmVudFNjb3BlcyxcbiAgICAgICAgLi4ucm9vdFNjb3Blc1xuICAgIF07XG4gICAgY29uc3Qgc2V0ID0gbmV3IFNldCgpO1xuICAgIHNldC5hZGQodmFsdWUpO1xuICAgIGxldCBrZXkgPSBhZGRTY29wZXNGcm9tS2V5KHNldCwgYWxsU2NvcGVzLCBwcm9wLCBmYWxsYmFjayB8fCBwcm9wLCB2YWx1ZSk7XG4gICAgaWYgKGtleSA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgZmFsbGJhY2sgIT09ICd1bmRlZmluZWQnICYmIGZhbGxiYWNrICE9PSBwcm9wKSB7XG4gICAgICAgIGtleSA9IGFkZFNjb3Blc0Zyb21LZXkoc2V0LCBhbGxTY29wZXMsIGZhbGxiYWNrLCBrZXksIHZhbHVlKTtcbiAgICAgICAgaWYgKGtleSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBfY3JlYXRlUmVzb2x2ZXIoQXJyYXkuZnJvbShzZXQpLCBbXG4gICAgICAgICcnXG4gICAgXSwgcm9vdFNjb3BlcywgZmFsbGJhY2ssICgpPT5zdWJHZXRUYXJnZXQocmVzb2x2ZXIsIHByb3AsIHZhbHVlKSk7XG59XG5mdW5jdGlvbiBhZGRTY29wZXNGcm9tS2V5KHNldCwgYWxsU2NvcGVzLCBrZXksIGZhbGxiYWNrLCBpdGVtKSB7XG4gICAgd2hpbGUoa2V5KXtcbiAgICAgICAga2V5ID0gYWRkU2NvcGVzKHNldCwgYWxsU2NvcGVzLCBrZXksIGZhbGxiYWNrLCBpdGVtKTtcbiAgICB9XG4gICAgcmV0dXJuIGtleTtcbn1cbmZ1bmN0aW9uIHN1YkdldFRhcmdldChyZXNvbHZlciwgcHJvcCwgdmFsdWUpIHtcbiAgICBjb25zdCBwYXJlbnQgPSByZXNvbHZlci5fZ2V0VGFyZ2V0KCk7XG4gICAgaWYgKCEocHJvcCBpbiBwYXJlbnQpKSB7XG4gICAgICAgIHBhcmVudFtwcm9wXSA9IHt9O1xuICAgIH1cbiAgICBjb25zdCB0YXJnZXQgPSBwYXJlbnRbcHJvcF07XG4gICAgaWYgKGlzQXJyYXkodGFyZ2V0KSAmJiBpc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgLy8gRm9yIGFycmF5IG9mIG9iamVjdHMsIHRoZSBvYmplY3QgaXMgdXNlZCB0byBzdG9yZSB1cGRhdGVkIHZhbHVlc1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXQgfHwge307XG59XG5mdW5jdGlvbiBfcmVzb2x2ZVdpdGhQcmVmaXhlcyhwcm9wLCBwcmVmaXhlcywgc2NvcGVzLCBwcm94eSkge1xuICAgIGxldCB2YWx1ZTtcbiAgICBmb3IgKGNvbnN0IHByZWZpeCBvZiBwcmVmaXhlcyl7XG4gICAgICAgIHZhbHVlID0gX3Jlc29sdmUocmVhZEtleShwcmVmaXgsIHByb3ApLCBzY29wZXMpO1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcmV0dXJuIG5lZWRzU3ViUmVzb2x2ZXIocHJvcCwgdmFsdWUpID8gY3JlYXRlU3ViUmVzb2x2ZXIoc2NvcGVzLCBwcm94eSwgcHJvcCwgdmFsdWUpIDogdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBfcmVzb2x2ZShrZXksIHNjb3Blcykge1xuICAgIGZvciAoY29uc3Qgc2NvcGUgb2Ygc2NvcGVzKXtcbiAgICAgICAgaWYgKCFzY29wZSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdmFsdWUgPSBzY29wZVtrZXldO1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0S2V5c0Zyb21BbGxTY29wZXModGFyZ2V0KSB7XG4gICAgbGV0IGtleXMgPSB0YXJnZXQuX2tleXM7XG4gICAgaWYgKCFrZXlzKSB7XG4gICAgICAgIGtleXMgPSB0YXJnZXQuX2tleXMgPSByZXNvbHZlS2V5c0Zyb21BbGxTY29wZXModGFyZ2V0Ll9zY29wZXMpO1xuICAgIH1cbiAgICByZXR1cm4ga2V5cztcbn1cbmZ1bmN0aW9uIHJlc29sdmVLZXlzRnJvbUFsbFNjb3BlcyhzY29wZXMpIHtcbiAgICBjb25zdCBzZXQgPSBuZXcgU2V0KCk7XG4gICAgZm9yIChjb25zdCBzY29wZSBvZiBzY29wZXMpe1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhzY29wZSkuZmlsdGVyKChrKT0+IWsuc3RhcnRzV2l0aCgnXycpKSl7XG4gICAgICAgICAgICBzZXQuYWRkKGtleSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIEFycmF5LmZyb20oc2V0KTtcbn1cbmZ1bmN0aW9uIF9wYXJzZU9iamVjdERhdGFSYWRpYWxTY2FsZShtZXRhLCBkYXRhLCBzdGFydCwgY291bnQpIHtcbiAgICBjb25zdCB7IGlTY2FsZSAgfSA9IG1ldGE7XG4gICAgY29uc3QgeyBrZXkgPSdyJyAgfSA9IHRoaXMuX3BhcnNpbmc7XG4gICAgY29uc3QgcGFyc2VkID0gbmV3IEFycmF5KGNvdW50KTtcbiAgICBsZXQgaSwgaWxlbiwgaW5kZXgsIGl0ZW07XG4gICAgZm9yKGkgPSAwLCBpbGVuID0gY291bnQ7IGkgPCBpbGVuOyArK2kpe1xuICAgICAgICBpbmRleCA9IGkgKyBzdGFydDtcbiAgICAgICAgaXRlbSA9IGRhdGFbaW5kZXhdO1xuICAgICAgICBwYXJzZWRbaV0gPSB7XG4gICAgICAgICAgICByOiBpU2NhbGUucGFyc2UocmVzb2x2ZU9iamVjdEtleShpdGVtLCBrZXkpLCBpbmRleClcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHBhcnNlZDtcbn1cblxuY29uc3QgRVBTSUxPTiA9IE51bWJlci5FUFNJTE9OIHx8IDFlLTE0O1xuY29uc3QgZ2V0UG9pbnQgPSAocG9pbnRzLCBpKT0+aSA8IHBvaW50cy5sZW5ndGggJiYgIXBvaW50c1tpXS5za2lwICYmIHBvaW50c1tpXTtcbmNvbnN0IGdldFZhbHVlQXhpcyA9IChpbmRleEF4aXMpPT5pbmRleEF4aXMgPT09ICd4JyA/ICd5JyA6ICd4JztcbmZ1bmN0aW9uIHNwbGluZUN1cnZlKGZpcnN0UG9pbnQsIG1pZGRsZVBvaW50LCBhZnRlclBvaW50LCB0KSB7XG4gICAgLy8gUHJvcHMgdG8gUm9iIFNwZW5jZXIgYXQgc2NhbGVkIGlubm92YXRpb24gZm9yIGhpcyBwb3N0IG9uIHNwbGluaW5nIGJldHdlZW4gcG9pbnRzXG4gICAgLy8gaHR0cDovL3NjYWxlZGlubm92YXRpb24uY29tL2FuYWx5dGljcy9zcGxpbmVzL2Fib3V0U3BsaW5lcy5odG1sXG4gICAgLy8gVGhpcyBmdW5jdGlvbiBtdXN0IGFsc28gcmVzcGVjdCBcInNraXBwZWRcIiBwb2ludHNcbiAgICBjb25zdCBwcmV2aW91cyA9IGZpcnN0UG9pbnQuc2tpcCA/IG1pZGRsZVBvaW50IDogZmlyc3RQb2ludDtcbiAgICBjb25zdCBjdXJyZW50ID0gbWlkZGxlUG9pbnQ7XG4gICAgY29uc3QgbmV4dCA9IGFmdGVyUG9pbnQuc2tpcCA/IG1pZGRsZVBvaW50IDogYWZ0ZXJQb2ludDtcbiAgICBjb25zdCBkMDEgPSBkaXN0YW5jZUJldHdlZW5Qb2ludHMoY3VycmVudCwgcHJldmlvdXMpO1xuICAgIGNvbnN0IGQxMiA9IGRpc3RhbmNlQmV0d2VlblBvaW50cyhuZXh0LCBjdXJyZW50KTtcbiAgICBsZXQgczAxID0gZDAxIC8gKGQwMSArIGQxMik7XG4gICAgbGV0IHMxMiA9IGQxMiAvIChkMDEgKyBkMTIpO1xuICAgIC8vIElmIGFsbCBwb2ludHMgYXJlIHRoZSBzYW1lLCBzMDEgJiBzMDIgd2lsbCBiZSBpbmZcbiAgICBzMDEgPSBpc05hTihzMDEpID8gMCA6IHMwMTtcbiAgICBzMTIgPSBpc05hTihzMTIpID8gMCA6IHMxMjtcbiAgICBjb25zdCBmYSA9IHQgKiBzMDE7IC8vIHNjYWxpbmcgZmFjdG9yIGZvciB0cmlhbmdsZSBUYVxuICAgIGNvbnN0IGZiID0gdCAqIHMxMjtcbiAgICByZXR1cm4ge1xuICAgICAgICBwcmV2aW91czoge1xuICAgICAgICAgICAgeDogY3VycmVudC54IC0gZmEgKiAobmV4dC54IC0gcHJldmlvdXMueCksXG4gICAgICAgICAgICB5OiBjdXJyZW50LnkgLSBmYSAqIChuZXh0LnkgLSBwcmV2aW91cy55KVxuICAgICAgICB9LFxuICAgICAgICBuZXh0OiB7XG4gICAgICAgICAgICB4OiBjdXJyZW50LnggKyBmYiAqIChuZXh0LnggLSBwcmV2aW91cy54KSxcbiAgICAgICAgICAgIHk6IGN1cnJlbnQueSArIGZiICogKG5leHQueSAtIHByZXZpb3VzLnkpXG4gICAgICAgIH1cbiAgICB9O1xufVxuLyoqXG4gKiBBZGp1c3QgdGFuZ2VudHMgdG8gZW5zdXJlIG1vbm90b25pYyBwcm9wZXJ0aWVzXG4gKi8gZnVuY3Rpb24gbW9ub3RvbmVBZGp1c3QocG9pbnRzLCBkZWx0YUssIG1LKSB7XG4gICAgY29uc3QgcG9pbnRzTGVuID0gcG9pbnRzLmxlbmd0aDtcbiAgICBsZXQgYWxwaGFLLCBiZXRhSywgdGF1Sywgc3F1YXJlZE1hZ25pdHVkZSwgcG9pbnRDdXJyZW50O1xuICAgIGxldCBwb2ludEFmdGVyID0gZ2V0UG9pbnQocG9pbnRzLCAwKTtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgcG9pbnRzTGVuIC0gMTsgKytpKXtcbiAgICAgICAgcG9pbnRDdXJyZW50ID0gcG9pbnRBZnRlcjtcbiAgICAgICAgcG9pbnRBZnRlciA9IGdldFBvaW50KHBvaW50cywgaSArIDEpO1xuICAgICAgICBpZiAoIXBvaW50Q3VycmVudCB8fCAhcG9pbnRBZnRlcikge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFsbW9zdEVxdWFscyhkZWx0YUtbaV0sIDAsIEVQU0lMT04pKSB7XG4gICAgICAgICAgICBtS1tpXSA9IG1LW2kgKyAxXSA9IDA7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBhbHBoYUsgPSBtS1tpXSAvIGRlbHRhS1tpXTtcbiAgICAgICAgYmV0YUsgPSBtS1tpICsgMV0gLyBkZWx0YUtbaV07XG4gICAgICAgIHNxdWFyZWRNYWduaXR1ZGUgPSBNYXRoLnBvdyhhbHBoYUssIDIpICsgTWF0aC5wb3coYmV0YUssIDIpO1xuICAgICAgICBpZiAoc3F1YXJlZE1hZ25pdHVkZSA8PSA5KSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB0YXVLID0gMyAvIE1hdGguc3FydChzcXVhcmVkTWFnbml0dWRlKTtcbiAgICAgICAgbUtbaV0gPSBhbHBoYUsgKiB0YXVLICogZGVsdGFLW2ldO1xuICAgICAgICBtS1tpICsgMV0gPSBiZXRhSyAqIHRhdUsgKiBkZWx0YUtbaV07XG4gICAgfVxufVxuZnVuY3Rpb24gbW9ub3RvbmVDb21wdXRlKHBvaW50cywgbUssIGluZGV4QXhpcyA9ICd4Jykge1xuICAgIGNvbnN0IHZhbHVlQXhpcyA9IGdldFZhbHVlQXhpcyhpbmRleEF4aXMpO1xuICAgIGNvbnN0IHBvaW50c0xlbiA9IHBvaW50cy5sZW5ndGg7XG4gICAgbGV0IGRlbHRhLCBwb2ludEJlZm9yZSwgcG9pbnRDdXJyZW50O1xuICAgIGxldCBwb2ludEFmdGVyID0gZ2V0UG9pbnQocG9pbnRzLCAwKTtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgcG9pbnRzTGVuOyArK2kpe1xuICAgICAgICBwb2ludEJlZm9yZSA9IHBvaW50Q3VycmVudDtcbiAgICAgICAgcG9pbnRDdXJyZW50ID0gcG9pbnRBZnRlcjtcbiAgICAgICAgcG9pbnRBZnRlciA9IGdldFBvaW50KHBvaW50cywgaSArIDEpO1xuICAgICAgICBpZiAoIXBvaW50Q3VycmVudCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaVBpeGVsID0gcG9pbnRDdXJyZW50W2luZGV4QXhpc107XG4gICAgICAgIGNvbnN0IHZQaXhlbCA9IHBvaW50Q3VycmVudFt2YWx1ZUF4aXNdO1xuICAgICAgICBpZiAocG9pbnRCZWZvcmUpIHtcbiAgICAgICAgICAgIGRlbHRhID0gKGlQaXhlbCAtIHBvaW50QmVmb3JlW2luZGV4QXhpc10pIC8gMztcbiAgICAgICAgICAgIHBvaW50Q3VycmVudFtgY3AxJHtpbmRleEF4aXN9YF0gPSBpUGl4ZWwgLSBkZWx0YTtcbiAgICAgICAgICAgIHBvaW50Q3VycmVudFtgY3AxJHt2YWx1ZUF4aXN9YF0gPSB2UGl4ZWwgLSBkZWx0YSAqIG1LW2ldO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwb2ludEFmdGVyKSB7XG4gICAgICAgICAgICBkZWx0YSA9IChwb2ludEFmdGVyW2luZGV4QXhpc10gLSBpUGl4ZWwpIC8gMztcbiAgICAgICAgICAgIHBvaW50Q3VycmVudFtgY3AyJHtpbmRleEF4aXN9YF0gPSBpUGl4ZWwgKyBkZWx0YTtcbiAgICAgICAgICAgIHBvaW50Q3VycmVudFtgY3AyJHt2YWx1ZUF4aXN9YF0gPSB2UGl4ZWwgKyBkZWx0YSAqIG1LW2ldO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGNhbGN1bGF0ZXMgQsOpemllciBjb250cm9sIHBvaW50cyBpbiBhIHNpbWlsYXIgd2F5IHRoYW4gfHNwbGluZUN1cnZlfCxcbiAqIGJ1dCBwcmVzZXJ2ZXMgbW9ub3RvbmljaXR5IG9mIHRoZSBwcm92aWRlZCBkYXRhIGFuZCBlbnN1cmVzIG5vIGxvY2FsIGV4dHJlbXVtcyBhcmUgYWRkZWRcbiAqIGJldHdlZW4gdGhlIGRhdGFzZXQgZGlzY3JldGUgcG9pbnRzIGR1ZSB0byB0aGUgaW50ZXJwb2xhdGlvbi5cbiAqIFNlZSA6IGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL01vbm90b25lX2N1YmljX2ludGVycG9sYXRpb25cbiAqLyBmdW5jdGlvbiBzcGxpbmVDdXJ2ZU1vbm90b25lKHBvaW50cywgaW5kZXhBeGlzID0gJ3gnKSB7XG4gICAgY29uc3QgdmFsdWVBeGlzID0gZ2V0VmFsdWVBeGlzKGluZGV4QXhpcyk7XG4gICAgY29uc3QgcG9pbnRzTGVuID0gcG9pbnRzLmxlbmd0aDtcbiAgICBjb25zdCBkZWx0YUsgPSBBcnJheShwb2ludHNMZW4pLmZpbGwoMCk7XG4gICAgY29uc3QgbUsgPSBBcnJheShwb2ludHNMZW4pO1xuICAgIC8vIENhbGN1bGF0ZSBzbG9wZXMgKGRlbHRhSykgYW5kIGluaXRpYWxpemUgdGFuZ2VudHMgKG1LKVxuICAgIGxldCBpLCBwb2ludEJlZm9yZSwgcG9pbnRDdXJyZW50O1xuICAgIGxldCBwb2ludEFmdGVyID0gZ2V0UG9pbnQocG9pbnRzLCAwKTtcbiAgICBmb3IoaSA9IDA7IGkgPCBwb2ludHNMZW47ICsraSl7XG4gICAgICAgIHBvaW50QmVmb3JlID0gcG9pbnRDdXJyZW50O1xuICAgICAgICBwb2ludEN1cnJlbnQgPSBwb2ludEFmdGVyO1xuICAgICAgICBwb2ludEFmdGVyID0gZ2V0UG9pbnQocG9pbnRzLCBpICsgMSk7XG4gICAgICAgIGlmICghcG9pbnRDdXJyZW50KSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocG9pbnRBZnRlcikge1xuICAgICAgICAgICAgY29uc3Qgc2xvcGVEZWx0YSA9IHBvaW50QWZ0ZXJbaW5kZXhBeGlzXSAtIHBvaW50Q3VycmVudFtpbmRleEF4aXNdO1xuICAgICAgICAgICAgLy8gSW4gdGhlIGNhc2Ugb2YgdHdvIHBvaW50cyB0aGF0IGFwcGVhciBhdCB0aGUgc2FtZSB4IHBpeGVsLCBzbG9wZURlbHRhWCBpcyAwXG4gICAgICAgICAgICBkZWx0YUtbaV0gPSBzbG9wZURlbHRhICE9PSAwID8gKHBvaW50QWZ0ZXJbdmFsdWVBeGlzXSAtIHBvaW50Q3VycmVudFt2YWx1ZUF4aXNdKSAvIHNsb3BlRGVsdGEgOiAwO1xuICAgICAgICB9XG4gICAgICAgIG1LW2ldID0gIXBvaW50QmVmb3JlID8gZGVsdGFLW2ldIDogIXBvaW50QWZ0ZXIgPyBkZWx0YUtbaSAtIDFdIDogc2lnbihkZWx0YUtbaSAtIDFdKSAhPT0gc2lnbihkZWx0YUtbaV0pID8gMCA6IChkZWx0YUtbaSAtIDFdICsgZGVsdGFLW2ldKSAvIDI7XG4gICAgfVxuICAgIG1vbm90b25lQWRqdXN0KHBvaW50cywgZGVsdGFLLCBtSyk7XG4gICAgbW9ub3RvbmVDb21wdXRlKHBvaW50cywgbUssIGluZGV4QXhpcyk7XG59XG5mdW5jdGlvbiBjYXBDb250cm9sUG9pbnQocHQsIG1pbiwgbWF4KSB7XG4gICAgcmV0dXJuIE1hdGgubWF4KE1hdGgubWluKHB0LCBtYXgpLCBtaW4pO1xufVxuZnVuY3Rpb24gY2FwQmV6aWVyUG9pbnRzKHBvaW50cywgYXJlYSkge1xuICAgIGxldCBpLCBpbGVuLCBwb2ludCwgaW5BcmVhLCBpbkFyZWFQcmV2O1xuICAgIGxldCBpbkFyZWFOZXh0ID0gX2lzUG9pbnRJbkFyZWEocG9pbnRzWzBdLCBhcmVhKTtcbiAgICBmb3IoaSA9IDAsIGlsZW4gPSBwb2ludHMubGVuZ3RoOyBpIDwgaWxlbjsgKytpKXtcbiAgICAgICAgaW5BcmVhUHJldiA9IGluQXJlYTtcbiAgICAgICAgaW5BcmVhID0gaW5BcmVhTmV4dDtcbiAgICAgICAgaW5BcmVhTmV4dCA9IGkgPCBpbGVuIC0gMSAmJiBfaXNQb2ludEluQXJlYShwb2ludHNbaSArIDFdLCBhcmVhKTtcbiAgICAgICAgaWYgKCFpbkFyZWEpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHBvaW50ID0gcG9pbnRzW2ldO1xuICAgICAgICBpZiAoaW5BcmVhUHJldikge1xuICAgICAgICAgICAgcG9pbnQuY3AxeCA9IGNhcENvbnRyb2xQb2ludChwb2ludC5jcDF4LCBhcmVhLmxlZnQsIGFyZWEucmlnaHQpO1xuICAgICAgICAgICAgcG9pbnQuY3AxeSA9IGNhcENvbnRyb2xQb2ludChwb2ludC5jcDF5LCBhcmVhLnRvcCwgYXJlYS5ib3R0b20pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbkFyZWFOZXh0KSB7XG4gICAgICAgICAgICBwb2ludC5jcDJ4ID0gY2FwQ29udHJvbFBvaW50KHBvaW50LmNwMngsIGFyZWEubGVmdCwgYXJlYS5yaWdodCk7XG4gICAgICAgICAgICBwb2ludC5jcDJ5ID0gY2FwQ29udHJvbFBvaW50KHBvaW50LmNwMnksIGFyZWEudG9wLCBhcmVhLmJvdHRvbSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEBwcml2YXRlXG4gKi8gZnVuY3Rpb24gX3VwZGF0ZUJlemllckNvbnRyb2xQb2ludHMocG9pbnRzLCBvcHRpb25zLCBhcmVhLCBsb29wLCBpbmRleEF4aXMpIHtcbiAgICBsZXQgaSwgaWxlbiwgcG9pbnQsIGNvbnRyb2xQb2ludHM7XG4gICAgLy8gT25seSBjb25zaWRlciBwb2ludHMgdGhhdCBhcmUgZHJhd24gaW4gY2FzZSB0aGUgc3BhbkdhcHMgb3B0aW9uIGlzIHVzZWRcbiAgICBpZiAob3B0aW9ucy5zcGFuR2Fwcykge1xuICAgICAgICBwb2ludHMgPSBwb2ludHMuZmlsdGVyKChwdCk9PiFwdC5za2lwKTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuY3ViaWNJbnRlcnBvbGF0aW9uTW9kZSA9PT0gJ21vbm90b25lJykge1xuICAgICAgICBzcGxpbmVDdXJ2ZU1vbm90b25lKHBvaW50cywgaW5kZXhBeGlzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgcHJldiA9IGxvb3AgPyBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdIDogcG9pbnRzWzBdO1xuICAgICAgICBmb3IoaSA9IDAsIGlsZW4gPSBwb2ludHMubGVuZ3RoOyBpIDwgaWxlbjsgKytpKXtcbiAgICAgICAgICAgIHBvaW50ID0gcG9pbnRzW2ldO1xuICAgICAgICAgICAgY29udHJvbFBvaW50cyA9IHNwbGluZUN1cnZlKHByZXYsIHBvaW50LCBwb2ludHNbTWF0aC5taW4oaSArIDEsIGlsZW4gLSAobG9vcCA/IDAgOiAxKSkgJSBpbGVuXSwgb3B0aW9ucy50ZW5zaW9uKTtcbiAgICAgICAgICAgIHBvaW50LmNwMXggPSBjb250cm9sUG9pbnRzLnByZXZpb3VzLng7XG4gICAgICAgICAgICBwb2ludC5jcDF5ID0gY29udHJvbFBvaW50cy5wcmV2aW91cy55O1xuICAgICAgICAgICAgcG9pbnQuY3AyeCA9IGNvbnRyb2xQb2ludHMubmV4dC54O1xuICAgICAgICAgICAgcG9pbnQuY3AyeSA9IGNvbnRyb2xQb2ludHMubmV4dC55O1xuICAgICAgICAgICAgcHJldiA9IHBvaW50O1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChvcHRpb25zLmNhcEJlemllclBvaW50cykge1xuICAgICAgICBjYXBCZXppZXJQb2ludHMocG9pbnRzLCBhcmVhKTtcbiAgICB9XG59XG5cbi8qKlxuICogTm90ZTogdHlwZWRlZnMgYXJlIGF1dG8tZXhwb3J0ZWQsIHNvIHVzZSBhIG1hZGUtdXAgYGRvbWAgbmFtZXNwYWNlIHdoZXJlXG4gKiBuZWNlc3NhcnkgdG8gYXZvaWQgZHVwbGljYXRlcyB3aXRoIGBleHBvcnQgKiBmcm9tICcuL2hlbHBlcnNgOyBzZWVcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvNDYwMTFcbiAqIEB0eXBlZGVmIHsgaW1wb3J0KCcuLi9jb3JlL2NvcmUuY29udHJvbGxlci5qcycpLmRlZmF1bHQgfSBkb20uQ2hhcnRcbiAqIEB0eXBlZGVmIHsgaW1wb3J0KCcuLi8uLi90eXBlcycpLkNoYXJ0RXZlbnQgfSBDaGFydEV2ZW50XG4gKi8gLyoqXG4gKiBAcHJpdmF0ZVxuICovIGZ1bmN0aW9uIF9pc0RvbVN1cHBvcnRlZCgpIHtcbiAgICByZXR1cm4gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJztcbn1cbi8qKlxuICogQHByaXZhdGVcbiAqLyBmdW5jdGlvbiBfZ2V0UGFyZW50Tm9kZShkb21Ob2RlKSB7XG4gICAgbGV0IHBhcmVudCA9IGRvbU5vZGUucGFyZW50Tm9kZTtcbiAgICBpZiAocGFyZW50ICYmIHBhcmVudC50b1N0cmluZygpID09PSAnW29iamVjdCBTaGFkb3dSb290XScpIHtcbiAgICAgICAgcGFyZW50ID0gcGFyZW50Lmhvc3Q7XG4gICAgfVxuICAgIHJldHVybiBwYXJlbnQ7XG59XG4vKipcbiAqIGNvbnZlcnQgbWF4LXdpZHRoL21heC1oZWlnaHQgdmFsdWVzIHRoYXQgbWF5IGJlIHBlcmNlbnRhZ2VzIGludG8gYSBudW1iZXJcbiAqIEBwcml2YXRlXG4gKi8gZnVuY3Rpb24gcGFyc2VNYXhTdHlsZShzdHlsZVZhbHVlLCBub2RlLCBwYXJlbnRQcm9wZXJ0eSkge1xuICAgIGxldCB2YWx1ZUluUGl4ZWxzO1xuICAgIGlmICh0eXBlb2Ygc3R5bGVWYWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdmFsdWVJblBpeGVscyA9IHBhcnNlSW50KHN0eWxlVmFsdWUsIDEwKTtcbiAgICAgICAgaWYgKHN0eWxlVmFsdWUuaW5kZXhPZignJScpICE9PSAtMSkge1xuICAgICAgICAgICAgLy8gcGVyY2VudGFnZSAqIHNpemUgaW4gZGltZW5zaW9uXG4gICAgICAgICAgICB2YWx1ZUluUGl4ZWxzID0gdmFsdWVJblBpeGVscyAvIDEwMCAqIG5vZGUucGFyZW50Tm9kZVtwYXJlbnRQcm9wZXJ0eV07XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICB2YWx1ZUluUGl4ZWxzID0gc3R5bGVWYWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlSW5QaXhlbHM7XG59XG5jb25zdCBnZXRDb21wdXRlZFN0eWxlID0gKGVsZW1lbnQpPT5lbGVtZW50Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50LCBudWxsKTtcbmZ1bmN0aW9uIGdldFN0eWxlKGVsLCBwcm9wZXJ0eSkge1xuICAgIHJldHVybiBnZXRDb21wdXRlZFN0eWxlKGVsKS5nZXRQcm9wZXJ0eVZhbHVlKHByb3BlcnR5KTtcbn1cbmNvbnN0IHBvc2l0aW9ucyA9IFtcbiAgICAndG9wJyxcbiAgICAncmlnaHQnLFxuICAgICdib3R0b20nLFxuICAgICdsZWZ0J1xuXTtcbmZ1bmN0aW9uIGdldFBvc2l0aW9uZWRTdHlsZShzdHlsZXMsIHN0eWxlLCBzdWZmaXgpIHtcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICBzdWZmaXggPSBzdWZmaXggPyAnLScgKyBzdWZmaXggOiAnJztcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgNDsgaSsrKXtcbiAgICAgICAgY29uc3QgcG9zID0gcG9zaXRpb25zW2ldO1xuICAgICAgICByZXN1bHRbcG9zXSA9IHBhcnNlRmxvYXQoc3R5bGVzW3N0eWxlICsgJy0nICsgcG9zICsgc3VmZml4XSkgfHwgMDtcbiAgICB9XG4gICAgcmVzdWx0LndpZHRoID0gcmVzdWx0LmxlZnQgKyByZXN1bHQucmlnaHQ7XG4gICAgcmVzdWx0LmhlaWdodCA9IHJlc3VsdC50b3AgKyByZXN1bHQuYm90dG9tO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5jb25zdCB1c2VPZmZzZXRQb3MgPSAoeCwgeSwgdGFyZ2V0KT0+KHggPiAwIHx8IHkgPiAwKSAmJiAoIXRhcmdldCB8fCAhdGFyZ2V0LnNoYWRvd1Jvb3QpO1xuLyoqXG4gKiBAcGFyYW0gZVxuICogQHBhcmFtIGNhbnZhc1xuICogQHJldHVybnMgQ2FudmFzIHBvc2l0aW9uXG4gKi8gZnVuY3Rpb24gZ2V0Q2FudmFzUG9zaXRpb24oZSwgY2FudmFzKSB7XG4gICAgY29uc3QgdG91Y2hlcyA9IGUudG91Y2hlcztcbiAgICBjb25zdCBzb3VyY2UgPSB0b3VjaGVzICYmIHRvdWNoZXMubGVuZ3RoID8gdG91Y2hlc1swXSA6IGU7XG4gICAgY29uc3QgeyBvZmZzZXRYICwgb2Zmc2V0WSAgfSA9IHNvdXJjZTtcbiAgICBsZXQgYm94ID0gZmFsc2U7XG4gICAgbGV0IHgsIHk7XG4gICAgaWYgKHVzZU9mZnNldFBvcyhvZmZzZXRYLCBvZmZzZXRZLCBlLnRhcmdldCkpIHtcbiAgICAgICAgeCA9IG9mZnNldFg7XG4gICAgICAgIHkgPSBvZmZzZXRZO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHJlY3QgPSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHggPSBzb3VyY2UuY2xpZW50WCAtIHJlY3QubGVmdDtcbiAgICAgICAgeSA9IHNvdXJjZS5jbGllbnRZIC0gcmVjdC50b3A7XG4gICAgICAgIGJveCA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHgsXG4gICAgICAgIHksXG4gICAgICAgIGJveFxuICAgIH07XG59XG4vKipcbiAqIEdldHMgYW4gZXZlbnQncyB4LCB5IGNvb3JkaW5hdGVzLCByZWxhdGl2ZSB0byB0aGUgY2hhcnQgYXJlYVxuICogQHBhcmFtIGV2ZW50XG4gKiBAcGFyYW0gY2hhcnRcbiAqIEByZXR1cm5zIHggYW5kIHkgY29vcmRpbmF0ZXMgb2YgdGhlIGV2ZW50XG4gKi8gZnVuY3Rpb24gZ2V0UmVsYXRpdmVQb3NpdGlvbihldmVudCwgY2hhcnQpIHtcbiAgICBpZiAoJ25hdGl2ZScgaW4gZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIGV2ZW50O1xuICAgIH1cbiAgICBjb25zdCB7IGNhbnZhcyAsIGN1cnJlbnREZXZpY2VQaXhlbFJhdGlvICB9ID0gY2hhcnQ7XG4gICAgY29uc3Qgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGNhbnZhcyk7XG4gICAgY29uc3QgYm9yZGVyQm94ID0gc3R5bGUuYm94U2l6aW5nID09PSAnYm9yZGVyLWJveCc7XG4gICAgY29uc3QgcGFkZGluZ3MgPSBnZXRQb3NpdGlvbmVkU3R5bGUoc3R5bGUsICdwYWRkaW5nJyk7XG4gICAgY29uc3QgYm9yZGVycyA9IGdldFBvc2l0aW9uZWRTdHlsZShzdHlsZSwgJ2JvcmRlcicsICd3aWR0aCcpO1xuICAgIGNvbnN0IHsgeCAsIHkgLCBib3ggIH0gPSBnZXRDYW52YXNQb3NpdGlvbihldmVudCwgY2FudmFzKTtcbiAgICBjb25zdCB4T2Zmc2V0ID0gcGFkZGluZ3MubGVmdCArIChib3ggJiYgYm9yZGVycy5sZWZ0KTtcbiAgICBjb25zdCB5T2Zmc2V0ID0gcGFkZGluZ3MudG9wICsgKGJveCAmJiBib3JkZXJzLnRvcCk7XG4gICAgbGV0IHsgd2lkdGggLCBoZWlnaHQgIH0gPSBjaGFydDtcbiAgICBpZiAoYm9yZGVyQm94KSB7XG4gICAgICAgIHdpZHRoIC09IHBhZGRpbmdzLndpZHRoICsgYm9yZGVycy53aWR0aDtcbiAgICAgICAgaGVpZ2h0IC09IHBhZGRpbmdzLmhlaWdodCArIGJvcmRlcnMuaGVpZ2h0O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICB4OiBNYXRoLnJvdW5kKCh4IC0geE9mZnNldCkgLyB3aWR0aCAqIGNhbnZhcy53aWR0aCAvIGN1cnJlbnREZXZpY2VQaXhlbFJhdGlvKSxcbiAgICAgICAgeTogTWF0aC5yb3VuZCgoeSAtIHlPZmZzZXQpIC8gaGVpZ2h0ICogY2FudmFzLmhlaWdodCAvIGN1cnJlbnREZXZpY2VQaXhlbFJhdGlvKVxuICAgIH07XG59XG5mdW5jdGlvbiBnZXRDb250YWluZXJTaXplKGNhbnZhcywgd2lkdGgsIGhlaWdodCkge1xuICAgIGxldCBtYXhXaWR0aCwgbWF4SGVpZ2h0O1xuICAgIGlmICh3aWR0aCA9PT0gdW5kZWZpbmVkIHx8IGhlaWdodCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGNhbnZhcyAmJiBfZ2V0UGFyZW50Tm9kZShjYW52YXMpO1xuICAgICAgICBpZiAoIWNvbnRhaW5lcikge1xuICAgICAgICAgICAgd2lkdGggPSBjYW52YXMuY2xpZW50V2lkdGg7XG4gICAgICAgICAgICBoZWlnaHQgPSBjYW52YXMuY2xpZW50SGVpZ2h0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcmVjdCA9IGNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsgLy8gdGhpcyBpcyB0aGUgYm9yZGVyIGJveCBvZiB0aGUgY29udGFpbmVyXG4gICAgICAgICAgICBjb25zdCBjb250YWluZXJTdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoY29udGFpbmVyKTtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lckJvcmRlciA9IGdldFBvc2l0aW9uZWRTdHlsZShjb250YWluZXJTdHlsZSwgJ2JvcmRlcicsICd3aWR0aCcpO1xuICAgICAgICAgICAgY29uc3QgY29udGFpbmVyUGFkZGluZyA9IGdldFBvc2l0aW9uZWRTdHlsZShjb250YWluZXJTdHlsZSwgJ3BhZGRpbmcnKTtcbiAgICAgICAgICAgIHdpZHRoID0gcmVjdC53aWR0aCAtIGNvbnRhaW5lclBhZGRpbmcud2lkdGggLSBjb250YWluZXJCb3JkZXIud2lkdGg7XG4gICAgICAgICAgICBoZWlnaHQgPSByZWN0LmhlaWdodCAtIGNvbnRhaW5lclBhZGRpbmcuaGVpZ2h0IC0gY29udGFpbmVyQm9yZGVyLmhlaWdodDtcbiAgICAgICAgICAgIG1heFdpZHRoID0gcGFyc2VNYXhTdHlsZShjb250YWluZXJTdHlsZS5tYXhXaWR0aCwgY29udGFpbmVyLCAnY2xpZW50V2lkdGgnKTtcbiAgICAgICAgICAgIG1heEhlaWdodCA9IHBhcnNlTWF4U3R5bGUoY29udGFpbmVyU3R5bGUubWF4SGVpZ2h0LCBjb250YWluZXIsICdjbGllbnRIZWlnaHQnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICB3aWR0aCxcbiAgICAgICAgaGVpZ2h0LFxuICAgICAgICBtYXhXaWR0aDogbWF4V2lkdGggfHwgSU5GSU5JVFksXG4gICAgICAgIG1heEhlaWdodDogbWF4SGVpZ2h0IHx8IElORklOSVRZXG4gICAgfTtcbn1cbmNvbnN0IHJvdW5kMSA9ICh2KT0+TWF0aC5yb3VuZCh2ICogMTApIC8gMTA7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29tcGxleGl0eVxuZnVuY3Rpb24gZ2V0TWF4aW11bVNpemUoY2FudmFzLCBiYldpZHRoLCBiYkhlaWdodCwgYXNwZWN0UmF0aW8pIHtcbiAgICBjb25zdCBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoY2FudmFzKTtcbiAgICBjb25zdCBtYXJnaW5zID0gZ2V0UG9zaXRpb25lZFN0eWxlKHN0eWxlLCAnbWFyZ2luJyk7XG4gICAgY29uc3QgbWF4V2lkdGggPSBwYXJzZU1heFN0eWxlKHN0eWxlLm1heFdpZHRoLCBjYW52YXMsICdjbGllbnRXaWR0aCcpIHx8IElORklOSVRZO1xuICAgIGNvbnN0IG1heEhlaWdodCA9IHBhcnNlTWF4U3R5bGUoc3R5bGUubWF4SGVpZ2h0LCBjYW52YXMsICdjbGllbnRIZWlnaHQnKSB8fCBJTkZJTklUWTtcbiAgICBjb25zdCBjb250YWluZXJTaXplID0gZ2V0Q29udGFpbmVyU2l6ZShjYW52YXMsIGJiV2lkdGgsIGJiSGVpZ2h0KTtcbiAgICBsZXQgeyB3aWR0aCAsIGhlaWdodCAgfSA9IGNvbnRhaW5lclNpemU7XG4gICAgaWYgKHN0eWxlLmJveFNpemluZyA9PT0gJ2NvbnRlbnQtYm94Jykge1xuICAgICAgICBjb25zdCBib3JkZXJzID0gZ2V0UG9zaXRpb25lZFN0eWxlKHN0eWxlLCAnYm9yZGVyJywgJ3dpZHRoJyk7XG4gICAgICAgIGNvbnN0IHBhZGRpbmdzID0gZ2V0UG9zaXRpb25lZFN0eWxlKHN0eWxlLCAncGFkZGluZycpO1xuICAgICAgICB3aWR0aCAtPSBwYWRkaW5ncy53aWR0aCArIGJvcmRlcnMud2lkdGg7XG4gICAgICAgIGhlaWdodCAtPSBwYWRkaW5ncy5oZWlnaHQgKyBib3JkZXJzLmhlaWdodDtcbiAgICB9XG4gICAgd2lkdGggPSBNYXRoLm1heCgwLCB3aWR0aCAtIG1hcmdpbnMud2lkdGgpO1xuICAgIGhlaWdodCA9IE1hdGgubWF4KDAsIGFzcGVjdFJhdGlvID8gd2lkdGggLyBhc3BlY3RSYXRpbyA6IGhlaWdodCAtIG1hcmdpbnMuaGVpZ2h0KTtcbiAgICB3aWR0aCA9IHJvdW5kMShNYXRoLm1pbih3aWR0aCwgbWF4V2lkdGgsIGNvbnRhaW5lclNpemUubWF4V2lkdGgpKTtcbiAgICBoZWlnaHQgPSByb3VuZDEoTWF0aC5taW4oaGVpZ2h0LCBtYXhIZWlnaHQsIGNvbnRhaW5lclNpemUubWF4SGVpZ2h0KSk7XG4gICAgaWYgKHdpZHRoICYmICFoZWlnaHQpIHtcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2NoYXJ0anMvQ2hhcnQuanMvaXNzdWVzLzQ2NTlcbiAgICAgICAgLy8gSWYgdGhlIGNhbnZhcyBoYXMgd2lkdGgsIGJ1dCBubyBoZWlnaHQsIGRlZmF1bHQgdG8gYXNwZWN0UmF0aW8gb2YgMiAoY2FudmFzIGRlZmF1bHQpXG4gICAgICAgIGhlaWdodCA9IHJvdW5kMSh3aWR0aCAvIDIpO1xuICAgIH1cbiAgICBjb25zdCBtYWludGFpbkhlaWdodCA9IGJiV2lkdGggIT09IHVuZGVmaW5lZCB8fCBiYkhlaWdodCAhPT0gdW5kZWZpbmVkO1xuICAgIGlmIChtYWludGFpbkhlaWdodCAmJiBhc3BlY3RSYXRpbyAmJiBjb250YWluZXJTaXplLmhlaWdodCAmJiBoZWlnaHQgPiBjb250YWluZXJTaXplLmhlaWdodCkge1xuICAgICAgICBoZWlnaHQgPSBjb250YWluZXJTaXplLmhlaWdodDtcbiAgICAgICAgd2lkdGggPSByb3VuZDEoTWF0aC5mbG9vcihoZWlnaHQgKiBhc3BlY3RSYXRpbykpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICB3aWR0aCxcbiAgICAgICAgaGVpZ2h0XG4gICAgfTtcbn1cbi8qKlxuICogQHBhcmFtIGNoYXJ0XG4gKiBAcGFyYW0gZm9yY2VSYXRpb1xuICogQHBhcmFtIGZvcmNlU3R5bGVcbiAqIEByZXR1cm5zIFRydWUgaWYgdGhlIGNhbnZhcyBjb250ZXh0IHNpemUgb3IgdHJhbnNmb3JtYXRpb24gaGFzIGNoYW5nZWQuXG4gKi8gZnVuY3Rpb24gcmV0aW5hU2NhbGUoY2hhcnQsIGZvcmNlUmF0aW8sIGZvcmNlU3R5bGUpIHtcbiAgICBjb25zdCBwaXhlbFJhdGlvID0gZm9yY2VSYXRpbyB8fCAxO1xuICAgIGNvbnN0IGRldmljZUhlaWdodCA9IE1hdGguZmxvb3IoY2hhcnQuaGVpZ2h0ICogcGl4ZWxSYXRpbyk7XG4gICAgY29uc3QgZGV2aWNlV2lkdGggPSBNYXRoLmZsb29yKGNoYXJ0LndpZHRoICogcGl4ZWxSYXRpbyk7XG4gICAgY2hhcnQuaGVpZ2h0ID0gTWF0aC5mbG9vcihjaGFydC5oZWlnaHQpO1xuICAgIGNoYXJ0LndpZHRoID0gTWF0aC5mbG9vcihjaGFydC53aWR0aCk7XG4gICAgY29uc3QgY2FudmFzID0gY2hhcnQuY2FudmFzO1xuICAgIC8vIElmIG5vIHN0eWxlIGhhcyBiZWVuIHNldCBvbiB0aGUgY2FudmFzLCB0aGUgcmVuZGVyIHNpemUgaXMgdXNlZCBhcyBkaXNwbGF5IHNpemUsXG4gICAgLy8gbWFraW5nIHRoZSBjaGFydCB2aXN1YWxseSBiaWdnZXIsIHNvIGxldCdzIGVuZm9yY2UgaXQgdG8gdGhlIFwiY29ycmVjdFwiIHZhbHVlcy5cbiAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2NoYXJ0anMvQ2hhcnQuanMvaXNzdWVzLzM1NzVcbiAgICBpZiAoY2FudmFzLnN0eWxlICYmIChmb3JjZVN0eWxlIHx8ICFjYW52YXMuc3R5bGUuaGVpZ2h0ICYmICFjYW52YXMuc3R5bGUud2lkdGgpKSB7XG4gICAgICAgIGNhbnZhcy5zdHlsZS5oZWlnaHQgPSBgJHtjaGFydC5oZWlnaHR9cHhgO1xuICAgICAgICBjYW52YXMuc3R5bGUud2lkdGggPSBgJHtjaGFydC53aWR0aH1weGA7XG4gICAgfVxuICAgIGlmIChjaGFydC5jdXJyZW50RGV2aWNlUGl4ZWxSYXRpbyAhPT0gcGl4ZWxSYXRpbyB8fCBjYW52YXMuaGVpZ2h0ICE9PSBkZXZpY2VIZWlnaHQgfHwgY2FudmFzLndpZHRoICE9PSBkZXZpY2VXaWR0aCkge1xuICAgICAgICBjaGFydC5jdXJyZW50RGV2aWNlUGl4ZWxSYXRpbyA9IHBpeGVsUmF0aW87XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSBkZXZpY2VIZWlnaHQ7XG4gICAgICAgIGNhbnZhcy53aWR0aCA9IGRldmljZVdpZHRoO1xuICAgICAgICBjaGFydC5jdHguc2V0VHJhbnNmb3JtKHBpeGVsUmF0aW8sIDAsIDAsIHBpeGVsUmF0aW8sIDAsIDApO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuLyoqXG4gKiBEZXRlY3RzIHN1cHBvcnQgZm9yIG9wdGlvbnMgb2JqZWN0IGFyZ3VtZW50IGluIGFkZEV2ZW50TGlzdGVuZXIuXG4gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvRXZlbnRUYXJnZXQvYWRkRXZlbnRMaXN0ZW5lciNTYWZlbHlfZGV0ZWN0aW5nX29wdGlvbl9zdXBwb3J0XG4gKiBAcHJpdmF0ZVxuICovIGNvbnN0IHN1cHBvcnRzRXZlbnRMaXN0ZW5lck9wdGlvbnMgPSBmdW5jdGlvbigpIHtcbiAgICBsZXQgcGFzc2l2ZVN1cHBvcnRlZCA9IGZhbHNlO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgICAgICBnZXQgcGFzc2l2ZSAoKSB7XG4gICAgICAgICAgICAgICAgcGFzc2l2ZVN1cHBvcnRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBpZiAoX2lzRG9tU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0ZXN0JywgbnVsbCwgb3B0aW9ucyk7XG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigndGVzdCcsIG51bGwsIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgIC8vIGNvbnRpbnVlIHJlZ2FyZGxlc3Mgb2YgZXJyb3JcbiAgICB9XG4gICAgcmV0dXJuIHBhc3NpdmVTdXBwb3J0ZWQ7XG59KCk7XG4vKipcbiAqIFRoZSBcInVzZWRcIiBzaXplIGlzIHRoZSBmaW5hbCB2YWx1ZSBvZiBhIGRpbWVuc2lvbiBwcm9wZXJ0eSBhZnRlciBhbGwgY2FsY3VsYXRpb25zIGhhdmVcbiAqIGJlZW4gcGVyZm9ybWVkLiBUaGlzIG1ldGhvZCB1c2VzIHRoZSBjb21wdXRlZCBzdHlsZSBvZiBgZWxlbWVudGAgYnV0IHJldHVybnMgdW5kZWZpbmVkXG4gKiBpZiB0aGUgY29tcHV0ZWQgc3R5bGUgaXMgbm90IGV4cHJlc3NlZCBpbiBwaXhlbHMuIFRoYXQgY2FuIGhhcHBlbiBpbiBzb21lIGNhc2VzIHdoZXJlXG4gKiBgZWxlbWVudGAgaGFzIGEgc2l6ZSByZWxhdGl2ZSB0byBpdHMgcGFyZW50IGFuZCB0aGlzIGxhc3Qgb25lIGlzIG5vdCB5ZXQgZGlzcGxheWVkLFxuICogZm9yIGV4YW1wbGUgYmVjYXVzZSBvZiBgZGlzcGxheTogbm9uZWAgb24gYSBwYXJlbnQgbm9kZS5cbiAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQ1NTL3VzZWRfdmFsdWVcbiAqIEByZXR1cm5zIFNpemUgaW4gcGl4ZWxzIG9yIHVuZGVmaW5lZCBpZiB1bmtub3duLlxuICovIGZ1bmN0aW9uIHJlYWRVc2VkU2l6ZShlbGVtZW50LCBwcm9wZXJ0eSkge1xuICAgIGNvbnN0IHZhbHVlID0gZ2V0U3R5bGUoZWxlbWVudCwgcHJvcGVydHkpO1xuICAgIGNvbnN0IG1hdGNoZXMgPSB2YWx1ZSAmJiB2YWx1ZS5tYXRjaCgvXihcXGQrKShcXC5cXGQrKT9weCQvKTtcbiAgICByZXR1cm4gbWF0Y2hlcyA/ICttYXRjaGVzWzFdIDogdW5kZWZpbmVkO1xufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKi8gZnVuY3Rpb24gX3BvaW50SW5MaW5lKHAxLCBwMiwgdCwgbW9kZSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHg6IHAxLnggKyB0ICogKHAyLnggLSBwMS54KSxcbiAgICAgICAgeTogcDEueSArIHQgKiAocDIueSAtIHAxLnkpXG4gICAgfTtcbn1cbi8qKlxuICogQHByaXZhdGVcbiAqLyBmdW5jdGlvbiBfc3RlcHBlZEludGVycG9sYXRpb24ocDEsIHAyLCB0LCBtb2RlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgeDogcDEueCArIHQgKiAocDIueCAtIHAxLngpLFxuICAgICAgICB5OiBtb2RlID09PSAnbWlkZGxlJyA/IHQgPCAwLjUgPyBwMS55IDogcDIueSA6IG1vZGUgPT09ICdhZnRlcicgPyB0IDwgMSA/IHAxLnkgOiBwMi55IDogdCA+IDAgPyBwMi55IDogcDEueVxuICAgIH07XG59XG4vKipcbiAqIEBwcml2YXRlXG4gKi8gZnVuY3Rpb24gX2JlemllckludGVycG9sYXRpb24ocDEsIHAyLCB0LCBtb2RlKSB7XG4gICAgY29uc3QgY3AxID0ge1xuICAgICAgICB4OiBwMS5jcDJ4LFxuICAgICAgICB5OiBwMS5jcDJ5XG4gICAgfTtcbiAgICBjb25zdCBjcDIgPSB7XG4gICAgICAgIHg6IHAyLmNwMXgsXG4gICAgICAgIHk6IHAyLmNwMXlcbiAgICB9O1xuICAgIGNvbnN0IGEgPSBfcG9pbnRJbkxpbmUocDEsIGNwMSwgdCk7XG4gICAgY29uc3QgYiA9IF9wb2ludEluTGluZShjcDEsIGNwMiwgdCk7XG4gICAgY29uc3QgYyA9IF9wb2ludEluTGluZShjcDIsIHAyLCB0KTtcbiAgICBjb25zdCBkID0gX3BvaW50SW5MaW5lKGEsIGIsIHQpO1xuICAgIGNvbnN0IGUgPSBfcG9pbnRJbkxpbmUoYiwgYywgdCk7XG4gICAgcmV0dXJuIF9wb2ludEluTGluZShkLCBlLCB0KTtcbn1cblxuY29uc3QgZ2V0UmlnaHRUb0xlZnRBZGFwdGVyID0gZnVuY3Rpb24ocmVjdFgsIHdpZHRoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgeCAoeCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlY3RYICsgcmVjdFggKyB3aWR0aCAtIHg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldFdpZHRoICh3KSB7XG4gICAgICAgICAgICB3aWR0aCA9IHc7XG4gICAgICAgIH0sXG4gICAgICAgIHRleHRBbGlnbiAoYWxpZ24pIHtcbiAgICAgICAgICAgIGlmIChhbGlnbiA9PT0gJ2NlbnRlcicpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYWxpZ247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYWxpZ24gPT09ICdyaWdodCcgPyAnbGVmdCcgOiAncmlnaHQnO1xuICAgICAgICB9LFxuICAgICAgICB4UGx1cyAoeCwgdmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiB4IC0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGxlZnRGb3JMdHIgKHgsIGl0ZW1XaWR0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHggLSBpdGVtV2lkdGg7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmNvbnN0IGdldExlZnRUb1JpZ2h0QWRhcHRlciA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHggKHgpIHtcbiAgICAgICAgICAgIHJldHVybiB4O1xuICAgICAgICB9LFxuICAgICAgICBzZXRXaWR0aCAodykge30sXG4gICAgICAgIHRleHRBbGlnbiAoYWxpZ24pIHtcbiAgICAgICAgICAgIHJldHVybiBhbGlnbjtcbiAgICAgICAgfSxcbiAgICAgICAgeFBsdXMgKHgsIHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4geCArIHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBsZWZ0Rm9yTHRyICh4LCBfaXRlbVdpZHRoKSB7XG4gICAgICAgICAgICByZXR1cm4geDtcbiAgICAgICAgfVxuICAgIH07XG59O1xuZnVuY3Rpb24gZ2V0UnRsQWRhcHRlcihydGwsIHJlY3RYLCB3aWR0aCkge1xuICAgIHJldHVybiBydGwgPyBnZXRSaWdodFRvTGVmdEFkYXB0ZXIocmVjdFgsIHdpZHRoKSA6IGdldExlZnRUb1JpZ2h0QWRhcHRlcigpO1xufVxuZnVuY3Rpb24gb3ZlcnJpZGVUZXh0RGlyZWN0aW9uKGN0eCwgZGlyZWN0aW9uKSB7XG4gICAgbGV0IHN0eWxlLCBvcmlnaW5hbDtcbiAgICBpZiAoZGlyZWN0aW9uID09PSAnbHRyJyB8fCBkaXJlY3Rpb24gPT09ICdydGwnKSB7XG4gICAgICAgIHN0eWxlID0gY3R4LmNhbnZhcy5zdHlsZTtcbiAgICAgICAgb3JpZ2luYWwgPSBbXG4gICAgICAgICAgICBzdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCdkaXJlY3Rpb24nKSxcbiAgICAgICAgICAgIHN0eWxlLmdldFByb3BlcnR5UHJpb3JpdHkoJ2RpcmVjdGlvbicpXG4gICAgICAgIF07XG4gICAgICAgIHN0eWxlLnNldFByb3BlcnR5KCdkaXJlY3Rpb24nLCBkaXJlY3Rpb24sICdpbXBvcnRhbnQnKTtcbiAgICAgICAgY3R4LnByZXZUZXh0RGlyZWN0aW9uID0gb3JpZ2luYWw7XG4gICAgfVxufVxuZnVuY3Rpb24gcmVzdG9yZVRleHREaXJlY3Rpb24oY3R4LCBvcmlnaW5hbCkge1xuICAgIGlmIChvcmlnaW5hbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGRlbGV0ZSBjdHgucHJldlRleHREaXJlY3Rpb247XG4gICAgICAgIGN0eC5jYW52YXMuc3R5bGUuc2V0UHJvcGVydHkoJ2RpcmVjdGlvbicsIG9yaWdpbmFsWzBdLCBvcmlnaW5hbFsxXSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBwcm9wZXJ0eUZuKHByb3BlcnR5KSB7XG4gICAgaWYgKHByb3BlcnR5ID09PSAnYW5nbGUnKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBiZXR3ZWVuOiBfYW5nbGVCZXR3ZWVuLFxuICAgICAgICAgICAgY29tcGFyZTogX2FuZ2xlRGlmZixcbiAgICAgICAgICAgIG5vcm1hbGl6ZTogX25vcm1hbGl6ZUFuZ2xlXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGJldHdlZW46IF9pc0JldHdlZW4sXG4gICAgICAgIGNvbXBhcmU6IChhLCBiKT0+YSAtIGIsXG4gICAgICAgIG5vcm1hbGl6ZTogKHgpPT54XG4gICAgfTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZVNlZ21lbnQoeyBzdGFydCAsIGVuZCAsIGNvdW50ICwgbG9vcCAsIHN0eWxlICB9KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3RhcnQ6IHN0YXJ0ICUgY291bnQsXG4gICAgICAgIGVuZDogZW5kICUgY291bnQsXG4gICAgICAgIGxvb3A6IGxvb3AgJiYgKGVuZCAtIHN0YXJ0ICsgMSkgJSBjb3VudCA9PT0gMCxcbiAgICAgICAgc3R5bGVcbiAgICB9O1xufVxuZnVuY3Rpb24gZ2V0U2VnbWVudChzZWdtZW50LCBwb2ludHMsIGJvdW5kcykge1xuICAgIGNvbnN0IHsgcHJvcGVydHkgLCBzdGFydDogc3RhcnRCb3VuZCAsIGVuZDogZW5kQm91bmQgIH0gPSBib3VuZHM7XG4gICAgY29uc3QgeyBiZXR3ZWVuICwgbm9ybWFsaXplICB9ID0gcHJvcGVydHlGbihwcm9wZXJ0eSk7XG4gICAgY29uc3QgY291bnQgPSBwb2ludHMubGVuZ3RoO1xuICAgIGxldCB7IHN0YXJ0ICwgZW5kICwgbG9vcCAgfSA9IHNlZ21lbnQ7XG4gICAgbGV0IGksIGlsZW47XG4gICAgaWYgKGxvb3ApIHtcbiAgICAgICAgc3RhcnQgKz0gY291bnQ7XG4gICAgICAgIGVuZCArPSBjb3VudDtcbiAgICAgICAgZm9yKGkgPSAwLCBpbGVuID0gY291bnQ7IGkgPCBpbGVuOyArK2kpe1xuICAgICAgICAgICAgaWYgKCFiZXR3ZWVuKG5vcm1hbGl6ZShwb2ludHNbc3RhcnQgJSBjb3VudF1bcHJvcGVydHldKSwgc3RhcnRCb3VuZCwgZW5kQm91bmQpKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdGFydC0tO1xuICAgICAgICAgICAgZW5kLS07XG4gICAgICAgIH1cbiAgICAgICAgc3RhcnQgJT0gY291bnQ7XG4gICAgICAgIGVuZCAlPSBjb3VudDtcbiAgICB9XG4gICAgaWYgKGVuZCA8IHN0YXJ0KSB7XG4gICAgICAgIGVuZCArPSBjb3VudDtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3RhcnQsXG4gICAgICAgIGVuZCxcbiAgICAgICAgbG9vcCxcbiAgICAgICAgc3R5bGU6IHNlZ21lbnQuc3R5bGVcbiAgICB9O1xufVxuIGZ1bmN0aW9uIF9ib3VuZFNlZ21lbnQoc2VnbWVudCwgcG9pbnRzLCBib3VuZHMpIHtcbiAgICBpZiAoIWJvdW5kcykge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgc2VnbWVudFxuICAgICAgICBdO1xuICAgIH1cbiAgICBjb25zdCB7IHByb3BlcnR5ICwgc3RhcnQ6IHN0YXJ0Qm91bmQgLCBlbmQ6IGVuZEJvdW5kICB9ID0gYm91bmRzO1xuICAgIGNvbnN0IGNvdW50ID0gcG9pbnRzLmxlbmd0aDtcbiAgICBjb25zdCB7IGNvbXBhcmUgLCBiZXR3ZWVuICwgbm9ybWFsaXplICB9ID0gcHJvcGVydHlGbihwcm9wZXJ0eSk7XG4gICAgY29uc3QgeyBzdGFydCAsIGVuZCAsIGxvb3AgLCBzdHlsZSAgfSA9IGdldFNlZ21lbnQoc2VnbWVudCwgcG9pbnRzLCBib3VuZHMpO1xuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgIGxldCBpbnNpZGUgPSBmYWxzZTtcbiAgICBsZXQgc3ViU3RhcnQgPSBudWxsO1xuICAgIGxldCB2YWx1ZSwgcG9pbnQsIHByZXZWYWx1ZTtcbiAgICBjb25zdCBzdGFydElzQmVmb3JlID0gKCk9PmJldHdlZW4oc3RhcnRCb3VuZCwgcHJldlZhbHVlLCB2YWx1ZSkgJiYgY29tcGFyZShzdGFydEJvdW5kLCBwcmV2VmFsdWUpICE9PSAwO1xuICAgIGNvbnN0IGVuZElzQmVmb3JlID0gKCk9PmNvbXBhcmUoZW5kQm91bmQsIHZhbHVlKSA9PT0gMCB8fCBiZXR3ZWVuKGVuZEJvdW5kLCBwcmV2VmFsdWUsIHZhbHVlKTtcbiAgICBjb25zdCBzaG91bGRTdGFydCA9ICgpPT5pbnNpZGUgfHwgc3RhcnRJc0JlZm9yZSgpO1xuICAgIGNvbnN0IHNob3VsZFN0b3AgPSAoKT0+IWluc2lkZSB8fCBlbmRJc0JlZm9yZSgpO1xuICAgIGZvcihsZXQgaSA9IHN0YXJ0LCBwcmV2ID0gc3RhcnQ7IGkgPD0gZW5kOyArK2kpe1xuICAgICAgICBwb2ludCA9IHBvaW50c1tpICUgY291bnRdO1xuICAgICAgICBpZiAocG9pbnQuc2tpcCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFsdWUgPSBub3JtYWxpemUocG9pbnRbcHJvcGVydHldKTtcbiAgICAgICAgaWYgKHZhbHVlID09PSBwcmV2VmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGluc2lkZSA9IGJldHdlZW4odmFsdWUsIHN0YXJ0Qm91bmQsIGVuZEJvdW5kKTtcbiAgICAgICAgaWYgKHN1YlN0YXJ0ID09PSBudWxsICYmIHNob3VsZFN0YXJ0KCkpIHtcbiAgICAgICAgICAgIHN1YlN0YXJ0ID0gY29tcGFyZSh2YWx1ZSwgc3RhcnRCb3VuZCkgPT09IDAgPyBpIDogcHJldjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3ViU3RhcnQgIT09IG51bGwgJiYgc2hvdWxkU3RvcCgpKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChub3JtYWxpemVTZWdtZW50KHtcbiAgICAgICAgICAgICAgICBzdGFydDogc3ViU3RhcnQsXG4gICAgICAgICAgICAgICAgZW5kOiBpLFxuICAgICAgICAgICAgICAgIGxvb3AsXG4gICAgICAgICAgICAgICAgY291bnQsXG4gICAgICAgICAgICAgICAgc3R5bGVcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIHN1YlN0YXJ0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBwcmV2ID0gaTtcbiAgICAgICAgcHJldlZhbHVlID0gdmFsdWU7XG4gICAgfVxuICAgIGlmIChzdWJTdGFydCAhPT0gbnVsbCkge1xuICAgICAgICByZXN1bHQucHVzaChub3JtYWxpemVTZWdtZW50KHtcbiAgICAgICAgICAgIHN0YXJ0OiBzdWJTdGFydCxcbiAgICAgICAgICAgIGVuZCxcbiAgICAgICAgICAgIGxvb3AsXG4gICAgICAgICAgICBjb3VudCxcbiAgICAgICAgICAgIHN0eWxlXG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbiBmdW5jdGlvbiBfYm91bmRTZWdtZW50cyhsaW5lLCBib3VuZHMpIHtcbiAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICBjb25zdCBzZWdtZW50cyA9IGxpbmUuc2VnbWVudHM7XG4gICAgZm9yKGxldCBpID0gMDsgaSA8IHNlZ21lbnRzLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgY29uc3Qgc3ViID0gX2JvdW5kU2VnbWVudChzZWdtZW50c1tpXSwgbGluZS5wb2ludHMsIGJvdW5kcyk7XG4gICAgICAgIGlmIChzdWIubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaCguLi5zdWIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG4gZnVuY3Rpb24gZmluZFN0YXJ0QW5kRW5kKHBvaW50cywgY291bnQsIGxvb3AsIHNwYW5HYXBzKSB7XG4gICAgbGV0IHN0YXJ0ID0gMDtcbiAgICBsZXQgZW5kID0gY291bnQgLSAxO1xuICAgIGlmIChsb29wICYmICFzcGFuR2Fwcykge1xuICAgICAgICB3aGlsZShzdGFydCA8IGNvdW50ICYmICFwb2ludHNbc3RhcnRdLnNraXApe1xuICAgICAgICAgICAgc3RhcnQrKztcbiAgICAgICAgfVxuICAgIH1cbiAgICB3aGlsZShzdGFydCA8IGNvdW50ICYmIHBvaW50c1tzdGFydF0uc2tpcCl7XG4gICAgICAgIHN0YXJ0Kys7XG4gICAgfVxuICAgIHN0YXJ0ICU9IGNvdW50O1xuICAgIGlmIChsb29wKSB7XG4gICAgICAgIGVuZCArPSBzdGFydDtcbiAgICB9XG4gICAgd2hpbGUoZW5kID4gc3RhcnQgJiYgcG9pbnRzW2VuZCAlIGNvdW50XS5za2lwKXtcbiAgICAgICAgZW5kLS07XG4gICAgfVxuICAgIGVuZCAlPSBjb3VudDtcbiAgICByZXR1cm4ge1xuICAgICAgICBzdGFydCxcbiAgICAgICAgZW5kXG4gICAgfTtcbn1cbiBmdW5jdGlvbiBzb2xpZFNlZ21lbnRzKHBvaW50cywgc3RhcnQsIG1heCwgbG9vcCkge1xuICAgIGNvbnN0IGNvdW50ID0gcG9pbnRzLmxlbmd0aDtcbiAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICBsZXQgbGFzdCA9IHN0YXJ0O1xuICAgIGxldCBwcmV2ID0gcG9pbnRzW3N0YXJ0XTtcbiAgICBsZXQgZW5kO1xuICAgIGZvcihlbmQgPSBzdGFydCArIDE7IGVuZCA8PSBtYXg7ICsrZW5kKXtcbiAgICAgICAgY29uc3QgY3VyID0gcG9pbnRzW2VuZCAlIGNvdW50XTtcbiAgICAgICAgaWYgKGN1ci5za2lwIHx8IGN1ci5zdG9wKSB7XG4gICAgICAgICAgICBpZiAoIXByZXYuc2tpcCkge1xuICAgICAgICAgICAgICAgIGxvb3AgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBzdGFydCAlIGNvdW50LFxuICAgICAgICAgICAgICAgICAgICBlbmQ6IChlbmQgLSAxKSAlIGNvdW50LFxuICAgICAgICAgICAgICAgICAgICBsb29wXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgc3RhcnQgPSBsYXN0ID0gY3VyLnN0b3AgPyBlbmQgOiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGFzdCA9IGVuZDtcbiAgICAgICAgICAgIGlmIChwcmV2LnNraXApIHtcbiAgICAgICAgICAgICAgICBzdGFydCA9IGVuZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwcmV2ID0gY3VyO1xuICAgIH1cbiAgICBpZiAobGFzdCAhPT0gbnVsbCkge1xuICAgICAgICByZXN1bHQucHVzaCh7XG4gICAgICAgICAgICBzdGFydDogc3RhcnQgJSBjb3VudCxcbiAgICAgICAgICAgIGVuZDogbGFzdCAlIGNvdW50LFxuICAgICAgICAgICAgbG9vcFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbiBmdW5jdGlvbiBfY29tcHV0ZVNlZ21lbnRzKGxpbmUsIHNlZ21lbnRPcHRpb25zKSB7XG4gICAgY29uc3QgcG9pbnRzID0gbGluZS5wb2ludHM7XG4gICAgY29uc3Qgc3BhbkdhcHMgPSBsaW5lLm9wdGlvbnMuc3BhbkdhcHM7XG4gICAgY29uc3QgY291bnQgPSBwb2ludHMubGVuZ3RoO1xuICAgIGlmICghY291bnQpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBjb25zdCBsb29wID0gISFsaW5lLl9sb29wO1xuICAgIGNvbnN0IHsgc3RhcnQgLCBlbmQgIH0gPSBmaW5kU3RhcnRBbmRFbmQocG9pbnRzLCBjb3VudCwgbG9vcCwgc3BhbkdhcHMpO1xuICAgIGlmIChzcGFuR2FwcyA9PT0gdHJ1ZSkge1xuICAgICAgICByZXR1cm4gc3BsaXRCeVN0eWxlcyhsaW5lLCBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhcnQsXG4gICAgICAgICAgICAgICAgZW5kLFxuICAgICAgICAgICAgICAgIGxvb3BcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSwgcG9pbnRzLCBzZWdtZW50T3B0aW9ucyk7XG4gICAgfVxuICAgIGNvbnN0IG1heCA9IGVuZCA8IHN0YXJ0ID8gZW5kICsgY291bnQgOiBlbmQ7XG4gICAgY29uc3QgY29tcGxldGVMb29wID0gISFsaW5lLl9mdWxsTG9vcCAmJiBzdGFydCA9PT0gMCAmJiBlbmQgPT09IGNvdW50IC0gMTtcbiAgICByZXR1cm4gc3BsaXRCeVN0eWxlcyhsaW5lLCBzb2xpZFNlZ21lbnRzKHBvaW50cywgc3RhcnQsIG1heCwgY29tcGxldGVMb29wKSwgcG9pbnRzLCBzZWdtZW50T3B0aW9ucyk7XG59XG4gZnVuY3Rpb24gc3BsaXRCeVN0eWxlcyhsaW5lLCBzZWdtZW50cywgcG9pbnRzLCBzZWdtZW50T3B0aW9ucykge1xuICAgIGlmICghc2VnbWVudE9wdGlvbnMgfHwgIXNlZ21lbnRPcHRpb25zLnNldENvbnRleHQgfHwgIXBvaW50cykge1xuICAgICAgICByZXR1cm4gc2VnbWVudHM7XG4gICAgfVxuICAgIHJldHVybiBkb1NwbGl0QnlTdHlsZXMobGluZSwgc2VnbWVudHMsIHBvaW50cywgc2VnbWVudE9wdGlvbnMpO1xufVxuIGZ1bmN0aW9uIGRvU3BsaXRCeVN0eWxlcyhsaW5lLCBzZWdtZW50cywgcG9pbnRzLCBzZWdtZW50T3B0aW9ucykge1xuICAgIGNvbnN0IGNoYXJ0Q29udGV4dCA9IGxpbmUuX2NoYXJ0LmdldENvbnRleHQoKTtcbiAgICBjb25zdCBiYXNlU3R5bGUgPSByZWFkU3R5bGUobGluZS5vcHRpb25zKTtcbiAgICBjb25zdCB7IF9kYXRhc2V0SW5kZXg6IGRhdGFzZXRJbmRleCAsIG9wdGlvbnM6IHsgc3BhbkdhcHMgIH0gIH0gPSBsaW5lO1xuICAgIGNvbnN0IGNvdW50ID0gcG9pbnRzLmxlbmd0aDtcbiAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICBsZXQgcHJldlN0eWxlID0gYmFzZVN0eWxlO1xuICAgIGxldCBzdGFydCA9IHNlZ21lbnRzWzBdLnN0YXJ0O1xuICAgIGxldCBpID0gc3RhcnQ7XG4gICAgZnVuY3Rpb24gYWRkU3R5bGUocywgZSwgbCwgc3QpIHtcbiAgICAgICAgY29uc3QgZGlyID0gc3BhbkdhcHMgPyAtMSA6IDE7XG4gICAgICAgIGlmIChzID09PSBlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcyArPSBjb3VudDtcbiAgICAgICAgd2hpbGUocG9pbnRzW3MgJSBjb3VudF0uc2tpcCl7XG4gICAgICAgICAgICBzIC09IGRpcjtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZShwb2ludHNbZSAlIGNvdW50XS5za2lwKXtcbiAgICAgICAgICAgIGUgKz0gZGlyO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzICUgY291bnQgIT09IGUgJSBjb3VudCkge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goe1xuICAgICAgICAgICAgICAgIHN0YXJ0OiBzICUgY291bnQsXG4gICAgICAgICAgICAgICAgZW5kOiBlICUgY291bnQsXG4gICAgICAgICAgICAgICAgbG9vcDogbCxcbiAgICAgICAgICAgICAgICBzdHlsZTogc3RcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcHJldlN0eWxlID0gc3Q7XG4gICAgICAgICAgICBzdGFydCA9IGUgJSBjb3VudDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGNvbnN0IHNlZ21lbnQgb2Ygc2VnbWVudHMpe1xuICAgICAgICBzdGFydCA9IHNwYW5HYXBzID8gc3RhcnQgOiBzZWdtZW50LnN0YXJ0O1xuICAgICAgICBsZXQgcHJldiA9IHBvaW50c1tzdGFydCAlIGNvdW50XTtcbiAgICAgICAgbGV0IHN0eWxlO1xuICAgICAgICBmb3IoaSA9IHN0YXJ0ICsgMTsgaSA8PSBzZWdtZW50LmVuZDsgaSsrKXtcbiAgICAgICAgICAgIGNvbnN0IHB0ID0gcG9pbnRzW2kgJSBjb3VudF07XG4gICAgICAgICAgICBzdHlsZSA9IHJlYWRTdHlsZShzZWdtZW50T3B0aW9ucy5zZXRDb250ZXh0KGNyZWF0ZUNvbnRleHQoY2hhcnRDb250ZXh0LCB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3NlZ21lbnQnLFxuICAgICAgICAgICAgICAgIHAwOiBwcmV2LFxuICAgICAgICAgICAgICAgIHAxOiBwdCxcbiAgICAgICAgICAgICAgICBwMERhdGFJbmRleDogKGkgLSAxKSAlIGNvdW50LFxuICAgICAgICAgICAgICAgIHAxRGF0YUluZGV4OiBpICUgY291bnQsXG4gICAgICAgICAgICAgICAgZGF0YXNldEluZGV4XG4gICAgICAgICAgICB9KSkpO1xuICAgICAgICAgICAgaWYgKHN0eWxlQ2hhbmdlZChzdHlsZSwgcHJldlN0eWxlKSkge1xuICAgICAgICAgICAgICAgIGFkZFN0eWxlKHN0YXJ0LCBpIC0gMSwgc2VnbWVudC5sb29wLCBwcmV2U3R5bGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHJldiA9IHB0O1xuICAgICAgICAgICAgcHJldlN0eWxlID0gc3R5bGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXJ0IDwgaSAtIDEpIHtcbiAgICAgICAgICAgIGFkZFN0eWxlKHN0YXJ0LCBpIC0gMSwgc2VnbWVudC5sb29wLCBwcmV2U3R5bGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiByZWFkU3R5bGUob3B0aW9ucykge1xuICAgIHJldHVybiB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogb3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3IsXG4gICAgICAgIGJvcmRlckNhcFN0eWxlOiBvcHRpb25zLmJvcmRlckNhcFN0eWxlLFxuICAgICAgICBib3JkZXJEYXNoOiBvcHRpb25zLmJvcmRlckRhc2gsXG4gICAgICAgIGJvcmRlckRhc2hPZmZzZXQ6IG9wdGlvbnMuYm9yZGVyRGFzaE9mZnNldCxcbiAgICAgICAgYm9yZGVySm9pblN0eWxlOiBvcHRpb25zLmJvcmRlckpvaW5TdHlsZSxcbiAgICAgICAgYm9yZGVyV2lkdGg6IG9wdGlvbnMuYm9yZGVyV2lkdGgsXG4gICAgICAgIGJvcmRlckNvbG9yOiBvcHRpb25zLmJvcmRlckNvbG9yXG4gICAgfTtcbn1cbmZ1bmN0aW9uIHN0eWxlQ2hhbmdlZChzdHlsZSwgcHJldlN0eWxlKSB7XG4gICAgaWYgKCFwcmV2U3R5bGUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBjYWNoZSA9IFtdO1xuICAgIGNvbnN0IHJlcGxhY2VyID0gZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgICBpZiAoIWlzUGF0dGVybk9yR3JhZGllbnQodmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjYWNoZS5pbmNsdWRlcyh2YWx1ZSkpIHtcbiAgICAgICAgICAgIGNhY2hlLnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjYWNoZS5pbmRleE9mKHZhbHVlKTtcbiAgICB9O1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShzdHlsZSwgcmVwbGFjZXIpICE9PSBKU09OLnN0cmluZ2lmeShwcmV2U3R5bGUsIHJlcGxhY2VyKTtcbn1cblxuZXhwb3J0IHsgdW5jbGlwQXJlYSBhcyAkLCBfcmxvb2t1cEJ5S2V5IGFzIEEsIF9sb29rdXBCeUtleSBhcyBCLCBfaXNQb2ludEluQXJlYSBhcyBDLCBnZXRBbmdsZUZyb21Qb2ludCBhcyBELCB0b1BhZGRpbmcgYXMgRSwgZWFjaCBhcyBGLCBnZXRNYXhpbXVtU2l6ZSBhcyBHLCBIQUxGX1BJIGFzIEgsIF9nZXRQYXJlbnROb2RlIGFzIEksIHJlYWRVc2VkU2l6ZSBhcyBKLCBzdXBwb3J0c0V2ZW50TGlzdGVuZXJPcHRpb25zIGFzIEssIHRocm90dGxlZCBhcyBMLCBfaXNEb21TdXBwb3J0ZWQgYXMgTSwgX2ZhY3Rvcml6ZSBhcyBOLCBmaW5pdGVPckRlZmF1bHQgYXMgTywgUEkgYXMgUCwgY2FsbGJhY2sgYXMgUSwgX2FkZEdyYWNlIGFzIFIsIF9saW1pdFZhbHVlIGFzIFMsIFRBVSBhcyBULCB0b0RlZ3JlZXMgYXMgVSwgX21lYXN1cmVUZXh0IGFzIFYsIF9pbnQxNlJhbmdlIGFzIFcsIF9hbGlnblBpeGVsIGFzIFgsIGNsaXBBcmVhIGFzIFksIHJlbmRlclRleHQgYXMgWiwgX2FycmF5VW5pcXVlIGFzIF8sIHJlc29sdmUgYXMgYSwgZm9udFN0cmluZyBhcyBhJCwgdG9Gb250IGFzIGEwLCBfdG9MZWZ0UmlnaHRDZW50ZXIgYXMgYTEsIF9hbGlnblN0YXJ0RW5kIGFzIGEyLCBvdmVycmlkZXMgYXMgYTMsIG1lcmdlIGFzIGE0LCBfY2FwaXRhbGl6ZSBhcyBhNSwgZGVzY3JpcHRvcnMgYXMgYTYsIGlzRnVuY3Rpb24gYXMgYTcsIF9hdHRhY2hDb250ZXh0IGFzIGE4LCBfY3JlYXRlUmVzb2x2ZXIgYXMgYTksIG92ZXJyaWRlVGV4dERpcmVjdGlvbiBhcyBhQSwgX3RleHRYIGFzIGFCLCByZXN0b3JlVGV4dERpcmVjdGlvbiBhcyBhQywgZHJhd1BvaW50TGVnZW5kIGFzIGFELCBkaXN0YW5jZUJldHdlZW5Qb2ludHMgYXMgYUUsIG5vb3AgYXMgYUYsIF9zZXRNaW5BbmRNYXhCeUtleSBhcyBhRywgbmljZU51bSBhcyBhSCwgYWxtb3N0V2hvbGUgYXMgYUksIGFsbW9zdEVxdWFscyBhcyBhSiwgX2RlY2ltYWxQbGFjZXMgYXMgYUssIFRpY2tzIGFzIGFMLCBsb2cxMCBhcyBhTSwgX2xvbmdlc3RUZXh0IGFzIGFOLCBfZmlsdGVyQmV0d2VlbiBhcyBhTywgX2xvb2t1cCBhcyBhUCwgaXNQYXR0ZXJuT3JHcmFkaWVudCBhcyBhUSwgZ2V0SG92ZXJDb2xvciBhcyBhUiwgY2xvbmUgYXMgYVMsIF9tZXJnZXIgYXMgYVQsIF9tZXJnZXJJZiBhcyBhVSwgX2RlcHJlY2F0ZWQgYXMgYVYsIF9zcGxpdEtleSBhcyBhVywgdG9Gb250U3RyaW5nIGFzIGFYLCBzcGxpbmVDdXJ2ZSBhcyBhWSwgc3BsaW5lQ3VydmVNb25vdG9uZSBhcyBhWiwgZ2V0U3R5bGUgYXMgYV8sIF9kZXNjcmlwdG9ycyBhcyBhYSwgbWVyZ2VJZiBhcyBhYiwgdWlkIGFzIGFjLCBkZWJvdW5jZSBhcyBhZCwgcmV0aW5hU2NhbGUgYXMgYWUsIGNsZWFyQ2FudmFzIGFzIGFmLCBzZXRzRXF1YWwgYXMgYWcsIF9lbGVtZW50c0VxdWFsIGFzIGFoLCBfaXNDbGlja0V2ZW50IGFzIGFpLCBfaXNCZXR3ZWVuIGFzIGFqLCBfcmVhZFZhbHVlVG9Qcm9wcyBhcyBhaywgX3VwZGF0ZUJlemllckNvbnRyb2xQb2ludHMgYXMgYWwsIF9jb21wdXRlU2VnbWVudHMgYXMgYW0sIF9ib3VuZFNlZ21lbnRzIGFzIGFuLCBfc3RlcHBlZEludGVycG9sYXRpb24gYXMgYW8sIF9iZXppZXJJbnRlcnBvbGF0aW9uIGFzIGFwLCBfcG9pbnRJbkxpbmUgYXMgYXEsIF9zdGVwcGVkTGluZVRvIGFzIGFyLCBfYmV6aWVyQ3VydmVUbyBhcyBhcywgZHJhd1BvaW50IGFzIGF0LCBhZGRSb3VuZGVkUmVjdFBhdGggYXMgYXUsIHRvVFJCTCBhcyBhdiwgdG9UUkJMQ29ybmVycyBhcyBhdywgX2JvdW5kU2VnbWVudCBhcyBheCwgX25vcm1hbGl6ZUFuZ2xlIGFzIGF5LCBnZXRSdGxBZGFwdGVyIGFzIGF6LCBpc0FycmF5IGFzIGIsIHRvTGluZUhlaWdodCBhcyBiMCwgUElUQVUgYXMgYjEsIElORklOSVRZIGFzIGIyLCBSQURfUEVSX0RFRyBhcyBiMywgUVVBUlRFUl9QSSBhcyBiNCwgVFdPX1RISVJEU19QSSBhcyBiNSwgX2FuZ2xlRGlmZiBhcyBiNiwgY29sb3IgYXMgYywgZGVmYXVsdHMgYXMgZCwgZWZmZWN0cyBhcyBlLCByZXNvbHZlT2JqZWN0S2V5IGFzIGYsIGlzTnVtYmVyRmluaXRlIGFzIGcsIGRlZmluZWQgYXMgaCwgaXNPYmplY3QgYXMgaSwgY3JlYXRlQ29udGV4dCBhcyBqLCBpc051bGxPclVuZGVmIGFzIGssIGxpc3RlbkFycmF5RXZlbnRzIGFzIGwsIHRvUGVyY2VudGFnZSBhcyBtLCB0b0RpbWVuc2lvbiBhcyBuLCBmb3JtYXROdW1iZXIgYXMgbywgX2FuZ2xlQmV0d2VlbiBhcyBwLCBfZ2V0U3RhcnRBbmRDb3VudE9mVmlzaWJsZVBvaW50cyBhcyBxLCByZXF1ZXN0QW5pbUZyYW1lIGFzIHIsIHNpZ24gYXMgcywgdG9SYWRpYW5zIGFzIHQsIHVubGlzdGVuQXJyYXlFdmVudHMgYXMgdSwgdmFsdWVPckRlZmF1bHQgYXMgdiwgX3NjYWxlUmFuZ2VzQ2hhbmdlZCBhcyB3LCBpc051bWJlciBhcyB4LCBfcGFyc2VPYmplY3REYXRhUmFkaWFsU2NhbGUgYXMgeSwgZ2V0UmVsYXRpdmVQb3NpdGlvbiBhcyB6IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1oZWxwZXJzLnNlZ21lbnQuanMubWFwXG4iLCIvKiFcbiAqIENoYXJ0LmpzIHY0LjQuM1xuICogaHR0cHM6Ly93d3cuY2hhcnRqcy5vcmdcbiAqIChjKSAyMDI0IENoYXJ0LmpzIENvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlXG4gKi9cbmltcG9ydCB7IHIgYXMgcmVxdWVzdEFuaW1GcmFtZSwgYSBhcyByZXNvbHZlLCBlIGFzIGVmZmVjdHMsIGMgYXMgY29sb3IsIGkgYXMgaXNPYmplY3QsIGQgYXMgZGVmYXVsdHMsIGIgYXMgaXNBcnJheSwgdiBhcyB2YWx1ZU9yRGVmYXVsdCwgdSBhcyB1bmxpc3RlbkFycmF5RXZlbnRzLCBsIGFzIGxpc3RlbkFycmF5RXZlbnRzLCBmIGFzIHJlc29sdmVPYmplY3RLZXksIGcgYXMgaXNOdW1iZXJGaW5pdGUsIGggYXMgZGVmaW5lZCwgcyBhcyBzaWduLCBqIGFzIGNyZWF0ZUNvbnRleHQsIGsgYXMgaXNOdWxsT3JVbmRlZiwgXyBhcyBfYXJyYXlVbmlxdWUsIHQgYXMgdG9SYWRpYW5zLCBtIGFzIHRvUGVyY2VudGFnZSwgbiBhcyB0b0RpbWVuc2lvbiwgVCBhcyBUQVUsIG8gYXMgZm9ybWF0TnVtYmVyLCBwIGFzIF9hbmdsZUJldHdlZW4sIEggYXMgSEFMRl9QSSwgUCBhcyBQSSwgcSBhcyBfZ2V0U3RhcnRBbmRDb3VudE9mVmlzaWJsZVBvaW50cywgdyBhcyBfc2NhbGVSYW5nZXNDaGFuZ2VkLCB4IGFzIGlzTnVtYmVyLCB5IGFzIF9wYXJzZU9iamVjdERhdGFSYWRpYWxTY2FsZSwgeiBhcyBnZXRSZWxhdGl2ZVBvc2l0aW9uLCBBIGFzIF9ybG9va3VwQnlLZXksIEIgYXMgX2xvb2t1cEJ5S2V5LCBDIGFzIF9pc1BvaW50SW5BcmVhLCBEIGFzIGdldEFuZ2xlRnJvbVBvaW50LCBFIGFzIHRvUGFkZGluZywgRiBhcyBlYWNoLCBHIGFzIGdldE1heGltdW1TaXplLCBJIGFzIF9nZXRQYXJlbnROb2RlLCBKIGFzIHJlYWRVc2VkU2l6ZSwgSyBhcyBzdXBwb3J0c0V2ZW50TGlzdGVuZXJPcHRpb25zLCBMIGFzIHRocm90dGxlZCwgTSBhcyBfaXNEb21TdXBwb3J0ZWQsIE4gYXMgX2ZhY3Rvcml6ZSwgTyBhcyBmaW5pdGVPckRlZmF1bHQsIFEgYXMgY2FsbGJhY2ssIFIgYXMgX2FkZEdyYWNlLCBTIGFzIF9saW1pdFZhbHVlLCBVIGFzIHRvRGVncmVlcywgViBhcyBfbWVhc3VyZVRleHQsIFcgYXMgX2ludDE2UmFuZ2UsIFggYXMgX2FsaWduUGl4ZWwsIFkgYXMgY2xpcEFyZWEsIFogYXMgcmVuZGVyVGV4dCwgJCBhcyB1bmNsaXBBcmVhLCBhMCBhcyB0b0ZvbnQsIGExIGFzIF90b0xlZnRSaWdodENlbnRlciwgYTIgYXMgX2FsaWduU3RhcnRFbmQsIGEzIGFzIG92ZXJyaWRlcywgYTQgYXMgbWVyZ2UsIGE1IGFzIF9jYXBpdGFsaXplLCBhNiBhcyBkZXNjcmlwdG9ycywgYTcgYXMgaXNGdW5jdGlvbiwgYTggYXMgX2F0dGFjaENvbnRleHQsIGE5IGFzIF9jcmVhdGVSZXNvbHZlciwgYWEgYXMgX2Rlc2NyaXB0b3JzLCBhYiBhcyBtZXJnZUlmLCBhYyBhcyB1aWQsIGFkIGFzIGRlYm91bmNlLCBhZSBhcyByZXRpbmFTY2FsZSwgYWYgYXMgY2xlYXJDYW52YXMsIGFnIGFzIHNldHNFcXVhbCwgYWggYXMgX2VsZW1lbnRzRXF1YWwsIGFpIGFzIF9pc0NsaWNrRXZlbnQsIGFqIGFzIF9pc0JldHdlZW4sIGFrIGFzIF9yZWFkVmFsdWVUb1Byb3BzLCBhbCBhcyBfdXBkYXRlQmV6aWVyQ29udHJvbFBvaW50cywgYW0gYXMgX2NvbXB1dGVTZWdtZW50cywgYW4gYXMgX2JvdW5kU2VnbWVudHMsIGFvIGFzIF9zdGVwcGVkSW50ZXJwb2xhdGlvbiwgYXAgYXMgX2JlemllckludGVycG9sYXRpb24sIGFxIGFzIF9wb2ludEluTGluZSwgYXIgYXMgX3N0ZXBwZWRMaW5lVG8sIGFzIGFzIF9iZXppZXJDdXJ2ZVRvLCBhdCBhcyBkcmF3UG9pbnQsIGF1IGFzIGFkZFJvdW5kZWRSZWN0UGF0aCwgYXYgYXMgdG9UUkJMLCBhdyBhcyB0b1RSQkxDb3JuZXJzLCBheCBhcyBfYm91bmRTZWdtZW50LCBheSBhcyBfbm9ybWFsaXplQW5nbGUsIGF6IGFzIGdldFJ0bEFkYXB0ZXIsIGFBIGFzIG92ZXJyaWRlVGV4dERpcmVjdGlvbiwgYUIgYXMgX3RleHRYLCBhQyBhcyByZXN0b3JlVGV4dERpcmVjdGlvbiwgYUQgYXMgZHJhd1BvaW50TGVnZW5kLCBhRSBhcyBkaXN0YW5jZUJldHdlZW5Qb2ludHMsIGFGIGFzIG5vb3AsIGFHIGFzIF9zZXRNaW5BbmRNYXhCeUtleSwgYUggYXMgbmljZU51bSwgYUkgYXMgYWxtb3N0V2hvbGUsIGFKIGFzIGFsbW9zdEVxdWFscywgYUsgYXMgX2RlY2ltYWxQbGFjZXMsIGFMIGFzIFRpY2tzLCBhTSBhcyBsb2cxMCwgYU4gYXMgX2xvbmdlc3RUZXh0LCBhTyBhcyBfZmlsdGVyQmV0d2VlbiwgYVAgYXMgX2xvb2t1cCB9IGZyb20gJy4vY2h1bmtzL2hlbHBlcnMuc2VnbWVudC5qcyc7XG5pbXBvcnQgJ0BrdXJrbGUvY29sb3InO1xuXG5jbGFzcyBBbmltYXRvciB7XG4gICAgY29uc3RydWN0b3IoKXtcbiAgICAgICAgdGhpcy5fcmVxdWVzdCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2NoYXJ0cyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5fcnVubmluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9sYXN0RGF0ZSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gX25vdGlmeShjaGFydCwgYW5pbXMsIGRhdGUsIHR5cGUpIHtcbiAgICAgICAgY29uc3QgY2FsbGJhY2tzID0gYW5pbXMubGlzdGVuZXJzW3R5cGVdO1xuICAgICAgICBjb25zdCBudW1TdGVwcyA9IGFuaW1zLmR1cmF0aW9uO1xuICAgICAgICBjYWxsYmFja3MuZm9yRWFjaCgoZm4pPT5mbih7XG4gICAgICAgICAgICAgICAgY2hhcnQsXG4gICAgICAgICAgICAgICAgaW5pdGlhbDogYW5pbXMuaW5pdGlhbCxcbiAgICAgICAgICAgICAgICBudW1TdGVwcyxcbiAgICAgICAgICAgICAgICBjdXJyZW50U3RlcDogTWF0aC5taW4oZGF0ZSAtIGFuaW1zLnN0YXJ0LCBudW1TdGVwcylcbiAgICAgICAgICAgIH0pKTtcbiAgICB9XG4gX3JlZnJlc2goKSB7XG4gICAgICAgIGlmICh0aGlzLl9yZXF1ZXN0KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcnVubmluZyA9IHRydWU7XG4gICAgICAgIHRoaXMuX3JlcXVlc3QgPSByZXF1ZXN0QW5pbUZyYW1lLmNhbGwod2luZG93LCAoKT0+e1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlKCk7XG4gICAgICAgICAgICB0aGlzLl9yZXF1ZXN0ID0gbnVsbDtcbiAgICAgICAgICAgIGlmICh0aGlzLl9ydW5uaW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gX3VwZGF0ZShkYXRlID0gRGF0ZS5ub3coKSkge1xuICAgICAgICBsZXQgcmVtYWluaW5nID0gMDtcbiAgICAgICAgdGhpcy5fY2hhcnRzLmZvckVhY2goKGFuaW1zLCBjaGFydCk9PntcbiAgICAgICAgICAgIGlmICghYW5pbXMucnVubmluZyB8fCAhYW5pbXMuaXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBhbmltcy5pdGVtcztcbiAgICAgICAgICAgIGxldCBpID0gaXRlbXMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIGxldCBkcmF3ID0gZmFsc2U7XG4gICAgICAgICAgICBsZXQgaXRlbTtcbiAgICAgICAgICAgIGZvcig7IGkgPj0gMDsgLS1pKXtcbiAgICAgICAgICAgICAgICBpdGVtID0gaXRlbXNbaV07XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0uX2FjdGl2ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5fdG90YWwgPiBhbmltcy5kdXJhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYW5pbXMuZHVyYXRpb24gPSBpdGVtLl90b3RhbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpdGVtLnRpY2soZGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIGRyYXcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW1zW2ldID0gaXRlbXNbaXRlbXMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAgICAgICAgIGl0ZW1zLnBvcCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkcmF3KSB7XG4gICAgICAgICAgICAgICAgY2hhcnQuZHJhdygpO1xuICAgICAgICAgICAgICAgIHRoaXMuX25vdGlmeShjaGFydCwgYW5pbXMsIGRhdGUsICdwcm9ncmVzcycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFpdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBhbmltcy5ydW5uaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5fbm90aWZ5KGNoYXJ0LCBhbmltcywgZGF0ZSwgJ2NvbXBsZXRlJyk7XG4gICAgICAgICAgICAgICAgYW5pbXMuaW5pdGlhbCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVtYWluaW5nICs9IGl0ZW1zLmxlbmd0aDtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2xhc3REYXRlID0gZGF0ZTtcbiAgICAgICAgaWYgKHJlbWFpbmluZyA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5fcnVubmluZyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuIF9nZXRBbmltcyhjaGFydCkge1xuICAgICAgICBjb25zdCBjaGFydHMgPSB0aGlzLl9jaGFydHM7XG4gICAgICAgIGxldCBhbmltcyA9IGNoYXJ0cy5nZXQoY2hhcnQpO1xuICAgICAgICBpZiAoIWFuaW1zKSB7XG4gICAgICAgICAgICBhbmltcyA9IHtcbiAgICAgICAgICAgICAgICBydW5uaW5nOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBpbml0aWFsOiB0cnVlLFxuICAgICAgICAgICAgICAgIGl0ZW1zOiBbXSxcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGU6IFtdLFxuICAgICAgICAgICAgICAgICAgICBwcm9ncmVzczogW11cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY2hhcnRzLnNldChjaGFydCwgYW5pbXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhbmltcztcbiAgICB9XG4gbGlzdGVuKGNoYXJ0LCBldmVudCwgY2IpIHtcbiAgICAgICAgdGhpcy5fZ2V0QW5pbXMoY2hhcnQpLmxpc3RlbmVyc1tldmVudF0ucHVzaChjYik7XG4gICAgfVxuIGFkZChjaGFydCwgaXRlbXMpIHtcbiAgICAgICAgaWYgKCFpdGVtcyB8fCAhaXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZ2V0QW5pbXMoY2hhcnQpLml0ZW1zLnB1c2goLi4uaXRlbXMpO1xuICAgIH1cbiBoYXMoY2hhcnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldEFuaW1zKGNoYXJ0KS5pdGVtcy5sZW5ndGggPiAwO1xuICAgIH1cbiBzdGFydChjaGFydCkge1xuICAgICAgICBjb25zdCBhbmltcyA9IHRoaXMuX2NoYXJ0cy5nZXQoY2hhcnQpO1xuICAgICAgICBpZiAoIWFuaW1zKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYW5pbXMucnVubmluZyA9IHRydWU7XG4gICAgICAgIGFuaW1zLnN0YXJ0ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgYW5pbXMuZHVyYXRpb24gPSBhbmltcy5pdGVtcy5yZWR1Y2UoKGFjYywgY3VyKT0+TWF0aC5tYXgoYWNjLCBjdXIuX2R1cmF0aW9uKSwgMCk7XG4gICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICB9XG4gICAgcnVubmluZyhjaGFydCkge1xuICAgICAgICBpZiAoIXRoaXMuX3J1bm5pbmcpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhbmltcyA9IHRoaXMuX2NoYXJ0cy5nZXQoY2hhcnQpO1xuICAgICAgICBpZiAoIWFuaW1zIHx8ICFhbmltcy5ydW5uaW5nIHx8ICFhbmltcy5pdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gc3RvcChjaGFydCkge1xuICAgICAgICBjb25zdCBhbmltcyA9IHRoaXMuX2NoYXJ0cy5nZXQoY2hhcnQpO1xuICAgICAgICBpZiAoIWFuaW1zIHx8ICFhbmltcy5pdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpdGVtcyA9IGFuaW1zLml0ZW1zO1xuICAgICAgICBsZXQgaSA9IGl0ZW1zLmxlbmd0aCAtIDE7XG4gICAgICAgIGZvcig7IGkgPj0gMDsgLS1pKXtcbiAgICAgICAgICAgIGl0ZW1zW2ldLmNhbmNlbCgpO1xuICAgICAgICB9XG4gICAgICAgIGFuaW1zLml0ZW1zID0gW107XG4gICAgICAgIHRoaXMuX25vdGlmeShjaGFydCwgYW5pbXMsIERhdGUubm93KCksICdjb21wbGV0ZScpO1xuICAgIH1cbiByZW1vdmUoY2hhcnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NoYXJ0cy5kZWxldGUoY2hhcnQpO1xuICAgIH1cbn1cbnZhciBhbmltYXRvciA9IC8qICNfX1BVUkVfXyAqLyBuZXcgQW5pbWF0b3IoKTtcblxuY29uc3QgdHJhbnNwYXJlbnQgPSAndHJhbnNwYXJlbnQnO1xuY29uc3QgaW50ZXJwb2xhdG9ycyA9IHtcbiAgICBib29sZWFuIChmcm9tLCB0bywgZmFjdG9yKSB7XG4gICAgICAgIHJldHVybiBmYWN0b3IgPiAwLjUgPyB0byA6IGZyb207XG4gICAgfSxcbiBjb2xvciAoZnJvbSwgdG8sIGZhY3Rvcikge1xuICAgICAgICBjb25zdCBjMCA9IGNvbG9yKGZyb20gfHwgdHJhbnNwYXJlbnQpO1xuICAgICAgICBjb25zdCBjMSA9IGMwLnZhbGlkICYmIGNvbG9yKHRvIHx8IHRyYW5zcGFyZW50KTtcbiAgICAgICAgcmV0dXJuIGMxICYmIGMxLnZhbGlkID8gYzEubWl4KGMwLCBmYWN0b3IpLmhleFN0cmluZygpIDogdG87XG4gICAgfSxcbiAgICBudW1iZXIgKGZyb20sIHRvLCBmYWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIGZyb20gKyAodG8gLSBmcm9tKSAqIGZhY3RvcjtcbiAgICB9XG59O1xuY2xhc3MgQW5pbWF0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihjZmcsIHRhcmdldCwgcHJvcCwgdG8pe1xuICAgICAgICBjb25zdCBjdXJyZW50VmFsdWUgPSB0YXJnZXRbcHJvcF07XG4gICAgICAgIHRvID0gcmVzb2x2ZShbXG4gICAgICAgICAgICBjZmcudG8sXG4gICAgICAgICAgICB0byxcbiAgICAgICAgICAgIGN1cnJlbnRWYWx1ZSxcbiAgICAgICAgICAgIGNmZy5mcm9tXG4gICAgICAgIF0pO1xuICAgICAgICBjb25zdCBmcm9tID0gcmVzb2x2ZShbXG4gICAgICAgICAgICBjZmcuZnJvbSxcbiAgICAgICAgICAgIGN1cnJlbnRWYWx1ZSxcbiAgICAgICAgICAgIHRvXG4gICAgICAgIF0pO1xuICAgICAgICB0aGlzLl9hY3RpdmUgPSB0cnVlO1xuICAgICAgICB0aGlzLl9mbiA9IGNmZy5mbiB8fCBpbnRlcnBvbGF0b3JzW2NmZy50eXBlIHx8IHR5cGVvZiBmcm9tXTtcbiAgICAgICAgdGhpcy5fZWFzaW5nID0gZWZmZWN0c1tjZmcuZWFzaW5nXSB8fCBlZmZlY3RzLmxpbmVhcjtcbiAgICAgICAgdGhpcy5fc3RhcnQgPSBNYXRoLmZsb29yKERhdGUubm93KCkgKyAoY2ZnLmRlbGF5IHx8IDApKTtcbiAgICAgICAgdGhpcy5fZHVyYXRpb24gPSB0aGlzLl90b3RhbCA9IE1hdGguZmxvb3IoY2ZnLmR1cmF0aW9uKTtcbiAgICAgICAgdGhpcy5fbG9vcCA9ICEhY2ZnLmxvb3A7XG4gICAgICAgIHRoaXMuX3RhcmdldCA9IHRhcmdldDtcbiAgICAgICAgdGhpcy5fcHJvcCA9IHByb3A7XG4gICAgICAgIHRoaXMuX2Zyb20gPSBmcm9tO1xuICAgICAgICB0aGlzLl90byA9IHRvO1xuICAgICAgICB0aGlzLl9wcm9taXNlcyA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgYWN0aXZlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWN0aXZlO1xuICAgIH1cbiAgICB1cGRhdGUoY2ZnLCB0bywgZGF0ZSkge1xuICAgICAgICBpZiAodGhpcy5fYWN0aXZlKSB7XG4gICAgICAgICAgICB0aGlzLl9ub3RpZnkoZmFsc2UpO1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFZhbHVlID0gdGhpcy5fdGFyZ2V0W3RoaXMuX3Byb3BdO1xuICAgICAgICAgICAgY29uc3QgZWxhcHNlZCA9IGRhdGUgLSB0aGlzLl9zdGFydDtcbiAgICAgICAgICAgIGNvbnN0IHJlbWFpbiA9IHRoaXMuX2R1cmF0aW9uIC0gZWxhcHNlZDtcbiAgICAgICAgICAgIHRoaXMuX3N0YXJ0ID0gZGF0ZTtcbiAgICAgICAgICAgIHRoaXMuX2R1cmF0aW9uID0gTWF0aC5mbG9vcihNYXRoLm1heChyZW1haW4sIGNmZy5kdXJhdGlvbikpO1xuICAgICAgICAgICAgdGhpcy5fdG90YWwgKz0gZWxhcHNlZDtcbiAgICAgICAgICAgIHRoaXMuX2xvb3AgPSAhIWNmZy5sb29wO1xuICAgICAgICAgICAgdGhpcy5fdG8gPSByZXNvbHZlKFtcbiAgICAgICAgICAgICAgICBjZmcudG8sXG4gICAgICAgICAgICAgICAgdG8sXG4gICAgICAgICAgICAgICAgY3VycmVudFZhbHVlLFxuICAgICAgICAgICAgICAgIGNmZy5mcm9tXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIHRoaXMuX2Zyb20gPSByZXNvbHZlKFtcbiAgICAgICAgICAgICAgICBjZmcuZnJvbSxcbiAgICAgICAgICAgICAgICBjdXJyZW50VmFsdWUsXG4gICAgICAgICAgICAgICAgdG9cbiAgICAgICAgICAgIF0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhbmNlbCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2FjdGl2ZSkge1xuICAgICAgICAgICAgdGhpcy50aWNrKERhdGUubm93KCkpO1xuICAgICAgICAgICAgdGhpcy5fYWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl9ub3RpZnkoZmFsc2UpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRpY2soZGF0ZSkge1xuICAgICAgICBjb25zdCBlbGFwc2VkID0gZGF0ZSAtIHRoaXMuX3N0YXJ0O1xuICAgICAgICBjb25zdCBkdXJhdGlvbiA9IHRoaXMuX2R1cmF0aW9uO1xuICAgICAgICBjb25zdCBwcm9wID0gdGhpcy5fcHJvcDtcbiAgICAgICAgY29uc3QgZnJvbSA9IHRoaXMuX2Zyb207XG4gICAgICAgIGNvbnN0IGxvb3AgPSB0aGlzLl9sb29wO1xuICAgICAgICBjb25zdCB0byA9IHRoaXMuX3RvO1xuICAgICAgICBsZXQgZmFjdG9yO1xuICAgICAgICB0aGlzLl9hY3RpdmUgPSBmcm9tICE9PSB0byAmJiAobG9vcCB8fCBlbGFwc2VkIDwgZHVyYXRpb24pO1xuICAgICAgICBpZiAoIXRoaXMuX2FjdGl2ZSkge1xuICAgICAgICAgICAgdGhpcy5fdGFyZ2V0W3Byb3BdID0gdG87XG4gICAgICAgICAgICB0aGlzLl9ub3RpZnkodHJ1ZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVsYXBzZWQgPCAwKSB7XG4gICAgICAgICAgICB0aGlzLl90YXJnZXRbcHJvcF0gPSBmcm9tO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGZhY3RvciA9IGVsYXBzZWQgLyBkdXJhdGlvbiAlIDI7XG4gICAgICAgIGZhY3RvciA9IGxvb3AgJiYgZmFjdG9yID4gMSA/IDIgLSBmYWN0b3IgOiBmYWN0b3I7XG4gICAgICAgIGZhY3RvciA9IHRoaXMuX2Vhc2luZyhNYXRoLm1pbigxLCBNYXRoLm1heCgwLCBmYWN0b3IpKSk7XG4gICAgICAgIHRoaXMuX3RhcmdldFtwcm9wXSA9IHRoaXMuX2ZuKGZyb20sIHRvLCBmYWN0b3IpO1xuICAgIH1cbiAgICB3YWl0KCkge1xuICAgICAgICBjb25zdCBwcm9taXNlcyA9IHRoaXMuX3Byb21pc2VzIHx8ICh0aGlzLl9wcm9taXNlcyA9IFtdKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXMsIHJlaik9PntcbiAgICAgICAgICAgIHByb21pc2VzLnB1c2goe1xuICAgICAgICAgICAgICAgIHJlcyxcbiAgICAgICAgICAgICAgICByZWpcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgX25vdGlmeShyZXNvbHZlZCkge1xuICAgICAgICBjb25zdCBtZXRob2QgPSByZXNvbHZlZCA/ICdyZXMnIDogJ3Jlaic7XG4gICAgICAgIGNvbnN0IHByb21pc2VzID0gdGhpcy5fcHJvbWlzZXMgfHwgW107XG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBwcm9taXNlcy5sZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICBwcm9taXNlc1tpXVttZXRob2RdKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmNsYXNzIEFuaW1hdGlvbnMge1xuICAgIGNvbnN0cnVjdG9yKGNoYXJ0LCBjb25maWcpe1xuICAgICAgICB0aGlzLl9jaGFydCA9IGNoYXJ0O1xuICAgICAgICB0aGlzLl9wcm9wZXJ0aWVzID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLmNvbmZpZ3VyZShjb25maWcpO1xuICAgIH1cbiAgICBjb25maWd1cmUoY29uZmlnKSB7XG4gICAgICAgIGlmICghaXNPYmplY3QoY29uZmlnKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGFuaW1hdGlvbk9wdGlvbnMgPSBPYmplY3Qua2V5cyhkZWZhdWx0cy5hbmltYXRpb24pO1xuICAgICAgICBjb25zdCBhbmltYXRlZFByb3BzID0gdGhpcy5fcHJvcGVydGllcztcbiAgICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoY29uZmlnKS5mb3JFYWNoKChrZXkpPT57XG4gICAgICAgICAgICBjb25zdCBjZmcgPSBjb25maWdba2V5XTtcbiAgICAgICAgICAgIGlmICghaXNPYmplY3QoY2ZnKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJlc29sdmVkID0ge307XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG9wdGlvbiBvZiBhbmltYXRpb25PcHRpb25zKXtcbiAgICAgICAgICAgICAgICByZXNvbHZlZFtvcHRpb25dID0gY2ZnW29wdGlvbl07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAoaXNBcnJheShjZmcucHJvcGVydGllcykgJiYgY2ZnLnByb3BlcnRpZXMgfHwgW1xuICAgICAgICAgICAgICAgIGtleVxuICAgICAgICAgICAgXSkuZm9yRWFjaCgocHJvcCk9PntcbiAgICAgICAgICAgICAgICBpZiAocHJvcCA9PT0ga2V5IHx8ICFhbmltYXRlZFByb3BzLmhhcyhwcm9wKSkge1xuICAgICAgICAgICAgICAgICAgICBhbmltYXRlZFByb3BzLnNldChwcm9wLCByZXNvbHZlZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiBfYW5pbWF0ZU9wdGlvbnModGFyZ2V0LCB2YWx1ZXMpIHtcbiAgICAgICAgY29uc3QgbmV3T3B0aW9ucyA9IHZhbHVlcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gcmVzb2x2ZVRhcmdldE9wdGlvbnModGFyZ2V0LCBuZXdPcHRpb25zKTtcbiAgICAgICAgaWYgKCFvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYW5pbWF0aW9ucyA9IHRoaXMuX2NyZWF0ZUFuaW1hdGlvbnMob3B0aW9ucywgbmV3T3B0aW9ucyk7XG4gICAgICAgIGlmIChuZXdPcHRpb25zLiRzaGFyZWQpIHtcbiAgICAgICAgICAgIGF3YWl0QWxsKHRhcmdldC5vcHRpb25zLiRhbmltYXRpb25zLCBuZXdPcHRpb25zKS50aGVuKCgpPT57XG4gICAgICAgICAgICAgICAgdGFyZ2V0Lm9wdGlvbnMgPSBuZXdPcHRpb25zO1xuICAgICAgICAgICAgfSwgKCk9PntcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhbmltYXRpb25zO1xuICAgIH1cbiBfY3JlYXRlQW5pbWF0aW9ucyh0YXJnZXQsIHZhbHVlcykge1xuICAgICAgICBjb25zdCBhbmltYXRlZFByb3BzID0gdGhpcy5fcHJvcGVydGllcztcbiAgICAgICAgY29uc3QgYW5pbWF0aW9ucyA9IFtdO1xuICAgICAgICBjb25zdCBydW5uaW5nID0gdGFyZ2V0LiRhbmltYXRpb25zIHx8ICh0YXJnZXQuJGFuaW1hdGlvbnMgPSB7fSk7XG4gICAgICAgIGNvbnN0IHByb3BzID0gT2JqZWN0LmtleXModmFsdWVzKTtcbiAgICAgICAgY29uc3QgZGF0ZSA9IERhdGUubm93KCk7XG4gICAgICAgIGxldCBpO1xuICAgICAgICBmb3IoaSA9IHByb3BzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKXtcbiAgICAgICAgICAgIGNvbnN0IHByb3AgPSBwcm9wc1tpXTtcbiAgICAgICAgICAgIGlmIChwcm9wLmNoYXJBdCgwKSA9PT0gJyQnKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocHJvcCA9PT0gJ29wdGlvbnMnKSB7XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9ucy5wdXNoKC4uLnRoaXMuX2FuaW1hdGVPcHRpb25zKHRhcmdldCwgdmFsdWVzKSk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHZhbHVlc1twcm9wXTtcbiAgICAgICAgICAgIGxldCBhbmltYXRpb24gPSBydW5uaW5nW3Byb3BdO1xuICAgICAgICAgICAgY29uc3QgY2ZnID0gYW5pbWF0ZWRQcm9wcy5nZXQocHJvcCk7XG4gICAgICAgICAgICBpZiAoYW5pbWF0aW9uKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNmZyAmJiBhbmltYXRpb24uYWN0aXZlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uLnVwZGF0ZShjZmcsIHZhbHVlLCBkYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uLmNhbmNlbCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghY2ZnIHx8ICFjZmcuZHVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICB0YXJnZXRbcHJvcF0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJ1bm5pbmdbcHJvcF0gPSBhbmltYXRpb24gPSBuZXcgQW5pbWF0aW9uKGNmZywgdGFyZ2V0LCBwcm9wLCB2YWx1ZSk7XG4gICAgICAgICAgICBhbmltYXRpb25zLnB1c2goYW5pbWF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYW5pbWF0aW9ucztcbiAgICB9XG4gdXBkYXRlKHRhcmdldCwgdmFsdWVzKSB7XG4gICAgICAgIGlmICh0aGlzLl9wcm9wZXJ0aWVzLnNpemUgPT09IDApIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGFyZ2V0LCB2YWx1ZXMpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGFuaW1hdGlvbnMgPSB0aGlzLl9jcmVhdGVBbmltYXRpb25zKHRhcmdldCwgdmFsdWVzKTtcbiAgICAgICAgaWYgKGFuaW1hdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICBhbmltYXRvci5hZGQodGhpcy5fY2hhcnQsIGFuaW1hdGlvbnMpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBhd2FpdEFsbChhbmltYXRpb25zLCBwcm9wZXJ0aWVzKSB7XG4gICAgY29uc3QgcnVubmluZyA9IFtdO1xuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhwcm9wZXJ0aWVzKTtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKyl7XG4gICAgICAgIGNvbnN0IGFuaW0gPSBhbmltYXRpb25zW2tleXNbaV1dO1xuICAgICAgICBpZiAoYW5pbSAmJiBhbmltLmFjdGl2ZSgpKSB7XG4gICAgICAgICAgICBydW5uaW5nLnB1c2goYW5pbS53YWl0KCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLmFsbChydW5uaW5nKTtcbn1cbmZ1bmN0aW9uIHJlc29sdmVUYXJnZXRPcHRpb25zKHRhcmdldCwgbmV3T3B0aW9ucykge1xuICAgIGlmICghbmV3T3B0aW9ucykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBvcHRpb25zID0gdGFyZ2V0Lm9wdGlvbnM7XG4gICAgaWYgKCFvcHRpb25zKSB7XG4gICAgICAgIHRhcmdldC5vcHRpb25zID0gbmV3T3B0aW9ucztcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy4kc2hhcmVkKSB7XG4gICAgICAgIHRhcmdldC5vcHRpb25zID0gb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMsIHtcbiAgICAgICAgICAgICRzaGFyZWQ6IGZhbHNlLFxuICAgICAgICAgICAgJGFuaW1hdGlvbnM6IHt9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gb3B0aW9ucztcbn1cblxuZnVuY3Rpb24gc2NhbGVDbGlwKHNjYWxlLCBhbGxvd2VkT3ZlcmZsb3cpIHtcbiAgICBjb25zdCBvcHRzID0gc2NhbGUgJiYgc2NhbGUub3B0aW9ucyB8fCB7fTtcbiAgICBjb25zdCByZXZlcnNlID0gb3B0cy5yZXZlcnNlO1xuICAgIGNvbnN0IG1pbiA9IG9wdHMubWluID09PSB1bmRlZmluZWQgPyBhbGxvd2VkT3ZlcmZsb3cgOiAwO1xuICAgIGNvbnN0IG1heCA9IG9wdHMubWF4ID09PSB1bmRlZmluZWQgPyBhbGxvd2VkT3ZlcmZsb3cgOiAwO1xuICAgIHJldHVybiB7XG4gICAgICAgIHN0YXJ0OiByZXZlcnNlID8gbWF4IDogbWluLFxuICAgICAgICBlbmQ6IHJldmVyc2UgPyBtaW4gOiBtYXhcbiAgICB9O1xufVxuZnVuY3Rpb24gZGVmYXVsdENsaXAoeFNjYWxlLCB5U2NhbGUsIGFsbG93ZWRPdmVyZmxvdykge1xuICAgIGlmIChhbGxvd2VkT3ZlcmZsb3cgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgeCA9IHNjYWxlQ2xpcCh4U2NhbGUsIGFsbG93ZWRPdmVyZmxvdyk7XG4gICAgY29uc3QgeSA9IHNjYWxlQ2xpcCh5U2NhbGUsIGFsbG93ZWRPdmVyZmxvdyk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdG9wOiB5LmVuZCxcbiAgICAgICAgcmlnaHQ6IHguZW5kLFxuICAgICAgICBib3R0b206IHkuc3RhcnQsXG4gICAgICAgIGxlZnQ6IHguc3RhcnRcbiAgICB9O1xufVxuZnVuY3Rpb24gdG9DbGlwKHZhbHVlKSB7XG4gICAgbGV0IHQsIHIsIGIsIGw7XG4gICAgaWYgKGlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICB0ID0gdmFsdWUudG9wO1xuICAgICAgICByID0gdmFsdWUucmlnaHQ7XG4gICAgICAgIGIgPSB2YWx1ZS5ib3R0b207XG4gICAgICAgIGwgPSB2YWx1ZS5sZWZ0O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHQgPSByID0gYiA9IGwgPSB2YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdG9wOiB0LFxuICAgICAgICByaWdodDogcixcbiAgICAgICAgYm90dG9tOiBiLFxuICAgICAgICBsZWZ0OiBsLFxuICAgICAgICBkaXNhYmxlZDogdmFsdWUgPT09IGZhbHNlXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGdldFNvcnRlZERhdGFzZXRJbmRpY2VzKGNoYXJ0LCBmaWx0ZXJWaXNpYmxlKSB7XG4gICAgY29uc3Qga2V5cyA9IFtdO1xuICAgIGNvbnN0IG1ldGFzZXRzID0gY2hhcnQuX2dldFNvcnRlZERhdGFzZXRNZXRhcyhmaWx0ZXJWaXNpYmxlKTtcbiAgICBsZXQgaSwgaWxlbjtcbiAgICBmb3IoaSA9IDAsIGlsZW4gPSBtZXRhc2V0cy5sZW5ndGg7IGkgPCBpbGVuOyArK2kpe1xuICAgICAgICBrZXlzLnB1c2gobWV0YXNldHNbaV0uaW5kZXgpO1xuICAgIH1cbiAgICByZXR1cm4ga2V5cztcbn1cbmZ1bmN0aW9uIGFwcGx5U3RhY2soc3RhY2ssIHZhbHVlLCBkc0luZGV4LCBvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCBrZXlzID0gc3RhY2sua2V5cztcbiAgICBjb25zdCBzaW5nbGVNb2RlID0gb3B0aW9ucy5tb2RlID09PSAnc2luZ2xlJztcbiAgICBsZXQgaSwgaWxlbiwgZGF0YXNldEluZGV4LCBvdGhlclZhbHVlO1xuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGZvcihpID0gMCwgaWxlbiA9IGtleXMubGVuZ3RoOyBpIDwgaWxlbjsgKytpKXtcbiAgICAgICAgZGF0YXNldEluZGV4ID0gK2tleXNbaV07XG4gICAgICAgIGlmIChkYXRhc2V0SW5kZXggPT09IGRzSW5kZXgpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmFsbCkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgb3RoZXJWYWx1ZSA9IHN0YWNrLnZhbHVlc1tkYXRhc2V0SW5kZXhdO1xuICAgICAgICBpZiAoaXNOdW1iZXJGaW5pdGUob3RoZXJWYWx1ZSkgJiYgKHNpbmdsZU1vZGUgfHwgdmFsdWUgPT09IDAgfHwgc2lnbih2YWx1ZSkgPT09IHNpZ24ob3RoZXJWYWx1ZSkpKSB7XG4gICAgICAgICAgICB2YWx1ZSArPSBvdGhlclZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIGNvbnZlcnRPYmplY3REYXRhVG9BcnJheShkYXRhLCBtZXRhKSB7XG4gICAgY29uc3QgeyBpU2NhbGUgLCB2U2NhbGUgIH0gPSBtZXRhO1xuICAgIGNvbnN0IGlBeGlzS2V5ID0gaVNjYWxlLmF4aXMgPT09ICd4JyA/ICd4JyA6ICd5JztcbiAgICBjb25zdCB2QXhpc0tleSA9IHZTY2FsZS5heGlzID09PSAneCcgPyAneCcgOiAneSc7XG4gICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGRhdGEpO1xuICAgIGNvbnN0IGFkYXRhID0gbmV3IEFycmF5KGtleXMubGVuZ3RoKTtcbiAgICBsZXQgaSwgaWxlbiwga2V5O1xuICAgIGZvcihpID0gMCwgaWxlbiA9IGtleXMubGVuZ3RoOyBpIDwgaWxlbjsgKytpKXtcbiAgICAgICAga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgYWRhdGFbaV0gPSB7XG4gICAgICAgICAgICBbaUF4aXNLZXldOiBrZXksXG4gICAgICAgICAgICBbdkF4aXNLZXldOiBkYXRhW2tleV1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIGFkYXRhO1xufVxuZnVuY3Rpb24gaXNTdGFja2VkKHNjYWxlLCBtZXRhKSB7XG4gICAgY29uc3Qgc3RhY2tlZCA9IHNjYWxlICYmIHNjYWxlLm9wdGlvbnMuc3RhY2tlZDtcbiAgICByZXR1cm4gc3RhY2tlZCB8fCBzdGFja2VkID09PSB1bmRlZmluZWQgJiYgbWV0YS5zdGFjayAhPT0gdW5kZWZpbmVkO1xufVxuZnVuY3Rpb24gZ2V0U3RhY2tLZXkoaW5kZXhTY2FsZSwgdmFsdWVTY2FsZSwgbWV0YSkge1xuICAgIHJldHVybiBgJHtpbmRleFNjYWxlLmlkfS4ke3ZhbHVlU2NhbGUuaWR9LiR7bWV0YS5zdGFjayB8fCBtZXRhLnR5cGV9YDtcbn1cbmZ1bmN0aW9uIGdldFVzZXJCb3VuZHMoc2NhbGUpIHtcbiAgICBjb25zdCB7IG1pbiAsIG1heCAsIG1pbkRlZmluZWQgLCBtYXhEZWZpbmVkICB9ID0gc2NhbGUuZ2V0VXNlckJvdW5kcygpO1xuICAgIHJldHVybiB7XG4gICAgICAgIG1pbjogbWluRGVmaW5lZCA/IG1pbiA6IE51bWJlci5ORUdBVElWRV9JTkZJTklUWSxcbiAgICAgICAgbWF4OiBtYXhEZWZpbmVkID8gbWF4IDogTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGdldE9yQ3JlYXRlU3RhY2soc3RhY2tzLCBzdGFja0tleSwgaW5kZXhWYWx1ZSkge1xuICAgIGNvbnN0IHN1YlN0YWNrID0gc3RhY2tzW3N0YWNrS2V5XSB8fCAoc3RhY2tzW3N0YWNrS2V5XSA9IHt9KTtcbiAgICByZXR1cm4gc3ViU3RhY2tbaW5kZXhWYWx1ZV0gfHwgKHN1YlN0YWNrW2luZGV4VmFsdWVdID0ge30pO1xufVxuZnVuY3Rpb24gZ2V0TGFzdEluZGV4SW5TdGFjayhzdGFjaywgdlNjYWxlLCBwb3NpdGl2ZSwgdHlwZSkge1xuICAgIGZvciAoY29uc3QgbWV0YSBvZiB2U2NhbGUuZ2V0TWF0Y2hpbmdWaXNpYmxlTWV0YXModHlwZSkucmV2ZXJzZSgpKXtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBzdGFja1ttZXRhLmluZGV4XTtcbiAgICAgICAgaWYgKHBvc2l0aXZlICYmIHZhbHVlID4gMCB8fCAhcG9zaXRpdmUgJiYgdmFsdWUgPCAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbWV0YS5pbmRleDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIHVwZGF0ZVN0YWNrcyhjb250cm9sbGVyLCBwYXJzZWQpIHtcbiAgICBjb25zdCB7IGNoYXJ0ICwgX2NhY2hlZE1ldGE6IG1ldGEgIH0gPSBjb250cm9sbGVyO1xuICAgIGNvbnN0IHN0YWNrcyA9IGNoYXJ0Ll9zdGFja3MgfHwgKGNoYXJ0Ll9zdGFja3MgPSB7fSk7XG4gICAgY29uc3QgeyBpU2NhbGUgLCB2U2NhbGUgLCBpbmRleDogZGF0YXNldEluZGV4ICB9ID0gbWV0YTtcbiAgICBjb25zdCBpQXhpcyA9IGlTY2FsZS5heGlzO1xuICAgIGNvbnN0IHZBeGlzID0gdlNjYWxlLmF4aXM7XG4gICAgY29uc3Qga2V5ID0gZ2V0U3RhY2tLZXkoaVNjYWxlLCB2U2NhbGUsIG1ldGEpO1xuICAgIGNvbnN0IGlsZW4gPSBwYXJzZWQubGVuZ3RoO1xuICAgIGxldCBzdGFjaztcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgaWxlbjsgKytpKXtcbiAgICAgICAgY29uc3QgaXRlbSA9IHBhcnNlZFtpXTtcbiAgICAgICAgY29uc3QgeyBbaUF4aXNdOiBpbmRleCAsIFt2QXhpc106IHZhbHVlICB9ID0gaXRlbTtcbiAgICAgICAgY29uc3QgaXRlbVN0YWNrcyA9IGl0ZW0uX3N0YWNrcyB8fCAoaXRlbS5fc3RhY2tzID0ge30pO1xuICAgICAgICBzdGFjayA9IGl0ZW1TdGFja3NbdkF4aXNdID0gZ2V0T3JDcmVhdGVTdGFjayhzdGFja3MsIGtleSwgaW5kZXgpO1xuICAgICAgICBzdGFja1tkYXRhc2V0SW5kZXhdID0gdmFsdWU7XG4gICAgICAgIHN0YWNrLl90b3AgPSBnZXRMYXN0SW5kZXhJblN0YWNrKHN0YWNrLCB2U2NhbGUsIHRydWUsIG1ldGEudHlwZSk7XG4gICAgICAgIHN0YWNrLl9ib3R0b20gPSBnZXRMYXN0SW5kZXhJblN0YWNrKHN0YWNrLCB2U2NhbGUsIGZhbHNlLCBtZXRhLnR5cGUpO1xuICAgICAgICBjb25zdCB2aXN1YWxWYWx1ZXMgPSBzdGFjay5fdmlzdWFsVmFsdWVzIHx8IChzdGFjay5fdmlzdWFsVmFsdWVzID0ge30pO1xuICAgICAgICB2aXN1YWxWYWx1ZXNbZGF0YXNldEluZGV4XSA9IHZhbHVlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldEZpcnN0U2NhbGVJZChjaGFydCwgYXhpcykge1xuICAgIGNvbnN0IHNjYWxlcyA9IGNoYXJ0LnNjYWxlcztcbiAgICByZXR1cm4gT2JqZWN0LmtleXMoc2NhbGVzKS5maWx0ZXIoKGtleSk9PnNjYWxlc1trZXldLmF4aXMgPT09IGF4aXMpLnNoaWZ0KCk7XG59XG5mdW5jdGlvbiBjcmVhdGVEYXRhc2V0Q29udGV4dChwYXJlbnQsIGluZGV4KSB7XG4gICAgcmV0dXJuIGNyZWF0ZUNvbnRleHQocGFyZW50LCB7XG4gICAgICAgIGFjdGl2ZTogZmFsc2UsXG4gICAgICAgIGRhdGFzZXQ6IHVuZGVmaW5lZCxcbiAgICAgICAgZGF0YXNldEluZGV4OiBpbmRleCxcbiAgICAgICAgaW5kZXgsXG4gICAgICAgIG1vZGU6ICdkZWZhdWx0JyxcbiAgICAgICAgdHlwZTogJ2RhdGFzZXQnXG4gICAgfSk7XG59XG5mdW5jdGlvbiBjcmVhdGVEYXRhQ29udGV4dChwYXJlbnQsIGluZGV4LCBlbGVtZW50KSB7XG4gICAgcmV0dXJuIGNyZWF0ZUNvbnRleHQocGFyZW50LCB7XG4gICAgICAgIGFjdGl2ZTogZmFsc2UsXG4gICAgICAgIGRhdGFJbmRleDogaW5kZXgsXG4gICAgICAgIHBhcnNlZDogdW5kZWZpbmVkLFxuICAgICAgICByYXc6IHVuZGVmaW5lZCxcbiAgICAgICAgZWxlbWVudCxcbiAgICAgICAgaW5kZXgsXG4gICAgICAgIG1vZGU6ICdkZWZhdWx0JyxcbiAgICAgICAgdHlwZTogJ2RhdGEnXG4gICAgfSk7XG59XG5mdW5jdGlvbiBjbGVhclN0YWNrcyhtZXRhLCBpdGVtcykge1xuICAgIGNvbnN0IGRhdGFzZXRJbmRleCA9IG1ldGEuY29udHJvbGxlci5pbmRleDtcbiAgICBjb25zdCBheGlzID0gbWV0YS52U2NhbGUgJiYgbWV0YS52U2NhbGUuYXhpcztcbiAgICBpZiAoIWF4aXMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpdGVtcyA9IGl0ZW1zIHx8IG1ldGEuX3BhcnNlZDtcbiAgICBmb3IgKGNvbnN0IHBhcnNlZCBvZiBpdGVtcyl7XG4gICAgICAgIGNvbnN0IHN0YWNrcyA9IHBhcnNlZC5fc3RhY2tzO1xuICAgICAgICBpZiAoIXN0YWNrcyB8fCBzdGFja3NbYXhpc10gPT09IHVuZGVmaW5lZCB8fCBzdGFja3NbYXhpc11bZGF0YXNldEluZGV4XSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZGVsZXRlIHN0YWNrc1theGlzXVtkYXRhc2V0SW5kZXhdO1xuICAgICAgICBpZiAoc3RhY2tzW2F4aXNdLl92aXN1YWxWYWx1ZXMgIT09IHVuZGVmaW5lZCAmJiBzdGFja3NbYXhpc10uX3Zpc3VhbFZhbHVlc1tkYXRhc2V0SW5kZXhdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBzdGFja3NbYXhpc10uX3Zpc3VhbFZhbHVlc1tkYXRhc2V0SW5kZXhdO1xuICAgICAgICB9XG4gICAgfVxufVxuY29uc3QgaXNEaXJlY3RVcGRhdGVNb2RlID0gKG1vZGUpPT5tb2RlID09PSAncmVzZXQnIHx8IG1vZGUgPT09ICdub25lJztcbmNvbnN0IGNsb25lSWZOb3RTaGFyZWQgPSAoY2FjaGVkLCBzaGFyZWQpPT5zaGFyZWQgPyBjYWNoZWQgOiBPYmplY3QuYXNzaWduKHt9LCBjYWNoZWQpO1xuY29uc3QgY3JlYXRlU3RhY2sgPSAoY2FuU3RhY2ssIG1ldGEsIGNoYXJ0KT0+Y2FuU3RhY2sgJiYgIW1ldGEuaGlkZGVuICYmIG1ldGEuX3N0YWNrZWQgJiYge1xuICAgICAgICBrZXlzOiBnZXRTb3J0ZWREYXRhc2V0SW5kaWNlcyhjaGFydCwgdHJ1ZSksXG4gICAgICAgIHZhbHVlczogbnVsbFxuICAgIH07XG5jbGFzcyBEYXRhc2V0Q29udHJvbGxlciB7XG4gc3RhdGljIGRlZmF1bHRzID0ge307XG4gc3RhdGljIGRhdGFzZXRFbGVtZW50VHlwZSA9IG51bGw7XG4gc3RhdGljIGRhdGFFbGVtZW50VHlwZSA9IG51bGw7XG4gY29uc3RydWN0b3IoY2hhcnQsIGRhdGFzZXRJbmRleCl7XG4gICAgICAgIHRoaXMuY2hhcnQgPSBjaGFydDtcbiAgICAgICAgdGhpcy5fY3R4ID0gY2hhcnQuY3R4O1xuICAgICAgICB0aGlzLmluZGV4ID0gZGF0YXNldEluZGV4O1xuICAgICAgICB0aGlzLl9jYWNoZWREYXRhT3B0cyA9IHt9O1xuICAgICAgICB0aGlzLl9jYWNoZWRNZXRhID0gdGhpcy5nZXRNZXRhKCk7XG4gICAgICAgIHRoaXMuX3R5cGUgPSB0aGlzLl9jYWNoZWRNZXRhLnR5cGU7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IHVuZGVmaW5lZDtcbiAgICAgICAgIHRoaXMuX3BhcnNpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fZGF0YSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fb2JqZWN0RGF0YSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fc2hhcmVkT3B0aW9ucyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fZHJhd1N0YXJ0ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9kcmF3Q291bnQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuZW5hYmxlT3B0aW9uU2hhcmluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLnN1cHBvcnRzRGVjaW1hdGlvbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLiRjb250ZXh0ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9zeW5jTGlzdCA9IFtdO1xuICAgICAgICB0aGlzLmRhdGFzZXRFbGVtZW50VHlwZSA9IG5ldy50YXJnZXQuZGF0YXNldEVsZW1lbnRUeXBlO1xuICAgICAgICB0aGlzLmRhdGFFbGVtZW50VHlwZSA9IG5ldy50YXJnZXQuZGF0YUVsZW1lbnRUeXBlO1xuICAgICAgICB0aGlzLmluaXRpYWxpemUoKTtcbiAgICB9XG4gICAgaW5pdGlhbGl6ZSgpIHtcbiAgICAgICAgY29uc3QgbWV0YSA9IHRoaXMuX2NhY2hlZE1ldGE7XG4gICAgICAgIHRoaXMuY29uZmlndXJlKCk7XG4gICAgICAgIHRoaXMubGlua1NjYWxlcygpO1xuICAgICAgICBtZXRhLl9zdGFja2VkID0gaXNTdGFja2VkKG1ldGEudlNjYWxlLCBtZXRhKTtcbiAgICAgICAgdGhpcy5hZGRFbGVtZW50cygpO1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmZpbGwgJiYgIXRoaXMuY2hhcnQuaXNQbHVnaW5FbmFibGVkKCdmaWxsZXInKSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiVHJpZWQgdG8gdXNlIHRoZSAnZmlsbCcgb3B0aW9uIHdpdGhvdXQgdGhlICdGaWxsZXInIHBsdWdpbiBlbmFibGVkLiBQbGVhc2UgaW1wb3J0IGFuZCByZWdpc3RlciB0aGUgJ0ZpbGxlcicgcGx1Z2luIGFuZCBtYWtlIHN1cmUgaXQgaXMgbm90IGRpc2FibGVkIGluIHRoZSBvcHRpb25zXCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHVwZGF0ZUluZGV4KGRhdGFzZXRJbmRleCkge1xuICAgICAgICBpZiAodGhpcy5pbmRleCAhPT0gZGF0YXNldEluZGV4KSB7XG4gICAgICAgICAgICBjbGVhclN0YWNrcyh0aGlzLl9jYWNoZWRNZXRhKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmluZGV4ID0gZGF0YXNldEluZGV4O1xuICAgIH1cbiAgICBsaW5rU2NhbGVzKCkge1xuICAgICAgICBjb25zdCBjaGFydCA9IHRoaXMuY2hhcnQ7XG4gICAgICAgIGNvbnN0IG1ldGEgPSB0aGlzLl9jYWNoZWRNZXRhO1xuICAgICAgICBjb25zdCBkYXRhc2V0ID0gdGhpcy5nZXREYXRhc2V0KCk7XG4gICAgICAgIGNvbnN0IGNob29zZUlkID0gKGF4aXMsIHgsIHksIHIpPT5heGlzID09PSAneCcgPyB4IDogYXhpcyA9PT0gJ3InID8gciA6IHk7XG4gICAgICAgIGNvbnN0IHhpZCA9IG1ldGEueEF4aXNJRCA9IHZhbHVlT3JEZWZhdWx0KGRhdGFzZXQueEF4aXNJRCwgZ2V0Rmlyc3RTY2FsZUlkKGNoYXJ0LCAneCcpKTtcbiAgICAgICAgY29uc3QgeWlkID0gbWV0YS55QXhpc0lEID0gdmFsdWVPckRlZmF1bHQoZGF0YXNldC55QXhpc0lELCBnZXRGaXJzdFNjYWxlSWQoY2hhcnQsICd5JykpO1xuICAgICAgICBjb25zdCByaWQgPSBtZXRhLnJBeGlzSUQgPSB2YWx1ZU9yRGVmYXVsdChkYXRhc2V0LnJBeGlzSUQsIGdldEZpcnN0U2NhbGVJZChjaGFydCwgJ3InKSk7XG4gICAgICAgIGNvbnN0IGluZGV4QXhpcyA9IG1ldGEuaW5kZXhBeGlzO1xuICAgICAgICBjb25zdCBpaWQgPSBtZXRhLmlBeGlzSUQgPSBjaG9vc2VJZChpbmRleEF4aXMsIHhpZCwgeWlkLCByaWQpO1xuICAgICAgICBjb25zdCB2aWQgPSBtZXRhLnZBeGlzSUQgPSBjaG9vc2VJZChpbmRleEF4aXMsIHlpZCwgeGlkLCByaWQpO1xuICAgICAgICBtZXRhLnhTY2FsZSA9IHRoaXMuZ2V0U2NhbGVGb3JJZCh4aWQpO1xuICAgICAgICBtZXRhLnlTY2FsZSA9IHRoaXMuZ2V0U2NhbGVGb3JJZCh5aWQpO1xuICAgICAgICBtZXRhLnJTY2FsZSA9IHRoaXMuZ2V0U2NhbGVGb3JJZChyaWQpO1xuICAgICAgICBtZXRhLmlTY2FsZSA9IHRoaXMuZ2V0U2NhbGVGb3JJZChpaWQpO1xuICAgICAgICBtZXRhLnZTY2FsZSA9IHRoaXMuZ2V0U2NhbGVGb3JJZCh2aWQpO1xuICAgIH1cbiAgICBnZXREYXRhc2V0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGFydC5kYXRhLmRhdGFzZXRzW3RoaXMuaW5kZXhdO1xuICAgIH1cbiAgICBnZXRNZXRhKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGFydC5nZXREYXRhc2V0TWV0YSh0aGlzLmluZGV4KTtcbiAgICB9XG4gZ2V0U2NhbGVGb3JJZChzY2FsZUlEKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNoYXJ0LnNjYWxlc1tzY2FsZUlEXTtcbiAgICB9XG4gX2dldE90aGVyU2NhbGUoc2NhbGUpIHtcbiAgICAgICAgY29uc3QgbWV0YSA9IHRoaXMuX2NhY2hlZE1ldGE7XG4gICAgICAgIHJldHVybiBzY2FsZSA9PT0gbWV0YS5pU2NhbGUgPyBtZXRhLnZTY2FsZSA6IG1ldGEuaVNjYWxlO1xuICAgIH1cbiAgICByZXNldCgpIHtcbiAgICAgICAgdGhpcy5fdXBkYXRlKCdyZXNldCcpO1xuICAgIH1cbiBfZGVzdHJveSgpIHtcbiAgICAgICAgY29uc3QgbWV0YSA9IHRoaXMuX2NhY2hlZE1ldGE7XG4gICAgICAgIGlmICh0aGlzLl9kYXRhKSB7XG4gICAgICAgICAgICB1bmxpc3RlbkFycmF5RXZlbnRzKHRoaXMuX2RhdGEsIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXRhLl9zdGFja2VkKSB7XG4gICAgICAgICAgICBjbGVhclN0YWNrcyhtZXRhKTtcbiAgICAgICAgfVxuICAgIH1cbiBfZGF0YUNoZWNrKCkge1xuICAgICAgICBjb25zdCBkYXRhc2V0ID0gdGhpcy5nZXREYXRhc2V0KCk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBkYXRhc2V0LmRhdGEgfHwgKGRhdGFzZXQuZGF0YSA9IFtdKTtcbiAgICAgICAgY29uc3QgX2RhdGEgPSB0aGlzLl9kYXRhO1xuICAgICAgICBpZiAoaXNPYmplY3QoZGF0YSkpIHtcbiAgICAgICAgICAgIGNvbnN0IG1ldGEgPSB0aGlzLl9jYWNoZWRNZXRhO1xuICAgICAgICAgICAgdGhpcy5fZGF0YSA9IGNvbnZlcnRPYmplY3REYXRhVG9BcnJheShkYXRhLCBtZXRhKTtcbiAgICAgICAgfSBlbHNlIGlmIChfZGF0YSAhPT0gZGF0YSkge1xuICAgICAgICAgICAgaWYgKF9kYXRhKSB7XG4gICAgICAgICAgICAgICAgdW5saXN0ZW5BcnJheUV2ZW50cyhfZGF0YSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgY29uc3QgbWV0YSA9IHRoaXMuX2NhY2hlZE1ldGE7XG4gICAgICAgICAgICAgICAgY2xlYXJTdGFja3MobWV0YSk7XG4gICAgICAgICAgICAgICAgbWV0YS5fcGFyc2VkID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF0YSAmJiBPYmplY3QuaXNFeHRlbnNpYmxlKGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuQXJyYXlFdmVudHMoZGF0YSwgdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9zeW5jTGlzdCA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fZGF0YSA9IGRhdGE7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYWRkRWxlbWVudHMoKSB7XG4gICAgICAgIGNvbnN0IG1ldGEgPSB0aGlzLl9jYWNoZWRNZXRhO1xuICAgICAgICB0aGlzLl9kYXRhQ2hlY2soKTtcbiAgICAgICAgaWYgKHRoaXMuZGF0YXNldEVsZW1lbnRUeXBlKSB7XG4gICAgICAgICAgICBtZXRhLmRhdGFzZXQgPSBuZXcgdGhpcy5kYXRhc2V0RWxlbWVudFR5cGUoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBidWlsZE9yVXBkYXRlRWxlbWVudHMocmVzZXROZXdFbGVtZW50cykge1xuICAgICAgICBjb25zdCBtZXRhID0gdGhpcy5fY2FjaGVkTWV0YTtcbiAgICAgICAgY29uc3QgZGF0YXNldCA9IHRoaXMuZ2V0RGF0YXNldCgpO1xuICAgICAgICBsZXQgc3RhY2tDaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2RhdGFDaGVjaygpO1xuICAgICAgICBjb25zdCBvbGRTdGFja2VkID0gbWV0YS5fc3RhY2tlZDtcbiAgICAgICAgbWV0YS5fc3RhY2tlZCA9IGlzU3RhY2tlZChtZXRhLnZTY2FsZSwgbWV0YSk7XG4gICAgICAgIGlmIChtZXRhLnN0YWNrICE9PSBkYXRhc2V0LnN0YWNrKSB7XG4gICAgICAgICAgICBzdGFja0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgY2xlYXJTdGFja3MobWV0YSk7XG4gICAgICAgICAgICBtZXRhLnN0YWNrID0gZGF0YXNldC5zdGFjaztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9yZXN5bmNFbGVtZW50cyhyZXNldE5ld0VsZW1lbnRzKTtcbiAgICAgICAgaWYgKHN0YWNrQ2hhbmdlZCB8fCBvbGRTdGFja2VkICE9PSBtZXRhLl9zdGFja2VkKSB7XG4gICAgICAgICAgICB1cGRhdGVTdGFja3ModGhpcywgbWV0YS5fcGFyc2VkKTtcbiAgICAgICAgfVxuICAgIH1cbiBjb25maWd1cmUoKSB7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IHRoaXMuY2hhcnQuY29uZmlnO1xuICAgICAgICBjb25zdCBzY29wZUtleXMgPSBjb25maWcuZGF0YXNldFNjb3BlS2V5cyh0aGlzLl90eXBlKTtcbiAgICAgICAgY29uc3Qgc2NvcGVzID0gY29uZmlnLmdldE9wdGlvblNjb3Blcyh0aGlzLmdldERhdGFzZXQoKSwgc2NvcGVLZXlzLCB0cnVlKTtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gY29uZmlnLmNyZWF0ZVJlc29sdmVyKHNjb3BlcywgdGhpcy5nZXRDb250ZXh0KCkpO1xuICAgICAgICB0aGlzLl9wYXJzaW5nID0gdGhpcy5vcHRpb25zLnBhcnNpbmc7XG4gICAgICAgIHRoaXMuX2NhY2hlZERhdGFPcHRzID0ge307XG4gICAgfVxuIHBhcnNlKHN0YXJ0LCBjb3VudCkge1xuICAgICAgICBjb25zdCB7IF9jYWNoZWRNZXRhOiBtZXRhICwgX2RhdGE6IGRhdGEgIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCB7IGlTY2FsZSAsIF9zdGFja2VkICB9ID0gbWV0YTtcbiAgICAgICAgY29uc3QgaUF4aXMgPSBpU2NhbGUuYXhpcztcbiAgICAgICAgbGV0IHNvcnRlZCA9IHN0YXJ0ID09PSAwICYmIGNvdW50ID09PSBkYXRhLmxlbmd0aCA/IHRydWUgOiBtZXRhLl9zb3J0ZWQ7XG4gICAgICAgIGxldCBwcmV2ID0gc3RhcnQgPiAwICYmIG1ldGEuX3BhcnNlZFtzdGFydCAtIDFdO1xuICAgICAgICBsZXQgaSwgY3VyLCBwYXJzZWQ7XG4gICAgICAgIGlmICh0aGlzLl9wYXJzaW5nID09PSBmYWxzZSkge1xuICAgICAgICAgICAgbWV0YS5fcGFyc2VkID0gZGF0YTtcbiAgICAgICAgICAgIG1ldGEuX3NvcnRlZCA9IHRydWU7XG4gICAgICAgICAgICBwYXJzZWQgPSBkYXRhO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGlzQXJyYXkoZGF0YVtzdGFydF0pKSB7XG4gICAgICAgICAgICAgICAgcGFyc2VkID0gdGhpcy5wYXJzZUFycmF5RGF0YShtZXRhLCBkYXRhLCBzdGFydCwgY291bnQpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpc09iamVjdChkYXRhW3N0YXJ0XSkpIHtcbiAgICAgICAgICAgICAgICBwYXJzZWQgPSB0aGlzLnBhcnNlT2JqZWN0RGF0YShtZXRhLCBkYXRhLCBzdGFydCwgY291bnQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYXJzZWQgPSB0aGlzLnBhcnNlUHJpbWl0aXZlRGF0YShtZXRhLCBkYXRhLCBzdGFydCwgY291bnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaXNOb3RJbk9yZGVyQ29tcGFyZWRUb1ByZXYgPSAoKT0+Y3VyW2lBeGlzXSA9PT0gbnVsbCB8fCBwcmV2ICYmIGN1cltpQXhpc10gPCBwcmV2W2lBeGlzXTtcbiAgICAgICAgICAgIGZvcihpID0gMDsgaSA8IGNvdW50OyArK2kpe1xuICAgICAgICAgICAgICAgIG1ldGEuX3BhcnNlZFtpICsgc3RhcnRdID0gY3VyID0gcGFyc2VkW2ldO1xuICAgICAgICAgICAgICAgIGlmIChzb3J0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTm90SW5PcmRlckNvbXBhcmVkVG9QcmV2KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvcnRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHByZXYgPSBjdXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWV0YS5fc29ydGVkID0gc29ydGVkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfc3RhY2tlZCkge1xuICAgICAgICAgICAgdXBkYXRlU3RhY2tzKHRoaXMsIHBhcnNlZCk7XG4gICAgICAgIH1cbiAgICB9XG4gcGFyc2VQcmltaXRpdmVEYXRhKG1ldGEsIGRhdGEsIHN0YXJ0LCBjb3VudCkge1xuICAgICAgICBjb25zdCB7IGlTY2FsZSAsIHZTY2FsZSAgfSA9IG1ldGE7XG4gICAgICAgIGNvbnN0IGlBeGlzID0gaVNjYWxlLmF4aXM7XG4gICAgICAgIGNvbnN0IHZBeGlzID0gdlNjYWxlLmF4aXM7XG4gICAgICAgIGNvbnN0IGxhYmVscyA9IGlTY2FsZS5nZXRMYWJlbHMoKTtcbiAgICAgICAgY29uc3Qgc2luZ2xlU2NhbGUgPSBpU2NhbGUgPT09IHZTY2FsZTtcbiAgICAgICAgY29uc3QgcGFyc2VkID0gbmV3IEFycmF5KGNvdW50KTtcbiAgICAgICAgbGV0IGksIGlsZW4sIGluZGV4O1xuICAgICAgICBmb3IoaSA9IDAsIGlsZW4gPSBjb3VudDsgaSA8IGlsZW47ICsraSl7XG4gICAgICAgICAgICBpbmRleCA9IGkgKyBzdGFydDtcbiAgICAgICAgICAgIHBhcnNlZFtpXSA9IHtcbiAgICAgICAgICAgICAgICBbaUF4aXNdOiBzaW5nbGVTY2FsZSB8fCBpU2NhbGUucGFyc2UobGFiZWxzW2luZGV4XSwgaW5kZXgpLFxuICAgICAgICAgICAgICAgIFt2QXhpc106IHZTY2FsZS5wYXJzZShkYXRhW2luZGV4XSwgaW5kZXgpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXJzZWQ7XG4gICAgfVxuIHBhcnNlQXJyYXlEYXRhKG1ldGEsIGRhdGEsIHN0YXJ0LCBjb3VudCkge1xuICAgICAgICBjb25zdCB7IHhTY2FsZSAsIHlTY2FsZSAgfSA9IG1ldGE7XG4gICAgICAgIGNvbnN0IHBhcnNlZCA9IG5ldyBBcnJheShjb3VudCk7XG4gICAgICAgIGxldCBpLCBpbGVuLCBpbmRleCwgaXRlbTtcbiAgICAgICAgZm9yKGkgPSAwLCBpbGVuID0gY291bnQ7IGkgPCBpbGVuOyArK2kpe1xuICAgICAgICAgICAgaW5kZXggPSBpICsgc3RhcnQ7XG4gICAgICAgICAgICBpdGVtID0gZGF0YVtpbmRleF07XG4gICAgICAgICAgICBwYXJzZWRbaV0gPSB7XG4gICAgICAgICAgICAgICAgeDogeFNjYWxlLnBhcnNlKGl0ZW1bMF0sIGluZGV4KSxcbiAgICAgICAgICAgICAgICB5OiB5U2NhbGUucGFyc2UoaXRlbVsxXSwgaW5kZXgpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXJzZWQ7XG4gICAgfVxuIHBhcnNlT2JqZWN0RGF0YShtZXRhLCBkYXRhLCBzdGFydCwgY291bnQpIHtcbiAgICAgICAgY29uc3QgeyB4U2NhbGUgLCB5U2NhbGUgIH0gPSBtZXRhO1xuICAgICAgICBjb25zdCB7IHhBeGlzS2V5ID0neCcgLCB5QXhpc0tleSA9J3knICB9ID0gdGhpcy5fcGFyc2luZztcbiAgICAgICAgY29uc3QgcGFyc2VkID0gbmV3IEFycmF5KGNvdW50KTtcbiAgICAgICAgbGV0IGksIGlsZW4sIGluZGV4LCBpdGVtO1xuICAgICAgICBmb3IoaSA9IDAsIGlsZW4gPSBjb3VudDsgaSA8IGlsZW47ICsraSl7XG4gICAgICAgICAgICBpbmRleCA9IGkgKyBzdGFydDtcbiAgICAgICAgICAgIGl0ZW0gPSBkYXRhW2luZGV4XTtcbiAgICAgICAgICAgIHBhcnNlZFtpXSA9IHtcbiAgICAgICAgICAgICAgICB4OiB4U2NhbGUucGFyc2UocmVzb2x2ZU9iamVjdEtleShpdGVtLCB4QXhpc0tleSksIGluZGV4KSxcbiAgICAgICAgICAgICAgICB5OiB5U2NhbGUucGFyc2UocmVzb2x2ZU9iamVjdEtleShpdGVtLCB5QXhpc0tleSksIGluZGV4KVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFyc2VkO1xuICAgIH1cbiBnZXRQYXJzZWQoaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlZE1ldGEuX3BhcnNlZFtpbmRleF07XG4gICAgfVxuIGdldERhdGFFbGVtZW50KGluZGV4KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWRNZXRhLmRhdGFbaW5kZXhdO1xuICAgIH1cbiBhcHBseVN0YWNrKHNjYWxlLCBwYXJzZWQsIG1vZGUpIHtcbiAgICAgICAgY29uc3QgY2hhcnQgPSB0aGlzLmNoYXJ0O1xuICAgICAgICBjb25zdCBtZXRhID0gdGhpcy5fY2FjaGVkTWV0YTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBwYXJzZWRbc2NhbGUuYXhpc107XG4gICAgICAgIGNvbnN0IHN0YWNrID0ge1xuICAgICAgICAgICAga2V5czogZ2V0U29ydGVkRGF0YXNldEluZGljZXMoY2hhcnQsIHRydWUpLFxuICAgICAgICAgICAgdmFsdWVzOiBwYXJzZWQuX3N0YWNrc1tzY2FsZS5heGlzXS5fdmlzdWFsVmFsdWVzXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBhcHBseVN0YWNrKHN0YWNrLCB2YWx1ZSwgbWV0YS5pbmRleCwge1xuICAgICAgICAgICAgbW9kZVxuICAgICAgICB9KTtcbiAgICB9XG4gdXBkYXRlUmFuZ2VGcm9tUGFyc2VkKHJhbmdlLCBzY2FsZSwgcGFyc2VkLCBzdGFjaykge1xuICAgICAgICBjb25zdCBwYXJzZWRWYWx1ZSA9IHBhcnNlZFtzY2FsZS5heGlzXTtcbiAgICAgICAgbGV0IHZhbHVlID0gcGFyc2VkVmFsdWUgPT09IG51bGwgPyBOYU4gOiBwYXJzZWRWYWx1ZTtcbiAgICAgICAgY29uc3QgdmFsdWVzID0gc3RhY2sgJiYgcGFyc2VkLl9zdGFja3Nbc2NhbGUuYXhpc107XG4gICAgICAgIGlmIChzdGFjayAmJiB2YWx1ZXMpIHtcbiAgICAgICAgICAgIHN0YWNrLnZhbHVlcyA9IHZhbHVlcztcbiAgICAgICAgICAgIHZhbHVlID0gYXBwbHlTdGFjayhzdGFjaywgcGFyc2VkVmFsdWUsIHRoaXMuX2NhY2hlZE1ldGEuaW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIHJhbmdlLm1pbiA9IE1hdGgubWluKHJhbmdlLm1pbiwgdmFsdWUpO1xuICAgICAgICByYW5nZS5tYXggPSBNYXRoLm1heChyYW5nZS5tYXgsIHZhbHVlKTtcbiAgICB9XG4gZ2V0TWluTWF4KHNjYWxlLCBjYW5TdGFjaykge1xuICAgICAgICBjb25zdCBtZXRhID0gdGhpcy5fY2FjaGVkTWV0YTtcbiAgICAgICAgY29uc3QgX3BhcnNlZCA9IG1ldGEuX3BhcnNlZDtcbiAgICAgICAgY29uc3Qgc29ydGVkID0gbWV0YS5fc29ydGVkICYmIHNjYWxlID09PSBtZXRhLmlTY2FsZTtcbiAgICAgICAgY29uc3QgaWxlbiA9IF9wYXJzZWQubGVuZ3RoO1xuICAgICAgICBjb25zdCBvdGhlclNjYWxlID0gdGhpcy5fZ2V0T3RoZXJTY2FsZShzY2FsZSk7XG4gICAgICAgIGNvbnN0IHN0YWNrID0gY3JlYXRlU3RhY2soY2FuU3RhY2ssIG1ldGEsIHRoaXMuY2hhcnQpO1xuICAgICAgICBjb25zdCByYW5nZSA9IHtcbiAgICAgICAgICAgIG1pbjogTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLFxuICAgICAgICAgICAgbWF4OiBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFlcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgeyBtaW46IG90aGVyTWluICwgbWF4OiBvdGhlck1heCAgfSA9IGdldFVzZXJCb3VuZHMob3RoZXJTY2FsZSk7XG4gICAgICAgIGxldCBpLCBwYXJzZWQ7XG4gICAgICAgIGZ1bmN0aW9uIF9za2lwKCkge1xuICAgICAgICAgICAgcGFyc2VkID0gX3BhcnNlZFtpXTtcbiAgICAgICAgICAgIGNvbnN0IG90aGVyVmFsdWUgPSBwYXJzZWRbb3RoZXJTY2FsZS5heGlzXTtcbiAgICAgICAgICAgIHJldHVybiAhaXNOdW1iZXJGaW5pdGUocGFyc2VkW3NjYWxlLmF4aXNdKSB8fCBvdGhlck1pbiA+IG90aGVyVmFsdWUgfHwgb3RoZXJNYXggPCBvdGhlclZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGZvcihpID0gMDsgaSA8IGlsZW47ICsraSl7XG4gICAgICAgICAgICBpZiAoX3NraXAoKSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy51cGRhdGVSYW5nZUZyb21QYXJzZWQocmFuZ2UsIHNjYWxlLCBwYXJzZWQsIHN0YWNrKTtcbiAgICAgICAgICAgIGlmIChzb3J0ZWQpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoc29ydGVkKSB7XG4gICAgICAgICAgICBmb3IoaSA9IGlsZW4gLSAxOyBpID49IDA7IC0taSl7XG4gICAgICAgICAgICAgICAgaWYgKF9za2lwKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUmFuZ2VGcm9tUGFyc2VkKHJhbmdlLCBzY2FsZSwgcGFyc2VkLCBzdGFjayk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJhbmdlO1xuICAgIH1cbiAgICBnZXRBbGxQYXJzZWRWYWx1ZXMoc2NhbGUpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkID0gdGhpcy5fY2FjaGVkTWV0YS5fcGFyc2VkO1xuICAgICAgICBjb25zdCB2YWx1ZXMgPSBbXTtcbiAgICAgICAgbGV0IGksIGlsZW4sIHZhbHVlO1xuICAgICAgICBmb3IoaSA9IDAsIGlsZW4gPSBwYXJzZWQubGVuZ3RoOyBpIDwgaWxlbjsgKytpKXtcbiAgICAgICAgICAgIHZhbHVlID0gcGFyc2VkW2ldW3NjYWxlLmF4aXNdO1xuICAgICAgICAgICAgaWYgKGlzTnVtYmVyRmluaXRlKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHZhbHVlcy5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWVzO1xuICAgIH1cbiBnZXRNYXhPdmVyZmxvdygpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiBnZXRMYWJlbEFuZFZhbHVlKGluZGV4KSB7XG4gICAgICAgIGNvbnN0IG1ldGEgPSB0aGlzLl9jYWNoZWRNZXRhO1xuICAgICAgICBjb25zdCBpU2NhbGUgPSBtZXRhLmlTY2FsZTtcbiAgICAgICAgY29uc3QgdlNjYWxlID0gbWV0YS52U2NhbGU7XG4gICAgICAgIGNvbnN0IHBhcnNlZCA9IHRoaXMuZ2V0UGFyc2VkKGluZGV4KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxhYmVsOiBpU2NhbGUgPyAnJyArIGlTY2FsZS5nZXRMYWJlbEZvclZhbHVlKHBhcnNlZFtpU2NhbGUuYXhpc10pIDogJycsXG4gICAgICAgICAgICB2YWx1ZTogdlNjYWxlID8gJycgKyB2U2NhbGUuZ2V0TGFiZWxGb3JWYWx1ZShwYXJzZWRbdlNjYWxlLmF4aXNdKSA6ICcnXG4gICAgICAgIH07XG4gICAgfVxuIF91cGRhdGUobW9kZSkge1xuICAgICAgICBjb25zdCBtZXRhID0gdGhpcy5fY2FjaGVkTWV0YTtcbiAgICAgICAgdGhpcy51cGRhdGUobW9kZSB8fCAnZGVmYXVsdCcpO1xuICAgICAgICBtZXRhLl9jbGlwID0gdG9DbGlwKHZhbHVlT3JEZWZhdWx0KHRoaXMub3B0aW9ucy5jbGlwLCBkZWZhdWx0Q2xpcChtZXRhLnhTY2FsZSwgbWV0YS55U2NhbGUsIHRoaXMuZ2V0TWF4T3ZlcmZsb3coKSkpKTtcbiAgICB9XG4gdXBkYXRlKG1vZGUpIHt9XG4gICAgZHJhdygpIHtcbiAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fY3R4O1xuICAgICAgICBjb25zdCBjaGFydCA9IHRoaXMuY2hhcnQ7XG4gICAgICAgIGNvbnN0IG1ldGEgPSB0aGlzLl9jYWNoZWRNZXRhO1xuICAgICAgICBjb25zdCBlbGVtZW50cyA9IG1ldGEuZGF0YSB8fCBbXTtcbiAgICAgICAgY29uc3QgYXJlYSA9IGNoYXJ0LmNoYXJ0QXJlYTtcbiAgICAgICAgY29uc3QgYWN0aXZlID0gW107XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gdGhpcy5fZHJhd1N0YXJ0IHx8IDA7XG4gICAgICAgIGNvbnN0IGNvdW50ID0gdGhpcy5fZHJhd0NvdW50IHx8IGVsZW1lbnRzLmxlbmd0aCAtIHN0YXJ0O1xuICAgICAgICBjb25zdCBkcmF3QWN0aXZlRWxlbWVudHNPblRvcCA9IHRoaXMub3B0aW9ucy5kcmF3QWN0aXZlRWxlbWVudHNPblRvcDtcbiAgICAgICAgbGV0IGk7XG4gICAgICAgIGlmIChtZXRhLmRhdGFzZXQpIHtcbiAgICAgICAgICAgIG1ldGEuZGF0YXNldC5kcmF3KGN0eCwgYXJlYSwgc3RhcnQsIGNvdW50KTtcbiAgICAgICAgfVxuICAgICAgICBmb3IoaSA9IHN0YXJ0OyBpIDwgc3RhcnQgKyBjb3VudDsgKytpKXtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBlbGVtZW50c1tpXTtcbiAgICAgICAgICAgIGlmIChlbGVtZW50LmhpZGRlbikge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGVsZW1lbnQuYWN0aXZlICYmIGRyYXdBY3RpdmVFbGVtZW50c09uVG9wKSB7XG4gICAgICAgICAgICAgICAgYWN0aXZlLnB1c2goZWxlbWVudCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuZHJhdyhjdHgsIGFyZWEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvcihpID0gMDsgaSA8IGFjdGl2ZS5sZW5ndGg7ICsraSl7XG4gICAgICAgICAgICBhY3RpdmVbaV0uZHJhdyhjdHgsIGFyZWEpO1xuICAgICAgICB9XG4gICAgfVxuIGdldFN0eWxlKGluZGV4LCBhY3RpdmUpIHtcbiAgICAgICAgY29uc3QgbW9kZSA9IGFjdGl2ZSA/ICdhY3RpdmUnIDogJ2RlZmF1bHQnO1xuICAgICAgICByZXR1cm4gaW5kZXggPT09IHVuZGVmaW5lZCAmJiB0aGlzLl9jYWNoZWRNZXRhLmRhdGFzZXQgPyB0aGlzLnJlc29sdmVEYXRhc2V0RWxlbWVudE9wdGlvbnMobW9kZSkgOiB0aGlzLnJlc29sdmVEYXRhRWxlbWVudE9wdGlvbnMoaW5kZXggfHwgMCwgbW9kZSk7XG4gICAgfVxuIGdldENvbnRleHQoaW5kZXgsIGFjdGl2ZSwgbW9kZSkge1xuICAgICAgICBjb25zdCBkYXRhc2V0ID0gdGhpcy5nZXREYXRhc2V0KCk7XG4gICAgICAgIGxldCBjb250ZXh0O1xuICAgICAgICBpZiAoaW5kZXggPj0gMCAmJiBpbmRleCA8IHRoaXMuX2NhY2hlZE1ldGEuZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLl9jYWNoZWRNZXRhLmRhdGFbaW5kZXhdO1xuICAgICAgICAgICAgY29udGV4dCA9IGVsZW1lbnQuJGNvbnRleHQgfHwgKGVsZW1lbnQuJGNvbnRleHQgPSBjcmVhdGVEYXRhQ29udGV4dCh0aGlzLmdldENvbnRleHQoKSwgaW5kZXgsIGVsZW1lbnQpKTtcbiAgICAgICAgICAgIGNvbnRleHQucGFyc2VkID0gdGhpcy5nZXRQYXJzZWQoaW5kZXgpO1xuICAgICAgICAgICAgY29udGV4dC5yYXcgPSBkYXRhc2V0LmRhdGFbaW5kZXhdO1xuICAgICAgICAgICAgY29udGV4dC5pbmRleCA9IGNvbnRleHQuZGF0YUluZGV4ID0gaW5kZXg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb250ZXh0ID0gdGhpcy4kY29udGV4dCB8fCAodGhpcy4kY29udGV4dCA9IGNyZWF0ZURhdGFzZXRDb250ZXh0KHRoaXMuY2hhcnQuZ2V0Q29udGV4dCgpLCB0aGlzLmluZGV4KSk7XG4gICAgICAgICAgICBjb250ZXh0LmRhdGFzZXQgPSBkYXRhc2V0O1xuICAgICAgICAgICAgY29udGV4dC5pbmRleCA9IGNvbnRleHQuZGF0YXNldEluZGV4ID0gdGhpcy5pbmRleDtcbiAgICAgICAgfVxuICAgICAgICBjb250ZXh0LmFjdGl2ZSA9ICEhYWN0aXZlO1xuICAgICAgICBjb250ZXh0Lm1vZGUgPSBtb2RlO1xuICAgICAgICByZXR1cm4gY29udGV4dDtcbiAgICB9XG4gcmVzb2x2ZURhdGFzZXRFbGVtZW50T3B0aW9ucyhtb2RlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZXNvbHZlRWxlbWVudE9wdGlvbnModGhpcy5kYXRhc2V0RWxlbWVudFR5cGUuaWQsIG1vZGUpO1xuICAgIH1cbiByZXNvbHZlRGF0YUVsZW1lbnRPcHRpb25zKGluZGV4LCBtb2RlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZXNvbHZlRWxlbWVudE9wdGlvbnModGhpcy5kYXRhRWxlbWVudFR5cGUuaWQsIG1vZGUsIGluZGV4KTtcbiAgICB9XG4gX3Jlc29sdmVFbGVtZW50T3B0aW9ucyhlbGVtZW50VHlwZSwgbW9kZSA9ICdkZWZhdWx0JywgaW5kZXgpIHtcbiAgICAgICAgY29uc3QgYWN0aXZlID0gbW9kZSA9PT0gJ2FjdGl2ZSc7XG4gICAgICAgIGNvbnN0IGNhY2hlID0gdGhpcy5fY2FjaGVkRGF0YU9wdHM7XG4gICAgICAgIGNvbnN0IGNhY2hlS2V5ID0gZWxlbWVudFR5cGUgKyAnLScgKyBtb2RlO1xuICAgICAgICBjb25zdCBjYWNoZWQgPSBjYWNoZVtjYWNoZUtleV07XG4gICAgICAgIGNvbnN0IHNoYXJpbmcgPSB0aGlzLmVuYWJsZU9wdGlvblNoYXJpbmcgJiYgZGVmaW5lZChpbmRleCk7XG4gICAgICAgIGlmIChjYWNoZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBjbG9uZUlmTm90U2hhcmVkKGNhY2hlZCwgc2hhcmluZyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29uZmlnID0gdGhpcy5jaGFydC5jb25maWc7XG4gICAgICAgIGNvbnN0IHNjb3BlS2V5cyA9IGNvbmZpZy5kYXRhc2V0RWxlbWVudFNjb3BlS2V5cyh0aGlzLl90eXBlLCBlbGVtZW50VHlwZSk7XG4gICAgICAgIGNvbnN0IHByZWZpeGVzID0gYWN0aXZlID8gW1xuICAgICAgICAgICAgYCR7ZWxlbWVudFR5cGV9SG92ZXJgLFxuICAgICAgICAgICAgJ2hvdmVyJyxcbiAgICAgICAgICAgIGVsZW1lbnRUeXBlLFxuICAgICAgICAgICAgJydcbiAgICAgICAgXSA6IFtcbiAgICAgICAgICAgIGVsZW1lbnRUeXBlLFxuICAgICAgICAgICAgJydcbiAgICAgICAgXTtcbiAgICAgICAgY29uc3Qgc2NvcGVzID0gY29uZmlnLmdldE9wdGlvblNjb3Blcyh0aGlzLmdldERhdGFzZXQoKSwgc2NvcGVLZXlzKTtcbiAgICAgICAgY29uc3QgbmFtZXMgPSBPYmplY3Qua2V5cyhkZWZhdWx0cy5lbGVtZW50c1tlbGVtZW50VHlwZV0pO1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gKCk9PnRoaXMuZ2V0Q29udGV4dChpbmRleCwgYWN0aXZlLCBtb2RlKTtcbiAgICAgICAgY29uc3QgdmFsdWVzID0gY29uZmlnLnJlc29sdmVOYW1lZE9wdGlvbnMoc2NvcGVzLCBuYW1lcywgY29udGV4dCwgcHJlZml4ZXMpO1xuICAgICAgICBpZiAodmFsdWVzLiRzaGFyZWQpIHtcbiAgICAgICAgICAgIHZhbHVlcy4kc2hhcmVkID0gc2hhcmluZztcbiAgICAgICAgICAgIGNhY2hlW2NhY2hlS2V5XSA9IE9iamVjdC5mcmVlemUoY2xvbmVJZk5vdFNoYXJlZCh2YWx1ZXMsIHNoYXJpbmcpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWVzO1xuICAgIH1cbiBfcmVzb2x2ZUFuaW1hdGlvbnMoaW5kZXgsIHRyYW5zaXRpb24sIGFjdGl2ZSkge1xuICAgICAgICBjb25zdCBjaGFydCA9IHRoaXMuY2hhcnQ7XG4gICAgICAgIGNvbnN0IGNhY2hlID0gdGhpcy5fY2FjaGVkRGF0YU9wdHM7XG4gICAgICAgIGNvbnN0IGNhY2hlS2V5ID0gYGFuaW1hdGlvbi0ke3RyYW5zaXRpb259YDtcbiAgICAgICAgY29uc3QgY2FjaGVkID0gY2FjaGVbY2FjaGVLZXldO1xuICAgICAgICBpZiAoY2FjaGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkO1xuICAgICAgICB9XG4gICAgICAgIGxldCBvcHRpb25zO1xuICAgICAgICBpZiAoY2hhcnQub3B0aW9ucy5hbmltYXRpb24gIT09IGZhbHNlKSB7XG4gICAgICAgICAgICBjb25zdCBjb25maWcgPSB0aGlzLmNoYXJ0LmNvbmZpZztcbiAgICAgICAgICAgIGNvbnN0IHNjb3BlS2V5cyA9IGNvbmZpZy5kYXRhc2V0QW5pbWF0aW9uU2NvcGVLZXlzKHRoaXMuX3R5cGUsIHRyYW5zaXRpb24pO1xuICAgICAgICAgICAgY29uc3Qgc2NvcGVzID0gY29uZmlnLmdldE9wdGlvblNjb3Blcyh0aGlzLmdldERhdGFzZXQoKSwgc2NvcGVLZXlzKTtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBjb25maWcuY3JlYXRlUmVzb2x2ZXIoc2NvcGVzLCB0aGlzLmdldENvbnRleHQoaW5kZXgsIGFjdGl2ZSwgdHJhbnNpdGlvbikpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGFuaW1hdGlvbnMgPSBuZXcgQW5pbWF0aW9ucyhjaGFydCwgb3B0aW9ucyAmJiBvcHRpb25zLmFuaW1hdGlvbnMpO1xuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLl9jYWNoZWFibGUpIHtcbiAgICAgICAgICAgIGNhY2hlW2NhY2hlS2V5XSA9IE9iamVjdC5mcmVlemUoYW5pbWF0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFuaW1hdGlvbnM7XG4gICAgfVxuIGdldFNoYXJlZE9wdGlvbnMob3B0aW9ucykge1xuICAgICAgICBpZiAoIW9wdGlvbnMuJHNoYXJlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9zaGFyZWRPcHRpb25zIHx8ICh0aGlzLl9zaGFyZWRPcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucykpO1xuICAgIH1cbiBpbmNsdWRlT3B0aW9ucyhtb2RlLCBzaGFyZWRPcHRpb25zKSB7XG4gICAgICAgIHJldHVybiAhc2hhcmVkT3B0aW9ucyB8fCBpc0RpcmVjdFVwZGF0ZU1vZGUobW9kZSkgfHwgdGhpcy5jaGFydC5fYW5pbWF0aW9uc0Rpc2FibGVkO1xuICAgIH1cbiBfZ2V0U2hhcmVkT3B0aW9ucyhzdGFydCwgbW9kZSkge1xuICAgICAgICBjb25zdCBmaXJzdE9wdHMgPSB0aGlzLnJlc29sdmVEYXRhRWxlbWVudE9wdGlvbnMoc3RhcnQsIG1vZGUpO1xuICAgICAgICBjb25zdCBwcmV2aW91c2x5U2hhcmVkT3B0aW9ucyA9IHRoaXMuX3NoYXJlZE9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHNoYXJlZE9wdGlvbnMgPSB0aGlzLmdldFNoYXJlZE9wdGlvbnMoZmlyc3RPcHRzKTtcbiAgICAgICAgY29uc3QgaW5jbHVkZU9wdGlvbnMgPSB0aGlzLmluY2x1ZGVPcHRpb25zKG1vZGUsIHNoYXJlZE9wdGlvbnMpIHx8IHNoYXJlZE9wdGlvbnMgIT09IHByZXZpb3VzbHlTaGFyZWRPcHRpb25zO1xuICAgICAgICB0aGlzLnVwZGF0ZVNoYXJlZE9wdGlvbnMoc2hhcmVkT3B0aW9ucywgbW9kZSwgZmlyc3RPcHRzKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNoYXJlZE9wdGlvbnMsXG4gICAgICAgICAgICBpbmNsdWRlT3B0aW9uc1xuICAgICAgICB9O1xuICAgIH1cbiB1cGRhdGVFbGVtZW50KGVsZW1lbnQsIGluZGV4LCBwcm9wZXJ0aWVzLCBtb2RlKSB7XG4gICAgICAgIGlmIChpc0RpcmVjdFVwZGF0ZU1vZGUobW9kZSkpIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oZWxlbWVudCwgcHJvcGVydGllcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9yZXNvbHZlQW5pbWF0aW9ucyhpbmRleCwgbW9kZSkudXBkYXRlKGVsZW1lbnQsIHByb3BlcnRpZXMpO1xuICAgICAgICB9XG4gICAgfVxuIHVwZGF0ZVNoYXJlZE9wdGlvbnMoc2hhcmVkT3B0aW9ucywgbW9kZSwgbmV3T3B0aW9ucykge1xuICAgICAgICBpZiAoc2hhcmVkT3B0aW9ucyAmJiAhaXNEaXJlY3RVcGRhdGVNb2RlKG1vZGUpKSB7XG4gICAgICAgICAgICB0aGlzLl9yZXNvbHZlQW5pbWF0aW9ucyh1bmRlZmluZWQsIG1vZGUpLnVwZGF0ZShzaGFyZWRPcHRpb25zLCBuZXdPcHRpb25zKTtcbiAgICAgICAgfVxuICAgIH1cbiBfc2V0U3R5bGUoZWxlbWVudCwgaW5kZXgsIG1vZGUsIGFjdGl2ZSkge1xuICAgICAgICBlbGVtZW50LmFjdGl2ZSA9IGFjdGl2ZTtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMuZ2V0U3R5bGUoaW5kZXgsIGFjdGl2ZSk7XG4gICAgICAgIHRoaXMuX3Jlc29sdmVBbmltYXRpb25zKGluZGV4LCBtb2RlLCBhY3RpdmUpLnVwZGF0ZShlbGVtZW50LCB7XG4gICAgICAgICAgICBvcHRpb25zOiAhYWN0aXZlICYmIHRoaXMuZ2V0U2hhcmVkT3B0aW9ucyhvcHRpb25zKSB8fCBvcHRpb25zXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZW1vdmVIb3ZlclN0eWxlKGVsZW1lbnQsIGRhdGFzZXRJbmRleCwgaW5kZXgpIHtcbiAgICAgICAgdGhpcy5fc2V0U3R5bGUoZWxlbWVudCwgaW5kZXgsICdhY3RpdmUnLCBmYWxzZSk7XG4gICAgfVxuICAgIHNldEhvdmVyU3R5bGUoZWxlbWVudCwgZGF0YXNldEluZGV4LCBpbmRleCkge1xuICAgICAgICB0aGlzLl9zZXRTdHlsZShlbGVtZW50LCBpbmRleCwgJ2FjdGl2ZScsIHRydWUpO1xuICAgIH1cbiBfcmVtb3ZlRGF0YXNldEhvdmVyU3R5bGUoKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLl9jYWNoZWRNZXRhLmRhdGFzZXQ7XG4gICAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9zZXRTdHlsZShlbGVtZW50LCB1bmRlZmluZWQsICdhY3RpdmUnLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9XG4gX3NldERhdGFzZXRIb3ZlclN0eWxlKCkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5fY2FjaGVkTWV0YS5kYXRhc2V0O1xuICAgICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5fc2V0U3R5bGUoZWxlbWVudCwgdW5kZWZpbmVkLCAnYWN0aXZlJywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gX3Jlc3luY0VsZW1lbnRzKHJlc2V0TmV3RWxlbWVudHMpIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMuX2RhdGE7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRzID0gdGhpcy5fY2FjaGVkTWV0YS5kYXRhO1xuICAgICAgICBmb3IgKGNvbnN0IFttZXRob2QsIGFyZzEsIGFyZzJdIG9mIHRoaXMuX3N5bmNMaXN0KXtcbiAgICAgICAgICAgIHRoaXNbbWV0aG9kXShhcmcxLCBhcmcyKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zeW5jTGlzdCA9IFtdO1xuICAgICAgICBjb25zdCBudW1NZXRhID0gZWxlbWVudHMubGVuZ3RoO1xuICAgICAgICBjb25zdCBudW1EYXRhID0gZGF0YS5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGNvdW50ID0gTWF0aC5taW4obnVtRGF0YSwgbnVtTWV0YSk7XG4gICAgICAgIGlmIChjb3VudCkge1xuICAgICAgICAgICAgdGhpcy5wYXJzZSgwLCBjb3VudCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG51bURhdGEgPiBudW1NZXRhKSB7XG4gICAgICAgICAgICB0aGlzLl9pbnNlcnRFbGVtZW50cyhudW1NZXRhLCBudW1EYXRhIC0gbnVtTWV0YSwgcmVzZXROZXdFbGVtZW50cyk7XG4gICAgICAgIH0gZWxzZSBpZiAobnVtRGF0YSA8IG51bU1ldGEpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbW92ZUVsZW1lbnRzKG51bURhdGEsIG51bU1ldGEgLSBudW1EYXRhKTtcbiAgICAgICAgfVxuICAgIH1cbiBfaW5zZXJ0RWxlbWVudHMoc3RhcnQsIGNvdW50LCByZXNldE5ld0VsZW1lbnRzID0gdHJ1ZSkge1xuICAgICAgICBjb25zdCBtZXRhID0gdGhpcy5fY2FjaGVkTWV0YTtcbiAgICAgICAgY29uc3QgZGF0YSA9IG1ldGEuZGF0YTtcbiAgICAgICAgY29uc3QgZW5kID0gc3RhcnQgKyBjb3VudDtcbiAgICAgICAgbGV0IGk7XG4gICAgICAgIGNvbnN0IG1vdmUgPSAoYXJyKT0+e1xuICAgICAgICAgICAgYXJyLmxlbmd0aCArPSBjb3VudDtcbiAgICAgICAgICAgIGZvcihpID0gYXJyLmxlbmd0aCAtIDE7IGkgPj0gZW5kOyBpLS0pe1xuICAgICAgICAgICAgICAgIGFycltpXSA9IGFycltpIC0gY291bnRdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBtb3ZlKGRhdGEpO1xuICAgICAgICBmb3IoaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpe1xuICAgICAgICAgICAgZGF0YVtpXSA9IG5ldyB0aGlzLmRhdGFFbGVtZW50VHlwZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9wYXJzaW5nKSB7XG4gICAgICAgICAgICBtb3ZlKG1ldGEuX3BhcnNlZCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wYXJzZShzdGFydCwgY291bnQpO1xuICAgICAgICBpZiAocmVzZXROZXdFbGVtZW50cykge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVFbGVtZW50cyhkYXRhLCBzdGFydCwgY291bnQsICdyZXNldCcpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHVwZGF0ZUVsZW1lbnRzKGVsZW1lbnQsIHN0YXJ0LCBjb3VudCwgbW9kZSkge31cbiBfcmVtb3ZlRWxlbWVudHMoc3RhcnQsIGNvdW50KSB7XG4gICAgICAgIGNvbnN0IG1ldGEgPSB0aGlzLl9jYWNoZWRNZXRhO1xuICAgICAgICBpZiAodGhpcy5fcGFyc2luZykge1xuICAgICAgICAgICAgY29uc3QgcmVtb3ZlZCA9IG1ldGEuX3BhcnNlZC5zcGxpY2Uoc3RhcnQsIGNvdW50KTtcbiAgICAgICAgICAgIGlmIChtZXRhLl9zdGFja2VkKSB7XG4gICAgICAgICAgICAgICAgY2xlYXJTdGFja3MobWV0YSwgcmVtb3ZlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbWV0YS5kYXRhLnNwbGljZShzdGFydCwgY291bnQpO1xuICAgIH1cbiBfc3luYyhhcmdzKSB7XG4gICAgICAgIGlmICh0aGlzLl9wYXJzaW5nKSB7XG4gICAgICAgICAgICB0aGlzLl9zeW5jTGlzdC5wdXNoKGFyZ3MpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgW21ldGhvZCwgYXJnMSwgYXJnMl0gPSBhcmdzO1xuICAgICAgICAgICAgdGhpc1ttZXRob2RdKGFyZzEsIGFyZzIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2hhcnQuX2RhdGFDaGFuZ2VzLnB1c2goW1xuICAgICAgICAgICAgdGhpcy5pbmRleCxcbiAgICAgICAgICAgIC4uLmFyZ3NcbiAgICAgICAgXSk7XG4gICAgfVxuICAgIF9vbkRhdGFQdXNoKCkge1xuICAgICAgICBjb25zdCBjb3VudCA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICAgIHRoaXMuX3N5bmMoW1xuICAgICAgICAgICAgJ19pbnNlcnRFbGVtZW50cycsXG4gICAgICAgICAgICB0aGlzLmdldERhdGFzZXQoKS5kYXRhLmxlbmd0aCAtIGNvdW50LFxuICAgICAgICAgICAgY291bnRcbiAgICAgICAgXSk7XG4gICAgfVxuICAgIF9vbkRhdGFQb3AoKSB7XG4gICAgICAgIHRoaXMuX3N5bmMoW1xuICAgICAgICAgICAgJ19yZW1vdmVFbGVtZW50cycsXG4gICAgICAgICAgICB0aGlzLl9jYWNoZWRNZXRhLmRhdGEubGVuZ3RoIC0gMSxcbiAgICAgICAgICAgIDFcbiAgICAgICAgXSk7XG4gICAgfVxuICAgIF9vbkRhdGFTaGlmdCgpIHtcbiAgICAgICAgdGhpcy5fc3luYyhbXG4gICAgICAgICAgICAnX3JlbW92ZUVsZW1lbnRzJyxcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAxXG4gICAgICAgIF0pO1xuICAgIH1cbiAgICBfb25EYXRhU3BsaWNlKHN0YXJ0LCBjb3VudCkge1xuICAgICAgICBpZiAoY291bnQpIHtcbiAgICAgICAgICAgIHRoaXMuX3N5bmMoW1xuICAgICAgICAgICAgICAgICdfcmVtb3ZlRWxlbWVudHMnLFxuICAgICAgICAgICAgICAgIHN0YXJ0LFxuICAgICAgICAgICAgICAgIGNvdW50XG4gICAgICAgICAgICBdKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuZXdDb3VudCA9IGFyZ3VtZW50cy5sZW5ndGggLSAyO1xuICAgICAgICBpZiAobmV3Q291bnQpIHtcbiAgICAgICAgICAgIHRoaXMuX3N5bmMoW1xuICAgICAgICAgICAgICAgICdfaW5zZXJ0RWxlbWVudHMnLFxuICAgICAgICAgICAgICAgIHN0YXJ0LFxuICAgICAgICAgICAgICAgIG5ld0NvdW50XG4gICAgICAgICAgICBdKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfb25EYXRhVW5zaGlmdCgpIHtcbiAgICAgICAgdGhpcy5fc3luYyhbXG4gICAgICAgICAgICAnX2luc2VydEVsZW1lbnRzJyxcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgICBhcmd1bWVudHMubGVuZ3RoXG4gICAgICAgIF0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0QWxsU2NhbGVWYWx1ZXMoc2NhbGUsIHR5cGUpIHtcbiAgICBpZiAoIXNjYWxlLl9jYWNoZS4kYmFyKSB7XG4gICAgICAgIGNvbnN0IHZpc2libGVNZXRhcyA9IHNjYWxlLmdldE1hdGNoaW5nVmlzaWJsZU1ldGFzKHR5cGUpO1xuICAgICAgICBsZXQgdmFsdWVzID0gW107XG4gICAgICAgIGZvcihsZXQgaSA9IDAsIGlsZW4gPSB2aXNpYmxlTWV0YXMubGVuZ3RoOyBpIDwgaWxlbjsgaSsrKXtcbiAgICAgICAgICAgIHZhbHVlcyA9IHZhbHVlcy5jb25jYXQodmlzaWJsZU1ldGFzW2ldLmNvbnRyb2xsZXIuZ2V0QWxsUGFyc2VkVmFsdWVzKHNjYWxlKSk7XG4gICAgICAgIH1cbiAgICAgICAgc2NhbGUuX2NhY2hlLiRiYXIgPSBfYXJyYXlVbmlxdWUodmFsdWVzLnNvcnQoKGEsIGIpPT5hIC0gYikpO1xuICAgIH1cbiAgICByZXR1cm4gc2NhbGUuX2NhY2hlLiRiYXI7XG59XG4gZnVuY3Rpb24gY29tcHV0ZU1pblNhbXBsZVNpemUobWV0YSkge1xuICAgIGNvbnN0IHNjYWxlID0gbWV0YS5pU2NhbGU7XG4gICAgY29uc3QgdmFsdWVzID0gZ2V0QWxsU2NhbGVWYWx1ZXMoc2NhbGUsIG1ldGEudHlwZSk7XG4gICAgbGV0IG1pbiA9IHNjYWxlLl9sZW5ndGg7XG4gICAgbGV0IGksIGlsZW4sIGN1cnIsIHByZXY7XG4gICAgY29uc3QgdXBkYXRlTWluQW5kUHJldiA9ICgpPT57XG4gICAgICAgIGlmIChjdXJyID09PSAzMjc2NyB8fCBjdXJyID09PSAtMzI3NjgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVmaW5lZChwcmV2KSkge1xuICAgICAgICAgICAgbWluID0gTWF0aC5taW4obWluLCBNYXRoLmFicyhjdXJyIC0gcHJldikgfHwgbWluKTtcbiAgICAgICAgfVxuICAgICAgICBwcmV2ID0gY3VycjtcbiAgICB9O1xuICAgIGZvcihpID0gMCwgaWxlbiA9IHZhbHVlcy5sZW5ndGg7IGkgPCBpbGVuOyArK2kpe1xuICAgICAgICBjdXJyID0gc2NhbGUuZ2V0UGl4ZWxGb3JWYWx1ZSh2YWx1ZXNbaV0pO1xuICAgICAgICB1cGRhdGVNaW5BbmRQcmV2KCk7XG4gICAgfVxuICAgIHByZXYgPSB1bmRlZmluZWQ7XG4gICAgZm9yKGkgPSAwLCBpbGVuID0gc2NhbGUudGlja3MubGVuZ3RoOyBpIDwgaWxlbjsgKytpKXtcbiAgICAgICAgY3VyciA9IHNjYWxlLmdldFBpeGVsRm9yVGljayhpKTtcbiAgICAgICAgdXBkYXRlTWluQW5kUHJldigpO1xuICAgIH1cbiAgICByZXR1cm4gbWluO1xufVxuIGZ1bmN0aW9uIGNvbXB1dGVGaXRDYXRlZ29yeVRyYWl0cyhpbmRleCwgcnVsZXIsIG9wdGlvbnMsIHN0YWNrQ291bnQpIHtcbiAgICBjb25zdCB0aGlja25lc3MgPSBvcHRpb25zLmJhclRoaWNrbmVzcztcbiAgICBsZXQgc2l6ZSwgcmF0aW87XG4gICAgaWYgKGlzTnVsbE9yVW5kZWYodGhpY2tuZXNzKSkge1xuICAgICAgICBzaXplID0gcnVsZXIubWluICogb3B0aW9ucy5jYXRlZ29yeVBlcmNlbnRhZ2U7XG4gICAgICAgIHJhdGlvID0gb3B0aW9ucy5iYXJQZXJjZW50YWdlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHNpemUgPSB0aGlja25lc3MgKiBzdGFja0NvdW50O1xuICAgICAgICByYXRpbyA9IDE7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGNodW5rOiBzaXplIC8gc3RhY2tDb3VudCxcbiAgICAgICAgcmF0aW8sXG4gICAgICAgIHN0YXJ0OiBydWxlci5waXhlbHNbaW5kZXhdIC0gc2l6ZSAvIDJcbiAgICB9O1xufVxuIGZ1bmN0aW9uIGNvbXB1dGVGbGV4Q2F0ZWdvcnlUcmFpdHMoaW5kZXgsIHJ1bGVyLCBvcHRpb25zLCBzdGFja0NvdW50KSB7XG4gICAgY29uc3QgcGl4ZWxzID0gcnVsZXIucGl4ZWxzO1xuICAgIGNvbnN0IGN1cnIgPSBwaXhlbHNbaW5kZXhdO1xuICAgIGxldCBwcmV2ID0gaW5kZXggPiAwID8gcGl4ZWxzW2luZGV4IC0gMV0gOiBudWxsO1xuICAgIGxldCBuZXh0ID0gaW5kZXggPCBwaXhlbHMubGVuZ3RoIC0gMSA/IHBpeGVsc1tpbmRleCArIDFdIDogbnVsbDtcbiAgICBjb25zdCBwZXJjZW50ID0gb3B0aW9ucy5jYXRlZ29yeVBlcmNlbnRhZ2U7XG4gICAgaWYgKHByZXYgPT09IG51bGwpIHtcbiAgICAgICAgcHJldiA9IGN1cnIgLSAobmV4dCA9PT0gbnVsbCA/IHJ1bGVyLmVuZCAtIHJ1bGVyLnN0YXJ0IDogbmV4dCAtIGN1cnIpO1xuICAgIH1cbiAgICBpZiAobmV4dCA9PT0gbnVsbCkge1xuICAgICAgICBuZXh0ID0gY3VyciArIGN1cnIgLSBwcmV2O1xuICAgIH1cbiAgICBjb25zdCBzdGFydCA9IGN1cnIgLSAoY3VyciAtIE1hdGgubWluKHByZXYsIG5leHQpKSAvIDIgKiBwZXJjZW50O1xuICAgIGNvbnN0IHNpemUgPSBNYXRoLmFicyhuZXh0IC0gcHJldikgLyAyICogcGVyY2VudDtcbiAgICByZXR1cm4ge1xuICAgICAgICBjaHVuazogc2l6ZSAvIHN0YWNrQ291bnQsXG4gICAgICAgIHJhdGlvOiBvcHRpb25zLmJhclBlcmNlbnRhZ2UsXG4gICAgICAgIHN0YXJ0XG4gICAgfTtcbn1cbmZ1bmN0aW9uIHBhcnNlRmxvYXRCYXIoZW50cnksIGl0ZW0sIHZTY2FsZSwgaSkge1xuICAgIGNvbnN0IHN0YXJ0VmFsdWUgPSB2U2NhbGUucGFyc2UoZW50cnlbMF0sIGkpO1xuICAgIGNvbnN0IGVuZFZhbHVlID0gdlNjYWxlLnBhcnNlKGVudHJ5WzFdLCBpKTtcbiAgICBjb25zdCBtaW4gPSBNYXRoLm1pbihzdGFydFZhbHVlLCBlbmRWYWx1ZSk7XG4gICAgY29uc3QgbWF4ID0gTWF0aC5tYXgoc3RhcnRWYWx1ZSwgZW5kVmFsdWUpO1xuICAgIGxldCBiYXJTdGFydCA9IG1pbjtcbiAgICBsZXQgYmFyRW5kID0gbWF4O1xuICAgIGlmIChNYXRoLmFicyhtaW4pID4gTWF0aC5hYnMobWF4KSkge1xuICAgICAgICBiYXJTdGFydCA9IG1heDtcbiAgICAgICAgYmFyRW5kID0gbWluO1xuICAgIH1cbiAgICBpdGVtW3ZTY2FsZS5heGlzXSA9IGJhckVuZDtcbiAgICBpdGVtLl9jdXN0b20gPSB7XG4gICAgICAgIGJhclN0YXJ0LFxuICAgICAgICBiYXJFbmQsXG4gICAgICAgIHN0YXJ0OiBzdGFydFZhbHVlLFxuICAgICAgICBlbmQ6IGVuZFZhbHVlLFxuICAgICAgICBtaW4sXG4gICAgICAgIG1heFxuICAgIH07XG59XG5mdW5jdGlvbiBwYXJzZVZhbHVlKGVudHJ5LCBpdGVtLCB2U2NhbGUsIGkpIHtcbiAgICBpZiAoaXNBcnJheShlbnRyeSkpIHtcbiAgICAgICAgcGFyc2VGbG9hdEJhcihlbnRyeSwgaXRlbSwgdlNjYWxlLCBpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBpdGVtW3ZTY2FsZS5heGlzXSA9IHZTY2FsZS5wYXJzZShlbnRyeSwgaSk7XG4gICAgfVxuICAgIHJldHVybiBpdGVtO1xufVxuZnVuY3Rpb24gcGFyc2VBcnJheU9yUHJpbWl0aXZlKG1ldGEsIGRhdGEsIHN0YXJ0LCBjb3VudCkge1xuICAgIGNvbnN0IGlTY2FsZSA9IG1ldGEuaVNjYWxlO1xuICAgIGNvbnN0IHZTY2FsZSA9IG1ldGEudlNjYWxlO1xuICAgIGNvbnN0IGxhYmVscyA9IGlTY2FsZS5nZXRMYWJlbHMoKTtcbiAgICBjb25zdCBzaW5nbGVTY2FsZSA9IGlTY2FsZSA9PT0gdlNjYWxlO1xuICAgIGNvbnN0IHBhcnNlZCA9IFtdO1xuICAgIGxldCBpLCBpbGVuLCBpdGVtLCBlbnRyeTtcbiAgICBmb3IoaSA9IHN0YXJ0LCBpbGVuID0gc3RhcnQgKyBjb3VudDsgaSA8IGlsZW47ICsraSl7XG4gICAgICAgIGVudHJ5ID0gZGF0YVtpXTtcbiAgICAgICAgaXRlbSA9IHt9O1xuICAgICAgICBpdGVtW2lTY2FsZS5heGlzXSA9IHNpbmdsZVNjYWxlIHx8IGlTY2FsZS5wYXJzZShsYWJlbHNbaV0sIGkpO1xuICAgICAgICBwYXJzZWQucHVzaChwYXJzZVZhbHVlKGVudHJ5LCBpdGVtLCB2U2NhbGUsIGkpKTtcbiAgICB9XG4gICAgcmV0dXJuIHBhcnNlZDtcbn1cbmZ1bmN0aW9uIGlzRmxvYXRCYXIoY3VzdG9tKSB7XG4gICAgcmV0dXJuIGN1c3RvbSAmJiBjdXN0b20uYmFyU3RhcnQgIT09IHVuZGVmaW5lZCAmJiBjdXN0b20uYmFyRW5kICE9PSB1bmRlZmluZWQ7XG59XG5mdW5jdGlvbiBiYXJTaWduKHNpemUsIHZTY2FsZSwgYWN0dWFsQmFzZSkge1xuICAgIGlmIChzaXplICE9PSAwKSB7XG4gICAgICAgIHJldHVybiBzaWduKHNpemUpO1xuICAgIH1cbiAgICByZXR1cm4gKHZTY2FsZS5pc0hvcml6b250YWwoKSA/IDEgOiAtMSkgKiAodlNjYWxlLm1pbiA+PSBhY3R1YWxCYXNlID8gMSA6IC0xKTtcbn1cbmZ1bmN0aW9uIGJvcmRlclByb3BzKHByb3BlcnRpZXMpIHtcbiAgICBsZXQgcmV2ZXJzZSwgc3RhcnQsIGVuZCwgdG9wLCBib3R0b207XG4gICAgaWYgKHByb3BlcnRpZXMuaG9yaXpvbnRhbCkge1xuICAgICAgICByZXZlcnNlID0gcHJvcGVydGllcy5iYXNlID4gcHJvcGVydGllcy54O1xuICAgICAgICBzdGFydCA9ICdsZWZ0JztcbiAgICAgICAgZW5kID0gJ3JpZ2h0JztcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXZlcnNlID0gcHJvcGVydGllcy5iYXNlIDwgcHJvcGVydGllcy55O1xuICAgICAgICBzdGFydCA9ICdib3R0b20nO1xuICAgICAgICBlbmQgPSAndG9wJztcbiAgICB9XG4gICAgaWYgKHJldmVyc2UpIHtcbiAgICAgICAgdG9wID0gJ2VuZCc7XG4gICAgICAgIGJvdHRvbSA9ICdzdGFydCc7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdG9wID0gJ3N0YXJ0JztcbiAgICAgICAgYm90dG9tID0gJ2VuZCc7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHN0YXJ0LFxuICAgICAgICBlbmQsXG4gICAgICAgIHJldmVyc2UsXG4gICAgICAgIHRvcCxcbiAgICAgICAgYm90dG9tXG4gICAgfTtcbn1cbmZ1bmN0aW9uIHNldEJvcmRlclNraXBwZWQocHJvcGVydGllcywgb3B0aW9ucywgc3RhY2ssIGluZGV4KSB7XG4gICAgbGV0IGVkZ2UgPSBvcHRpb25zLmJvcmRlclNraXBwZWQ7XG4gICAgY29uc3QgcmVzID0ge307XG4gICAgaWYgKCFlZGdlKSB7XG4gICAgICAgIHByb3BlcnRpZXMuYm9yZGVyU2tpcHBlZCA9IHJlcztcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoZWRnZSA9PT0gdHJ1ZSkge1xuICAgICAgICBwcm9wZXJ0aWVzLmJvcmRlclNraXBwZWQgPSB7XG4gICAgICAgICAgICB0b3A6IHRydWUsXG4gICAgICAgICAgICByaWdodDogdHJ1ZSxcbiAgICAgICAgICAgIGJvdHRvbTogdHJ1ZSxcbiAgICAgICAgICAgIGxlZnQ6IHRydWVcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB7IHN0YXJ0ICwgZW5kICwgcmV2ZXJzZSAsIHRvcCAsIGJvdHRvbSAgfSA9IGJvcmRlclByb3BzKHByb3BlcnRpZXMpO1xuICAgIGlmIChlZGdlID09PSAnbWlkZGxlJyAmJiBzdGFjaykge1xuICAgICAgICBwcm9wZXJ0aWVzLmVuYWJsZUJvcmRlclJhZGl1cyA9IHRydWU7XG4gICAgICAgIGlmICgoc3RhY2suX3RvcCB8fCAwKSA9PT0gaW5kZXgpIHtcbiAgICAgICAgICAgIGVkZ2UgPSB0b3A7XG4gICAgICAgIH0gZWxzZSBpZiAoKHN0YWNrLl9ib3R0b20gfHwgMCkgPT09IGluZGV4KSB7XG4gICAgICAgICAgICBlZGdlID0gYm90dG9tO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzW3BhcnNlRWRnZShib3R0b20sIHN0YXJ0LCBlbmQsIHJldmVyc2UpXSA9IHRydWU7XG4gICAgICAgICAgICBlZGdlID0gdG9wO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlc1twYXJzZUVkZ2UoZWRnZSwgc3RhcnQsIGVuZCwgcmV2ZXJzZSldID0gdHJ1ZTtcbiAgICBwcm9wZXJ0aWVzLmJvcmRlclNraXBwZWQgPSByZXM7XG59XG5mdW5jdGlvbiBwYXJzZUVkZ2UoZWRnZSwgYSwgYiwgcmV2ZXJzZSkge1xuICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICAgIGVkZ2UgPSBzd2FwKGVkZ2UsIGEsIGIpO1xuICAgICAgICBlZGdlID0gc3RhcnRFbmQoZWRnZSwgYiwgYSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZWRnZSA9IHN0YXJ0RW5kKGVkZ2UsIGEsIGIpO1xuICAgIH1cbiAgICByZXR1cm4gZWRnZTtcbn1cbmZ1bmN0aW9uIHN3YXAob3JpZywgdjEsIHYyKSB7XG4gICAgcmV0dXJuIG9yaWcgPT09IHYxID8gdjIgOiBvcmlnID09PSB2MiA/IHYxIDogb3JpZztcbn1cbmZ1bmN0aW9uIHN0YXJ0RW5kKHYsIHN0YXJ0LCBlbmQpIHtcbiAgICByZXR1cm4gdiA9PT0gJ3N0YXJ0JyA/IHN0YXJ0IDogdiA9PT0gJ2VuZCcgPyBlbmQgOiB2O1xufVxuZnVuY3Rpb24gc2V0SW5mbGF0ZUFtb3VudChwcm9wZXJ0aWVzLCB7IGluZmxhdGVBbW91bnQgIH0sIHJhdGlvKSB7XG4gICAgcHJvcGVydGllcy5pbmZsYXRlQW1vdW50ID0gaW5mbGF0ZUFtb3VudCA9PT0gJ2F1dG8nID8gcmF0aW8gPT09IDEgPyAwLjMzIDogMCA6IGluZmxhdGVBbW91bnQ7XG59XG5jbGFzcyBCYXJDb250cm9sbGVyIGV4dGVuZHMgRGF0YXNldENvbnRyb2xsZXIge1xuICAgIHN0YXRpYyBpZCA9ICdiYXInO1xuIHN0YXRpYyBkZWZhdWx0cyA9IHtcbiAgICAgICAgZGF0YXNldEVsZW1lbnRUeXBlOiBmYWxzZSxcbiAgICAgICAgZGF0YUVsZW1lbnRUeXBlOiAnYmFyJyxcbiAgICAgICAgY2F0ZWdvcnlQZXJjZW50YWdlOiAwLjgsXG4gICAgICAgIGJhclBlcmNlbnRhZ2U6IDAuOSxcbiAgICAgICAgZ3JvdXBlZDogdHJ1ZSxcbiAgICAgICAgYW5pbWF0aW9uczoge1xuICAgICAgICAgICAgbnVtYmVyczoge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgJ3gnLFxuICAgICAgICAgICAgICAgICAgICAneScsXG4gICAgICAgICAgICAgICAgICAgICdiYXNlJyxcbiAgICAgICAgICAgICAgICAgICAgJ3dpZHRoJyxcbiAgICAgICAgICAgICAgICAgICAgJ2hlaWdodCdcbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuIHN0YXRpYyBvdmVycmlkZXMgPSB7XG4gICAgICAgIHNjYWxlczoge1xuICAgICAgICAgICAgX2luZGV4Xzoge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdjYXRlZ29yeScsXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiB0cnVlLFxuICAgICAgICAgICAgICAgIGdyaWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiB0cnVlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF92YWx1ZV86IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnbGluZWFyJyxcbiAgICAgICAgICAgICAgICBiZWdpbkF0WmVybzogdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiBwYXJzZVByaW1pdGl2ZURhdGEobWV0YSwgZGF0YSwgc3RhcnQsIGNvdW50KSB7XG4gICAgICAgIHJldHVybiBwYXJzZUFycmF5T3JQcmltaXRpdmUobWV0YSwgZGF0YSwgc3RhcnQsIGNvdW50KTtcbiAgICB9XG4gcGFyc2VBcnJheURhdGEobWV0YSwgZGF0YSwgc3RhcnQsIGNvdW50KSB7XG4gICAgICAgIHJldHVybiBwYXJzZUFycmF5T3JQcmltaXRpdmUobWV0YSwgZGF0YSwgc3RhcnQsIGNvdW50KTtcbiAgICB9XG4gcGFyc2VPYmplY3REYXRhKG1ldGEsIGRhdGEsIHN0YXJ0LCBjb3VudCkge1xuICAgICAgICBjb25zdCB7IGlTY2FsZSAsIHZTY2FsZSAgfSA9IG1ldGE7XG4gICAgICAgIGNvbnN0IHsgeEF4aXNLZXkgPSd4JyAsIHlBeGlzS2V5ID0neScgIH0gPSB0aGlzLl9wYXJzaW5nO1xuICAgICAgICBjb25zdCBpQXhpc0tleSA9IGlTY2FsZS5heGlzID09PSAneCcgPyB4QXhpc0tleSA6IHlBeGlzS2V5O1xuICAgICAgICBjb25zdCB2QXhpc0tleSA9IHZTY2FsZS5heGlzID09PSAneCcgPyB4QXhpc0tleSA6IHlBeGlzS2V5O1xuICAgICAgICBjb25zdCBwYXJzZWQgPSBbXTtcbiAgICAgICAgbGV0IGksIGlsZW4sIGl0ZW0sIG9iajtcbiAgICAgICAgZm9yKGkgPSBzdGFydCwgaWxlbiA9IHN0YXJ0ICsgY291bnQ7IGkgPCBpbGVuOyArK2kpe1xuICAgICAgICAgICAgb2JqID0gZGF0YVtpXTtcbiAgICAgICAgICAgIGl0ZW0gPSB7fTtcbiAgICAgICAgICAgIGl0ZW1baVNjYWxlLmF4aXNdID0gaVNjYWxlLnBhcnNlKHJlc29sdmVPYmplY3RLZXkob2JqLCBpQXhpc0tleSksIGkpO1xuICAgICAgICAgICAgcGFyc2VkLnB1c2gocGFyc2VWYWx1ZShyZXNvbHZlT2JqZWN0S2V5KG9iaiwgdkF4aXNLZXkpLCBpdGVtLCB2U2NhbGUsIGkpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFyc2VkO1xuICAgIH1cbiB1cGRhdGVSYW5nZUZyb21QYXJzZWQocmFuZ2UsIHNjYWxlLCBwYXJzZWQsIHN0YWNrKSB7XG4gICAgICAgIHN1cGVyLnVwZGF0ZVJhbmdlRnJvbVBhcnNlZChyYW5nZSwgc2NhbGUsIHBhcnNlZCwgc3RhY2spO1xuICAgICAgICBjb25zdCBjdXN0b20gPSBwYXJzZWQuX2N1c3RvbTtcbiAgICAgICAgaWYgKGN1c3RvbSAmJiBzY2FsZSA9PT0gdGhpcy5fY2FjaGVkTWV0YS52U2NhbGUpIHtcbiAgICAgICAgICAgIHJhbmdlLm1pbiA9IE1hdGgubWluKHJhbmdlLm1pbiwgY3VzdG9tLm1pbik7XG4gICAgICAgICAgICByYW5nZS5tYXggPSBNYXRoLm1heChyYW5nZS5tYXgsIGN1c3RvbS5tYXgpO1xuICAgICAgICB9XG4gICAgfVxuIGdldE1heE92ZXJmbG93KCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gZ2V0TGFiZWxBbmRWYWx1ZShpbmRleCkge1xuICAgICAgICBjb25zdCBtZXRhID0gdGhpcy5fY2FjaGVkTWV0YTtcbiAgICAgICAgY29uc3QgeyBpU2NhbGUgLCB2U2NhbGUgIH0gPSBtZXRhO1xuICAgICAgICBjb25zdCBwYXJzZWQgPSB0aGlzLmdldFBhcnNlZChpbmRleCk7XG4gICAgICAgIGNvbnN0IGN1c3RvbSA9IHBhcnNlZC5fY3VzdG9tO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGlzRmxvYXRCYXIoY3VzdG9tKSA/ICdbJyArIGN1c3RvbS5zdGFydCArICcsICcgKyBjdXN0b20uZW5kICsgJ10nIDogJycgKyB2U2NhbGUuZ2V0TGFiZWxGb3JWYWx1ZShwYXJzZWRbdlNjYWxlLmF4aXNdKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxhYmVsOiAnJyArIGlTY2FsZS5nZXRMYWJlbEZvclZhbHVlKHBhcnNlZFtpU2NhbGUuYXhpc10pLFxuICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaW5pdGlhbGl6ZSgpIHtcbiAgICAgICAgdGhpcy5lbmFibGVPcHRpb25TaGFyaW5nID0gdHJ1ZTtcbiAgICAgICAgc3VwZXIuaW5pdGlhbGl6ZSgpO1xuICAgICAgICBjb25zdCBtZXRhID0gdGhpcy5fY2FjaGVkTWV0YTtcbiAgICAgICAgbWV0YS5zdGFjayA9IHRoaXMuZ2V0RGF0YXNldCgpLnN0YWNrO1xuICAgIH1cbiAgICB1cGRhdGUobW9kZSkge1xuICAgICAgICBjb25zdCBtZXRhID0gdGhpcy5fY2FjaGVkTWV0YTtcbiAgICAgICAgdGhpcy51cGRhdGVFbGVtZW50cyhtZXRhLmRhdGEsIDAsIG1ldGEuZGF0YS5sZW5ndGgsIG1vZGUpO1xuICAgIH1cbiAgICB1cGRhdGVFbGVtZW50cyhiYXJzLCBzdGFydCwgY291bnQsIG1vZGUpIHtcbiAgICAgICAgY29uc3QgcmVzZXQgPSBtb2RlID09PSAncmVzZXQnO1xuICAgICAgICBjb25zdCB7IGluZGV4ICwgX2NhY2hlZE1ldGE6IHsgdlNjYWxlICB9ICB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgYmFzZSA9IHZTY2FsZS5nZXRCYXNlUGl4ZWwoKTtcbiAgICAgICAgY29uc3QgaG9yaXpvbnRhbCA9IHZTY2FsZS5pc0hvcml6b250YWwoKTtcbiAgICAgICAgY29uc3QgcnVsZXIgPSB0aGlzLl9nZXRSdWxlcigpO1xuICAgICAgICBjb25zdCB7IHNoYXJlZE9wdGlvbnMgLCBpbmNsdWRlT3B0aW9ucyAgfSA9IHRoaXMuX2dldFNoYXJlZE9wdGlvbnMoc3RhcnQsIG1vZGUpO1xuICAgICAgICBmb3IobGV0IGkgPSBzdGFydDsgaSA8IHN0YXJ0ICsgY291bnQ7IGkrKyl7XG4gICAgICAgICAgICBjb25zdCBwYXJzZWQgPSB0aGlzLmdldFBhcnNlZChpKTtcbiAgICAgICAgICAgIGNvbnN0IHZwaXhlbHMgPSByZXNldCB8fCBpc051bGxPclVuZGVmKHBhcnNlZFt2U2NhbGUuYXhpc10pID8ge1xuICAgICAgICAgICAgICAgIGJhc2UsXG4gICAgICAgICAgICAgICAgaGVhZDogYmFzZVxuICAgICAgICAgICAgfSA6IHRoaXMuX2NhbGN1bGF0ZUJhclZhbHVlUGl4ZWxzKGkpO1xuICAgICAgICAgICAgY29uc3QgaXBpeGVscyA9IHRoaXMuX2NhbGN1bGF0ZUJhckluZGV4UGl4ZWxzKGksIHJ1bGVyKTtcbiAgICAgICAgICAgIGNvbnN0IHN0YWNrID0gKHBhcnNlZC5fc3RhY2tzIHx8IHt9KVt2U2NhbGUuYXhpc107XG4gICAgICAgICAgICBjb25zdCBwcm9wZXJ0aWVzID0ge1xuICAgICAgICAgICAgICAgIGhvcml6b250YWwsXG4gICAgICAgICAgICAgICAgYmFzZTogdnBpeGVscy5iYXNlLFxuICAgICAgICAgICAgICAgIGVuYWJsZUJvcmRlclJhZGl1czogIXN0YWNrIHx8IGlzRmxvYXRCYXIocGFyc2VkLl9jdXN0b20pIHx8IGluZGV4ID09PSBzdGFjay5fdG9wIHx8IGluZGV4ID09PSBzdGFjay5fYm90dG9tLFxuICAgICAgICAgICAgICAgIHg6IGhvcml6b250YWwgPyB2cGl4ZWxzLmhlYWQgOiBpcGl4ZWxzLmNlbnRlcixcbiAgICAgICAgICAgICAgICB5OiBob3Jpem9udGFsID8gaXBpeGVscy5jZW50ZXIgOiB2cGl4ZWxzLmhlYWQsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBob3Jpem9udGFsID8gaXBpeGVscy5zaXplIDogTWF0aC5hYnModnBpeGVscy5zaXplKSxcbiAgICAgICAgICAgICAgICB3aWR0aDogaG9yaXpvbnRhbCA/IE1hdGguYWJzKHZwaXhlbHMuc2l6ZSkgOiBpcGl4ZWxzLnNpemVcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoaW5jbHVkZU9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLm9wdGlvbnMgPSBzaGFyZWRPcHRpb25zIHx8IHRoaXMucmVzb2x2ZURhdGFFbGVtZW50T3B0aW9ucyhpLCBiYXJzW2ldLmFjdGl2ZSA/ICdhY3RpdmUnIDogbW9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBvcHRpb25zID0gcHJvcGVydGllcy5vcHRpb25zIHx8IGJhcnNbaV0ub3B0aW9ucztcbiAgICAgICAgICAgIHNldEJvcmRlclNraXBwZWQocHJvcGVydGllcywgb3B0aW9ucywgc3RhY2ssIGluZGV4KTtcbiAgICAgICAgICAgIHNldEluZmxhdGVBbW91bnQocHJvcGVydGllcywgb3B0aW9ucywgcnVsZXIucmF0aW8pO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVFbGVtZW50KGJhcnNbaV0sIGksIHByb3BlcnRpZXMsIG1vZGUpO1xuICAgICAgICB9XG4gICAgfVxuIF9nZXRTdGFja3MobGFzdCwgZGF0YUluZGV4KSB7XG4gICAgICAgIGNvbnN0IHsgaVNjYWxlICB9ID0gdGhpcy5fY2FjaGVkTWV0YTtcbiAgICAgICAgY29uc3QgbWV0YXNldHMgPSBpU2NhbGUuZ2V0TWF0Y2hpbmdWaXNpYmxlTWV0YXModGhpcy5fdHlwZSkuZmlsdGVyKChtZXRhKT0+bWV0YS5jb250cm9sbGVyLm9wdGlvbnMuZ3JvdXBlZCk7XG4gICAgICAgIGNvbnN0IHN0YWNrZWQgPSBpU2NhbGUub3B0aW9ucy5zdGFja2VkO1xuICAgICAgICBjb25zdCBzdGFja3MgPSBbXTtcbiAgICAgICAgY29uc3Qgc2tpcE51bGwgPSAobWV0YSk9PntcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IG1ldGEuY29udHJvbGxlci5nZXRQYXJzZWQoZGF0YUluZGV4KTtcbiAgICAgICAgICAgIGNvbnN0IHZhbCA9IHBhcnNlZCAmJiBwYXJzZWRbbWV0YS52U2NhbGUuYXhpc107XG4gICAgICAgICAgICBpZiAoaXNOdWxsT3JVbmRlZih2YWwpIHx8IGlzTmFOKHZhbCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgZm9yIChjb25zdCBtZXRhIG9mIG1ldGFzZXRzKXtcbiAgICAgICAgICAgIGlmIChkYXRhSW5kZXggIT09IHVuZGVmaW5lZCAmJiBza2lwTnVsbChtZXRhKSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHN0YWNrZWQgPT09IGZhbHNlIHx8IHN0YWNrcy5pbmRleE9mKG1ldGEuc3RhY2spID09PSAtMSB8fCBzdGFja2VkID09PSB1bmRlZmluZWQgJiYgbWV0YS5zdGFjayA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgc3RhY2tzLnB1c2gobWV0YS5zdGFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobWV0YS5pbmRleCA9PT0gbGFzdCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghc3RhY2tzLmxlbmd0aCkge1xuICAgICAgICAgICAgc3RhY2tzLnB1c2godW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RhY2tzO1xuICAgIH1cbiBfZ2V0U3RhY2tDb3VudChpbmRleCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0U3RhY2tzKHVuZGVmaW5lZCwgaW5kZXgpLmxlbmd0aDtcbiAgICB9XG4gX2dldFN0YWNrSW5kZXgoZGF0YXNldEluZGV4LCBuYW1lLCBkYXRhSW5kZXgpIHtcbiAgICAgICAgY29uc3Qgc3RhY2tzID0gdGhpcy5fZ2V0U3RhY2tzKGRhdGFzZXRJbmRleCwgZGF0YUluZGV4KTtcbiAgICAgICAgY29uc3QgaW5kZXggPSBuYW1lICE9PSB1bmRlZmluZWQgPyBzdGFja3MuaW5kZXhPZihuYW1lKSA6IC0xO1xuICAgICAgICByZXR1cm4gaW5kZXggPT09IC0xID8gc3RhY2tzLmxlbmd0aCAtIDEgOiBpbmRleDtcbiAgICB9XG4gX2dldFJ1bGVyKCkge1xuICAgICAgICBjb25zdCBvcHRzID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBtZXRhID0gdGhpcy5fY2FjaGVkTWV0YTtcbiAgICAgICAgY29uc3QgaVNjYWxlID0gbWV0YS5pU2NhbGU7XG4gICAgICAgIGNvbnN0IHBpeGVscyA9IFtdO1xuICAgICAgICBsZXQgaSwgaWxlbjtcbiAgICAgICAgZm9yKGkgPSAwLCBpbGVuID0gbWV0YS5kYXRhLmxlbmd0aDsgaSA8IGlsZW47ICsraSl7XG4gICAgICAgICAgICBwaXhlbHMucHVzaChpU2NhbGUuZ2V0UGl4ZWxGb3JWYWx1ZSh0aGlzLmdldFBhcnNlZChpKVtpU2NhbGUuYXhpc10sIGkpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBiYXJUaGlja25lc3MgPSBvcHRzLmJhclRoaWNrbmVzcztcbiAgICAgICAgY29uc3QgbWluID0gYmFyVGhpY2tuZXNzIHx8IGNvbXB1dGVNaW5TYW1wbGVTaXplKG1ldGEpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWluLFxuICAgICAgICAgICAgcGl4ZWxzLFxuICAgICAgICAgICAgc3RhcnQ6IGlTY2FsZS5fc3RhcnRQaXhlbCxcbiAgICAgICAgICAgIGVuZDogaVNjYWxlLl9lbmRQaXhlbCxcbiAgICAgICAgICAgIHN0YWNrQ291bnQ6IHRoaXMuX2dldFN0YWNrQ291bnQoKSxcbiAgICAgICAgICAgIHNjYWxlOiBpU2NhbGUsXG4gICAgICAgICAgICBncm91cGVkOiBvcHRzLmdyb3VwZWQsXG4gICAgICAgICAgICByYXRpbzogYmFyVGhpY2tuZXNzID8gMSA6IG9wdHMuY2F0ZWdvcnlQZXJjZW50YWdlICogb3B0cy5iYXJQZXJjZW50YWdlXG4gICAgICAgIH07XG4gICAgfVxuIF9jYWxjdWxhdGVCYXJWYWx1ZVBpeGVscyhpbmRleCkge1xuICAgICAgICBjb25zdCB7IF9jYWNoZWRNZXRhOiB7IHZTY2FsZSAsIF9zdGFja2VkICwgaW5kZXg6IGRhdGFzZXRJbmRleCAgfSAsIG9wdGlvbnM6IHsgYmFzZTogYmFzZVZhbHVlICwgbWluQmFyTGVuZ3RoICB9ICB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgYWN0dWFsQmFzZSA9IGJhc2VWYWx1ZSB8fCAwO1xuICAgICAgICBjb25zdCBwYXJzZWQgPSB0aGlzLmdldFBhcnNlZChpbmRleCk7XG4gICAgICAgIGNvbnN0IGN1c3RvbSA9IHBhcnNlZC5fY3VzdG9tO1xuICAgICAgICBjb25zdCBmbG9hdGluZyA9IGlzRmxvYXRCYXIoY3VzdG9tKTtcbiAgICAgICAgbGV0IHZhbHVlID0gcGFyc2VkW3ZTY2FsZS5heGlzXTtcbiAgICAgICAgbGV0IHN0YXJ0ID0gMDtcbiAgICAgICAgbGV0IGxlbmd0aCA9IF9zdGFja2VkID8gdGhpcy5hcHBseVN0YWNrKHZTY2FsZSwgcGFyc2VkLCBfc3RhY2tlZCkgOiB2YWx1ZTtcbiAgICAgICAgbGV0IGhlYWQsIHNpemU7XG4gICAgICAgIGlmIChsZW5ndGggIT09IHZhbHVlKSB7XG4gICAgICAgICAgICBzdGFydCA9IGxlbmd0aCAtIHZhbHVlO1xuICAgICAgICAgICAgbGVuZ3RoID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZsb2F0aW5nKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGN1c3RvbS5iYXJTdGFydDtcbiAgICAgICAgICAgIGxlbmd0aCA9IGN1c3RvbS5iYXJFbmQgLSBjdXN0b20uYmFyU3RhcnQ7XG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IDAgJiYgc2lnbih2YWx1ZSkgIT09IHNpZ24oY3VzdG9tLmJhckVuZCkpIHtcbiAgICAgICAgICAgICAgICBzdGFydCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdGFydCArPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdGFydFZhbHVlID0gIWlzTnVsbE9yVW5kZWYoYmFzZVZhbHVlKSAmJiAhZmxvYXRpbmcgPyBiYXNlVmFsdWUgOiBzdGFydDtcbiAgICAgICAgbGV0IGJhc2UgPSB2U2NhbGUuZ2V0UGl4ZWxGb3JWYWx1ZShzdGFydFZhbHVlKTtcbiAgICAgICAgaWYgKHRoaXMuY2hhcnQuZ2V0RGF0YVZpc2liaWxpdHkoaW5kZXgpKSB7XG4gICAgICAgICAgICBoZWFkID0gdlNjYWxlLmdldFBpeGVsRm9yVmFsdWUoc3RhcnQgKyBsZW5ndGgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaGVhZCA9IGJhc2U7XG4gICAgICAgIH1cbiAgICAgICAgc2l6ZSA9IGhlYWQgLSBiYXNlO1xuICAgICAgICBpZiAoTWF0aC5hYnMoc2l6ZSkgPCBtaW5CYXJMZW5ndGgpIHtcbiAgICAgICAgICAgIHNpemUgPSBiYXJTaWduKHNpemUsIHZTY2FsZSwgYWN0dWFsQmFzZSkgKiBtaW5CYXJMZW5ndGg7XG4gICAgICAgICAgICBpZiAodmFsdWUgPT09IGFjdHVhbEJhc2UpIHtcbiAgICAgICAgICAgICAgICBiYXNlIC09IHNpemUgLyAyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgc3RhcnRQaXhlbCA9IHZTY2FsZS5nZXRQaXhlbEZvckRlY2ltYWwoMCk7XG4gICAgICAgICAgICBjb25zdCBlbmRQaXhlbCA9IHZTY2FsZS5nZXRQaXhlbEZvckRlY2ltYWwoMSk7XG4gICAgICAgICAgICBjb25zdCBtaW4gPSBNYXRoLm1pbihzdGFydFBpeGVsLCBlbmRQaXhlbCk7XG4gICAgICAgICAgICBjb25zdCBtYXggPSBNYXRoLm1heChzdGFydFBpeGVsLCBlbmRQaXhlbCk7XG4gICAgICAgICAgICBiYXNlID0gTWF0aC5tYXgoTWF0aC5taW4oYmFzZSwgbWF4KSwgbWluKTtcbiAgICAgICAgICAgIGhlYWQgPSBiYXNlICsgc2l6ZTtcbiAgICAgICAgICAgIGlmIChfc3RhY2tlZCAmJiAhZmxvYXRpbmcpIHtcbiAgICAgICAgICAgICAgICBwYXJzZWQuX3N0YWNrc1t2U2NhbGUuYXhpc10uX3Zpc3VhbFZhbHVlc1tkYXRhc2V0SW5kZXhdID0gdlNjYWxlLmdldFZhbHVlRm9yUGl4ZWwoaGVhZCkgLSB2U2NhbGUuZ2V0VmFsdWVGb3JQaXhlbChiYXNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoYmFzZSA9PT0gdlNjYWxlLmdldFBpeGVsRm9yVmFsdWUoYWN0dWFsQmFzZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGhhbGZHcmlkID0gc2lnbihzaXplKSAqIHZTY2FsZS5nZXRMaW5lV2lkdGhGb3JWYWx1ZShhY3R1YWxCYXNlKSAvIDI7XG4gICAgICAgICAgICBiYXNlICs9IGhhbGZHcmlkO1xuICAgICAgICAgICAgc2l6ZSAtPSBoYWxmR3JpZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc2l6ZSxcbiAgICAgICAgICAgIGJhc2UsXG4gICAgICAgICAgICBoZWFkLFxuICAgICAgICAgICAgY2VudGVyOiBoZWFkICsgc2l6ZSAvIDJcbiAgICAgICAgfTtcbiAgICB9XG4gX2NhbGN1bGF0ZUJhckluZGV4UGl4ZWxzKGluZGV4LCBydWxlcikge1xuICAgICAgICBjb25zdCBzY2FsZSA9IHJ1bGVyLnNjYWxlO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBza2lwTnVsbCA9IG9wdGlvbnMuc2tpcE51bGw7XG4gICAgICAgIGNvbnN0IG1heEJhclRoaWNrbmVzcyA9IHZhbHVlT3JEZWZhdWx0KG9wdGlvbnMubWF4QmFyVGhpY2tuZXNzLCBJbmZpbml0eSk7XG4gICAgICAgIGxldCBjZW50ZXIsIHNpemU7XG4gICAgICAgIGlmIChydWxlci5ncm91cGVkKSB7XG4gICAgICAgICAgICBjb25zdCBzdGFja0NvdW50ID0gc2tpcE51bGwgPyB0aGlzLl9nZXRTdGFja0NvdW50KGluZGV4KSA6IHJ1bGVyLnN0YWNrQ291bnQ7XG4gICAgICAgICAgICBjb25zdCByYW5nZSA9IG9wdGlvbnMuYmFyVGhpY2tuZXNzID09PSAnZmxleCcgPyBjb21wdXRlRmxleENhdGVnb3J5VHJhaXRzKGluZGV4LCBydWxlciwgb3B0aW9ucywgc3RhY2tDb3VudCkgOiBjb21wdXRlRml0Q2F0ZWdvcnlUcmFpdHMoaW5kZXgsIHJ1bGVyLCBvcHRpb25zLCBzdGFja0NvdW50KTtcbiAgICAgICAgICAgIGNvbnN0IHN0YWNrSW5kZXggPSB0aGlzLl9nZXRTdGFja0luZGV4KHRoaXMuaW5kZXgsIHRoaXMuX2NhY2hlZE1ldGEuc3RhY2ssIHNraXBOdWxsID8gaW5kZXggOiB1bmRlZmluZWQpO1xuICAgICAgICAgICAgY2VudGVyID0gcmFuZ2Uuc3RhcnQgKyByYW5nZS5jaHVuayAqIHN0YWNrSW5kZXggKyByYW5nZS5jaHVuayAvIDI7XG4gICAgICAgICAgICBzaXplID0gTWF0aC5taW4obWF4QmFyVGhpY2tuZXNzLCByYW5nZS5jaHVuayAqIHJhbmdlLnJhdGlvKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNlbnRlciA9IHNjYWxlLmdldFBpeGVsRm9yVmFsdWUodGhpcy5nZXRQYXJzZWQoaW5kZXgpW3NjYWxlLmF4aXNdLCBpbmRleCk7XG4gICAgICAgICAgICBzaXplID0gTWF0aC5taW4obWF4QmFyVGhpY2tuZXNzLCBydWxlci5taW4gKiBydWxlci5yYXRpbyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGJhc2U6IGNlbnRlciAtIHNpemUgLyAyLFxuICAgICAgICAgICAgaGVhZDogY2VudGVyICsgc2l6ZSAvIDIsXG4gICAgICAgICAgICBjZW50ZXIsXG4gICAgICAgICAgICBzaXplXG4gICAgICAgIH07XG4gICAgfVxuICAgIGRyYXcoKSB7XG4gICAgICAgIGNvbnN0IG1ldGEgPSB0aGlzLl9jYWNoZWRNZXRhO1xuICAgICAgICBjb25zdCB2U2NhbGUgPSBtZXRhLnZTY2FsZTtcbiAgICAgICAgY29uc3QgcmVjdHMgPSBtZXRhLmRhdGE7XG4gICAgICAgIGNvbnN0IGlsZW4gPSByZWN0cy5sZW5ndGg7XG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgZm9yKDsgaSA8IGlsZW47ICsraSl7XG4gICAgICAgICAgICBpZiAodGhpcy5nZXRQYXJzZWQoaSlbdlNjYWxlLmF4aXNdICE9PSBudWxsICYmICFyZWN0c1tpXS5oaWRkZW4pIHtcbiAgICAgICAgICAgICAgICByZWN0c1tpXS5kcmF3KHRoaXMuX2N0eCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmNsYXNzIEJ1YmJsZUNvbnRyb2xsZXIgZXh0ZW5kcyBEYXRhc2V0Q29udHJvbGxlciB7XG4gICAgc3RhdGljIGlkID0gJ2J1YmJsZSc7XG4gc3RhdGljIGRlZmF1bHRzID0ge1xuICAgICAgICBkYXRhc2V0RWxlbWVudFR5cGU6IGZhbHNlLFxuICAgICAgICBkYXRhRWxlbWVudFR5cGU6ICdwb2ludCcsXG4gICAgICAgIGFuaW1hdGlvbnM6IHtcbiAgICAgICAgICAgIG51bWJlcnM6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiBbXG4gICAgICAgICAgICAgICAgICAgICd4JyxcbiAgICAgICAgICAgICAgICAgICAgJ3knLFxuICAgICAgICAgICAgICAgICAgICAnYm9yZGVyV2lkdGgnLFxuICAgICAgICAgICAgICAgICAgICAncmFkaXVzJ1xuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gc3RhdGljIG92ZXJyaWRlcyA9IHtcbiAgICAgICAgc2NhbGVzOiB7XG4gICAgICAgICAgICB4OiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2xpbmVhcidcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB5OiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2xpbmVhcidcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgaW5pdGlhbGl6ZSgpIHtcbiAgICAgICAgdGhpcy5lbmFibGVPcHRpb25TaGFyaW5nID0gdHJ1ZTtcbiAgICAgICAgc3VwZXIuaW5pdGlhbGl6ZSgpO1xuICAgIH1cbiBwYXJzZVByaW1pdGl2ZURhdGEobWV0YSwgZGF0YSwgc3RhcnQsIGNvdW50KSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZCA9IHN1cGVyLnBhcnNlUHJpbWl0aXZlRGF0YShtZXRhLCBkYXRhLCBzdGFydCwgY291bnQpO1xuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgcGFyc2VkLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgIHBhcnNlZFtpXS5fY3VzdG9tID0gdGhpcy5yZXNvbHZlRGF0YUVsZW1lbnRPcHRpb25zKGkgKyBzdGFydCkucmFkaXVzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXJzZWQ7XG4gICAgfVxuIHBhcnNlQXJyYXlEYXRhKG1ldGEsIGRhdGEsIHN0YXJ0LCBjb3VudCkge1xuICAgICAgICBjb25zdCBwYXJzZWQgPSBzdXBlci5wYXJzZUFycmF5RGF0YShtZXRhLCBkYXRhLCBzdGFydCwgY291bnQpO1xuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgcGFyc2VkLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBkYXRhW3N0YXJ0ICsgaV07XG4gICAgICAgICAgICBwYXJzZWRbaV0uX2N1c3RvbSA9IHZhbHVlT3JEZWZhdWx0KGl0ZW1bMl0sIHRoaXMucmVzb2x2ZURhdGFFbGVtZW50T3B0aW9ucyhpICsgc3RhcnQpLnJhZGl1cyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhcnNlZDtcbiAgICB9XG4gcGFyc2VPYmplY3REYXRhKG1ldGEsIGRhdGEsIHN0YXJ0LCBjb3VudCkge1xuICAgICAgICBjb25zdCBwYXJzZWQgPSBzdXBlci5wYXJzZU9iamVjdERhdGEobWV0YSwgZGF0YSwgc3RhcnQsIGNvdW50KTtcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHBhcnNlZC5sZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICBjb25zdCBpdGVtID0gZGF0YVtzdGFydCArIGldO1xuICAgICAgICAgICAgcGFyc2VkW2ldLl9jdXN0b20gPSB2YWx1ZU9yRGVmYXVsdChpdGVtICYmIGl0ZW0uciAmJiAraXRlbS5yLCB0aGlzLnJlc29sdmVEYXRhRWxlbWVudE9wdGlvbnMoaSArIHN0YXJ0KS5yYWRpdXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXJzZWQ7XG4gICAgfVxuIGdldE1heE92ZXJmbG93KCkge1xuICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5fY2FjaGVkTWV0YS5kYXRhO1xuICAgICAgICBsZXQgbWF4ID0gMDtcbiAgICAgICAgZm9yKGxldCBpID0gZGF0YS5sZW5ndGggLSAxOyBpID49IDA7IC0taSl7XG4gICAgICAgICAgICBtYXggPSBNYXRoLm1heChtYXgsIGRhdGFbaV0uc2l6ZSh0aGlzLnJlc29sdmVEYXRhRWxlbWVudE9wdGlvbnMoaSkpIC8gMik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1heCA+IDAgJiYgbWF4O1xuICAgIH1cbiBnZXRMYWJlbEFuZFZhbHVlKGluZGV4KSB7XG4gICAgICAgIGNvbnN0IG1ldGEgPSB0aGlzLl9jYWNoZWRNZXRhO1xuICAgICAgICBjb25zdCBsYWJlbHMgPSB0aGlzLmNoYXJ0LmRhdGEubGFiZWxzIHx8IFtdO1xuICAgICAgICBjb25zdCB7IHhTY2FsZSAsIHlTY2FsZSAgfSA9IG1ldGE7XG4gICAgICAgIGNvbnN0IHBhcnNlZCA9IHRoaXMuZ2V0UGFyc2VkKGluZGV4KTtcbiAgICAgICAgY29uc3QgeCA9IHhTY2FsZS5nZXRMYWJlbEZvclZhbHVlKHBhcnNlZC54KTtcbiAgICAgICAgY29uc3QgeSA9IHlTY2FsZS5nZXRMYWJlbEZvclZhbHVlKHBhcnNlZC55KTtcbiAgICAgICAgY29uc3QgciA9IHBhcnNlZC5fY3VzdG9tO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbGFiZWw6IGxhYmVsc1tpbmRleF0gfHwgJycsXG4gICAgICAgICAgICB2YWx1ZTogJygnICsgeCArICcsICcgKyB5ICsgKHIgPyAnLCAnICsgciA6ICcnKSArICcpJ1xuICAgICAgICB9O1xuICAgIH1cbiAgICB1cGRhdGUobW9kZSkge1xuICAgICAgICBjb25zdCBwb2ludHMgPSB0aGlzLl9jYWNoZWRNZXRhLmRhdGE7XG4gICAgICAgIHRoaXMudXBkYXRlRWxlbWVudHMocG9pbnRzLCAwLCBwb2ludHMubGVuZ3RoLCBtb2RlKTtcbiAgICB9XG4gICAgdXBkYXRlRWxlbWVudHMocG9pbnRzLCBzdGFydCwgY291bnQsIG1vZGUpIHtcbiAgICAgICAgY29uc3QgcmVzZXQgPSBtb2RlID09PSAncmVzZXQnO1xuICAgICAgICBjb25zdCB7IGlTY2FsZSAsIHZTY2FsZSAgfSA9IHRoaXMuX2NhY2hlZE1ldGE7XG4gICAgICAgIGNvbnN0IHsgc2hhcmVkT3B0aW9ucyAsIGluY2x1ZGVPcHRpb25zICB9ID0gdGhpcy5fZ2V0U2hhcmVkT3B0aW9ucyhzdGFydCwgbW9kZSk7XG4gICAgICAgIGNvbnN0IGlBeGlzID0gaVNjYWxlLmF4aXM7XG4gICAgICAgIGNvbnN0IHZBeGlzID0gdlNjYWxlLmF4aXM7XG4gICAgICAgIGZvcihsZXQgaSA9IHN0YXJ0OyBpIDwgc3RhcnQgKyBjb3VudDsgaSsrKXtcbiAgICAgICAgICAgIGNvbnN0IHBvaW50ID0gcG9pbnRzW2ldO1xuICAgICAgICAgICAgY29uc3QgcGFyc2VkID0gIXJlc2V0ICYmIHRoaXMuZ2V0UGFyc2VkKGkpO1xuICAgICAgICAgICAgY29uc3QgcHJvcGVydGllcyA9IHt9O1xuICAgICAgICAgICAgY29uc3QgaVBpeGVsID0gcHJvcGVydGllc1tpQXhpc10gPSByZXNldCA/IGlTY2FsZS5nZXRQaXhlbEZvckRlY2ltYWwoMC41KSA6IGlTY2FsZS5nZXRQaXhlbEZvclZhbHVlKHBhcnNlZFtpQXhpc10pO1xuICAgICAgICAgICAgY29uc3QgdlBpeGVsID0gcHJvcGVydGllc1t2QXhpc10gPSByZXNldCA/IHZTY2FsZS5nZXRCYXNlUGl4ZWwoKSA6IHZTY2FsZS5nZXRQaXhlbEZvclZhbHVlKHBhcnNlZFt2QXhpc10pO1xuICAgICAgICAgICAgcHJvcGVydGllcy5za2lwID0gaXNOYU4oaVBpeGVsKSB8fCBpc05hTih2UGl4ZWwpO1xuICAgICAgICAgICAgaWYgKGluY2x1ZGVPcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgcHJvcGVydGllcy5vcHRpb25zID0gc2hhcmVkT3B0aW9ucyB8fCB0aGlzLnJlc29sdmVEYXRhRWxlbWVudE9wdGlvbnMoaSwgcG9pbnQuYWN0aXZlID8gJ2FjdGl2ZScgOiBtb2RlKTtcbiAgICAgICAgICAgICAgICBpZiAocmVzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllcy5vcHRpb25zLnJhZGl1cyA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy51cGRhdGVFbGVtZW50KHBvaW50LCBpLCBwcm9wZXJ0aWVzLCBtb2RlKTtcbiAgICAgICAgfVxuICAgIH1cbiByZXNvbHZlRGF0YUVsZW1lbnRPcHRpb25zKGluZGV4LCBtb2RlKSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZCA9IHRoaXMuZ2V0UGFyc2VkKGluZGV4KTtcbiAgICAgICAgbGV0IHZhbHVlcyA9IHN1cGVyLnJlc29sdmVEYXRhRWxlbWVudE9wdGlvbnMoaW5kZXgsIG1vZGUpO1xuICAgICAgICBpZiAodmFsdWVzLiRzaGFyZWQpIHtcbiAgICAgICAgICAgIHZhbHVlcyA9IE9iamVjdC5hc3NpZ24oe30sIHZhbHVlcywge1xuICAgICAgICAgICAgICAgICRzaGFyZWQ6IGZhbHNlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByYWRpdXMgPSB2YWx1ZXMucmFkaXVzO1xuICAgICAgICBpZiAobW9kZSAhPT0gJ2FjdGl2ZScpIHtcbiAgICAgICAgICAgIHZhbHVlcy5yYWRpdXMgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHZhbHVlcy5yYWRpdXMgKz0gdmFsdWVPckRlZmF1bHQocGFyc2VkICYmIHBhcnNlZC5fY3VzdG9tLCByYWRpdXMpO1xuICAgICAgICByZXR1cm4gdmFsdWVzO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0UmF0aW9BbmRPZmZzZXQocm90YXRpb24sIGNpcmN1bWZlcmVuY2UsIGN1dG91dCkge1xuICAgIGxldCByYXRpb1ggPSAxO1xuICAgIGxldCByYXRpb1kgPSAxO1xuICAgIGxldCBvZmZzZXRYID0gMDtcbiAgICBsZXQgb2Zmc2V0WSA9IDA7XG4gICAgaWYgKGNpcmN1bWZlcmVuY2UgPCBUQVUpIHtcbiAgICAgICAgY29uc3Qgc3RhcnRBbmdsZSA9IHJvdGF0aW9uO1xuICAgICAgICBjb25zdCBlbmRBbmdsZSA9IHN0YXJ0QW5nbGUgKyBjaXJjdW1mZXJlbmNlO1xuICAgICAgICBjb25zdCBzdGFydFggPSBNYXRoLmNvcyhzdGFydEFuZ2xlKTtcbiAgICAgICAgY29uc3Qgc3RhcnRZID0gTWF0aC5zaW4oc3RhcnRBbmdsZSk7XG4gICAgICAgIGNvbnN0IGVuZFggPSBNYXRoLmNvcyhlbmRBbmdsZSk7XG4gICAgICAgIGNvbnN0IGVuZFkgPSBNYXRoLnNpbihlbmRBbmdsZSk7XG4gICAgICAgIGNvbnN0IGNhbGNNYXggPSAoYW5nbGUsIGEsIGIpPT5fYW5nbGVCZXR3ZWVuKGFuZ2xlLCBzdGFydEFuZ2xlLCBlbmRBbmdsZSwgdHJ1ZSkgPyAxIDogTWF0aC5tYXgoYSwgYSAqIGN1dG91dCwgYiwgYiAqIGN1dG91dCk7XG4gICAgICAgIGNvbnN0IGNhbGNNaW4gPSAoYW5nbGUsIGEsIGIpPT5fYW5nbGVCZXR3ZWVuKGFuZ2xlLCBzdGFydEFuZ2xlLCBlbmRBbmdsZSwgdHJ1ZSkgPyAtMSA6IE1hdGgubWluKGEsIGEgKiBjdXRvdXQsIGIsIGIgKiBjdXRvdXQpO1xuICAgICAgICBjb25zdCBtYXhYID0gY2FsY01heCgwLCBzdGFydFgsIGVuZFgpO1xuICAgICAgICBjb25zdCBtYXhZID0gY2FsY01heChIQUxGX1BJLCBzdGFydFksIGVuZFkpO1xuICAgICAgICBjb25zdCBtaW5YID0gY2FsY01pbihQSSwgc3RhcnRYLCBlbmRYKTtcbiAgICAgICAgY29uc3QgbWluWSA9IGNhbGNNaW4oUEkgKyBIQUxGX1BJLCBzdGFydFksIGVuZFkpO1xuICAgICAgICByYXRpb1ggPSAobWF4WCAtIG1pblgpIC8gMjtcbiAgICAgICAgcmF0aW9ZID0gKG1heFkgLSBtaW5ZKSAvIDI7XG4gICAgICAgIG9mZnNldFggPSAtKG1heFggKyBtaW5YKSAvIDI7XG4gICAgICAgIG9mZnNldFkgPSAtKG1heFkgKyBtaW5ZKSAvIDI7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHJhdGlvWCxcbiAgICAgICAgcmF0aW9ZLFxuICAgICAgICBvZmZzZXRYLFxuICAgICAgICBvZmZzZXRZXG4gICAgfTtcbn1cbmNsYXNzIERvdWdobnV0Q29udHJvbGxlciBleHRlbmRzIERhdGFzZXRDb250cm9sbGVyIHtcbiAgICBzdGF0aWMgaWQgPSAnZG91Z2hudXQnO1xuIHN0YXRpYyBkZWZhdWx0cyA9IHtcbiAgICAgICAgZGF0YXNldEVsZW1lbnRUeXBlOiBmYWxzZSxcbiAgICAgICAgZGF0YUVsZW1lbnRUeXBlOiAnYXJjJyxcbiAgICAgICAgYW5pbWF0aW9uOiB7XG4gICAgICAgICAgICBhbmltYXRlUm90YXRlOiB0cnVlLFxuICAgICAgICAgICAgYW5pbWF0ZVNjYWxlOiBmYWxzZVxuICAgICAgICB9LFxuICAgICAgICBhbmltYXRpb25zOiB7XG4gICAgICAgICAgICBudW1iZXJzOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICAgICAgICAgICAgcHJvcGVydGllczogW1xuICAgICAgICAgICAgICAgICAgICAnY2lyY3VtZmVyZW5jZScsXG4gICAgICAgICAgICAgICAgICAgICdlbmRBbmdsZScsXG4gICAgICAgICAgICAgICAgICAgICdpbm5lclJhZGl1cycsXG4gICAgICAgICAgICAgICAgICAgICdvdXRlclJhZGl1cycsXG4gICAgICAgICAgICAgICAgICAgICdzdGFydEFuZ2xlJyxcbiAgICAgICAgICAgICAgICAgICAgJ3gnLFxuICAgICAgICAgICAgICAgICAgICAneScsXG4gICAgICAgICAgICAgICAgICAgICdvZmZzZXQnLFxuICAgICAgICAgICAgICAgICAgICAnYm9yZGVyV2lkdGgnLFxuICAgICAgICAgICAgICAgICAgICAnc3BhY2luZydcbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGN1dG91dDogJzUwJScsXG4gICAgICAgIHJvdGF0aW9uOiAwLFxuICAgICAgICBjaXJjdW1mZXJlbmNlOiAzNjAsXG4gICAgICAgIHJhZGl1czogJzEwMCUnLFxuICAgICAgICBzcGFjaW5nOiAwLFxuICAgICAgICBpbmRleEF4aXM6ICdyJ1xuICAgIH07XG4gICAgc3RhdGljIGRlc2NyaXB0b3JzID0ge1xuICAgICAgICBfc2NyaXB0YWJsZTogKG5hbWUpPT5uYW1lICE9PSAnc3BhY2luZycsXG4gICAgICAgIF9pbmRleGFibGU6IChuYW1lKT0+bmFtZSAhPT0gJ3NwYWNpbmcnICYmICFuYW1lLnN0YXJ0c1dpdGgoJ2JvcmRlckRhc2gnKSAmJiAhbmFtZS5zdGFydHNXaXRoKCdob3ZlckJvcmRlckRhc2gnKVxuICAgIH07XG4gc3RhdGljIG92ZXJyaWRlcyA9IHtcbiAgICAgICAgYXNwZWN0UmF0aW86IDEsXG4gICAgICAgIHBsdWdpbnM6IHtcbiAgICAgICAgICAgIGxlZ2VuZDoge1xuICAgICAgICAgICAgICAgIGxhYmVsczoge1xuICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZUxhYmVscyAoY2hhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBjaGFydC5kYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubGFiZWxzLmxlbmd0aCAmJiBkYXRhLmRhdGFzZXRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgbGFiZWxzOiB7IHBvaW50U3R5bGUgLCBjb2xvciAgfSAgfSA9IGNoYXJ0LmxlZ2VuZC5vcHRpb25zO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhLmxhYmVscy5tYXAoKGxhYmVsLCBpKT0+e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtZXRhID0gY2hhcnQuZ2V0RGF0YXNldE1ldGEoMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0eWxlID0gbWV0YS5jb250cm9sbGVyLmdldFN0eWxlKGkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogbGFiZWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsU3R5bGU6IHN0eWxlLmJhY2tncm91bmRDb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZVN0eWxlOiBzdHlsZS5ib3JkZXJDb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRDb2xvcjogY29sb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lV2lkdGg6IHN0eWxlLmJvcmRlcldpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnRTdHlsZTogcG9pbnRTdHlsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpZGRlbjogIWNoYXJ0LmdldERhdGFWaXNpYmlsaXR5KGkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25DbGljayAoZSwgbGVnZW5kSXRlbSwgbGVnZW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIGxlZ2VuZC5jaGFydC50b2dnbGVEYXRhVmlzaWJpbGl0eShsZWdlbmRJdGVtLmluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgbGVnZW5kLmNoYXJ0LnVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3RydWN0b3IoY2hhcnQsIGRhdGFzZXRJbmRleCl7XG4gICAgICAgIHN1cGVyKGNoYXJ0LCBkYXRhc2V0SW5kZXgpO1xuICAgICAgICB0aGlzLmVuYWJsZU9wdGlvblNoYXJpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLmlubmVyUmFkaXVzID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLm91dGVyUmFkaXVzID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLm9mZnNldFggPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMub2Zmc2V0WSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgbGlua1NjYWxlcygpIHt9XG4gcGFyc2Uoc3RhcnQsIGNvdW50KSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmdldERhdGFzZXQoKS5kYXRhO1xuICAgICAgICBjb25zdCBtZXRhID0gdGhpcy5fY2FjaGVkTWV0YTtcbiAgICAgICAgaWYgKHRoaXMuX3BhcnNpbmcgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBtZXRhLl9wYXJzZWQgPSBkYXRhO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IGdldHRlciA9IChpKT0+K2RhdGFbaV07XG4gICAgICAgICAgICBpZiAoaXNPYmplY3QoZGF0YVtzdGFydF0pKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBrZXkgPSd2YWx1ZScgIH0gPSB0aGlzLl9wYXJzaW5nO1xuICAgICAgICAgICAgICAgIGdldHRlciA9IChpKT0+K3Jlc29sdmVPYmplY3RLZXkoZGF0YVtpXSwga2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBpLCBpbGVuO1xuICAgICAgICAgICAgZm9yKGkgPSBzdGFydCwgaWxlbiA9IHN0YXJ0ICsgY291bnQ7IGkgPCBpbGVuOyArK2kpe1xuICAgICAgICAgICAgICAgIG1ldGEuX3BhcnNlZFtpXSA9IGdldHRlcihpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiBfZ2V0Um90YXRpb24oKSB7XG4gICAgICAgIHJldHVybiB0b1JhZGlhbnModGhpcy5vcHRpb25zLnJvdGF0aW9uIC0gOTApO1xuICAgIH1cbiBfZ2V0Q2lyY3VtZmVyZW5jZSgpIHtcbiAgICAgICAgcmV0dXJuIHRvUmFkaWFucyh0aGlzLm9wdGlvbnMuY2lyY3VtZmVyZW5jZSk7XG4gICAgfVxuIF9nZXRSb3RhdGlvbkV4dGVudHMoKSB7XG4gICAgICAgIGxldCBtaW4gPSBUQVU7XG4gICAgICAgIGxldCBtYXggPSAtVEFVO1xuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgdGhpcy5jaGFydC5kYXRhLmRhdGFzZXRzLmxlbmd0aDsgKytpKXtcbiAgICAgICAgICAgIGlmICh0aGlzLmNoYXJ0LmlzRGF0YXNldFZpc2libGUoaSkgJiYgdGhpcy5jaGFydC5nZXREYXRhc2V0TWV0YShpKS50eXBlID09PSB0aGlzLl90eXBlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29udHJvbGxlciA9IHRoaXMuY2hhcnQuZ2V0RGF0YXNldE1ldGEoaSkuY29udHJvbGxlcjtcbiAgICAgICAgICAgICAgICBjb25zdCByb3RhdGlvbiA9IGNvbnRyb2xsZXIuX2dldFJvdGF0aW9uKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgY2lyY3VtZmVyZW5jZSA9IGNvbnRyb2xsZXIuX2dldENpcmN1bWZlcmVuY2UoKTtcbiAgICAgICAgICAgICAgICBtaW4gPSBNYXRoLm1pbihtaW4sIHJvdGF0aW9uKTtcbiAgICAgICAgICAgICAgICBtYXggPSBNYXRoLm1heChtYXgsIHJvdGF0aW9uICsgY2lyY3VtZmVyZW5jZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJvdGF0aW9uOiBtaW4sXG4gICAgICAgICAgICBjaXJjdW1mZXJlbmNlOiBtYXggLSBtaW5cbiAgICAgICAgfTtcbiAgICB9XG4gdXBkYXRlKG1vZGUpIHtcbiAgICAgICAgY29uc3QgY2hhcnQgPSB0aGlzLmNoYXJ0O1xuICAgICAgICBjb25zdCB7IGNoYXJ0QXJlYSAgfSA9IGNoYXJ0O1xuICAgICAgICBjb25zdCBtZXRhID0gdGhpcy5fY2FjaGVkTWV0YTtcbiAgICAgICAgY29uc3QgYXJjcyA9IG1ldGEuZGF0YTtcbiAgICAgICAgY29uc3Qgc3BhY2luZyA9IHRoaXMuZ2V0TWF4Qm9yZGVyV2lkdGgoKSArIHRoaXMuZ2V0TWF4T2Zmc2V0KGFyY3MpICsgdGhpcy5vcHRpb25zLnNwYWNpbmc7XG4gICAgICAgIGNvbnN0IG1heFNpemUgPSBNYXRoLm1heCgoTWF0aC5taW4oY2hhcnRBcmVhLndpZHRoLCBjaGFydEFyZWEuaGVpZ2h0KSAtIHNwYWNpbmcpIC8gMiwgMCk7XG4gICAgICAgIGNvbnN0IGN1dG91dCA9IE1hdGgubWluKHRvUGVyY2VudGFnZSh0aGlzLm9wdGlvbnMuY3V0b3V0LCBtYXhTaXplKSwgMSk7XG4gICAgICAgIGNvbnN0IGNoYXJ0V2VpZ2h0ID0gdGhpcy5fZ2V0UmluZ1dlaWdodCh0aGlzLmluZGV4KTtcbiAgICAgICAgY29uc3QgeyBjaXJjdW1mZXJlbmNlICwgcm90YXRpb24gIH0gPSB0aGlzLl9nZXRSb3RhdGlvbkV4dGVudHMoKTtcbiAgICAgICAgY29uc3QgeyByYXRpb1ggLCByYXRpb1kgLCBvZmZzZXRYICwgb2Zmc2V0WSAgfSA9IGdldFJhdGlvQW5kT2Zmc2V0KHJvdGF0aW9uLCBjaXJjdW1mZXJlbmNlLCBjdXRvdXQpO1xuICAgICAgICBjb25zdCBtYXhXaWR0aCA9IChjaGFydEFyZWEud2lkdGggLSBzcGFjaW5nKSAvIHJhdGlvWDtcbiAgICAgICAgY29uc3QgbWF4SGVpZ2h0ID0gKGNoYXJ0QXJlYS5oZWlnaHQgLSBzcGFjaW5nKSAvIHJhdGlvWTtcbiAgICAgICAgY29uc3QgbWF4UmFkaXVzID0gTWF0aC5tYXgoTWF0aC5taW4obWF4V2lkdGgsIG1heEhlaWdodCkgLyAyLCAwKTtcbiAgICAgICAgY29uc3Qgb3V0ZXJSYWRpdXMgPSB0b0RpbWVuc2lvbih0aGlzLm9wdGlvbnMucmFkaXVzLCBtYXhSYWRpdXMpO1xuICAgICAgICBjb25zdCBpbm5lclJhZGl1cyA9IE1hdGgubWF4KG91dGVyUmFkaXVzICogY3V0b3V0LCAwKTtcbiAgICAgICAgY29uc3QgcmFkaXVzTGVuZ3RoID0gKG91dGVyUmFkaXVzIC0gaW5uZXJSYWRpdXMpIC8gdGhpcy5fZ2V0VmlzaWJsZURhdGFzZXRXZWlnaHRUb3RhbCgpO1xuICAgICAgICB0aGlzLm9mZnNldFggPSBvZmZzZXRYICogb3V0ZXJSYWRpdXM7XG4gICAgICAgIHRoaXMub2Zmc2V0WSA9IG9mZnNldFkgKiBvdXRlclJhZGl1cztcbiAgICAgICAgbWV0YS50b3RhbCA9IHRoaXMuY2FsY3VsYXRlVG90YWwoKTtcbiAgICAgICAgdGhpcy5vdXRlclJhZGl1cyA9IG91dGVyUmFkaXVzIC0gcmFkaXVzTGVuZ3RoICogdGhpcy5fZ2V0UmluZ1dlaWdodE9mZnNldCh0aGlzLmluZGV4KTtcbiAgICAgICAgdGhpcy5pbm5lclJhZGl1cyA9IE1hdGgubWF4KHRoaXMub3V0ZXJSYWRpdXMgLSByYWRpdXNMZW5ndGggKiBjaGFydFdlaWdodCwgMCk7XG4gICAgICAgIHRoaXMudXBkYXRlRWxlbWVudHMoYXJjcywgMCwgYXJjcy5sZW5ndGgsIG1vZGUpO1xuICAgIH1cbiBfY2lyY3VtZmVyZW5jZShpLCByZXNldCkge1xuICAgICAgICBjb25zdCBvcHRzID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBtZXRhID0gdGhpcy5fY2FjaGVkTWV0YTtcbiAgICAgICAgY29uc3QgY2lyY3VtZmVyZW5jZSA9IHRoaXMuX2dldENpcmN1bWZlcmVuY2UoKTtcbiAgICAgICAgaWYgKHJlc2V0ICYmIG9wdHMuYW5pbWF0aW9uLmFuaW1hdGVSb3RhdGUgfHwgIXRoaXMuY2hhcnQuZ2V0RGF0YVZpc2liaWxpdHkoaSkgfHwgbWV0YS5fcGFyc2VkW2ldID09PSBudWxsIHx8IG1ldGEuZGF0YVtpXS5oaWRkZW4pIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGN1bGF0ZUNpcmN1bWZlcmVuY2UobWV0YS5fcGFyc2VkW2ldICogY2lyY3VtZmVyZW5jZSAvIFRBVSk7XG4gICAgfVxuICAgIHVwZGF0ZUVsZW1lbnRzKGFyY3MsIHN0YXJ0LCBjb3VudCwgbW9kZSkge1xuICAgICAgICBjb25zdCByZXNldCA9IG1vZGUgPT09ICdyZXNldCc7XG4gICAgICAgIGNvbnN0IGNoYXJ0ID0gdGhpcy5jaGFydDtcbiAgICAgICAgY29uc3QgY2hhcnRBcmVhID0gY2hhcnQuY2hhcnRBcmVhO1xuICAgICAgICBjb25zdCBvcHRzID0gY2hhcnQub3B0aW9ucztcbiAgICAgICAgY29uc3QgYW5pbWF0aW9uT3B0cyA9IG9wdHMuYW5pbWF0aW9uO1xuICAgICAgICBjb25zdCBjZW50ZXJYID0gKGNoYXJ0QXJlYS5sZWZ0ICsgY2hhcnRBcmVhLnJpZ2h0KSAvIDI7XG4gICAgICAgIGNvbnN0IGNlbnRlclkgPSAoY2hhcnRBcmVhLnRvcCArIGNoYXJ0QXJlYS5ib3R0b20pIC8gMjtcbiAgICAgICAgY29uc3QgYW5pbWF0ZVNjYWxlID0gcmVzZXQgJiYgYW5pbWF0aW9uT3B0cy5hbmltYXRlU2NhbGU7XG4gICAgICAgIGNvbnN0IGlubmVyUmFkaXVzID0gYW5pbWF0ZVNjYWxlID8gMCA6IHRoaXMuaW5uZXJSYWRpdXM7XG4gICAgICAgIGNvbnN0IG91dGVyUmFkaXVzID0gYW5pbWF0ZVNjYWxlID8gMCA6IHRoaXMub3V0ZXJSYWRpdXM7XG4gICAgICAgIGNvbnN0IHsgc2hhcmVkT3B0aW9ucyAsIGluY2x1ZGVPcHRpb25zICB9ID0gdGhpcy5fZ2V0U2hhcmVkT3B0aW9ucyhzdGFydCwgbW9kZSk7XG4gICAgICAgIGxldCBzdGFydEFuZ2xlID0gdGhpcy5fZ2V0Um90YXRpb24oKTtcbiAgICAgICAgbGV0IGk7XG4gICAgICAgIGZvcihpID0gMDsgaSA8IHN0YXJ0OyArK2kpe1xuICAgICAgICAgICAgc3RhcnRBbmdsZSArPSB0aGlzLl9jaXJjdW1mZXJlbmNlKGksIHJlc2V0KTtcbiAgICAgICAgfVxuICAgICAgICBmb3IoaSA9IHN0YXJ0OyBpIDwgc3RhcnQgKyBjb3VudDsgKytpKXtcbiAgICAgICAgICAgIGNvbnN0IGNpcmN1bWZlcmVuY2UgPSB0aGlzLl9jaXJjdW1mZXJlbmNlKGksIHJlc2V0KTtcbiAgICAgICAgICAgIGNvbnN0IGFyYyA9IGFyY3NbaV07XG4gICAgICAgICAgICBjb25zdCBwcm9wZXJ0aWVzID0ge1xuICAgICAgICAgICAgICAgIHg6IGNlbnRlclggKyB0aGlzLm9mZnNldFgsXG4gICAgICAgICAgICAgICAgeTogY2VudGVyWSArIHRoaXMub2Zmc2V0WSxcbiAgICAgICAgICAgICAgICBzdGFydEFuZ2xlLFxuICAgICAgICAgICAgICAgIGVuZEFuZ2xlOiBzdGFydEFuZ2xlICsgY2lyY3VtZmVyZW5jZSxcbiAgICAgICAgICAgICAgICBjaXJjdW1mZXJlbmNlLFxuICAgICAgICAgICAgICAgIG91dGVyUmFkaXVzLFxuICAgICAgICAgICAgICAgIGlubmVyUmFkaXVzXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKGluY2x1ZGVPcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgcHJvcGVydGllcy5vcHRpb25zID0gc2hhcmVkT3B0aW9ucyB8fCB0aGlzLnJlc29sdmVEYXRhRWxlbWVudE9wdGlvbnMoaSwgYXJjLmFjdGl2ZSA/ICdhY3RpdmUnIDogbW9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdGFydEFuZ2xlICs9IGNpcmN1bWZlcmVuY2U7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUVsZW1lbnQoYXJjLCBpLCBwcm9wZXJ0aWVzLCBtb2RlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYWxjdWxhdGVUb3RhbCgpIHtcbiAgICAgICAgY29uc3QgbWV0YSA9IHRoaXMuX2NhY2hlZE1ldGE7XG4gICAgICAgIGNvbnN0IG1ldGFEYXRhID0gbWV0YS5kYXRhO1xuICAgICAgICBsZXQgdG90YWwgPSAwO1xuICAgICAgICBsZXQgaTtcbiAgICAgICAgZm9yKGkgPSAwOyBpIDwgbWV0YURhdGEubGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBtZXRhLl9wYXJzZWRbaV07XG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IG51bGwgJiYgIWlzTmFOKHZhbHVlKSAmJiB0aGlzLmNoYXJ0LmdldERhdGFWaXNpYmlsaXR5KGkpICYmICFtZXRhRGF0YVtpXS5oaWRkZW4pIHtcbiAgICAgICAgICAgICAgICB0b3RhbCArPSBNYXRoLmFicyh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRvdGFsO1xuICAgIH1cbiAgICBjYWxjdWxhdGVDaXJjdW1mZXJlbmNlKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHRvdGFsID0gdGhpcy5fY2FjaGVkTWV0YS50b3RhbDtcbiAgICAgICAgaWYgKHRvdGFsID4gMCAmJiAhaXNOYU4odmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gVEFVICogKE1hdGguYWJzKHZhbHVlKSAvIHRvdGFsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgZ2V0TGFiZWxBbmRWYWx1ZShpbmRleCkge1xuICAgICAgICBjb25zdCBtZXRhID0gdGhpcy5fY2FjaGVkTWV0YTtcbiAgICAgICAgY29uc3QgY2hhcnQgPSB0aGlzLmNoYXJ0O1xuICAgICAgICBjb25zdCBsYWJlbHMgPSBjaGFydC5kYXRhLmxhYmVscyB8fCBbXTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBmb3JtYXROdW1iZXIobWV0YS5fcGFyc2VkW2luZGV4XSwgY2hhcnQub3B0aW9ucy5sb2NhbGUpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbGFiZWw6IGxhYmVsc1tpbmRleF0gfHwgJycsXG4gICAgICAgICAgICB2YWx1ZVxuICAgICAgICB9O1xuICAgIH1cbiAgICBnZXRNYXhCb3JkZXJXaWR0aChhcmNzKSB7XG4gICAgICAgIGxldCBtYXggPSAwO1xuICAgICAgICBjb25zdCBjaGFydCA9IHRoaXMuY2hhcnQ7XG4gICAgICAgIGxldCBpLCBpbGVuLCBtZXRhLCBjb250cm9sbGVyLCBvcHRpb25zO1xuICAgICAgICBpZiAoIWFyY3MpIHtcbiAgICAgICAgICAgIGZvcihpID0gMCwgaWxlbiA9IGNoYXJ0LmRhdGEuZGF0YXNldHMubGVuZ3RoOyBpIDwgaWxlbjsgKytpKXtcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnQuaXNEYXRhc2V0VmlzaWJsZShpKSkge1xuICAgICAgICAgICAgICAgICAgICBtZXRhID0gY2hhcnQuZ2V0RGF0YXNldE1ldGEoaSk7XG4gICAgICAgICAgICAgICAgICAgIGFyY3MgPSBtZXRhLmRhdGE7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIgPSBtZXRhLmNvbnRyb2xsZXI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIWFyY3MpIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICAgIGZvcihpID0gMCwgaWxlbiA9IGFyY3MubGVuZ3RoOyBpIDwgaWxlbjsgKytpKXtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBjb250cm9sbGVyLnJlc29sdmVEYXRhRWxlbWVudE9wdGlvbnMoaSk7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5ib3JkZXJBbGlnbiAhPT0gJ2lubmVyJykge1xuICAgICAgICAgICAgICAgIG1heCA9IE1hdGgubWF4KG1heCwgb3B0aW9ucy5ib3JkZXJXaWR0aCB8fCAwLCBvcHRpb25zLmhvdmVyQm9yZGVyV2lkdGggfHwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1heDtcbiAgICB9XG4gICAgZ2V0TWF4T2Zmc2V0KGFyY3MpIHtcbiAgICAgICAgbGV0IG1heCA9IDA7XG4gICAgICAgIGZvcihsZXQgaSA9IDAsIGlsZW4gPSBhcmNzLmxlbmd0aDsgaSA8IGlsZW47ICsraSl7XG4gICAgICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5yZXNvbHZlRGF0YUVsZW1lbnRPcHRpb25zKGkpO1xuICAgICAgICAgICAgbWF4ID0gTWF0aC5tYXgobWF4LCBvcHRpb25zLm9mZnNldCB8fCAwLCBvcHRpb25zLmhvdmVyT2Zmc2V0IHx8IDApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXg7XG4gICAgfVxuIF9nZXRSaW5nV2VpZ2h0T2Zmc2V0KGRhdGFzZXRJbmRleCkge1xuICAgICAgICBsZXQgcmluZ1dlaWdodE9mZnNldCA9IDA7XG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBkYXRhc2V0SW5kZXg7ICsraSl7XG4gICAgICAgICAgICBpZiAodGhpcy5jaGFydC5pc0RhdGFzZXRWaXNpYmxlKGkpKSB7XG4gICAgICAgICAgICAgICAgcmluZ1dlaWdodE9mZnNldCArPSB0aGlzLl9nZXRSaW5nV2VpZ2h0KGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByaW5nV2VpZ2h0T2Zmc2V0O1xuICAgIH1cbiBfZ2V0UmluZ1dlaWdodChkYXRhc2V0SW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KHZhbHVlT3JEZWZhdWx0KHRoaXMuY2hhcnQuZGF0YS5kYXRhc2V0c1tkYXRhc2V0SW5kZXhdLndlaWdodCwgMSksIDApO1xuICAgIH1cbiBfZ2V0VmlzaWJsZURhdGFzZXRXZWlnaHRUb3RhbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldFJpbmdXZWlnaHRPZmZzZXQodGhpcy5jaGFydC5kYXRhLmRhdGFzZXRzLmxlbmd0aCkgfHwgMTtcbiAgICB9XG59XG5cbmNsYXNzIExpbmVDb250cm9sbGVyIGV4dGVuZHMgRGF0YXNldENvbnRyb2xsZXIge1xuICAgIHN0YXRpYyBpZCA9ICdsaW5lJztcbiBzdGF0aWMgZGVmYXVsdHMgPSB7XG4gICAgICAgIGRhdGFzZXRFbGVtZW50VHlwZTogJ2xpbmUnLFxuICAgICAgICBkYXRhRWxlbWVudFR5cGU6ICdwb2ludCcsXG4gICAgICAgIHNob3dMaW5lOiB0cnVlLFxuICAgICAgICBzcGFuR2FwczogZmFsc2VcbiAgICB9O1xuIHN0YXRpYyBvdmVycmlkZXMgPSB7XG4gICAgICAgIHNjYWxlczoge1xuICAgICAgICAgICAgX2luZGV4Xzoge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdjYXRlZ29yeSdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfdmFsdWVfOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2xpbmVhcidcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgaW5pdGlhbGl6ZSgpIHtcbiAgICAgICAgdGhpcy5lbmFibGVPcHRpb25TaGFyaW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zdXBwb3J0c0RlY2ltYXRpb24gPSB0cnVlO1xuICAgICAgICBzdXBlci5pbml0aWFsaXplKCk7XG4gICAgfVxuICAgIHVwZGF0ZShtb2RlKSB7XG4gICAgICAgIGNvbnN0IG1ldGEgPSB0aGlzLl9jYWNoZWRNZXRhO1xuICAgICAgICBjb25zdCB7IGRhdGFzZXQ6IGxpbmUgLCBkYXRhOiBwb2ludHMgPSBbXSAsIF9kYXRhc2V0ICB9ID0gbWV0YTtcbiAgICAgICAgY29uc3QgYW5pbWF0aW9uc0Rpc2FibGVkID0gdGhpcy5jaGFydC5fYW5pbWF0aW9uc0Rpc2FibGVkO1xuICAgICAgICBsZXQgeyBzdGFydCAsIGNvdW50ICB9ID0gX2dldFN0YXJ0QW5kQ291bnRPZlZpc2libGVQb2ludHMobWV0YSwgcG9pbnRzLCBhbmltYXRpb25zRGlzYWJsZWQpO1xuICAgICAgICB0aGlzLl9kcmF3U3RhcnQgPSBzdGFydDtcbiAgICAgICAgdGhpcy5fZHJhd0NvdW50ID0gY291bnQ7XG4gICAgICAgIGlmIChfc2NhbGVSYW5nZXNDaGFuZ2VkKG1ldGEpKSB7XG4gICAgICAgICAgICBzdGFydCA9IDA7XG4gICAgICAgICAgICBjb3VudCA9IHBvaW50cy5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgbGluZS5fY2hhcnQgPSB0aGlzLmNoYXJ0O1xuICAgICAgICBsaW5lLl9kYXRhc2V0SW5kZXggPSB0aGlzLmluZGV4O1xuICAgICAgICBsaW5lLl9kZWNpbWF0ZWQgPSAhIV9kYXRhc2V0Ll9kZWNpbWF0ZWQ7XG4gICAgICAgIGxpbmUucG9pbnRzID0gcG9pbnRzO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5yZXNvbHZlRGF0YXNldEVsZW1lbnRPcHRpb25zKG1vZGUpO1xuICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5zaG93TGluZSkge1xuICAgICAgICAgICAgb3B0aW9ucy5ib3JkZXJXaWR0aCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgb3B0aW9ucy5zZWdtZW50ID0gdGhpcy5vcHRpb25zLnNlZ21lbnQ7XG4gICAgICAgIHRoaXMudXBkYXRlRWxlbWVudChsaW5lLCB1bmRlZmluZWQsIHtcbiAgICAgICAgICAgIGFuaW1hdGVkOiAhYW5pbWF0aW9uc0Rpc2FibGVkLFxuICAgICAgICAgICAgb3B0aW9uc1xuICAgICAgICB9LCBtb2RlKTtcbiAgICAgICAgdGhpcy51cGRhdGVFbGVtZW50cyhwb2ludHMsIHN0YXJ0LCBjb3VudCwgbW9kZSk7XG4gICAgfVxuICAgIHVwZGF0ZUVsZW1lbnRzKHBvaW50cywgc3RhcnQsIGNvdW50LCBtb2RlKSB7XG4gICAgICAgIGNvbnN0IHJlc2V0ID0gbW9kZSA9PT0gJ3Jlc2V0JztcbiAgICAgICAgY29uc3QgeyBpU2NhbGUgLCB2U2NhbGUgLCBfc3RhY2tlZCAsIF9kYXRhc2V0ICB9ID0gdGhpcy5fY2FjaGVkTWV0YTtcbiAgICAgICAgY29uc3QgeyBzaGFyZWRPcHRpb25zICwgaW5jbHVkZU9wdGlvbnMgIH0gPSB0aGlzLl9nZXRTaGFyZWRPcHRpb25zKHN0YXJ0LCBtb2RlKTtcbiAgICAgICAgY29uc3QgaUF4aXMgPSBpU2NhbGUuYXhpcztcbiAgICAgICAgY29uc3QgdkF4aXMgPSB2U2NhbGUuYXhpcztcbiAgICAgICAgY29uc3QgeyBzcGFuR2FwcyAsIHNlZ21lbnQgIH0gPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IG1heEdhcExlbmd0aCA9IGlzTnVtYmVyKHNwYW5HYXBzKSA/IHNwYW5HYXBzIDogTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgICAgICBjb25zdCBkaXJlY3RVcGRhdGUgPSB0aGlzLmNoYXJ0Ll9hbmltYXRpb25zRGlzYWJsZWQgfHwgcmVzZXQgfHwgbW9kZSA9PT0gJ25vbmUnO1xuICAgICAgICBjb25zdCBlbmQgPSBzdGFydCArIGNvdW50O1xuICAgICAgICBjb25zdCBwb2ludHNDb3VudCA9IHBvaW50cy5sZW5ndGg7XG4gICAgICAgIGxldCBwcmV2UGFyc2VkID0gc3RhcnQgPiAwICYmIHRoaXMuZ2V0UGFyc2VkKHN0YXJ0IC0gMSk7XG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBwb2ludHNDb3VudDsgKytpKXtcbiAgICAgICAgICAgIGNvbnN0IHBvaW50ID0gcG9pbnRzW2ldO1xuICAgICAgICAgICAgY29uc3QgcHJvcGVydGllcyA9IGRpcmVjdFVwZGF0ZSA/IHBvaW50IDoge307XG4gICAgICAgICAgICBpZiAoaSA8IHN0YXJ0IHx8IGkgPj0gZW5kKSB7XG4gICAgICAgICAgICAgICAgcHJvcGVydGllcy5za2lwID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IHRoaXMuZ2V0UGFyc2VkKGkpO1xuICAgICAgICAgICAgY29uc3QgbnVsbERhdGEgPSBpc051bGxPclVuZGVmKHBhcnNlZFt2QXhpc10pO1xuICAgICAgICAgICAgY29uc3QgaVBpeGVsID0gcHJvcGVydGllc1tpQXhpc10gPSBpU2NhbGUuZ2V0UGl4ZWxGb3JWYWx1ZShwYXJzZWRbaUF4aXNdLCBpKTtcbiAgICAgICAgICAgIGNvbnN0IHZQaXhlbCA9IHByb3BlcnRpZXNbdkF4aXNdID0gcmVzZXQgfHwgbnVsbERhdGEgPyB2U2NhbGUuZ2V0QmFzZVBpeGVsKCkgOiB2U2NhbGUuZ2V0UGl4ZWxGb3JWYWx1ZShfc3RhY2tlZCA/IHRoaXMuYXBwbHlTdGFjayh2U2NhbGUsIHBhcnNlZCwgX3N0YWNrZWQpIDogcGFyc2VkW3ZBeGlzXSwgaSk7XG4gICAgICAgICAgICBwcm9wZXJ0aWVzLnNraXAgPSBpc05hTihpUGl4ZWwpIHx8IGlzTmFOKHZQaXhlbCkgfHwgbnVsbERhdGE7XG4gICAgICAgICAgICBwcm9wZXJ0aWVzLnN0b3AgPSBpID4gMCAmJiBNYXRoLmFicyhwYXJzZWRbaUF4aXNdIC0gcHJldlBhcnNlZFtpQXhpc10pID4gbWF4R2FwTGVuZ3RoO1xuICAgICAgICAgICAgaWYgKHNlZ21lbnQpIHtcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLnBhcnNlZCA9IHBhcnNlZDtcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLnJhdyA9IF9kYXRhc2V0LmRhdGFbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaW5jbHVkZU9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLm9wdGlvbnMgPSBzaGFyZWRPcHRpb25zIHx8IHRoaXMucmVzb2x2ZURhdGFFbGVtZW50T3B0aW9ucyhpLCBwb2ludC5hY3RpdmUgPyAnYWN0aXZlJyA6IG1vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFkaXJlY3RVcGRhdGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUVsZW1lbnQocG9pbnQsIGksIHByb3BlcnRpZXMsIG1vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHJldlBhcnNlZCA9IHBhcnNlZDtcbiAgICAgICAgfVxuICAgIH1cbiBnZXRNYXhPdmVyZmxvdygpIHtcbiAgICAgICAgY29uc3QgbWV0YSA9IHRoaXMuX2NhY2hlZE1ldGE7XG4gICAgICAgIGNvbnN0IGRhdGFzZXQgPSBtZXRhLmRhdGFzZXQ7XG4gICAgICAgIGNvbnN0IGJvcmRlciA9IGRhdGFzZXQub3B0aW9ucyAmJiBkYXRhc2V0Lm9wdGlvbnMuYm9yZGVyV2lkdGggfHwgMDtcbiAgICAgICAgY29uc3QgZGF0YSA9IG1ldGEuZGF0YSB8fCBbXTtcbiAgICAgICAgaWYgKCFkYXRhLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGJvcmRlcjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBmaXJzdFBvaW50ID0gZGF0YVswXS5zaXplKHRoaXMucmVzb2x2ZURhdGFFbGVtZW50T3B0aW9ucygwKSk7XG4gICAgICAgIGNvbnN0IGxhc3RQb2ludCA9IGRhdGFbZGF0YS5sZW5ndGggLSAxXS5zaXplKHRoaXMucmVzb2x2ZURhdGFFbGVtZW50T3B0aW9ucyhkYXRhLmxlbmd0aCAtIDEpKTtcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KGJvcmRlciwgZmlyc3RQb2ludCwgbGFzdFBvaW50KSAvIDI7XG4gICAgfVxuICAgIGRyYXcoKSB7XG4gICAgICAgIGNvbnN0IG1ldGEgPSB0aGlzLl9jYWNoZWRNZXRhO1xuICAgICAgICBtZXRhLmRhdGFzZXQudXBkYXRlQ29udHJvbFBvaW50cyh0aGlzLmNoYXJ0LmNoYXJ0QXJlYSwgbWV0YS5pU2NhbGUuYXhpcyk7XG4gICAgICAgIHN1cGVyLmRyYXcoKTtcbiAgICB9XG59XG5cbmNsYXNzIFBvbGFyQXJlYUNvbnRyb2xsZXIgZXh0ZW5kcyBEYXRhc2V0Q29udHJvbGxlciB7XG4gICAgc3RhdGljIGlkID0gJ3BvbGFyQXJlYSc7XG4gc3RhdGljIGRlZmF1bHRzID0ge1xuICAgICAgICBkYXRhRWxlbWVudFR5cGU6ICdhcmMnLFxuICAgICAgICBhbmltYXRpb246IHtcbiAgICAgICAgICAgIGFuaW1hdGVSb3RhdGU6IHRydWUsXG4gICAgICAgICAgICBhbmltYXRlU2NhbGU6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgYW5pbWF0aW9uczoge1xuICAgICAgICAgICAgbnVtYmVyczoge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdudW1iZXInLFxuICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgJ3gnLFxuICAgICAgICAgICAgICAgICAgICAneScsXG4gICAgICAgICAgICAgICAgICAgICdzdGFydEFuZ2xlJyxcbiAgICAgICAgICAgICAgICAgICAgJ2VuZEFuZ2xlJyxcbiAgICAgICAgICAgICAgICAgICAgJ2lubmVyUmFkaXVzJyxcbiAgICAgICAgICAgICAgICAgICAgJ291dGVyUmFkaXVzJ1xuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgaW5kZXhBeGlzOiAncicsXG4gICAgICAgIHN0YXJ0QW5nbGU6IDBcbiAgICB9O1xuIHN0YXRpYyBvdmVycmlkZXMgPSB7XG4gICAgICAgIGFzcGVjdFJhdGlvOiAxLFxuICAgICAgICBwbHVnaW5zOiB7XG4gICAgICAgICAgICBsZWdlbmQ6IHtcbiAgICAgICAgICAgICAgICBsYWJlbHM6IHtcbiAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGVMYWJlbHMgKGNoYXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gY2hhcnQuZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmxhYmVscy5sZW5ndGggJiYgZGF0YS5kYXRhc2V0cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGxhYmVsczogeyBwb2ludFN0eWxlICwgY29sb3IgIH0gIH0gPSBjaGFydC5sZWdlbmQub3B0aW9ucztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5sYWJlbHMubWFwKChsYWJlbCwgaSk9PntcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWV0YSA9IGNoYXJ0LmdldERhdGFzZXRNZXRhKDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdHlsZSA9IG1ldGEuY29udHJvbGxlci5nZXRTdHlsZShpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGxhYmVsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsbFN0eWxlOiBzdHlsZS5iYWNrZ3JvdW5kQ29sb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2VTdHlsZTogc3R5bGUuYm9yZGVyQ29sb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250Q29sb3I6IGNvbG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZVdpZHRoOiBzdHlsZS5ib3JkZXJXaWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50U3R5bGU6IHBvaW50U3R5bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWRkZW46ICFjaGFydC5nZXREYXRhVmlzaWJpbGl0eShpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiBpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uQ2xpY2sgKGUsIGxlZ2VuZEl0ZW0sIGxlZ2VuZCkge1xuICAgICAgICAgICAgICAgICAgICBsZWdlbmQuY2hhcnQudG9nZ2xlRGF0YVZpc2liaWxpdHkobGVnZW5kSXRlbS5pbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIGxlZ2VuZC5jaGFydC51cGRhdGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHNjYWxlczoge1xuICAgICAgICAgICAgcjoge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdyYWRpYWxMaW5lYXInLFxuICAgICAgICAgICAgICAgIGFuZ2xlTGluZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogZmFsc2VcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGJlZ2luQXRaZXJvOiB0cnVlLFxuICAgICAgICAgICAgICAgIGdyaWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgY2lyY3VsYXI6IHRydWVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHBvaW50TGFiZWxzOiB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZhbHNlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzdGFydEFuZ2xlOiAwXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0cnVjdG9yKGNoYXJ0LCBkYXRhc2V0SW5kZXgpe1xuICAgICAgICBzdXBlcihjaGFydCwgZGF0YXNldEluZGV4KTtcbiAgICAgICAgdGhpcy5pbm5lclJhZGl1cyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5vdXRlclJhZGl1cyA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgZ2V0TGFiZWxBbmRWYWx1ZShpbmRleCkge1xuICAgICAgICBjb25zdCBtZXRhID0gdGhpcy5fY2FjaGVkTWV0YTtcbiAgICAgICAgY29uc3QgY2hhcnQgPSB0aGlzLmNoYXJ0O1xuICAgICAgICBjb25zdCBsYWJlbHMgPSBjaGFydC5kYXRhLmxhYmVscyB8fCBbXTtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBmb3JtYXROdW1iZXIobWV0YS5fcGFyc2VkW2luZGV4XS5yLCBjaGFydC5vcHRpb25zLmxvY2FsZSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBsYWJlbDogbGFiZWxzW2luZGV4XSB8fCAnJyxcbiAgICAgICAgICAgIHZhbHVlXG4gICAgICAgIH07XG4gICAgfVxuICAgIHBhcnNlT2JqZWN0RGF0YShtZXRhLCBkYXRhLCBzdGFydCwgY291bnQpIHtcbiAgICAgICAgcmV0dXJuIF9wYXJzZU9iamVjdERhdGFSYWRpYWxTY2FsZS5iaW5kKHRoaXMpKG1ldGEsIGRhdGEsIHN0YXJ0LCBjb3VudCk7XG4gICAgfVxuICAgIHVwZGF0ZShtb2RlKSB7XG4gICAgICAgIGNvbnN0IGFyY3MgPSB0aGlzLl9jYWNoZWRNZXRhLmRhdGE7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVJhZGl1cygpO1xuICAgICAgICB0aGlzLnVwZGF0ZUVsZW1lbnRzKGFyY3MsIDAsIGFyY3MubGVuZ3RoLCBtb2RlKTtcbiAgICB9XG4gZ2V0TWluTWF4KCkge1xuICAgICAgICBjb25zdCBtZXRhID0gdGhpcy5fY2FjaGVkTWV0YTtcbiAgICAgICAgY29uc3QgcmFuZ2UgPSB7XG4gICAgICAgICAgICBtaW46IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSxcbiAgICAgICAgICAgIG1heDogTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZXG4gICAgICAgIH07XG4gICAgICAgIG1ldGEuZGF0YS5mb3JFYWNoKChlbGVtZW50LCBpbmRleCk9PntcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IHRoaXMuZ2V0UGFyc2VkKGluZGV4KS5yO1xuICAgICAgICAgICAgaWYgKCFpc05hTihwYXJzZWQpICYmIHRoaXMuY2hhcnQuZ2V0RGF0YVZpc2liaWxpdHkoaW5kZXgpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhcnNlZCA8IHJhbmdlLm1pbikge1xuICAgICAgICAgICAgICAgICAgICByYW5nZS5taW4gPSBwYXJzZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChwYXJzZWQgPiByYW5nZS5tYXgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2UubWF4ID0gcGFyc2VkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByYW5nZTtcbiAgICB9XG4gX3VwZGF0ZVJhZGl1cygpIHtcbiAgICAgICAgY29uc3QgY2hhcnQgPSB0aGlzLmNoYXJ0O1xuICAgICAgICBjb25zdCBjaGFydEFyZWEgPSBjaGFydC5jaGFydEFyZWE7XG4gICAgICAgIGNvbnN0IG9wdHMgPSBjaGFydC5vcHRpb25zO1xuICAgICAgICBjb25zdCBtaW5TaXplID0gTWF0aC5taW4oY2hhcnRBcmVhLnJpZ2h0IC0gY2hhcnRBcmVhLmxlZnQsIGNoYXJ0QXJlYS5ib3R0b20gLSBjaGFydEFyZWEudG9wKTtcbiAgICAgICAgY29uc3Qgb3V0ZXJSYWRpdXMgPSBNYXRoLm1heChtaW5TaXplIC8gMiwgMCk7XG4gICAgICAgIGNvbnN0IGlubmVyUmFkaXVzID0gTWF0aC5tYXgob3B0cy5jdXRvdXRQZXJjZW50YWdlID8gb3V0ZXJSYWRpdXMgLyAxMDAgKiBvcHRzLmN1dG91dFBlcmNlbnRhZ2UgOiAxLCAwKTtcbiAgICAgICAgY29uc3QgcmFkaXVzTGVuZ3RoID0gKG91dGVyUmFkaXVzIC0gaW5uZXJSYWRpdXMpIC8gY2hhcnQuZ2V0VmlzaWJsZURhdGFzZXRDb3VudCgpO1xuICAgICAgICB0aGlzLm91dGVyUmFkaXVzID0gb3V0ZXJSYWRpdXMgLSByYWRpdXNMZW5ndGggKiB0aGlzLmluZGV4O1xuICAgICAgICB0aGlzLmlubmVyUmFkaXVzID0gdGhpcy5vdXRlclJhZGl1cyAtIHJhZGl1c0xlbmd0aDtcbiAgICB9XG4gICAgdXBkYXRlRWxlbWVudHMoYXJjcywgc3RhcnQsIGNvdW50LCBtb2RlKSB7XG4gICAgICAgIGNvbnN0IHJlc2V0ID0gbW9kZSA9PT0gJ3Jlc2V0JztcbiAgICAgICAgY29uc3QgY2hhcnQgPSB0aGlzLmNoYXJ0O1xuICAgICAgICBjb25zdCBvcHRzID0gY2hhcnQub3B0aW9ucztcbiAgICAgICAgY29uc3QgYW5pbWF0aW9uT3B0cyA9IG9wdHMuYW5pbWF0aW9uO1xuICAgICAgICBjb25zdCBzY2FsZSA9IHRoaXMuX2NhY2hlZE1ldGEuclNjYWxlO1xuICAgICAgICBjb25zdCBjZW50ZXJYID0gc2NhbGUueENlbnRlcjtcbiAgICAgICAgY29uc3QgY2VudGVyWSA9IHNjYWxlLnlDZW50ZXI7XG4gICAgICAgIGNvbnN0IGRhdGFzZXRTdGFydEFuZ2xlID0gc2NhbGUuZ2V0SW5kZXhBbmdsZSgwKSAtIDAuNSAqIFBJO1xuICAgICAgICBsZXQgYW5nbGUgPSBkYXRhc2V0U3RhcnRBbmdsZTtcbiAgICAgICAgbGV0IGk7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRBbmdsZSA9IDM2MCAvIHRoaXMuY291bnRWaXNpYmxlRWxlbWVudHMoKTtcbiAgICAgICAgZm9yKGkgPSAwOyBpIDwgc3RhcnQ7ICsraSl7XG4gICAgICAgICAgICBhbmdsZSArPSB0aGlzLl9jb21wdXRlQW5nbGUoaSwgbW9kZSwgZGVmYXVsdEFuZ2xlKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IoaSA9IHN0YXJ0OyBpIDwgc3RhcnQgKyBjb3VudDsgaSsrKXtcbiAgICAgICAgICAgIGNvbnN0IGFyYyA9IGFyY3NbaV07XG4gICAgICAgICAgICBsZXQgc3RhcnRBbmdsZSA9IGFuZ2xlO1xuICAgICAgICAgICAgbGV0IGVuZEFuZ2xlID0gYW5nbGUgKyB0aGlzLl9jb21wdXRlQW5nbGUoaSwgbW9kZSwgZGVmYXVsdEFuZ2xlKTtcbiAgICAgICAgICAgIGxldCBvdXRlclJhZGl1cyA9IGNoYXJ0LmdldERhdGFWaXNpYmlsaXR5KGkpID8gc2NhbGUuZ2V0RGlzdGFuY2VGcm9tQ2VudGVyRm9yVmFsdWUodGhpcy5nZXRQYXJzZWQoaSkucikgOiAwO1xuICAgICAgICAgICAgYW5nbGUgPSBlbmRBbmdsZTtcbiAgICAgICAgICAgIGlmIChyZXNldCkge1xuICAgICAgICAgICAgICAgIGlmIChhbmltYXRpb25PcHRzLmFuaW1hdGVTY2FsZSkge1xuICAgICAgICAgICAgICAgICAgICBvdXRlclJhZGl1cyA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChhbmltYXRpb25PcHRzLmFuaW1hdGVSb3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRBbmdsZSA9IGVuZEFuZ2xlID0gZGF0YXNldFN0YXJ0QW5nbGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcHJvcGVydGllcyA9IHtcbiAgICAgICAgICAgICAgICB4OiBjZW50ZXJYLFxuICAgICAgICAgICAgICAgIHk6IGNlbnRlclksXG4gICAgICAgICAgICAgICAgaW5uZXJSYWRpdXM6IDAsXG4gICAgICAgICAgICAgICAgb3V0ZXJSYWRpdXMsXG4gICAgICAgICAgICAgICAgc3RhcnRBbmdsZSxcbiAgICAgICAgICAgICAgICBlbmRBbmdsZSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiB0aGlzLnJlc29sdmVEYXRhRWxlbWVudE9wdGlvbnMoaSwgYXJjLmFjdGl2ZSA/ICdhY3RpdmUnIDogbW9kZSlcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUVsZW1lbnQoYXJjLCBpLCBwcm9wZXJ0aWVzLCBtb2RlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb3VudFZpc2libGVFbGVtZW50cygpIHtcbiAgICAgICAgY29uc3QgbWV0YSA9IHRoaXMuX2NhY2hlZE1ldGE7XG4gICAgICAgIGxldCBjb3VudCA9IDA7XG4gICAgICAgIG1ldGEuZGF0YS5mb3JFYWNoKChlbGVtZW50LCBpbmRleCk9PntcbiAgICAgICAgICAgIGlmICghaXNOYU4odGhpcy5nZXRQYXJzZWQoaW5kZXgpLnIpICYmIHRoaXMuY2hhcnQuZ2V0RGF0YVZpc2liaWxpdHkoaW5kZXgpKSB7XG4gICAgICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBjb3VudDtcbiAgICB9XG4gX2NvbXB1dGVBbmdsZShpbmRleCwgbW9kZSwgZGVmYXVsdEFuZ2xlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNoYXJ0LmdldERhdGFWaXNpYmlsaXR5KGluZGV4KSA/IHRvUmFkaWFucyh0aGlzLnJlc29sdmVEYXRhRWxlbWVudE9wdGlvbnMoaW5kZXgsIG1vZGUpLmFuZ2xlIHx8IGRlZmF1bHRBbmdsZSkgOiAwO1xuICAgIH1cbn1cblxuY2xhc3MgUGllQ29udHJvbGxlciBleHRlbmRzIERvdWdobnV0Q29udHJvbGxlciB7XG4gICAgc3RhdGljIGlkID0gJ3BpZSc7XG4gc3RhdGljIGRlZmF1bHRzID0ge1xuICAgICAgICBjdXRvdXQ6IDAsXG4gICAgICAgIHJvdGF0aW9uOiAwLFxuICAgICAgICBjaXJjdW1mZXJlbmNlOiAzNjAsXG4gICAgICAgIHJhZGl1czogJzEwMCUnXG4gICAgfTtcbn1cblxuY2xhc3MgUmFkYXJDb250cm9sbGVyIGV4dGVuZHMgRGF0YXNldENvbnRyb2xsZXIge1xuICAgIHN0YXRpYyBpZCA9ICdyYWRhcic7XG4gc3RhdGljIGRlZmF1bHRzID0ge1xuICAgICAgICBkYXRhc2V0RWxlbWVudFR5cGU6ICdsaW5lJyxcbiAgICAgICAgZGF0YUVsZW1lbnRUeXBlOiAncG9pbnQnLFxuICAgICAgICBpbmRleEF4aXM6ICdyJyxcbiAgICAgICAgc2hvd0xpbmU6IHRydWUsXG4gICAgICAgIGVsZW1lbnRzOiB7XG4gICAgICAgICAgICBsaW5lOiB7XG4gICAgICAgICAgICAgICAgZmlsbDogJ3N0YXJ0J1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiBzdGF0aWMgb3ZlcnJpZGVzID0ge1xuICAgICAgICBhc3BlY3RSYXRpbzogMSxcbiAgICAgICAgc2NhbGVzOiB7XG4gICAgICAgICAgICByOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ3JhZGlhbExpbmVhcidcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gZ2V0TGFiZWxBbmRWYWx1ZShpbmRleCkge1xuICAgICAgICBjb25zdCB2U2NhbGUgPSB0aGlzLl9jYWNoZWRNZXRhLnZTY2FsZTtcbiAgICAgICAgY29uc3QgcGFyc2VkID0gdGhpcy5nZXRQYXJzZWQoaW5kZXgpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbGFiZWw6IHZTY2FsZS5nZXRMYWJlbHMoKVtpbmRleF0sXG4gICAgICAgICAgICB2YWx1ZTogJycgKyB2U2NhbGUuZ2V0TGFiZWxGb3JWYWx1ZShwYXJzZWRbdlNjYWxlLmF4aXNdKVxuICAgICAgICB9O1xuICAgIH1cbiAgICBwYXJzZU9iamVjdERhdGEobWV0YSwgZGF0YSwgc3RhcnQsIGNvdW50KSB7XG4gICAgICAgIHJldHVybiBfcGFyc2VPYmplY3REYXRhUmFkaWFsU2NhbGUuYmluZCh0aGlzKShtZXRhLCBkYXRhLCBzdGFydCwgY291bnQpO1xuICAgIH1cbiAgICB1cGRhdGUobW9kZSkge1xuICAgICAgICBjb25zdCBtZXRhID0gdGhpcy5fY2FjaGVkTWV0YTtcbiAgICAgICAgY29uc3QgbGluZSA9IG1ldGEuZGF0YXNldDtcbiAgICAgICAgY29uc3QgcG9pbnRzID0gbWV0YS5kYXRhIHx8IFtdO1xuICAgICAgICBjb25zdCBsYWJlbHMgPSBtZXRhLmlTY2FsZS5nZXRMYWJlbHMoKTtcbiAgICAgICAgbGluZS5wb2ludHMgPSBwb2ludHM7XG4gICAgICAgIGlmIChtb2RlICE9PSAncmVzaXplJykge1xuICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMucmVzb2x2ZURhdGFzZXRFbGVtZW50T3B0aW9ucyhtb2RlKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5vcHRpb25zLnNob3dMaW5lKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5ib3JkZXJXaWR0aCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBwcm9wZXJ0aWVzID0ge1xuICAgICAgICAgICAgICAgIF9sb29wOiB0cnVlLFxuICAgICAgICAgICAgICAgIF9mdWxsTG9vcDogbGFiZWxzLmxlbmd0aCA9PT0gcG9pbnRzLmxlbmd0aCxcbiAgICAgICAgICAgICAgICBvcHRpb25zXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy51cGRhdGVFbGVtZW50KGxpbmUsIHVuZGVmaW5lZCwgcHJvcGVydGllcywgbW9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGVFbGVtZW50cyhwb2ludHMsIDAsIHBvaW50cy5sZW5ndGgsIG1vZGUpO1xuICAgIH1cbiAgICB1cGRhdGVFbGVtZW50cyhwb2ludHMsIHN0YXJ0LCBjb3VudCwgbW9kZSkge1xuICAgICAgICBjb25zdCBzY2FsZSA9IHRoaXMuX2NhY2hlZE1ldGEuclNjYWxlO1xuICAgICAgICBjb25zdCByZXNldCA9IG1vZGUgPT09ICdyZXNldCc7XG4gICAgICAgIGZvcihsZXQgaSA9IHN0YXJ0OyBpIDwgc3RhcnQgKyBjb3VudDsgaSsrKXtcbiAgICAgICAgICAgIGNvbnN0IHBvaW50ID0gcG9pbnRzW2ldO1xuICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMucmVzb2x2ZURhdGFFbGVtZW50T3B0aW9ucyhpLCBwb2ludC5hY3RpdmUgPyAnYWN0aXZlJyA6IG1vZGUpO1xuICAgICAgICAgICAgY29uc3QgcG9pbnRQb3NpdGlvbiA9IHNjYWxlLmdldFBvaW50UG9zaXRpb25Gb3JWYWx1ZShpLCB0aGlzLmdldFBhcnNlZChpKS5yKTtcbiAgICAgICAgICAgIGNvbnN0IHggPSByZXNldCA/IHNjYWxlLnhDZW50ZXIgOiBwb2ludFBvc2l0aW9uLng7XG4gICAgICAgICAgICBjb25zdCB5ID0gcmVzZXQgPyBzY2FsZS55Q2VudGVyIDogcG9pbnRQb3NpdGlvbi55O1xuICAgICAgICAgICAgY29uc3QgcHJvcGVydGllcyA9IHtcbiAgICAgICAgICAgICAgICB4LFxuICAgICAgICAgICAgICAgIHksXG4gICAgICAgICAgICAgICAgYW5nbGU6IHBvaW50UG9zaXRpb24uYW5nbGUsXG4gICAgICAgICAgICAgICAgc2tpcDogaXNOYU4oeCkgfHwgaXNOYU4oeSksXG4gICAgICAgICAgICAgICAgb3B0aW9uc1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlRWxlbWVudChwb2ludCwgaSwgcHJvcGVydGllcywgbW9kZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmNsYXNzIFNjYXR0ZXJDb250cm9sbGVyIGV4dGVuZHMgRGF0YXNldENvbnRyb2xsZXIge1xuICAgIHN0YXRpYyBpZCA9ICdzY2F0dGVyJztcbiBzdGF0aWMgZGVmYXVsdHMgPSB7XG4gICAgICAgIGRhdGFzZXRFbGVtZW50VHlwZTogZmFsc2UsXG4gICAgICAgIGRhdGFFbGVtZW50VHlwZTogJ3BvaW50JyxcbiAgICAgICAgc2hvd0xpbmU6IGZhbHNlLFxuICAgICAgICBmaWxsOiBmYWxzZVxuICAgIH07XG4gc3RhdGljIG92ZXJyaWRlcyA9IHtcbiAgICAgICAgaW50ZXJhY3Rpb246IHtcbiAgICAgICAgICAgIG1vZGU6ICdwb2ludCdcbiAgICAgICAgfSxcbiAgICAgICAgc2NhbGVzOiB7XG4gICAgICAgICAgICB4OiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2xpbmVhcidcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB5OiB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2xpbmVhcidcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gZ2V0TGFiZWxBbmRWYWx1ZShpbmRleCkge1xuICAgICAgICBjb25zdCBtZXRhID0gdGhpcy5fY2FjaGVkTWV0YTtcbiAgICAgICAgY29uc3QgbGFiZWxzID0gdGhpcy5jaGFydC5kYXRhLmxhYmVscyB8fCBbXTtcbiAgICAgICAgY29uc3QgeyB4U2NhbGUgLCB5U2NhbGUgIH0gPSBtZXRhO1xuICAgICAgICBjb25zdCBwYXJzZWQgPSB0aGlzLmdldFBhcnNlZChpbmRleCk7XG4gICAgICAgIGNvbnN0IHggPSB4U2NhbGUuZ2V0TGFiZWxGb3JWYWx1ZShwYXJzZWQueCk7XG4gICAgICAgIGNvbnN0IHkgPSB5U2NhbGUuZ2V0TGFiZWxGb3JWYWx1ZShwYXJzZWQueSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBsYWJlbDogbGFiZWxzW2luZGV4XSB8fCAnJyxcbiAgICAgICAgICAgIHZhbHVlOiAnKCcgKyB4ICsgJywgJyArIHkgKyAnKSdcbiAgICAgICAgfTtcbiAgICB9XG4gICAgdXBkYXRlKG1vZGUpIHtcbiAgICAgICAgY29uc3QgbWV0YSA9IHRoaXMuX2NhY2hlZE1ldGE7XG4gICAgICAgIGNvbnN0IHsgZGF0YTogcG9pbnRzID0gW10gIH0gPSBtZXRhO1xuICAgICAgICBjb25zdCBhbmltYXRpb25zRGlzYWJsZWQgPSB0aGlzLmNoYXJ0Ll9hbmltYXRpb25zRGlzYWJsZWQ7XG4gICAgICAgIGxldCB7IHN0YXJ0ICwgY291bnQgIH0gPSBfZ2V0U3RhcnRBbmRDb3VudE9mVmlzaWJsZVBvaW50cyhtZXRhLCBwb2ludHMsIGFuaW1hdGlvbnNEaXNhYmxlZCk7XG4gICAgICAgIHRoaXMuX2RyYXdTdGFydCA9IHN0YXJ0O1xuICAgICAgICB0aGlzLl9kcmF3Q291bnQgPSBjb3VudDtcbiAgICAgICAgaWYgKF9zY2FsZVJhbmdlc0NoYW5nZWQobWV0YSkpIHtcbiAgICAgICAgICAgIHN0YXJ0ID0gMDtcbiAgICAgICAgICAgIGNvdW50ID0gcG9pbnRzLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNob3dMaW5lKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuZGF0YXNldEVsZW1lbnRUeXBlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRFbGVtZW50cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgeyBkYXRhc2V0OiBsaW5lICwgX2RhdGFzZXQgIH0gPSBtZXRhO1xuICAgICAgICAgICAgbGluZS5fY2hhcnQgPSB0aGlzLmNoYXJ0O1xuICAgICAgICAgICAgbGluZS5fZGF0YXNldEluZGV4ID0gdGhpcy5pbmRleDtcbiAgICAgICAgICAgIGxpbmUuX2RlY2ltYXRlZCA9ICEhX2RhdGFzZXQuX2RlY2ltYXRlZDtcbiAgICAgICAgICAgIGxpbmUucG9pbnRzID0gcG9pbnRzO1xuICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMucmVzb2x2ZURhdGFzZXRFbGVtZW50T3B0aW9ucyhtb2RlKTtcbiAgICAgICAgICAgIG9wdGlvbnMuc2VnbWVudCA9IHRoaXMub3B0aW9ucy5zZWdtZW50O1xuICAgICAgICAgICAgdGhpcy51cGRhdGVFbGVtZW50KGxpbmUsIHVuZGVmaW5lZCwge1xuICAgICAgICAgICAgICAgIGFuaW1hdGVkOiAhYW5pbWF0aW9uc0Rpc2FibGVkLFxuICAgICAgICAgICAgICAgIG9wdGlvbnNcbiAgICAgICAgICAgIH0sIG1vZGUpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZGF0YXNldEVsZW1lbnRUeXBlKSB7XG4gICAgICAgICAgICBkZWxldGUgbWV0YS5kYXRhc2V0O1xuICAgICAgICAgICAgdGhpcy5kYXRhc2V0RWxlbWVudFR5cGUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVwZGF0ZUVsZW1lbnRzKHBvaW50cywgc3RhcnQsIGNvdW50LCBtb2RlKTtcbiAgICB9XG4gICAgYWRkRWxlbWVudHMoKSB7XG4gICAgICAgIGNvbnN0IHsgc2hvd0xpbmUgIH0gPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGlmICghdGhpcy5kYXRhc2V0RWxlbWVudFR5cGUgJiYgc2hvd0xpbmUpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YXNldEVsZW1lbnRUeXBlID0gdGhpcy5jaGFydC5yZWdpc3RyeS5nZXRFbGVtZW50KCdsaW5lJyk7XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIuYWRkRWxlbWVudHMoKTtcbiAgICB9XG4gICAgdXBkYXRlRWxlbWVudHMocG9pbnRzLCBzdGFydCwgY291bnQsIG1vZGUpIHtcbiAgICAgICAgY29uc3QgcmVzZXQgPSBtb2RlID09PSAncmVzZXQnO1xuICAgICAgICBjb25zdCB7IGlTY2FsZSAsIHZTY2FsZSAsIF9zdGFja2VkICwgX2RhdGFzZXQgIH0gPSB0aGlzLl9jYWNoZWRNZXRhO1xuICAgICAgICBjb25zdCBmaXJzdE9wdHMgPSB0aGlzLnJlc29sdmVEYXRhRWxlbWVudE9wdGlvbnMoc3RhcnQsIG1vZGUpO1xuICAgICAgICBjb25zdCBzaGFyZWRPcHRpb25zID0gdGhpcy5nZXRTaGFyZWRPcHRpb25zKGZpcnN0T3B0cyk7XG4gICAgICAgIGNvbnN0IGluY2x1ZGVPcHRpb25zID0gdGhpcy5pbmNsdWRlT3B0aW9ucyhtb2RlLCBzaGFyZWRPcHRpb25zKTtcbiAgICAgICAgY29uc3QgaUF4aXMgPSBpU2NhbGUuYXhpcztcbiAgICAgICAgY29uc3QgdkF4aXMgPSB2U2NhbGUuYXhpcztcbiAgICAgICAgY29uc3QgeyBzcGFuR2FwcyAsIHNlZ21lbnQgIH0gPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IG1heEdhcExlbmd0aCA9IGlzTnVtYmVyKHNwYW5HYXBzKSA/IHNwYW5HYXBzIDogTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgICAgICBjb25zdCBkaXJlY3RVcGRhdGUgPSB0aGlzLmNoYXJ0Ll9hbmltYXRpb25zRGlzYWJsZWQgfHwgcmVzZXQgfHwgbW9kZSA9PT0gJ25vbmUnO1xuICAgICAgICBsZXQgcHJldlBhcnNlZCA9IHN0YXJ0ID4gMCAmJiB0aGlzLmdldFBhcnNlZChzdGFydCAtIDEpO1xuICAgICAgICBmb3IobGV0IGkgPSBzdGFydDsgaSA8IHN0YXJ0ICsgY291bnQ7ICsraSl7XG4gICAgICAgICAgICBjb25zdCBwb2ludCA9IHBvaW50c1tpXTtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZCA9IHRoaXMuZ2V0UGFyc2VkKGkpO1xuICAgICAgICAgICAgY29uc3QgcHJvcGVydGllcyA9IGRpcmVjdFVwZGF0ZSA/IHBvaW50IDoge307XG4gICAgICAgICAgICBjb25zdCBudWxsRGF0YSA9IGlzTnVsbE9yVW5kZWYocGFyc2VkW3ZBeGlzXSk7XG4gICAgICAgICAgICBjb25zdCBpUGl4ZWwgPSBwcm9wZXJ0aWVzW2lBeGlzXSA9IGlTY2FsZS5nZXRQaXhlbEZvclZhbHVlKHBhcnNlZFtpQXhpc10sIGkpO1xuICAgICAgICAgICAgY29uc3QgdlBpeGVsID0gcHJvcGVydGllc1t2QXhpc10gPSByZXNldCB8fCBudWxsRGF0YSA/IHZTY2FsZS5nZXRCYXNlUGl4ZWwoKSA6IHZTY2FsZS5nZXRQaXhlbEZvclZhbHVlKF9zdGFja2VkID8gdGhpcy5hcHBseVN0YWNrKHZTY2FsZSwgcGFyc2VkLCBfc3RhY2tlZCkgOiBwYXJzZWRbdkF4aXNdLCBpKTtcbiAgICAgICAgICAgIHByb3BlcnRpZXMuc2tpcCA9IGlzTmFOKGlQaXhlbCkgfHwgaXNOYU4odlBpeGVsKSB8fCBudWxsRGF0YTtcbiAgICAgICAgICAgIHByb3BlcnRpZXMuc3RvcCA9IGkgPiAwICYmIE1hdGguYWJzKHBhcnNlZFtpQXhpc10gLSBwcmV2UGFyc2VkW2lBeGlzXSkgPiBtYXhHYXBMZW5ndGg7XG4gICAgICAgICAgICBpZiAoc2VnbWVudCkge1xuICAgICAgICAgICAgICAgIHByb3BlcnRpZXMucGFyc2VkID0gcGFyc2VkO1xuICAgICAgICAgICAgICAgIHByb3BlcnRpZXMucmF3ID0gX2RhdGFzZXQuZGF0YVtpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpbmNsdWRlT3B0aW9ucykge1xuICAgICAgICAgICAgICAgIHByb3BlcnRpZXMub3B0aW9ucyA9IHNoYXJlZE9wdGlvbnMgfHwgdGhpcy5yZXNvbHZlRGF0YUVsZW1lbnRPcHRpb25zKGksIHBvaW50LmFjdGl2ZSA/ICdhY3RpdmUnIDogbW9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWRpcmVjdFVwZGF0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlRWxlbWVudChwb2ludCwgaSwgcHJvcGVydGllcywgbW9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcmV2UGFyc2VkID0gcGFyc2VkO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudXBkYXRlU2hhcmVkT3B0aW9ucyhzaGFyZWRPcHRpb25zLCBtb2RlLCBmaXJzdE9wdHMpO1xuICAgIH1cbiBnZXRNYXhPdmVyZmxvdygpIHtcbiAgICAgICAgY29uc3QgbWV0YSA9IHRoaXMuX2NhY2hlZE1ldGE7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBtZXRhLmRhdGEgfHwgW107XG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zLnNob3dMaW5lKSB7XG4gICAgICAgICAgICBsZXQgbWF4ID0gMDtcbiAgICAgICAgICAgIGZvcihsZXQgaSA9IGRhdGEubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpe1xuICAgICAgICAgICAgICAgIG1heCA9IE1hdGgubWF4KG1heCwgZGF0YVtpXS5zaXplKHRoaXMucmVzb2x2ZURhdGFFbGVtZW50T3B0aW9ucyhpKSkgLyAyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBtYXggPiAwICYmIG1heDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkYXRhc2V0ID0gbWV0YS5kYXRhc2V0O1xuICAgICAgICBjb25zdCBib3JkZXIgPSBkYXRhc2V0Lm9wdGlvbnMgJiYgZGF0YXNldC5vcHRpb25zLmJvcmRlcldpZHRoIHx8IDA7XG4gICAgICAgIGlmICghZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBib3JkZXI7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZmlyc3RQb2ludCA9IGRhdGFbMF0uc2l6ZSh0aGlzLnJlc29sdmVEYXRhRWxlbWVudE9wdGlvbnMoMCkpO1xuICAgICAgICBjb25zdCBsYXN0UG9pbnQgPSBkYXRhW2RhdGEubGVuZ3RoIC0gMV0uc2l6ZSh0aGlzLnJlc29sdmVEYXRhRWxlbWVudE9wdGlvbnMoZGF0YS5sZW5ndGggLSAxKSk7XG4gICAgICAgIHJldHVybiBNYXRoLm1heChib3JkZXIsIGZpcnN0UG9pbnQsIGxhc3RQb2ludCkgLyAyO1xuICAgIH1cbn1cblxudmFyIGNvbnRyb2xsZXJzID0gLyojX19QVVJFX18qL09iamVjdC5mcmVlemUoe1xuX19wcm90b19fOiBudWxsLFxuQmFyQ29udHJvbGxlcjogQmFyQ29udHJvbGxlcixcbkJ1YmJsZUNvbnRyb2xsZXI6IEJ1YmJsZUNvbnRyb2xsZXIsXG5Eb3VnaG51dENvbnRyb2xsZXI6IERvdWdobnV0Q29udHJvbGxlcixcbkxpbmVDb250cm9sbGVyOiBMaW5lQ29udHJvbGxlcixcblBpZUNvbnRyb2xsZXI6IFBpZUNvbnRyb2xsZXIsXG5Qb2xhckFyZWFDb250cm9sbGVyOiBQb2xhckFyZWFDb250cm9sbGVyLFxuUmFkYXJDb250cm9sbGVyOiBSYWRhckNvbnRyb2xsZXIsXG5TY2F0dGVyQ29udHJvbGxlcjogU2NhdHRlckNvbnRyb2xsZXJcbn0pO1xuXG4vKipcbiAqIEBuYW1lc3BhY2UgQ2hhcnQuX2FkYXB0ZXJzXG4gKiBAc2luY2UgMi44LjBcbiAqIEBwcml2YXRlXG4gKi8gZnVuY3Rpb24gYWJzdHJhY3QoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdUaGlzIG1ldGhvZCBpcyBub3QgaW1wbGVtZW50ZWQ6IENoZWNrIHRoYXQgYSBjb21wbGV0ZSBkYXRlIGFkYXB0ZXIgaXMgcHJvdmlkZWQuJyk7XG59XG4vKipcbiAqIERhdGUgYWRhcHRlciAoY3VycmVudCB1c2VkIGJ5IHRoZSB0aW1lIHNjYWxlKVxuICogQG5hbWVzcGFjZSBDaGFydC5fYWRhcHRlcnMuX2RhdGVcbiAqIEBtZW1iZXJvZiBDaGFydC5fYWRhcHRlcnNcbiAqIEBwcml2YXRlXG4gKi8gY2xhc3MgRGF0ZUFkYXB0ZXJCYXNlIHtcbiAgICAvKipcbiAgICogT3ZlcnJpZGUgZGVmYXVsdCBkYXRlIGFkYXB0ZXIgbWV0aG9kcy5cbiAgICogQWNjZXB0cyB0eXBlIHBhcmFtZXRlciB0byBkZWZpbmUgb3B0aW9ucyB0eXBlLlxuICAgKiBAZXhhbXBsZVxuICAgKiBDaGFydC5fYWRhcHRlcnMuX2RhdGUub3ZlcnJpZGU8e215QWRhcHRlck9wdGlvbjogc3RyaW5nfT4oe1xuICAgKiAgIGluaXQoKSB7XG4gICAqICAgICBjb25zb2xlLmxvZyh0aGlzLm9wdGlvbnMubXlBZGFwdGVyT3B0aW9uKTtcbiAgICogICB9XG4gICAqIH0pXG4gICAqLyBzdGF0aWMgb3ZlcnJpZGUobWVtYmVycykge1xuICAgICAgICBPYmplY3QuYXNzaWduKERhdGVBZGFwdGVyQmFzZS5wcm90b3R5cGUsIG1lbWJlcnMpO1xuICAgIH1cbiAgICBvcHRpb25zO1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpe1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWVtcHR5LWZ1bmN0aW9uXG4gICAgaW5pdCgpIHt9XG4gICAgZm9ybWF0cygpIHtcbiAgICAgICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gICAgfVxuICAgIHBhcnNlKCkge1xuICAgICAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgICB9XG4gICAgZm9ybWF0KCkge1xuICAgICAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgICB9XG4gICAgYWRkKCkge1xuICAgICAgICByZXR1cm4gYWJzdHJhY3QoKTtcbiAgICB9XG4gICAgZGlmZigpIHtcbiAgICAgICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gICAgfVxuICAgIHN0YXJ0T2YoKSB7XG4gICAgICAgIHJldHVybiBhYnN0cmFjdCgpO1xuICAgIH1cbiAgICBlbmRPZigpIHtcbiAgICAgICAgcmV0dXJuIGFic3RyYWN0KCk7XG4gICAgfVxufVxudmFyIGFkYXB0ZXJzID0ge1xuICAgIF9kYXRlOiBEYXRlQWRhcHRlckJhc2Vcbn07XG5cbmZ1bmN0aW9uIGJpbmFyeVNlYXJjaChtZXRhc2V0LCBheGlzLCB2YWx1ZSwgaW50ZXJzZWN0KSB7XG4gICAgY29uc3QgeyBjb250cm9sbGVyICwgZGF0YSAsIF9zb3J0ZWQgIH0gPSBtZXRhc2V0O1xuICAgIGNvbnN0IGlTY2FsZSA9IGNvbnRyb2xsZXIuX2NhY2hlZE1ldGEuaVNjYWxlO1xuICAgIGlmIChpU2NhbGUgJiYgYXhpcyA9PT0gaVNjYWxlLmF4aXMgJiYgYXhpcyAhPT0gJ3InICYmIF9zb3J0ZWQgJiYgZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgbG9va3VwTWV0aG9kID0gaVNjYWxlLl9yZXZlcnNlUGl4ZWxzID8gX3Jsb29rdXBCeUtleSA6IF9sb29rdXBCeUtleTtcbiAgICAgICAgaWYgKCFpbnRlcnNlY3QpIHtcbiAgICAgICAgICAgIHJldHVybiBsb29rdXBNZXRob2QoZGF0YSwgYXhpcywgdmFsdWUpO1xuICAgICAgICB9IGVsc2UgaWYgKGNvbnRyb2xsZXIuX3NoYXJlZE9wdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IGVsID0gZGF0YVswXTtcbiAgICAgICAgICAgIGNvbnN0IHJhbmdlID0gdHlwZW9mIGVsLmdldFJhbmdlID09PSAnZnVuY3Rpb24nICYmIGVsLmdldFJhbmdlKGF4aXMpO1xuICAgICAgICAgICAgaWYgKHJhbmdlKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhcnQgPSBsb29rdXBNZXRob2QoZGF0YSwgYXhpcywgdmFsdWUgLSByYW5nZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgZW5kID0gbG9va3VwTWV0aG9kKGRhdGEsIGF4aXMsIHZhbHVlICsgcmFuZ2UpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGxvOiBzdGFydC5sbyxcbiAgICAgICAgICAgICAgICAgICAgaGk6IGVuZC5oaVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG86IDAsXG4gICAgICAgIGhpOiBkYXRhLmxlbmd0aCAtIDFcbiAgICB9O1xufVxuIGZ1bmN0aW9uIGV2YWx1YXRlSW50ZXJhY3Rpb25JdGVtcyhjaGFydCwgYXhpcywgcG9zaXRpb24sIGhhbmRsZXIsIGludGVyc2VjdCkge1xuICAgIGNvbnN0IG1ldGFzZXRzID0gY2hhcnQuZ2V0U29ydGVkVmlzaWJsZURhdGFzZXRNZXRhcygpO1xuICAgIGNvbnN0IHZhbHVlID0gcG9zaXRpb25bYXhpc107XG4gICAgZm9yKGxldCBpID0gMCwgaWxlbiA9IG1ldGFzZXRzLmxlbmd0aDsgaSA8IGlsZW47ICsraSl7XG4gICAgICAgIGNvbnN0IHsgaW5kZXggLCBkYXRhICB9ID0gbWV0YXNldHNbaV07XG4gICAgICAgIGNvbnN0IHsgbG8gLCBoaSAgfSA9IGJpbmFyeVNlYXJjaChtZXRhc2V0c1tpXSwgYXhpcywgdmFsdWUsIGludGVyc2VjdCk7XG4gICAgICAgIGZvcihsZXQgaiA9IGxvOyBqIDw9IGhpOyArK2ope1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGRhdGFbal07XG4gICAgICAgICAgICBpZiAoIWVsZW1lbnQuc2tpcCkge1xuICAgICAgICAgICAgICAgIGhhbmRsZXIoZWxlbWVudCwgaW5kZXgsIGopO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuIGZ1bmN0aW9uIGdldERpc3RhbmNlTWV0cmljRm9yQXhpcyhheGlzKSB7XG4gICAgY29uc3QgdXNlWCA9IGF4aXMuaW5kZXhPZigneCcpICE9PSAtMTtcbiAgICBjb25zdCB1c2VZID0gYXhpcy5pbmRleE9mKCd5JykgIT09IC0xO1xuICAgIHJldHVybiBmdW5jdGlvbihwdDEsIHB0Mikge1xuICAgICAgICBjb25zdCBkZWx0YVggPSB1c2VYID8gTWF0aC5hYnMocHQxLnggLSBwdDIueCkgOiAwO1xuICAgICAgICBjb25zdCBkZWx0YVkgPSB1c2VZID8gTWF0aC5hYnMocHQxLnkgLSBwdDIueSkgOiAwO1xuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KE1hdGgucG93KGRlbHRhWCwgMikgKyBNYXRoLnBvdyhkZWx0YVksIDIpKTtcbiAgICB9O1xufVxuIGZ1bmN0aW9uIGdldEludGVyc2VjdEl0ZW1zKGNoYXJ0LCBwb3NpdGlvbiwgYXhpcywgdXNlRmluYWxQb3NpdGlvbiwgaW5jbHVkZUludmlzaWJsZSkge1xuICAgIGNvbnN0IGl0ZW1zID0gW107XG4gICAgaWYgKCFpbmNsdWRlSW52aXNpYmxlICYmICFjaGFydC5pc1BvaW50SW5BcmVhKHBvc2l0aW9uKSkge1xuICAgICAgICByZXR1cm4gaXRlbXM7XG4gICAgfVxuICAgIGNvbnN0IGV2YWx1YXRpb25GdW5jID0gZnVuY3Rpb24oZWxlbWVudCwgZGF0YXNldEluZGV4LCBpbmRleCkge1xuICAgICAgICBpZiAoIWluY2x1ZGVJbnZpc2libGUgJiYgIV9pc1BvaW50SW5BcmVhKGVsZW1lbnQsIGNoYXJ0LmNoYXJ0QXJlYSwgMCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZWxlbWVudC5pblJhbmdlKHBvc2l0aW9uLngsIHBvc2l0aW9uLnksIHVzZUZpbmFsUG9zaXRpb24pKSB7XG4gICAgICAgICAgICBpdGVtcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LFxuICAgICAgICAgICAgICAgIGRhdGFzZXRJbmRleCxcbiAgICAgICAgICAgICAgICBpbmRleFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGV2YWx1YXRlSW50ZXJhY3Rpb25JdGVtcyhjaGFydCwgYXhpcywgcG9zaXRpb24sIGV2YWx1YXRpb25GdW5jLCB0cnVlKTtcbiAgICByZXR1cm4gaXRlbXM7XG59XG4gZnVuY3Rpb24gZ2V0TmVhcmVzdFJhZGlhbEl0ZW1zKGNoYXJ0LCBwb3NpdGlvbiwgYXhpcywgdXNlRmluYWxQb3NpdGlvbikge1xuICAgIGxldCBpdGVtcyA9IFtdO1xuICAgIGZ1bmN0aW9uIGV2YWx1YXRpb25GdW5jKGVsZW1lbnQsIGRhdGFzZXRJbmRleCwgaW5kZXgpIHtcbiAgICAgICAgY29uc3QgeyBzdGFydEFuZ2xlICwgZW5kQW5nbGUgIH0gPSBlbGVtZW50LmdldFByb3BzKFtcbiAgICAgICAgICAgICdzdGFydEFuZ2xlJyxcbiAgICAgICAgICAgICdlbmRBbmdsZSdcbiAgICAgICAgXSwgdXNlRmluYWxQb3NpdGlvbik7XG4gICAgICAgIGNvbnN0IHsgYW5nbGUgIH0gPSBnZXRBbmdsZUZyb21Qb2ludChlbGVtZW50LCB7XG4gICAgICAgICAgICB4OiBwb3NpdGlvbi54LFxuICAgICAgICAgICAgeTogcG9zaXRpb24ueVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKF9hbmdsZUJldHdlZW4oYW5nbGUsIHN0YXJ0QW5nbGUsIGVuZEFuZ2xlKSkge1xuICAgICAgICAgICAgaXRlbXMucHVzaCh7XG4gICAgICAgICAgICAgICAgZWxlbWVudCxcbiAgICAgICAgICAgICAgICBkYXRhc2V0SW5kZXgsXG4gICAgICAgICAgICAgICAgaW5kZXhcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGV2YWx1YXRlSW50ZXJhY3Rpb25JdGVtcyhjaGFydCwgYXhpcywgcG9zaXRpb24sIGV2YWx1YXRpb25GdW5jKTtcbiAgICByZXR1cm4gaXRlbXM7XG59XG4gZnVuY3Rpb24gZ2V0TmVhcmVzdENhcnRlc2lhbkl0ZW1zKGNoYXJ0LCBwb3NpdGlvbiwgYXhpcywgaW50ZXJzZWN0LCB1c2VGaW5hbFBvc2l0aW9uLCBpbmNsdWRlSW52aXNpYmxlKSB7XG4gICAgbGV0IGl0ZW1zID0gW107XG4gICAgY29uc3QgZGlzdGFuY2VNZXRyaWMgPSBnZXREaXN0YW5jZU1ldHJpY0ZvckF4aXMoYXhpcyk7XG4gICAgbGV0IG1pbkRpc3RhbmNlID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgIGZ1bmN0aW9uIGV2YWx1YXRpb25GdW5jKGVsZW1lbnQsIGRhdGFzZXRJbmRleCwgaW5kZXgpIHtcbiAgICAgICAgY29uc3QgaW5SYW5nZSA9IGVsZW1lbnQuaW5SYW5nZShwb3NpdGlvbi54LCBwb3NpdGlvbi55LCB1c2VGaW5hbFBvc2l0aW9uKTtcbiAgICAgICAgaWYgKGludGVyc2VjdCAmJiAhaW5SYW5nZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNlbnRlciA9IGVsZW1lbnQuZ2V0Q2VudGVyUG9pbnQodXNlRmluYWxQb3NpdGlvbik7XG4gICAgICAgIGNvbnN0IHBvaW50SW5BcmVhID0gISFpbmNsdWRlSW52aXNpYmxlIHx8IGNoYXJ0LmlzUG9pbnRJbkFyZWEoY2VudGVyKTtcbiAgICAgICAgaWYgKCFwb2ludEluQXJlYSAmJiAhaW5SYW5nZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRpc3RhbmNlID0gZGlzdGFuY2VNZXRyaWMocG9zaXRpb24sIGNlbnRlcik7XG4gICAgICAgIGlmIChkaXN0YW5jZSA8IG1pbkRpc3RhbmNlKSB7XG4gICAgICAgICAgICBpdGVtcyA9IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIGRhdGFzZXRJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgaW5kZXhcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgbWluRGlzdGFuY2UgPSBkaXN0YW5jZTtcbiAgICAgICAgfSBlbHNlIGlmIChkaXN0YW5jZSA9PT0gbWluRGlzdGFuY2UpIHtcbiAgICAgICAgICAgIGl0ZW1zLnB1c2goe1xuICAgICAgICAgICAgICAgIGVsZW1lbnQsXG4gICAgICAgICAgICAgICAgZGF0YXNldEluZGV4LFxuICAgICAgICAgICAgICAgIGluZGV4XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBldmFsdWF0ZUludGVyYWN0aW9uSXRlbXMoY2hhcnQsIGF4aXMsIHBvc2l0aW9uLCBldmFsdWF0aW9uRnVuYyk7XG4gICAgcmV0dXJuIGl0ZW1zO1xufVxuIGZ1bmN0aW9uIGdldE5lYXJlc3RJdGVtcyhjaGFydCwgcG9zaXRpb24sIGF4aXMsIGludGVyc2VjdCwgdXNlRmluYWxQb3NpdGlvbiwgaW5jbHVkZUludmlzaWJsZSkge1xuICAgIGlmICghaW5jbHVkZUludmlzaWJsZSAmJiAhY2hhcnQuaXNQb2ludEluQXJlYShwb3NpdGlvbikpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICByZXR1cm4gYXhpcyA9PT0gJ3InICYmICFpbnRlcnNlY3QgPyBnZXROZWFyZXN0UmFkaWFsSXRlbXMoY2hhcnQsIHBvc2l0aW9uLCBheGlzLCB1c2VGaW5hbFBvc2l0aW9uKSA6IGdldE5lYXJlc3RDYXJ0ZXNpYW5JdGVtcyhjaGFydCwgcG9zaXRpb24sIGF4aXMsIGludGVyc2VjdCwgdXNlRmluYWxQb3NpdGlvbiwgaW5jbHVkZUludmlzaWJsZSk7XG59XG4gZnVuY3Rpb24gZ2V0QXhpc0l0ZW1zKGNoYXJ0LCBwb3NpdGlvbiwgYXhpcywgaW50ZXJzZWN0LCB1c2VGaW5hbFBvc2l0aW9uKSB7XG4gICAgY29uc3QgaXRlbXMgPSBbXTtcbiAgICBjb25zdCByYW5nZU1ldGhvZCA9IGF4aXMgPT09ICd4JyA/ICdpblhSYW5nZScgOiAnaW5ZUmFuZ2UnO1xuICAgIGxldCBpbnRlcnNlY3RzSXRlbSA9IGZhbHNlO1xuICAgIGV2YWx1YXRlSW50ZXJhY3Rpb25JdGVtcyhjaGFydCwgYXhpcywgcG9zaXRpb24sIChlbGVtZW50LCBkYXRhc2V0SW5kZXgsIGluZGV4KT0+e1xuICAgICAgICBpZiAoZWxlbWVudFtyYW5nZU1ldGhvZF0ocG9zaXRpb25bYXhpc10sIHVzZUZpbmFsUG9zaXRpb24pKSB7XG4gICAgICAgICAgICBpdGVtcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LFxuICAgICAgICAgICAgICAgIGRhdGFzZXRJbmRleCxcbiAgICAgICAgICAgICAgICBpbmRleFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpbnRlcnNlY3RzSXRlbSA9IGludGVyc2VjdHNJdGVtIHx8IGVsZW1lbnQuaW5SYW5nZShwb3NpdGlvbi54LCBwb3NpdGlvbi55LCB1c2VGaW5hbFBvc2l0aW9uKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChpbnRlcnNlY3QgJiYgIWludGVyc2VjdHNJdGVtKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgcmV0dXJuIGl0ZW1zO1xufVxuIHZhciBJbnRlcmFjdGlvbiA9IHtcbiAgICBldmFsdWF0ZUludGVyYWN0aW9uSXRlbXMsXG4gICAgbW9kZXM6IHtcbiBpbmRleCAoY2hhcnQsIGUsIG9wdGlvbnMsIHVzZUZpbmFsUG9zaXRpb24pIHtcbiAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9uID0gZ2V0UmVsYXRpdmVQb3NpdGlvbihlLCBjaGFydCk7XG4gICAgICAgICAgICBjb25zdCBheGlzID0gb3B0aW9ucy5heGlzIHx8ICd4JztcbiAgICAgICAgICAgIGNvbnN0IGluY2x1ZGVJbnZpc2libGUgPSBvcHRpb25zLmluY2x1ZGVJbnZpc2libGUgfHwgZmFsc2U7XG4gICAgICAgICAgICBjb25zdCBpdGVtcyA9IG9wdGlvbnMuaW50ZXJzZWN0ID8gZ2V0SW50ZXJzZWN0SXRlbXMoY2hhcnQsIHBvc2l0aW9uLCBheGlzLCB1c2VGaW5hbFBvc2l0aW9uLCBpbmNsdWRlSW52aXNpYmxlKSA6IGdldE5lYXJlc3RJdGVtcyhjaGFydCwgcG9zaXRpb24sIGF4aXMsIGZhbHNlLCB1c2VGaW5hbFBvc2l0aW9uLCBpbmNsdWRlSW52aXNpYmxlKTtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRzID0gW107XG4gICAgICAgICAgICBpZiAoIWl0ZW1zLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNoYXJ0LmdldFNvcnRlZFZpc2libGVEYXRhc2V0TWV0YXMoKS5mb3JFYWNoKChtZXRhKT0+e1xuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gaXRlbXNbMF0uaW5kZXg7XG4gICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IG1ldGEuZGF0YVtpbmRleF07XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQgJiYgIWVsZW1lbnQuc2tpcCkge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhc2V0SW5kZXg6IG1ldGEuaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50cztcbiAgICAgICAgfSxcbiBkYXRhc2V0IChjaGFydCwgZSwgb3B0aW9ucywgdXNlRmluYWxQb3NpdGlvbikge1xuICAgICAgICAgICAgY29uc3QgcG9zaXRpb24gPSBnZXRSZWxhdGl2ZVBvc2l0aW9uKGUsIGNoYXJ0KTtcbiAgICAgICAgICAgIGNvbnN0IGF4aXMgPSBvcHRpb25zLmF4aXMgfHwgJ3h5JztcbiAgICAgICAgICAgIGNvbnN0IGluY2x1ZGVJbnZpc2libGUgPSBvcHRpb25zLmluY2x1ZGVJbnZpc2libGUgfHwgZmFsc2U7XG4gICAgICAgICAgICBsZXQgaXRlbXMgPSBvcHRpb25zLmludGVyc2VjdCA/IGdldEludGVyc2VjdEl0ZW1zKGNoYXJ0LCBwb3NpdGlvbiwgYXhpcywgdXNlRmluYWxQb3NpdGlvbiwgaW5jbHVkZUludmlzaWJsZSkgOiBnZXROZWFyZXN0SXRlbXMoY2hhcnQsIHBvc2l0aW9uLCBheGlzLCBmYWxzZSwgdXNlRmluYWxQb3NpdGlvbiwgaW5jbHVkZUludmlzaWJsZSk7XG4gICAgICAgICAgICBpZiAoaXRlbXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGFzZXRJbmRleCA9IGl0ZW1zWzBdLmRhdGFzZXRJbmRleDtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gY2hhcnQuZ2V0RGF0YXNldE1ldGEoZGF0YXNldEluZGV4KS5kYXRhO1xuICAgICAgICAgICAgICAgIGl0ZW1zID0gW107XG4gICAgICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyArK2kpe1xuICAgICAgICAgICAgICAgICAgICBpdGVtcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQ6IGRhdGFbaV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhc2V0SW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleDogaVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaXRlbXM7XG4gICAgICAgIH0sXG4gcG9pbnQgKGNoYXJ0LCBlLCBvcHRpb25zLCB1c2VGaW5hbFBvc2l0aW9uKSB7XG4gICAgICAgICAgICBjb25zdCBwb3NpdGlvbiA9IGdldFJlbGF0aXZlUG9zaXRpb24oZSwgY2hhcnQpO1xuICAgICAgICAgICAgY29uc3QgYXhpcyA9IG9wdGlvbnMuYXhpcyB8fCAneHknO1xuICAgICAgICAgICAgY29uc3QgaW5jbHVkZUludmlzaWJsZSA9IG9wdGlvbnMuaW5jbHVkZUludmlzaWJsZSB8fCBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiBnZXRJbnRlcnNlY3RJdGVtcyhjaGFydCwgcG9zaXRpb24sIGF4aXMsIHVzZUZpbmFsUG9zaXRpb24sIGluY2x1ZGVJbnZpc2libGUpO1xuICAgICAgICB9LFxuIG5lYXJlc3QgKGNoYXJ0LCBlLCBvcHRpb25zLCB1c2VGaW5hbFBvc2l0aW9uKSB7XG4gICAgICAgICAgICBjb25zdCBwb3NpdGlvbiA9IGdldFJlbGF0aXZlUG9zaXRpb24oZSwgY2hhcnQpO1xuICAgICAgICAgICAgY29uc3QgYXhpcyA9IG9wdGlvbnMuYXhpcyB8fCAneHknO1xuICAgICAgICAgICAgY29uc3QgaW5jbHVkZUludmlzaWJsZSA9IG9wdGlvbnMuaW5jbHVkZUludmlzaWJsZSB8fCBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiBnZXROZWFyZXN0SXRlbXMoY2hhcnQsIHBvc2l0aW9uLCBheGlzLCBvcHRpb25zLmludGVyc2VjdCwgdXNlRmluYWxQb3NpdGlvbiwgaW5jbHVkZUludmlzaWJsZSk7XG4gICAgICAgIH0sXG4geCAoY2hhcnQsIGUsIG9wdGlvbnMsIHVzZUZpbmFsUG9zaXRpb24pIHtcbiAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9uID0gZ2V0UmVsYXRpdmVQb3NpdGlvbihlLCBjaGFydCk7XG4gICAgICAgICAgICByZXR1cm4gZ2V0QXhpc0l0ZW1zKGNoYXJ0LCBwb3NpdGlvbiwgJ3gnLCBvcHRpb25zLmludGVyc2VjdCwgdXNlRmluYWxQb3NpdGlvbik7XG4gICAgICAgIH0sXG4geSAoY2hhcnQsIGUsIG9wdGlvbnMsIHVzZUZpbmFsUG9zaXRpb24pIHtcbiAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9uID0gZ2V0UmVsYXRpdmVQb3NpdGlvbihlLCBjaGFydCk7XG4gICAgICAgICAgICByZXR1cm4gZ2V0QXhpc0l0ZW1zKGNoYXJ0LCBwb3NpdGlvbiwgJ3knLCBvcHRpb25zLmludGVyc2VjdCwgdXNlRmluYWxQb3NpdGlvbik7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5jb25zdCBTVEFUSUNfUE9TSVRJT05TID0gW1xuICAgICdsZWZ0JyxcbiAgICAndG9wJyxcbiAgICAncmlnaHQnLFxuICAgICdib3R0b20nXG5dO1xuZnVuY3Rpb24gZmlsdGVyQnlQb3NpdGlvbihhcnJheSwgcG9zaXRpb24pIHtcbiAgICByZXR1cm4gYXJyYXkuZmlsdGVyKCh2KT0+di5wb3MgPT09IHBvc2l0aW9uKTtcbn1cbmZ1bmN0aW9uIGZpbHRlckR5bmFtaWNQb3NpdGlvbkJ5QXhpcyhhcnJheSwgYXhpcykge1xuICAgIHJldHVybiBhcnJheS5maWx0ZXIoKHYpPT5TVEFUSUNfUE9TSVRJT05TLmluZGV4T2Yodi5wb3MpID09PSAtMSAmJiB2LmJveC5heGlzID09PSBheGlzKTtcbn1cbmZ1bmN0aW9uIHNvcnRCeVdlaWdodChhcnJheSwgcmV2ZXJzZSkge1xuICAgIHJldHVybiBhcnJheS5zb3J0KChhLCBiKT0+e1xuICAgICAgICBjb25zdCB2MCA9IHJldmVyc2UgPyBiIDogYTtcbiAgICAgICAgY29uc3QgdjEgPSByZXZlcnNlID8gYSA6IGI7XG4gICAgICAgIHJldHVybiB2MC53ZWlnaHQgPT09IHYxLndlaWdodCA/IHYwLmluZGV4IC0gdjEuaW5kZXggOiB2MC53ZWlnaHQgLSB2MS53ZWlnaHQ7XG4gICAgfSk7XG59XG5mdW5jdGlvbiB3cmFwQm94ZXMoYm94ZXMpIHtcbiAgICBjb25zdCBsYXlvdXRCb3hlcyA9IFtdO1xuICAgIGxldCBpLCBpbGVuLCBib3gsIHBvcywgc3RhY2ssIHN0YWNrV2VpZ2h0O1xuICAgIGZvcihpID0gMCwgaWxlbiA9IChib3hlcyB8fCBbXSkubGVuZ3RoOyBpIDwgaWxlbjsgKytpKXtcbiAgICAgICAgYm94ID0gYm94ZXNbaV07XG4gICAgICAgICh7IHBvc2l0aW9uOiBwb3MgLCBvcHRpb25zOiB7IHN0YWNrICwgc3RhY2tXZWlnaHQgPTEgIH0gIH0gPSBib3gpO1xuICAgICAgICBsYXlvdXRCb3hlcy5wdXNoKHtcbiAgICAgICAgICAgIGluZGV4OiBpLFxuICAgICAgICAgICAgYm94LFxuICAgICAgICAgICAgcG9zLFxuICAgICAgICAgICAgaG9yaXpvbnRhbDogYm94LmlzSG9yaXpvbnRhbCgpLFxuICAgICAgICAgICAgd2VpZ2h0OiBib3gud2VpZ2h0LFxuICAgICAgICAgICAgc3RhY2s6IHN0YWNrICYmIHBvcyArIHN0YWNrLFxuICAgICAgICAgICAgc3RhY2tXZWlnaHRcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBsYXlvdXRCb3hlcztcbn1cbmZ1bmN0aW9uIGJ1aWxkU3RhY2tzKGxheW91dHMpIHtcbiAgICBjb25zdCBzdGFja3MgPSB7fTtcbiAgICBmb3IgKGNvbnN0IHdyYXAgb2YgbGF5b3V0cyl7XG4gICAgICAgIGNvbnN0IHsgc3RhY2sgLCBwb3MgLCBzdGFja1dlaWdodCAgfSA9IHdyYXA7XG4gICAgICAgIGlmICghc3RhY2sgfHwgIVNUQVRJQ19QT1NJVElPTlMuaW5jbHVkZXMocG9zKSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgX3N0YWNrID0gc3RhY2tzW3N0YWNrXSB8fCAoc3RhY2tzW3N0YWNrXSA9IHtcbiAgICAgICAgICAgIGNvdW50OiAwLFxuICAgICAgICAgICAgcGxhY2VkOiAwLFxuICAgICAgICAgICAgd2VpZ2h0OiAwLFxuICAgICAgICAgICAgc2l6ZTogMFxuICAgICAgICB9KTtcbiAgICAgICAgX3N0YWNrLmNvdW50Kys7XG4gICAgICAgIF9zdGFjay53ZWlnaHQgKz0gc3RhY2tXZWlnaHQ7XG4gICAgfVxuICAgIHJldHVybiBzdGFja3M7XG59XG4gZnVuY3Rpb24gc2V0TGF5b3V0RGltcyhsYXlvdXRzLCBwYXJhbXMpIHtcbiAgICBjb25zdCBzdGFja3MgPSBidWlsZFN0YWNrcyhsYXlvdXRzKTtcbiAgICBjb25zdCB7IHZCb3hNYXhXaWR0aCAsIGhCb3hNYXhIZWlnaHQgIH0gPSBwYXJhbXM7XG4gICAgbGV0IGksIGlsZW4sIGxheW91dDtcbiAgICBmb3IoaSA9IDAsIGlsZW4gPSBsYXlvdXRzLmxlbmd0aDsgaSA8IGlsZW47ICsraSl7XG4gICAgICAgIGxheW91dCA9IGxheW91dHNbaV07XG4gICAgICAgIGNvbnN0IHsgZnVsbFNpemUgIH0gPSBsYXlvdXQuYm94O1xuICAgICAgICBjb25zdCBzdGFjayA9IHN0YWNrc1tsYXlvdXQuc3RhY2tdO1xuICAgICAgICBjb25zdCBmYWN0b3IgPSBzdGFjayAmJiBsYXlvdXQuc3RhY2tXZWlnaHQgLyBzdGFjay53ZWlnaHQ7XG4gICAgICAgIGlmIChsYXlvdXQuaG9yaXpvbnRhbCkge1xuICAgICAgICAgICAgbGF5b3V0LndpZHRoID0gZmFjdG9yID8gZmFjdG9yICogdkJveE1heFdpZHRoIDogZnVsbFNpemUgJiYgcGFyYW1zLmF2YWlsYWJsZVdpZHRoO1xuICAgICAgICAgICAgbGF5b3V0LmhlaWdodCA9IGhCb3hNYXhIZWlnaHQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsYXlvdXQud2lkdGggPSB2Qm94TWF4V2lkdGg7XG4gICAgICAgICAgICBsYXlvdXQuaGVpZ2h0ID0gZmFjdG9yID8gZmFjdG9yICogaEJveE1heEhlaWdodCA6IGZ1bGxTaXplICYmIHBhcmFtcy5hdmFpbGFibGVIZWlnaHQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHN0YWNrcztcbn1cbmZ1bmN0aW9uIGJ1aWxkTGF5b3V0Qm94ZXMoYm94ZXMpIHtcbiAgICBjb25zdCBsYXlvdXRCb3hlcyA9IHdyYXBCb3hlcyhib3hlcyk7XG4gICAgY29uc3QgZnVsbFNpemUgPSBzb3J0QnlXZWlnaHQobGF5b3V0Qm94ZXMuZmlsdGVyKCh3cmFwKT0+d3JhcC5ib3guZnVsbFNpemUpLCB0cnVlKTtcbiAgICBjb25zdCBsZWZ0ID0gc29ydEJ5V2VpZ2h0KGZpbHRlckJ5UG9zaXRpb24obGF5b3V0Qm94ZXMsICdsZWZ0JyksIHRydWUpO1xuICAgIGNvbnN0IHJpZ2h0ID0gc29ydEJ5V2VpZ2h0KGZpbHRlckJ5UG9zaXRpb24obGF5b3V0Qm94ZXMsICdyaWdodCcpKTtcbiAgICBjb25zdCB0b3AgPSBzb3J0QnlXZWlnaHQoZmlsdGVyQnlQb3NpdGlvbihsYXlvdXRCb3hlcywgJ3RvcCcpLCB0cnVlKTtcbiAgICBjb25zdCBib3R0b20gPSBzb3J0QnlXZWlnaHQoZmlsdGVyQnlQb3NpdGlvbihsYXlvdXRCb3hlcywgJ2JvdHRvbScpKTtcbiAgICBjb25zdCBjZW50ZXJIb3Jpem9udGFsID0gZmlsdGVyRHluYW1pY1Bvc2l0aW9uQnlBeGlzKGxheW91dEJveGVzLCAneCcpO1xuICAgIGNvbnN0IGNlbnRlclZlcnRpY2FsID0gZmlsdGVyRHluYW1pY1Bvc2l0aW9uQnlBeGlzKGxheW91dEJveGVzLCAneScpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGZ1bGxTaXplLFxuICAgICAgICBsZWZ0QW5kVG9wOiBsZWZ0LmNvbmNhdCh0b3ApLFxuICAgICAgICByaWdodEFuZEJvdHRvbTogcmlnaHQuY29uY2F0KGNlbnRlclZlcnRpY2FsKS5jb25jYXQoYm90dG9tKS5jb25jYXQoY2VudGVySG9yaXpvbnRhbCksXG4gICAgICAgIGNoYXJ0QXJlYTogZmlsdGVyQnlQb3NpdGlvbihsYXlvdXRCb3hlcywgJ2NoYXJ0QXJlYScpLFxuICAgICAgICB2ZXJ0aWNhbDogbGVmdC5jb25jYXQocmlnaHQpLmNvbmNhdChjZW50ZXJWZXJ0aWNhbCksXG4gICAgICAgIGhvcml6b250YWw6IHRvcC5jb25jYXQoYm90dG9tKS5jb25jYXQoY2VudGVySG9yaXpvbnRhbClcbiAgICB9O1xufVxuZnVuY3Rpb24gZ2V0Q29tYmluZWRNYXgobWF4UGFkZGluZywgY2hhcnRBcmVhLCBhLCBiKSB7XG4gICAgcmV0dXJuIE1hdGgubWF4KG1heFBhZGRpbmdbYV0sIGNoYXJ0QXJlYVthXSkgKyBNYXRoLm1heChtYXhQYWRkaW5nW2JdLCBjaGFydEFyZWFbYl0pO1xufVxuZnVuY3Rpb24gdXBkYXRlTWF4UGFkZGluZyhtYXhQYWRkaW5nLCBib3hQYWRkaW5nKSB7XG4gICAgbWF4UGFkZGluZy50b3AgPSBNYXRoLm1heChtYXhQYWRkaW5nLnRvcCwgYm94UGFkZGluZy50b3ApO1xuICAgIG1heFBhZGRpbmcubGVmdCA9IE1hdGgubWF4KG1heFBhZGRpbmcubGVmdCwgYm94UGFkZGluZy5sZWZ0KTtcbiAgICBtYXhQYWRkaW5nLmJvdHRvbSA9IE1hdGgubWF4KG1heFBhZGRpbmcuYm90dG9tLCBib3hQYWRkaW5nLmJvdHRvbSk7XG4gICAgbWF4UGFkZGluZy5yaWdodCA9IE1hdGgubWF4KG1heFBhZGRpbmcucmlnaHQsIGJveFBhZGRpbmcucmlnaHQpO1xufVxuZnVuY3Rpb24gdXBkYXRlRGltcyhjaGFydEFyZWEsIHBhcmFtcywgbGF5b3V0LCBzdGFja3MpIHtcbiAgICBjb25zdCB7IHBvcyAsIGJveCAgfSA9IGxheW91dDtcbiAgICBjb25zdCBtYXhQYWRkaW5nID0gY2hhcnRBcmVhLm1heFBhZGRpbmc7XG4gICAgaWYgKCFpc09iamVjdChwb3MpKSB7XG4gICAgICAgIGlmIChsYXlvdXQuc2l6ZSkge1xuICAgICAgICAgICAgY2hhcnRBcmVhW3Bvc10gLT0gbGF5b3V0LnNpemU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RhY2sgPSBzdGFja3NbbGF5b3V0LnN0YWNrXSB8fCB7XG4gICAgICAgICAgICBzaXplOiAwLFxuICAgICAgICAgICAgY291bnQ6IDFcbiAgICAgICAgfTtcbiAgICAgICAgc3RhY2suc2l6ZSA9IE1hdGgubWF4KHN0YWNrLnNpemUsIGxheW91dC5ob3Jpem9udGFsID8gYm94LmhlaWdodCA6IGJveC53aWR0aCk7XG4gICAgICAgIGxheW91dC5zaXplID0gc3RhY2suc2l6ZSAvIHN0YWNrLmNvdW50O1xuICAgICAgICBjaGFydEFyZWFbcG9zXSArPSBsYXlvdXQuc2l6ZTtcbiAgICB9XG4gICAgaWYgKGJveC5nZXRQYWRkaW5nKSB7XG4gICAgICAgIHVwZGF0ZU1heFBhZGRpbmcobWF4UGFkZGluZywgYm94LmdldFBhZGRpbmcoKSk7XG4gICAgfVxuICAgIGNvbnN0IG5ld1dpZHRoID0gTWF0aC5tYXgoMCwgcGFyYW1zLm91dGVyV2lkdGggLSBnZXRDb21iaW5lZE1heChtYXhQYWRkaW5nLCBjaGFydEFyZWEsICdsZWZ0JywgJ3JpZ2h0JykpO1xuICAgIGNvbnN0IG5ld0hlaWdodCA9IE1hdGgubWF4KDAsIHBhcmFtcy5vdXRlckhlaWdodCAtIGdldENvbWJpbmVkTWF4KG1heFBhZGRpbmcsIGNoYXJ0QXJlYSwgJ3RvcCcsICdib3R0b20nKSk7XG4gICAgY29uc3Qgd2lkdGhDaGFuZ2VkID0gbmV3V2lkdGggIT09IGNoYXJ0QXJlYS53O1xuICAgIGNvbnN0IGhlaWdodENoYW5nZWQgPSBuZXdIZWlnaHQgIT09IGNoYXJ0QXJlYS5oO1xuICAgIGNoYXJ0QXJlYS53ID0gbmV3V2lkdGg7XG4gICAgY2hhcnRBcmVhLmggPSBuZXdIZWlnaHQ7XG4gICAgcmV0dXJuIGxheW91dC5ob3Jpem9udGFsID8ge1xuICAgICAgICBzYW1lOiB3aWR0aENoYW5nZWQsXG4gICAgICAgIG90aGVyOiBoZWlnaHRDaGFuZ2VkXG4gICAgfSA6IHtcbiAgICAgICAgc2FtZTogaGVpZ2h0Q2hhbmdlZCxcbiAgICAgICAgb3RoZXI6IHdpZHRoQ2hhbmdlZFxuICAgIH07XG59XG5mdW5jdGlvbiBoYW5kbGVNYXhQYWRkaW5nKGNoYXJ0QXJlYSkge1xuICAgIGNvbnN0IG1heFBhZGRpbmcgPSBjaGFydEFyZWEubWF4UGFkZGluZztcbiAgICBmdW5jdGlvbiB1cGRhdGVQb3MocG9zKSB7XG4gICAgICAgIGNvbnN0IGNoYW5nZSA9IE1hdGgubWF4KG1heFBhZGRpbmdbcG9zXSAtIGNoYXJ0QXJlYVtwb3NdLCAwKTtcbiAgICAgICAgY2hhcnRBcmVhW3Bvc10gKz0gY2hhbmdlO1xuICAgICAgICByZXR1cm4gY2hhbmdlO1xuICAgIH1cbiAgICBjaGFydEFyZWEueSArPSB1cGRhdGVQb3MoJ3RvcCcpO1xuICAgIGNoYXJ0QXJlYS54ICs9IHVwZGF0ZVBvcygnbGVmdCcpO1xuICAgIHVwZGF0ZVBvcygncmlnaHQnKTtcbiAgICB1cGRhdGVQb3MoJ2JvdHRvbScpO1xufVxuZnVuY3Rpb24gZ2V0TWFyZ2lucyhob3Jpem9udGFsLCBjaGFydEFyZWEpIHtcbiAgICBjb25zdCBtYXhQYWRkaW5nID0gY2hhcnRBcmVhLm1heFBhZGRpbmc7XG4gICAgZnVuY3Rpb24gbWFyZ2luRm9yUG9zaXRpb25zKHBvc2l0aW9ucykge1xuICAgICAgICBjb25zdCBtYXJnaW4gPSB7XG4gICAgICAgICAgICBsZWZ0OiAwLFxuICAgICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgICAgcmlnaHQ6IDAsXG4gICAgICAgICAgICBib3R0b206IDBcbiAgICAgICAgfTtcbiAgICAgICAgcG9zaXRpb25zLmZvckVhY2goKHBvcyk9PntcbiAgICAgICAgICAgIG1hcmdpbltwb3NdID0gTWF0aC5tYXgoY2hhcnRBcmVhW3Bvc10sIG1heFBhZGRpbmdbcG9zXSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbWFyZ2luO1xuICAgIH1cbiAgICByZXR1cm4gaG9yaXpvbnRhbCA/IG1hcmdpbkZvclBvc2l0aW9ucyhbXG4gICAgICAgICdsZWZ0JyxcbiAgICAgICAgJ3JpZ2h0J1xuICAgIF0pIDogbWFyZ2luRm9yUG9zaXRpb25zKFtcbiAgICAgICAgJ3RvcCcsXG4gICAgICAgICdib3R0b20nXG4gICAgXSk7XG59XG5mdW5jdGlvbiBmaXRCb3hlcyhib3hlcywgY2hhcnRBcmVhLCBwYXJhbXMsIHN0YWNrcykge1xuICAgIGNvbnN0IHJlZml0Qm94ZXMgPSBbXTtcbiAgICBsZXQgaSwgaWxlbiwgbGF5b3V0LCBib3gsIHJlZml0LCBjaGFuZ2VkO1xuICAgIGZvcihpID0gMCwgaWxlbiA9IGJveGVzLmxlbmd0aCwgcmVmaXQgPSAwOyBpIDwgaWxlbjsgKytpKXtcbiAgICAgICAgbGF5b3V0ID0gYm94ZXNbaV07XG4gICAgICAgIGJveCA9IGxheW91dC5ib3g7XG4gICAgICAgIGJveC51cGRhdGUobGF5b3V0LndpZHRoIHx8IGNoYXJ0QXJlYS53LCBsYXlvdXQuaGVpZ2h0IHx8IGNoYXJ0QXJlYS5oLCBnZXRNYXJnaW5zKGxheW91dC5ob3Jpem9udGFsLCBjaGFydEFyZWEpKTtcbiAgICAgICAgY29uc3QgeyBzYW1lICwgb3RoZXIgIH0gPSB1cGRhdGVEaW1zKGNoYXJ0QXJlYSwgcGFyYW1zLCBsYXlvdXQsIHN0YWNrcyk7XG4gICAgICAgIHJlZml0IHw9IHNhbWUgJiYgcmVmaXRCb3hlcy5sZW5ndGg7XG4gICAgICAgIGNoYW5nZWQgPSBjaGFuZ2VkIHx8IG90aGVyO1xuICAgICAgICBpZiAoIWJveC5mdWxsU2l6ZSkge1xuICAgICAgICAgICAgcmVmaXRCb3hlcy5wdXNoKGxheW91dCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlZml0ICYmIGZpdEJveGVzKHJlZml0Qm94ZXMsIGNoYXJ0QXJlYSwgcGFyYW1zLCBzdGFja3MpIHx8IGNoYW5nZWQ7XG59XG5mdW5jdGlvbiBzZXRCb3hEaW1zKGJveCwgbGVmdCwgdG9wLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgYm94LnRvcCA9IHRvcDtcbiAgICBib3gubGVmdCA9IGxlZnQ7XG4gICAgYm94LnJpZ2h0ID0gbGVmdCArIHdpZHRoO1xuICAgIGJveC5ib3R0b20gPSB0b3AgKyBoZWlnaHQ7XG4gICAgYm94LndpZHRoID0gd2lkdGg7XG4gICAgYm94LmhlaWdodCA9IGhlaWdodDtcbn1cbmZ1bmN0aW9uIHBsYWNlQm94ZXMoYm94ZXMsIGNoYXJ0QXJlYSwgcGFyYW1zLCBzdGFja3MpIHtcbiAgICBjb25zdCB1c2VyUGFkZGluZyA9IHBhcmFtcy5wYWRkaW5nO1xuICAgIGxldCB7IHggLCB5ICB9ID0gY2hhcnRBcmVhO1xuICAgIGZvciAoY29uc3QgbGF5b3V0IG9mIGJveGVzKXtcbiAgICAgICAgY29uc3QgYm94ID0gbGF5b3V0LmJveDtcbiAgICAgICAgY29uc3Qgc3RhY2sgPSBzdGFja3NbbGF5b3V0LnN0YWNrXSB8fCB7XG4gICAgICAgICAgICBjb3VudDogMSxcbiAgICAgICAgICAgIHBsYWNlZDogMCxcbiAgICAgICAgICAgIHdlaWdodDogMVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCB3ZWlnaHQgPSBsYXlvdXQuc3RhY2tXZWlnaHQgLyBzdGFjay53ZWlnaHQgfHwgMTtcbiAgICAgICAgaWYgKGxheW91dC5ob3Jpem9udGFsKSB7XG4gICAgICAgICAgICBjb25zdCB3aWR0aCA9IGNoYXJ0QXJlYS53ICogd2VpZ2h0O1xuICAgICAgICAgICAgY29uc3QgaGVpZ2h0ID0gc3RhY2suc2l6ZSB8fCBib3guaGVpZ2h0O1xuICAgICAgICAgICAgaWYgKGRlZmluZWQoc3RhY2suc3RhcnQpKSB7XG4gICAgICAgICAgICAgICAgeSA9IHN0YWNrLnN0YXJ0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJveC5mdWxsU2l6ZSkge1xuICAgICAgICAgICAgICAgIHNldEJveERpbXMoYm94LCB1c2VyUGFkZGluZy5sZWZ0LCB5LCBwYXJhbXMub3V0ZXJXaWR0aCAtIHVzZXJQYWRkaW5nLnJpZ2h0IC0gdXNlclBhZGRpbmcubGVmdCwgaGVpZ2h0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2V0Qm94RGltcyhib3gsIGNoYXJ0QXJlYS5sZWZ0ICsgc3RhY2sucGxhY2VkLCB5LCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YWNrLnN0YXJ0ID0geTtcbiAgICAgICAgICAgIHN0YWNrLnBsYWNlZCArPSB3aWR0aDtcbiAgICAgICAgICAgIHkgPSBib3guYm90dG9tO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgaGVpZ2h0ID0gY2hhcnRBcmVhLmggKiB3ZWlnaHQ7XG4gICAgICAgICAgICBjb25zdCB3aWR0aCA9IHN0YWNrLnNpemUgfHwgYm94LndpZHRoO1xuICAgICAgICAgICAgaWYgKGRlZmluZWQoc3RhY2suc3RhcnQpKSB7XG4gICAgICAgICAgICAgICAgeCA9IHN0YWNrLnN0YXJ0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJveC5mdWxsU2l6ZSkge1xuICAgICAgICAgICAgICAgIHNldEJveERpbXMoYm94LCB4LCB1c2VyUGFkZGluZy50b3AsIHdpZHRoLCBwYXJhbXMub3V0ZXJIZWlnaHQgLSB1c2VyUGFkZGluZy5ib3R0b20gLSB1c2VyUGFkZGluZy50b3ApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZXRCb3hEaW1zKGJveCwgeCwgY2hhcnRBcmVhLnRvcCArIHN0YWNrLnBsYWNlZCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdGFjay5zdGFydCA9IHg7XG4gICAgICAgICAgICBzdGFjay5wbGFjZWQgKz0gaGVpZ2h0O1xuICAgICAgICAgICAgeCA9IGJveC5yaWdodDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjaGFydEFyZWEueCA9IHg7XG4gICAgY2hhcnRBcmVhLnkgPSB5O1xufVxudmFyIGxheW91dHMgPSB7XG4gYWRkQm94IChjaGFydCwgaXRlbSkge1xuICAgICAgICBpZiAoIWNoYXJ0LmJveGVzKSB7XG4gICAgICAgICAgICBjaGFydC5ib3hlcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIGl0ZW0uZnVsbFNpemUgPSBpdGVtLmZ1bGxTaXplIHx8IGZhbHNlO1xuICAgICAgICBpdGVtLnBvc2l0aW9uID0gaXRlbS5wb3NpdGlvbiB8fCAndG9wJztcbiAgICAgICAgaXRlbS53ZWlnaHQgPSBpdGVtLndlaWdodCB8fCAwO1xuICAgICAgICBpdGVtLl9sYXllcnMgPSBpdGVtLl9sYXllcnMgfHwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgejogMCxcbiAgICAgICAgICAgICAgICAgICAgZHJhdyAoY2hhcnRBcmVhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmRyYXcoY2hhcnRBcmVhKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF07XG4gICAgICAgIH07XG4gICAgICAgIGNoYXJ0LmJveGVzLnB1c2goaXRlbSk7XG4gICAgfSxcbiByZW1vdmVCb3ggKGNoYXJ0LCBsYXlvdXRJdGVtKSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gY2hhcnQuYm94ZXMgPyBjaGFydC5ib3hlcy5pbmRleE9mKGxheW91dEl0ZW0pIDogLTE7XG4gICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIGNoYXJ0LmJveGVzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICB9LFxuIGNvbmZpZ3VyZSAoY2hhcnQsIGl0ZW0sIG9wdGlvbnMpIHtcbiAgICAgICAgaXRlbS5mdWxsU2l6ZSA9IG9wdGlvbnMuZnVsbFNpemU7XG4gICAgICAgIGl0ZW0ucG9zaXRpb24gPSBvcHRpb25zLnBvc2l0aW9uO1xuICAgICAgICBpdGVtLndlaWdodCA9IG9wdGlvbnMud2VpZ2h0O1xuICAgIH0sXG4gdXBkYXRlIChjaGFydCwgd2lkdGgsIGhlaWdodCwgbWluUGFkZGluZykge1xuICAgICAgICBpZiAoIWNoYXJ0KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFkZGluZyA9IHRvUGFkZGluZyhjaGFydC5vcHRpb25zLmxheW91dC5wYWRkaW5nKTtcbiAgICAgICAgY29uc3QgYXZhaWxhYmxlV2lkdGggPSBNYXRoLm1heCh3aWR0aCAtIHBhZGRpbmcud2lkdGgsIDApO1xuICAgICAgICBjb25zdCBhdmFpbGFibGVIZWlnaHQgPSBNYXRoLm1heChoZWlnaHQgLSBwYWRkaW5nLmhlaWdodCwgMCk7XG4gICAgICAgIGNvbnN0IGJveGVzID0gYnVpbGRMYXlvdXRCb3hlcyhjaGFydC5ib3hlcyk7XG4gICAgICAgIGNvbnN0IHZlcnRpY2FsQm94ZXMgPSBib3hlcy52ZXJ0aWNhbDtcbiAgICAgICAgY29uc3QgaG9yaXpvbnRhbEJveGVzID0gYm94ZXMuaG9yaXpvbnRhbDtcbiAgICAgICAgZWFjaChjaGFydC5ib3hlcywgKGJveCk9PntcbiAgICAgICAgICAgIGlmICh0eXBlb2YgYm94LmJlZm9yZUxheW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIGJveC5iZWZvcmVMYXlvdXQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHZpc2libGVWZXJ0aWNhbEJveENvdW50ID0gdmVydGljYWxCb3hlcy5yZWR1Y2UoKHRvdGFsLCB3cmFwKT0+d3JhcC5ib3gub3B0aW9ucyAmJiB3cmFwLmJveC5vcHRpb25zLmRpc3BsYXkgPT09IGZhbHNlID8gdG90YWwgOiB0b3RhbCArIDEsIDApIHx8IDE7XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IE9iamVjdC5mcmVlemUoe1xuICAgICAgICAgICAgb3V0ZXJXaWR0aDogd2lkdGgsXG4gICAgICAgICAgICBvdXRlckhlaWdodDogaGVpZ2h0LFxuICAgICAgICAgICAgcGFkZGluZyxcbiAgICAgICAgICAgIGF2YWlsYWJsZVdpZHRoLFxuICAgICAgICAgICAgYXZhaWxhYmxlSGVpZ2h0LFxuICAgICAgICAgICAgdkJveE1heFdpZHRoOiBhdmFpbGFibGVXaWR0aCAvIDIgLyB2aXNpYmxlVmVydGljYWxCb3hDb3VudCxcbiAgICAgICAgICAgIGhCb3hNYXhIZWlnaHQ6IGF2YWlsYWJsZUhlaWdodCAvIDJcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IG1heFBhZGRpbmcgPSBPYmplY3QuYXNzaWduKHt9LCBwYWRkaW5nKTtcbiAgICAgICAgdXBkYXRlTWF4UGFkZGluZyhtYXhQYWRkaW5nLCB0b1BhZGRpbmcobWluUGFkZGluZykpO1xuICAgICAgICBjb25zdCBjaGFydEFyZWEgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIG1heFBhZGRpbmcsXG4gICAgICAgICAgICB3OiBhdmFpbGFibGVXaWR0aCxcbiAgICAgICAgICAgIGg6IGF2YWlsYWJsZUhlaWdodCxcbiAgICAgICAgICAgIHg6IHBhZGRpbmcubGVmdCxcbiAgICAgICAgICAgIHk6IHBhZGRpbmcudG9wXG4gICAgICAgIH0sIHBhZGRpbmcpO1xuICAgICAgICBjb25zdCBzdGFja3MgPSBzZXRMYXlvdXREaW1zKHZlcnRpY2FsQm94ZXMuY29uY2F0KGhvcml6b250YWxCb3hlcyksIHBhcmFtcyk7XG4gICAgICAgIGZpdEJveGVzKGJveGVzLmZ1bGxTaXplLCBjaGFydEFyZWEsIHBhcmFtcywgc3RhY2tzKTtcbiAgICAgICAgZml0Qm94ZXModmVydGljYWxCb3hlcywgY2hhcnRBcmVhLCBwYXJhbXMsIHN0YWNrcyk7XG4gICAgICAgIGlmIChmaXRCb3hlcyhob3Jpem9udGFsQm94ZXMsIGNoYXJ0QXJlYSwgcGFyYW1zLCBzdGFja3MpKSB7XG4gICAgICAgICAgICBmaXRCb3hlcyh2ZXJ0aWNhbEJveGVzLCBjaGFydEFyZWEsIHBhcmFtcywgc3RhY2tzKTtcbiAgICAgICAgfVxuICAgICAgICBoYW5kbGVNYXhQYWRkaW5nKGNoYXJ0QXJlYSk7XG4gICAgICAgIHBsYWNlQm94ZXMoYm94ZXMubGVmdEFuZFRvcCwgY2hhcnRBcmVhLCBwYXJhbXMsIHN0YWNrcyk7XG4gICAgICAgIGNoYXJ0QXJlYS54ICs9IGNoYXJ0QXJlYS53O1xuICAgICAgICBjaGFydEFyZWEueSArPSBjaGFydEFyZWEuaDtcbiAgICAgICAgcGxhY2VCb3hlcyhib3hlcy5yaWdodEFuZEJvdHRvbSwgY2hhcnRBcmVhLCBwYXJhbXMsIHN0YWNrcyk7XG4gICAgICAgIGNoYXJ0LmNoYXJ0QXJlYSA9IHtcbiAgICAgICAgICAgIGxlZnQ6IGNoYXJ0QXJlYS5sZWZ0LFxuICAgICAgICAgICAgdG9wOiBjaGFydEFyZWEudG9wLFxuICAgICAgICAgICAgcmlnaHQ6IGNoYXJ0QXJlYS5sZWZ0ICsgY2hhcnRBcmVhLncsXG4gICAgICAgICAgICBib3R0b206IGNoYXJ0QXJlYS50b3AgKyBjaGFydEFyZWEuaCxcbiAgICAgICAgICAgIGhlaWdodDogY2hhcnRBcmVhLmgsXG4gICAgICAgICAgICB3aWR0aDogY2hhcnRBcmVhLndcbiAgICAgICAgfTtcbiAgICAgICAgZWFjaChib3hlcy5jaGFydEFyZWEsIChsYXlvdXQpPT57XG4gICAgICAgICAgICBjb25zdCBib3ggPSBsYXlvdXQuYm94O1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihib3gsIGNoYXJ0LmNoYXJ0QXJlYSk7XG4gICAgICAgICAgICBib3gudXBkYXRlKGNoYXJ0QXJlYS53LCBjaGFydEFyZWEuaCwge1xuICAgICAgICAgICAgICAgIGxlZnQ6IDAsXG4gICAgICAgICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgICAgICAgIHJpZ2h0OiAwLFxuICAgICAgICAgICAgICAgIGJvdHRvbTogMFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn07XG5cbmNsYXNzIEJhc2VQbGF0Zm9ybSB7XG4gYWNxdWlyZUNvbnRleHQoY2FudmFzLCBhc3BlY3RSYXRpbykge31cbiByZWxlYXNlQ29udGV4dChjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gYWRkRXZlbnRMaXN0ZW5lcihjaGFydCwgdHlwZSwgbGlzdGVuZXIpIHt9XG4gcmVtb3ZlRXZlbnRMaXN0ZW5lcihjaGFydCwgdHlwZSwgbGlzdGVuZXIpIHt9XG4gZ2V0RGV2aWNlUGl4ZWxSYXRpbygpIHtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgfVxuIGdldE1heGltdW1TaXplKGVsZW1lbnQsIHdpZHRoLCBoZWlnaHQsIGFzcGVjdFJhdGlvKSB7XG4gICAgICAgIHdpZHRoID0gTWF0aC5tYXgoMCwgd2lkdGggfHwgZWxlbWVudC53aWR0aCk7XG4gICAgICAgIGhlaWdodCA9IGhlaWdodCB8fCBlbGVtZW50LmhlaWdodDtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiBNYXRoLm1heCgwLCBhc3BlY3RSYXRpbyA/IE1hdGguZmxvb3Iod2lkdGggLyBhc3BlY3RSYXRpbykgOiBoZWlnaHQpXG4gICAgICAgIH07XG4gICAgfVxuIGlzQXR0YWNoZWQoY2FudmFzKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiB1cGRhdGVDb25maWcoY29uZmlnKSB7XG4gICAgfVxufVxuXG5jbGFzcyBCYXNpY1BsYXRmb3JtIGV4dGVuZHMgQmFzZVBsYXRmb3JtIHtcbiAgICBhY3F1aXJlQ29udGV4dChpdGVtKSB7XG4gICAgICAgIHJldHVybiBpdGVtICYmIGl0ZW0uZ2V0Q29udGV4dCAmJiBpdGVtLmdldENvbnRleHQoJzJkJykgfHwgbnVsbDtcbiAgICB9XG4gICAgdXBkYXRlQ29uZmlnKGNvbmZpZykge1xuICAgICAgICBjb25maWcub3B0aW9ucy5hbmltYXRpb24gPSBmYWxzZTtcbiAgICB9XG59XG5cbmNvbnN0IEVYUEFORE9fS0VZID0gJyRjaGFydGpzJztcbiBjb25zdCBFVkVOVF9UWVBFUyA9IHtcbiAgICB0b3VjaHN0YXJ0OiAnbW91c2Vkb3duJyxcbiAgICB0b3VjaG1vdmU6ICdtb3VzZW1vdmUnLFxuICAgIHRvdWNoZW5kOiAnbW91c2V1cCcsXG4gICAgcG9pbnRlcmVudGVyOiAnbW91c2VlbnRlcicsXG4gICAgcG9pbnRlcmRvd246ICdtb3VzZWRvd24nLFxuICAgIHBvaW50ZXJtb3ZlOiAnbW91c2Vtb3ZlJyxcbiAgICBwb2ludGVydXA6ICdtb3VzZXVwJyxcbiAgICBwb2ludGVybGVhdmU6ICdtb3VzZW91dCcsXG4gICAgcG9pbnRlcm91dDogJ21vdXNlb3V0J1xufTtcbmNvbnN0IGlzTnVsbE9yRW1wdHkgPSAodmFsdWUpPT52YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gJyc7XG4gZnVuY3Rpb24gaW5pdENhbnZhcyhjYW52YXMsIGFzcGVjdFJhdGlvKSB7XG4gICAgY29uc3Qgc3R5bGUgPSBjYW52YXMuc3R5bGU7XG4gICAgY29uc3QgcmVuZGVySGVpZ2h0ID0gY2FudmFzLmdldEF0dHJpYnV0ZSgnaGVpZ2h0Jyk7XG4gICAgY29uc3QgcmVuZGVyV2lkdGggPSBjYW52YXMuZ2V0QXR0cmlidXRlKCd3aWR0aCcpO1xuICAgIGNhbnZhc1tFWFBBTkRPX0tFWV0gPSB7XG4gICAgICAgIGluaXRpYWw6IHtcbiAgICAgICAgICAgIGhlaWdodDogcmVuZGVySGVpZ2h0LFxuICAgICAgICAgICAgd2lkdGg6IHJlbmRlcldpZHRoLFxuICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBzdHlsZS5kaXNwbGF5LFxuICAgICAgICAgICAgICAgIGhlaWdodDogc3R5bGUuaGVpZ2h0LFxuICAgICAgICAgICAgICAgIHdpZHRoOiBzdHlsZS53aWR0aFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBzdHlsZS5kaXNwbGF5ID0gc3R5bGUuZGlzcGxheSB8fCAnYmxvY2snO1xuICAgIHN0eWxlLmJveFNpemluZyA9IHN0eWxlLmJveFNpemluZyB8fCAnYm9yZGVyLWJveCc7XG4gICAgaWYgKGlzTnVsbE9yRW1wdHkocmVuZGVyV2lkdGgpKSB7XG4gICAgICAgIGNvbnN0IGRpc3BsYXlXaWR0aCA9IHJlYWRVc2VkU2l6ZShjYW52YXMsICd3aWR0aCcpO1xuICAgICAgICBpZiAoZGlzcGxheVdpZHRoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IGRpc3BsYXlXaWR0aDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXNOdWxsT3JFbXB0eShyZW5kZXJIZWlnaHQpKSB7XG4gICAgICAgIGlmIChjYW52YXMuc3R5bGUuaGVpZ2h0ID09PSAnJykge1xuICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IGNhbnZhcy53aWR0aCAvIChhc3BlY3RSYXRpbyB8fCAyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGRpc3BsYXlIZWlnaHQgPSByZWFkVXNlZFNpemUoY2FudmFzLCAnaGVpZ2h0Jyk7XG4gICAgICAgICAgICBpZiAoZGlzcGxheUhlaWdodCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IGRpc3BsYXlIZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNhbnZhcztcbn1cbmNvbnN0IGV2ZW50TGlzdGVuZXJPcHRpb25zID0gc3VwcG9ydHNFdmVudExpc3RlbmVyT3B0aW9ucyA/IHtcbiAgICBwYXNzaXZlOiB0cnVlXG59IDogZmFsc2U7XG5mdW5jdGlvbiBhZGRMaXN0ZW5lcihub2RlLCB0eXBlLCBsaXN0ZW5lcikge1xuICAgIGlmIChub2RlKSB7XG4gICAgICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lciwgZXZlbnRMaXN0ZW5lck9wdGlvbnMpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyKGNoYXJ0LCB0eXBlLCBsaXN0ZW5lcikge1xuICAgIGlmIChjaGFydCAmJiBjaGFydC5jYW52YXMpIHtcbiAgICAgICAgY2hhcnQuY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIGV2ZW50TGlzdGVuZXJPcHRpb25zKTtcbiAgICB9XG59XG5mdW5jdGlvbiBmcm9tTmF0aXZlRXZlbnQoZXZlbnQsIGNoYXJ0KSB7XG4gICAgY29uc3QgdHlwZSA9IEVWRU5UX1RZUEVTW2V2ZW50LnR5cGVdIHx8IGV2ZW50LnR5cGU7XG4gICAgY29uc3QgeyB4ICwgeSAgfSA9IGdldFJlbGF0aXZlUG9zaXRpb24oZXZlbnQsIGNoYXJ0KTtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlLFxuICAgICAgICBjaGFydCxcbiAgICAgICAgbmF0aXZlOiBldmVudCxcbiAgICAgICAgeDogeCAhPT0gdW5kZWZpbmVkID8geCA6IG51bGwsXG4gICAgICAgIHk6IHkgIT09IHVuZGVmaW5lZCA/IHkgOiBudWxsXG4gICAgfTtcbn1cbmZ1bmN0aW9uIG5vZGVMaXN0Q29udGFpbnMobm9kZUxpc3QsIGNhbnZhcykge1xuICAgIGZvciAoY29uc3Qgbm9kZSBvZiBub2RlTGlzdCl7XG4gICAgICAgIGlmIChub2RlID09PSBjYW52YXMgfHwgbm9kZS5jb250YWlucyhjYW52YXMpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZUF0dGFjaE9ic2VydmVyKGNoYXJ0LCB0eXBlLCBsaXN0ZW5lcikge1xuICAgIGNvbnN0IGNhbnZhcyA9IGNoYXJ0LmNhbnZhcztcbiAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKChlbnRyaWVzKT0+e1xuICAgICAgICBsZXQgdHJpZ2dlciA9IGZhbHNlO1xuICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGVudHJpZXMpe1xuICAgICAgICAgICAgdHJpZ2dlciA9IHRyaWdnZXIgfHwgbm9kZUxpc3RDb250YWlucyhlbnRyeS5hZGRlZE5vZGVzLCBjYW52YXMpO1xuICAgICAgICAgICAgdHJpZ2dlciA9IHRyaWdnZXIgJiYgIW5vZGVMaXN0Q29udGFpbnMoZW50cnkucmVtb3ZlZE5vZGVzLCBjYW52YXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0cmlnZ2VyKSB7XG4gICAgICAgICAgICBsaXN0ZW5lcigpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudCwge1xuICAgICAgICBjaGlsZExpc3Q6IHRydWUsXG4gICAgICAgIHN1YnRyZWU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gb2JzZXJ2ZXI7XG59XG5mdW5jdGlvbiBjcmVhdGVEZXRhY2hPYnNlcnZlcihjaGFydCwgdHlwZSwgbGlzdGVuZXIpIHtcbiAgICBjb25zdCBjYW52YXMgPSBjaGFydC5jYW52YXM7XG4gICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigoZW50cmllcyk9PntcbiAgICAgICAgbGV0IHRyaWdnZXIgPSBmYWxzZTtcbiAgICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiBlbnRyaWVzKXtcbiAgICAgICAgICAgIHRyaWdnZXIgPSB0cmlnZ2VyIHx8IG5vZGVMaXN0Q29udGFpbnMoZW50cnkucmVtb3ZlZE5vZGVzLCBjYW52YXMpO1xuICAgICAgICAgICAgdHJpZ2dlciA9IHRyaWdnZXIgJiYgIW5vZGVMaXN0Q29udGFpbnMoZW50cnkuYWRkZWROb2RlcywgY2FudmFzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHJpZ2dlcikge1xuICAgICAgICAgICAgbGlzdGVuZXIoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIG9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQsIHtcbiAgICAgICAgY2hpbGRMaXN0OiB0cnVlLFxuICAgICAgICBzdWJ0cmVlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIG9ic2VydmVyO1xufVxuY29uc3QgZHJwTGlzdGVuaW5nQ2hhcnRzID0gbmV3IE1hcCgpO1xubGV0IG9sZERldmljZVBpeGVsUmF0aW8gPSAwO1xuZnVuY3Rpb24gb25XaW5kb3dSZXNpemUoKSB7XG4gICAgY29uc3QgZHByID0gd2luZG93LmRldmljZVBpeGVsUmF0aW87XG4gICAgaWYgKGRwciA9PT0gb2xkRGV2aWNlUGl4ZWxSYXRpbykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIG9sZERldmljZVBpeGVsUmF0aW8gPSBkcHI7XG4gICAgZHJwTGlzdGVuaW5nQ2hhcnRzLmZvckVhY2goKHJlc2l6ZSwgY2hhcnQpPT57XG4gICAgICAgIGlmIChjaGFydC5jdXJyZW50RGV2aWNlUGl4ZWxSYXRpbyAhPT0gZHByKSB7XG4gICAgICAgICAgICByZXNpemUoKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuZnVuY3Rpb24gbGlzdGVuRGV2aWNlUGl4ZWxSYXRpb0NoYW5nZXMoY2hhcnQsIHJlc2l6ZSkge1xuICAgIGlmICghZHJwTGlzdGVuaW5nQ2hhcnRzLnNpemUpIHtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIG9uV2luZG93UmVzaXplKTtcbiAgICB9XG4gICAgZHJwTGlzdGVuaW5nQ2hhcnRzLnNldChjaGFydCwgcmVzaXplKTtcbn1cbmZ1bmN0aW9uIHVubGlzdGVuRGV2aWNlUGl4ZWxSYXRpb0NoYW5nZXMoY2hhcnQpIHtcbiAgICBkcnBMaXN0ZW5pbmdDaGFydHMuZGVsZXRlKGNoYXJ0KTtcbiAgICBpZiAoIWRycExpc3RlbmluZ0NoYXJ0cy5zaXplKSB7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCBvbldpbmRvd1Jlc2l6ZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gY3JlYXRlUmVzaXplT2JzZXJ2ZXIoY2hhcnQsIHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgY29uc3QgY2FudmFzID0gY2hhcnQuY2FudmFzO1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGNhbnZhcyAmJiBfZ2V0UGFyZW50Tm9kZShjYW52YXMpO1xuICAgIGlmICghY29udGFpbmVyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcmVzaXplID0gdGhyb3R0bGVkKCh3aWR0aCwgaGVpZ2h0KT0+e1xuICAgICAgICBjb25zdCB3ID0gY29udGFpbmVyLmNsaWVudFdpZHRoO1xuICAgICAgICBsaXN0ZW5lcih3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgaWYgKHcgPCBjb250YWluZXIuY2xpZW50V2lkdGgpIHtcbiAgICAgICAgICAgIGxpc3RlbmVyKCk7XG4gICAgICAgIH1cbiAgICB9LCB3aW5kb3cpO1xuICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKChlbnRyaWVzKT0+e1xuICAgICAgICBjb25zdCBlbnRyeSA9IGVudHJpZXNbMF07XG4gICAgICAgIGNvbnN0IHdpZHRoID0gZW50cnkuY29udGVudFJlY3Qud2lkdGg7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IGVudHJ5LmNvbnRlbnRSZWN0LmhlaWdodDtcbiAgICAgICAgaWYgKHdpZHRoID09PSAwICYmIGhlaWdodCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJlc2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgICB9KTtcbiAgICBvYnNlcnZlci5vYnNlcnZlKGNvbnRhaW5lcik7XG4gICAgbGlzdGVuRGV2aWNlUGl4ZWxSYXRpb0NoYW5nZXMoY2hhcnQsIHJlc2l6ZSk7XG4gICAgcmV0dXJuIG9ic2VydmVyO1xufVxuZnVuY3Rpb24gcmVsZWFzZU9ic2VydmVyKGNoYXJ0LCB0eXBlLCBvYnNlcnZlcikge1xuICAgIGlmIChvYnNlcnZlcikge1xuICAgICAgICBvYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgfVxuICAgIGlmICh0eXBlID09PSAncmVzaXplJykge1xuICAgICAgICB1bmxpc3RlbkRldmljZVBpeGVsUmF0aW9DaGFuZ2VzKGNoYXJ0KTtcbiAgICB9XG59XG5mdW5jdGlvbiBjcmVhdGVQcm94eUFuZExpc3RlbihjaGFydCwgdHlwZSwgbGlzdGVuZXIpIHtcbiAgICBjb25zdCBjYW52YXMgPSBjaGFydC5jYW52YXM7XG4gICAgY29uc3QgcHJveHkgPSB0aHJvdHRsZWQoKGV2ZW50KT0+e1xuICAgICAgICBpZiAoY2hhcnQuY3R4ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBsaXN0ZW5lcihmcm9tTmF0aXZlRXZlbnQoZXZlbnQsIGNoYXJ0KSk7XG4gICAgICAgIH1cbiAgICB9LCBjaGFydCk7XG4gICAgYWRkTGlzdGVuZXIoY2FudmFzLCB0eXBlLCBwcm94eSk7XG4gICAgcmV0dXJuIHByb3h5O1xufVxuIGNsYXNzIERvbVBsYXRmb3JtIGV4dGVuZHMgQmFzZVBsYXRmb3JtIHtcbiBhY3F1aXJlQ29udGV4dChjYW52YXMsIGFzcGVjdFJhdGlvKSB7XG4gICAgICAgIGNvbnN0IGNvbnRleHQgPSBjYW52YXMgJiYgY2FudmFzLmdldENvbnRleHQgJiYgY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIGlmIChjb250ZXh0ICYmIGNvbnRleHQuY2FudmFzID09PSBjYW52YXMpIHtcbiAgICAgICAgICAgIGluaXRDYW52YXMoY2FudmFzLCBhc3BlY3RSYXRpbyk7XG4gICAgICAgICAgICByZXR1cm4gY29udGV4dDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gcmVsZWFzZUNvbnRleHQoY29udGV4dCkge1xuICAgICAgICBjb25zdCBjYW52YXMgPSBjb250ZXh0LmNhbnZhcztcbiAgICAgICAgaWYgKCFjYW52YXNbRVhQQU5ET19LRVldKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaW5pdGlhbCA9IGNhbnZhc1tFWFBBTkRPX0tFWV0uaW5pdGlhbDtcbiAgICAgICAgW1xuICAgICAgICAgICAgJ2hlaWdodCcsXG4gICAgICAgICAgICAnd2lkdGgnXG4gICAgICAgIF0uZm9yRWFjaCgocHJvcCk9PntcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gaW5pdGlhbFtwcm9wXTtcbiAgICAgICAgICAgIGlmIChpc051bGxPclVuZGVmKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGNhbnZhcy5yZW1vdmVBdHRyaWJ1dGUocHJvcCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNhbnZhcy5zZXRBdHRyaWJ1dGUocHJvcCwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSBpbml0aWFsLnN0eWxlIHx8IHt9O1xuICAgICAgICBPYmplY3Qua2V5cyhzdHlsZSkuZm9yRWFjaCgoa2V5KT0+e1xuICAgICAgICAgICAgY2FudmFzLnN0eWxlW2tleV0gPSBzdHlsZVtrZXldO1xuICAgICAgICB9KTtcbiAgICAgICAgY2FudmFzLndpZHRoID0gY2FudmFzLndpZHRoO1xuICAgICAgICBkZWxldGUgY2FudmFzW0VYUEFORE9fS0VZXTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuIGFkZEV2ZW50TGlzdGVuZXIoY2hhcnQsIHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihjaGFydCwgdHlwZSk7XG4gICAgICAgIGNvbnN0IHByb3hpZXMgPSBjaGFydC4kcHJveGllcyB8fCAoY2hhcnQuJHByb3hpZXMgPSB7fSk7XG4gICAgICAgIGNvbnN0IGhhbmRsZXJzID0ge1xuICAgICAgICAgICAgYXR0YWNoOiBjcmVhdGVBdHRhY2hPYnNlcnZlcixcbiAgICAgICAgICAgIGRldGFjaDogY3JlYXRlRGV0YWNoT2JzZXJ2ZXIsXG4gICAgICAgICAgICByZXNpemU6IGNyZWF0ZVJlc2l6ZU9ic2VydmVyXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGhhbmRsZXIgPSBoYW5kbGVyc1t0eXBlXSB8fCBjcmVhdGVQcm94eUFuZExpc3RlbjtcbiAgICAgICAgcHJveGllc1t0eXBlXSA9IGhhbmRsZXIoY2hhcnQsIHR5cGUsIGxpc3RlbmVyKTtcbiAgICB9XG4gcmVtb3ZlRXZlbnRMaXN0ZW5lcihjaGFydCwgdHlwZSkge1xuICAgICAgICBjb25zdCBwcm94aWVzID0gY2hhcnQuJHByb3hpZXMgfHwgKGNoYXJ0LiRwcm94aWVzID0ge30pO1xuICAgICAgICBjb25zdCBwcm94eSA9IHByb3hpZXNbdHlwZV07XG4gICAgICAgIGlmICghcHJveHkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBoYW5kbGVycyA9IHtcbiAgICAgICAgICAgIGF0dGFjaDogcmVsZWFzZU9ic2VydmVyLFxuICAgICAgICAgICAgZGV0YWNoOiByZWxlYXNlT2JzZXJ2ZXIsXG4gICAgICAgICAgICByZXNpemU6IHJlbGVhc2VPYnNlcnZlclxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBoYW5kbGVyID0gaGFuZGxlcnNbdHlwZV0gfHwgcmVtb3ZlTGlzdGVuZXI7XG4gICAgICAgIGhhbmRsZXIoY2hhcnQsIHR5cGUsIHByb3h5KTtcbiAgICAgICAgcHJveGllc1t0eXBlXSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgZ2V0RGV2aWNlUGl4ZWxSYXRpbygpIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xuICAgIH1cbiBnZXRNYXhpbXVtU2l6ZShjYW52YXMsIHdpZHRoLCBoZWlnaHQsIGFzcGVjdFJhdGlvKSB7XG4gICAgICAgIHJldHVybiBnZXRNYXhpbXVtU2l6ZShjYW52YXMsIHdpZHRoLCBoZWlnaHQsIGFzcGVjdFJhdGlvKTtcbiAgICB9XG4gaXNBdHRhY2hlZChjYW52YXMpIHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gY2FudmFzICYmIF9nZXRQYXJlbnROb2RlKGNhbnZhcyk7XG4gICAgICAgIHJldHVybiAhIShjb250YWluZXIgJiYgY29udGFpbmVyLmlzQ29ubmVjdGVkKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIF9kZXRlY3RQbGF0Zm9ybShjYW52YXMpIHtcbiAgICBpZiAoIV9pc0RvbVN1cHBvcnRlZCgpIHx8IHR5cGVvZiBPZmZzY3JlZW5DYW52YXMgIT09ICd1bmRlZmluZWQnICYmIGNhbnZhcyBpbnN0YW5jZW9mIE9mZnNjcmVlbkNhbnZhcykge1xuICAgICAgICByZXR1cm4gQmFzaWNQbGF0Zm9ybTtcbiAgICB9XG4gICAgcmV0dXJuIERvbVBsYXRmb3JtO1xufVxuXG5jbGFzcyBFbGVtZW50IHtcbiAgICBzdGF0aWMgZGVmYXVsdHMgPSB7fTtcbiAgICBzdGF0aWMgZGVmYXVsdFJvdXRlcyA9IHVuZGVmaW5lZDtcbiAgICB4O1xuICAgIHk7XG4gICAgYWN0aXZlID0gZmFsc2U7XG4gICAgb3B0aW9ucztcbiAgICAkYW5pbWF0aW9ucztcbiAgICB0b29sdGlwUG9zaXRpb24odXNlRmluYWxQb3NpdGlvbikge1xuICAgICAgICBjb25zdCB7IHggLCB5ICB9ID0gdGhpcy5nZXRQcm9wcyhbXG4gICAgICAgICAgICAneCcsXG4gICAgICAgICAgICAneSdcbiAgICAgICAgXSwgdXNlRmluYWxQb3NpdGlvbik7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4LFxuICAgICAgICAgICAgeVxuICAgICAgICB9O1xuICAgIH1cbiAgICBoYXNWYWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIGlzTnVtYmVyKHRoaXMueCkgJiYgaXNOdW1iZXIodGhpcy55KTtcbiAgICB9XG4gICAgZ2V0UHJvcHMocHJvcHMsIGZpbmFsKSB7XG4gICAgICAgIGNvbnN0IGFuaW1zID0gdGhpcy4kYW5pbWF0aW9ucztcbiAgICAgICAgaWYgKCFmaW5hbCB8fCAhYW5pbXMpIHtcbiAgICAgICAgICAgIC8vIGxldCdzIG5vdCBjcmVhdGUgYW4gb2JqZWN0LCBpZiBub3QgbmVlZGVkXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXQgPSB7fTtcbiAgICAgICAgcHJvcHMuZm9yRWFjaCgocHJvcCk9PntcbiAgICAgICAgICAgIHJldFtwcm9wXSA9IGFuaW1zW3Byb3BdICYmIGFuaW1zW3Byb3BdLmFjdGl2ZSgpID8gYW5pbXNbcHJvcF0uX3RvIDogdGhpc1twcm9wXTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBhdXRvU2tpcChzY2FsZSwgdGlja3MpIHtcbiAgICBjb25zdCB0aWNrT3B0cyA9IHNjYWxlLm9wdGlvbnMudGlja3M7XG4gICAgY29uc3QgZGV0ZXJtaW5lZE1heFRpY2tzID0gZGV0ZXJtaW5lTWF4VGlja3Moc2NhbGUpO1xuICAgIGNvbnN0IHRpY2tzTGltaXQgPSBNYXRoLm1pbih0aWNrT3B0cy5tYXhUaWNrc0xpbWl0IHx8IGRldGVybWluZWRNYXhUaWNrcywgZGV0ZXJtaW5lZE1heFRpY2tzKTtcbiAgICBjb25zdCBtYWpvckluZGljZXMgPSB0aWNrT3B0cy5tYWpvci5lbmFibGVkID8gZ2V0TWFqb3JJbmRpY2VzKHRpY2tzKSA6IFtdO1xuICAgIGNvbnN0IG51bU1ham9ySW5kaWNlcyA9IG1ham9ySW5kaWNlcy5sZW5ndGg7XG4gICAgY29uc3QgZmlyc3QgPSBtYWpvckluZGljZXNbMF07XG4gICAgY29uc3QgbGFzdCA9IG1ham9ySW5kaWNlc1tudW1NYWpvckluZGljZXMgLSAxXTtcbiAgICBjb25zdCBuZXdUaWNrcyA9IFtdO1xuICAgIGlmIChudW1NYWpvckluZGljZXMgPiB0aWNrc0xpbWl0KSB7XG4gICAgICAgIHNraXBNYWpvcnModGlja3MsIG5ld1RpY2tzLCBtYWpvckluZGljZXMsIG51bU1ham9ySW5kaWNlcyAvIHRpY2tzTGltaXQpO1xuICAgICAgICByZXR1cm4gbmV3VGlja3M7XG4gICAgfVxuICAgIGNvbnN0IHNwYWNpbmcgPSBjYWxjdWxhdGVTcGFjaW5nKG1ham9ySW5kaWNlcywgdGlja3MsIHRpY2tzTGltaXQpO1xuICAgIGlmIChudW1NYWpvckluZGljZXMgPiAwKSB7XG4gICAgICAgIGxldCBpLCBpbGVuO1xuICAgICAgICBjb25zdCBhdmdNYWpvclNwYWNpbmcgPSBudW1NYWpvckluZGljZXMgPiAxID8gTWF0aC5yb3VuZCgobGFzdCAtIGZpcnN0KSAvIChudW1NYWpvckluZGljZXMgLSAxKSkgOiBudWxsO1xuICAgICAgICBza2lwKHRpY2tzLCBuZXdUaWNrcywgc3BhY2luZywgaXNOdWxsT3JVbmRlZihhdmdNYWpvclNwYWNpbmcpID8gMCA6IGZpcnN0IC0gYXZnTWFqb3JTcGFjaW5nLCBmaXJzdCk7XG4gICAgICAgIGZvcihpID0gMCwgaWxlbiA9IG51bU1ham9ySW5kaWNlcyAtIDE7IGkgPCBpbGVuOyBpKyspe1xuICAgICAgICAgICAgc2tpcCh0aWNrcywgbmV3VGlja3MsIHNwYWNpbmcsIG1ham9ySW5kaWNlc1tpXSwgbWFqb3JJbmRpY2VzW2kgKyAxXSk7XG4gICAgICAgIH1cbiAgICAgICAgc2tpcCh0aWNrcywgbmV3VGlja3MsIHNwYWNpbmcsIGxhc3QsIGlzTnVsbE9yVW5kZWYoYXZnTWFqb3JTcGFjaW5nKSA/IHRpY2tzLmxlbmd0aCA6IGxhc3QgKyBhdmdNYWpvclNwYWNpbmcpO1xuICAgICAgICByZXR1cm4gbmV3VGlja3M7XG4gICAgfVxuICAgIHNraXAodGlja3MsIG5ld1RpY2tzLCBzcGFjaW5nKTtcbiAgICByZXR1cm4gbmV3VGlja3M7XG59XG5mdW5jdGlvbiBkZXRlcm1pbmVNYXhUaWNrcyhzY2FsZSkge1xuICAgIGNvbnN0IG9mZnNldCA9IHNjYWxlLm9wdGlvbnMub2Zmc2V0O1xuICAgIGNvbnN0IHRpY2tMZW5ndGggPSBzY2FsZS5fdGlja1NpemUoKTtcbiAgICBjb25zdCBtYXhTY2FsZSA9IHNjYWxlLl9sZW5ndGggLyB0aWNrTGVuZ3RoICsgKG9mZnNldCA/IDAgOiAxKTtcbiAgICBjb25zdCBtYXhDaGFydCA9IHNjYWxlLl9tYXhMZW5ndGggLyB0aWNrTGVuZ3RoO1xuICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgubWluKG1heFNjYWxlLCBtYXhDaGFydCkpO1xufVxuIGZ1bmN0aW9uIGNhbGN1bGF0ZVNwYWNpbmcobWFqb3JJbmRpY2VzLCB0aWNrcywgdGlja3NMaW1pdCkge1xuICAgIGNvbnN0IGV2ZW5NYWpvclNwYWNpbmcgPSBnZXRFdmVuU3BhY2luZyhtYWpvckluZGljZXMpO1xuICAgIGNvbnN0IHNwYWNpbmcgPSB0aWNrcy5sZW5ndGggLyB0aWNrc0xpbWl0O1xuICAgIGlmICghZXZlbk1ham9yU3BhY2luZykge1xuICAgICAgICByZXR1cm4gTWF0aC5tYXgoc3BhY2luZywgMSk7XG4gICAgfVxuICAgIGNvbnN0IGZhY3RvcnMgPSBfZmFjdG9yaXplKGV2ZW5NYWpvclNwYWNpbmcpO1xuICAgIGZvcihsZXQgaSA9IDAsIGlsZW4gPSBmYWN0b3JzLmxlbmd0aCAtIDE7IGkgPCBpbGVuOyBpKyspe1xuICAgICAgICBjb25zdCBmYWN0b3IgPSBmYWN0b3JzW2ldO1xuICAgICAgICBpZiAoZmFjdG9yID4gc3BhY2luZykge1xuICAgICAgICAgICAgcmV0dXJuIGZhY3RvcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gTWF0aC5tYXgoc3BhY2luZywgMSk7XG59XG4gZnVuY3Rpb24gZ2V0TWFqb3JJbmRpY2VzKHRpY2tzKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgbGV0IGksIGlsZW47XG4gICAgZm9yKGkgPSAwLCBpbGVuID0gdGlja3MubGVuZ3RoOyBpIDwgaWxlbjsgaSsrKXtcbiAgICAgICAgaWYgKHRpY2tzW2ldLm1ham9yKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuIGZ1bmN0aW9uIHNraXBNYWpvcnModGlja3MsIG5ld1RpY2tzLCBtYWpvckluZGljZXMsIHNwYWNpbmcpIHtcbiAgICBsZXQgY291bnQgPSAwO1xuICAgIGxldCBuZXh0ID0gbWFqb3JJbmRpY2VzWzBdO1xuICAgIGxldCBpO1xuICAgIHNwYWNpbmcgPSBNYXRoLmNlaWwoc3BhY2luZyk7XG4gICAgZm9yKGkgPSAwOyBpIDwgdGlja3MubGVuZ3RoOyBpKyspe1xuICAgICAgICBpZiAoaSA9PT0gbmV4dCkge1xuICAgICAgICAgICAgbmV3VGlja3MucHVzaCh0aWNrc1tpXSk7XG4gICAgICAgICAgICBjb3VudCsrO1xuICAgICAgICAgICAgbmV4dCA9IG1ham9ySW5kaWNlc1tjb3VudCAqIHNwYWNpbmddO1xuICAgICAgICB9XG4gICAgfVxufVxuIGZ1bmN0aW9uIHNraXAodGlja3MsIG5ld1RpY2tzLCBzcGFjaW5nLCBtYWpvclN0YXJ0LCBtYWpvckVuZCkge1xuICAgIGNvbnN0IHN0YXJ0ID0gdmFsdWVPckRlZmF1bHQobWFqb3JTdGFydCwgMCk7XG4gICAgY29uc3QgZW5kID0gTWF0aC5taW4odmFsdWVPckRlZmF1bHQobWFqb3JFbmQsIHRpY2tzLmxlbmd0aCksIHRpY2tzLmxlbmd0aCk7XG4gICAgbGV0IGNvdW50ID0gMDtcbiAgICBsZXQgbGVuZ3RoLCBpLCBuZXh0O1xuICAgIHNwYWNpbmcgPSBNYXRoLmNlaWwoc3BhY2luZyk7XG4gICAgaWYgKG1ham9yRW5kKSB7XG4gICAgICAgIGxlbmd0aCA9IG1ham9yRW5kIC0gbWFqb3JTdGFydDtcbiAgICAgICAgc3BhY2luZyA9IGxlbmd0aCAvIE1hdGguZmxvb3IobGVuZ3RoIC8gc3BhY2luZyk7XG4gICAgfVxuICAgIG5leHQgPSBzdGFydDtcbiAgICB3aGlsZShuZXh0IDwgMCl7XG4gICAgICAgIGNvdW50Kys7XG4gICAgICAgIG5leHQgPSBNYXRoLnJvdW5kKHN0YXJ0ICsgY291bnQgKiBzcGFjaW5nKTtcbiAgICB9XG4gICAgZm9yKGkgPSBNYXRoLm1heChzdGFydCwgMCk7IGkgPCBlbmQ7IGkrKyl7XG4gICAgICAgIGlmIChpID09PSBuZXh0KSB7XG4gICAgICAgICAgICBuZXdUaWNrcy5wdXNoKHRpY2tzW2ldKTtcbiAgICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgICAgICBuZXh0ID0gTWF0aC5yb3VuZChzdGFydCArIGNvdW50ICogc3BhY2luZyk7XG4gICAgICAgIH1cbiAgICB9XG59XG4gZnVuY3Rpb24gZ2V0RXZlblNwYWNpbmcoYXJyKSB7XG4gICAgY29uc3QgbGVuID0gYXJyLmxlbmd0aDtcbiAgICBsZXQgaSwgZGlmZjtcbiAgICBpZiAobGVuIDwgMikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZvcihkaWZmID0gYXJyWzBdLCBpID0gMTsgaSA8IGxlbjsgKytpKXtcbiAgICAgICAgaWYgKGFycltpXSAtIGFycltpIC0gMV0gIT09IGRpZmYpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZGlmZjtcbn1cblxuY29uc3QgcmV2ZXJzZUFsaWduID0gKGFsaWduKT0+YWxpZ24gPT09ICdsZWZ0JyA/ICdyaWdodCcgOiBhbGlnbiA9PT0gJ3JpZ2h0JyA/ICdsZWZ0JyA6IGFsaWduO1xuY29uc3Qgb2Zmc2V0RnJvbUVkZ2UgPSAoc2NhbGUsIGVkZ2UsIG9mZnNldCk9PmVkZ2UgPT09ICd0b3AnIHx8IGVkZ2UgPT09ICdsZWZ0JyA/IHNjYWxlW2VkZ2VdICsgb2Zmc2V0IDogc2NhbGVbZWRnZV0gLSBvZmZzZXQ7XG5jb25zdCBnZXRUaWNrc0xpbWl0ID0gKHRpY2tzTGVuZ3RoLCBtYXhUaWNrc0xpbWl0KT0+TWF0aC5taW4obWF4VGlja3NMaW1pdCB8fCB0aWNrc0xlbmd0aCwgdGlja3NMZW5ndGgpO1xuIGZ1bmN0aW9uIHNhbXBsZShhcnIsIG51bUl0ZW1zKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgY29uc3QgaW5jcmVtZW50ID0gYXJyLmxlbmd0aCAvIG51bUl0ZW1zO1xuICAgIGNvbnN0IGxlbiA9IGFyci5sZW5ndGg7XG4gICAgbGV0IGkgPSAwO1xuICAgIGZvcig7IGkgPCBsZW47IGkgKz0gaW5jcmVtZW50KXtcbiAgICAgICAgcmVzdWx0LnB1c2goYXJyW01hdGguZmxvb3IoaSldKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbiBmdW5jdGlvbiBnZXRQaXhlbEZvckdyaWRMaW5lKHNjYWxlLCBpbmRleCwgb2Zmc2V0R3JpZExpbmVzKSB7XG4gICAgY29uc3QgbGVuZ3RoID0gc2NhbGUudGlja3MubGVuZ3RoO1xuICAgIGNvbnN0IHZhbGlkSW5kZXggPSBNYXRoLm1pbihpbmRleCwgbGVuZ3RoIC0gMSk7XG4gICAgY29uc3Qgc3RhcnQgPSBzY2FsZS5fc3RhcnRQaXhlbDtcbiAgICBjb25zdCBlbmQgPSBzY2FsZS5fZW5kUGl4ZWw7XG4gICAgY29uc3QgZXBzaWxvbiA9IDFlLTY7XG4gICAgbGV0IGxpbmVWYWx1ZSA9IHNjYWxlLmdldFBpeGVsRm9yVGljayh2YWxpZEluZGV4KTtcbiAgICBsZXQgb2Zmc2V0O1xuICAgIGlmIChvZmZzZXRHcmlkTGluZXMpIHtcbiAgICAgICAgaWYgKGxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgb2Zmc2V0ID0gTWF0aC5tYXgobGluZVZhbHVlIC0gc3RhcnQsIGVuZCAtIGxpbmVWYWx1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgICAgICAgIG9mZnNldCA9IChzY2FsZS5nZXRQaXhlbEZvclRpY2soMSkgLSBsaW5lVmFsdWUpIC8gMjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9mZnNldCA9IChsaW5lVmFsdWUgLSBzY2FsZS5nZXRQaXhlbEZvclRpY2sodmFsaWRJbmRleCAtIDEpKSAvIDI7XG4gICAgICAgIH1cbiAgICAgICAgbGluZVZhbHVlICs9IHZhbGlkSW5kZXggPCBpbmRleCA/IG9mZnNldCA6IC1vZmZzZXQ7XG4gICAgICAgIGlmIChsaW5lVmFsdWUgPCBzdGFydCAtIGVwc2lsb24gfHwgbGluZVZhbHVlID4gZW5kICsgZXBzaWxvbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBsaW5lVmFsdWU7XG59XG4gZnVuY3Rpb24gZ2FyYmFnZUNvbGxlY3QoY2FjaGVzLCBsZW5ndGgpIHtcbiAgICBlYWNoKGNhY2hlcywgKGNhY2hlKT0+e1xuICAgICAgICBjb25zdCBnYyA9IGNhY2hlLmdjO1xuICAgICAgICBjb25zdCBnY0xlbiA9IGdjLmxlbmd0aCAvIDI7XG4gICAgICAgIGxldCBpO1xuICAgICAgICBpZiAoZ2NMZW4gPiBsZW5ndGgpIHtcbiAgICAgICAgICAgIGZvcihpID0gMDsgaSA8IGdjTGVuOyArK2kpe1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBjYWNoZS5kYXRhW2djW2ldXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGdjLnNwbGljZSgwLCBnY0xlbik7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbiBmdW5jdGlvbiBnZXRUaWNrTWFya0xlbmd0aChvcHRpb25zKSB7XG4gICAgcmV0dXJuIG9wdGlvbnMuZHJhd1RpY2tzID8gb3B0aW9ucy50aWNrTGVuZ3RoIDogMDtcbn1cbiBmdW5jdGlvbiBnZXRUaXRsZUhlaWdodChvcHRpb25zLCBmYWxsYmFjaykge1xuICAgIGlmICghb3B0aW9ucy5kaXNwbGF5KSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBjb25zdCBmb250ID0gdG9Gb250KG9wdGlvbnMuZm9udCwgZmFsbGJhY2spO1xuICAgIGNvbnN0IHBhZGRpbmcgPSB0b1BhZGRpbmcob3B0aW9ucy5wYWRkaW5nKTtcbiAgICBjb25zdCBsaW5lcyA9IGlzQXJyYXkob3B0aW9ucy50ZXh0KSA/IG9wdGlvbnMudGV4dC5sZW5ndGggOiAxO1xuICAgIHJldHVybiBsaW5lcyAqIGZvbnQubGluZUhlaWdodCArIHBhZGRpbmcuaGVpZ2h0O1xufVxuZnVuY3Rpb24gY3JlYXRlU2NhbGVDb250ZXh0KHBhcmVudCwgc2NhbGUpIHtcbiAgICByZXR1cm4gY3JlYXRlQ29udGV4dChwYXJlbnQsIHtcbiAgICAgICAgc2NhbGUsXG4gICAgICAgIHR5cGU6ICdzY2FsZSdcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVRpY2tDb250ZXh0KHBhcmVudCwgaW5kZXgsIHRpY2spIHtcbiAgICByZXR1cm4gY3JlYXRlQ29udGV4dChwYXJlbnQsIHtcbiAgICAgICAgdGljayxcbiAgICAgICAgaW5kZXgsXG4gICAgICAgIHR5cGU6ICd0aWNrJ1xuICAgIH0pO1xufVxuZnVuY3Rpb24gdGl0bGVBbGlnbihhbGlnbiwgcG9zaXRpb24sIHJldmVyc2UpIHtcbiAgICAgbGV0IHJldCA9IF90b0xlZnRSaWdodENlbnRlcihhbGlnbik7XG4gICAgaWYgKHJldmVyc2UgJiYgcG9zaXRpb24gIT09ICdyaWdodCcgfHwgIXJldmVyc2UgJiYgcG9zaXRpb24gPT09ICdyaWdodCcpIHtcbiAgICAgICAgcmV0ID0gcmV2ZXJzZUFsaWduKHJldCk7XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG59XG5mdW5jdGlvbiB0aXRsZUFyZ3Moc2NhbGUsIG9mZnNldCwgcG9zaXRpb24sIGFsaWduKSB7XG4gICAgY29uc3QgeyB0b3AgLCBsZWZ0ICwgYm90dG9tICwgcmlnaHQgLCBjaGFydCAgfSA9IHNjYWxlO1xuICAgIGNvbnN0IHsgY2hhcnRBcmVhICwgc2NhbGVzICB9ID0gY2hhcnQ7XG4gICAgbGV0IHJvdGF0aW9uID0gMDtcbiAgICBsZXQgbWF4V2lkdGgsIHRpdGxlWCwgdGl0bGVZO1xuICAgIGNvbnN0IGhlaWdodCA9IGJvdHRvbSAtIHRvcDtcbiAgICBjb25zdCB3aWR0aCA9IHJpZ2h0IC0gbGVmdDtcbiAgICBpZiAoc2NhbGUuaXNIb3Jpem9udGFsKCkpIHtcbiAgICAgICAgdGl0bGVYID0gX2FsaWduU3RhcnRFbmQoYWxpZ24sIGxlZnQsIHJpZ2h0KTtcbiAgICAgICAgaWYgKGlzT2JqZWN0KHBvc2l0aW9uKSkge1xuICAgICAgICAgICAgY29uc3QgcG9zaXRpb25BeGlzSUQgPSBPYmplY3Qua2V5cyhwb3NpdGlvbilbMF07XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHBvc2l0aW9uW3Bvc2l0aW9uQXhpc0lEXTtcbiAgICAgICAgICAgIHRpdGxlWSA9IHNjYWxlc1twb3NpdGlvbkF4aXNJRF0uZ2V0UGl4ZWxGb3JWYWx1ZSh2YWx1ZSkgKyBoZWlnaHQgLSBvZmZzZXQ7XG4gICAgICAgIH0gZWxzZSBpZiAocG9zaXRpb24gPT09ICdjZW50ZXInKSB7XG4gICAgICAgICAgICB0aXRsZVkgPSAoY2hhcnRBcmVhLmJvdHRvbSArIGNoYXJ0QXJlYS50b3ApIC8gMiArIGhlaWdodCAtIG9mZnNldDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRpdGxlWSA9IG9mZnNldEZyb21FZGdlKHNjYWxlLCBwb3NpdGlvbiwgb2Zmc2V0KTtcbiAgICAgICAgfVxuICAgICAgICBtYXhXaWR0aCA9IHJpZ2h0IC0gbGVmdDtcbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoaXNPYmplY3QocG9zaXRpb24pKSB7XG4gICAgICAgICAgICBjb25zdCBwb3NpdGlvbkF4aXNJRCA9IE9iamVjdC5rZXlzKHBvc2l0aW9uKVswXTtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gcG9zaXRpb25bcG9zaXRpb25BeGlzSURdO1xuICAgICAgICAgICAgdGl0bGVYID0gc2NhbGVzW3Bvc2l0aW9uQXhpc0lEXS5nZXRQaXhlbEZvclZhbHVlKHZhbHVlKSAtIHdpZHRoICsgb2Zmc2V0O1xuICAgICAgICB9IGVsc2UgaWYgKHBvc2l0aW9uID09PSAnY2VudGVyJykge1xuICAgICAgICAgICAgdGl0bGVYID0gKGNoYXJ0QXJlYS5sZWZ0ICsgY2hhcnRBcmVhLnJpZ2h0KSAvIDIgLSB3aWR0aCArIG9mZnNldDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRpdGxlWCA9IG9mZnNldEZyb21FZGdlKHNjYWxlLCBwb3NpdGlvbiwgb2Zmc2V0KTtcbiAgICAgICAgfVxuICAgICAgICB0aXRsZVkgPSBfYWxpZ25TdGFydEVuZChhbGlnbiwgYm90dG9tLCB0b3ApO1xuICAgICAgICByb3RhdGlvbiA9IHBvc2l0aW9uID09PSAnbGVmdCcgPyAtSEFMRl9QSSA6IEhBTEZfUEk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHRpdGxlWCxcbiAgICAgICAgdGl0bGVZLFxuICAgICAgICBtYXhXaWR0aCxcbiAgICAgICAgcm90YXRpb25cbiAgICB9O1xufVxuY2xhc3MgU2NhbGUgZXh0ZW5kcyBFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3RvcihjZmcpe1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICAgdGhpcy5pZCA9IGNmZy5pZDtcbiAgICAgICAgIHRoaXMudHlwZSA9IGNmZy50eXBlO1xuICAgICAgICAgdGhpcy5vcHRpb25zID0gdW5kZWZpbmVkO1xuICAgICAgICAgdGhpcy5jdHggPSBjZmcuY3R4O1xuICAgICAgICAgdGhpcy5jaGFydCA9IGNmZy5jaGFydDtcbiAgICAgICAgIHRoaXMudG9wID0gdW5kZWZpbmVkO1xuICAgICAgICAgdGhpcy5ib3R0b20gPSB1bmRlZmluZWQ7XG4gICAgICAgICB0aGlzLmxlZnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICB0aGlzLnJpZ2h0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgdGhpcy53aWR0aCA9IHVuZGVmaW5lZDtcbiAgICAgICAgIHRoaXMuaGVpZ2h0ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9tYXJnaW5zID0ge1xuICAgICAgICAgICAgbGVmdDogMCxcbiAgICAgICAgICAgIHJpZ2h0OiAwLFxuICAgICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgICAgYm90dG9tOiAwXG4gICAgICAgIH07XG4gICAgICAgICB0aGlzLm1heFdpZHRoID0gdW5kZWZpbmVkO1xuICAgICAgICAgdGhpcy5tYXhIZWlnaHQgPSB1bmRlZmluZWQ7XG4gICAgICAgICB0aGlzLnBhZGRpbmdUb3AgPSB1bmRlZmluZWQ7XG4gICAgICAgICB0aGlzLnBhZGRpbmdCb3R0b20gPSB1bmRlZmluZWQ7XG4gICAgICAgICB0aGlzLnBhZGRpbmdMZWZ0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgdGhpcy5wYWRkaW5nUmlnaHQgPSB1bmRlZmluZWQ7XG4gICAgICAgICB0aGlzLmF4aXMgPSB1bmRlZmluZWQ7XG4gICAgICAgICB0aGlzLmxhYmVsUm90YXRpb24gPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMubWluID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLm1heCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fcmFuZ2UgPSB1bmRlZmluZWQ7XG4gICAgICAgICB0aGlzLnRpY2tzID0gW107XG4gICAgICAgICB0aGlzLl9ncmlkTGluZUl0ZW1zID0gbnVsbDtcbiAgICAgICAgIHRoaXMuX2xhYmVsSXRlbXMgPSBudWxsO1xuICAgICAgICAgdGhpcy5fbGFiZWxTaXplcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2xlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuX21heExlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuX2xvbmdlc3RUZXh0Q2FjaGUgPSB7fTtcbiAgICAgICAgIHRoaXMuX3N0YXJ0UGl4ZWwgPSB1bmRlZmluZWQ7XG4gICAgICAgICB0aGlzLl9lbmRQaXhlbCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fcmV2ZXJzZVBpeGVscyA9IGZhbHNlO1xuICAgICAgICB0aGlzLl91c2VyTWF4ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl91c2VyTWluID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9zdWdnZXN0ZWRNYXggPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX3N1Z2dlc3RlZE1pbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fdGlja3NMZW5ndGggPSAwO1xuICAgICAgICB0aGlzLl9ib3JkZXJWYWx1ZSA9IDA7XG4gICAgICAgIHRoaXMuX2NhY2hlID0ge307XG4gICAgICAgIHRoaXMuX2RhdGFMaW1pdHNDYWNoZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy4kY29udGV4dCA9IHVuZGVmaW5lZDtcbiAgICB9XG4gaW5pdChvcHRpb25zKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMuc2V0Q29udGV4dCh0aGlzLmdldENvbnRleHQoKSk7XG4gICAgICAgIHRoaXMuYXhpcyA9IG9wdGlvbnMuYXhpcztcbiAgICAgICAgdGhpcy5fdXNlck1pbiA9IHRoaXMucGFyc2Uob3B0aW9ucy5taW4pO1xuICAgICAgICB0aGlzLl91c2VyTWF4ID0gdGhpcy5wYXJzZShvcHRpb25zLm1heCk7XG4gICAgICAgIHRoaXMuX3N1Z2dlc3RlZE1pbiA9IHRoaXMucGFyc2Uob3B0aW9ucy5zdWdnZXN0ZWRNaW4pO1xuICAgICAgICB0aGlzLl9zdWdnZXN0ZWRNYXggPSB0aGlzLnBhcnNlKG9wdGlvbnMuc3VnZ2VzdGVkTWF4KTtcbiAgICB9XG4gcGFyc2UocmF3LCBpbmRleCkge1xuICAgICAgICByZXR1cm4gcmF3O1xuICAgIH1cbiBnZXRVc2VyQm91bmRzKCkge1xuICAgICAgICBsZXQgeyBfdXNlck1pbiAsIF91c2VyTWF4ICwgX3N1Z2dlc3RlZE1pbiAsIF9zdWdnZXN0ZWRNYXggIH0gPSB0aGlzO1xuICAgICAgICBfdXNlck1pbiA9IGZpbml0ZU9yRGVmYXVsdChfdXNlck1pbiwgTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKTtcbiAgICAgICAgX3VzZXJNYXggPSBmaW5pdGVPckRlZmF1bHQoX3VzZXJNYXgsIE51bWJlci5ORUdBVElWRV9JTkZJTklUWSk7XG4gICAgICAgIF9zdWdnZXN0ZWRNaW4gPSBmaW5pdGVPckRlZmF1bHQoX3N1Z2dlc3RlZE1pbiwgTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKTtcbiAgICAgICAgX3N1Z2dlc3RlZE1heCA9IGZpbml0ZU9yRGVmYXVsdChfc3VnZ2VzdGVkTWF4LCBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWluOiBmaW5pdGVPckRlZmF1bHQoX3VzZXJNaW4sIF9zdWdnZXN0ZWRNaW4pLFxuICAgICAgICAgICAgbWF4OiBmaW5pdGVPckRlZmF1bHQoX3VzZXJNYXgsIF9zdWdnZXN0ZWRNYXgpLFxuICAgICAgICAgICAgbWluRGVmaW5lZDogaXNOdW1iZXJGaW5pdGUoX3VzZXJNaW4pLFxuICAgICAgICAgICAgbWF4RGVmaW5lZDogaXNOdW1iZXJGaW5pdGUoX3VzZXJNYXgpXG4gICAgICAgIH07XG4gICAgfVxuIGdldE1pbk1heChjYW5TdGFjaykge1xuICAgICAgICBsZXQgeyBtaW4gLCBtYXggLCBtaW5EZWZpbmVkICwgbWF4RGVmaW5lZCAgfSA9IHRoaXMuZ2V0VXNlckJvdW5kcygpO1xuICAgICAgICBsZXQgcmFuZ2U7XG4gICAgICAgIGlmIChtaW5EZWZpbmVkICYmIG1heERlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbWluLFxuICAgICAgICAgICAgICAgIG1heFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtZXRhcyA9IHRoaXMuZ2V0TWF0Y2hpbmdWaXNpYmxlTWV0YXMoKTtcbiAgICAgICAgZm9yKGxldCBpID0gMCwgaWxlbiA9IG1ldGFzLmxlbmd0aDsgaSA8IGlsZW47ICsraSl7XG4gICAgICAgICAgICByYW5nZSA9IG1ldGFzW2ldLmNvbnRyb2xsZXIuZ2V0TWluTWF4KHRoaXMsIGNhblN0YWNrKTtcbiAgICAgICAgICAgIGlmICghbWluRGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIG1pbiA9IE1hdGgubWluKG1pbiwgcmFuZ2UubWluKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghbWF4RGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIG1heCA9IE1hdGgubWF4KG1heCwgcmFuZ2UubWF4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBtaW4gPSBtYXhEZWZpbmVkICYmIG1pbiA+IG1heCA/IG1heCA6IG1pbjtcbiAgICAgICAgbWF4ID0gbWluRGVmaW5lZCAmJiBtaW4gPiBtYXggPyBtaW4gOiBtYXg7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtaW46IGZpbml0ZU9yRGVmYXVsdChtaW4sIGZpbml0ZU9yRGVmYXVsdChtYXgsIG1pbikpLFxuICAgICAgICAgICAgbWF4OiBmaW5pdGVPckRlZmF1bHQobWF4LCBmaW5pdGVPckRlZmF1bHQobWluLCBtYXgpKVxuICAgICAgICB9O1xuICAgIH1cbiBnZXRQYWRkaW5nKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbGVmdDogdGhpcy5wYWRkaW5nTGVmdCB8fCAwLFxuICAgICAgICAgICAgdG9wOiB0aGlzLnBhZGRpbmdUb3AgfHwgMCxcbiAgICAgICAgICAgIHJpZ2h0OiB0aGlzLnBhZGRpbmdSaWdodCB8fCAwLFxuICAgICAgICAgICAgYm90dG9tOiB0aGlzLnBhZGRpbmdCb3R0b20gfHwgMFxuICAgICAgICB9O1xuICAgIH1cbiBnZXRUaWNrcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGlja3M7XG4gICAgfVxuIGdldExhYmVscygpIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMuY2hhcnQuZGF0YTtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5sYWJlbHMgfHwgKHRoaXMuaXNIb3Jpem9udGFsKCkgPyBkYXRhLnhMYWJlbHMgOiBkYXRhLnlMYWJlbHMpIHx8IGRhdGEubGFiZWxzIHx8IFtdO1xuICAgIH1cbiBnZXRMYWJlbEl0ZW1zKGNoYXJ0QXJlYSA9IHRoaXMuY2hhcnQuY2hhcnRBcmVhKSB7XG4gICAgICAgIGNvbnN0IGl0ZW1zID0gdGhpcy5fbGFiZWxJdGVtcyB8fCAodGhpcy5fbGFiZWxJdGVtcyA9IHRoaXMuX2NvbXB1dGVMYWJlbEl0ZW1zKGNoYXJ0QXJlYSkpO1xuICAgICAgICByZXR1cm4gaXRlbXM7XG4gICAgfVxuICAgIGJlZm9yZUxheW91dCgpIHtcbiAgICAgICAgdGhpcy5fY2FjaGUgPSB7fTtcbiAgICAgICAgdGhpcy5fZGF0YUxpbWl0c0NhY2hlZCA9IGZhbHNlO1xuICAgIH1cbiAgICBiZWZvcmVVcGRhdGUoKSB7XG4gICAgICAgIGNhbGxiYWNrKHRoaXMub3B0aW9ucy5iZWZvcmVVcGRhdGUsIFtcbiAgICAgICAgICAgIHRoaXNcbiAgICAgICAgXSk7XG4gICAgfVxuIHVwZGF0ZShtYXhXaWR0aCwgbWF4SGVpZ2h0LCBtYXJnaW5zKSB7XG4gICAgICAgIGNvbnN0IHsgYmVnaW5BdFplcm8gLCBncmFjZSAsIHRpY2tzOiB0aWNrT3B0cyAgfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3Qgc2FtcGxlU2l6ZSA9IHRpY2tPcHRzLnNhbXBsZVNpemU7XG4gICAgICAgIHRoaXMuYmVmb3JlVXBkYXRlKCk7XG4gICAgICAgIHRoaXMubWF4V2lkdGggPSBtYXhXaWR0aDtcbiAgICAgICAgdGhpcy5tYXhIZWlnaHQgPSBtYXhIZWlnaHQ7XG4gICAgICAgIHRoaXMuX21hcmdpbnMgPSBtYXJnaW5zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICBsZWZ0OiAwLFxuICAgICAgICAgICAgcmlnaHQ6IDAsXG4gICAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgICBib3R0b206IDBcbiAgICAgICAgfSwgbWFyZ2lucyk7XG4gICAgICAgIHRoaXMudGlja3MgPSBudWxsO1xuICAgICAgICB0aGlzLl9sYWJlbFNpemVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fZ3JpZExpbmVJdGVtcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2xhYmVsSXRlbXMgPSBudWxsO1xuICAgICAgICB0aGlzLmJlZm9yZVNldERpbWVuc2lvbnMoKTtcbiAgICAgICAgdGhpcy5zZXREaW1lbnNpb25zKCk7XG4gICAgICAgIHRoaXMuYWZ0ZXJTZXREaW1lbnNpb25zKCk7XG4gICAgICAgIHRoaXMuX21heExlbmd0aCA9IHRoaXMuaXNIb3Jpem9udGFsKCkgPyB0aGlzLndpZHRoICsgbWFyZ2lucy5sZWZ0ICsgbWFyZ2lucy5yaWdodCA6IHRoaXMuaGVpZ2h0ICsgbWFyZ2lucy50b3AgKyBtYXJnaW5zLmJvdHRvbTtcbiAgICAgICAgaWYgKCF0aGlzLl9kYXRhTGltaXRzQ2FjaGVkKSB7XG4gICAgICAgICAgICB0aGlzLmJlZm9yZURhdGFMaW1pdHMoKTtcbiAgICAgICAgICAgIHRoaXMuZGV0ZXJtaW5lRGF0YUxpbWl0cygpO1xuICAgICAgICAgICAgdGhpcy5hZnRlckRhdGFMaW1pdHMoKTtcbiAgICAgICAgICAgIHRoaXMuX3JhbmdlID0gX2FkZEdyYWNlKHRoaXMsIGdyYWNlLCBiZWdpbkF0WmVybyk7XG4gICAgICAgICAgICB0aGlzLl9kYXRhTGltaXRzQ2FjaGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJlZm9yZUJ1aWxkVGlja3MoKTtcbiAgICAgICAgdGhpcy50aWNrcyA9IHRoaXMuYnVpbGRUaWNrcygpIHx8IFtdO1xuICAgICAgICB0aGlzLmFmdGVyQnVpbGRUaWNrcygpO1xuICAgICAgICBjb25zdCBzYW1wbGluZ0VuYWJsZWQgPSBzYW1wbGVTaXplIDwgdGhpcy50aWNrcy5sZW5ndGg7XG4gICAgICAgIHRoaXMuX2NvbnZlcnRUaWNrc1RvTGFiZWxzKHNhbXBsaW5nRW5hYmxlZCA/IHNhbXBsZSh0aGlzLnRpY2tzLCBzYW1wbGVTaXplKSA6IHRoaXMudGlja3MpO1xuICAgICAgICB0aGlzLmNvbmZpZ3VyZSgpO1xuICAgICAgICB0aGlzLmJlZm9yZUNhbGN1bGF0ZUxhYmVsUm90YXRpb24oKTtcbiAgICAgICAgdGhpcy5jYWxjdWxhdGVMYWJlbFJvdGF0aW9uKCk7XG4gICAgICAgIHRoaXMuYWZ0ZXJDYWxjdWxhdGVMYWJlbFJvdGF0aW9uKCk7XG4gICAgICAgIGlmICh0aWNrT3B0cy5kaXNwbGF5ICYmICh0aWNrT3B0cy5hdXRvU2tpcCB8fCB0aWNrT3B0cy5zb3VyY2UgPT09ICdhdXRvJykpIHtcbiAgICAgICAgICAgIHRoaXMudGlja3MgPSBhdXRvU2tpcCh0aGlzLCB0aGlzLnRpY2tzKTtcbiAgICAgICAgICAgIHRoaXMuX2xhYmVsU2l6ZXMgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5hZnRlckF1dG9Ta2lwKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNhbXBsaW5nRW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy5fY29udmVydFRpY2tzVG9MYWJlbHModGhpcy50aWNrcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5iZWZvcmVGaXQoKTtcbiAgICAgICAgdGhpcy5maXQoKTtcbiAgICAgICAgdGhpcy5hZnRlckZpdCgpO1xuICAgICAgICB0aGlzLmFmdGVyVXBkYXRlKCk7XG4gICAgfVxuIGNvbmZpZ3VyZSgpIHtcbiAgICAgICAgbGV0IHJldmVyc2VQaXhlbHMgPSB0aGlzLm9wdGlvbnMucmV2ZXJzZTtcbiAgICAgICAgbGV0IHN0YXJ0UGl4ZWwsIGVuZFBpeGVsO1xuICAgICAgICBpZiAodGhpcy5pc0hvcml6b250YWwoKSkge1xuICAgICAgICAgICAgc3RhcnRQaXhlbCA9IHRoaXMubGVmdDtcbiAgICAgICAgICAgIGVuZFBpeGVsID0gdGhpcy5yaWdodDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0YXJ0UGl4ZWwgPSB0aGlzLnRvcDtcbiAgICAgICAgICAgIGVuZFBpeGVsID0gdGhpcy5ib3R0b207XG4gICAgICAgICAgICByZXZlcnNlUGl4ZWxzID0gIXJldmVyc2VQaXhlbHM7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc3RhcnRQaXhlbCA9IHN0YXJ0UGl4ZWw7XG4gICAgICAgIHRoaXMuX2VuZFBpeGVsID0gZW5kUGl4ZWw7XG4gICAgICAgIHRoaXMuX3JldmVyc2VQaXhlbHMgPSByZXZlcnNlUGl4ZWxzO1xuICAgICAgICB0aGlzLl9sZW5ndGggPSBlbmRQaXhlbCAtIHN0YXJ0UGl4ZWw7XG4gICAgICAgIHRoaXMuX2FsaWduVG9QaXhlbHMgPSB0aGlzLm9wdGlvbnMuYWxpZ25Ub1BpeGVscztcbiAgICB9XG4gICAgYWZ0ZXJVcGRhdGUoKSB7XG4gICAgICAgIGNhbGxiYWNrKHRoaXMub3B0aW9ucy5hZnRlclVwZGF0ZSwgW1xuICAgICAgICAgICAgdGhpc1xuICAgICAgICBdKTtcbiAgICB9XG4gICAgYmVmb3JlU2V0RGltZW5zaW9ucygpIHtcbiAgICAgICAgY2FsbGJhY2sodGhpcy5vcHRpb25zLmJlZm9yZVNldERpbWVuc2lvbnMsIFtcbiAgICAgICAgICAgIHRoaXNcbiAgICAgICAgXSk7XG4gICAgfVxuICAgIHNldERpbWVuc2lvbnMoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzSG9yaXpvbnRhbCgpKSB7XG4gICAgICAgICAgICB0aGlzLndpZHRoID0gdGhpcy5tYXhXaWR0aDtcbiAgICAgICAgICAgIHRoaXMubGVmdCA9IDA7XG4gICAgICAgICAgICB0aGlzLnJpZ2h0ID0gdGhpcy53aWR0aDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5tYXhIZWlnaHQ7XG4gICAgICAgICAgICB0aGlzLnRvcCA9IDA7XG4gICAgICAgICAgICB0aGlzLmJvdHRvbSA9IHRoaXMuaGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGFkZGluZ0xlZnQgPSAwO1xuICAgICAgICB0aGlzLnBhZGRpbmdUb3AgPSAwO1xuICAgICAgICB0aGlzLnBhZGRpbmdSaWdodCA9IDA7XG4gICAgICAgIHRoaXMucGFkZGluZ0JvdHRvbSA9IDA7XG4gICAgfVxuICAgIGFmdGVyU2V0RGltZW5zaW9ucygpIHtcbiAgICAgICAgY2FsbGJhY2sodGhpcy5vcHRpb25zLmFmdGVyU2V0RGltZW5zaW9ucywgW1xuICAgICAgICAgICAgdGhpc1xuICAgICAgICBdKTtcbiAgICB9XG4gICAgX2NhbGxIb29rcyhuYW1lKSB7XG4gICAgICAgIHRoaXMuY2hhcnQubm90aWZ5UGx1Z2lucyhuYW1lLCB0aGlzLmdldENvbnRleHQoKSk7XG4gICAgICAgIGNhbGxiYWNrKHRoaXMub3B0aW9uc1tuYW1lXSwgW1xuICAgICAgICAgICAgdGhpc1xuICAgICAgICBdKTtcbiAgICB9XG4gICAgYmVmb3JlRGF0YUxpbWl0cygpIHtcbiAgICAgICAgdGhpcy5fY2FsbEhvb2tzKCdiZWZvcmVEYXRhTGltaXRzJyk7XG4gICAgfVxuICAgIGRldGVybWluZURhdGFMaW1pdHMoKSB7fVxuICAgIGFmdGVyRGF0YUxpbWl0cygpIHtcbiAgICAgICAgdGhpcy5fY2FsbEhvb2tzKCdhZnRlckRhdGFMaW1pdHMnKTtcbiAgICB9XG4gICAgYmVmb3JlQnVpbGRUaWNrcygpIHtcbiAgICAgICAgdGhpcy5fY2FsbEhvb2tzKCdiZWZvcmVCdWlsZFRpY2tzJyk7XG4gICAgfVxuIGJ1aWxkVGlja3MoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgYWZ0ZXJCdWlsZFRpY2tzKCkge1xuICAgICAgICB0aGlzLl9jYWxsSG9va3MoJ2FmdGVyQnVpbGRUaWNrcycpO1xuICAgIH1cbiAgICBiZWZvcmVUaWNrVG9MYWJlbENvbnZlcnNpb24oKSB7XG4gICAgICAgIGNhbGxiYWNrKHRoaXMub3B0aW9ucy5iZWZvcmVUaWNrVG9MYWJlbENvbnZlcnNpb24sIFtcbiAgICAgICAgICAgIHRoaXNcbiAgICAgICAgXSk7XG4gICAgfVxuIGdlbmVyYXRlVGlja0xhYmVscyh0aWNrcykge1xuICAgICAgICBjb25zdCB0aWNrT3B0cyA9IHRoaXMub3B0aW9ucy50aWNrcztcbiAgICAgICAgbGV0IGksIGlsZW4sIHRpY2s7XG4gICAgICAgIGZvcihpID0gMCwgaWxlbiA9IHRpY2tzLmxlbmd0aDsgaSA8IGlsZW47IGkrKyl7XG4gICAgICAgICAgICB0aWNrID0gdGlja3NbaV07XG4gICAgICAgICAgICB0aWNrLmxhYmVsID0gY2FsbGJhY2sodGlja09wdHMuY2FsbGJhY2ssIFtcbiAgICAgICAgICAgICAgICB0aWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgIGksXG4gICAgICAgICAgICAgICAgdGlja3NcbiAgICAgICAgICAgIF0sIHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFmdGVyVGlja1RvTGFiZWxDb252ZXJzaW9uKCkge1xuICAgICAgICBjYWxsYmFjayh0aGlzLm9wdGlvbnMuYWZ0ZXJUaWNrVG9MYWJlbENvbnZlcnNpb24sIFtcbiAgICAgICAgICAgIHRoaXNcbiAgICAgICAgXSk7XG4gICAgfVxuICAgIGJlZm9yZUNhbGN1bGF0ZUxhYmVsUm90YXRpb24oKSB7XG4gICAgICAgIGNhbGxiYWNrKHRoaXMub3B0aW9ucy5iZWZvcmVDYWxjdWxhdGVMYWJlbFJvdGF0aW9uLCBbXG4gICAgICAgICAgICB0aGlzXG4gICAgICAgIF0pO1xuICAgIH1cbiAgICBjYWxjdWxhdGVMYWJlbFJvdGF0aW9uKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCB0aWNrT3B0cyA9IG9wdGlvbnMudGlja3M7XG4gICAgICAgIGNvbnN0IG51bVRpY2tzID0gZ2V0VGlja3NMaW1pdCh0aGlzLnRpY2tzLmxlbmd0aCwgb3B0aW9ucy50aWNrcy5tYXhUaWNrc0xpbWl0KTtcbiAgICAgICAgY29uc3QgbWluUm90YXRpb24gPSB0aWNrT3B0cy5taW5Sb3RhdGlvbiB8fCAwO1xuICAgICAgICBjb25zdCBtYXhSb3RhdGlvbiA9IHRpY2tPcHRzLm1heFJvdGF0aW9uO1xuICAgICAgICBsZXQgbGFiZWxSb3RhdGlvbiA9IG1pblJvdGF0aW9uO1xuICAgICAgICBsZXQgdGlja1dpZHRoLCBtYXhIZWlnaHQsIG1heExhYmVsRGlhZ29uYWw7XG4gICAgICAgIGlmICghdGhpcy5faXNWaXNpYmxlKCkgfHwgIXRpY2tPcHRzLmRpc3BsYXkgfHwgbWluUm90YXRpb24gPj0gbWF4Um90YXRpb24gfHwgbnVtVGlja3MgPD0gMSB8fCAhdGhpcy5pc0hvcml6b250YWwoKSkge1xuICAgICAgICAgICAgdGhpcy5sYWJlbFJvdGF0aW9uID0gbWluUm90YXRpb247XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbGFiZWxTaXplcyA9IHRoaXMuX2dldExhYmVsU2l6ZXMoKTtcbiAgICAgICAgY29uc3QgbWF4TGFiZWxXaWR0aCA9IGxhYmVsU2l6ZXMud2lkZXN0LndpZHRoO1xuICAgICAgICBjb25zdCBtYXhMYWJlbEhlaWdodCA9IGxhYmVsU2l6ZXMuaGlnaGVzdC5oZWlnaHQ7XG4gICAgICAgIGNvbnN0IG1heFdpZHRoID0gX2xpbWl0VmFsdWUodGhpcy5jaGFydC53aWR0aCAtIG1heExhYmVsV2lkdGgsIDAsIHRoaXMubWF4V2lkdGgpO1xuICAgICAgICB0aWNrV2lkdGggPSBvcHRpb25zLm9mZnNldCA/IHRoaXMubWF4V2lkdGggLyBudW1UaWNrcyA6IG1heFdpZHRoIC8gKG51bVRpY2tzIC0gMSk7XG4gICAgICAgIGlmIChtYXhMYWJlbFdpZHRoICsgNiA+IHRpY2tXaWR0aCkge1xuICAgICAgICAgICAgdGlja1dpZHRoID0gbWF4V2lkdGggLyAobnVtVGlja3MgLSAob3B0aW9ucy5vZmZzZXQgPyAwLjUgOiAxKSk7XG4gICAgICAgICAgICBtYXhIZWlnaHQgPSB0aGlzLm1heEhlaWdodCAtIGdldFRpY2tNYXJrTGVuZ3RoKG9wdGlvbnMuZ3JpZCkgLSB0aWNrT3B0cy5wYWRkaW5nIC0gZ2V0VGl0bGVIZWlnaHQob3B0aW9ucy50aXRsZSwgdGhpcy5jaGFydC5vcHRpb25zLmZvbnQpO1xuICAgICAgICAgICAgbWF4TGFiZWxEaWFnb25hbCA9IE1hdGguc3FydChtYXhMYWJlbFdpZHRoICogbWF4TGFiZWxXaWR0aCArIG1heExhYmVsSGVpZ2h0ICogbWF4TGFiZWxIZWlnaHQpO1xuICAgICAgICAgICAgbGFiZWxSb3RhdGlvbiA9IHRvRGVncmVlcyhNYXRoLm1pbihNYXRoLmFzaW4oX2xpbWl0VmFsdWUoKGxhYmVsU2l6ZXMuaGlnaGVzdC5oZWlnaHQgKyA2KSAvIHRpY2tXaWR0aCwgLTEsIDEpKSwgTWF0aC5hc2luKF9saW1pdFZhbHVlKG1heEhlaWdodCAvIG1heExhYmVsRGlhZ29uYWwsIC0xLCAxKSkgLSBNYXRoLmFzaW4oX2xpbWl0VmFsdWUobWF4TGFiZWxIZWlnaHQgLyBtYXhMYWJlbERpYWdvbmFsLCAtMSwgMSkpKSk7XG4gICAgICAgICAgICBsYWJlbFJvdGF0aW9uID0gTWF0aC5tYXgobWluUm90YXRpb24sIE1hdGgubWluKG1heFJvdGF0aW9uLCBsYWJlbFJvdGF0aW9uKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sYWJlbFJvdGF0aW9uID0gbGFiZWxSb3RhdGlvbjtcbiAgICB9XG4gICAgYWZ0ZXJDYWxjdWxhdGVMYWJlbFJvdGF0aW9uKCkge1xuICAgICAgICBjYWxsYmFjayh0aGlzLm9wdGlvbnMuYWZ0ZXJDYWxjdWxhdGVMYWJlbFJvdGF0aW9uLCBbXG4gICAgICAgICAgICB0aGlzXG4gICAgICAgIF0pO1xuICAgIH1cbiAgICBhZnRlckF1dG9Ta2lwKCkge31cbiAgICBiZWZvcmVGaXQoKSB7XG4gICAgICAgIGNhbGxiYWNrKHRoaXMub3B0aW9ucy5iZWZvcmVGaXQsIFtcbiAgICAgICAgICAgIHRoaXNcbiAgICAgICAgXSk7XG4gICAgfVxuICAgIGZpdCgpIHtcbiAgICAgICAgY29uc3QgbWluU2l6ZSA9IHtcbiAgICAgICAgICAgIHdpZHRoOiAwLFxuICAgICAgICAgICAgaGVpZ2h0OiAwXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHsgY2hhcnQgLCBvcHRpb25zOiB7IHRpY2tzOiB0aWNrT3B0cyAsIHRpdGxlOiB0aXRsZU9wdHMgLCBncmlkOiBncmlkT3B0cyAgfSAgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGRpc3BsYXkgPSB0aGlzLl9pc1Zpc2libGUoKTtcbiAgICAgICAgY29uc3QgaXNIb3Jpem9udGFsID0gdGhpcy5pc0hvcml6b250YWwoKTtcbiAgICAgICAgaWYgKGRpc3BsYXkpIHtcbiAgICAgICAgICAgIGNvbnN0IHRpdGxlSGVpZ2h0ID0gZ2V0VGl0bGVIZWlnaHQodGl0bGVPcHRzLCBjaGFydC5vcHRpb25zLmZvbnQpO1xuICAgICAgICAgICAgaWYgKGlzSG9yaXpvbnRhbCkge1xuICAgICAgICAgICAgICAgIG1pblNpemUud2lkdGggPSB0aGlzLm1heFdpZHRoO1xuICAgICAgICAgICAgICAgIG1pblNpemUuaGVpZ2h0ID0gZ2V0VGlja01hcmtMZW5ndGgoZ3JpZE9wdHMpICsgdGl0bGVIZWlnaHQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1pblNpemUuaGVpZ2h0ID0gdGhpcy5tYXhIZWlnaHQ7XG4gICAgICAgICAgICAgICAgbWluU2l6ZS53aWR0aCA9IGdldFRpY2tNYXJrTGVuZ3RoKGdyaWRPcHRzKSArIHRpdGxlSGVpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRpY2tPcHRzLmRpc3BsYXkgJiYgdGhpcy50aWNrcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGZpcnN0ICwgbGFzdCAsIHdpZGVzdCAsIGhpZ2hlc3QgIH0gPSB0aGlzLl9nZXRMYWJlbFNpemVzKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgdGlja1BhZGRpbmcgPSB0aWNrT3B0cy5wYWRkaW5nICogMjtcbiAgICAgICAgICAgICAgICBjb25zdCBhbmdsZVJhZGlhbnMgPSB0b1JhZGlhbnModGhpcy5sYWJlbFJvdGF0aW9uKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjb3MgPSBNYXRoLmNvcyhhbmdsZVJhZGlhbnMpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpbiA9IE1hdGguc2luKGFuZ2xlUmFkaWFucyk7XG4gICAgICAgICAgICAgICAgaWYgKGlzSG9yaXpvbnRhbCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsYWJlbEhlaWdodCA9IHRpY2tPcHRzLm1pcnJvciA/IDAgOiBzaW4gKiB3aWRlc3Qud2lkdGggKyBjb3MgKiBoaWdoZXN0LmhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgbWluU2l6ZS5oZWlnaHQgPSBNYXRoLm1pbih0aGlzLm1heEhlaWdodCwgbWluU2l6ZS5oZWlnaHQgKyBsYWJlbEhlaWdodCArIHRpY2tQYWRkaW5nKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBsYWJlbFdpZHRoID0gdGlja09wdHMubWlycm9yID8gMCA6IGNvcyAqIHdpZGVzdC53aWR0aCArIHNpbiAqIGhpZ2hlc3QuaGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICBtaW5TaXplLndpZHRoID0gTWF0aC5taW4odGhpcy5tYXhXaWR0aCwgbWluU2l6ZS53aWR0aCArIGxhYmVsV2lkdGggKyB0aWNrUGFkZGluZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX2NhbGN1bGF0ZVBhZGRpbmcoZmlyc3QsIGxhc3QsIHNpbiwgY29zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9oYW5kbGVNYXJnaW5zKCk7XG4gICAgICAgIGlmIChpc0hvcml6b250YWwpIHtcbiAgICAgICAgICAgIHRoaXMud2lkdGggPSB0aGlzLl9sZW5ndGggPSBjaGFydC53aWR0aCAtIHRoaXMuX21hcmdpbnMubGVmdCAtIHRoaXMuX21hcmdpbnMucmlnaHQ7XG4gICAgICAgICAgICB0aGlzLmhlaWdodCA9IG1pblNpemUuaGVpZ2h0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy53aWR0aCA9IG1pblNpemUud2lkdGg7XG4gICAgICAgICAgICB0aGlzLmhlaWdodCA9IHRoaXMuX2xlbmd0aCA9IGNoYXJ0LmhlaWdodCAtIHRoaXMuX21hcmdpbnMudG9wIC0gdGhpcy5fbWFyZ2lucy5ib3R0b207XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2NhbGN1bGF0ZVBhZGRpbmcoZmlyc3QsIGxhc3QsIHNpbiwgY29zKSB7XG4gICAgICAgIGNvbnN0IHsgdGlja3M6IHsgYWxpZ24gLCBwYWRkaW5nICB9ICwgcG9zaXRpb24gIH0gPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGlzUm90YXRlZCA9IHRoaXMubGFiZWxSb3RhdGlvbiAhPT0gMDtcbiAgICAgICAgY29uc3QgbGFiZWxzQmVsb3dUaWNrcyA9IHBvc2l0aW9uICE9PSAndG9wJyAmJiB0aGlzLmF4aXMgPT09ICd4JztcbiAgICAgICAgaWYgKHRoaXMuaXNIb3Jpem9udGFsKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IG9mZnNldExlZnQgPSB0aGlzLmdldFBpeGVsRm9yVGljaygwKSAtIHRoaXMubGVmdDtcbiAgICAgICAgICAgIGNvbnN0IG9mZnNldFJpZ2h0ID0gdGhpcy5yaWdodCAtIHRoaXMuZ2V0UGl4ZWxGb3JUaWNrKHRoaXMudGlja3MubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICBsZXQgcGFkZGluZ0xlZnQgPSAwO1xuICAgICAgICAgICAgbGV0IHBhZGRpbmdSaWdodCA9IDA7XG4gICAgICAgICAgICBpZiAoaXNSb3RhdGVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxhYmVsc0JlbG93VGlja3MpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZ0xlZnQgPSBjb3MgKiBmaXJzdC53aWR0aDtcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZ1JpZ2h0ID0gc2luICogbGFzdC5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZ0xlZnQgPSBzaW4gKiBmaXJzdC5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmdSaWdodCA9IGNvcyAqIGxhc3Qud2lkdGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChhbGlnbiA9PT0gJ3N0YXJ0Jykge1xuICAgICAgICAgICAgICAgIHBhZGRpbmdSaWdodCA9IGxhc3Qud2lkdGg7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGFsaWduID09PSAnZW5kJykge1xuICAgICAgICAgICAgICAgIHBhZGRpbmdMZWZ0ID0gZmlyc3Qud2lkdGg7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGFsaWduICE9PSAnaW5uZXInKSB7XG4gICAgICAgICAgICAgICAgcGFkZGluZ0xlZnQgPSBmaXJzdC53aWR0aCAvIDI7XG4gICAgICAgICAgICAgICAgcGFkZGluZ1JpZ2h0ID0gbGFzdC53aWR0aCAvIDI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnBhZGRpbmdMZWZ0ID0gTWF0aC5tYXgoKHBhZGRpbmdMZWZ0IC0gb2Zmc2V0TGVmdCArIHBhZGRpbmcpICogdGhpcy53aWR0aCAvICh0aGlzLndpZHRoIC0gb2Zmc2V0TGVmdCksIDApO1xuICAgICAgICAgICAgdGhpcy5wYWRkaW5nUmlnaHQgPSBNYXRoLm1heCgocGFkZGluZ1JpZ2h0IC0gb2Zmc2V0UmlnaHQgKyBwYWRkaW5nKSAqIHRoaXMud2lkdGggLyAodGhpcy53aWR0aCAtIG9mZnNldFJpZ2h0KSwgMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgcGFkZGluZ1RvcCA9IGxhc3QuaGVpZ2h0IC8gMjtcbiAgICAgICAgICAgIGxldCBwYWRkaW5nQm90dG9tID0gZmlyc3QuaGVpZ2h0IC8gMjtcbiAgICAgICAgICAgIGlmIChhbGlnbiA9PT0gJ3N0YXJ0Jykge1xuICAgICAgICAgICAgICAgIHBhZGRpbmdUb3AgPSAwO1xuICAgICAgICAgICAgICAgIHBhZGRpbmdCb3R0b20gPSBmaXJzdC5oZWlnaHQ7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGFsaWduID09PSAnZW5kJykge1xuICAgICAgICAgICAgICAgIHBhZGRpbmdUb3AgPSBsYXN0LmhlaWdodDtcbiAgICAgICAgICAgICAgICBwYWRkaW5nQm90dG9tID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucGFkZGluZ1RvcCA9IHBhZGRpbmdUb3AgKyBwYWRkaW5nO1xuICAgICAgICAgICAgdGhpcy5wYWRkaW5nQm90dG9tID0gcGFkZGluZ0JvdHRvbSArIHBhZGRpbmc7XG4gICAgICAgIH1cbiAgICB9XG4gX2hhbmRsZU1hcmdpbnMoKSB7XG4gICAgICAgIGlmICh0aGlzLl9tYXJnaW5zKSB7XG4gICAgICAgICAgICB0aGlzLl9tYXJnaW5zLmxlZnQgPSBNYXRoLm1heCh0aGlzLnBhZGRpbmdMZWZ0LCB0aGlzLl9tYXJnaW5zLmxlZnQpO1xuICAgICAgICAgICAgdGhpcy5fbWFyZ2lucy50b3AgPSBNYXRoLm1heCh0aGlzLnBhZGRpbmdUb3AsIHRoaXMuX21hcmdpbnMudG9wKTtcbiAgICAgICAgICAgIHRoaXMuX21hcmdpbnMucmlnaHQgPSBNYXRoLm1heCh0aGlzLnBhZGRpbmdSaWdodCwgdGhpcy5fbWFyZ2lucy5yaWdodCk7XG4gICAgICAgICAgICB0aGlzLl9tYXJnaW5zLmJvdHRvbSA9IE1hdGgubWF4KHRoaXMucGFkZGluZ0JvdHRvbSwgdGhpcy5fbWFyZ2lucy5ib3R0b20pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFmdGVyRml0KCkge1xuICAgICAgICBjYWxsYmFjayh0aGlzLm9wdGlvbnMuYWZ0ZXJGaXQsIFtcbiAgICAgICAgICAgIHRoaXNcbiAgICAgICAgXSk7XG4gICAgfVxuIGlzSG9yaXpvbnRhbCgpIHtcbiAgICAgICAgY29uc3QgeyBheGlzICwgcG9zaXRpb24gIH0gPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIHJldHVybiBwb3NpdGlvbiA9PT0gJ3RvcCcgfHwgcG9zaXRpb24gPT09ICdib3R0b20nIHx8IGF4aXMgPT09ICd4JztcbiAgICB9XG4gaXNGdWxsU2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5mdWxsU2l6ZTtcbiAgICB9XG4gX2NvbnZlcnRUaWNrc1RvTGFiZWxzKHRpY2tzKSB7XG4gICAgICAgIHRoaXMuYmVmb3JlVGlja1RvTGFiZWxDb252ZXJzaW9uKCk7XG4gICAgICAgIHRoaXMuZ2VuZXJhdGVUaWNrTGFiZWxzKHRpY2tzKTtcbiAgICAgICAgbGV0IGksIGlsZW47XG4gICAgICAgIGZvcihpID0gMCwgaWxlbiA9IHRpY2tzLmxlbmd0aDsgaSA8IGlsZW47IGkrKyl7XG4gICAgICAgICAgICBpZiAoaXNOdWxsT3JVbmRlZih0aWNrc1tpXS5sYWJlbCkpIHtcbiAgICAgICAgICAgICAgICB0aWNrcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgaWxlbi0tO1xuICAgICAgICAgICAgICAgIGktLTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFmdGVyVGlja1RvTGFiZWxDb252ZXJzaW9uKCk7XG4gICAgfVxuIF9nZXRMYWJlbFNpemVzKCkge1xuICAgICAgICBsZXQgbGFiZWxTaXplcyA9IHRoaXMuX2xhYmVsU2l6ZXM7XG4gICAgICAgIGlmICghbGFiZWxTaXplcykge1xuICAgICAgICAgICAgY29uc3Qgc2FtcGxlU2l6ZSA9IHRoaXMub3B0aW9ucy50aWNrcy5zYW1wbGVTaXplO1xuICAgICAgICAgICAgbGV0IHRpY2tzID0gdGhpcy50aWNrcztcbiAgICAgICAgICAgIGlmIChzYW1wbGVTaXplIDwgdGlja3MubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGlja3MgPSBzYW1wbGUodGlja3MsIHNhbXBsZVNpemUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fbGFiZWxTaXplcyA9IGxhYmVsU2l6ZXMgPSB0aGlzLl9jb21wdXRlTGFiZWxTaXplcyh0aWNrcywgdGlja3MubGVuZ3RoLCB0aGlzLm9wdGlvbnMudGlja3MubWF4VGlja3NMaW1pdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxhYmVsU2l6ZXM7XG4gICAgfVxuIF9jb21wdXRlTGFiZWxTaXplcyh0aWNrcywgbGVuZ3RoLCBtYXhUaWNrc0xpbWl0KSB7XG4gICAgICAgIGNvbnN0IHsgY3R4ICwgX2xvbmdlc3RUZXh0Q2FjaGU6IGNhY2hlcyAgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHdpZHRocyA9IFtdO1xuICAgICAgICBjb25zdCBoZWlnaHRzID0gW107XG4gICAgICAgIGNvbnN0IGluY3JlbWVudCA9IE1hdGguZmxvb3IobGVuZ3RoIC8gZ2V0VGlja3NMaW1pdChsZW5ndGgsIG1heFRpY2tzTGltaXQpKTtcbiAgICAgICAgbGV0IHdpZGVzdExhYmVsU2l6ZSA9IDA7XG4gICAgICAgIGxldCBoaWdoZXN0TGFiZWxTaXplID0gMDtcbiAgICAgICAgbGV0IGksIGosIGpsZW4sIGxhYmVsLCB0aWNrRm9udCwgZm9udFN0cmluZywgY2FjaGUsIGxpbmVIZWlnaHQsIHdpZHRoLCBoZWlnaHQsIG5lc3RlZExhYmVsO1xuICAgICAgICBmb3IoaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gaW5jcmVtZW50KXtcbiAgICAgICAgICAgIGxhYmVsID0gdGlja3NbaV0ubGFiZWw7XG4gICAgICAgICAgICB0aWNrRm9udCA9IHRoaXMuX3Jlc29sdmVUaWNrRm9udE9wdGlvbnMoaSk7XG4gICAgICAgICAgICBjdHguZm9udCA9IGZvbnRTdHJpbmcgPSB0aWNrRm9udC5zdHJpbmc7XG4gICAgICAgICAgICBjYWNoZSA9IGNhY2hlc1tmb250U3RyaW5nXSA9IGNhY2hlc1tmb250U3RyaW5nXSB8fCB7XG4gICAgICAgICAgICAgICAgZGF0YToge30sXG4gICAgICAgICAgICAgICAgZ2M6IFtdXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgbGluZUhlaWdodCA9IHRpY2tGb250LmxpbmVIZWlnaHQ7XG4gICAgICAgICAgICB3aWR0aCA9IGhlaWdodCA9IDA7XG4gICAgICAgICAgICBpZiAoIWlzTnVsbE9yVW5kZWYobGFiZWwpICYmICFpc0FycmF5KGxhYmVsKSkge1xuICAgICAgICAgICAgICAgIHdpZHRoID0gX21lYXN1cmVUZXh0KGN0eCwgY2FjaGUuZGF0YSwgY2FjaGUuZ2MsIHdpZHRoLCBsYWJlbCk7XG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gbGluZUhlaWdodDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNBcnJheShsYWJlbCkpIHtcbiAgICAgICAgICAgICAgICBmb3IoaiA9IDAsIGpsZW4gPSBsYWJlbC5sZW5ndGg7IGogPCBqbGVuOyArK2ope1xuICAgICAgICAgICAgICAgICAgICBuZXN0ZWRMYWJlbCA9ICBsYWJlbFtqXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc051bGxPclVuZGVmKG5lc3RlZExhYmVsKSAmJiAhaXNBcnJheShuZXN0ZWRMYWJlbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoID0gX21lYXN1cmVUZXh0KGN0eCwgY2FjaGUuZGF0YSwgY2FjaGUuZ2MsIHdpZHRoLCBuZXN0ZWRMYWJlbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQgKz0gbGluZUhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdpZHRocy5wdXNoKHdpZHRoKTtcbiAgICAgICAgICAgIGhlaWdodHMucHVzaChoZWlnaHQpO1xuICAgICAgICAgICAgd2lkZXN0TGFiZWxTaXplID0gTWF0aC5tYXgod2lkdGgsIHdpZGVzdExhYmVsU2l6ZSk7XG4gICAgICAgICAgICBoaWdoZXN0TGFiZWxTaXplID0gTWF0aC5tYXgoaGVpZ2h0LCBoaWdoZXN0TGFiZWxTaXplKTtcbiAgICAgICAgfVxuICAgICAgICBnYXJiYWdlQ29sbGVjdChjYWNoZXMsIGxlbmd0aCk7XG4gICAgICAgIGNvbnN0IHdpZGVzdCA9IHdpZHRocy5pbmRleE9mKHdpZGVzdExhYmVsU2l6ZSk7XG4gICAgICAgIGNvbnN0IGhpZ2hlc3QgPSBoZWlnaHRzLmluZGV4T2YoaGlnaGVzdExhYmVsU2l6ZSk7XG4gICAgICAgIGNvbnN0IHZhbHVlQXQgPSAoaWR4KT0+KHtcbiAgICAgICAgICAgICAgICB3aWR0aDogd2lkdGhzW2lkeF0gfHwgMCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGhlaWdodHNbaWR4XSB8fCAwXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGZpcnN0OiB2YWx1ZUF0KDApLFxuICAgICAgICAgICAgbGFzdDogdmFsdWVBdChsZW5ndGggLSAxKSxcbiAgICAgICAgICAgIHdpZGVzdDogdmFsdWVBdCh3aWRlc3QpLFxuICAgICAgICAgICAgaGlnaGVzdDogdmFsdWVBdChoaWdoZXN0KSxcbiAgICAgICAgICAgIHdpZHRocyxcbiAgICAgICAgICAgIGhlaWdodHNcbiAgICAgICAgfTtcbiAgICB9XG4gZ2V0TGFiZWxGb3JWYWx1ZSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuIGdldFBpeGVsRm9yVmFsdWUodmFsdWUsIGluZGV4KSB7XG4gICAgICAgIHJldHVybiBOYU47XG4gICAgfVxuIGdldFZhbHVlRm9yUGl4ZWwocGl4ZWwpIHt9XG4gZ2V0UGl4ZWxGb3JUaWNrKGluZGV4KSB7XG4gICAgICAgIGNvbnN0IHRpY2tzID0gdGhpcy50aWNrcztcbiAgICAgICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+IHRpY2tzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmdldFBpeGVsRm9yVmFsdWUodGlja3NbaW5kZXhdLnZhbHVlKTtcbiAgICB9XG4gZ2V0UGl4ZWxGb3JEZWNpbWFsKGRlY2ltYWwpIHtcbiAgICAgICAgaWYgKHRoaXMuX3JldmVyc2VQaXhlbHMpIHtcbiAgICAgICAgICAgIGRlY2ltYWwgPSAxIC0gZGVjaW1hbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwaXhlbCA9IHRoaXMuX3N0YXJ0UGl4ZWwgKyBkZWNpbWFsICogdGhpcy5fbGVuZ3RoO1xuICAgICAgICByZXR1cm4gX2ludDE2UmFuZ2UodGhpcy5fYWxpZ25Ub1BpeGVscyA/IF9hbGlnblBpeGVsKHRoaXMuY2hhcnQsIHBpeGVsLCAwKSA6IHBpeGVsKTtcbiAgICB9XG4gZ2V0RGVjaW1hbEZvclBpeGVsKHBpeGVsKSB7XG4gICAgICAgIGNvbnN0IGRlY2ltYWwgPSAocGl4ZWwgLSB0aGlzLl9zdGFydFBpeGVsKSAvIHRoaXMuX2xlbmd0aDtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JldmVyc2VQaXhlbHMgPyAxIC0gZGVjaW1hbCA6IGRlY2ltYWw7XG4gICAgfVxuIGdldEJhc2VQaXhlbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UGl4ZWxGb3JWYWx1ZSh0aGlzLmdldEJhc2VWYWx1ZSgpKTtcbiAgICB9XG4gZ2V0QmFzZVZhbHVlKCkge1xuICAgICAgICBjb25zdCB7IG1pbiAsIG1heCAgfSA9IHRoaXM7XG4gICAgICAgIHJldHVybiBtaW4gPCAwICYmIG1heCA8IDAgPyBtYXggOiBtaW4gPiAwICYmIG1heCA+IDAgPyBtaW4gOiAwO1xuICAgIH1cbiBnZXRDb250ZXh0KGluZGV4KSB7XG4gICAgICAgIGNvbnN0IHRpY2tzID0gdGhpcy50aWNrcyB8fCBbXTtcbiAgICAgICAgaWYgKGluZGV4ID49IDAgJiYgaW5kZXggPCB0aWNrcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IHRpY2sgPSB0aWNrc1tpbmRleF07XG4gICAgICAgICAgICByZXR1cm4gdGljay4kY29udGV4dCB8fCAodGljay4kY29udGV4dCA9IGNyZWF0ZVRpY2tDb250ZXh0KHRoaXMuZ2V0Q29udGV4dCgpLCBpbmRleCwgdGljaykpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLiRjb250ZXh0IHx8ICh0aGlzLiRjb250ZXh0ID0gY3JlYXRlU2NhbGVDb250ZXh0KHRoaXMuY2hhcnQuZ2V0Q29udGV4dCgpLCB0aGlzKSk7XG4gICAgfVxuIF90aWNrU2l6ZSgpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9uVGlja3MgPSB0aGlzLm9wdGlvbnMudGlja3M7XG4gICAgICAgIGNvbnN0IHJvdCA9IHRvUmFkaWFucyh0aGlzLmxhYmVsUm90YXRpb24pO1xuICAgICAgICBjb25zdCBjb3MgPSBNYXRoLmFicyhNYXRoLmNvcyhyb3QpKTtcbiAgICAgICAgY29uc3Qgc2luID0gTWF0aC5hYnMoTWF0aC5zaW4ocm90KSk7XG4gICAgICAgIGNvbnN0IGxhYmVsU2l6ZXMgPSB0aGlzLl9nZXRMYWJlbFNpemVzKCk7XG4gICAgICAgIGNvbnN0IHBhZGRpbmcgPSBvcHRpb25UaWNrcy5hdXRvU2tpcFBhZGRpbmcgfHwgMDtcbiAgICAgICAgY29uc3QgdyA9IGxhYmVsU2l6ZXMgPyBsYWJlbFNpemVzLndpZGVzdC53aWR0aCArIHBhZGRpbmcgOiAwO1xuICAgICAgICBjb25zdCBoID0gbGFiZWxTaXplcyA/IGxhYmVsU2l6ZXMuaGlnaGVzdC5oZWlnaHQgKyBwYWRkaW5nIDogMDtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNIb3Jpem9udGFsKCkgPyBoICogY29zID4gdyAqIHNpbiA/IHcgLyBjb3MgOiBoIC8gc2luIDogaCAqIHNpbiA8IHcgKiBjb3MgPyBoIC8gY29zIDogdyAvIHNpbjtcbiAgICB9XG4gX2lzVmlzaWJsZSgpIHtcbiAgICAgICAgY29uc3QgZGlzcGxheSA9IHRoaXMub3B0aW9ucy5kaXNwbGF5O1xuICAgICAgICBpZiAoZGlzcGxheSAhPT0gJ2F1dG8nKSB7XG4gICAgICAgICAgICByZXR1cm4gISFkaXNwbGF5O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmdldE1hdGNoaW5nVmlzaWJsZU1ldGFzKCkubGVuZ3RoID4gMDtcbiAgICB9XG4gX2NvbXB1dGVHcmlkTGluZUl0ZW1zKGNoYXJ0QXJlYSkge1xuICAgICAgICBjb25zdCBheGlzID0gdGhpcy5heGlzO1xuICAgICAgICBjb25zdCBjaGFydCA9IHRoaXMuY2hhcnQ7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHsgZ3JpZCAsIHBvc2l0aW9uICwgYm9yZGVyICB9ID0gb3B0aW9ucztcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gZ3JpZC5vZmZzZXQ7XG4gICAgICAgIGNvbnN0IGlzSG9yaXpvbnRhbCA9IHRoaXMuaXNIb3Jpem9udGFsKCk7XG4gICAgICAgIGNvbnN0IHRpY2tzID0gdGhpcy50aWNrcztcbiAgICAgICAgY29uc3QgdGlja3NMZW5ndGggPSB0aWNrcy5sZW5ndGggKyAob2Zmc2V0ID8gMSA6IDApO1xuICAgICAgICBjb25zdCB0bCA9IGdldFRpY2tNYXJrTGVuZ3RoKGdyaWQpO1xuICAgICAgICBjb25zdCBpdGVtcyA9IFtdO1xuICAgICAgICBjb25zdCBib3JkZXJPcHRzID0gYm9yZGVyLnNldENvbnRleHQodGhpcy5nZXRDb250ZXh0KCkpO1xuICAgICAgICBjb25zdCBheGlzV2lkdGggPSBib3JkZXJPcHRzLmRpc3BsYXkgPyBib3JkZXJPcHRzLndpZHRoIDogMDtcbiAgICAgICAgY29uc3QgYXhpc0hhbGZXaWR0aCA9IGF4aXNXaWR0aCAvIDI7XG4gICAgICAgIGNvbnN0IGFsaWduQm9yZGVyVmFsdWUgPSBmdW5jdGlvbihwaXhlbCkge1xuICAgICAgICAgICAgcmV0dXJuIF9hbGlnblBpeGVsKGNoYXJ0LCBwaXhlbCwgYXhpc1dpZHRoKTtcbiAgICAgICAgfTtcbiAgICAgICAgbGV0IGJvcmRlclZhbHVlLCBpLCBsaW5lVmFsdWUsIGFsaWduZWRMaW5lVmFsdWU7XG4gICAgICAgIGxldCB0eDEsIHR5MSwgdHgyLCB0eTIsIHgxLCB5MSwgeDIsIHkyO1xuICAgICAgICBpZiAocG9zaXRpb24gPT09ICd0b3AnKSB7XG4gICAgICAgICAgICBib3JkZXJWYWx1ZSA9IGFsaWduQm9yZGVyVmFsdWUodGhpcy5ib3R0b20pO1xuICAgICAgICAgICAgdHkxID0gdGhpcy5ib3R0b20gLSB0bDtcbiAgICAgICAgICAgIHR5MiA9IGJvcmRlclZhbHVlIC0gYXhpc0hhbGZXaWR0aDtcbiAgICAgICAgICAgIHkxID0gYWxpZ25Cb3JkZXJWYWx1ZShjaGFydEFyZWEudG9wKSArIGF4aXNIYWxmV2lkdGg7XG4gICAgICAgICAgICB5MiA9IGNoYXJ0QXJlYS5ib3R0b207XG4gICAgICAgIH0gZWxzZSBpZiAocG9zaXRpb24gPT09ICdib3R0b20nKSB7XG4gICAgICAgICAgICBib3JkZXJWYWx1ZSA9IGFsaWduQm9yZGVyVmFsdWUodGhpcy50b3ApO1xuICAgICAgICAgICAgeTEgPSBjaGFydEFyZWEudG9wO1xuICAgICAgICAgICAgeTIgPSBhbGlnbkJvcmRlclZhbHVlKGNoYXJ0QXJlYS5ib3R0b20pIC0gYXhpc0hhbGZXaWR0aDtcbiAgICAgICAgICAgIHR5MSA9IGJvcmRlclZhbHVlICsgYXhpc0hhbGZXaWR0aDtcbiAgICAgICAgICAgIHR5MiA9IHRoaXMudG9wICsgdGw7XG4gICAgICAgIH0gZWxzZSBpZiAocG9zaXRpb24gPT09ICdsZWZ0Jykge1xuICAgICAgICAgICAgYm9yZGVyVmFsdWUgPSBhbGlnbkJvcmRlclZhbHVlKHRoaXMucmlnaHQpO1xuICAgICAgICAgICAgdHgxID0gdGhpcy5yaWdodCAtIHRsO1xuICAgICAgICAgICAgdHgyID0gYm9yZGVyVmFsdWUgLSBheGlzSGFsZldpZHRoO1xuICAgICAgICAgICAgeDEgPSBhbGlnbkJvcmRlclZhbHVlKGNoYXJ0QXJlYS5sZWZ0KSArIGF4aXNIYWxmV2lkdGg7XG4gICAgICAgICAgICB4MiA9IGNoYXJ0QXJlYS5yaWdodDtcbiAgICAgICAgfSBlbHNlIGlmIChwb3NpdGlvbiA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgICAgYm9yZGVyVmFsdWUgPSBhbGlnbkJvcmRlclZhbHVlKHRoaXMubGVmdCk7XG4gICAgICAgICAgICB4MSA9IGNoYXJ0QXJlYS5sZWZ0O1xuICAgICAgICAgICAgeDIgPSBhbGlnbkJvcmRlclZhbHVlKGNoYXJ0QXJlYS5yaWdodCkgLSBheGlzSGFsZldpZHRoO1xuICAgICAgICAgICAgdHgxID0gYm9yZGVyVmFsdWUgKyBheGlzSGFsZldpZHRoO1xuICAgICAgICAgICAgdHgyID0gdGhpcy5sZWZ0ICsgdGw7XG4gICAgICAgIH0gZWxzZSBpZiAoYXhpcyA9PT0gJ3gnKSB7XG4gICAgICAgICAgICBpZiAocG9zaXRpb24gPT09ICdjZW50ZXInKSB7XG4gICAgICAgICAgICAgICAgYm9yZGVyVmFsdWUgPSBhbGlnbkJvcmRlclZhbHVlKChjaGFydEFyZWEudG9wICsgY2hhcnRBcmVhLmJvdHRvbSkgLyAyICsgMC41KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNPYmplY3QocG9zaXRpb24pKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcG9zaXRpb25BeGlzSUQgPSBPYmplY3Qua2V5cyhwb3NpdGlvbilbMF07XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBwb3NpdGlvbltwb3NpdGlvbkF4aXNJRF07XG4gICAgICAgICAgICAgICAgYm9yZGVyVmFsdWUgPSBhbGlnbkJvcmRlclZhbHVlKHRoaXMuY2hhcnQuc2NhbGVzW3Bvc2l0aW9uQXhpc0lEXS5nZXRQaXhlbEZvclZhbHVlKHZhbHVlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB5MSA9IGNoYXJ0QXJlYS50b3A7XG4gICAgICAgICAgICB5MiA9IGNoYXJ0QXJlYS5ib3R0b207XG4gICAgICAgICAgICB0eTEgPSBib3JkZXJWYWx1ZSArIGF4aXNIYWxmV2lkdGg7XG4gICAgICAgICAgICB0eTIgPSB0eTEgKyB0bDtcbiAgICAgICAgfSBlbHNlIGlmIChheGlzID09PSAneScpIHtcbiAgICAgICAgICAgIGlmIChwb3NpdGlvbiA9PT0gJ2NlbnRlcicpIHtcbiAgICAgICAgICAgICAgICBib3JkZXJWYWx1ZSA9IGFsaWduQm9yZGVyVmFsdWUoKGNoYXJ0QXJlYS5sZWZ0ICsgY2hhcnRBcmVhLnJpZ2h0KSAvIDIpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpc09iamVjdChwb3NpdGlvbikpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwb3NpdGlvbkF4aXNJRCA9IE9iamVjdC5rZXlzKHBvc2l0aW9uKVswXTtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHBvc2l0aW9uW3Bvc2l0aW9uQXhpc0lEXTtcbiAgICAgICAgICAgICAgICBib3JkZXJWYWx1ZSA9IGFsaWduQm9yZGVyVmFsdWUodGhpcy5jaGFydC5zY2FsZXNbcG9zaXRpb25BeGlzSURdLmdldFBpeGVsRm9yVmFsdWUodmFsdWUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHR4MSA9IGJvcmRlclZhbHVlIC0gYXhpc0hhbGZXaWR0aDtcbiAgICAgICAgICAgIHR4MiA9IHR4MSAtIHRsO1xuICAgICAgICAgICAgeDEgPSBjaGFydEFyZWEubGVmdDtcbiAgICAgICAgICAgIHgyID0gY2hhcnRBcmVhLnJpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxpbWl0ID0gdmFsdWVPckRlZmF1bHQob3B0aW9ucy50aWNrcy5tYXhUaWNrc0xpbWl0LCB0aWNrc0xlbmd0aCk7XG4gICAgICAgIGNvbnN0IHN0ZXAgPSBNYXRoLm1heCgxLCBNYXRoLmNlaWwodGlja3NMZW5ndGggLyBsaW1pdCkpO1xuICAgICAgICBmb3IoaSA9IDA7IGkgPCB0aWNrc0xlbmd0aDsgaSArPSBzdGVwKXtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLmdldENvbnRleHQoaSk7XG4gICAgICAgICAgICBjb25zdCBvcHRzQXRJbmRleCA9IGdyaWQuc2V0Q29udGV4dChjb250ZXh0KTtcbiAgICAgICAgICAgIGNvbnN0IG9wdHNBdEluZGV4Qm9yZGVyID0gYm9yZGVyLnNldENvbnRleHQoY29udGV4dCk7XG4gICAgICAgICAgICBjb25zdCBsaW5lV2lkdGggPSBvcHRzQXRJbmRleC5saW5lV2lkdGg7XG4gICAgICAgICAgICBjb25zdCBsaW5lQ29sb3IgPSBvcHRzQXRJbmRleC5jb2xvcjtcbiAgICAgICAgICAgIGNvbnN0IGJvcmRlckRhc2ggPSBvcHRzQXRJbmRleEJvcmRlci5kYXNoIHx8IFtdO1xuICAgICAgICAgICAgY29uc3QgYm9yZGVyRGFzaE9mZnNldCA9IG9wdHNBdEluZGV4Qm9yZGVyLmRhc2hPZmZzZXQ7XG4gICAgICAgICAgICBjb25zdCB0aWNrV2lkdGggPSBvcHRzQXRJbmRleC50aWNrV2lkdGg7XG4gICAgICAgICAgICBjb25zdCB0aWNrQ29sb3IgPSBvcHRzQXRJbmRleC50aWNrQ29sb3I7XG4gICAgICAgICAgICBjb25zdCB0aWNrQm9yZGVyRGFzaCA9IG9wdHNBdEluZGV4LnRpY2tCb3JkZXJEYXNoIHx8IFtdO1xuICAgICAgICAgICAgY29uc3QgdGlja0JvcmRlckRhc2hPZmZzZXQgPSBvcHRzQXRJbmRleC50aWNrQm9yZGVyRGFzaE9mZnNldDtcbiAgICAgICAgICAgIGxpbmVWYWx1ZSA9IGdldFBpeGVsRm9yR3JpZExpbmUodGhpcywgaSwgb2Zmc2V0KTtcbiAgICAgICAgICAgIGlmIChsaW5lVmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWxpZ25lZExpbmVWYWx1ZSA9IF9hbGlnblBpeGVsKGNoYXJ0LCBsaW5lVmFsdWUsIGxpbmVXaWR0aCk7XG4gICAgICAgICAgICBpZiAoaXNIb3Jpem9udGFsKSB7XG4gICAgICAgICAgICAgICAgdHgxID0gdHgyID0geDEgPSB4MiA9IGFsaWduZWRMaW5lVmFsdWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHR5MSA9IHR5MiA9IHkxID0geTIgPSBhbGlnbmVkTGluZVZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaXRlbXMucHVzaCh7XG4gICAgICAgICAgICAgICAgdHgxLFxuICAgICAgICAgICAgICAgIHR5MSxcbiAgICAgICAgICAgICAgICB0eDIsXG4gICAgICAgICAgICAgICAgdHkyLFxuICAgICAgICAgICAgICAgIHgxLFxuICAgICAgICAgICAgICAgIHkxLFxuICAgICAgICAgICAgICAgIHgyLFxuICAgICAgICAgICAgICAgIHkyLFxuICAgICAgICAgICAgICAgIHdpZHRoOiBsaW5lV2lkdGgsXG4gICAgICAgICAgICAgICAgY29sb3I6IGxpbmVDb2xvcixcbiAgICAgICAgICAgICAgICBib3JkZXJEYXNoLFxuICAgICAgICAgICAgICAgIGJvcmRlckRhc2hPZmZzZXQsXG4gICAgICAgICAgICAgICAgdGlja1dpZHRoLFxuICAgICAgICAgICAgICAgIHRpY2tDb2xvcixcbiAgICAgICAgICAgICAgICB0aWNrQm9yZGVyRGFzaCxcbiAgICAgICAgICAgICAgICB0aWNrQm9yZGVyRGFzaE9mZnNldFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdGlja3NMZW5ndGggPSB0aWNrc0xlbmd0aDtcbiAgICAgICAgdGhpcy5fYm9yZGVyVmFsdWUgPSBib3JkZXJWYWx1ZTtcbiAgICAgICAgcmV0dXJuIGl0ZW1zO1xuICAgIH1cbiBfY29tcHV0ZUxhYmVsSXRlbXMoY2hhcnRBcmVhKSB7XG4gICAgICAgIGNvbnN0IGF4aXMgPSB0aGlzLmF4aXM7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHsgcG9zaXRpb24gLCB0aWNrczogb3B0aW9uVGlja3MgIH0gPSBvcHRpb25zO1xuICAgICAgICBjb25zdCBpc0hvcml6b250YWwgPSB0aGlzLmlzSG9yaXpvbnRhbCgpO1xuICAgICAgICBjb25zdCB0aWNrcyA9IHRoaXMudGlja3M7XG4gICAgICAgIGNvbnN0IHsgYWxpZ24gLCBjcm9zc0FsaWduICwgcGFkZGluZyAsIG1pcnJvciAgfSA9IG9wdGlvblRpY2tzO1xuICAgICAgICBjb25zdCB0bCA9IGdldFRpY2tNYXJrTGVuZ3RoKG9wdGlvbnMuZ3JpZCk7XG4gICAgICAgIGNvbnN0IHRpY2tBbmRQYWRkaW5nID0gdGwgKyBwYWRkaW5nO1xuICAgICAgICBjb25zdCBoVGlja0FuZFBhZGRpbmcgPSBtaXJyb3IgPyAtcGFkZGluZyA6IHRpY2tBbmRQYWRkaW5nO1xuICAgICAgICBjb25zdCByb3RhdGlvbiA9IC10b1JhZGlhbnModGhpcy5sYWJlbFJvdGF0aW9uKTtcbiAgICAgICAgY29uc3QgaXRlbXMgPSBbXTtcbiAgICAgICAgbGV0IGksIGlsZW4sIHRpY2ssIGxhYmVsLCB4LCB5LCB0ZXh0QWxpZ24sIHBpeGVsLCBmb250LCBsaW5lSGVpZ2h0LCBsaW5lQ291bnQsIHRleHRPZmZzZXQ7XG4gICAgICAgIGxldCB0ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJztcbiAgICAgICAgaWYgKHBvc2l0aW9uID09PSAndG9wJykge1xuICAgICAgICAgICAgeSA9IHRoaXMuYm90dG9tIC0gaFRpY2tBbmRQYWRkaW5nO1xuICAgICAgICAgICAgdGV4dEFsaWduID0gdGhpcy5fZ2V0WEF4aXNMYWJlbEFsaWdubWVudCgpO1xuICAgICAgICB9IGVsc2UgaWYgKHBvc2l0aW9uID09PSAnYm90dG9tJykge1xuICAgICAgICAgICAgeSA9IHRoaXMudG9wICsgaFRpY2tBbmRQYWRkaW5nO1xuICAgICAgICAgICAgdGV4dEFsaWduID0gdGhpcy5fZ2V0WEF4aXNMYWJlbEFsaWdubWVudCgpO1xuICAgICAgICB9IGVsc2UgaWYgKHBvc2l0aW9uID09PSAnbGVmdCcpIHtcbiAgICAgICAgICAgIGNvbnN0IHJldCA9IHRoaXMuX2dldFlBeGlzTGFiZWxBbGlnbm1lbnQodGwpO1xuICAgICAgICAgICAgdGV4dEFsaWduID0gcmV0LnRleHRBbGlnbjtcbiAgICAgICAgICAgIHggPSByZXQueDtcbiAgICAgICAgfSBlbHNlIGlmIChwb3NpdGlvbiA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgICAgY29uc3QgcmV0ID0gdGhpcy5fZ2V0WUF4aXNMYWJlbEFsaWdubWVudCh0bCk7XG4gICAgICAgICAgICB0ZXh0QWxpZ24gPSByZXQudGV4dEFsaWduO1xuICAgICAgICAgICAgeCA9IHJldC54O1xuICAgICAgICB9IGVsc2UgaWYgKGF4aXMgPT09ICd4Jykge1xuICAgICAgICAgICAgaWYgKHBvc2l0aW9uID09PSAnY2VudGVyJykge1xuICAgICAgICAgICAgICAgIHkgPSAoY2hhcnRBcmVhLnRvcCArIGNoYXJ0QXJlYS5ib3R0b20pIC8gMiArIHRpY2tBbmRQYWRkaW5nO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpc09iamVjdChwb3NpdGlvbikpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwb3NpdGlvbkF4aXNJRCA9IE9iamVjdC5rZXlzKHBvc2l0aW9uKVswXTtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHBvc2l0aW9uW3Bvc2l0aW9uQXhpc0lEXTtcbiAgICAgICAgICAgICAgICB5ID0gdGhpcy5jaGFydC5zY2FsZXNbcG9zaXRpb25BeGlzSURdLmdldFBpeGVsRm9yVmFsdWUodmFsdWUpICsgdGlja0FuZFBhZGRpbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0ZXh0QWxpZ24gPSB0aGlzLl9nZXRYQXhpc0xhYmVsQWxpZ25tZW50KCk7XG4gICAgICAgIH0gZWxzZSBpZiAoYXhpcyA9PT0gJ3knKSB7XG4gICAgICAgICAgICBpZiAocG9zaXRpb24gPT09ICdjZW50ZXInKSB7XG4gICAgICAgICAgICAgICAgeCA9IChjaGFydEFyZWEubGVmdCArIGNoYXJ0QXJlYS5yaWdodCkgLyAyIC0gdGlja0FuZFBhZGRpbmc7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KHBvc2l0aW9uKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9uQXhpc0lEID0gT2JqZWN0LmtleXMocG9zaXRpb24pWzBdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gcG9zaXRpb25bcG9zaXRpb25BeGlzSURdO1xuICAgICAgICAgICAgICAgIHggPSB0aGlzLmNoYXJ0LnNjYWxlc1twb3NpdGlvbkF4aXNJRF0uZ2V0UGl4ZWxGb3JWYWx1ZSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0ZXh0QWxpZ24gPSB0aGlzLl9nZXRZQXhpc0xhYmVsQWxpZ25tZW50KHRsKS50ZXh0QWxpZ247XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGF4aXMgPT09ICd5Jykge1xuICAgICAgICAgICAgaWYgKGFsaWduID09PSAnc3RhcnQnKSB7XG4gICAgICAgICAgICAgICAgdGV4dEJhc2VsaW5lID0gJ3RvcCc7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGFsaWduID09PSAnZW5kJykge1xuICAgICAgICAgICAgICAgIHRleHRCYXNlbGluZSA9ICdib3R0b20nO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxhYmVsU2l6ZXMgPSB0aGlzLl9nZXRMYWJlbFNpemVzKCk7XG4gICAgICAgIGZvcihpID0gMCwgaWxlbiA9IHRpY2tzLmxlbmd0aDsgaSA8IGlsZW47ICsraSl7XG4gICAgICAgICAgICB0aWNrID0gdGlja3NbaV07XG4gICAgICAgICAgICBsYWJlbCA9IHRpY2subGFiZWw7XG4gICAgICAgICAgICBjb25zdCBvcHRzQXRJbmRleCA9IG9wdGlvblRpY2tzLnNldENvbnRleHQodGhpcy5nZXRDb250ZXh0KGkpKTtcbiAgICAgICAgICAgIHBpeGVsID0gdGhpcy5nZXRQaXhlbEZvclRpY2soaSkgKyBvcHRpb25UaWNrcy5sYWJlbE9mZnNldDtcbiAgICAgICAgICAgIGZvbnQgPSB0aGlzLl9yZXNvbHZlVGlja0ZvbnRPcHRpb25zKGkpO1xuICAgICAgICAgICAgbGluZUhlaWdodCA9IGZvbnQubGluZUhlaWdodDtcbiAgICAgICAgICAgIGxpbmVDb3VudCA9IGlzQXJyYXkobGFiZWwpID8gbGFiZWwubGVuZ3RoIDogMTtcbiAgICAgICAgICAgIGNvbnN0IGhhbGZDb3VudCA9IGxpbmVDb3VudCAvIDI7XG4gICAgICAgICAgICBjb25zdCBjb2xvciA9IG9wdHNBdEluZGV4LmNvbG9yO1xuICAgICAgICAgICAgY29uc3Qgc3Ryb2tlQ29sb3IgPSBvcHRzQXRJbmRleC50ZXh0U3Ryb2tlQ29sb3I7XG4gICAgICAgICAgICBjb25zdCBzdHJva2VXaWR0aCA9IG9wdHNBdEluZGV4LnRleHRTdHJva2VXaWR0aDtcbiAgICAgICAgICAgIGxldCB0aWNrVGV4dEFsaWduID0gdGV4dEFsaWduO1xuICAgICAgICAgICAgaWYgKGlzSG9yaXpvbnRhbCkge1xuICAgICAgICAgICAgICAgIHggPSBwaXhlbDtcbiAgICAgICAgICAgICAgICBpZiAodGV4dEFsaWduID09PSAnaW5uZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpID09PSBpbGVuIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGlja1RleHRBbGlnbiA9ICF0aGlzLm9wdGlvbnMucmV2ZXJzZSA/ICdyaWdodCcgOiAnbGVmdCc7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGlja1RleHRBbGlnbiA9ICF0aGlzLm9wdGlvbnMucmV2ZXJzZSA/ICdsZWZ0JyA6ICdyaWdodCc7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aWNrVGV4dEFsaWduID0gJ2NlbnRlcic7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9uID09PSAndG9wJykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3Jvc3NBbGlnbiA9PT0gJ25lYXInIHx8IHJvdGF0aW9uICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0T2Zmc2V0ID0gLWxpbmVDb3VudCAqIGxpbmVIZWlnaHQgKyBsaW5lSGVpZ2h0IC8gMjtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjcm9zc0FsaWduID09PSAnY2VudGVyJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dE9mZnNldCA9IC1sYWJlbFNpemVzLmhpZ2hlc3QuaGVpZ2h0IC8gMiAtIGhhbGZDb3VudCAqIGxpbmVIZWlnaHQgKyBsaW5lSGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dE9mZnNldCA9IC1sYWJlbFNpemVzLmhpZ2hlc3QuaGVpZ2h0ICsgbGluZUhlaWdodCAvIDI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3Jvc3NBbGlnbiA9PT0gJ25lYXInIHx8IHJvdGF0aW9uICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0T2Zmc2V0ID0gbGluZUhlaWdodCAvIDI7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY3Jvc3NBbGlnbiA9PT0gJ2NlbnRlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHRPZmZzZXQgPSBsYWJlbFNpemVzLmhpZ2hlc3QuaGVpZ2h0IC8gMiAtIGhhbGZDb3VudCAqIGxpbmVIZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0T2Zmc2V0ID0gbGFiZWxTaXplcy5oaWdoZXN0LmhlaWdodCAtIGxpbmVDb3VudCAqIGxpbmVIZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG1pcnJvcikge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0T2Zmc2V0ICo9IC0xO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocm90YXRpb24gIT09IDAgJiYgIW9wdHNBdEluZGV4LnNob3dMYWJlbEJhY2tkcm9wKSB7XG4gICAgICAgICAgICAgICAgICAgIHggKz0gbGluZUhlaWdodCAvIDIgKiBNYXRoLnNpbihyb3RhdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB5ID0gcGl4ZWw7XG4gICAgICAgICAgICAgICAgdGV4dE9mZnNldCA9ICgxIC0gbGluZUNvdW50KSAqIGxpbmVIZWlnaHQgLyAyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGJhY2tkcm9wO1xuICAgICAgICAgICAgaWYgKG9wdHNBdEluZGV4LnNob3dMYWJlbEJhY2tkcm9wKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGFiZWxQYWRkaW5nID0gdG9QYWRkaW5nKG9wdHNBdEluZGV4LmJhY2tkcm9wUGFkZGluZyk7XG4gICAgICAgICAgICAgICAgY29uc3QgaGVpZ2h0ID0gbGFiZWxTaXplcy5oZWlnaHRzW2ldO1xuICAgICAgICAgICAgICAgIGNvbnN0IHdpZHRoID0gbGFiZWxTaXplcy53aWR0aHNbaV07XG4gICAgICAgICAgICAgICAgbGV0IHRvcCA9IHRleHRPZmZzZXQgLSBsYWJlbFBhZGRpbmcudG9wO1xuICAgICAgICAgICAgICAgIGxldCBsZWZ0ID0gMCAtIGxhYmVsUGFkZGluZy5sZWZ0O1xuICAgICAgICAgICAgICAgIHN3aXRjaCh0ZXh0QmFzZWxpbmUpe1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdtaWRkbGUnOlxuICAgICAgICAgICAgICAgICAgICAgICAgdG9wIC09IGhlaWdodCAvIDI7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnYm90dG9tJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcCAtPSBoZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3dpdGNoKHRleHRBbGlnbil7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2NlbnRlcic6XG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0IC09IHdpZHRoIC8gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdyaWdodCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0IC09IHdpZHRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2lubmVyJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpID09PSBpbGVuIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQgLT0gd2lkdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGkgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdCAtPSB3aWR0aCAvIDI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYmFja2Ryb3AgPSB7XG4gICAgICAgICAgICAgICAgICAgIGxlZnQsXG4gICAgICAgICAgICAgICAgICAgIHRvcCxcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHdpZHRoICsgbGFiZWxQYWRkaW5nLndpZHRoLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGhlaWdodCArIGxhYmVsUGFkZGluZy5oZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiBvcHRzQXRJbmRleC5iYWNrZHJvcENvbG9yXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGl0ZW1zLnB1c2goe1xuICAgICAgICAgICAgICAgIGxhYmVsLFxuICAgICAgICAgICAgICAgIGZvbnQsXG4gICAgICAgICAgICAgICAgdGV4dE9mZnNldCxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uLFxuICAgICAgICAgICAgICAgICAgICBjb2xvcixcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlQ29sb3IsXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0QWxpZ246IHRpY2tUZXh0QWxpZ24sXG4gICAgICAgICAgICAgICAgICAgIHRleHRCYXNlbGluZSxcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRpb246IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHgsXG4gICAgICAgICAgICAgICAgICAgICAgICB5XG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgIGJhY2tkcm9wXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGl0ZW1zO1xuICAgIH1cbiAgICBfZ2V0WEF4aXNMYWJlbEFsaWdubWVudCgpIHtcbiAgICAgICAgY29uc3QgeyBwb3NpdGlvbiAsIHRpY2tzICB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCByb3RhdGlvbiA9IC10b1JhZGlhbnModGhpcy5sYWJlbFJvdGF0aW9uKTtcbiAgICAgICAgaWYgKHJvdGF0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gcG9zaXRpb24gPT09ICd0b3AnID8gJ2xlZnQnIDogJ3JpZ2h0JztcbiAgICAgICAgfVxuICAgICAgICBsZXQgYWxpZ24gPSAnY2VudGVyJztcbiAgICAgICAgaWYgKHRpY2tzLmFsaWduID09PSAnc3RhcnQnKSB7XG4gICAgICAgICAgICBhbGlnbiA9ICdsZWZ0JztcbiAgICAgICAgfSBlbHNlIGlmICh0aWNrcy5hbGlnbiA9PT0gJ2VuZCcpIHtcbiAgICAgICAgICAgIGFsaWduID0gJ3JpZ2h0JztcbiAgICAgICAgfSBlbHNlIGlmICh0aWNrcy5hbGlnbiA9PT0gJ2lubmVyJykge1xuICAgICAgICAgICAgYWxpZ24gPSAnaW5uZXInO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhbGlnbjtcbiAgICB9XG4gICAgX2dldFlBeGlzTGFiZWxBbGlnbm1lbnQodGwpIHtcbiAgICAgICAgY29uc3QgeyBwb3NpdGlvbiAsIHRpY2tzOiB7IGNyb3NzQWxpZ24gLCBtaXJyb3IgLCBwYWRkaW5nICB9ICB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBsYWJlbFNpemVzID0gdGhpcy5fZ2V0TGFiZWxTaXplcygpO1xuICAgICAgICBjb25zdCB0aWNrQW5kUGFkZGluZyA9IHRsICsgcGFkZGluZztcbiAgICAgICAgY29uc3Qgd2lkZXN0ID0gbGFiZWxTaXplcy53aWRlc3Qud2lkdGg7XG4gICAgICAgIGxldCB0ZXh0QWxpZ247XG4gICAgICAgIGxldCB4O1xuICAgICAgICBpZiAocG9zaXRpb24gPT09ICdsZWZ0Jykge1xuICAgICAgICAgICAgaWYgKG1pcnJvcikge1xuICAgICAgICAgICAgICAgIHggPSB0aGlzLnJpZ2h0ICsgcGFkZGluZztcbiAgICAgICAgICAgICAgICBpZiAoY3Jvc3NBbGlnbiA9PT0gJ25lYXInKSB7XG4gICAgICAgICAgICAgICAgICAgIHRleHRBbGlnbiA9ICdsZWZ0JztcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNyb3NzQWxpZ24gPT09ICdjZW50ZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIHRleHRBbGlnbiA9ICdjZW50ZXInO1xuICAgICAgICAgICAgICAgICAgICB4ICs9IHdpZGVzdCAvIDI7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dEFsaWduID0gJ3JpZ2h0JztcbiAgICAgICAgICAgICAgICAgICAgeCArPSB3aWRlc3Q7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB4ID0gdGhpcy5yaWdodCAtIHRpY2tBbmRQYWRkaW5nO1xuICAgICAgICAgICAgICAgIGlmIChjcm9zc0FsaWduID09PSAnbmVhcicpIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dEFsaWduID0gJ3JpZ2h0JztcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNyb3NzQWxpZ24gPT09ICdjZW50ZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIHRleHRBbGlnbiA9ICdjZW50ZXInO1xuICAgICAgICAgICAgICAgICAgICB4IC09IHdpZGVzdCAvIDI7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dEFsaWduID0gJ2xlZnQnO1xuICAgICAgICAgICAgICAgICAgICB4ID0gdGhpcy5sZWZ0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChwb3NpdGlvbiA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgICAgaWYgKG1pcnJvcikge1xuICAgICAgICAgICAgICAgIHggPSB0aGlzLmxlZnQgKyBwYWRkaW5nO1xuICAgICAgICAgICAgICAgIGlmIChjcm9zc0FsaWduID09PSAnbmVhcicpIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dEFsaWduID0gJ3JpZ2h0JztcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNyb3NzQWxpZ24gPT09ICdjZW50ZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIHRleHRBbGlnbiA9ICdjZW50ZXInO1xuICAgICAgICAgICAgICAgICAgICB4IC09IHdpZGVzdCAvIDI7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dEFsaWduID0gJ2xlZnQnO1xuICAgICAgICAgICAgICAgICAgICB4IC09IHdpZGVzdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHggPSB0aGlzLmxlZnQgKyB0aWNrQW5kUGFkZGluZztcbiAgICAgICAgICAgICAgICBpZiAoY3Jvc3NBbGlnbiA9PT0gJ25lYXInKSB7XG4gICAgICAgICAgICAgICAgICAgIHRleHRBbGlnbiA9ICdsZWZ0JztcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNyb3NzQWxpZ24gPT09ICdjZW50ZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIHRleHRBbGlnbiA9ICdjZW50ZXInO1xuICAgICAgICAgICAgICAgICAgICB4ICs9IHdpZGVzdCAvIDI7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dEFsaWduID0gJ3JpZ2h0JztcbiAgICAgICAgICAgICAgICAgICAgeCA9IHRoaXMucmlnaHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGV4dEFsaWduID0gJ3JpZ2h0JztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdGV4dEFsaWduLFxuICAgICAgICAgICAgeFxuICAgICAgICB9O1xuICAgIH1cbiBfY29tcHV0ZUxhYmVsQXJlYSgpIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy50aWNrcy5taXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjaGFydCA9IHRoaXMuY2hhcnQ7XG4gICAgICAgIGNvbnN0IHBvc2l0aW9uID0gdGhpcy5vcHRpb25zLnBvc2l0aW9uO1xuICAgICAgICBpZiAocG9zaXRpb24gPT09ICdsZWZ0JyB8fCBwb3NpdGlvbiA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgICAgICAgbGVmdDogdGhpcy5sZWZ0LFxuICAgICAgICAgICAgICAgIGJvdHRvbTogY2hhcnQuaGVpZ2h0LFxuICAgICAgICAgICAgICAgIHJpZ2h0OiB0aGlzLnJpZ2h0XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChwb3NpdGlvbiA9PT0gJ3RvcCcgfHwgcG9zaXRpb24gPT09ICdib3R0b20nKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHRvcDogdGhpcy50b3AsXG4gICAgICAgICAgICAgICAgbGVmdDogMCxcbiAgICAgICAgICAgICAgICBib3R0b206IHRoaXMuYm90dG9tLFxuICAgICAgICAgICAgICAgIHJpZ2h0OiBjaGFydC53aWR0aFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiBkcmF3QmFja2dyb3VuZCgpIHtcbiAgICAgICAgY29uc3QgeyBjdHggLCBvcHRpb25zOiB7IGJhY2tncm91bmRDb2xvciAgfSAsIGxlZnQgLCB0b3AgLCB3aWR0aCAsIGhlaWdodCAgfSA9IHRoaXM7XG4gICAgICAgIGlmIChiYWNrZ3JvdW5kQ29sb3IpIHtcbiAgICAgICAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gYmFja2dyb3VuZENvbG9yO1xuICAgICAgICAgICAgY3R4LmZpbGxSZWN0KGxlZnQsIHRvcCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgICAgICBjdHgucmVzdG9yZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldExpbmVXaWR0aEZvclZhbHVlKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGdyaWQgPSB0aGlzLm9wdGlvbnMuZ3JpZDtcbiAgICAgICAgaWYgKCF0aGlzLl9pc1Zpc2libGUoKSB8fCAhZ3JpZC5kaXNwbGF5KSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0aWNrcyA9IHRoaXMudGlja3M7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGlja3MuZmluZEluZGV4KCh0KT0+dC52YWx1ZSA9PT0gdmFsdWUpO1xuICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICAgICAgY29uc3Qgb3B0cyA9IGdyaWQuc2V0Q29udGV4dCh0aGlzLmdldENvbnRleHQoaW5kZXgpKTtcbiAgICAgICAgICAgIHJldHVybiBvcHRzLmxpbmVXaWR0aDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gZHJhd0dyaWQoY2hhcnRBcmVhKSB7XG4gICAgICAgIGNvbnN0IGdyaWQgPSB0aGlzLm9wdGlvbnMuZ3JpZDtcbiAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5jdHg7XG4gICAgICAgIGNvbnN0IGl0ZW1zID0gdGhpcy5fZ3JpZExpbmVJdGVtcyB8fCAodGhpcy5fZ3JpZExpbmVJdGVtcyA9IHRoaXMuX2NvbXB1dGVHcmlkTGluZUl0ZW1zKGNoYXJ0QXJlYSkpO1xuICAgICAgICBsZXQgaSwgaWxlbjtcbiAgICAgICAgY29uc3QgZHJhd0xpbmUgPSAocDEsIHAyLCBzdHlsZSk9PntcbiAgICAgICAgICAgIGlmICghc3R5bGUud2lkdGggfHwgIXN0eWxlLmNvbG9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3R4LnNhdmUoKTtcbiAgICAgICAgICAgIGN0eC5saW5lV2lkdGggPSBzdHlsZS53aWR0aDtcbiAgICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IHN0eWxlLmNvbG9yO1xuICAgICAgICAgICAgY3R4LnNldExpbmVEYXNoKHN0eWxlLmJvcmRlckRhc2ggfHwgW10pO1xuICAgICAgICAgICAgY3R4LmxpbmVEYXNoT2Zmc2V0ID0gc3R5bGUuYm9yZGVyRGFzaE9mZnNldDtcbiAgICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgIGN0eC5tb3ZlVG8ocDEueCwgcDEueSk7XG4gICAgICAgICAgICBjdHgubGluZVRvKHAyLngsIHAyLnkpO1xuICAgICAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGdyaWQuZGlzcGxheSkge1xuICAgICAgICAgICAgZm9yKGkgPSAwLCBpbGVuID0gaXRlbXMubGVuZ3RoOyBpIDwgaWxlbjsgKytpKXtcbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtID0gaXRlbXNbaV07XG4gICAgICAgICAgICAgICAgaWYgKGdyaWQuZHJhd09uQ2hhcnRBcmVhKSB7XG4gICAgICAgICAgICAgICAgICAgIGRyYXdMaW5lKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHg6IGl0ZW0ueDEsXG4gICAgICAgICAgICAgICAgICAgICAgICB5OiBpdGVtLnkxXG4gICAgICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHg6IGl0ZW0ueDIsXG4gICAgICAgICAgICAgICAgICAgICAgICB5OiBpdGVtLnkyXG4gICAgICAgICAgICAgICAgICAgIH0sIGl0ZW0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZ3JpZC5kcmF3VGlja3MpIHtcbiAgICAgICAgICAgICAgICAgICAgZHJhd0xpbmUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgeDogaXRlbS50eDEsXG4gICAgICAgICAgICAgICAgICAgICAgICB5OiBpdGVtLnR5MVxuICAgICAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB4OiBpdGVtLnR4MixcbiAgICAgICAgICAgICAgICAgICAgICAgIHk6IGl0ZW0udHkyXG4gICAgICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBpdGVtLnRpY2tDb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBpdGVtLnRpY2tXaWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlckRhc2g6IGl0ZW0udGlja0JvcmRlckRhc2gsXG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJEYXNoT2Zmc2V0OiBpdGVtLnRpY2tCb3JkZXJEYXNoT2Zmc2V0XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiBkcmF3Qm9yZGVyKCkge1xuICAgICAgICBjb25zdCB7IGNoYXJ0ICwgY3R4ICwgb3B0aW9uczogeyBib3JkZXIgLCBncmlkICB9ICB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgYm9yZGVyT3B0cyA9IGJvcmRlci5zZXRDb250ZXh0KHRoaXMuZ2V0Q29udGV4dCgpKTtcbiAgICAgICAgY29uc3QgYXhpc1dpZHRoID0gYm9yZGVyLmRpc3BsYXkgPyBib3JkZXJPcHRzLndpZHRoIDogMDtcbiAgICAgICAgaWYgKCFheGlzV2lkdGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBsYXN0TGluZVdpZHRoID0gZ3JpZC5zZXRDb250ZXh0KHRoaXMuZ2V0Q29udGV4dCgwKSkubGluZVdpZHRoO1xuICAgICAgICBjb25zdCBib3JkZXJWYWx1ZSA9IHRoaXMuX2JvcmRlclZhbHVlO1xuICAgICAgICBsZXQgeDEsIHgyLCB5MSwgeTI7XG4gICAgICAgIGlmICh0aGlzLmlzSG9yaXpvbnRhbCgpKSB7XG4gICAgICAgICAgICB4MSA9IF9hbGlnblBpeGVsKGNoYXJ0LCB0aGlzLmxlZnQsIGF4aXNXaWR0aCkgLSBheGlzV2lkdGggLyAyO1xuICAgICAgICAgICAgeDIgPSBfYWxpZ25QaXhlbChjaGFydCwgdGhpcy5yaWdodCwgbGFzdExpbmVXaWR0aCkgKyBsYXN0TGluZVdpZHRoIC8gMjtcbiAgICAgICAgICAgIHkxID0geTIgPSBib3JkZXJWYWx1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHkxID0gX2FsaWduUGl4ZWwoY2hhcnQsIHRoaXMudG9wLCBheGlzV2lkdGgpIC0gYXhpc1dpZHRoIC8gMjtcbiAgICAgICAgICAgIHkyID0gX2FsaWduUGl4ZWwoY2hhcnQsIHRoaXMuYm90dG9tLCBsYXN0TGluZVdpZHRoKSArIGxhc3RMaW5lV2lkdGggLyAyO1xuICAgICAgICAgICAgeDEgPSB4MiA9IGJvcmRlclZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAgIGN0eC5saW5lV2lkdGggPSBib3JkZXJPcHRzLndpZHRoO1xuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBib3JkZXJPcHRzLmNvbG9yO1xuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIGN0eC5tb3ZlVG8oeDEsIHkxKTtcbiAgICAgICAgY3R4LmxpbmVUbyh4MiwgeTIpO1xuICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgfVxuIGRyYXdMYWJlbHMoY2hhcnRBcmVhKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvblRpY2tzID0gdGhpcy5vcHRpb25zLnRpY2tzO1xuICAgICAgICBpZiAoIW9wdGlvblRpY2tzLmRpc3BsYXkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjdHggPSB0aGlzLmN0eDtcbiAgICAgICAgY29uc3QgYXJlYSA9IHRoaXMuX2NvbXB1dGVMYWJlbEFyZWEoKTtcbiAgICAgICAgaWYgKGFyZWEpIHtcbiAgICAgICAgICAgIGNsaXBBcmVhKGN0eCwgYXJlYSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaXRlbXMgPSB0aGlzLmdldExhYmVsSXRlbXMoY2hhcnRBcmVhKTtcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKXtcbiAgICAgICAgICAgIGNvbnN0IHJlbmRlclRleHRPcHRpb25zID0gaXRlbS5vcHRpb25zO1xuICAgICAgICAgICAgY29uc3QgdGlja0ZvbnQgPSBpdGVtLmZvbnQ7XG4gICAgICAgICAgICBjb25zdCBsYWJlbCA9IGl0ZW0ubGFiZWw7XG4gICAgICAgICAgICBjb25zdCB5ID0gaXRlbS50ZXh0T2Zmc2V0O1xuICAgICAgICAgICAgcmVuZGVyVGV4dChjdHgsIGxhYmVsLCAwLCB5LCB0aWNrRm9udCwgcmVuZGVyVGV4dE9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhcmVhKSB7XG4gICAgICAgICAgICB1bmNsaXBBcmVhKGN0eCk7XG4gICAgICAgIH1cbiAgICB9XG4gZHJhd1RpdGxlKCkge1xuICAgICAgICBjb25zdCB7IGN0eCAsIG9wdGlvbnM6IHsgcG9zaXRpb24gLCB0aXRsZSAsIHJldmVyc2UgIH0gIH0gPSB0aGlzO1xuICAgICAgICBpZiAoIXRpdGxlLmRpc3BsYXkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBmb250ID0gdG9Gb250KHRpdGxlLmZvbnQpO1xuICAgICAgICBjb25zdCBwYWRkaW5nID0gdG9QYWRkaW5nKHRpdGxlLnBhZGRpbmcpO1xuICAgICAgICBjb25zdCBhbGlnbiA9IHRpdGxlLmFsaWduO1xuICAgICAgICBsZXQgb2Zmc2V0ID0gZm9udC5saW5lSGVpZ2h0IC8gMjtcbiAgICAgICAgaWYgKHBvc2l0aW9uID09PSAnYm90dG9tJyB8fCBwb3NpdGlvbiA9PT0gJ2NlbnRlcicgfHwgaXNPYmplY3QocG9zaXRpb24pKSB7XG4gICAgICAgICAgICBvZmZzZXQgKz0gcGFkZGluZy5ib3R0b207XG4gICAgICAgICAgICBpZiAoaXNBcnJheSh0aXRsZS50ZXh0KSkge1xuICAgICAgICAgICAgICAgIG9mZnNldCArPSBmb250LmxpbmVIZWlnaHQgKiAodGl0bGUudGV4dC5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9mZnNldCArPSBwYWRkaW5nLnRvcDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IHRpdGxlWCAsIHRpdGxlWSAsIG1heFdpZHRoICwgcm90YXRpb24gIH0gPSB0aXRsZUFyZ3ModGhpcywgb2Zmc2V0LCBwb3NpdGlvbiwgYWxpZ24pO1xuICAgICAgICByZW5kZXJUZXh0KGN0eCwgdGl0bGUudGV4dCwgMCwgMCwgZm9udCwge1xuICAgICAgICAgICAgY29sb3I6IHRpdGxlLmNvbG9yLFxuICAgICAgICAgICAgbWF4V2lkdGgsXG4gICAgICAgICAgICByb3RhdGlvbixcbiAgICAgICAgICAgIHRleHRBbGlnbjogdGl0bGVBbGlnbihhbGlnbiwgcG9zaXRpb24sIHJldmVyc2UpLFxuICAgICAgICAgICAgdGV4dEJhc2VsaW5lOiAnbWlkZGxlJyxcbiAgICAgICAgICAgIHRyYW5zbGF0aW9uOiBbXG4gICAgICAgICAgICAgICAgdGl0bGVYLFxuICAgICAgICAgICAgICAgIHRpdGxlWVxuICAgICAgICAgICAgXVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZHJhdyhjaGFydEFyZWEpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9pc1Zpc2libGUoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZHJhd0JhY2tncm91bmQoKTtcbiAgICAgICAgdGhpcy5kcmF3R3JpZChjaGFydEFyZWEpO1xuICAgICAgICB0aGlzLmRyYXdCb3JkZXIoKTtcbiAgICAgICAgdGhpcy5kcmF3VGl0bGUoKTtcbiAgICAgICAgdGhpcy5kcmF3TGFiZWxzKGNoYXJ0QXJlYSk7XG4gICAgfVxuIF9sYXllcnMoKSB7XG4gICAgICAgIGNvbnN0IG9wdHMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHR6ID0gb3B0cy50aWNrcyAmJiBvcHRzLnRpY2tzLnogfHwgMDtcbiAgICAgICAgY29uc3QgZ3ogPSB2YWx1ZU9yRGVmYXVsdChvcHRzLmdyaWQgJiYgb3B0cy5ncmlkLnosIC0xKTtcbiAgICAgICAgY29uc3QgYnogPSB2YWx1ZU9yRGVmYXVsdChvcHRzLmJvcmRlciAmJiBvcHRzLmJvcmRlci56LCAwKTtcbiAgICAgICAgaWYgKCF0aGlzLl9pc1Zpc2libGUoKSB8fCB0aGlzLmRyYXcgIT09IFNjYWxlLnByb3RvdHlwZS5kcmF3KSB7XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgejogdHosXG4gICAgICAgICAgICAgICAgICAgIGRyYXc6IChjaGFydEFyZWEpPT57XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXcoY2hhcnRBcmVhKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB6OiBneixcbiAgICAgICAgICAgICAgICBkcmF3OiAoY2hhcnRBcmVhKT0+e1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdCYWNrZ3JvdW5kKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhd0dyaWQoY2hhcnRBcmVhKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3VGl0bGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHo6IGJ6LFxuICAgICAgICAgICAgICAgIGRyYXc6ICgpPT57XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhd0JvcmRlcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgejogdHosXG4gICAgICAgICAgICAgICAgZHJhdzogKGNoYXJ0QXJlYSk9PntcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3TGFiZWxzKGNoYXJ0QXJlYSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICBdO1xuICAgIH1cbiBnZXRNYXRjaGluZ1Zpc2libGVNZXRhcyh0eXBlKSB7XG4gICAgICAgIGNvbnN0IG1ldGFzID0gdGhpcy5jaGFydC5nZXRTb3J0ZWRWaXNpYmxlRGF0YXNldE1ldGFzKCk7XG4gICAgICAgIGNvbnN0IGF4aXNJRCA9IHRoaXMuYXhpcyArICdBeGlzSUQnO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICAgICAgbGV0IGksIGlsZW47XG4gICAgICAgIGZvcihpID0gMCwgaWxlbiA9IG1ldGFzLmxlbmd0aDsgaSA8IGlsZW47ICsraSl7XG4gICAgICAgICAgICBjb25zdCBtZXRhID0gbWV0YXNbaV07XG4gICAgICAgICAgICBpZiAobWV0YVtheGlzSURdID09PSB0aGlzLmlkICYmICghdHlwZSB8fCBtZXRhLnR5cGUgPT09IHR5cGUpKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobWV0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gX3Jlc29sdmVUaWNrRm9udE9wdGlvbnMoaW5kZXgpIHtcbiAgICAgICAgY29uc3Qgb3B0cyA9IHRoaXMub3B0aW9ucy50aWNrcy5zZXRDb250ZXh0KHRoaXMuZ2V0Q29udGV4dChpbmRleCkpO1xuICAgICAgICByZXR1cm4gdG9Gb250KG9wdHMuZm9udCk7XG4gICAgfVxuIF9tYXhEaWdpdHMoKSB7XG4gICAgICAgIGNvbnN0IGZvbnRTaXplID0gdGhpcy5fcmVzb2x2ZVRpY2tGb250T3B0aW9ucygwKS5saW5lSGVpZ2h0O1xuICAgICAgICByZXR1cm4gKHRoaXMuaXNIb3Jpem9udGFsKCkgPyB0aGlzLndpZHRoIDogdGhpcy5oZWlnaHQpIC8gZm9udFNpemU7XG4gICAgfVxufVxuXG5jbGFzcyBUeXBlZFJlZ2lzdHJ5IHtcbiAgICBjb25zdHJ1Y3Rvcih0eXBlLCBzY29wZSwgb3ZlcnJpZGUpe1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB0aGlzLnNjb3BlID0gc2NvcGU7XG4gICAgICAgIHRoaXMub3ZlcnJpZGUgPSBvdmVycmlkZTtcbiAgICAgICAgdGhpcy5pdGVtcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgfVxuICAgIGlzRm9yVHlwZSh0eXBlKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmlzUHJvdG90eXBlT2YuY2FsbCh0aGlzLnR5cGUucHJvdG90eXBlLCB0eXBlLnByb3RvdHlwZSk7XG4gICAgfVxuIHJlZ2lzdGVyKGl0ZW0pIHtcbiAgICAgICAgY29uc3QgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoaXRlbSk7XG4gICAgICAgIGxldCBwYXJlbnRTY29wZTtcbiAgICAgICAgaWYgKGlzSUNoYXJ0Q29tcG9uZW50KHByb3RvKSkge1xuICAgICAgICAgICAgcGFyZW50U2NvcGUgPSB0aGlzLnJlZ2lzdGVyKHByb3RvKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpdGVtcyA9IHRoaXMuaXRlbXM7XG4gICAgICAgIGNvbnN0IGlkID0gaXRlbS5pZDtcbiAgICAgICAgY29uc3Qgc2NvcGUgPSB0aGlzLnNjb3BlICsgJy4nICsgaWQ7XG4gICAgICAgIGlmICghaWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignY2xhc3MgZG9lcyBub3QgaGF2ZSBpZDogJyArIGl0ZW0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpZCBpbiBpdGVtcykge1xuICAgICAgICAgICAgcmV0dXJuIHNjb3BlO1xuICAgICAgICB9XG4gICAgICAgIGl0ZW1zW2lkXSA9IGl0ZW07XG4gICAgICAgIHJlZ2lzdGVyRGVmYXVsdHMoaXRlbSwgc2NvcGUsIHBhcmVudFNjb3BlKTtcbiAgICAgICAgaWYgKHRoaXMub3ZlcnJpZGUpIHtcbiAgICAgICAgICAgIGRlZmF1bHRzLm92ZXJyaWRlKGl0ZW0uaWQsIGl0ZW0ub3ZlcnJpZGVzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2NvcGU7XG4gICAgfVxuIGdldChpZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pdGVtc1tpZF07XG4gICAgfVxuIHVucmVnaXN0ZXIoaXRlbSkge1xuICAgICAgICBjb25zdCBpdGVtcyA9IHRoaXMuaXRlbXM7XG4gICAgICAgIGNvbnN0IGlkID0gaXRlbS5pZDtcbiAgICAgICAgY29uc3Qgc2NvcGUgPSB0aGlzLnNjb3BlO1xuICAgICAgICBpZiAoaWQgaW4gaXRlbXMpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBpdGVtc1tpZF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNjb3BlICYmIGlkIGluIGRlZmF1bHRzW3Njb3BlXSkge1xuICAgICAgICAgICAgZGVsZXRlIGRlZmF1bHRzW3Njb3BlXVtpZF07XG4gICAgICAgICAgICBpZiAodGhpcy5vdmVycmlkZSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBvdmVycmlkZXNbaWRdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gcmVnaXN0ZXJEZWZhdWx0cyhpdGVtLCBzY29wZSwgcGFyZW50U2NvcGUpIHtcbiAgICBjb25zdCBpdGVtRGVmYXVsdHMgPSBtZXJnZShPYmplY3QuY3JlYXRlKG51bGwpLCBbXG4gICAgICAgIHBhcmVudFNjb3BlID8gZGVmYXVsdHMuZ2V0KHBhcmVudFNjb3BlKSA6IHt9LFxuICAgICAgICBkZWZhdWx0cy5nZXQoc2NvcGUpLFxuICAgICAgICBpdGVtLmRlZmF1bHRzXG4gICAgXSk7XG4gICAgZGVmYXVsdHMuc2V0KHNjb3BlLCBpdGVtRGVmYXVsdHMpO1xuICAgIGlmIChpdGVtLmRlZmF1bHRSb3V0ZXMpIHtcbiAgICAgICAgcm91dGVEZWZhdWx0cyhzY29wZSwgaXRlbS5kZWZhdWx0Um91dGVzKTtcbiAgICB9XG4gICAgaWYgKGl0ZW0uZGVzY3JpcHRvcnMpIHtcbiAgICAgICAgZGVmYXVsdHMuZGVzY3JpYmUoc2NvcGUsIGl0ZW0uZGVzY3JpcHRvcnMpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHJvdXRlRGVmYXVsdHMoc2NvcGUsIHJvdXRlcykge1xuICAgIE9iamVjdC5rZXlzKHJvdXRlcykuZm9yRWFjaCgocHJvcGVydHkpPT57XG4gICAgICAgIGNvbnN0IHByb3BlcnR5UGFydHMgPSBwcm9wZXJ0eS5zcGxpdCgnLicpO1xuICAgICAgICBjb25zdCBzb3VyY2VOYW1lID0gcHJvcGVydHlQYXJ0cy5wb3AoKTtcbiAgICAgICAgY29uc3Qgc291cmNlU2NvcGUgPSBbXG4gICAgICAgICAgICBzY29wZVxuICAgICAgICBdLmNvbmNhdChwcm9wZXJ0eVBhcnRzKS5qb2luKCcuJyk7XG4gICAgICAgIGNvbnN0IHBhcnRzID0gcm91dGVzW3Byb3BlcnR5XS5zcGxpdCgnLicpO1xuICAgICAgICBjb25zdCB0YXJnZXROYW1lID0gcGFydHMucG9wKCk7XG4gICAgICAgIGNvbnN0IHRhcmdldFNjb3BlID0gcGFydHMuam9pbignLicpO1xuICAgICAgICBkZWZhdWx0cy5yb3V0ZShzb3VyY2VTY29wZSwgc291cmNlTmFtZSwgdGFyZ2V0U2NvcGUsIHRhcmdldE5hbWUpO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gaXNJQ2hhcnRDb21wb25lbnQocHJvdG8pIHtcbiAgICByZXR1cm4gJ2lkJyBpbiBwcm90byAmJiAnZGVmYXVsdHMnIGluIHByb3RvO1xufVxuXG5jbGFzcyBSZWdpc3RyeSB7XG4gICAgY29uc3RydWN0b3IoKXtcbiAgICAgICAgdGhpcy5jb250cm9sbGVycyA9IG5ldyBUeXBlZFJlZ2lzdHJ5KERhdGFzZXRDb250cm9sbGVyLCAnZGF0YXNldHMnLCB0cnVlKTtcbiAgICAgICAgdGhpcy5lbGVtZW50cyA9IG5ldyBUeXBlZFJlZ2lzdHJ5KEVsZW1lbnQsICdlbGVtZW50cycpO1xuICAgICAgICB0aGlzLnBsdWdpbnMgPSBuZXcgVHlwZWRSZWdpc3RyeShPYmplY3QsICdwbHVnaW5zJyk7XG4gICAgICAgIHRoaXMuc2NhbGVzID0gbmV3IFR5cGVkUmVnaXN0cnkoU2NhbGUsICdzY2FsZXMnKTtcbiAgICAgICAgdGhpcy5fdHlwZWRSZWdpc3RyaWVzID0gW1xuICAgICAgICAgICAgdGhpcy5jb250cm9sbGVycyxcbiAgICAgICAgICAgIHRoaXMuc2NhbGVzLFxuICAgICAgICAgICAgdGhpcy5lbGVtZW50c1xuICAgICAgICBdO1xuICAgIH1cbiBhZGQoLi4uYXJncykge1xuICAgICAgICB0aGlzLl9lYWNoKCdyZWdpc3RlcicsIGFyZ3MpO1xuICAgIH1cbiAgICByZW1vdmUoLi4uYXJncykge1xuICAgICAgICB0aGlzLl9lYWNoKCd1bnJlZ2lzdGVyJywgYXJncyk7XG4gICAgfVxuIGFkZENvbnRyb2xsZXJzKC4uLmFyZ3MpIHtcbiAgICAgICAgdGhpcy5fZWFjaCgncmVnaXN0ZXInLCBhcmdzLCB0aGlzLmNvbnRyb2xsZXJzKTtcbiAgICB9XG4gYWRkRWxlbWVudHMoLi4uYXJncykge1xuICAgICAgICB0aGlzLl9lYWNoKCdyZWdpc3RlcicsIGFyZ3MsIHRoaXMuZWxlbWVudHMpO1xuICAgIH1cbiBhZGRQbHVnaW5zKC4uLmFyZ3MpIHtcbiAgICAgICAgdGhpcy5fZWFjaCgncmVnaXN0ZXInLCBhcmdzLCB0aGlzLnBsdWdpbnMpO1xuICAgIH1cbiBhZGRTY2FsZXMoLi4uYXJncykge1xuICAgICAgICB0aGlzLl9lYWNoKCdyZWdpc3RlcicsIGFyZ3MsIHRoaXMuc2NhbGVzKTtcbiAgICB9XG4gZ2V0Q29udHJvbGxlcihpZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0KGlkLCB0aGlzLmNvbnRyb2xsZXJzLCAnY29udHJvbGxlcicpO1xuICAgIH1cbiBnZXRFbGVtZW50KGlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXQoaWQsIHRoaXMuZWxlbWVudHMsICdlbGVtZW50Jyk7XG4gICAgfVxuIGdldFBsdWdpbihpZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0KGlkLCB0aGlzLnBsdWdpbnMsICdwbHVnaW4nKTtcbiAgICB9XG4gZ2V0U2NhbGUoaWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldChpZCwgdGhpcy5zY2FsZXMsICdzY2FsZScpO1xuICAgIH1cbiByZW1vdmVDb250cm9sbGVycyguLi5hcmdzKSB7XG4gICAgICAgIHRoaXMuX2VhY2goJ3VucmVnaXN0ZXInLCBhcmdzLCB0aGlzLmNvbnRyb2xsZXJzKTtcbiAgICB9XG4gcmVtb3ZlRWxlbWVudHMoLi4uYXJncykge1xuICAgICAgICB0aGlzLl9lYWNoKCd1bnJlZ2lzdGVyJywgYXJncywgdGhpcy5lbGVtZW50cyk7XG4gICAgfVxuIHJlbW92ZVBsdWdpbnMoLi4uYXJncykge1xuICAgICAgICB0aGlzLl9lYWNoKCd1bnJlZ2lzdGVyJywgYXJncywgdGhpcy5wbHVnaW5zKTtcbiAgICB9XG4gcmVtb3ZlU2NhbGVzKC4uLmFyZ3MpIHtcbiAgICAgICAgdGhpcy5fZWFjaCgndW5yZWdpc3RlcicsIGFyZ3MsIHRoaXMuc2NhbGVzKTtcbiAgICB9XG4gX2VhY2gobWV0aG9kLCBhcmdzLCB0eXBlZFJlZ2lzdHJ5KSB7XG4gICAgICAgIFtcbiAgICAgICAgICAgIC4uLmFyZ3NcbiAgICAgICAgXS5mb3JFYWNoKChhcmcpPT57XG4gICAgICAgICAgICBjb25zdCByZWcgPSB0eXBlZFJlZ2lzdHJ5IHx8IHRoaXMuX2dldFJlZ2lzdHJ5Rm9yVHlwZShhcmcpO1xuICAgICAgICAgICAgaWYgKHR5cGVkUmVnaXN0cnkgfHwgcmVnLmlzRm9yVHlwZShhcmcpIHx8IHJlZyA9PT0gdGhpcy5wbHVnaW5zICYmIGFyZy5pZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2V4ZWMobWV0aG9kLCByZWcsIGFyZyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGVhY2goYXJnLCAoaXRlbSk9PntcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXRlbVJlZyA9IHR5cGVkUmVnaXN0cnkgfHwgdGhpcy5fZ2V0UmVnaXN0cnlGb3JUeXBlKGl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9leGVjKG1ldGhvZCwgaXRlbVJlZywgaXRlbSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiBfZXhlYyhtZXRob2QsIHJlZ2lzdHJ5LCBjb21wb25lbnQpIHtcbiAgICAgICAgY29uc3QgY2FtZWxNZXRob2QgPSBfY2FwaXRhbGl6ZShtZXRob2QpO1xuICAgICAgICBjYWxsYmFjayhjb21wb25lbnRbJ2JlZm9yZScgKyBjYW1lbE1ldGhvZF0sIFtdLCBjb21wb25lbnQpO1xuICAgICAgICByZWdpc3RyeVttZXRob2RdKGNvbXBvbmVudCk7XG4gICAgICAgIGNhbGxiYWNrKGNvbXBvbmVudFsnYWZ0ZXInICsgY2FtZWxNZXRob2RdLCBbXSwgY29tcG9uZW50KTtcbiAgICB9XG4gX2dldFJlZ2lzdHJ5Rm9yVHlwZSh0eXBlKSB7XG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCB0aGlzLl90eXBlZFJlZ2lzdHJpZXMubGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgY29uc3QgcmVnID0gdGhpcy5fdHlwZWRSZWdpc3RyaWVzW2ldO1xuICAgICAgICAgICAgaWYgKHJlZy5pc0ZvclR5cGUodHlwZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnBsdWdpbnM7XG4gICAgfVxuIF9nZXQoaWQsIHR5cGVkUmVnaXN0cnksIHR5cGUpIHtcbiAgICAgICAgY29uc3QgaXRlbSA9IHR5cGVkUmVnaXN0cnkuZ2V0KGlkKTtcbiAgICAgICAgaWYgKGl0ZW0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdcIicgKyBpZCArICdcIiBpcyBub3QgYSByZWdpc3RlcmVkICcgKyB0eXBlICsgJy4nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICB9XG59XG52YXIgcmVnaXN0cnkgPSAvKiAjX19QVVJFX18gKi8gbmV3IFJlZ2lzdHJ5KCk7XG5cbmNsYXNzIFBsdWdpblNlcnZpY2Uge1xuICAgIGNvbnN0cnVjdG9yKCl7XG4gICAgICAgIHRoaXMuX2luaXQgPSBbXTtcbiAgICB9XG4gbm90aWZ5KGNoYXJ0LCBob29rLCBhcmdzLCBmaWx0ZXIpIHtcbiAgICAgICAgaWYgKGhvb2sgPT09ICdiZWZvcmVJbml0Jykge1xuICAgICAgICAgICAgdGhpcy5faW5pdCA9IHRoaXMuX2NyZWF0ZURlc2NyaXB0b3JzKGNoYXJ0LCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuX25vdGlmeSh0aGlzLl9pbml0LCBjaGFydCwgJ2luc3RhbGwnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkZXNjcmlwdG9ycyA9IGZpbHRlciA/IHRoaXMuX2Rlc2NyaXB0b3JzKGNoYXJ0KS5maWx0ZXIoZmlsdGVyKSA6IHRoaXMuX2Rlc2NyaXB0b3JzKGNoYXJ0KTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fbm90aWZ5KGRlc2NyaXB0b3JzLCBjaGFydCwgaG9vaywgYXJncyk7XG4gICAgICAgIGlmIChob29rID09PSAnYWZ0ZXJEZXN0cm95Jykge1xuICAgICAgICAgICAgdGhpcy5fbm90aWZ5KGRlc2NyaXB0b3JzLCBjaGFydCwgJ3N0b3AnKTtcbiAgICAgICAgICAgIHRoaXMuX25vdGlmeSh0aGlzLl9pbml0LCBjaGFydCwgJ3VuaW5zdGFsbCcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuIF9ub3RpZnkoZGVzY3JpcHRvcnMsIGNoYXJ0LCBob29rLCBhcmdzKSB7XG4gICAgICAgIGFyZ3MgPSBhcmdzIHx8IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGRlc2NyaXB0b3Igb2YgZGVzY3JpcHRvcnMpe1xuICAgICAgICAgICAgY29uc3QgcGx1Z2luID0gZGVzY3JpcHRvci5wbHVnaW47XG4gICAgICAgICAgICBjb25zdCBtZXRob2QgPSBwbHVnaW5baG9va107XG4gICAgICAgICAgICBjb25zdCBwYXJhbXMgPSBbXG4gICAgICAgICAgICAgICAgY2hhcnQsXG4gICAgICAgICAgICAgICAgYXJncyxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdG9yLm9wdGlvbnNcbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICBpZiAoY2FsbGJhY2sobWV0aG9kLCBwYXJhbXMsIHBsdWdpbikgPT09IGZhbHNlICYmIGFyZ3MuY2FuY2VsYWJsZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaW52YWxpZGF0ZSgpIHtcbiAgICAgICAgaWYgKCFpc051bGxPclVuZGVmKHRoaXMuX2NhY2hlKSkge1xuICAgICAgICAgICAgdGhpcy5fb2xkQ2FjaGUgPSB0aGlzLl9jYWNoZTtcbiAgICAgICAgICAgIHRoaXMuX2NhY2hlID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuIF9kZXNjcmlwdG9ycyhjaGFydCkge1xuICAgICAgICBpZiAodGhpcy5fY2FjaGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jYWNoZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkZXNjcmlwdG9ycyA9IHRoaXMuX2NhY2hlID0gdGhpcy5fY3JlYXRlRGVzY3JpcHRvcnMoY2hhcnQpO1xuICAgICAgICB0aGlzLl9ub3RpZnlTdGF0ZUNoYW5nZXMoY2hhcnQpO1xuICAgICAgICByZXR1cm4gZGVzY3JpcHRvcnM7XG4gICAgfVxuICAgIF9jcmVhdGVEZXNjcmlwdG9ycyhjaGFydCwgYWxsKSB7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IGNoYXJ0ICYmIGNoYXJ0LmNvbmZpZztcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHZhbHVlT3JEZWZhdWx0KGNvbmZpZy5vcHRpb25zICYmIGNvbmZpZy5vcHRpb25zLnBsdWdpbnMsIHt9KTtcbiAgICAgICAgY29uc3QgcGx1Z2lucyA9IGFsbFBsdWdpbnMoY29uZmlnKTtcbiAgICAgICAgcmV0dXJuIG9wdGlvbnMgPT09IGZhbHNlICYmICFhbGwgPyBbXSA6IGNyZWF0ZURlc2NyaXB0b3JzKGNoYXJ0LCBwbHVnaW5zLCBvcHRpb25zLCBhbGwpO1xuICAgIH1cbiBfbm90aWZ5U3RhdGVDaGFuZ2VzKGNoYXJ0KSB7XG4gICAgICAgIGNvbnN0IHByZXZpb3VzRGVzY3JpcHRvcnMgPSB0aGlzLl9vbGRDYWNoZSB8fCBbXTtcbiAgICAgICAgY29uc3QgZGVzY3JpcHRvcnMgPSB0aGlzLl9jYWNoZTtcbiAgICAgICAgY29uc3QgZGlmZiA9IChhLCBiKT0+YS5maWx0ZXIoKHgpPT4hYi5zb21lKCh5KT0+eC5wbHVnaW4uaWQgPT09IHkucGx1Z2luLmlkKSk7XG4gICAgICAgIHRoaXMuX25vdGlmeShkaWZmKHByZXZpb3VzRGVzY3JpcHRvcnMsIGRlc2NyaXB0b3JzKSwgY2hhcnQsICdzdG9wJyk7XG4gICAgICAgIHRoaXMuX25vdGlmeShkaWZmKGRlc2NyaXB0b3JzLCBwcmV2aW91c0Rlc2NyaXB0b3JzKSwgY2hhcnQsICdzdGFydCcpO1xuICAgIH1cbn1cbiBmdW5jdGlvbiBhbGxQbHVnaW5zKGNvbmZpZykge1xuICAgIGNvbnN0IGxvY2FsSWRzID0ge307XG4gICAgY29uc3QgcGx1Z2lucyA9IFtdO1xuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhyZWdpc3RyeS5wbHVnaW5zLml0ZW1zKTtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKyl7XG4gICAgICAgIHBsdWdpbnMucHVzaChyZWdpc3RyeS5nZXRQbHVnaW4oa2V5c1tpXSkpO1xuICAgIH1cbiAgICBjb25zdCBsb2NhbCA9IGNvbmZpZy5wbHVnaW5zIHx8IFtdO1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBsb2NhbC5sZW5ndGg7IGkrKyl7XG4gICAgICAgIGNvbnN0IHBsdWdpbiA9IGxvY2FsW2ldO1xuICAgICAgICBpZiAocGx1Z2lucy5pbmRleE9mKHBsdWdpbikgPT09IC0xKSB7XG4gICAgICAgICAgICBwbHVnaW5zLnB1c2gocGx1Z2luKTtcbiAgICAgICAgICAgIGxvY2FsSWRzW3BsdWdpbi5pZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHBsdWdpbnMsXG4gICAgICAgIGxvY2FsSWRzXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGdldE9wdHMob3B0aW9ucywgYWxsKSB7XG4gICAgaWYgKCFhbGwgJiYgb3B0aW9ucyA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmIChvcHRpb25zID09PSB0cnVlKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgcmV0dXJuIG9wdGlvbnM7XG59XG5mdW5jdGlvbiBjcmVhdGVEZXNjcmlwdG9ycyhjaGFydCwgeyBwbHVnaW5zICwgbG9jYWxJZHMgIH0sIG9wdGlvbnMsIGFsbCkge1xuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgIGNvbnN0IGNvbnRleHQgPSBjaGFydC5nZXRDb250ZXh0KCk7XG4gICAgZm9yIChjb25zdCBwbHVnaW4gb2YgcGx1Z2lucyl7XG4gICAgICAgIGNvbnN0IGlkID0gcGx1Z2luLmlkO1xuICAgICAgICBjb25zdCBvcHRzID0gZ2V0T3B0cyhvcHRpb25zW2lkXSwgYWxsKTtcbiAgICAgICAgaWYgKG9wdHMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgICAgICAgIHBsdWdpbixcbiAgICAgICAgICAgIG9wdGlvbnM6IHBsdWdpbk9wdHMoY2hhcnQuY29uZmlnLCB7XG4gICAgICAgICAgICAgICAgcGx1Z2luLFxuICAgICAgICAgICAgICAgIGxvY2FsOiBsb2NhbElkc1tpZF1cbiAgICAgICAgICAgIH0sIG9wdHMsIGNvbnRleHQpXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gcGx1Z2luT3B0cyhjb25maWcsIHsgcGx1Z2luICwgbG9jYWwgIH0sIG9wdHMsIGNvbnRleHQpIHtcbiAgICBjb25zdCBrZXlzID0gY29uZmlnLnBsdWdpblNjb3BlS2V5cyhwbHVnaW4pO1xuICAgIGNvbnN0IHNjb3BlcyA9IGNvbmZpZy5nZXRPcHRpb25TY29wZXMob3B0cywga2V5cyk7XG4gICAgaWYgKGxvY2FsICYmIHBsdWdpbi5kZWZhdWx0cykge1xuICAgICAgICBzY29wZXMucHVzaChwbHVnaW4uZGVmYXVsdHMpO1xuICAgIH1cbiAgICByZXR1cm4gY29uZmlnLmNyZWF0ZVJlc29sdmVyKHNjb3BlcywgY29udGV4dCwgW1xuICAgICAgICAnJ1xuICAgIF0sIHtcbiAgICAgICAgc2NyaXB0YWJsZTogZmFsc2UsXG4gICAgICAgIGluZGV4YWJsZTogZmFsc2UsXG4gICAgICAgIGFsbEtleXM6IHRydWVcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gZ2V0SW5kZXhBeGlzKHR5cGUsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBkYXRhc2V0RGVmYXVsdHMgPSBkZWZhdWx0cy5kYXRhc2V0c1t0eXBlXSB8fCB7fTtcbiAgICBjb25zdCBkYXRhc2V0T3B0aW9ucyA9IChvcHRpb25zLmRhdGFzZXRzIHx8IHt9KVt0eXBlXSB8fCB7fTtcbiAgICByZXR1cm4gZGF0YXNldE9wdGlvbnMuaW5kZXhBeGlzIHx8IG9wdGlvbnMuaW5kZXhBeGlzIHx8IGRhdGFzZXREZWZhdWx0cy5pbmRleEF4aXMgfHwgJ3gnO1xufVxuZnVuY3Rpb24gZ2V0QXhpc0Zyb21EZWZhdWx0U2NhbGVJRChpZCwgaW5kZXhBeGlzKSB7XG4gICAgbGV0IGF4aXMgPSBpZDtcbiAgICBpZiAoaWQgPT09ICdfaW5kZXhfJykge1xuICAgICAgICBheGlzID0gaW5kZXhBeGlzO1xuICAgIH0gZWxzZSBpZiAoaWQgPT09ICdfdmFsdWVfJykge1xuICAgICAgICBheGlzID0gaW5kZXhBeGlzID09PSAneCcgPyAneScgOiAneCc7XG4gICAgfVxuICAgIHJldHVybiBheGlzO1xufVxuZnVuY3Rpb24gZ2V0RGVmYXVsdFNjYWxlSURGcm9tQXhpcyhheGlzLCBpbmRleEF4aXMpIHtcbiAgICByZXR1cm4gYXhpcyA9PT0gaW5kZXhBeGlzID8gJ19pbmRleF8nIDogJ192YWx1ZV8nO1xufVxuZnVuY3Rpb24gaWRNYXRjaGVzQXhpcyhpZCkge1xuICAgIGlmIChpZCA9PT0gJ3gnIHx8IGlkID09PSAneScgfHwgaWQgPT09ICdyJykge1xuICAgICAgICByZXR1cm4gaWQ7XG4gICAgfVxufVxuZnVuY3Rpb24gYXhpc0Zyb21Qb3NpdGlvbihwb3NpdGlvbikge1xuICAgIGlmIChwb3NpdGlvbiA9PT0gJ3RvcCcgfHwgcG9zaXRpb24gPT09ICdib3R0b20nKSB7XG4gICAgICAgIHJldHVybiAneCc7XG4gICAgfVxuICAgIGlmIChwb3NpdGlvbiA9PT0gJ2xlZnQnIHx8IHBvc2l0aW9uID09PSAncmlnaHQnKSB7XG4gICAgICAgIHJldHVybiAneSc7XG4gICAgfVxufVxuZnVuY3Rpb24gZGV0ZXJtaW5lQXhpcyhpZCwgLi4uc2NhbGVPcHRpb25zKSB7XG4gICAgaWYgKGlkTWF0Y2hlc0F4aXMoaWQpKSB7XG4gICAgICAgIHJldHVybiBpZDtcbiAgICB9XG4gICAgZm9yIChjb25zdCBvcHRzIG9mIHNjYWxlT3B0aW9ucyl7XG4gICAgICAgIGNvbnN0IGF4aXMgPSBvcHRzLmF4aXMgfHwgYXhpc0Zyb21Qb3NpdGlvbihvcHRzLnBvc2l0aW9uKSB8fCBpZC5sZW5ndGggPiAxICYmIGlkTWF0Y2hlc0F4aXMoaWRbMF0udG9Mb3dlckNhc2UoKSk7XG4gICAgICAgIGlmIChheGlzKSB7XG4gICAgICAgICAgICByZXR1cm4gYXhpcztcbiAgICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBkZXRlcm1pbmUgdHlwZSBvZiAnJHtpZH0nIGF4aXMuIFBsZWFzZSBwcm92aWRlICdheGlzJyBvciAncG9zaXRpb24nIG9wdGlvbi5gKTtcbn1cbmZ1bmN0aW9uIGdldEF4aXNGcm9tRGF0YXNldChpZCwgYXhpcywgZGF0YXNldCkge1xuICAgIGlmIChkYXRhc2V0W2F4aXMgKyAnQXhpc0lEJ10gPT09IGlkKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBheGlzXG4gICAgICAgIH07XG4gICAgfVxufVxuZnVuY3Rpb24gcmV0cmlldmVBeGlzRnJvbURhdGFzZXRzKGlkLCBjb25maWcpIHtcbiAgICBpZiAoY29uZmlnLmRhdGEgJiYgY29uZmlnLmRhdGEuZGF0YXNldHMpIHtcbiAgICAgICAgY29uc3QgYm91bmREcyA9IGNvbmZpZy5kYXRhLmRhdGFzZXRzLmZpbHRlcigoZCk9PmQueEF4aXNJRCA9PT0gaWQgfHwgZC55QXhpc0lEID09PSBpZCk7XG4gICAgICAgIGlmIChib3VuZERzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGdldEF4aXNGcm9tRGF0YXNldChpZCwgJ3gnLCBib3VuZERzWzBdKSB8fCBnZXRBeGlzRnJvbURhdGFzZXQoaWQsICd5JywgYm91bmREc1swXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHt9O1xufVxuZnVuY3Rpb24gbWVyZ2VTY2FsZUNvbmZpZyhjb25maWcsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBjaGFydERlZmF1bHRzID0gb3ZlcnJpZGVzW2NvbmZpZy50eXBlXSB8fCB7XG4gICAgICAgIHNjYWxlczoge31cbiAgICB9O1xuICAgIGNvbnN0IGNvbmZpZ1NjYWxlcyA9IG9wdGlvbnMuc2NhbGVzIHx8IHt9O1xuICAgIGNvbnN0IGNoYXJ0SW5kZXhBeGlzID0gZ2V0SW5kZXhBeGlzKGNvbmZpZy50eXBlLCBvcHRpb25zKTtcbiAgICBjb25zdCBzY2FsZXMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIE9iamVjdC5rZXlzKGNvbmZpZ1NjYWxlcykuZm9yRWFjaCgoaWQpPT57XG4gICAgICAgIGNvbnN0IHNjYWxlQ29uZiA9IGNvbmZpZ1NjYWxlc1tpZF07XG4gICAgICAgIGlmICghaXNPYmplY3Qoc2NhbGVDb25mKSkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUuZXJyb3IoYEludmFsaWQgc2NhbGUgY29uZmlndXJhdGlvbiBmb3Igc2NhbGU6ICR7aWR9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNjYWxlQ29uZi5fcHJveHkpIHtcbiAgICAgICAgICAgIHJldHVybiBjb25zb2xlLndhcm4oYElnbm9yaW5nIHJlc29sdmVyIHBhc3NlZCBhcyBvcHRpb25zIGZvciBzY2FsZTogJHtpZH1gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBheGlzID0gZGV0ZXJtaW5lQXhpcyhpZCwgc2NhbGVDb25mLCByZXRyaWV2ZUF4aXNGcm9tRGF0YXNldHMoaWQsIGNvbmZpZyksIGRlZmF1bHRzLnNjYWxlc1tzY2FsZUNvbmYudHlwZV0pO1xuICAgICAgICBjb25zdCBkZWZhdWx0SWQgPSBnZXREZWZhdWx0U2NhbGVJREZyb21BeGlzKGF4aXMsIGNoYXJ0SW5kZXhBeGlzKTtcbiAgICAgICAgY29uc3QgZGVmYXVsdFNjYWxlT3B0aW9ucyA9IGNoYXJ0RGVmYXVsdHMuc2NhbGVzIHx8IHt9O1xuICAgICAgICBzY2FsZXNbaWRdID0gbWVyZ2VJZihPYmplY3QuY3JlYXRlKG51bGwpLCBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYXhpc1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNjYWxlQ29uZixcbiAgICAgICAgICAgIGRlZmF1bHRTY2FsZU9wdGlvbnNbYXhpc10sXG4gICAgICAgICAgICBkZWZhdWx0U2NhbGVPcHRpb25zW2RlZmF1bHRJZF1cbiAgICAgICAgXSk7XG4gICAgfSk7XG4gICAgY29uZmlnLmRhdGEuZGF0YXNldHMuZm9yRWFjaCgoZGF0YXNldCk9PntcbiAgICAgICAgY29uc3QgdHlwZSA9IGRhdGFzZXQudHlwZSB8fCBjb25maWcudHlwZTtcbiAgICAgICAgY29uc3QgaW5kZXhBeGlzID0gZGF0YXNldC5pbmRleEF4aXMgfHwgZ2V0SW5kZXhBeGlzKHR5cGUsIG9wdGlvbnMpO1xuICAgICAgICBjb25zdCBkYXRhc2V0RGVmYXVsdHMgPSBvdmVycmlkZXNbdHlwZV0gfHwge307XG4gICAgICAgIGNvbnN0IGRlZmF1bHRTY2FsZU9wdGlvbnMgPSBkYXRhc2V0RGVmYXVsdHMuc2NhbGVzIHx8IHt9O1xuICAgICAgICBPYmplY3Qua2V5cyhkZWZhdWx0U2NhbGVPcHRpb25zKS5mb3JFYWNoKChkZWZhdWx0SUQpPT57XG4gICAgICAgICAgICBjb25zdCBheGlzID0gZ2V0QXhpc0Zyb21EZWZhdWx0U2NhbGVJRChkZWZhdWx0SUQsIGluZGV4QXhpcyk7XG4gICAgICAgICAgICBjb25zdCBpZCA9IGRhdGFzZXRbYXhpcyArICdBeGlzSUQnXSB8fCBheGlzO1xuICAgICAgICAgICAgc2NhbGVzW2lkXSA9IHNjYWxlc1tpZF0gfHwgT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgICAgIG1lcmdlSWYoc2NhbGVzW2lkXSwgW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgYXhpc1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY29uZmlnU2NhbGVzW2lkXSxcbiAgICAgICAgICAgICAgICBkZWZhdWx0U2NhbGVPcHRpb25zW2RlZmF1bHRJRF1cbiAgICAgICAgICAgIF0pO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICBPYmplY3Qua2V5cyhzY2FsZXMpLmZvckVhY2goKGtleSk9PntcbiAgICAgICAgY29uc3Qgc2NhbGUgPSBzY2FsZXNba2V5XTtcbiAgICAgICAgbWVyZ2VJZihzY2FsZSwgW1xuICAgICAgICAgICAgZGVmYXVsdHMuc2NhbGVzW3NjYWxlLnR5cGVdLFxuICAgICAgICAgICAgZGVmYXVsdHMuc2NhbGVcbiAgICAgICAgXSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHNjYWxlcztcbn1cbmZ1bmN0aW9uIGluaXRPcHRpb25zKGNvbmZpZykge1xuICAgIGNvbnN0IG9wdGlvbnMgPSBjb25maWcub3B0aW9ucyB8fCAoY29uZmlnLm9wdGlvbnMgPSB7fSk7XG4gICAgb3B0aW9ucy5wbHVnaW5zID0gdmFsdWVPckRlZmF1bHQob3B0aW9ucy5wbHVnaW5zLCB7fSk7XG4gICAgb3B0aW9ucy5zY2FsZXMgPSBtZXJnZVNjYWxlQ29uZmlnKGNvbmZpZywgb3B0aW9ucyk7XG59XG5mdW5jdGlvbiBpbml0RGF0YShkYXRhKSB7XG4gICAgZGF0YSA9IGRhdGEgfHwge307XG4gICAgZGF0YS5kYXRhc2V0cyA9IGRhdGEuZGF0YXNldHMgfHwgW107XG4gICAgZGF0YS5sYWJlbHMgPSBkYXRhLmxhYmVscyB8fCBbXTtcbiAgICByZXR1cm4gZGF0YTtcbn1cbmZ1bmN0aW9uIGluaXRDb25maWcoY29uZmlnKSB7XG4gICAgY29uZmlnID0gY29uZmlnIHx8IHt9O1xuICAgIGNvbmZpZy5kYXRhID0gaW5pdERhdGEoY29uZmlnLmRhdGEpO1xuICAgIGluaXRPcHRpb25zKGNvbmZpZyk7XG4gICAgcmV0dXJuIGNvbmZpZztcbn1cbmNvbnN0IGtleUNhY2hlID0gbmV3IE1hcCgpO1xuY29uc3Qga2V5c0NhY2hlZCA9IG5ldyBTZXQoKTtcbmZ1bmN0aW9uIGNhY2hlZEtleXMoY2FjaGVLZXksIGdlbmVyYXRlKSB7XG4gICAgbGV0IGtleXMgPSBrZXlDYWNoZS5nZXQoY2FjaGVLZXkpO1xuICAgIGlmICgha2V5cykge1xuICAgICAgICBrZXlzID0gZ2VuZXJhdGUoKTtcbiAgICAgICAga2V5Q2FjaGUuc2V0KGNhY2hlS2V5LCBrZXlzKTtcbiAgICAgICAga2V5c0NhY2hlZC5hZGQoa2V5cyk7XG4gICAgfVxuICAgIHJldHVybiBrZXlzO1xufVxuY29uc3QgYWRkSWZGb3VuZCA9IChzZXQsIG9iaiwga2V5KT0+e1xuICAgIGNvbnN0IG9wdHMgPSByZXNvbHZlT2JqZWN0S2V5KG9iaiwga2V5KTtcbiAgICBpZiAob3B0cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHNldC5hZGQob3B0cyk7XG4gICAgfVxufTtcbmNsYXNzIENvbmZpZyB7XG4gICAgY29uc3RydWN0b3IoY29uZmlnKXtcbiAgICAgICAgdGhpcy5fY29uZmlnID0gaW5pdENvbmZpZyhjb25maWcpO1xuICAgICAgICB0aGlzLl9zY29wZUNhY2hlID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLl9yZXNvbHZlckNhY2hlID0gbmV3IE1hcCgpO1xuICAgIH1cbiAgICBnZXQgcGxhdGZvcm0oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb25maWcucGxhdGZvcm07XG4gICAgfVxuICAgIGdldCB0eXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29uZmlnLnR5cGU7XG4gICAgfVxuICAgIHNldCB0eXBlKHR5cGUpIHtcbiAgICAgICAgdGhpcy5fY29uZmlnLnR5cGUgPSB0eXBlO1xuICAgIH1cbiAgICBnZXQgZGF0YSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbmZpZy5kYXRhO1xuICAgIH1cbiAgICBzZXQgZGF0YShkYXRhKSB7XG4gICAgICAgIHRoaXMuX2NvbmZpZy5kYXRhID0gaW5pdERhdGEoZGF0YSk7XG4gICAgfVxuICAgIGdldCBvcHRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29uZmlnLm9wdGlvbnM7XG4gICAgfVxuICAgIHNldCBvcHRpb25zKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5fY29uZmlnLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIH1cbiAgICBnZXQgcGx1Z2lucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbmZpZy5wbHVnaW5zO1xuICAgIH1cbiAgICB1cGRhdGUoKSB7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IHRoaXMuX2NvbmZpZztcbiAgICAgICAgdGhpcy5jbGVhckNhY2hlKCk7XG4gICAgICAgIGluaXRPcHRpb25zKGNvbmZpZyk7XG4gICAgfVxuICAgIGNsZWFyQ2FjaGUoKSB7XG4gICAgICAgIHRoaXMuX3Njb3BlQ2FjaGUuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5fcmVzb2x2ZXJDYWNoZS5jbGVhcigpO1xuICAgIH1cbiBkYXRhc2V0U2NvcGVLZXlzKGRhdGFzZXRUeXBlKSB7XG4gICAgICAgIHJldHVybiBjYWNoZWRLZXlzKGRhdGFzZXRUeXBlLCAoKT0+W1xuICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgYGRhdGFzZXRzLiR7ZGF0YXNldFR5cGV9YCxcbiAgICAgICAgICAgICAgICAgICAgJydcbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICBdKTtcbiAgICB9XG4gZGF0YXNldEFuaW1hdGlvblNjb3BlS2V5cyhkYXRhc2V0VHlwZSwgdHJhbnNpdGlvbikge1xuICAgICAgICByZXR1cm4gY2FjaGVkS2V5cyhgJHtkYXRhc2V0VHlwZX0udHJhbnNpdGlvbi4ke3RyYW5zaXRpb259YCwgKCk9PltcbiAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgIGBkYXRhc2V0cy4ke2RhdGFzZXRUeXBlfS50cmFuc2l0aW9ucy4ke3RyYW5zaXRpb259YCxcbiAgICAgICAgICAgICAgICAgICAgYHRyYW5zaXRpb25zLiR7dHJhbnNpdGlvbn1gXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgIGBkYXRhc2V0cy4ke2RhdGFzZXRUeXBlfWAsXG4gICAgICAgICAgICAgICAgICAgICcnXG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgXSk7XG4gICAgfVxuIGRhdGFzZXRFbGVtZW50U2NvcGVLZXlzKGRhdGFzZXRUeXBlLCBlbGVtZW50VHlwZSkge1xuICAgICAgICByZXR1cm4gY2FjaGVkS2V5cyhgJHtkYXRhc2V0VHlwZX0tJHtlbGVtZW50VHlwZX1gLCAoKT0+W1xuICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgYGRhdGFzZXRzLiR7ZGF0YXNldFR5cGV9LmVsZW1lbnRzLiR7ZWxlbWVudFR5cGV9YCxcbiAgICAgICAgICAgICAgICAgICAgYGRhdGFzZXRzLiR7ZGF0YXNldFR5cGV9YCxcbiAgICAgICAgICAgICAgICAgICAgYGVsZW1lbnRzLiR7ZWxlbWVudFR5cGV9YCxcbiAgICAgICAgICAgICAgICAgICAgJydcbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICBdKTtcbiAgICB9XG4gcGx1Z2luU2NvcGVLZXlzKHBsdWdpbikge1xuICAgICAgICBjb25zdCBpZCA9IHBsdWdpbi5pZDtcbiAgICAgICAgY29uc3QgdHlwZSA9IHRoaXMudHlwZTtcbiAgICAgICAgcmV0dXJuIGNhY2hlZEtleXMoYCR7dHlwZX0tcGx1Z2luLSR7aWR9YCwgKCk9PltcbiAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgIGBwbHVnaW5zLiR7aWR9YCxcbiAgICAgICAgICAgICAgICAgICAgLi4ucGx1Z2luLmFkZGl0aW9uYWxPcHRpb25TY29wZXMgfHwgW11cbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICBdKTtcbiAgICB9XG4gX2NhY2hlZFNjb3BlcyhtYWluU2NvcGUsIHJlc2V0Q2FjaGUpIHtcbiAgICAgICAgY29uc3QgX3Njb3BlQ2FjaGUgPSB0aGlzLl9zY29wZUNhY2hlO1xuICAgICAgICBsZXQgY2FjaGUgPSBfc2NvcGVDYWNoZS5nZXQobWFpblNjb3BlKTtcbiAgICAgICAgaWYgKCFjYWNoZSB8fCByZXNldENhY2hlKSB7XG4gICAgICAgICAgICBjYWNoZSA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgIF9zY29wZUNhY2hlLnNldChtYWluU2NvcGUsIGNhY2hlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2FjaGU7XG4gICAgfVxuIGdldE9wdGlvblNjb3BlcyhtYWluU2NvcGUsIGtleUxpc3RzLCByZXNldENhY2hlKSB7XG4gICAgICAgIGNvbnN0IHsgb3B0aW9ucyAsIHR5cGUgIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBjYWNoZSA9IHRoaXMuX2NhY2hlZFNjb3BlcyhtYWluU2NvcGUsIHJlc2V0Q2FjaGUpO1xuICAgICAgICBjb25zdCBjYWNoZWQgPSBjYWNoZS5nZXQoa2V5TGlzdHMpO1xuICAgICAgICBpZiAoY2FjaGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNjb3BlcyA9IG5ldyBTZXQoKTtcbiAgICAgICAga2V5TGlzdHMuZm9yRWFjaCgoa2V5cyk9PntcbiAgICAgICAgICAgIGlmIChtYWluU2NvcGUpIHtcbiAgICAgICAgICAgICAgICBzY29wZXMuYWRkKG1haW5TY29wZSk7XG4gICAgICAgICAgICAgICAga2V5cy5mb3JFYWNoKChrZXkpPT5hZGRJZkZvdW5kKHNjb3BlcywgbWFpblNjb3BlLCBrZXkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGtleXMuZm9yRWFjaCgoa2V5KT0+YWRkSWZGb3VuZChzY29wZXMsIG9wdGlvbnMsIGtleSkpO1xuICAgICAgICAgICAga2V5cy5mb3JFYWNoKChrZXkpPT5hZGRJZkZvdW5kKHNjb3Blcywgb3ZlcnJpZGVzW3R5cGVdIHx8IHt9LCBrZXkpKTtcbiAgICAgICAgICAgIGtleXMuZm9yRWFjaCgoa2V5KT0+YWRkSWZGb3VuZChzY29wZXMsIGRlZmF1bHRzLCBrZXkpKTtcbiAgICAgICAgICAgIGtleXMuZm9yRWFjaCgoa2V5KT0+YWRkSWZGb3VuZChzY29wZXMsIGRlc2NyaXB0b3JzLCBrZXkpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGFycmF5ID0gQXJyYXkuZnJvbShzY29wZXMpO1xuICAgICAgICBpZiAoYXJyYXkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBhcnJheS5wdXNoKE9iamVjdC5jcmVhdGUobnVsbCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChrZXlzQ2FjaGVkLmhhcyhrZXlMaXN0cykpIHtcbiAgICAgICAgICAgIGNhY2hlLnNldChrZXlMaXN0cywgYXJyYXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG4gY2hhcnRPcHRpb25TY29wZXMoKSB7XG4gICAgICAgIGNvbnN0IHsgb3B0aW9ucyAsIHR5cGUgIH0gPSB0aGlzO1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgIG92ZXJyaWRlc1t0eXBlXSB8fCB7fSxcbiAgICAgICAgICAgIGRlZmF1bHRzLmRhdGFzZXRzW3R5cGVdIHx8IHt9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHR5cGVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZWZhdWx0cyxcbiAgICAgICAgICAgIGRlc2NyaXB0b3JzXG4gICAgICAgIF07XG4gICAgfVxuIHJlc29sdmVOYW1lZE9wdGlvbnMoc2NvcGVzLCBuYW1lcywgY29udGV4dCwgcHJlZml4ZXMgPSBbXG4gICAgICAgICcnXG4gICAgXSkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICAgICAgICAkc2hhcmVkOiB0cnVlXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHsgcmVzb2x2ZXIgLCBzdWJQcmVmaXhlcyAgfSA9IGdldFJlc29sdmVyKHRoaXMuX3Jlc29sdmVyQ2FjaGUsIHNjb3BlcywgcHJlZml4ZXMpO1xuICAgICAgICBsZXQgb3B0aW9ucyA9IHJlc29sdmVyO1xuICAgICAgICBpZiAobmVlZENvbnRleHQocmVzb2x2ZXIsIG5hbWVzKSkge1xuICAgICAgICAgICAgcmVzdWx0LiRzaGFyZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGNvbnRleHQgPSBpc0Z1bmN0aW9uKGNvbnRleHQpID8gY29udGV4dCgpIDogY29udGV4dDtcbiAgICAgICAgICAgIGNvbnN0IHN1YlJlc29sdmVyID0gdGhpcy5jcmVhdGVSZXNvbHZlcihzY29wZXMsIGNvbnRleHQsIHN1YlByZWZpeGVzKTtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBfYXR0YWNoQ29udGV4dChyZXNvbHZlciwgY29udGV4dCwgc3ViUmVzb2x2ZXIpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgcHJvcCBvZiBuYW1lcyl7XG4gICAgICAgICAgICByZXN1bHRbcHJvcF0gPSBvcHRpb25zW3Byb3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuIGNyZWF0ZVJlc29sdmVyKHNjb3BlcywgY29udGV4dCwgcHJlZml4ZXMgPSBbXG4gICAgICAgICcnXG4gICAgXSwgZGVzY3JpcHRvckRlZmF1bHRzKSB7XG4gICAgICAgIGNvbnN0IHsgcmVzb2x2ZXIgIH0gPSBnZXRSZXNvbHZlcih0aGlzLl9yZXNvbHZlckNhY2hlLCBzY29wZXMsIHByZWZpeGVzKTtcbiAgICAgICAgcmV0dXJuIGlzT2JqZWN0KGNvbnRleHQpID8gX2F0dGFjaENvbnRleHQocmVzb2x2ZXIsIGNvbnRleHQsIHVuZGVmaW5lZCwgZGVzY3JpcHRvckRlZmF1bHRzKSA6IHJlc29sdmVyO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldFJlc29sdmVyKHJlc29sdmVyQ2FjaGUsIHNjb3BlcywgcHJlZml4ZXMpIHtcbiAgICBsZXQgY2FjaGUgPSByZXNvbHZlckNhY2hlLmdldChzY29wZXMpO1xuICAgIGlmICghY2FjaGUpIHtcbiAgICAgICAgY2FjaGUgPSBuZXcgTWFwKCk7XG4gICAgICAgIHJlc29sdmVyQ2FjaGUuc2V0KHNjb3BlcywgY2FjaGUpO1xuICAgIH1cbiAgICBjb25zdCBjYWNoZUtleSA9IHByZWZpeGVzLmpvaW4oKTtcbiAgICBsZXQgY2FjaGVkID0gY2FjaGUuZ2V0KGNhY2hlS2V5KTtcbiAgICBpZiAoIWNhY2hlZCkge1xuICAgICAgICBjb25zdCByZXNvbHZlciA9IF9jcmVhdGVSZXNvbHZlcihzY29wZXMsIHByZWZpeGVzKTtcbiAgICAgICAgY2FjaGVkID0ge1xuICAgICAgICAgICAgcmVzb2x2ZXIsXG4gICAgICAgICAgICBzdWJQcmVmaXhlczogcHJlZml4ZXMuZmlsdGVyKChwKT0+IXAudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygnaG92ZXInKSlcbiAgICAgICAgfTtcbiAgICAgICAgY2FjaGUuc2V0KGNhY2hlS2V5LCBjYWNoZWQpO1xuICAgIH1cbiAgICByZXR1cm4gY2FjaGVkO1xufVxuY29uc3QgaGFzRnVuY3Rpb24gPSAodmFsdWUpPT5pc09iamVjdCh2YWx1ZSkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModmFsdWUpLnNvbWUoKGtleSk9PmlzRnVuY3Rpb24odmFsdWVba2V5XSkpO1xuZnVuY3Rpb24gbmVlZENvbnRleHQocHJveHksIG5hbWVzKSB7XG4gICAgY29uc3QgeyBpc1NjcmlwdGFibGUgLCBpc0luZGV4YWJsZSAgfSA9IF9kZXNjcmlwdG9ycyhwcm94eSk7XG4gICAgZm9yIChjb25zdCBwcm9wIG9mIG5hbWVzKXtcbiAgICAgICAgY29uc3Qgc2NyaXB0YWJsZSA9IGlzU2NyaXB0YWJsZShwcm9wKTtcbiAgICAgICAgY29uc3QgaW5kZXhhYmxlID0gaXNJbmRleGFibGUocHJvcCk7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gKGluZGV4YWJsZSB8fCBzY3JpcHRhYmxlKSAmJiBwcm94eVtwcm9wXTtcbiAgICAgICAgaWYgKHNjcmlwdGFibGUgJiYgKGlzRnVuY3Rpb24odmFsdWUpIHx8IGhhc0Z1bmN0aW9uKHZhbHVlKSkgfHwgaW5kZXhhYmxlICYmIGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbnZhciB2ZXJzaW9uID0gXCI0LjQuM1wiO1xuXG5jb25zdCBLTk9XTl9QT1NJVElPTlMgPSBbXG4gICAgJ3RvcCcsXG4gICAgJ2JvdHRvbScsXG4gICAgJ2xlZnQnLFxuICAgICdyaWdodCcsXG4gICAgJ2NoYXJ0QXJlYSdcbl07XG5mdW5jdGlvbiBwb3NpdGlvbklzSG9yaXpvbnRhbChwb3NpdGlvbiwgYXhpcykge1xuICAgIHJldHVybiBwb3NpdGlvbiA9PT0gJ3RvcCcgfHwgcG9zaXRpb24gPT09ICdib3R0b20nIHx8IEtOT1dOX1BPU0lUSU9OUy5pbmRleE9mKHBvc2l0aW9uKSA9PT0gLTEgJiYgYXhpcyA9PT0gJ3gnO1xufVxuZnVuY3Rpb24gY29tcGFyZTJMZXZlbChsMSwgbDIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oYSwgYikge1xuICAgICAgICByZXR1cm4gYVtsMV0gPT09IGJbbDFdID8gYVtsMl0gLSBiW2wyXSA6IGFbbDFdIC0gYltsMV07XG4gICAgfTtcbn1cbmZ1bmN0aW9uIG9uQW5pbWF0aW9uc0NvbXBsZXRlKGNvbnRleHQpIHtcbiAgICBjb25zdCBjaGFydCA9IGNvbnRleHQuY2hhcnQ7XG4gICAgY29uc3QgYW5pbWF0aW9uT3B0aW9ucyA9IGNoYXJ0Lm9wdGlvbnMuYW5pbWF0aW9uO1xuICAgIGNoYXJ0Lm5vdGlmeVBsdWdpbnMoJ2FmdGVyUmVuZGVyJyk7XG4gICAgY2FsbGJhY2soYW5pbWF0aW9uT3B0aW9ucyAmJiBhbmltYXRpb25PcHRpb25zLm9uQ29tcGxldGUsIFtcbiAgICAgICAgY29udGV4dFxuICAgIF0sIGNoYXJ0KTtcbn1cbmZ1bmN0aW9uIG9uQW5pbWF0aW9uUHJvZ3Jlc3MoY29udGV4dCkge1xuICAgIGNvbnN0IGNoYXJ0ID0gY29udGV4dC5jaGFydDtcbiAgICBjb25zdCBhbmltYXRpb25PcHRpb25zID0gY2hhcnQub3B0aW9ucy5hbmltYXRpb247XG4gICAgY2FsbGJhY2soYW5pbWF0aW9uT3B0aW9ucyAmJiBhbmltYXRpb25PcHRpb25zLm9uUHJvZ3Jlc3MsIFtcbiAgICAgICAgY29udGV4dFxuICAgIF0sIGNoYXJ0KTtcbn1cbiBmdW5jdGlvbiBnZXRDYW52YXMoaXRlbSkge1xuICAgIGlmIChfaXNEb21TdXBwb3J0ZWQoKSAmJiB0eXBlb2YgaXRlbSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgaXRlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGl0ZW0pO1xuICAgIH0gZWxzZSBpZiAoaXRlbSAmJiBpdGVtLmxlbmd0aCkge1xuICAgICAgICBpdGVtID0gaXRlbVswXTtcbiAgICB9XG4gICAgaWYgKGl0ZW0gJiYgaXRlbS5jYW52YXMpIHtcbiAgICAgICAgaXRlbSA9IGl0ZW0uY2FudmFzO1xuICAgIH1cbiAgICByZXR1cm4gaXRlbTtcbn1cbmNvbnN0IGluc3RhbmNlcyA9IHt9O1xuY29uc3QgZ2V0Q2hhcnQgPSAoa2V5KT0+e1xuICAgIGNvbnN0IGNhbnZhcyA9IGdldENhbnZhcyhrZXkpO1xuICAgIHJldHVybiBPYmplY3QudmFsdWVzKGluc3RhbmNlcykuZmlsdGVyKChjKT0+Yy5jYW52YXMgPT09IGNhbnZhcykucG9wKCk7XG59O1xuZnVuY3Rpb24gbW92ZU51bWVyaWNLZXlzKG9iaiwgc3RhcnQsIG1vdmUpIHtcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMob2JqKTtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBrZXlzKXtcbiAgICAgICAgY29uc3QgaW50S2V5ID0gK2tleTtcbiAgICAgICAgaWYgKGludEtleSA+PSBzdGFydCkge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBvYmpba2V5XTtcbiAgICAgICAgICAgIGRlbGV0ZSBvYmpba2V5XTtcbiAgICAgICAgICAgIGlmIChtb3ZlID4gMCB8fCBpbnRLZXkgPiBzdGFydCkge1xuICAgICAgICAgICAgICAgIG9ialtpbnRLZXkgKyBtb3ZlXSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuIGZ1bmN0aW9uIGRldGVybWluZUxhc3RFdmVudChlLCBsYXN0RXZlbnQsIGluQ2hhcnRBcmVhLCBpc0NsaWNrKSB7XG4gICAgaWYgKCFpbkNoYXJ0QXJlYSB8fCBlLnR5cGUgPT09ICdtb3VzZW91dCcpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmIChpc0NsaWNrKSB7XG4gICAgICAgIHJldHVybiBsYXN0RXZlbnQ7XG4gICAgfVxuICAgIHJldHVybiBlO1xufVxuZnVuY3Rpb24gZ2V0U2l6ZUZvckFyZWEoc2NhbGUsIGNoYXJ0QXJlYSwgZmllbGQpIHtcbiAgICByZXR1cm4gc2NhbGUub3B0aW9ucy5jbGlwID8gc2NhbGVbZmllbGRdIDogY2hhcnRBcmVhW2ZpZWxkXTtcbn1cbmZ1bmN0aW9uIGdldERhdGFzZXRBcmVhKG1ldGEsIGNoYXJ0QXJlYSkge1xuICAgIGNvbnN0IHsgeFNjYWxlICwgeVNjYWxlICB9ID0gbWV0YTtcbiAgICBpZiAoeFNjYWxlICYmIHlTY2FsZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbGVmdDogZ2V0U2l6ZUZvckFyZWEoeFNjYWxlLCBjaGFydEFyZWEsICdsZWZ0JyksXG4gICAgICAgICAgICByaWdodDogZ2V0U2l6ZUZvckFyZWEoeFNjYWxlLCBjaGFydEFyZWEsICdyaWdodCcpLFxuICAgICAgICAgICAgdG9wOiBnZXRTaXplRm9yQXJlYSh5U2NhbGUsIGNoYXJ0QXJlYSwgJ3RvcCcpLFxuICAgICAgICAgICAgYm90dG9tOiBnZXRTaXplRm9yQXJlYSh5U2NhbGUsIGNoYXJ0QXJlYSwgJ2JvdHRvbScpXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBjaGFydEFyZWE7XG59XG5jbGFzcyBDaGFydCB7XG4gICAgc3RhdGljIGRlZmF1bHRzID0gZGVmYXVsdHM7XG4gICAgc3RhdGljIGluc3RhbmNlcyA9IGluc3RhbmNlcztcbiAgICBzdGF0aWMgb3ZlcnJpZGVzID0gb3ZlcnJpZGVzO1xuICAgIHN0YXRpYyByZWdpc3RyeSA9IHJlZ2lzdHJ5O1xuICAgIHN0YXRpYyB2ZXJzaW9uID0gdmVyc2lvbjtcbiAgICBzdGF0aWMgZ2V0Q2hhcnQgPSBnZXRDaGFydDtcbiAgICBzdGF0aWMgcmVnaXN0ZXIoLi4uaXRlbXMpIHtcbiAgICAgICAgcmVnaXN0cnkuYWRkKC4uLml0ZW1zKTtcbiAgICAgICAgaW52YWxpZGF0ZVBsdWdpbnMoKTtcbiAgICB9XG4gICAgc3RhdGljIHVucmVnaXN0ZXIoLi4uaXRlbXMpIHtcbiAgICAgICAgcmVnaXN0cnkucmVtb3ZlKC4uLml0ZW1zKTtcbiAgICAgICAgaW52YWxpZGF0ZVBsdWdpbnMoKTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoaXRlbSwgdXNlckNvbmZpZyl7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IHRoaXMuY29uZmlnID0gbmV3IENvbmZpZyh1c2VyQ29uZmlnKTtcbiAgICAgICAgY29uc3QgaW5pdGlhbENhbnZhcyA9IGdldENhbnZhcyhpdGVtKTtcbiAgICAgICAgY29uc3QgZXhpc3RpbmdDaGFydCA9IGdldENoYXJ0KGluaXRpYWxDYW52YXMpO1xuICAgICAgICBpZiAoZXhpc3RpbmdDaGFydCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW52YXMgaXMgYWxyZWFkeSBpbiB1c2UuIENoYXJ0IHdpdGggSUQgXFwnJyArIGV4aXN0aW5nQ2hhcnQuaWQgKyAnXFwnJyArICcgbXVzdCBiZSBkZXN0cm95ZWQgYmVmb3JlIHRoZSBjYW52YXMgd2l0aCBJRCBcXCcnICsgZXhpc3RpbmdDaGFydC5jYW52YXMuaWQgKyAnXFwnIGNhbiBiZSByZXVzZWQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGNvbmZpZy5jcmVhdGVSZXNvbHZlcihjb25maWcuY2hhcnRPcHRpb25TY29wZXMoKSwgdGhpcy5nZXRDb250ZXh0KCkpO1xuICAgICAgICB0aGlzLnBsYXRmb3JtID0gbmV3IChjb25maWcucGxhdGZvcm0gfHwgX2RldGVjdFBsYXRmb3JtKGluaXRpYWxDYW52YXMpKSgpO1xuICAgICAgICB0aGlzLnBsYXRmb3JtLnVwZGF0ZUNvbmZpZyhjb25maWcpO1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5wbGF0Zm9ybS5hY3F1aXJlQ29udGV4dChpbml0aWFsQ2FudmFzLCBvcHRpb25zLmFzcGVjdFJhdGlvKTtcbiAgICAgICAgY29uc3QgY2FudmFzID0gY29udGV4dCAmJiBjb250ZXh0LmNhbnZhcztcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gY2FudmFzICYmIGNhbnZhcy5oZWlnaHQ7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gY2FudmFzICYmIGNhbnZhcy53aWR0aDtcbiAgICAgICAgdGhpcy5pZCA9IHVpZCgpO1xuICAgICAgICB0aGlzLmN0eCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMuY2FudmFzID0gY2FudmFzO1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy5fYXNwZWN0UmF0aW8gPSB0aGlzLmFzcGVjdFJhdGlvO1xuICAgICAgICB0aGlzLl9sYXllcnMgPSBbXTtcbiAgICAgICAgdGhpcy5fbWV0YXNldHMgPSBbXTtcbiAgICAgICAgdGhpcy5fc3RhY2tzID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmJveGVzID0gW107XG4gICAgICAgIHRoaXMuY3VycmVudERldmljZVBpeGVsUmF0aW8gPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuY2hhcnRBcmVhID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9hY3RpdmUgPSBbXTtcbiAgICAgICAgdGhpcy5fbGFzdEV2ZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9saXN0ZW5lcnMgPSB7fTtcbiAgICAgICAgIHRoaXMuX3Jlc3BvbnNpdmVMaXN0ZW5lcnMgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX3NvcnRlZE1ldGFzZXRzID0gW107XG4gICAgICAgIHRoaXMuc2NhbGVzID0ge307XG4gICAgICAgIHRoaXMuX3BsdWdpbnMgPSBuZXcgUGx1Z2luU2VydmljZSgpO1xuICAgICAgICB0aGlzLiRwcm94aWVzID0ge307XG4gICAgICAgIHRoaXMuX2hpZGRlbkluZGljZXMgPSB7fTtcbiAgICAgICAgdGhpcy5hdHRhY2hlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9hbmltYXRpb25zRGlzYWJsZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuJGNvbnRleHQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX2RvUmVzaXplID0gZGVib3VuY2UoKG1vZGUpPT50aGlzLnVwZGF0ZShtb2RlKSwgb3B0aW9ucy5yZXNpemVEZWxheSB8fCAwKTtcbiAgICAgICAgdGhpcy5fZGF0YUNoYW5nZXMgPSBbXTtcbiAgICAgICAgaW5zdGFuY2VzW3RoaXMuaWRdID0gdGhpcztcbiAgICAgICAgaWYgKCFjb250ZXh0IHx8ICFjYW52YXMpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gY3JlYXRlIGNoYXJ0OiBjYW4ndCBhY3F1aXJlIGNvbnRleHQgZnJvbSB0aGUgZ2l2ZW4gaXRlbVwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBhbmltYXRvci5saXN0ZW4odGhpcywgJ2NvbXBsZXRlJywgb25BbmltYXRpb25zQ29tcGxldGUpO1xuICAgICAgICBhbmltYXRvci5saXN0ZW4odGhpcywgJ3Byb2dyZXNzJywgb25BbmltYXRpb25Qcm9ncmVzcyk7XG4gICAgICAgIHRoaXMuX2luaXRpYWxpemUoKTtcbiAgICAgICAgaWYgKHRoaXMuYXR0YWNoZWQpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGFzcGVjdFJhdGlvKCkge1xuICAgICAgICBjb25zdCB7IG9wdGlvbnM6IHsgYXNwZWN0UmF0aW8gLCBtYWludGFpbkFzcGVjdFJhdGlvICB9ICwgd2lkdGggLCBoZWlnaHQgLCBfYXNwZWN0UmF0aW8gIH0gPSB0aGlzO1xuICAgICAgICBpZiAoIWlzTnVsbE9yVW5kZWYoYXNwZWN0UmF0aW8pKSB7XG4gICAgICAgICAgICByZXR1cm4gYXNwZWN0UmF0aW87XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1haW50YWluQXNwZWN0UmF0aW8gJiYgX2FzcGVjdFJhdGlvKSB7XG4gICAgICAgICAgICByZXR1cm4gX2FzcGVjdFJhdGlvO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoZWlnaHQgPyB3aWR0aCAvIGhlaWdodCA6IG51bGw7XG4gICAgfVxuICAgIGdldCBkYXRhKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25maWcuZGF0YTtcbiAgICB9XG4gICAgc2V0IGRhdGEoZGF0YSkge1xuICAgICAgICB0aGlzLmNvbmZpZy5kYXRhID0gZGF0YTtcbiAgICB9XG4gICAgZ2V0IG9wdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vcHRpb25zO1xuICAgIH1cbiAgICBzZXQgb3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuY29uZmlnLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIH1cbiAgICBnZXQgcmVnaXN0cnkoKSB7XG4gICAgICAgIHJldHVybiByZWdpc3RyeTtcbiAgICB9XG4gX2luaXRpYWxpemUoKSB7XG4gICAgICAgIHRoaXMubm90aWZ5UGx1Z2lucygnYmVmb3JlSW5pdCcpO1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnJlc3BvbnNpdmUpIHtcbiAgICAgICAgICAgIHRoaXMucmVzaXplKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXRpbmFTY2FsZSh0aGlzLCB0aGlzLm9wdGlvbnMuZGV2aWNlUGl4ZWxSYXRpbyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5iaW5kRXZlbnRzKCk7XG4gICAgICAgIHRoaXMubm90aWZ5UGx1Z2lucygnYWZ0ZXJJbml0Jyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBjbGVhcigpIHtcbiAgICAgICAgY2xlYXJDYW52YXModGhpcy5jYW52YXMsIHRoaXMuY3R4KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHN0b3AoKSB7XG4gICAgICAgIGFuaW1hdG9yLnN0b3AodGhpcyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiByZXNpemUod2lkdGgsIGhlaWdodCkge1xuICAgICAgICBpZiAoIWFuaW1hdG9yLnJ1bm5pbmcodGhpcykpIHtcbiAgICAgICAgICAgIHRoaXMuX3Jlc2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3Jlc2l6ZUJlZm9yZURyYXcgPSB7XG4gICAgICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIF9yZXNpemUod2lkdGgsIGhlaWdodCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBjYW52YXMgPSB0aGlzLmNhbnZhcztcbiAgICAgICAgY29uc3QgYXNwZWN0UmF0aW8gPSBvcHRpb25zLm1haW50YWluQXNwZWN0UmF0aW8gJiYgdGhpcy5hc3BlY3RSYXRpbztcbiAgICAgICAgY29uc3QgbmV3U2l6ZSA9IHRoaXMucGxhdGZvcm0uZ2V0TWF4aW11bVNpemUoY2FudmFzLCB3aWR0aCwgaGVpZ2h0LCBhc3BlY3RSYXRpbyk7XG4gICAgICAgIGNvbnN0IG5ld1JhdGlvID0gb3B0aW9ucy5kZXZpY2VQaXhlbFJhdGlvIHx8IHRoaXMucGxhdGZvcm0uZ2V0RGV2aWNlUGl4ZWxSYXRpbygpO1xuICAgICAgICBjb25zdCBtb2RlID0gdGhpcy53aWR0aCA/ICdyZXNpemUnIDogJ2F0dGFjaCc7XG4gICAgICAgIHRoaXMud2lkdGggPSBuZXdTaXplLndpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IG5ld1NpemUuaGVpZ2h0O1xuICAgICAgICB0aGlzLl9hc3BlY3RSYXRpbyA9IHRoaXMuYXNwZWN0UmF0aW87XG4gICAgICAgIGlmICghcmV0aW5hU2NhbGUodGhpcywgbmV3UmF0aW8sIHRydWUpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ub3RpZnlQbHVnaW5zKCdyZXNpemUnLCB7XG4gICAgICAgICAgICBzaXplOiBuZXdTaXplXG4gICAgICAgIH0pO1xuICAgICAgICBjYWxsYmFjayhvcHRpb25zLm9uUmVzaXplLCBbXG4gICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgbmV3U2l6ZVxuICAgICAgICBdLCB0aGlzKTtcbiAgICAgICAgaWYgKHRoaXMuYXR0YWNoZWQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kb1Jlc2l6ZShtb2RlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZW5zdXJlU2NhbGVzSGF2ZUlEcygpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3Qgc2NhbGVzT3B0aW9ucyA9IG9wdGlvbnMuc2NhbGVzIHx8IHt9O1xuICAgICAgICBlYWNoKHNjYWxlc09wdGlvbnMsIChheGlzT3B0aW9ucywgYXhpc0lEKT0+e1xuICAgICAgICAgICAgYXhpc09wdGlvbnMuaWQgPSBheGlzSUQ7XG4gICAgICAgIH0pO1xuICAgIH1cbiBidWlsZE9yVXBkYXRlU2NhbGVzKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBzY2FsZU9wdHMgPSBvcHRpb25zLnNjYWxlcztcbiAgICAgICAgY29uc3Qgc2NhbGVzID0gdGhpcy5zY2FsZXM7XG4gICAgICAgIGNvbnN0IHVwZGF0ZWQgPSBPYmplY3Qua2V5cyhzY2FsZXMpLnJlZHVjZSgob2JqLCBpZCk9PntcbiAgICAgICAgICAgIG9ialtpZF0gPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH0sIHt9KTtcbiAgICAgICAgbGV0IGl0ZW1zID0gW107XG4gICAgICAgIGlmIChzY2FsZU9wdHMpIHtcbiAgICAgICAgICAgIGl0ZW1zID0gaXRlbXMuY29uY2F0KE9iamVjdC5rZXlzKHNjYWxlT3B0cykubWFwKChpZCk9PntcbiAgICAgICAgICAgICAgICBjb25zdCBzY2FsZU9wdGlvbnMgPSBzY2FsZU9wdHNbaWRdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGF4aXMgPSBkZXRlcm1pbmVBeGlzKGlkLCBzY2FsZU9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzUmFkaWFsID0gYXhpcyA9PT0gJ3InO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzSG9yaXpvbnRhbCA9IGF4aXMgPT09ICd4JztcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiBzY2FsZU9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgIGRwb3NpdGlvbjogaXNSYWRpYWwgPyAnY2hhcnRBcmVhJyA6IGlzSG9yaXpvbnRhbCA/ICdib3R0b20nIDogJ2xlZnQnLFxuICAgICAgICAgICAgICAgICAgICBkdHlwZTogaXNSYWRpYWwgPyAncmFkaWFsTGluZWFyJyA6IGlzSG9yaXpvbnRhbCA/ICdjYXRlZ29yeScgOiAnbGluZWFyJ1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgZWFjaChpdGVtcywgKGl0ZW0pPT57XG4gICAgICAgICAgICBjb25zdCBzY2FsZU9wdGlvbnMgPSBpdGVtLm9wdGlvbnM7XG4gICAgICAgICAgICBjb25zdCBpZCA9IHNjYWxlT3B0aW9ucy5pZDtcbiAgICAgICAgICAgIGNvbnN0IGF4aXMgPSBkZXRlcm1pbmVBeGlzKGlkLCBzY2FsZU9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3Qgc2NhbGVUeXBlID0gdmFsdWVPckRlZmF1bHQoc2NhbGVPcHRpb25zLnR5cGUsIGl0ZW0uZHR5cGUpO1xuICAgICAgICAgICAgaWYgKHNjYWxlT3B0aW9ucy5wb3NpdGlvbiA9PT0gdW5kZWZpbmVkIHx8IHBvc2l0aW9uSXNIb3Jpem9udGFsKHNjYWxlT3B0aW9ucy5wb3NpdGlvbiwgYXhpcykgIT09IHBvc2l0aW9uSXNIb3Jpem9udGFsKGl0ZW0uZHBvc2l0aW9uKSkge1xuICAgICAgICAgICAgICAgIHNjYWxlT3B0aW9ucy5wb3NpdGlvbiA9IGl0ZW0uZHBvc2l0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdXBkYXRlZFtpZF0gPSB0cnVlO1xuICAgICAgICAgICAgbGV0IHNjYWxlID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChpZCBpbiBzY2FsZXMgJiYgc2NhbGVzW2lkXS50eXBlID09PSBzY2FsZVR5cGUpIHtcbiAgICAgICAgICAgICAgICBzY2FsZSA9IHNjYWxlc1tpZF07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNjYWxlQ2xhc3MgPSByZWdpc3RyeS5nZXRTY2FsZShzY2FsZVR5cGUpO1xuICAgICAgICAgICAgICAgIHNjYWxlID0gbmV3IHNjYWxlQ2xhc3Moe1xuICAgICAgICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogc2NhbGVUeXBlLFxuICAgICAgICAgICAgICAgICAgICBjdHg6IHRoaXMuY3R4LFxuICAgICAgICAgICAgICAgICAgICBjaGFydDogdGhpc1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHNjYWxlc1tzY2FsZS5pZF0gPSBzY2FsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNjYWxlLmluaXQoc2NhbGVPcHRpb25zLCBvcHRpb25zKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGVhY2godXBkYXRlZCwgKGhhc1VwZGF0ZWQsIGlkKT0+e1xuICAgICAgICAgICAgaWYgKCFoYXNVcGRhdGVkKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHNjYWxlc1tpZF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBlYWNoKHNjYWxlcywgKHNjYWxlKT0+e1xuICAgICAgICAgICAgbGF5b3V0cy5jb25maWd1cmUodGhpcywgc2NhbGUsIHNjYWxlLm9wdGlvbnMpO1xuICAgICAgICAgICAgbGF5b3V0cy5hZGRCb3godGhpcywgc2NhbGUpO1xuICAgICAgICB9KTtcbiAgICB9XG4gX3VwZGF0ZU1ldGFzZXRzKCkge1xuICAgICAgICBjb25zdCBtZXRhc2V0cyA9IHRoaXMuX21ldGFzZXRzO1xuICAgICAgICBjb25zdCBudW1EYXRhID0gdGhpcy5kYXRhLmRhdGFzZXRzLmxlbmd0aDtcbiAgICAgICAgY29uc3QgbnVtTWV0YSA9IG1ldGFzZXRzLmxlbmd0aDtcbiAgICAgICAgbWV0YXNldHMuc29ydCgoYSwgYik9PmEuaW5kZXggLSBiLmluZGV4KTtcbiAgICAgICAgaWYgKG51bU1ldGEgPiBudW1EYXRhKSB7XG4gICAgICAgICAgICBmb3IobGV0IGkgPSBudW1EYXRhOyBpIDwgbnVtTWV0YTsgKytpKXtcbiAgICAgICAgICAgICAgICB0aGlzLl9kZXN0cm95RGF0YXNldE1ldGEoaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtZXRhc2V0cy5zcGxpY2UobnVtRGF0YSwgbnVtTWV0YSAtIG51bURhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3NvcnRlZE1ldGFzZXRzID0gbWV0YXNldHMuc2xpY2UoMCkuc29ydChjb21wYXJlMkxldmVsKCdvcmRlcicsICdpbmRleCcpKTtcbiAgICB9XG4gX3JlbW92ZVVucmVmZXJlbmNlZE1ldGFzZXRzKCkge1xuICAgICAgICBjb25zdCB7IF9tZXRhc2V0czogbWV0YXNldHMgLCBkYXRhOiB7IGRhdGFzZXRzICB9ICB9ID0gdGhpcztcbiAgICAgICAgaWYgKG1ldGFzZXRzLmxlbmd0aCA+IGRhdGFzZXRzLmxlbmd0aCkge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3N0YWNrcztcbiAgICAgICAgfVxuICAgICAgICBtZXRhc2V0cy5mb3JFYWNoKChtZXRhLCBpbmRleCk9PntcbiAgICAgICAgICAgIGlmIChkYXRhc2V0cy5maWx0ZXIoKHgpPT54ID09PSBtZXRhLl9kYXRhc2V0KS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kZXN0cm95RGF0YXNldE1ldGEoaW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgYnVpbGRPclVwZGF0ZUNvbnRyb2xsZXJzKCkge1xuICAgICAgICBjb25zdCBuZXdDb250cm9sbGVycyA9IFtdO1xuICAgICAgICBjb25zdCBkYXRhc2V0cyA9IHRoaXMuZGF0YS5kYXRhc2V0cztcbiAgICAgICAgbGV0IGksIGlsZW47XG4gICAgICAgIHRoaXMuX3JlbW92ZVVucmVmZXJlbmNlZE1ldGFzZXRzKCk7XG4gICAgICAgIGZvcihpID0gMCwgaWxlbiA9IGRhdGFzZXRzLmxlbmd0aDsgaSA8IGlsZW47IGkrKyl7XG4gICAgICAgICAgICBjb25zdCBkYXRhc2V0ID0gZGF0YXNldHNbaV07XG4gICAgICAgICAgICBsZXQgbWV0YSA9IHRoaXMuZ2V0RGF0YXNldE1ldGEoaSk7XG4gICAgICAgICAgICBjb25zdCB0eXBlID0gZGF0YXNldC50eXBlIHx8IHRoaXMuY29uZmlnLnR5cGU7XG4gICAgICAgICAgICBpZiAobWV0YS50eXBlICYmIG1ldGEudHlwZSAhPT0gdHlwZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Rlc3Ryb3lEYXRhc2V0TWV0YShpKTtcbiAgICAgICAgICAgICAgICBtZXRhID0gdGhpcy5nZXREYXRhc2V0TWV0YShpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1ldGEudHlwZSA9IHR5cGU7XG4gICAgICAgICAgICBtZXRhLmluZGV4QXhpcyA9IGRhdGFzZXQuaW5kZXhBeGlzIHx8IGdldEluZGV4QXhpcyh0eXBlLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgICAgICAgbWV0YS5vcmRlciA9IGRhdGFzZXQub3JkZXIgfHwgMDtcbiAgICAgICAgICAgIG1ldGEuaW5kZXggPSBpO1xuICAgICAgICAgICAgbWV0YS5sYWJlbCA9ICcnICsgZGF0YXNldC5sYWJlbDtcbiAgICAgICAgICAgIG1ldGEudmlzaWJsZSA9IHRoaXMuaXNEYXRhc2V0VmlzaWJsZShpKTtcbiAgICAgICAgICAgIGlmIChtZXRhLmNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgICAgICBtZXRhLmNvbnRyb2xsZXIudXBkYXRlSW5kZXgoaSk7XG4gICAgICAgICAgICAgICAgbWV0YS5jb250cm9sbGVyLmxpbmtTY2FsZXMoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgQ29udHJvbGxlckNsYXNzID0gcmVnaXN0cnkuZ2V0Q29udHJvbGxlcih0eXBlKTtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRhdGFzZXRFbGVtZW50VHlwZSAsIGRhdGFFbGVtZW50VHlwZSAgfSA9IGRlZmF1bHRzLmRhdGFzZXRzW3R5cGVdO1xuICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oQ29udHJvbGxlckNsYXNzLCB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGFFbGVtZW50VHlwZTogcmVnaXN0cnkuZ2V0RWxlbWVudChkYXRhRWxlbWVudFR5cGUpLFxuICAgICAgICAgICAgICAgICAgICBkYXRhc2V0RWxlbWVudFR5cGU6IGRhdGFzZXRFbGVtZW50VHlwZSAmJiByZWdpc3RyeS5nZXRFbGVtZW50KGRhdGFzZXRFbGVtZW50VHlwZSlcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBtZXRhLmNvbnRyb2xsZXIgPSBuZXcgQ29udHJvbGxlckNsYXNzKHRoaXMsIGkpO1xuICAgICAgICAgICAgICAgIG5ld0NvbnRyb2xsZXJzLnB1c2gobWV0YS5jb250cm9sbGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl91cGRhdGVNZXRhc2V0cygpO1xuICAgICAgICByZXR1cm4gbmV3Q29udHJvbGxlcnM7XG4gICAgfVxuIF9yZXNldEVsZW1lbnRzKCkge1xuICAgICAgICBlYWNoKHRoaXMuZGF0YS5kYXRhc2V0cywgKGRhdGFzZXQsIGRhdGFzZXRJbmRleCk9PntcbiAgICAgICAgICAgIHRoaXMuZ2V0RGF0YXNldE1ldGEoZGF0YXNldEluZGV4KS5jb250cm9sbGVyLnJlc2V0KCk7XG4gICAgICAgIH0sIHRoaXMpO1xuICAgIH1cbiByZXNldCgpIHtcbiAgICAgICAgdGhpcy5fcmVzZXRFbGVtZW50cygpO1xuICAgICAgICB0aGlzLm5vdGlmeVBsdWdpbnMoJ3Jlc2V0Jyk7XG4gICAgfVxuICAgIHVwZGF0ZShtb2RlKSB7XG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IHRoaXMuY29uZmlnO1xuICAgICAgICBjb25maWcudXBkYXRlKCk7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLl9vcHRpb25zID0gY29uZmlnLmNyZWF0ZVJlc29sdmVyKGNvbmZpZy5jaGFydE9wdGlvblNjb3BlcygpLCB0aGlzLmdldENvbnRleHQoKSk7XG4gICAgICAgIGNvbnN0IGFuaW1zRGlzYWJsZWQgPSB0aGlzLl9hbmltYXRpb25zRGlzYWJsZWQgPSAhb3B0aW9ucy5hbmltYXRpb247XG4gICAgICAgIHRoaXMuX3VwZGF0ZVNjYWxlcygpO1xuICAgICAgICB0aGlzLl9jaGVja0V2ZW50QmluZGluZ3MoKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlSGlkZGVuSW5kaWNlcygpO1xuICAgICAgICB0aGlzLl9wbHVnaW5zLmludmFsaWRhdGUoKTtcbiAgICAgICAgaWYgKHRoaXMubm90aWZ5UGx1Z2lucygnYmVmb3JlVXBkYXRlJywge1xuICAgICAgICAgICAgbW9kZSxcbiAgICAgICAgICAgIGNhbmNlbGFibGU6IHRydWVcbiAgICAgICAgfSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV3Q29udHJvbGxlcnMgPSB0aGlzLmJ1aWxkT3JVcGRhdGVDb250cm9sbGVycygpO1xuICAgICAgICB0aGlzLm5vdGlmeVBsdWdpbnMoJ2JlZm9yZUVsZW1lbnRzVXBkYXRlJyk7XG4gICAgICAgIGxldCBtaW5QYWRkaW5nID0gMDtcbiAgICAgICAgZm9yKGxldCBpID0gMCwgaWxlbiA9IHRoaXMuZGF0YS5kYXRhc2V0cy5sZW5ndGg7IGkgPCBpbGVuOyBpKyspe1xuICAgICAgICAgICAgY29uc3QgeyBjb250cm9sbGVyICB9ID0gdGhpcy5nZXREYXRhc2V0TWV0YShpKTtcbiAgICAgICAgICAgIGNvbnN0IHJlc2V0ID0gIWFuaW1zRGlzYWJsZWQgJiYgbmV3Q29udHJvbGxlcnMuaW5kZXhPZihjb250cm9sbGVyKSA9PT0gLTE7XG4gICAgICAgICAgICBjb250cm9sbGVyLmJ1aWxkT3JVcGRhdGVFbGVtZW50cyhyZXNldCk7XG4gICAgICAgICAgICBtaW5QYWRkaW5nID0gTWF0aC5tYXgoK2NvbnRyb2xsZXIuZ2V0TWF4T3ZlcmZsb3coKSwgbWluUGFkZGluZyk7XG4gICAgICAgIH1cbiAgICAgICAgbWluUGFkZGluZyA9IHRoaXMuX21pblBhZGRpbmcgPSBvcHRpb25zLmxheW91dC5hdXRvUGFkZGluZyA/IG1pblBhZGRpbmcgOiAwO1xuICAgICAgICB0aGlzLl91cGRhdGVMYXlvdXQobWluUGFkZGluZyk7XG4gICAgICAgIGlmICghYW5pbXNEaXNhYmxlZCkge1xuICAgICAgICAgICAgZWFjaChuZXdDb250cm9sbGVycywgKGNvbnRyb2xsZXIpPT57XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5yZXNldCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdXBkYXRlRGF0YXNldHMobW9kZSk7XG4gICAgICAgIHRoaXMubm90aWZ5UGx1Z2lucygnYWZ0ZXJVcGRhdGUnLCB7XG4gICAgICAgICAgICBtb2RlXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9sYXllcnMuc29ydChjb21wYXJlMkxldmVsKCd6JywgJ19pZHgnKSk7XG4gICAgICAgIGNvbnN0IHsgX2FjdGl2ZSAsIF9sYXN0RXZlbnQgIH0gPSB0aGlzO1xuICAgICAgICBpZiAoX2xhc3RFdmVudCkge1xuICAgICAgICAgICAgdGhpcy5fZXZlbnRIYW5kbGVyKF9sYXN0RXZlbnQsIHRydWUpO1xuICAgICAgICB9IGVsc2UgaWYgKF9hY3RpdmUubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVIb3ZlclN0eWxlcyhfYWN0aXZlLCBfYWN0aXZlLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH1cbiBfdXBkYXRlU2NhbGVzKCkge1xuICAgICAgICBlYWNoKHRoaXMuc2NhbGVzLCAoc2NhbGUpPT57XG4gICAgICAgICAgICBsYXlvdXRzLnJlbW92ZUJveCh0aGlzLCBzY2FsZSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmVuc3VyZVNjYWxlc0hhdmVJRHMoKTtcbiAgICAgICAgdGhpcy5idWlsZE9yVXBkYXRlU2NhbGVzKCk7XG4gICAgfVxuIF9jaGVja0V2ZW50QmluZGluZ3MoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nRXZlbnRzID0gbmV3IFNldChPYmplY3Qua2V5cyh0aGlzLl9saXN0ZW5lcnMpKTtcbiAgICAgICAgY29uc3QgbmV3RXZlbnRzID0gbmV3IFNldChvcHRpb25zLmV2ZW50cyk7XG4gICAgICAgIGlmICghc2V0c0VxdWFsKGV4aXN0aW5nRXZlbnRzLCBuZXdFdmVudHMpIHx8ICEhdGhpcy5fcmVzcG9uc2l2ZUxpc3RlbmVycyAhPT0gb3B0aW9ucy5yZXNwb25zaXZlKSB7XG4gICAgICAgICAgICB0aGlzLnVuYmluZEV2ZW50cygpO1xuICAgICAgICAgICAgdGhpcy5iaW5kRXZlbnRzKCk7XG4gICAgICAgIH1cbiAgICB9XG4gX3VwZGF0ZUhpZGRlbkluZGljZXMoKSB7XG4gICAgICAgIGNvbnN0IHsgX2hpZGRlbkluZGljZXMgIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBjaGFuZ2VzID0gdGhpcy5fZ2V0VW5pZm9ybURhdGFDaGFuZ2VzKCkgfHwgW107XG4gICAgICAgIGZvciAoY29uc3QgeyBtZXRob2QgLCBzdGFydCAsIGNvdW50ICB9IG9mIGNoYW5nZXMpe1xuICAgICAgICAgICAgY29uc3QgbW92ZSA9IG1ldGhvZCA9PT0gJ19yZW1vdmVFbGVtZW50cycgPyAtY291bnQgOiBjb3VudDtcbiAgICAgICAgICAgIG1vdmVOdW1lcmljS2V5cyhfaGlkZGVuSW5kaWNlcywgc3RhcnQsIG1vdmUpO1xuICAgICAgICB9XG4gICAgfVxuIF9nZXRVbmlmb3JtRGF0YUNoYW5nZXMoKSB7XG4gICAgICAgIGNvbnN0IF9kYXRhQ2hhbmdlcyA9IHRoaXMuX2RhdGFDaGFuZ2VzO1xuICAgICAgICBpZiAoIV9kYXRhQ2hhbmdlcyB8fCAhX2RhdGFDaGFuZ2VzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2RhdGFDaGFuZ2VzID0gW107XG4gICAgICAgIGNvbnN0IGRhdGFzZXRDb3VudCA9IHRoaXMuZGF0YS5kYXRhc2V0cy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IG1ha2VTZXQgPSAoaWR4KT0+bmV3IFNldChfZGF0YUNoYW5nZXMuZmlsdGVyKChjKT0+Y1swXSA9PT0gaWR4KS5tYXAoKGMsIGkpPT5pICsgJywnICsgYy5zcGxpY2UoMSkuam9pbignLCcpKSk7XG4gICAgICAgIGNvbnN0IGNoYW5nZVNldCA9IG1ha2VTZXQoMCk7XG4gICAgICAgIGZvcihsZXQgaSA9IDE7IGkgPCBkYXRhc2V0Q291bnQ7IGkrKyl7XG4gICAgICAgICAgICBpZiAoIXNldHNFcXVhbChjaGFuZ2VTZXQsIG1ha2VTZXQoaSkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKGNoYW5nZVNldCkubWFwKChjKT0+Yy5zcGxpdCgnLCcpKS5tYXAoKGEpPT4oe1xuICAgICAgICAgICAgICAgIG1ldGhvZDogYVsxXSxcbiAgICAgICAgICAgICAgICBzdGFydDogK2FbMl0sXG4gICAgICAgICAgICAgICAgY291bnQ6ICthWzNdXG4gICAgICAgICAgICB9KSk7XG4gICAgfVxuIF91cGRhdGVMYXlvdXQobWluUGFkZGluZykge1xuICAgICAgICBpZiAodGhpcy5ub3RpZnlQbHVnaW5zKCdiZWZvcmVMYXlvdXQnLCB7XG4gICAgICAgICAgICBjYW5jZWxhYmxlOiB0cnVlXG4gICAgICAgIH0pID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxheW91dHMudXBkYXRlKHRoaXMsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCBtaW5QYWRkaW5nKTtcbiAgICAgICAgY29uc3QgYXJlYSA9IHRoaXMuY2hhcnRBcmVhO1xuICAgICAgICBjb25zdCBub0FyZWEgPSBhcmVhLndpZHRoIDw9IDAgfHwgYXJlYS5oZWlnaHQgPD0gMDtcbiAgICAgICAgdGhpcy5fbGF5ZXJzID0gW107XG4gICAgICAgIGVhY2godGhpcy5ib3hlcywgKGJveCk9PntcbiAgICAgICAgICAgIGlmIChub0FyZWEgJiYgYm94LnBvc2l0aW9uID09PSAnY2hhcnRBcmVhJykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChib3guY29uZmlndXJlKSB7XG4gICAgICAgICAgICAgICAgYm94LmNvbmZpZ3VyZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fbGF5ZXJzLnB1c2goLi4uYm94Ll9sYXllcnMoKSk7XG4gICAgICAgIH0sIHRoaXMpO1xuICAgICAgICB0aGlzLl9sYXllcnMuZm9yRWFjaCgoaXRlbSwgaW5kZXgpPT57XG4gICAgICAgICAgICBpdGVtLl9pZHggPSBpbmRleDtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubm90aWZ5UGx1Z2lucygnYWZ0ZXJMYXlvdXQnKTtcbiAgICB9XG4gX3VwZGF0ZURhdGFzZXRzKG1vZGUpIHtcbiAgICAgICAgaWYgKHRoaXMubm90aWZ5UGx1Z2lucygnYmVmb3JlRGF0YXNldHNVcGRhdGUnLCB7XG4gICAgICAgICAgICBtb2RlLFxuICAgICAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZVxuICAgICAgICB9KSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmb3IobGV0IGkgPSAwLCBpbGVuID0gdGhpcy5kYXRhLmRhdGFzZXRzLmxlbmd0aDsgaSA8IGlsZW47ICsraSl7XG4gICAgICAgICAgICB0aGlzLmdldERhdGFzZXRNZXRhKGkpLmNvbnRyb2xsZXIuY29uZmlndXJlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yKGxldCBpID0gMCwgaWxlbiA9IHRoaXMuZGF0YS5kYXRhc2V0cy5sZW5ndGg7IGkgPCBpbGVuOyArK2kpe1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlRGF0YXNldChpLCBpc0Z1bmN0aW9uKG1vZGUpID8gbW9kZSh7XG4gICAgICAgICAgICAgICAgZGF0YXNldEluZGV4OiBpXG4gICAgICAgICAgICB9KSA6IG1vZGUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubm90aWZ5UGx1Z2lucygnYWZ0ZXJEYXRhc2V0c1VwZGF0ZScsIHtcbiAgICAgICAgICAgIG1vZGVcbiAgICAgICAgfSk7XG4gICAgfVxuIF91cGRhdGVEYXRhc2V0KGluZGV4LCBtb2RlKSB7XG4gICAgICAgIGNvbnN0IG1ldGEgPSB0aGlzLmdldERhdGFzZXRNZXRhKGluZGV4KTtcbiAgICAgICAgY29uc3QgYXJncyA9IHtcbiAgICAgICAgICAgIG1ldGEsXG4gICAgICAgICAgICBpbmRleCxcbiAgICAgICAgICAgIG1vZGUsXG4gICAgICAgICAgICBjYW5jZWxhYmxlOiB0cnVlXG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLm5vdGlmeVBsdWdpbnMoJ2JlZm9yZURhdGFzZXRVcGRhdGUnLCBhcmdzKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBtZXRhLmNvbnRyb2xsZXIuX3VwZGF0ZShtb2RlKTtcbiAgICAgICAgYXJncy5jYW5jZWxhYmxlID0gZmFsc2U7XG4gICAgICAgIHRoaXMubm90aWZ5UGx1Z2lucygnYWZ0ZXJEYXRhc2V0VXBkYXRlJywgYXJncyk7XG4gICAgfVxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgaWYgKHRoaXMubm90aWZ5UGx1Z2lucygnYmVmb3JlUmVuZGVyJywge1xuICAgICAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZVxuICAgICAgICB9KSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYW5pbWF0b3IuaGFzKHRoaXMpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5hdHRhY2hlZCAmJiAhYW5pbWF0b3IucnVubmluZyh0aGlzKSkge1xuICAgICAgICAgICAgICAgIGFuaW1hdG9yLnN0YXJ0KHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kcmF3KCk7XG4gICAgICAgICAgICBvbkFuaW1hdGlvbnNDb21wbGV0ZSh7XG4gICAgICAgICAgICAgICAgY2hhcnQ6IHRoaXNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRyYXcoKSB7XG4gICAgICAgIGxldCBpO1xuICAgICAgICBpZiAodGhpcy5fcmVzaXplQmVmb3JlRHJhdykge1xuICAgICAgICAgICAgY29uc3QgeyB3aWR0aCAsIGhlaWdodCAgfSA9IHRoaXMuX3Jlc2l6ZUJlZm9yZURyYXc7XG4gICAgICAgICAgICB0aGlzLl9yZXNpemUod2lkdGgsIGhlaWdodCk7XG4gICAgICAgICAgICB0aGlzLl9yZXNpemVCZWZvcmVEcmF3ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICAgIGlmICh0aGlzLndpZHRoIDw9IDAgfHwgdGhpcy5oZWlnaHQgPD0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm5vdGlmeVBsdWdpbnMoJ2JlZm9yZURyYXcnLCB7XG4gICAgICAgICAgICBjYW5jZWxhYmxlOiB0cnVlXG4gICAgICAgIH0pID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxheWVycyA9IHRoaXMuX2xheWVycztcbiAgICAgICAgZm9yKGkgPSAwOyBpIDwgbGF5ZXJzLmxlbmd0aCAmJiBsYXllcnNbaV0ueiA8PSAwOyArK2kpe1xuICAgICAgICAgICAgbGF5ZXJzW2ldLmRyYXcodGhpcy5jaGFydEFyZWEpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2RyYXdEYXRhc2V0cygpO1xuICAgICAgICBmb3IoOyBpIDwgbGF5ZXJzLmxlbmd0aDsgKytpKXtcbiAgICAgICAgICAgIGxheWVyc1tpXS5kcmF3KHRoaXMuY2hhcnRBcmVhKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm5vdGlmeVBsdWdpbnMoJ2FmdGVyRHJhdycpO1xuICAgIH1cbiBfZ2V0U29ydGVkRGF0YXNldE1ldGFzKGZpbHRlclZpc2libGUpIHtcbiAgICAgICAgY29uc3QgbWV0YXNldHMgPSB0aGlzLl9zb3J0ZWRNZXRhc2V0cztcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgICAgIGxldCBpLCBpbGVuO1xuICAgICAgICBmb3IoaSA9IDAsIGlsZW4gPSBtZXRhc2V0cy5sZW5ndGg7IGkgPCBpbGVuOyArK2kpe1xuICAgICAgICAgICAgY29uc3QgbWV0YSA9IG1ldGFzZXRzW2ldO1xuICAgICAgICAgICAgaWYgKCFmaWx0ZXJWaXNpYmxlIHx8IG1ldGEudmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG1ldGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuIGdldFNvcnRlZFZpc2libGVEYXRhc2V0TWV0YXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRTb3J0ZWREYXRhc2V0TWV0YXModHJ1ZSk7XG4gICAgfVxuIF9kcmF3RGF0YXNldHMoKSB7XG4gICAgICAgIGlmICh0aGlzLm5vdGlmeVBsdWdpbnMoJ2JlZm9yZURhdGFzZXRzRHJhdycsIHtcbiAgICAgICAgICAgIGNhbmNlbGFibGU6IHRydWVcbiAgICAgICAgfSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbWV0YXNldHMgPSB0aGlzLmdldFNvcnRlZFZpc2libGVEYXRhc2V0TWV0YXMoKTtcbiAgICAgICAgZm9yKGxldCBpID0gbWV0YXNldHMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpe1xuICAgICAgICAgICAgdGhpcy5fZHJhd0RhdGFzZXQobWV0YXNldHNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubm90aWZ5UGx1Z2lucygnYWZ0ZXJEYXRhc2V0c0RyYXcnKTtcbiAgICB9XG4gX2RyYXdEYXRhc2V0KG1ldGEpIHtcbiAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5jdHg7XG4gICAgICAgIGNvbnN0IGNsaXAgPSBtZXRhLl9jbGlwO1xuICAgICAgICBjb25zdCB1c2VDbGlwID0gIWNsaXAuZGlzYWJsZWQ7XG4gICAgICAgIGNvbnN0IGFyZWEgPSBnZXREYXRhc2V0QXJlYShtZXRhLCB0aGlzLmNoYXJ0QXJlYSk7XG4gICAgICAgIGNvbnN0IGFyZ3MgPSB7XG4gICAgICAgICAgICBtZXRhLFxuICAgICAgICAgICAgaW5kZXg6IG1ldGEuaW5kZXgsXG4gICAgICAgICAgICBjYW5jZWxhYmxlOiB0cnVlXG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLm5vdGlmeVBsdWdpbnMoJ2JlZm9yZURhdGFzZXREcmF3JywgYXJncykgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVzZUNsaXApIHtcbiAgICAgICAgICAgIGNsaXBBcmVhKGN0eCwge1xuICAgICAgICAgICAgICAgIGxlZnQ6IGNsaXAubGVmdCA9PT0gZmFsc2UgPyAwIDogYXJlYS5sZWZ0IC0gY2xpcC5sZWZ0LFxuICAgICAgICAgICAgICAgIHJpZ2h0OiBjbGlwLnJpZ2h0ID09PSBmYWxzZSA/IHRoaXMud2lkdGggOiBhcmVhLnJpZ2h0ICsgY2xpcC5yaWdodCxcbiAgICAgICAgICAgICAgICB0b3A6IGNsaXAudG9wID09PSBmYWxzZSA/IDAgOiBhcmVhLnRvcCAtIGNsaXAudG9wLFxuICAgICAgICAgICAgICAgIGJvdHRvbTogY2xpcC5ib3R0b20gPT09IGZhbHNlID8gdGhpcy5oZWlnaHQgOiBhcmVhLmJvdHRvbSArIGNsaXAuYm90dG9tXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBtZXRhLmNvbnRyb2xsZXIuZHJhdygpO1xuICAgICAgICBpZiAodXNlQ2xpcCkge1xuICAgICAgICAgICAgdW5jbGlwQXJlYShjdHgpO1xuICAgICAgICB9XG4gICAgICAgIGFyZ3MuY2FuY2VsYWJsZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLm5vdGlmeVBsdWdpbnMoJ2FmdGVyRGF0YXNldERyYXcnLCBhcmdzKTtcbiAgICB9XG4gaXNQb2ludEluQXJlYShwb2ludCkge1xuICAgICAgICByZXR1cm4gX2lzUG9pbnRJbkFyZWEocG9pbnQsIHRoaXMuY2hhcnRBcmVhLCB0aGlzLl9taW5QYWRkaW5nKTtcbiAgICB9XG4gICAgZ2V0RWxlbWVudHNBdEV2ZW50Rm9yTW9kZShlLCBtb2RlLCBvcHRpb25zLCB1c2VGaW5hbFBvc2l0aW9uKSB7XG4gICAgICAgIGNvbnN0IG1ldGhvZCA9IEludGVyYWN0aW9uLm1vZGVzW21vZGVdO1xuICAgICAgICBpZiAodHlwZW9mIG1ldGhvZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcmV0dXJuIG1ldGhvZCh0aGlzLCBlLCBvcHRpb25zLCB1c2VGaW5hbFBvc2l0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGdldERhdGFzZXRNZXRhKGRhdGFzZXRJbmRleCkge1xuICAgICAgICBjb25zdCBkYXRhc2V0ID0gdGhpcy5kYXRhLmRhdGFzZXRzW2RhdGFzZXRJbmRleF07XG4gICAgICAgIGNvbnN0IG1ldGFzZXRzID0gdGhpcy5fbWV0YXNldHM7XG4gICAgICAgIGxldCBtZXRhID0gbWV0YXNldHMuZmlsdGVyKCh4KT0+eCAmJiB4Ll9kYXRhc2V0ID09PSBkYXRhc2V0KS5wb3AoKTtcbiAgICAgICAgaWYgKCFtZXRhKSB7XG4gICAgICAgICAgICBtZXRhID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IG51bGwsXG4gICAgICAgICAgICAgICAgZGF0YTogW10sXG4gICAgICAgICAgICAgICAgZGF0YXNldDogbnVsbCxcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBudWxsLFxuICAgICAgICAgICAgICAgIGhpZGRlbjogbnVsbCxcbiAgICAgICAgICAgICAgICB4QXhpc0lEOiBudWxsLFxuICAgICAgICAgICAgICAgIHlBeGlzSUQ6IG51bGwsXG4gICAgICAgICAgICAgICAgb3JkZXI6IGRhdGFzZXQgJiYgZGF0YXNldC5vcmRlciB8fCAwLFxuICAgICAgICAgICAgICAgIGluZGV4OiBkYXRhc2V0SW5kZXgsXG4gICAgICAgICAgICAgICAgX2RhdGFzZXQ6IGRhdGFzZXQsXG4gICAgICAgICAgICAgICAgX3BhcnNlZDogW10sXG4gICAgICAgICAgICAgICAgX3NvcnRlZDogZmFsc2VcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBtZXRhc2V0cy5wdXNoKG1ldGEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXRhO1xuICAgIH1cbiAgICBnZXRDb250ZXh0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kY29udGV4dCB8fCAodGhpcy4kY29udGV4dCA9IGNyZWF0ZUNvbnRleHQobnVsbCwge1xuICAgICAgICAgICAgY2hhcnQ6IHRoaXMsXG4gICAgICAgICAgICB0eXBlOiAnY2hhcnQnXG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgZ2V0VmlzaWJsZURhdGFzZXRDb3VudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U29ydGVkVmlzaWJsZURhdGFzZXRNZXRhcygpLmxlbmd0aDtcbiAgICB9XG4gICAgaXNEYXRhc2V0VmlzaWJsZShkYXRhc2V0SW5kZXgpIHtcbiAgICAgICAgY29uc3QgZGF0YXNldCA9IHRoaXMuZGF0YS5kYXRhc2V0c1tkYXRhc2V0SW5kZXhdO1xuICAgICAgICBpZiAoIWRhdGFzZXQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtZXRhID0gdGhpcy5nZXREYXRhc2V0TWV0YShkYXRhc2V0SW5kZXgpO1xuICAgICAgICByZXR1cm4gdHlwZW9mIG1ldGEuaGlkZGVuID09PSAnYm9vbGVhbicgPyAhbWV0YS5oaWRkZW4gOiAhZGF0YXNldC5oaWRkZW47XG4gICAgfVxuICAgIHNldERhdGFzZXRWaXNpYmlsaXR5KGRhdGFzZXRJbmRleCwgdmlzaWJsZSkge1xuICAgICAgICBjb25zdCBtZXRhID0gdGhpcy5nZXREYXRhc2V0TWV0YShkYXRhc2V0SW5kZXgpO1xuICAgICAgICBtZXRhLmhpZGRlbiA9ICF2aXNpYmxlO1xuICAgIH1cbiAgICB0b2dnbGVEYXRhVmlzaWJpbGl0eShpbmRleCkge1xuICAgICAgICB0aGlzLl9oaWRkZW5JbmRpY2VzW2luZGV4XSA9ICF0aGlzLl9oaWRkZW5JbmRpY2VzW2luZGV4XTtcbiAgICB9XG4gICAgZ2V0RGF0YVZpc2liaWxpdHkoaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLl9oaWRkZW5JbmRpY2VzW2luZGV4XTtcbiAgICB9XG4gX3VwZGF0ZVZpc2liaWxpdHkoZGF0YXNldEluZGV4LCBkYXRhSW5kZXgsIHZpc2libGUpIHtcbiAgICAgICAgY29uc3QgbW9kZSA9IHZpc2libGUgPyAnc2hvdycgOiAnaGlkZSc7XG4gICAgICAgIGNvbnN0IG1ldGEgPSB0aGlzLmdldERhdGFzZXRNZXRhKGRhdGFzZXRJbmRleCk7XG4gICAgICAgIGNvbnN0IGFuaW1zID0gbWV0YS5jb250cm9sbGVyLl9yZXNvbHZlQW5pbWF0aW9ucyh1bmRlZmluZWQsIG1vZGUpO1xuICAgICAgICBpZiAoZGVmaW5lZChkYXRhSW5kZXgpKSB7XG4gICAgICAgICAgICBtZXRhLmRhdGFbZGF0YUluZGV4XS5oaWRkZW4gPSAhdmlzaWJsZTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNldERhdGFzZXRWaXNpYmlsaXR5KGRhdGFzZXRJbmRleCwgdmlzaWJsZSk7XG4gICAgICAgICAgICBhbmltcy51cGRhdGUobWV0YSwge1xuICAgICAgICAgICAgICAgIHZpc2libGVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy51cGRhdGUoKGN0eCk9PmN0eC5kYXRhc2V0SW5kZXggPT09IGRhdGFzZXRJbmRleCA/IG1vZGUgOiB1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGhpZGUoZGF0YXNldEluZGV4LCBkYXRhSW5kZXgpIHtcbiAgICAgICAgdGhpcy5fdXBkYXRlVmlzaWJpbGl0eShkYXRhc2V0SW5kZXgsIGRhdGFJbmRleCwgZmFsc2UpO1xuICAgIH1cbiAgICBzaG93KGRhdGFzZXRJbmRleCwgZGF0YUluZGV4KSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVZpc2liaWxpdHkoZGF0YXNldEluZGV4LCBkYXRhSW5kZXgsIHRydWUpO1xuICAgIH1cbiBfZGVzdHJveURhdGFzZXRNZXRhKGRhdGFzZXRJbmRleCkge1xuICAgICAgICBjb25zdCBtZXRhID0gdGhpcy5fbWV0YXNldHNbZGF0YXNldEluZGV4XTtcbiAgICAgICAgaWYgKG1ldGEgJiYgbWV0YS5jb250cm9sbGVyKSB7XG4gICAgICAgICAgICBtZXRhLmNvbnRyb2xsZXIuX2Rlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICBkZWxldGUgdGhpcy5fbWV0YXNldHNbZGF0YXNldEluZGV4XTtcbiAgICB9XG4gICAgX3N0b3AoKSB7XG4gICAgICAgIGxldCBpLCBpbGVuO1xuICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgYW5pbWF0b3IucmVtb3ZlKHRoaXMpO1xuICAgICAgICBmb3IoaSA9IDAsIGlsZW4gPSB0aGlzLmRhdGEuZGF0YXNldHMubGVuZ3RoOyBpIDwgaWxlbjsgKytpKXtcbiAgICAgICAgICAgIHRoaXMuX2Rlc3Ryb3lEYXRhc2V0TWV0YShpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLm5vdGlmeVBsdWdpbnMoJ2JlZm9yZURlc3Ryb3knKTtcbiAgICAgICAgY29uc3QgeyBjYW52YXMgLCBjdHggIH0gPSB0aGlzO1xuICAgICAgICB0aGlzLl9zdG9wKCk7XG4gICAgICAgIHRoaXMuY29uZmlnLmNsZWFyQ2FjaGUoKTtcbiAgICAgICAgaWYgKGNhbnZhcykge1xuICAgICAgICAgICAgdGhpcy51bmJpbmRFdmVudHMoKTtcbiAgICAgICAgICAgIGNsZWFyQ2FudmFzKGNhbnZhcywgY3R4KTtcbiAgICAgICAgICAgIHRoaXMucGxhdGZvcm0ucmVsZWFzZUNvbnRleHQoY3R4KTtcbiAgICAgICAgICAgIHRoaXMuY2FudmFzID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuY3R4ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBkZWxldGUgaW5zdGFuY2VzW3RoaXMuaWRdO1xuICAgICAgICB0aGlzLm5vdGlmeVBsdWdpbnMoJ2FmdGVyRGVzdHJveScpO1xuICAgIH1cbiAgICB0b0Jhc2U2NEltYWdlKC4uLmFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FudmFzLnRvRGF0YVVSTCguLi5hcmdzKTtcbiAgICB9XG4gYmluZEV2ZW50cygpIHtcbiAgICAgICAgdGhpcy5iaW5kVXNlckV2ZW50cygpO1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnJlc3BvbnNpdmUpIHtcbiAgICAgICAgICAgIHRoaXMuYmluZFJlc3BvbnNpdmVFdmVudHMoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYXR0YWNoZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuIGJpbmRVc2VyRXZlbnRzKCkge1xuICAgICAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLl9saXN0ZW5lcnM7XG4gICAgICAgIGNvbnN0IHBsYXRmb3JtID0gdGhpcy5wbGF0Zm9ybTtcbiAgICAgICAgY29uc3QgX2FkZCA9ICh0eXBlLCBsaXN0ZW5lcik9PntcbiAgICAgICAgICAgIHBsYXRmb3JtLmFkZEV2ZW50TGlzdGVuZXIodGhpcywgdHlwZSwgbGlzdGVuZXIpO1xuICAgICAgICAgICAgbGlzdGVuZXJzW3R5cGVdID0gbGlzdGVuZXI7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGxpc3RlbmVyID0gKGUsIHgsIHkpPT57XG4gICAgICAgICAgICBlLm9mZnNldFggPSB4O1xuICAgICAgICAgICAgZS5vZmZzZXRZID0geTtcbiAgICAgICAgICAgIHRoaXMuX2V2ZW50SGFuZGxlcihlKTtcbiAgICAgICAgfTtcbiAgICAgICAgZWFjaCh0aGlzLm9wdGlvbnMuZXZlbnRzLCAodHlwZSk9Pl9hZGQodHlwZSwgbGlzdGVuZXIpKTtcbiAgICB9XG4gYmluZFJlc3BvbnNpdmVFdmVudHMoKSB7XG4gICAgICAgIGlmICghdGhpcy5fcmVzcG9uc2l2ZUxpc3RlbmVycykge1xuICAgICAgICAgICAgdGhpcy5fcmVzcG9uc2l2ZUxpc3RlbmVycyA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuX3Jlc3BvbnNpdmVMaXN0ZW5lcnM7XG4gICAgICAgIGNvbnN0IHBsYXRmb3JtID0gdGhpcy5wbGF0Zm9ybTtcbiAgICAgICAgY29uc3QgX2FkZCA9ICh0eXBlLCBsaXN0ZW5lcik9PntcbiAgICAgICAgICAgIHBsYXRmb3JtLmFkZEV2ZW50TGlzdGVuZXIodGhpcywgdHlwZSwgbGlzdGVuZXIpO1xuICAgICAgICAgICAgbGlzdGVuZXJzW3R5cGVdID0gbGlzdGVuZXI7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IF9yZW1vdmUgPSAodHlwZSwgbGlzdGVuZXIpPT57XG4gICAgICAgICAgICBpZiAobGlzdGVuZXJzW3R5cGVdKSB7XG4gICAgICAgICAgICAgICAgcGxhdGZvcm0ucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLCB0eXBlLCBsaXN0ZW5lcik7XG4gICAgICAgICAgICAgICAgZGVsZXRlIGxpc3RlbmVyc1t0eXBlXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgbGlzdGVuZXIgPSAod2lkdGgsIGhlaWdodCk9PntcbiAgICAgICAgICAgIGlmICh0aGlzLmNhbnZhcykge1xuICAgICAgICAgICAgICAgIHRoaXMucmVzaXplKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBsZXQgZGV0YWNoZWQ7XG4gICAgICAgIGNvbnN0IGF0dGFjaGVkID0gKCk9PntcbiAgICAgICAgICAgIF9yZW1vdmUoJ2F0dGFjaCcsIGF0dGFjaGVkKTtcbiAgICAgICAgICAgIHRoaXMuYXR0YWNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5yZXNpemUoKTtcbiAgICAgICAgICAgIF9hZGQoJ3Jlc2l6ZScsIGxpc3RlbmVyKTtcbiAgICAgICAgICAgIF9hZGQoJ2RldGFjaCcsIGRldGFjaGVkKTtcbiAgICAgICAgfTtcbiAgICAgICAgZGV0YWNoZWQgPSAoKT0+e1xuICAgICAgICAgICAgdGhpcy5hdHRhY2hlZCA9IGZhbHNlO1xuICAgICAgICAgICAgX3JlbW92ZSgncmVzaXplJywgbGlzdGVuZXIpO1xuICAgICAgICAgICAgdGhpcy5fc3RvcCgpO1xuICAgICAgICAgICAgdGhpcy5fcmVzaXplKDAsIDApO1xuICAgICAgICAgICAgX2FkZCgnYXR0YWNoJywgYXR0YWNoZWQpO1xuICAgICAgICB9O1xuICAgICAgICBpZiAocGxhdGZvcm0uaXNBdHRhY2hlZCh0aGlzLmNhbnZhcykpIHtcbiAgICAgICAgICAgIGF0dGFjaGVkKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkZXRhY2hlZCgpO1xuICAgICAgICB9XG4gICAgfVxuIHVuYmluZEV2ZW50cygpIHtcbiAgICAgICAgZWFjaCh0aGlzLl9saXN0ZW5lcnMsIChsaXN0ZW5lciwgdHlwZSk9PntcbiAgICAgICAgICAgIHRoaXMucGxhdGZvcm0ucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLCB0eXBlLCBsaXN0ZW5lcik7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9saXN0ZW5lcnMgPSB7fTtcbiAgICAgICAgZWFjaCh0aGlzLl9yZXNwb25zaXZlTGlzdGVuZXJzLCAobGlzdGVuZXIsIHR5cGUpPT57XG4gICAgICAgICAgICB0aGlzLnBsYXRmb3JtLnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcywgdHlwZSwgbGlzdGVuZXIpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fcmVzcG9uc2l2ZUxpc3RlbmVycyA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgdXBkYXRlSG92ZXJTdHlsZShpdGVtcywgbW9kZSwgZW5hYmxlZCkge1xuICAgICAgICBjb25zdCBwcmVmaXggPSBlbmFibGVkID8gJ3NldCcgOiAncmVtb3ZlJztcbiAgICAgICAgbGV0IG1ldGEsIGl0ZW0sIGksIGlsZW47XG4gICAgICAgIGlmIChtb2RlID09PSAnZGF0YXNldCcpIHtcbiAgICAgICAgICAgIG1ldGEgPSB0aGlzLmdldERhdGFzZXRNZXRhKGl0ZW1zWzBdLmRhdGFzZXRJbmRleCk7XG4gICAgICAgICAgICBtZXRhLmNvbnRyb2xsZXJbJ18nICsgcHJlZml4ICsgJ0RhdGFzZXRIb3ZlclN0eWxlJ10oKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IoaSA9IDAsIGlsZW4gPSBpdGVtcy5sZW5ndGg7IGkgPCBpbGVuOyArK2kpe1xuICAgICAgICAgICAgaXRlbSA9IGl0ZW1zW2ldO1xuICAgICAgICAgICAgY29uc3QgY29udHJvbGxlciA9IGl0ZW0gJiYgdGhpcy5nZXREYXRhc2V0TWV0YShpdGVtLmRhdGFzZXRJbmRleCkuY29udHJvbGxlcjtcbiAgICAgICAgICAgIGlmIChjb250cm9sbGVyKSB7XG4gICAgICAgICAgICAgICAgY29udHJvbGxlcltwcmVmaXggKyAnSG92ZXJTdHlsZSddKGl0ZW0uZWxlbWVudCwgaXRlbS5kYXRhc2V0SW5kZXgsIGl0ZW0uaW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuIGdldEFjdGl2ZUVsZW1lbnRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWN0aXZlIHx8IFtdO1xuICAgIH1cbiBzZXRBY3RpdmVFbGVtZW50cyhhY3RpdmVFbGVtZW50cykge1xuICAgICAgICBjb25zdCBsYXN0QWN0aXZlID0gdGhpcy5fYWN0aXZlIHx8IFtdO1xuICAgICAgICBjb25zdCBhY3RpdmUgPSBhY3RpdmVFbGVtZW50cy5tYXAoKHsgZGF0YXNldEluZGV4ICwgaW5kZXggIH0pPT57XG4gICAgICAgICAgICBjb25zdCBtZXRhID0gdGhpcy5nZXREYXRhc2V0TWV0YShkYXRhc2V0SW5kZXgpO1xuICAgICAgICAgICAgaWYgKCFtZXRhKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBkYXRhc2V0IGZvdW5kIGF0IGluZGV4ICcgKyBkYXRhc2V0SW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBkYXRhc2V0SW5kZXgsXG4gICAgICAgICAgICAgICAgZWxlbWVudDogbWV0YS5kYXRhW2luZGV4XSxcbiAgICAgICAgICAgICAgICBpbmRleFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGNoYW5nZWQgPSAhX2VsZW1lbnRzRXF1YWwoYWN0aXZlLCBsYXN0QWN0aXZlKTtcbiAgICAgICAgaWYgKGNoYW5nZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2FjdGl2ZSA9IGFjdGl2ZTtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RFdmVudCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVIb3ZlclN0eWxlcyhhY3RpdmUsIGxhc3RBY3RpdmUpO1xuICAgICAgICB9XG4gICAgfVxuIG5vdGlmeVBsdWdpbnMoaG9vaywgYXJncywgZmlsdGVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wbHVnaW5zLm5vdGlmeSh0aGlzLCBob29rLCBhcmdzLCBmaWx0ZXIpO1xuICAgIH1cbiBpc1BsdWdpbkVuYWJsZWQocGx1Z2luSWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BsdWdpbnMuX2NhY2hlLmZpbHRlcigocCk9PnAucGx1Z2luLmlkID09PSBwbHVnaW5JZCkubGVuZ3RoID09PSAxO1xuICAgIH1cbiBfdXBkYXRlSG92ZXJTdHlsZXMoYWN0aXZlLCBsYXN0QWN0aXZlLCByZXBsYXkpIHtcbiAgICAgICAgY29uc3QgaG92ZXJPcHRpb25zID0gdGhpcy5vcHRpb25zLmhvdmVyO1xuICAgICAgICBjb25zdCBkaWZmID0gKGEsIGIpPT5hLmZpbHRlcigoeCk9PiFiLnNvbWUoKHkpPT54LmRhdGFzZXRJbmRleCA9PT0geS5kYXRhc2V0SW5kZXggJiYgeC5pbmRleCA9PT0geS5pbmRleCkpO1xuICAgICAgICBjb25zdCBkZWFjdGl2YXRlZCA9IGRpZmYobGFzdEFjdGl2ZSwgYWN0aXZlKTtcbiAgICAgICAgY29uc3QgYWN0aXZhdGVkID0gcmVwbGF5ID8gYWN0aXZlIDogZGlmZihhY3RpdmUsIGxhc3RBY3RpdmUpO1xuICAgICAgICBpZiAoZGVhY3RpdmF0ZWQubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUhvdmVyU3R5bGUoZGVhY3RpdmF0ZWQsIGhvdmVyT3B0aW9ucy5tb2RlLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFjdGl2YXRlZC5sZW5ndGggJiYgaG92ZXJPcHRpb25zLm1vZGUpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlSG92ZXJTdHlsZShhY3RpdmF0ZWQsIGhvdmVyT3B0aW9ucy5tb2RlLCB0cnVlKTtcbiAgICAgICAgfVxuICAgIH1cbiBfZXZlbnRIYW5kbGVyKGUsIHJlcGxheSkge1xuICAgICAgICBjb25zdCBhcmdzID0ge1xuICAgICAgICAgICAgZXZlbnQ6IGUsXG4gICAgICAgICAgICByZXBsYXksXG4gICAgICAgICAgICBjYW5jZWxhYmxlOiB0cnVlLFxuICAgICAgICAgICAgaW5DaGFydEFyZWE6IHRoaXMuaXNQb2ludEluQXJlYShlKVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBldmVudEZpbHRlciA9IChwbHVnaW4pPT4ocGx1Z2luLm9wdGlvbnMuZXZlbnRzIHx8IHRoaXMub3B0aW9ucy5ldmVudHMpLmluY2x1ZGVzKGUubmF0aXZlLnR5cGUpO1xuICAgICAgICBpZiAodGhpcy5ub3RpZnlQbHVnaW5zKCdiZWZvcmVFdmVudCcsIGFyZ3MsIGV2ZW50RmlsdGVyKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjaGFuZ2VkID0gdGhpcy5faGFuZGxlRXZlbnQoZSwgcmVwbGF5LCBhcmdzLmluQ2hhcnRBcmVhKTtcbiAgICAgICAgYXJncy5jYW5jZWxhYmxlID0gZmFsc2U7XG4gICAgICAgIHRoaXMubm90aWZ5UGx1Z2lucygnYWZ0ZXJFdmVudCcsIGFyZ3MsIGV2ZW50RmlsdGVyKTtcbiAgICAgICAgaWYgKGNoYW5nZWQgfHwgYXJncy5jaGFuZ2VkKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiBfaGFuZGxlRXZlbnQoZSwgcmVwbGF5LCBpbkNoYXJ0QXJlYSkge1xuICAgICAgICBjb25zdCB7IF9hY3RpdmU6IGxhc3RBY3RpdmUgPSBbXSAsIG9wdGlvbnMgIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCB1c2VGaW5hbFBvc2l0aW9uID0gcmVwbGF5O1xuICAgICAgICBjb25zdCBhY3RpdmUgPSB0aGlzLl9nZXRBY3RpdmVFbGVtZW50cyhlLCBsYXN0QWN0aXZlLCBpbkNoYXJ0QXJlYSwgdXNlRmluYWxQb3NpdGlvbik7XG4gICAgICAgIGNvbnN0IGlzQ2xpY2sgPSBfaXNDbGlja0V2ZW50KGUpO1xuICAgICAgICBjb25zdCBsYXN0RXZlbnQgPSBkZXRlcm1pbmVMYXN0RXZlbnQoZSwgdGhpcy5fbGFzdEV2ZW50LCBpbkNoYXJ0QXJlYSwgaXNDbGljayk7XG4gICAgICAgIGlmIChpbkNoYXJ0QXJlYSkge1xuICAgICAgICAgICAgdGhpcy5fbGFzdEV2ZW50ID0gbnVsbDtcbiAgICAgICAgICAgIGNhbGxiYWNrKG9wdGlvbnMub25Ib3ZlciwgW1xuICAgICAgICAgICAgICAgIGUsXG4gICAgICAgICAgICAgICAgYWN0aXZlLFxuICAgICAgICAgICAgICAgIHRoaXNcbiAgICAgICAgICAgIF0sIHRoaXMpO1xuICAgICAgICAgICAgaWYgKGlzQ2xpY2spIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhvcHRpb25zLm9uQ2xpY2ssIFtcbiAgICAgICAgICAgICAgICAgICAgZSxcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlLFxuICAgICAgICAgICAgICAgICAgICB0aGlzXG4gICAgICAgICAgICAgICAgXSwgdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2hhbmdlZCA9ICFfZWxlbWVudHNFcXVhbChhY3RpdmUsIGxhc3RBY3RpdmUpO1xuICAgICAgICBpZiAoY2hhbmdlZCB8fCByZXBsYXkpIHtcbiAgICAgICAgICAgIHRoaXMuX2FjdGl2ZSA9IGFjdGl2ZTtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUhvdmVyU3R5bGVzKGFjdGl2ZSwgbGFzdEFjdGl2ZSwgcmVwbGF5KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9sYXN0RXZlbnQgPSBsYXN0RXZlbnQ7XG4gICAgICAgIHJldHVybiBjaGFuZ2VkO1xuICAgIH1cbiBfZ2V0QWN0aXZlRWxlbWVudHMoZSwgbGFzdEFjdGl2ZSwgaW5DaGFydEFyZWEsIHVzZUZpbmFsUG9zaXRpb24pIHtcbiAgICAgICAgaWYgKGUudHlwZSA9PT0gJ21vdXNlb3V0Jykge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaW5DaGFydEFyZWEpIHtcbiAgICAgICAgICAgIHJldHVybiBsYXN0QWN0aXZlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGhvdmVyT3B0aW9ucyA9IHRoaXMub3B0aW9ucy5ob3ZlcjtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RWxlbWVudHNBdEV2ZW50Rm9yTW9kZShlLCBob3Zlck9wdGlvbnMubW9kZSwgaG92ZXJPcHRpb25zLCB1c2VGaW5hbFBvc2l0aW9uKTtcbiAgICB9XG59XG5mdW5jdGlvbiBpbnZhbGlkYXRlUGx1Z2lucygpIHtcbiAgICByZXR1cm4gZWFjaChDaGFydC5pbnN0YW5jZXMsIChjaGFydCk9PmNoYXJ0Ll9wbHVnaW5zLmludmFsaWRhdGUoKSk7XG59XG5cbmZ1bmN0aW9uIGNsaXBBcmMoY3R4LCBlbGVtZW50LCBlbmRBbmdsZSkge1xuICAgIGNvbnN0IHsgc3RhcnRBbmdsZSAsIHBpeGVsTWFyZ2luICwgeCAsIHkgLCBvdXRlclJhZGl1cyAsIGlubmVyUmFkaXVzICB9ID0gZWxlbWVudDtcbiAgICBsZXQgYW5nbGVNYXJnaW4gPSBwaXhlbE1hcmdpbiAvIG91dGVyUmFkaXVzO1xuICAgIC8vIERyYXcgYW4gaW5uZXIgYm9yZGVyIGJ5IGNsaXBwaW5nIHRoZSBhcmMgYW5kIGRyYXdpbmcgYSBkb3VibGUtd2lkdGggYm9yZGVyXG4gICAgLy8gRW5sYXJnZSB0aGUgY2xpcHBpbmcgYXJjIGJ5IDAuMzMgcGl4ZWxzIHRvIGVsaW1pbmF0ZSBnbGl0Y2hlcyBiZXR3ZWVuIGJvcmRlcnNcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4LmFyYyh4LCB5LCBvdXRlclJhZGl1cywgc3RhcnRBbmdsZSAtIGFuZ2xlTWFyZ2luLCBlbmRBbmdsZSArIGFuZ2xlTWFyZ2luKTtcbiAgICBpZiAoaW5uZXJSYWRpdXMgPiBwaXhlbE1hcmdpbikge1xuICAgICAgICBhbmdsZU1hcmdpbiA9IHBpeGVsTWFyZ2luIC8gaW5uZXJSYWRpdXM7XG4gICAgICAgIGN0eC5hcmMoeCwgeSwgaW5uZXJSYWRpdXMsIGVuZEFuZ2xlICsgYW5nbGVNYXJnaW4sIHN0YXJ0QW5nbGUgLSBhbmdsZU1hcmdpbiwgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY3R4LmFyYyh4LCB5LCBwaXhlbE1hcmdpbiwgZW5kQW5nbGUgKyBIQUxGX1BJLCBzdGFydEFuZ2xlIC0gSEFMRl9QSSk7XG4gICAgfVxuICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICBjdHguY2xpcCgpO1xufVxuZnVuY3Rpb24gdG9SYWRpdXNDb3JuZXJzKHZhbHVlKSB7XG4gICAgcmV0dXJuIF9yZWFkVmFsdWVUb1Byb3BzKHZhbHVlLCBbXG4gICAgICAgICdvdXRlclN0YXJ0JyxcbiAgICAgICAgJ291dGVyRW5kJyxcbiAgICAgICAgJ2lubmVyU3RhcnQnLFxuICAgICAgICAnaW5uZXJFbmQnXG4gICAgXSk7XG59XG4vKipcbiAqIFBhcnNlIGJvcmRlciByYWRpdXMgZnJvbSB0aGUgcHJvdmlkZWQgb3B0aW9uc1xuICovIGZ1bmN0aW9uIHBhcnNlQm9yZGVyUmFkaXVzJDEoYXJjLCBpbm5lclJhZGl1cywgb3V0ZXJSYWRpdXMsIGFuZ2xlRGVsdGEpIHtcbiAgICBjb25zdCBvID0gdG9SYWRpdXNDb3JuZXJzKGFyYy5vcHRpb25zLmJvcmRlclJhZGl1cyk7XG4gICAgY29uc3QgaGFsZlRoaWNrbmVzcyA9IChvdXRlclJhZGl1cyAtIGlubmVyUmFkaXVzKSAvIDI7XG4gICAgY29uc3QgaW5uZXJMaW1pdCA9IE1hdGgubWluKGhhbGZUaGlja25lc3MsIGFuZ2xlRGVsdGEgKiBpbm5lclJhZGl1cyAvIDIpO1xuICAgIC8vIE91dGVyIGxpbWl0cyBhcmUgY29tcGxpY2F0ZWQuIFdlIHdhbnQgdG8gY29tcHV0ZSB0aGUgYXZhaWxhYmxlIGFuZ3VsYXIgZGlzdGFuY2UgYXRcbiAgICAvLyBhIHJhZGl1cyBvZiBvdXRlclJhZGl1cyAtIGJvcmRlclJhZGl1cyBiZWNhdXNlIGZvciBzbWFsbCBhbmd1bGFyIGRpc3RhbmNlcywgdGhpcyB0ZXJtIGxpbWl0cy5cbiAgICAvLyBXZSBjb21wdXRlIGF0IHIgPSBvdXRlclJhZGl1cyAtIGJvcmRlclJhZGl1cyBiZWNhdXNlIHRoaXMgY2lyY2xlIGRlZmluZXMgdGhlIGNlbnRlciBvZiB0aGUgYm9yZGVyIGNvcm5lcnMuXG4gICAgLy9cbiAgICAvLyBJZiB0aGUgYm9yZGVyUmFkaXVzIGlzIGxhcmdlLCB0aGF0IHZhbHVlIGNhbiBiZWNvbWUgbmVnYXRpdmUuXG4gICAgLy8gVGhpcyBjYXVzZXMgdGhlIG91dGVyIGJvcmRlcnMgdG8gbG9zZSB0aGVpciByYWRpdXMgZW50aXJlbHksIHdoaWNoIGlzIHJhdGhlciB1bmV4cGVjdGVkLiBUbyBzb2x2ZSB0aGF0LCBpZiBib3JkZXJSYWRpdXMgPiBvdXRlclJhZGl1c1xuICAgIC8vIHdlIGtub3cgdGhhdCB0aGUgdGhpY2tuZXNzIHRlcm0gd2lsbCBkb21pbmF0ZSBhbmQgY29tcHV0ZSB0aGUgbGltaXRzIGF0IHRoYXQgcG9pbnRcbiAgICBjb25zdCBjb21wdXRlT3V0ZXJMaW1pdCA9ICh2YWwpPT57XG4gICAgICAgIGNvbnN0IG91dGVyQXJjTGltaXQgPSAob3V0ZXJSYWRpdXMgLSBNYXRoLm1pbihoYWxmVGhpY2tuZXNzLCB2YWwpKSAqIGFuZ2xlRGVsdGEgLyAyO1xuICAgICAgICByZXR1cm4gX2xpbWl0VmFsdWUodmFsLCAwLCBNYXRoLm1pbihoYWxmVGhpY2tuZXNzLCBvdXRlckFyY0xpbWl0KSk7XG4gICAgfTtcbiAgICByZXR1cm4ge1xuICAgICAgICBvdXRlclN0YXJ0OiBjb21wdXRlT3V0ZXJMaW1pdChvLm91dGVyU3RhcnQpLFxuICAgICAgICBvdXRlckVuZDogY29tcHV0ZU91dGVyTGltaXQoby5vdXRlckVuZCksXG4gICAgICAgIGlubmVyU3RhcnQ6IF9saW1pdFZhbHVlKG8uaW5uZXJTdGFydCwgMCwgaW5uZXJMaW1pdCksXG4gICAgICAgIGlubmVyRW5kOiBfbGltaXRWYWx1ZShvLmlubmVyRW5kLCAwLCBpbm5lckxpbWl0KVxuICAgIH07XG59XG4vKipcbiAqIENvbnZlcnQgKHIsIPCdnIMpIHRvICh4LCB5KVxuICovIGZ1bmN0aW9uIHJUaGV0YVRvWFkociwgdGhldGEsIHgsIHkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB4OiB4ICsgciAqIE1hdGguY29zKHRoZXRhKSxcbiAgICAgICAgeTogeSArIHIgKiBNYXRoLnNpbih0aGV0YSlcbiAgICB9O1xufVxuLyoqXG4gKiBQYXRoIHRoZSBhcmMsIHJlc3BlY3RpbmcgYm9yZGVyIHJhZGl1cyBieSBzZXBhcmF0aW5nIGludG8gbGVmdCBhbmQgcmlnaHQgaGFsdmVzLlxuICpcbiAqICAgU3RhcnQgICAgICBFbmRcbiAqXG4gKiAgICAxLS0tPmEtLS0+MiAgICBPdXRlclxuICogICAvICAgICAgICAgICBcXFxuICogICA4ICAgICAgICAgICAzXG4gKiAgIHwgICAgICAgICAgIHxcbiAqICAgfCAgICAgICAgICAgfFxuICogICA3ICAgICAgICAgICA0XG4gKiAgIFxcICAgICAgICAgICAvXG4gKiAgICA2PC0tLWI8LS0tNSAgICBJbm5lclxuICovIGZ1bmN0aW9uIHBhdGhBcmMoY3R4LCBlbGVtZW50LCBvZmZzZXQsIHNwYWNpbmcsIGVuZCwgY2lyY3VsYXIpIHtcbiAgICBjb25zdCB7IHggLCB5ICwgc3RhcnRBbmdsZTogc3RhcnQgLCBwaXhlbE1hcmdpbiAsIGlubmVyUmFkaXVzOiBpbm5lclIgIH0gPSBlbGVtZW50O1xuICAgIGNvbnN0IG91dGVyUmFkaXVzID0gTWF0aC5tYXgoZWxlbWVudC5vdXRlclJhZGl1cyArIHNwYWNpbmcgKyBvZmZzZXQgLSBwaXhlbE1hcmdpbiwgMCk7XG4gICAgY29uc3QgaW5uZXJSYWRpdXMgPSBpbm5lclIgPiAwID8gaW5uZXJSICsgc3BhY2luZyArIG9mZnNldCArIHBpeGVsTWFyZ2luIDogMDtcbiAgICBsZXQgc3BhY2luZ09mZnNldCA9IDA7XG4gICAgY29uc3QgYWxwaGEgPSBlbmQgLSBzdGFydDtcbiAgICBpZiAoc3BhY2luZykge1xuICAgICAgICAvLyBXaGVuIHNwYWNpbmcgaXMgcHJlc2VudCwgaXQgaXMgdGhlIHNhbWUgZm9yIGFsbCBpdGVtc1xuICAgICAgICAvLyBTbyB3ZSBhZGp1c3QgdGhlIHN0YXJ0IGFuZCBlbmQgYW5nbGUgb2YgdGhlIGFyYyBzdWNoIHRoYXRcbiAgICAgICAgLy8gdGhlIGRpc3RhbmNlIGlzIHRoZSBzYW1lIGFzIGl0IHdvdWxkIGJlIHdpdGhvdXQgdGhlIHNwYWNpbmdcbiAgICAgICAgY29uc3Qgbm9TcGFjaW5nSW5uZXJSYWRpdXMgPSBpbm5lclIgPiAwID8gaW5uZXJSIC0gc3BhY2luZyA6IDA7XG4gICAgICAgIGNvbnN0IG5vU3BhY2luZ091dGVyUmFkaXVzID0gb3V0ZXJSYWRpdXMgPiAwID8gb3V0ZXJSYWRpdXMgLSBzcGFjaW5nIDogMDtcbiAgICAgICAgY29uc3QgYXZOb2dTcGFjaW5nUmFkaXVzID0gKG5vU3BhY2luZ0lubmVyUmFkaXVzICsgbm9TcGFjaW5nT3V0ZXJSYWRpdXMpIC8gMjtcbiAgICAgICAgY29uc3QgYWRqdXN0ZWRBbmdsZSA9IGF2Tm9nU3BhY2luZ1JhZGl1cyAhPT0gMCA/IGFscGhhICogYXZOb2dTcGFjaW5nUmFkaXVzIC8gKGF2Tm9nU3BhY2luZ1JhZGl1cyArIHNwYWNpbmcpIDogYWxwaGE7XG4gICAgICAgIHNwYWNpbmdPZmZzZXQgPSAoYWxwaGEgLSBhZGp1c3RlZEFuZ2xlKSAvIDI7XG4gICAgfVxuICAgIGNvbnN0IGJldGEgPSBNYXRoLm1heCgwLjAwMSwgYWxwaGEgKiBvdXRlclJhZGl1cyAtIG9mZnNldCAvIFBJKSAvIG91dGVyUmFkaXVzO1xuICAgIGNvbnN0IGFuZ2xlT2Zmc2V0ID0gKGFscGhhIC0gYmV0YSkgLyAyO1xuICAgIGNvbnN0IHN0YXJ0QW5nbGUgPSBzdGFydCArIGFuZ2xlT2Zmc2V0ICsgc3BhY2luZ09mZnNldDtcbiAgICBjb25zdCBlbmRBbmdsZSA9IGVuZCAtIGFuZ2xlT2Zmc2V0IC0gc3BhY2luZ09mZnNldDtcbiAgICBjb25zdCB7IG91dGVyU3RhcnQgLCBvdXRlckVuZCAsIGlubmVyU3RhcnQgLCBpbm5lckVuZCAgfSA9IHBhcnNlQm9yZGVyUmFkaXVzJDEoZWxlbWVudCwgaW5uZXJSYWRpdXMsIG91dGVyUmFkaXVzLCBlbmRBbmdsZSAtIHN0YXJ0QW5nbGUpO1xuICAgIGNvbnN0IG91dGVyU3RhcnRBZGp1c3RlZFJhZGl1cyA9IG91dGVyUmFkaXVzIC0gb3V0ZXJTdGFydDtcbiAgICBjb25zdCBvdXRlckVuZEFkanVzdGVkUmFkaXVzID0gb3V0ZXJSYWRpdXMgLSBvdXRlckVuZDtcbiAgICBjb25zdCBvdXRlclN0YXJ0QWRqdXN0ZWRBbmdsZSA9IHN0YXJ0QW5nbGUgKyBvdXRlclN0YXJ0IC8gb3V0ZXJTdGFydEFkanVzdGVkUmFkaXVzO1xuICAgIGNvbnN0IG91dGVyRW5kQWRqdXN0ZWRBbmdsZSA9IGVuZEFuZ2xlIC0gb3V0ZXJFbmQgLyBvdXRlckVuZEFkanVzdGVkUmFkaXVzO1xuICAgIGNvbnN0IGlubmVyU3RhcnRBZGp1c3RlZFJhZGl1cyA9IGlubmVyUmFkaXVzICsgaW5uZXJTdGFydDtcbiAgICBjb25zdCBpbm5lckVuZEFkanVzdGVkUmFkaXVzID0gaW5uZXJSYWRpdXMgKyBpbm5lckVuZDtcbiAgICBjb25zdCBpbm5lclN0YXJ0QWRqdXN0ZWRBbmdsZSA9IHN0YXJ0QW5nbGUgKyBpbm5lclN0YXJ0IC8gaW5uZXJTdGFydEFkanVzdGVkUmFkaXVzO1xuICAgIGNvbnN0IGlubmVyRW5kQWRqdXN0ZWRBbmdsZSA9IGVuZEFuZ2xlIC0gaW5uZXJFbmQgLyBpbm5lckVuZEFkanVzdGVkUmFkaXVzO1xuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBpZiAoY2lyY3VsYXIpIHtcbiAgICAgICAgLy8gVGhlIGZpcnN0IGFyYyBzZWdtZW50cyBmcm9tIHBvaW50IDEgdG8gcG9pbnQgYSB0byBwb2ludCAyXG4gICAgICAgIGNvbnN0IG91dGVyTWlkQWRqdXN0ZWRBbmdsZSA9IChvdXRlclN0YXJ0QWRqdXN0ZWRBbmdsZSArIG91dGVyRW5kQWRqdXN0ZWRBbmdsZSkgLyAyO1xuICAgICAgICBjdHguYXJjKHgsIHksIG91dGVyUmFkaXVzLCBvdXRlclN0YXJ0QWRqdXN0ZWRBbmdsZSwgb3V0ZXJNaWRBZGp1c3RlZEFuZ2xlKTtcbiAgICAgICAgY3R4LmFyYyh4LCB5LCBvdXRlclJhZGl1cywgb3V0ZXJNaWRBZGp1c3RlZEFuZ2xlLCBvdXRlckVuZEFkanVzdGVkQW5nbGUpO1xuICAgICAgICAvLyBUaGUgY29ybmVyIHNlZ21lbnQgZnJvbSBwb2ludCAyIHRvIHBvaW50IDNcbiAgICAgICAgaWYgKG91dGVyRW5kID4gMCkge1xuICAgICAgICAgICAgY29uc3QgcENlbnRlciA9IHJUaGV0YVRvWFkob3V0ZXJFbmRBZGp1c3RlZFJhZGl1cywgb3V0ZXJFbmRBZGp1c3RlZEFuZ2xlLCB4LCB5KTtcbiAgICAgICAgICAgIGN0eC5hcmMocENlbnRlci54LCBwQ2VudGVyLnksIG91dGVyRW5kLCBvdXRlckVuZEFkanVzdGVkQW5nbGUsIGVuZEFuZ2xlICsgSEFMRl9QSSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhlIGxpbmUgZnJvbSBwb2ludCAzIHRvIHBvaW50IDRcbiAgICAgICAgY29uc3QgcDQgPSByVGhldGFUb1hZKGlubmVyRW5kQWRqdXN0ZWRSYWRpdXMsIGVuZEFuZ2xlLCB4LCB5KTtcbiAgICAgICAgY3R4LmxpbmVUbyhwNC54LCBwNC55KTtcbiAgICAgICAgLy8gVGhlIGNvcm5lciBzZWdtZW50IGZyb20gcG9pbnQgNCB0byBwb2ludCA1XG4gICAgICAgIGlmIChpbm5lckVuZCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHBDZW50ZXIgPSByVGhldGFUb1hZKGlubmVyRW5kQWRqdXN0ZWRSYWRpdXMsIGlubmVyRW5kQWRqdXN0ZWRBbmdsZSwgeCwgeSk7XG4gICAgICAgICAgICBjdHguYXJjKHBDZW50ZXIueCwgcENlbnRlci55LCBpbm5lckVuZCwgZW5kQW5nbGUgKyBIQUxGX1BJLCBpbm5lckVuZEFkanVzdGVkQW5nbGUgKyBNYXRoLlBJKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUaGUgaW5uZXIgYXJjIGZyb20gcG9pbnQgNSB0byBwb2ludCBiIHRvIHBvaW50IDZcbiAgICAgICAgY29uc3QgaW5uZXJNaWRBZGp1c3RlZEFuZ2xlID0gKGVuZEFuZ2xlIC0gaW5uZXJFbmQgLyBpbm5lclJhZGl1cyArIChzdGFydEFuZ2xlICsgaW5uZXJTdGFydCAvIGlubmVyUmFkaXVzKSkgLyAyO1xuICAgICAgICBjdHguYXJjKHgsIHksIGlubmVyUmFkaXVzLCBlbmRBbmdsZSAtIGlubmVyRW5kIC8gaW5uZXJSYWRpdXMsIGlubmVyTWlkQWRqdXN0ZWRBbmdsZSwgdHJ1ZSk7XG4gICAgICAgIGN0eC5hcmMoeCwgeSwgaW5uZXJSYWRpdXMsIGlubmVyTWlkQWRqdXN0ZWRBbmdsZSwgc3RhcnRBbmdsZSArIGlubmVyU3RhcnQgLyBpbm5lclJhZGl1cywgdHJ1ZSk7XG4gICAgICAgIC8vIFRoZSBjb3JuZXIgc2VnbWVudCBmcm9tIHBvaW50IDYgdG8gcG9pbnQgN1xuICAgICAgICBpZiAoaW5uZXJTdGFydCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHBDZW50ZXIgPSByVGhldGFUb1hZKGlubmVyU3RhcnRBZGp1c3RlZFJhZGl1cywgaW5uZXJTdGFydEFkanVzdGVkQW5nbGUsIHgsIHkpO1xuICAgICAgICAgICAgY3R4LmFyYyhwQ2VudGVyLngsIHBDZW50ZXIueSwgaW5uZXJTdGFydCwgaW5uZXJTdGFydEFkanVzdGVkQW5nbGUgKyBNYXRoLlBJLCBzdGFydEFuZ2xlIC0gSEFMRl9QSSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhlIGxpbmUgZnJvbSBwb2ludCA3IHRvIHBvaW50IDhcbiAgICAgICAgY29uc3QgcDggPSByVGhldGFUb1hZKG91dGVyU3RhcnRBZGp1c3RlZFJhZGl1cywgc3RhcnRBbmdsZSwgeCwgeSk7XG4gICAgICAgIGN0eC5saW5lVG8ocDgueCwgcDgueSk7XG4gICAgICAgIC8vIFRoZSBjb3JuZXIgc2VnbWVudCBmcm9tIHBvaW50IDggdG8gcG9pbnQgMVxuICAgICAgICBpZiAob3V0ZXJTdGFydCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHBDZW50ZXIgPSByVGhldGFUb1hZKG91dGVyU3RhcnRBZGp1c3RlZFJhZGl1cywgb3V0ZXJTdGFydEFkanVzdGVkQW5nbGUsIHgsIHkpO1xuICAgICAgICAgICAgY3R4LmFyYyhwQ2VudGVyLngsIHBDZW50ZXIueSwgb3V0ZXJTdGFydCwgc3RhcnRBbmdsZSAtIEhBTEZfUEksIG91dGVyU3RhcnRBZGp1c3RlZEFuZ2xlKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGN0eC5tb3ZlVG8oeCwgeSk7XG4gICAgICAgIGNvbnN0IG91dGVyU3RhcnRYID0gTWF0aC5jb3Mob3V0ZXJTdGFydEFkanVzdGVkQW5nbGUpICogb3V0ZXJSYWRpdXMgKyB4O1xuICAgICAgICBjb25zdCBvdXRlclN0YXJ0WSA9IE1hdGguc2luKG91dGVyU3RhcnRBZGp1c3RlZEFuZ2xlKSAqIG91dGVyUmFkaXVzICsgeTtcbiAgICAgICAgY3R4LmxpbmVUbyhvdXRlclN0YXJ0WCwgb3V0ZXJTdGFydFkpO1xuICAgICAgICBjb25zdCBvdXRlckVuZFggPSBNYXRoLmNvcyhvdXRlckVuZEFkanVzdGVkQW5nbGUpICogb3V0ZXJSYWRpdXMgKyB4O1xuICAgICAgICBjb25zdCBvdXRlckVuZFkgPSBNYXRoLnNpbihvdXRlckVuZEFkanVzdGVkQW5nbGUpICogb3V0ZXJSYWRpdXMgKyB5O1xuICAgICAgICBjdHgubGluZVRvKG91dGVyRW5kWCwgb3V0ZXJFbmRZKTtcbiAgICB9XG4gICAgY3R4LmNsb3NlUGF0aCgpO1xufVxuZnVuY3Rpb24gZHJhd0FyYyhjdHgsIGVsZW1lbnQsIG9mZnNldCwgc3BhY2luZywgY2lyY3VsYXIpIHtcbiAgICBjb25zdCB7IGZ1bGxDaXJjbGVzICwgc3RhcnRBbmdsZSAsIGNpcmN1bWZlcmVuY2UgIH0gPSBlbGVtZW50O1xuICAgIGxldCBlbmRBbmdsZSA9IGVsZW1lbnQuZW5kQW5nbGU7XG4gICAgaWYgKGZ1bGxDaXJjbGVzKSB7XG4gICAgICAgIHBhdGhBcmMoY3R4LCBlbGVtZW50LCBvZmZzZXQsIHNwYWNpbmcsIGVuZEFuZ2xlLCBjaXJjdWxhcik7XG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBmdWxsQ2lyY2xlczsgKytpKXtcbiAgICAgICAgICAgIGN0eC5maWxsKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc05hTihjaXJjdW1mZXJlbmNlKSkge1xuICAgICAgICAgICAgZW5kQW5nbGUgPSBzdGFydEFuZ2xlICsgKGNpcmN1bWZlcmVuY2UgJSBUQVUgfHwgVEFVKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwYXRoQXJjKGN0eCwgZWxlbWVudCwgb2Zmc2V0LCBzcGFjaW5nLCBlbmRBbmdsZSwgY2lyY3VsYXIpO1xuICAgIGN0eC5maWxsKCk7XG4gICAgcmV0dXJuIGVuZEFuZ2xlO1xufVxuZnVuY3Rpb24gZHJhd0JvcmRlcihjdHgsIGVsZW1lbnQsIG9mZnNldCwgc3BhY2luZywgY2lyY3VsYXIpIHtcbiAgICBjb25zdCB7IGZ1bGxDaXJjbGVzICwgc3RhcnRBbmdsZSAsIGNpcmN1bWZlcmVuY2UgLCBvcHRpb25zICB9ID0gZWxlbWVudDtcbiAgICBjb25zdCB7IGJvcmRlcldpZHRoICwgYm9yZGVySm9pblN0eWxlICwgYm9yZGVyRGFzaCAsIGJvcmRlckRhc2hPZmZzZXQgIH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IGlubmVyID0gb3B0aW9ucy5ib3JkZXJBbGlnbiA9PT0gJ2lubmVyJztcbiAgICBpZiAoIWJvcmRlcldpZHRoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY3R4LnNldExpbmVEYXNoKGJvcmRlckRhc2ggfHwgW10pO1xuICAgIGN0eC5saW5lRGFzaE9mZnNldCA9IGJvcmRlckRhc2hPZmZzZXQ7XG4gICAgaWYgKGlubmVyKSB7XG4gICAgICAgIGN0eC5saW5lV2lkdGggPSBib3JkZXJXaWR0aCAqIDI7XG4gICAgICAgIGN0eC5saW5lSm9pbiA9IGJvcmRlckpvaW5TdHlsZSB8fCAncm91bmQnO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGN0eC5saW5lV2lkdGggPSBib3JkZXJXaWR0aDtcbiAgICAgICAgY3R4LmxpbmVKb2luID0gYm9yZGVySm9pblN0eWxlIHx8ICdiZXZlbCc7XG4gICAgfVxuICAgIGxldCBlbmRBbmdsZSA9IGVsZW1lbnQuZW5kQW5nbGU7XG4gICAgaWYgKGZ1bGxDaXJjbGVzKSB7XG4gICAgICAgIHBhdGhBcmMoY3R4LCBlbGVtZW50LCBvZmZzZXQsIHNwYWNpbmcsIGVuZEFuZ2xlLCBjaXJjdWxhcik7XG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBmdWxsQ2lyY2xlczsgKytpKXtcbiAgICAgICAgICAgIGN0eC5zdHJva2UoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzTmFOKGNpcmN1bWZlcmVuY2UpKSB7XG4gICAgICAgICAgICBlbmRBbmdsZSA9IHN0YXJ0QW5nbGUgKyAoY2lyY3VtZmVyZW5jZSAlIFRBVSB8fCBUQVUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChpbm5lcikge1xuICAgICAgICBjbGlwQXJjKGN0eCwgZWxlbWVudCwgZW5kQW5nbGUpO1xuICAgIH1cbiAgICBpZiAoIWZ1bGxDaXJjbGVzKSB7XG4gICAgICAgIHBhdGhBcmMoY3R4LCBlbGVtZW50LCBvZmZzZXQsIHNwYWNpbmcsIGVuZEFuZ2xlLCBjaXJjdWxhcik7XG4gICAgICAgIGN0eC5zdHJva2UoKTtcbiAgICB9XG59XG5jbGFzcyBBcmNFbGVtZW50IGV4dGVuZHMgRWxlbWVudCB7XG4gICAgc3RhdGljIGlkID0gJ2FyYyc7XG4gICAgc3RhdGljIGRlZmF1bHRzID0ge1xuICAgICAgICBib3JkZXJBbGlnbjogJ2NlbnRlcicsXG4gICAgICAgIGJvcmRlckNvbG9yOiAnI2ZmZicsXG4gICAgICAgIGJvcmRlckRhc2g6IFtdLFxuICAgICAgICBib3JkZXJEYXNoT2Zmc2V0OiAwLFxuICAgICAgICBib3JkZXJKb2luU3R5bGU6IHVuZGVmaW5lZCxcbiAgICAgICAgYm9yZGVyUmFkaXVzOiAwLFxuICAgICAgICBib3JkZXJXaWR0aDogMixcbiAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICBzcGFjaW5nOiAwLFxuICAgICAgICBhbmdsZTogdW5kZWZpbmVkLFxuICAgICAgICBjaXJjdWxhcjogdHJ1ZVxuICAgIH07XG4gICAgc3RhdGljIGRlZmF1bHRSb3V0ZXMgPSB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJ2JhY2tncm91bmRDb2xvcidcbiAgICB9O1xuICAgIHN0YXRpYyBkZXNjcmlwdG9ycyA9IHtcbiAgICAgICAgX3NjcmlwdGFibGU6IHRydWUsXG4gICAgICAgIF9pbmRleGFibGU6IChuYW1lKT0+bmFtZSAhPT0gJ2JvcmRlckRhc2gnXG4gICAgfTtcbiAgICBjaXJjdW1mZXJlbmNlO1xuICAgIGVuZEFuZ2xlO1xuICAgIGZ1bGxDaXJjbGVzO1xuICAgIGlubmVyUmFkaXVzO1xuICAgIG91dGVyUmFkaXVzO1xuICAgIHBpeGVsTWFyZ2luO1xuICAgIHN0YXJ0QW5nbGU7XG4gICAgY29uc3RydWN0b3IoY2ZnKXtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmNpcmN1bWZlcmVuY2UgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuc3RhcnRBbmdsZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5lbmRBbmdsZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5pbm5lclJhZGl1cyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5vdXRlclJhZGl1cyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5waXhlbE1hcmdpbiA9IDA7XG4gICAgICAgIHRoaXMuZnVsbENpcmNsZXMgPSAwO1xuICAgICAgICBpZiAoY2ZnKSB7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMsIGNmZyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaW5SYW5nZShjaGFydFgsIGNoYXJ0WSwgdXNlRmluYWxQb3NpdGlvbikge1xuICAgICAgICBjb25zdCBwb2ludCA9IHRoaXMuZ2V0UHJvcHMoW1xuICAgICAgICAgICAgJ3gnLFxuICAgICAgICAgICAgJ3knXG4gICAgICAgIF0sIHVzZUZpbmFsUG9zaXRpb24pO1xuICAgICAgICBjb25zdCB7IGFuZ2xlICwgZGlzdGFuY2UgIH0gPSBnZXRBbmdsZUZyb21Qb2ludChwb2ludCwge1xuICAgICAgICAgICAgeDogY2hhcnRYLFxuICAgICAgICAgICAgeTogY2hhcnRZXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCB7IHN0YXJ0QW5nbGUgLCBlbmRBbmdsZSAsIGlubmVyUmFkaXVzICwgb3V0ZXJSYWRpdXMgLCBjaXJjdW1mZXJlbmNlICB9ID0gdGhpcy5nZXRQcm9wcyhbXG4gICAgICAgICAgICAnc3RhcnRBbmdsZScsXG4gICAgICAgICAgICAnZW5kQW5nbGUnLFxuICAgICAgICAgICAgJ2lubmVyUmFkaXVzJyxcbiAgICAgICAgICAgICdvdXRlclJhZGl1cycsXG4gICAgICAgICAgICAnY2lyY3VtZmVyZW5jZSdcbiAgICAgICAgXSwgdXNlRmluYWxQb3NpdGlvbik7XG4gICAgICAgIGNvbnN0IHJBZGp1c3QgPSAodGhpcy5vcHRpb25zLnNwYWNpbmcgKyB0aGlzLm9wdGlvbnMuYm9yZGVyV2lkdGgpIC8gMjtcbiAgICAgICAgY29uc3QgX2NpcmN1bWZlcmVuY2UgPSB2YWx1ZU9yRGVmYXVsdChjaXJjdW1mZXJlbmNlLCBlbmRBbmdsZSAtIHN0YXJ0QW5nbGUpO1xuICAgICAgICBjb25zdCBiZXR3ZWVuQW5nbGVzID0gX2NpcmN1bWZlcmVuY2UgPj0gVEFVIHx8IF9hbmdsZUJldHdlZW4oYW5nbGUsIHN0YXJ0QW5nbGUsIGVuZEFuZ2xlKTtcbiAgICAgICAgY29uc3Qgd2l0aGluUmFkaXVzID0gX2lzQmV0d2VlbihkaXN0YW5jZSwgaW5uZXJSYWRpdXMgKyByQWRqdXN0LCBvdXRlclJhZGl1cyArIHJBZGp1c3QpO1xuICAgICAgICByZXR1cm4gYmV0d2VlbkFuZ2xlcyAmJiB3aXRoaW5SYWRpdXM7XG4gICAgfVxuICAgIGdldENlbnRlclBvaW50KHVzZUZpbmFsUG9zaXRpb24pIHtcbiAgICAgICAgY29uc3QgeyB4ICwgeSAsIHN0YXJ0QW5nbGUgLCBlbmRBbmdsZSAsIGlubmVyUmFkaXVzICwgb3V0ZXJSYWRpdXMgIH0gPSB0aGlzLmdldFByb3BzKFtcbiAgICAgICAgICAgICd4JyxcbiAgICAgICAgICAgICd5JyxcbiAgICAgICAgICAgICdzdGFydEFuZ2xlJyxcbiAgICAgICAgICAgICdlbmRBbmdsZScsXG4gICAgICAgICAgICAnaW5uZXJSYWRpdXMnLFxuICAgICAgICAgICAgJ291dGVyUmFkaXVzJ1xuICAgICAgICBdLCB1c2VGaW5hbFBvc2l0aW9uKTtcbiAgICAgICAgY29uc3QgeyBvZmZzZXQgLCBzcGFjaW5nICB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBoYWxmQW5nbGUgPSAoc3RhcnRBbmdsZSArIGVuZEFuZ2xlKSAvIDI7XG4gICAgICAgIGNvbnN0IGhhbGZSYWRpdXMgPSAoaW5uZXJSYWRpdXMgKyBvdXRlclJhZGl1cyArIHNwYWNpbmcgKyBvZmZzZXQpIC8gMjtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IHggKyBNYXRoLmNvcyhoYWxmQW5nbGUpICogaGFsZlJhZGl1cyxcbiAgICAgICAgICAgIHk6IHkgKyBNYXRoLnNpbihoYWxmQW5nbGUpICogaGFsZlJhZGl1c1xuICAgICAgICB9O1xuICAgIH1cbiAgICB0b29sdGlwUG9zaXRpb24odXNlRmluYWxQb3NpdGlvbikge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRDZW50ZXJQb2ludCh1c2VGaW5hbFBvc2l0aW9uKTtcbiAgICB9XG4gICAgZHJhdyhjdHgpIHtcbiAgICAgICAgY29uc3QgeyBvcHRpb25zICwgY2lyY3VtZmVyZW5jZSAgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IG9mZnNldCA9IChvcHRpb25zLm9mZnNldCB8fCAwKSAvIDQ7XG4gICAgICAgIGNvbnN0IHNwYWNpbmcgPSAob3B0aW9ucy5zcGFjaW5nIHx8IDApIC8gMjtcbiAgICAgICAgY29uc3QgY2lyY3VsYXIgPSBvcHRpb25zLmNpcmN1bGFyO1xuICAgICAgICB0aGlzLnBpeGVsTWFyZ2luID0gb3B0aW9ucy5ib3JkZXJBbGlnbiA9PT0gJ2lubmVyJyA/IDAuMzMgOiAwO1xuICAgICAgICB0aGlzLmZ1bGxDaXJjbGVzID0gY2lyY3VtZmVyZW5jZSA+IFRBVSA/IE1hdGguZmxvb3IoY2lyY3VtZmVyZW5jZSAvIFRBVSkgOiAwO1xuICAgICAgICBpZiAoY2lyY3VtZmVyZW5jZSA9PT0gMCB8fCB0aGlzLmlubmVyUmFkaXVzIDwgMCB8fCB0aGlzLm91dGVyUmFkaXVzIDwgMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAgIGNvbnN0IGhhbGZBbmdsZSA9ICh0aGlzLnN0YXJ0QW5nbGUgKyB0aGlzLmVuZEFuZ2xlKSAvIDI7XG4gICAgICAgIGN0eC50cmFuc2xhdGUoTWF0aC5jb3MoaGFsZkFuZ2xlKSAqIG9mZnNldCwgTWF0aC5zaW4oaGFsZkFuZ2xlKSAqIG9mZnNldCk7XG4gICAgICAgIGNvbnN0IGZpeCA9IDEgLSBNYXRoLnNpbihNYXRoLm1pbihQSSwgY2lyY3VtZmVyZW5jZSB8fCAwKSk7XG4gICAgICAgIGNvbnN0IHJhZGl1c09mZnNldCA9IG9mZnNldCAqIGZpeDtcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IG9wdGlvbnMuYmFja2dyb3VuZENvbG9yO1xuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBvcHRpb25zLmJvcmRlckNvbG9yO1xuICAgICAgICBkcmF3QXJjKGN0eCwgdGhpcywgcmFkaXVzT2Zmc2V0LCBzcGFjaW5nLCBjaXJjdWxhcik7XG4gICAgICAgIGRyYXdCb3JkZXIoY3R4LCB0aGlzLCByYWRpdXNPZmZzZXQsIHNwYWNpbmcsIGNpcmN1bGFyKTtcbiAgICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHNldFN0eWxlKGN0eCwgb3B0aW9ucywgc3R5bGUgPSBvcHRpb25zKSB7XG4gICAgY3R4LmxpbmVDYXAgPSB2YWx1ZU9yRGVmYXVsdChzdHlsZS5ib3JkZXJDYXBTdHlsZSwgb3B0aW9ucy5ib3JkZXJDYXBTdHlsZSk7XG4gICAgY3R4LnNldExpbmVEYXNoKHZhbHVlT3JEZWZhdWx0KHN0eWxlLmJvcmRlckRhc2gsIG9wdGlvbnMuYm9yZGVyRGFzaCkpO1xuICAgIGN0eC5saW5lRGFzaE9mZnNldCA9IHZhbHVlT3JEZWZhdWx0KHN0eWxlLmJvcmRlckRhc2hPZmZzZXQsIG9wdGlvbnMuYm9yZGVyRGFzaE9mZnNldCk7XG4gICAgY3R4LmxpbmVKb2luID0gdmFsdWVPckRlZmF1bHQoc3R5bGUuYm9yZGVySm9pblN0eWxlLCBvcHRpb25zLmJvcmRlckpvaW5TdHlsZSk7XG4gICAgY3R4LmxpbmVXaWR0aCA9IHZhbHVlT3JEZWZhdWx0KHN0eWxlLmJvcmRlcldpZHRoLCBvcHRpb25zLmJvcmRlcldpZHRoKTtcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSB2YWx1ZU9yRGVmYXVsdChzdHlsZS5ib3JkZXJDb2xvciwgb3B0aW9ucy5ib3JkZXJDb2xvcik7XG59XG5mdW5jdGlvbiBsaW5lVG8oY3R4LCBwcmV2aW91cywgdGFyZ2V0KSB7XG4gICAgY3R4LmxpbmVUbyh0YXJnZXQueCwgdGFyZ2V0LnkpO1xufVxuIGZ1bmN0aW9uIGdldExpbmVNZXRob2Qob3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zLnN0ZXBwZWQpIHtcbiAgICAgICAgcmV0dXJuIF9zdGVwcGVkTGluZVRvO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy50ZW5zaW9uIHx8IG9wdGlvbnMuY3ViaWNJbnRlcnBvbGF0aW9uTW9kZSA9PT0gJ21vbm90b25lJykge1xuICAgICAgICByZXR1cm4gX2JlemllckN1cnZlVG87XG4gICAgfVxuICAgIHJldHVybiBsaW5lVG87XG59XG5mdW5jdGlvbiBwYXRoVmFycyhwb2ludHMsIHNlZ21lbnQsIHBhcmFtcyA9IHt9KSB7XG4gICAgY29uc3QgY291bnQgPSBwb2ludHMubGVuZ3RoO1xuICAgIGNvbnN0IHsgc3RhcnQ6IHBhcmFtc1N0YXJ0ID0gMCAsIGVuZDogcGFyYW1zRW5kID0gY291bnQgLSAxICB9ID0gcGFyYW1zO1xuICAgIGNvbnN0IHsgc3RhcnQ6IHNlZ21lbnRTdGFydCAsIGVuZDogc2VnbWVudEVuZCAgfSA9IHNlZ21lbnQ7XG4gICAgY29uc3Qgc3RhcnQgPSBNYXRoLm1heChwYXJhbXNTdGFydCwgc2VnbWVudFN0YXJ0KTtcbiAgICBjb25zdCBlbmQgPSBNYXRoLm1pbihwYXJhbXNFbmQsIHNlZ21lbnRFbmQpO1xuICAgIGNvbnN0IG91dHNpZGUgPSBwYXJhbXNTdGFydCA8IHNlZ21lbnRTdGFydCAmJiBwYXJhbXNFbmQgPCBzZWdtZW50U3RhcnQgfHwgcGFyYW1zU3RhcnQgPiBzZWdtZW50RW5kICYmIHBhcmFtc0VuZCA+IHNlZ21lbnRFbmQ7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY291bnQsXG4gICAgICAgIHN0YXJ0LFxuICAgICAgICBsb29wOiBzZWdtZW50Lmxvb3AsXG4gICAgICAgIGlsZW46IGVuZCA8IHN0YXJ0ICYmICFvdXRzaWRlID8gY291bnQgKyBlbmQgLSBzdGFydCA6IGVuZCAtIHN0YXJ0XG4gICAgfTtcbn1cbiBmdW5jdGlvbiBwYXRoU2VnbWVudChjdHgsIGxpbmUsIHNlZ21lbnQsIHBhcmFtcykge1xuICAgIGNvbnN0IHsgcG9pbnRzICwgb3B0aW9ucyAgfSA9IGxpbmU7XG4gICAgY29uc3QgeyBjb3VudCAsIHN0YXJ0ICwgbG9vcCAsIGlsZW4gIH0gPSBwYXRoVmFycyhwb2ludHMsIHNlZ21lbnQsIHBhcmFtcyk7XG4gICAgY29uc3QgbGluZU1ldGhvZCA9IGdldExpbmVNZXRob2Qob3B0aW9ucyk7XG4gICAgbGV0IHsgbW92ZSA9dHJ1ZSAsIHJldmVyc2UgIH0gPSBwYXJhbXMgfHwge307XG4gICAgbGV0IGksIHBvaW50LCBwcmV2O1xuICAgIGZvcihpID0gMDsgaSA8PSBpbGVuOyArK2kpe1xuICAgICAgICBwb2ludCA9IHBvaW50c1soc3RhcnQgKyAocmV2ZXJzZSA/IGlsZW4gLSBpIDogaSkpICUgY291bnRdO1xuICAgICAgICBpZiAocG9pbnQuc2tpcCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gZWxzZSBpZiAobW92ZSkge1xuICAgICAgICAgICAgY3R4Lm1vdmVUbyhwb2ludC54LCBwb2ludC55KTtcbiAgICAgICAgICAgIG1vdmUgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxpbmVNZXRob2QoY3R4LCBwcmV2LCBwb2ludCwgcmV2ZXJzZSwgb3B0aW9ucy5zdGVwcGVkKTtcbiAgICAgICAgfVxuICAgICAgICBwcmV2ID0gcG9pbnQ7XG4gICAgfVxuICAgIGlmIChsb29wKSB7XG4gICAgICAgIHBvaW50ID0gcG9pbnRzWyhzdGFydCArIChyZXZlcnNlID8gaWxlbiA6IDApKSAlIGNvdW50XTtcbiAgICAgICAgbGluZU1ldGhvZChjdHgsIHByZXYsIHBvaW50LCByZXZlcnNlLCBvcHRpb25zLnN0ZXBwZWQpO1xuICAgIH1cbiAgICByZXR1cm4gISFsb29wO1xufVxuIGZ1bmN0aW9uIGZhc3RQYXRoU2VnbWVudChjdHgsIGxpbmUsIHNlZ21lbnQsIHBhcmFtcykge1xuICAgIGNvbnN0IHBvaW50cyA9IGxpbmUucG9pbnRzO1xuICAgIGNvbnN0IHsgY291bnQgLCBzdGFydCAsIGlsZW4gIH0gPSBwYXRoVmFycyhwb2ludHMsIHNlZ21lbnQsIHBhcmFtcyk7XG4gICAgY29uc3QgeyBtb3ZlID10cnVlICwgcmV2ZXJzZSAgfSA9IHBhcmFtcyB8fCB7fTtcbiAgICBsZXQgYXZnWCA9IDA7XG4gICAgbGV0IGNvdW50WCA9IDA7XG4gICAgbGV0IGksIHBvaW50LCBwcmV2WCwgbWluWSwgbWF4WSwgbGFzdFk7XG4gICAgY29uc3QgcG9pbnRJbmRleCA9IChpbmRleCk9PihzdGFydCArIChyZXZlcnNlID8gaWxlbiAtIGluZGV4IDogaW5kZXgpKSAlIGNvdW50O1xuICAgIGNvbnN0IGRyYXdYID0gKCk9PntcbiAgICAgICAgaWYgKG1pblkgIT09IG1heFkpIHtcbiAgICAgICAgICAgIGN0eC5saW5lVG8oYXZnWCwgbWF4WSk7XG4gICAgICAgICAgICBjdHgubGluZVRvKGF2Z1gsIG1pblkpO1xuICAgICAgICAgICAgY3R4LmxpbmVUbyhhdmdYLCBsYXN0WSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGlmIChtb3ZlKSB7XG4gICAgICAgIHBvaW50ID0gcG9pbnRzW3BvaW50SW5kZXgoMCldO1xuICAgICAgICBjdHgubW92ZVRvKHBvaW50LngsIHBvaW50LnkpO1xuICAgIH1cbiAgICBmb3IoaSA9IDA7IGkgPD0gaWxlbjsgKytpKXtcbiAgICAgICAgcG9pbnQgPSBwb2ludHNbcG9pbnRJbmRleChpKV07XG4gICAgICAgIGlmIChwb2ludC5za2lwKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB4ID0gcG9pbnQueDtcbiAgICAgICAgY29uc3QgeSA9IHBvaW50Lnk7XG4gICAgICAgIGNvbnN0IHRydW5jWCA9IHggfCAwO1xuICAgICAgICBpZiAodHJ1bmNYID09PSBwcmV2WCkge1xuICAgICAgICAgICAgaWYgKHkgPCBtaW5ZKSB7XG4gICAgICAgICAgICAgICAgbWluWSA9IHk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHkgPiBtYXhZKSB7XG4gICAgICAgICAgICAgICAgbWF4WSA9IHk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhdmdYID0gKGNvdW50WCAqIGF2Z1ggKyB4KSAvICsrY291bnRYO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZHJhd1goKTtcbiAgICAgICAgICAgIGN0eC5saW5lVG8oeCwgeSk7XG4gICAgICAgICAgICBwcmV2WCA9IHRydW5jWDtcbiAgICAgICAgICAgIGNvdW50WCA9IDA7XG4gICAgICAgICAgICBtaW5ZID0gbWF4WSA9IHk7XG4gICAgICAgIH1cbiAgICAgICAgbGFzdFkgPSB5O1xuICAgIH1cbiAgICBkcmF3WCgpO1xufVxuIGZ1bmN0aW9uIF9nZXRTZWdtZW50TWV0aG9kKGxpbmUpIHtcbiAgICBjb25zdCBvcHRzID0gbGluZS5vcHRpb25zO1xuICAgIGNvbnN0IGJvcmRlckRhc2ggPSBvcHRzLmJvcmRlckRhc2ggJiYgb3B0cy5ib3JkZXJEYXNoLmxlbmd0aDtcbiAgICBjb25zdCB1c2VGYXN0UGF0aCA9ICFsaW5lLl9kZWNpbWF0ZWQgJiYgIWxpbmUuX2xvb3AgJiYgIW9wdHMudGVuc2lvbiAmJiBvcHRzLmN1YmljSW50ZXJwb2xhdGlvbk1vZGUgIT09ICdtb25vdG9uZScgJiYgIW9wdHMuc3RlcHBlZCAmJiAhYm9yZGVyRGFzaDtcbiAgICByZXR1cm4gdXNlRmFzdFBhdGggPyBmYXN0UGF0aFNlZ21lbnQgOiBwYXRoU2VnbWVudDtcbn1cbiBmdW5jdGlvbiBfZ2V0SW50ZXJwb2xhdGlvbk1ldGhvZChvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMuc3RlcHBlZCkge1xuICAgICAgICByZXR1cm4gX3N0ZXBwZWRJbnRlcnBvbGF0aW9uO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy50ZW5zaW9uIHx8IG9wdGlvbnMuY3ViaWNJbnRlcnBvbGF0aW9uTW9kZSA9PT0gJ21vbm90b25lJykge1xuICAgICAgICByZXR1cm4gX2JlemllckludGVycG9sYXRpb247XG4gICAgfVxuICAgIHJldHVybiBfcG9pbnRJbkxpbmU7XG59XG5mdW5jdGlvbiBzdHJva2VQYXRoV2l0aENhY2hlKGN0eCwgbGluZSwgc3RhcnQsIGNvdW50KSB7XG4gICAgbGV0IHBhdGggPSBsaW5lLl9wYXRoO1xuICAgIGlmICghcGF0aCkge1xuICAgICAgICBwYXRoID0gbGluZS5fcGF0aCA9IG5ldyBQYXRoMkQoKTtcbiAgICAgICAgaWYgKGxpbmUucGF0aChwYXRoLCBzdGFydCwgY291bnQpKSB7XG4gICAgICAgICAgICBwYXRoLmNsb3NlUGF0aCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNldFN0eWxlKGN0eCwgbGluZS5vcHRpb25zKTtcbiAgICBjdHguc3Ryb2tlKHBhdGgpO1xufVxuZnVuY3Rpb24gc3Ryb2tlUGF0aERpcmVjdChjdHgsIGxpbmUsIHN0YXJ0LCBjb3VudCkge1xuICAgIGNvbnN0IHsgc2VnbWVudHMgLCBvcHRpb25zICB9ID0gbGluZTtcbiAgICBjb25zdCBzZWdtZW50TWV0aG9kID0gX2dldFNlZ21lbnRNZXRob2QobGluZSk7XG4gICAgZm9yIChjb25zdCBzZWdtZW50IG9mIHNlZ21lbnRzKXtcbiAgICAgICAgc2V0U3R5bGUoY3R4LCBvcHRpb25zLCBzZWdtZW50LnN0eWxlKTtcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICBpZiAoc2VnbWVudE1ldGhvZChjdHgsIGxpbmUsIHNlZ21lbnQsIHtcbiAgICAgICAgICAgIHN0YXJ0LFxuICAgICAgICAgICAgZW5kOiBzdGFydCArIGNvdW50IC0gMVxuICAgICAgICB9KSkge1xuICAgICAgICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgICAgICB9XG4gICAgICAgIGN0eC5zdHJva2UoKTtcbiAgICB9XG59XG5jb25zdCB1c2VQYXRoMkQgPSB0eXBlb2YgUGF0aDJEID09PSAnZnVuY3Rpb24nO1xuZnVuY3Rpb24gZHJhdyhjdHgsIGxpbmUsIHN0YXJ0LCBjb3VudCkge1xuICAgIGlmICh1c2VQYXRoMkQgJiYgIWxpbmUub3B0aW9ucy5zZWdtZW50KSB7XG4gICAgICAgIHN0cm9rZVBhdGhXaXRoQ2FjaGUoY3R4LCBsaW5lLCBzdGFydCwgY291bnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHN0cm9rZVBhdGhEaXJlY3QoY3R4LCBsaW5lLCBzdGFydCwgY291bnQpO1xuICAgIH1cbn1cbmNsYXNzIExpbmVFbGVtZW50IGV4dGVuZHMgRWxlbWVudCB7XG4gICAgc3RhdGljIGlkID0gJ2xpbmUnO1xuIHN0YXRpYyBkZWZhdWx0cyA9IHtcbiAgICAgICAgYm9yZGVyQ2FwU3R5bGU6ICdidXR0JyxcbiAgICAgICAgYm9yZGVyRGFzaDogW10sXG4gICAgICAgIGJvcmRlckRhc2hPZmZzZXQ6IDAsXG4gICAgICAgIGJvcmRlckpvaW5TdHlsZTogJ21pdGVyJyxcbiAgICAgICAgYm9yZGVyV2lkdGg6IDMsXG4gICAgICAgIGNhcEJlemllclBvaW50czogdHJ1ZSxcbiAgICAgICAgY3ViaWNJbnRlcnBvbGF0aW9uTW9kZTogJ2RlZmF1bHQnLFxuICAgICAgICBmaWxsOiBmYWxzZSxcbiAgICAgICAgc3BhbkdhcHM6IGZhbHNlLFxuICAgICAgICBzdGVwcGVkOiBmYWxzZSxcbiAgICAgICAgdGVuc2lvbjogMFxuICAgIH07XG4gc3RhdGljIGRlZmF1bHRSb3V0ZXMgPSB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJ2JhY2tncm91bmRDb2xvcicsXG4gICAgICAgIGJvcmRlckNvbG9yOiAnYm9yZGVyQ29sb3InXG4gICAgfTtcbiAgICBzdGF0aWMgZGVzY3JpcHRvcnMgPSB7XG4gICAgICAgIF9zY3JpcHRhYmxlOiB0cnVlLFxuICAgICAgICBfaW5kZXhhYmxlOiAobmFtZSk9Pm5hbWUgIT09ICdib3JkZXJEYXNoJyAmJiBuYW1lICE9PSAnZmlsbCdcbiAgICB9O1xuICAgIGNvbnN0cnVjdG9yKGNmZyl7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuYW5pbWF0ZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX2NoYXJ0ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9sb29wID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9mdWxsTG9vcCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fcGF0aCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fcG9pbnRzID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9zZWdtZW50cyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fZGVjaW1hdGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3BvaW50c1VwZGF0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fZGF0YXNldEluZGV4ID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAoY2ZnKSB7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMsIGNmZyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdXBkYXRlQ29udHJvbFBvaW50cyhjaGFydEFyZWEsIGluZGV4QXhpcykge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBpZiAoKG9wdGlvbnMudGVuc2lvbiB8fCBvcHRpb25zLmN1YmljSW50ZXJwb2xhdGlvbk1vZGUgPT09ICdtb25vdG9uZScpICYmICFvcHRpb25zLnN0ZXBwZWQgJiYgIXRoaXMuX3BvaW50c1VwZGF0ZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGxvb3AgPSBvcHRpb25zLnNwYW5HYXBzID8gdGhpcy5fbG9vcCA6IHRoaXMuX2Z1bGxMb29wO1xuICAgICAgICAgICAgX3VwZGF0ZUJlemllckNvbnRyb2xQb2ludHModGhpcy5fcG9pbnRzLCBvcHRpb25zLCBjaGFydEFyZWEsIGxvb3AsIGluZGV4QXhpcyk7XG4gICAgICAgICAgICB0aGlzLl9wb2ludHNVcGRhdGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXQgcG9pbnRzKHBvaW50cykge1xuICAgICAgICB0aGlzLl9wb2ludHMgPSBwb2ludHM7XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9zZWdtZW50cztcbiAgICAgICAgZGVsZXRlIHRoaXMuX3BhdGg7XG4gICAgICAgIHRoaXMuX3BvaW50c1VwZGF0ZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgZ2V0IHBvaW50cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BvaW50cztcbiAgICB9XG4gICAgZ2V0IHNlZ21lbnRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2VnbWVudHMgfHwgKHRoaXMuX3NlZ21lbnRzID0gX2NvbXB1dGVTZWdtZW50cyh0aGlzLCB0aGlzLm9wdGlvbnMuc2VnbWVudCkpO1xuICAgIH1cbiBmaXJzdCgpIHtcbiAgICAgICAgY29uc3Qgc2VnbWVudHMgPSB0aGlzLnNlZ21lbnRzO1xuICAgICAgICBjb25zdCBwb2ludHMgPSB0aGlzLnBvaW50cztcbiAgICAgICAgcmV0dXJuIHNlZ21lbnRzLmxlbmd0aCAmJiBwb2ludHNbc2VnbWVudHNbMF0uc3RhcnRdO1xuICAgIH1cbiBsYXN0KCkge1xuICAgICAgICBjb25zdCBzZWdtZW50cyA9IHRoaXMuc2VnbWVudHM7XG4gICAgICAgIGNvbnN0IHBvaW50cyA9IHRoaXMucG9pbnRzO1xuICAgICAgICBjb25zdCBjb3VudCA9IHNlZ21lbnRzLmxlbmd0aDtcbiAgICAgICAgcmV0dXJuIGNvdW50ICYmIHBvaW50c1tzZWdtZW50c1tjb3VudCAtIDFdLmVuZF07XG4gICAgfVxuIGludGVycG9sYXRlKHBvaW50LCBwcm9wZXJ0eSkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHBvaW50W3Byb3BlcnR5XTtcbiAgICAgICAgY29uc3QgcG9pbnRzID0gdGhpcy5wb2ludHM7XG4gICAgICAgIGNvbnN0IHNlZ21lbnRzID0gX2JvdW5kU2VnbWVudHModGhpcywge1xuICAgICAgICAgICAgcHJvcGVydHksXG4gICAgICAgICAgICBzdGFydDogdmFsdWUsXG4gICAgICAgICAgICBlbmQ6IHZhbHVlXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXNlZ21lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgICAgICBjb25zdCBfaW50ZXJwb2xhdGUgPSBfZ2V0SW50ZXJwb2xhdGlvbk1ldGhvZChvcHRpb25zKTtcbiAgICAgICAgbGV0IGksIGlsZW47XG4gICAgICAgIGZvcihpID0gMCwgaWxlbiA9IHNlZ21lbnRzLmxlbmd0aDsgaSA8IGlsZW47ICsraSl7XG4gICAgICAgICAgICBjb25zdCB7IHN0YXJ0ICwgZW5kICB9ID0gc2VnbWVudHNbaV07XG4gICAgICAgICAgICBjb25zdCBwMSA9IHBvaW50c1tzdGFydF07XG4gICAgICAgICAgICBjb25zdCBwMiA9IHBvaW50c1tlbmRdO1xuICAgICAgICAgICAgaWYgKHAxID09PSBwMikge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHAxKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHQgPSBNYXRoLmFicygodmFsdWUgLSBwMVtwcm9wZXJ0eV0pIC8gKHAyW3Byb3BlcnR5XSAtIHAxW3Byb3BlcnR5XSkpO1xuICAgICAgICAgICAgY29uc3QgaW50ZXJwb2xhdGVkID0gX2ludGVycG9sYXRlKHAxLCBwMiwgdCwgb3B0aW9ucy5zdGVwcGVkKTtcbiAgICAgICAgICAgIGludGVycG9sYXRlZFtwcm9wZXJ0eV0gPSBwb2ludFtwcm9wZXJ0eV07XG4gICAgICAgICAgICByZXN1bHQucHVzaChpbnRlcnBvbGF0ZWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQubGVuZ3RoID09PSAxID8gcmVzdWx0WzBdIDogcmVzdWx0O1xuICAgIH1cbiBwYXRoU2VnbWVudChjdHgsIHNlZ21lbnQsIHBhcmFtcykge1xuICAgICAgICBjb25zdCBzZWdtZW50TWV0aG9kID0gX2dldFNlZ21lbnRNZXRob2QodGhpcyk7XG4gICAgICAgIHJldHVybiBzZWdtZW50TWV0aG9kKGN0eCwgdGhpcywgc2VnbWVudCwgcGFyYW1zKTtcbiAgICB9XG4gcGF0aChjdHgsIHN0YXJ0LCBjb3VudCkge1xuICAgICAgICBjb25zdCBzZWdtZW50cyA9IHRoaXMuc2VnbWVudHM7XG4gICAgICAgIGNvbnN0IHNlZ21lbnRNZXRob2QgPSBfZ2V0U2VnbWVudE1ldGhvZCh0aGlzKTtcbiAgICAgICAgbGV0IGxvb3AgPSB0aGlzLl9sb29wO1xuICAgICAgICBzdGFydCA9IHN0YXJ0IHx8IDA7XG4gICAgICAgIGNvdW50ID0gY291bnQgfHwgdGhpcy5wb2ludHMubGVuZ3RoIC0gc3RhcnQ7XG4gICAgICAgIGZvciAoY29uc3Qgc2VnbWVudCBvZiBzZWdtZW50cyl7XG4gICAgICAgICAgICBsb29wICY9IHNlZ21lbnRNZXRob2QoY3R4LCB0aGlzLCBzZWdtZW50LCB7XG4gICAgICAgICAgICAgICAgc3RhcnQsXG4gICAgICAgICAgICAgICAgZW5kOiBzdGFydCArIGNvdW50IC0gMVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICEhbG9vcDtcbiAgICB9XG4gZHJhdyhjdHgsIGNoYXJ0QXJlYSwgc3RhcnQsIGNvdW50KSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMgfHwge307XG4gICAgICAgIGNvbnN0IHBvaW50cyA9IHRoaXMucG9pbnRzIHx8IFtdO1xuICAgICAgICBpZiAocG9pbnRzLmxlbmd0aCAmJiBvcHRpb25zLmJvcmRlcldpZHRoKSB7XG4gICAgICAgICAgICBjdHguc2F2ZSgpO1xuICAgICAgICAgICAgZHJhdyhjdHgsIHRoaXMsIHN0YXJ0LCBjb3VudCk7XG4gICAgICAgICAgICBjdHgucmVzdG9yZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmFuaW1hdGVkKSB7XG4gICAgICAgICAgICB0aGlzLl9wb2ludHNVcGRhdGVkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl9wYXRoID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBpblJhbmdlJDEoZWwsIHBvcywgYXhpcywgdXNlRmluYWxQb3NpdGlvbikge1xuICAgIGNvbnN0IG9wdGlvbnMgPSBlbC5vcHRpb25zO1xuICAgIGNvbnN0IHsgW2F4aXNdOiB2YWx1ZSAgfSA9IGVsLmdldFByb3BzKFtcbiAgICAgICAgYXhpc1xuICAgIF0sIHVzZUZpbmFsUG9zaXRpb24pO1xuICAgIHJldHVybiBNYXRoLmFicyhwb3MgLSB2YWx1ZSkgPCBvcHRpb25zLnJhZGl1cyArIG9wdGlvbnMuaGl0UmFkaXVzO1xufVxuY2xhc3MgUG9pbnRFbGVtZW50IGV4dGVuZHMgRWxlbWVudCB7XG4gICAgc3RhdGljIGlkID0gJ3BvaW50JztcbiAgICBwYXJzZWQ7XG4gICAgc2tpcDtcbiAgICBzdG9wO1xuICAgIC8qKlxuICAgKiBAdHlwZSB7YW55fVxuICAgKi8gc3RhdGljIGRlZmF1bHRzID0ge1xuICAgICAgICBib3JkZXJXaWR0aDogMSxcbiAgICAgICAgaGl0UmFkaXVzOiAxLFxuICAgICAgICBob3ZlckJvcmRlcldpZHRoOiAxLFxuICAgICAgICBob3ZlclJhZGl1czogNCxcbiAgICAgICAgcG9pbnRTdHlsZTogJ2NpcmNsZScsXG4gICAgICAgIHJhZGl1czogMyxcbiAgICAgICAgcm90YXRpb246IDBcbiAgICB9O1xuICAgIC8qKlxuICAgKiBAdHlwZSB7YW55fVxuICAgKi8gc3RhdGljIGRlZmF1bHRSb3V0ZXMgPSB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJ2JhY2tncm91bmRDb2xvcicsXG4gICAgICAgIGJvcmRlckNvbG9yOiAnYm9yZGVyQ29sb3InXG4gICAgfTtcbiAgICBjb25zdHJ1Y3RvcihjZmcpe1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMucGFyc2VkID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnNraXAgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuc3RvcCA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKGNmZykge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLCBjZmcpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGluUmFuZ2UobW91c2VYLCBtb3VzZVksIHVzZUZpbmFsUG9zaXRpb24pIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgeyB4ICwgeSAgfSA9IHRoaXMuZ2V0UHJvcHMoW1xuICAgICAgICAgICAgJ3gnLFxuICAgICAgICAgICAgJ3knXG4gICAgICAgIF0sIHVzZUZpbmFsUG9zaXRpb24pO1xuICAgICAgICByZXR1cm4gTWF0aC5wb3cobW91c2VYIC0geCwgMikgKyBNYXRoLnBvdyhtb3VzZVkgLSB5LCAyKSA8IE1hdGgucG93KG9wdGlvbnMuaGl0UmFkaXVzICsgb3B0aW9ucy5yYWRpdXMsIDIpO1xuICAgIH1cbiAgICBpblhSYW5nZShtb3VzZVgsIHVzZUZpbmFsUG9zaXRpb24pIHtcbiAgICAgICAgcmV0dXJuIGluUmFuZ2UkMSh0aGlzLCBtb3VzZVgsICd4JywgdXNlRmluYWxQb3NpdGlvbik7XG4gICAgfVxuICAgIGluWVJhbmdlKG1vdXNlWSwgdXNlRmluYWxQb3NpdGlvbikge1xuICAgICAgICByZXR1cm4gaW5SYW5nZSQxKHRoaXMsIG1vdXNlWSwgJ3knLCB1c2VGaW5hbFBvc2l0aW9uKTtcbiAgICB9XG4gICAgZ2V0Q2VudGVyUG9pbnQodXNlRmluYWxQb3NpdGlvbikge1xuICAgICAgICBjb25zdCB7IHggLCB5ICB9ID0gdGhpcy5nZXRQcm9wcyhbXG4gICAgICAgICAgICAneCcsXG4gICAgICAgICAgICAneSdcbiAgICAgICAgXSwgdXNlRmluYWxQb3NpdGlvbik7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4LFxuICAgICAgICAgICAgeVxuICAgICAgICB9O1xuICAgIH1cbiAgICBzaXplKG9wdGlvbnMpIHtcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwgdGhpcy5vcHRpb25zIHx8IHt9O1xuICAgICAgICBsZXQgcmFkaXVzID0gb3B0aW9ucy5yYWRpdXMgfHwgMDtcbiAgICAgICAgcmFkaXVzID0gTWF0aC5tYXgocmFkaXVzLCByYWRpdXMgJiYgb3B0aW9ucy5ob3ZlclJhZGl1cyB8fCAwKTtcbiAgICAgICAgY29uc3QgYm9yZGVyV2lkdGggPSByYWRpdXMgJiYgb3B0aW9ucy5ib3JkZXJXaWR0aCB8fCAwO1xuICAgICAgICByZXR1cm4gKHJhZGl1cyArIGJvcmRlcldpZHRoKSAqIDI7XG4gICAgfVxuICAgIGRyYXcoY3R4LCBhcmVhKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGlmICh0aGlzLnNraXAgfHwgb3B0aW9ucy5yYWRpdXMgPCAwLjEgfHwgIV9pc1BvaW50SW5BcmVhKHRoaXMsIGFyZWEsIHRoaXMuc2l6ZShvcHRpb25zKSAvIDIpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gb3B0aW9ucy5ib3JkZXJDb2xvcjtcbiAgICAgICAgY3R4LmxpbmVXaWR0aCA9IG9wdGlvbnMuYm9yZGVyV2lkdGg7XG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBvcHRpb25zLmJhY2tncm91bmRDb2xvcjtcbiAgICAgICAgZHJhd1BvaW50KGN0eCwgb3B0aW9ucywgdGhpcy54LCB0aGlzLnkpO1xuICAgIH1cbiAgICBnZXRSYW5nZSgpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucyB8fCB7fTtcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBGYWxsYmFja3Mgc2hvdWxkIG5ldmVyIGJlIGhpdCBpbiBwcmFjdGljZVxuICAgICAgICByZXR1cm4gb3B0aW9ucy5yYWRpdXMgKyBvcHRpb25zLmhpdFJhZGl1cztcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldEJhckJvdW5kcyhiYXIsIHVzZUZpbmFsUG9zaXRpb24pIHtcbiAgICBjb25zdCB7IHggLCB5ICwgYmFzZSAsIHdpZHRoICwgaGVpZ2h0ICB9ID0gIGJhci5nZXRQcm9wcyhbXG4gICAgICAgICd4JyxcbiAgICAgICAgJ3knLFxuICAgICAgICAnYmFzZScsXG4gICAgICAgICd3aWR0aCcsXG4gICAgICAgICdoZWlnaHQnXG4gICAgXSwgdXNlRmluYWxQb3NpdGlvbik7XG4gICAgbGV0IGxlZnQsIHJpZ2h0LCB0b3AsIGJvdHRvbSwgaGFsZjtcbiAgICBpZiAoYmFyLmhvcml6b250YWwpIHtcbiAgICAgICAgaGFsZiA9IGhlaWdodCAvIDI7XG4gICAgICAgIGxlZnQgPSBNYXRoLm1pbih4LCBiYXNlKTtcbiAgICAgICAgcmlnaHQgPSBNYXRoLm1heCh4LCBiYXNlKTtcbiAgICAgICAgdG9wID0geSAtIGhhbGY7XG4gICAgICAgIGJvdHRvbSA9IHkgKyBoYWxmO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGhhbGYgPSB3aWR0aCAvIDI7XG4gICAgICAgIGxlZnQgPSB4IC0gaGFsZjtcbiAgICAgICAgcmlnaHQgPSB4ICsgaGFsZjtcbiAgICAgICAgdG9wID0gTWF0aC5taW4oeSwgYmFzZSk7XG4gICAgICAgIGJvdHRvbSA9IE1hdGgubWF4KHksIGJhc2UpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBsZWZ0LFxuICAgICAgICB0b3AsXG4gICAgICAgIHJpZ2h0LFxuICAgICAgICBib3R0b21cbiAgICB9O1xufVxuZnVuY3Rpb24gc2tpcE9yTGltaXQoc2tpcCwgdmFsdWUsIG1pbiwgbWF4KSB7XG4gICAgcmV0dXJuIHNraXAgPyAwIDogX2xpbWl0VmFsdWUodmFsdWUsIG1pbiwgbWF4KTtcbn1cbmZ1bmN0aW9uIHBhcnNlQm9yZGVyV2lkdGgoYmFyLCBtYXhXLCBtYXhIKSB7XG4gICAgY29uc3QgdmFsdWUgPSBiYXIub3B0aW9ucy5ib3JkZXJXaWR0aDtcbiAgICBjb25zdCBza2lwID0gYmFyLmJvcmRlclNraXBwZWQ7XG4gICAgY29uc3QgbyA9IHRvVFJCTCh2YWx1ZSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdDogc2tpcE9yTGltaXQoc2tpcC50b3AsIG8udG9wLCAwLCBtYXhIKSxcbiAgICAgICAgcjogc2tpcE9yTGltaXQoc2tpcC5yaWdodCwgby5yaWdodCwgMCwgbWF4VyksXG4gICAgICAgIGI6IHNraXBPckxpbWl0KHNraXAuYm90dG9tLCBvLmJvdHRvbSwgMCwgbWF4SCksXG4gICAgICAgIGw6IHNraXBPckxpbWl0KHNraXAubGVmdCwgby5sZWZ0LCAwLCBtYXhXKVxuICAgIH07XG59XG5mdW5jdGlvbiBwYXJzZUJvcmRlclJhZGl1cyhiYXIsIG1heFcsIG1heEgpIHtcbiAgICBjb25zdCB7IGVuYWJsZUJvcmRlclJhZGl1cyAgfSA9IGJhci5nZXRQcm9wcyhbXG4gICAgICAgICdlbmFibGVCb3JkZXJSYWRpdXMnXG4gICAgXSk7XG4gICAgY29uc3QgdmFsdWUgPSBiYXIub3B0aW9ucy5ib3JkZXJSYWRpdXM7XG4gICAgY29uc3QgbyA9IHRvVFJCTENvcm5lcnModmFsdWUpO1xuICAgIGNvbnN0IG1heFIgPSBNYXRoLm1pbihtYXhXLCBtYXhIKTtcbiAgICBjb25zdCBza2lwID0gYmFyLmJvcmRlclNraXBwZWQ7XG4gICAgY29uc3QgZW5hYmxlQm9yZGVyID0gZW5hYmxlQm9yZGVyUmFkaXVzIHx8IGlzT2JqZWN0KHZhbHVlKTtcbiAgICByZXR1cm4ge1xuICAgICAgICB0b3BMZWZ0OiBza2lwT3JMaW1pdCghZW5hYmxlQm9yZGVyIHx8IHNraXAudG9wIHx8IHNraXAubGVmdCwgby50b3BMZWZ0LCAwLCBtYXhSKSxcbiAgICAgICAgdG9wUmlnaHQ6IHNraXBPckxpbWl0KCFlbmFibGVCb3JkZXIgfHwgc2tpcC50b3AgfHwgc2tpcC5yaWdodCwgby50b3BSaWdodCwgMCwgbWF4UiksXG4gICAgICAgIGJvdHRvbUxlZnQ6IHNraXBPckxpbWl0KCFlbmFibGVCb3JkZXIgfHwgc2tpcC5ib3R0b20gfHwgc2tpcC5sZWZ0LCBvLmJvdHRvbUxlZnQsIDAsIG1heFIpLFxuICAgICAgICBib3R0b21SaWdodDogc2tpcE9yTGltaXQoIWVuYWJsZUJvcmRlciB8fCBza2lwLmJvdHRvbSB8fCBza2lwLnJpZ2h0LCBvLmJvdHRvbVJpZ2h0LCAwLCBtYXhSKVxuICAgIH07XG59XG5mdW5jdGlvbiBib3VuZGluZ1JlY3RzKGJhcikge1xuICAgIGNvbnN0IGJvdW5kcyA9IGdldEJhckJvdW5kcyhiYXIpO1xuICAgIGNvbnN0IHdpZHRoID0gYm91bmRzLnJpZ2h0IC0gYm91bmRzLmxlZnQ7XG4gICAgY29uc3QgaGVpZ2h0ID0gYm91bmRzLmJvdHRvbSAtIGJvdW5kcy50b3A7XG4gICAgY29uc3QgYm9yZGVyID0gcGFyc2VCb3JkZXJXaWR0aChiYXIsIHdpZHRoIC8gMiwgaGVpZ2h0IC8gMik7XG4gICAgY29uc3QgcmFkaXVzID0gcGFyc2VCb3JkZXJSYWRpdXMoYmFyLCB3aWR0aCAvIDIsIGhlaWdodCAvIDIpO1xuICAgIHJldHVybiB7XG4gICAgICAgIG91dGVyOiB7XG4gICAgICAgICAgICB4OiBib3VuZHMubGVmdCxcbiAgICAgICAgICAgIHk6IGJvdW5kcy50b3AsXG4gICAgICAgICAgICB3OiB3aWR0aCxcbiAgICAgICAgICAgIGg6IGhlaWdodCxcbiAgICAgICAgICAgIHJhZGl1c1xuICAgICAgICB9LFxuICAgICAgICBpbm5lcjoge1xuICAgICAgICAgICAgeDogYm91bmRzLmxlZnQgKyBib3JkZXIubCxcbiAgICAgICAgICAgIHk6IGJvdW5kcy50b3AgKyBib3JkZXIudCxcbiAgICAgICAgICAgIHc6IHdpZHRoIC0gYm9yZGVyLmwgLSBib3JkZXIucixcbiAgICAgICAgICAgIGg6IGhlaWdodCAtIGJvcmRlci50IC0gYm9yZGVyLmIsXG4gICAgICAgICAgICByYWRpdXM6IHtcbiAgICAgICAgICAgICAgICB0b3BMZWZ0OiBNYXRoLm1heCgwLCByYWRpdXMudG9wTGVmdCAtIE1hdGgubWF4KGJvcmRlci50LCBib3JkZXIubCkpLFxuICAgICAgICAgICAgICAgIHRvcFJpZ2h0OiBNYXRoLm1heCgwLCByYWRpdXMudG9wUmlnaHQgLSBNYXRoLm1heChib3JkZXIudCwgYm9yZGVyLnIpKSxcbiAgICAgICAgICAgICAgICBib3R0b21MZWZ0OiBNYXRoLm1heCgwLCByYWRpdXMuYm90dG9tTGVmdCAtIE1hdGgubWF4KGJvcmRlci5iLCBib3JkZXIubCkpLFxuICAgICAgICAgICAgICAgIGJvdHRvbVJpZ2h0OiBNYXRoLm1heCgwLCByYWRpdXMuYm90dG9tUmlnaHQgLSBNYXRoLm1heChib3JkZXIuYiwgYm9yZGVyLnIpKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGluUmFuZ2UoYmFyLCB4LCB5LCB1c2VGaW5hbFBvc2l0aW9uKSB7XG4gICAgY29uc3Qgc2tpcFggPSB4ID09PSBudWxsO1xuICAgIGNvbnN0IHNraXBZID0geSA9PT0gbnVsbDtcbiAgICBjb25zdCBza2lwQm90aCA9IHNraXBYICYmIHNraXBZO1xuICAgIGNvbnN0IGJvdW5kcyA9IGJhciAmJiAhc2tpcEJvdGggJiYgZ2V0QmFyQm91bmRzKGJhciwgdXNlRmluYWxQb3NpdGlvbik7XG4gICAgcmV0dXJuIGJvdW5kcyAmJiAoc2tpcFggfHwgX2lzQmV0d2Vlbih4LCBib3VuZHMubGVmdCwgYm91bmRzLnJpZ2h0KSkgJiYgKHNraXBZIHx8IF9pc0JldHdlZW4oeSwgYm91bmRzLnRvcCwgYm91bmRzLmJvdHRvbSkpO1xufVxuZnVuY3Rpb24gaGFzUmFkaXVzKHJhZGl1cykge1xuICAgIHJldHVybiByYWRpdXMudG9wTGVmdCB8fCByYWRpdXMudG9wUmlnaHQgfHwgcmFkaXVzLmJvdHRvbUxlZnQgfHwgcmFkaXVzLmJvdHRvbVJpZ2h0O1xufVxuIGZ1bmN0aW9uIGFkZE5vcm1hbFJlY3RQYXRoKGN0eCwgcmVjdCkge1xuICAgIGN0eC5yZWN0KHJlY3QueCwgcmVjdC55LCByZWN0LncsIHJlY3QuaCk7XG59XG5mdW5jdGlvbiBpbmZsYXRlUmVjdChyZWN0LCBhbW91bnQsIHJlZlJlY3QgPSB7fSkge1xuICAgIGNvbnN0IHggPSByZWN0LnggIT09IHJlZlJlY3QueCA/IC1hbW91bnQgOiAwO1xuICAgIGNvbnN0IHkgPSByZWN0LnkgIT09IHJlZlJlY3QueSA/IC1hbW91bnQgOiAwO1xuICAgIGNvbnN0IHcgPSAocmVjdC54ICsgcmVjdC53ICE9PSByZWZSZWN0LnggKyByZWZSZWN0LncgPyBhbW91bnQgOiAwKSAtIHg7XG4gICAgY29uc3QgaCA9IChyZWN0LnkgKyByZWN0LmggIT09IHJlZlJlY3QueSArIHJlZlJlY3QuaCA/IGFtb3VudCA6IDApIC0geTtcbiAgICByZXR1cm4ge1xuICAgICAgICB4OiByZWN0LnggKyB4LFxuICAgICAgICB5OiByZWN0LnkgKyB5LFxuICAgICAgICB3OiByZWN0LncgKyB3LFxuICAgICAgICBoOiByZWN0LmggKyBoLFxuICAgICAgICByYWRpdXM6IHJlY3QucmFkaXVzXG4gICAgfTtcbn1cbmNsYXNzIEJhckVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50IHtcbiAgICBzdGF0aWMgaWQgPSAnYmFyJztcbiBzdGF0aWMgZGVmYXVsdHMgPSB7XG4gICAgICAgIGJvcmRlclNraXBwZWQ6ICdzdGFydCcsXG4gICAgICAgIGJvcmRlcldpZHRoOiAwLFxuICAgICAgICBib3JkZXJSYWRpdXM6IDAsXG4gICAgICAgIGluZmxhdGVBbW91bnQ6ICdhdXRvJyxcbiAgICAgICAgcG9pbnRTdHlsZTogdW5kZWZpbmVkXG4gICAgfTtcbiBzdGF0aWMgZGVmYXVsdFJvdXRlcyA9IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnYmFja2dyb3VuZENvbG9yJyxcbiAgICAgICAgYm9yZGVyQ29sb3I6ICdib3JkZXJDb2xvcidcbiAgICB9O1xuICAgIGNvbnN0cnVjdG9yKGNmZyl7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5ob3Jpem9udGFsID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmJhc2UgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMud2lkdGggPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmluZmxhdGVBbW91bnQgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChjZmcpIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGhpcywgY2ZnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkcmF3KGN0eCkge1xuICAgICAgICBjb25zdCB7IGluZmxhdGVBbW91bnQgLCBvcHRpb25zOiB7IGJvcmRlckNvbG9yICwgYmFja2dyb3VuZENvbG9yICB9ICB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgeyBpbm5lciAsIG91dGVyICB9ID0gYm91bmRpbmdSZWN0cyh0aGlzKTtcbiAgICAgICAgY29uc3QgYWRkUmVjdFBhdGggPSBoYXNSYWRpdXMob3V0ZXIucmFkaXVzKSA/IGFkZFJvdW5kZWRSZWN0UGF0aCA6IGFkZE5vcm1hbFJlY3RQYXRoO1xuICAgICAgICBjdHguc2F2ZSgpO1xuICAgICAgICBpZiAob3V0ZXIudyAhPT0gaW5uZXIudyB8fCBvdXRlci5oICE9PSBpbm5lci5oKSB7XG4gICAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICBhZGRSZWN0UGF0aChjdHgsIGluZmxhdGVSZWN0KG91dGVyLCBpbmZsYXRlQW1vdW50LCBpbm5lcikpO1xuICAgICAgICAgICAgY3R4LmNsaXAoKTtcbiAgICAgICAgICAgIGFkZFJlY3RQYXRoKGN0eCwgaW5mbGF0ZVJlY3QoaW5uZXIsIC1pbmZsYXRlQW1vdW50LCBvdXRlcikpO1xuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGJvcmRlckNvbG9yO1xuICAgICAgICAgICAgY3R4LmZpbGwoJ2V2ZW5vZGQnKTtcbiAgICAgICAgfVxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIGFkZFJlY3RQYXRoKGN0eCwgaW5mbGF0ZVJlY3QoaW5uZXIsIGluZmxhdGVBbW91bnQpKTtcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGJhY2tncm91bmRDb2xvcjtcbiAgICAgICAgY3R4LmZpbGwoKTtcbiAgICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICB9XG4gICAgaW5SYW5nZShtb3VzZVgsIG1vdXNlWSwgdXNlRmluYWxQb3NpdGlvbikge1xuICAgICAgICByZXR1cm4gaW5SYW5nZSh0aGlzLCBtb3VzZVgsIG1vdXNlWSwgdXNlRmluYWxQb3NpdGlvbik7XG4gICAgfVxuICAgIGluWFJhbmdlKG1vdXNlWCwgdXNlRmluYWxQb3NpdGlvbikge1xuICAgICAgICByZXR1cm4gaW5SYW5nZSh0aGlzLCBtb3VzZVgsIG51bGwsIHVzZUZpbmFsUG9zaXRpb24pO1xuICAgIH1cbiAgICBpbllSYW5nZShtb3VzZVksIHVzZUZpbmFsUG9zaXRpb24pIHtcbiAgICAgICAgcmV0dXJuIGluUmFuZ2UodGhpcywgbnVsbCwgbW91c2VZLCB1c2VGaW5hbFBvc2l0aW9uKTtcbiAgICB9XG4gICAgZ2V0Q2VudGVyUG9pbnQodXNlRmluYWxQb3NpdGlvbikge1xuICAgICAgICBjb25zdCB7IHggLCB5ICwgYmFzZSAsIGhvcml6b250YWwgIH0gPSAgdGhpcy5nZXRQcm9wcyhbXG4gICAgICAgICAgICAneCcsXG4gICAgICAgICAgICAneScsXG4gICAgICAgICAgICAnYmFzZScsXG4gICAgICAgICAgICAnaG9yaXpvbnRhbCdcbiAgICAgICAgXSwgdXNlRmluYWxQb3NpdGlvbik7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiBob3Jpem9udGFsID8gKHggKyBiYXNlKSAvIDIgOiB4LFxuICAgICAgICAgICAgeTogaG9yaXpvbnRhbCA/IHkgOiAoeSArIGJhc2UpIC8gMlxuICAgICAgICB9O1xuICAgIH1cbiAgICBnZXRSYW5nZShheGlzKSB7XG4gICAgICAgIHJldHVybiBheGlzID09PSAneCcgPyB0aGlzLndpZHRoIC8gMiA6IHRoaXMuaGVpZ2h0IC8gMjtcbiAgICB9XG59XG5cbnZhciBlbGVtZW50cyA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHtcbl9fcHJvdG9fXzogbnVsbCxcbkFyY0VsZW1lbnQ6IEFyY0VsZW1lbnQsXG5CYXJFbGVtZW50OiBCYXJFbGVtZW50LFxuTGluZUVsZW1lbnQ6IExpbmVFbGVtZW50LFxuUG9pbnRFbGVtZW50OiBQb2ludEVsZW1lbnRcbn0pO1xuXG5jb25zdCBCT1JERVJfQ09MT1JTID0gW1xuICAgICdyZ2IoNTQsIDE2MiwgMjM1KScsXG4gICAgJ3JnYigyNTUsIDk5LCAxMzIpJyxcbiAgICAncmdiKDI1NSwgMTU5LCA2NCknLFxuICAgICdyZ2IoMjU1LCAyMDUsIDg2KScsXG4gICAgJ3JnYig3NSwgMTkyLCAxOTIpJyxcbiAgICAncmdiKDE1MywgMTAyLCAyNTUpJyxcbiAgICAncmdiKDIwMSwgMjAzLCAyMDcpJyAvLyBncmV5XG5dO1xuLy8gQm9yZGVyIGNvbG9ycyB3aXRoIDUwJSB0cmFuc3BhcmVuY3lcbmNvbnN0IEJBQ0tHUk9VTkRfQ09MT1JTID0gLyogI19fUFVSRV9fICovIEJPUkRFUl9DT0xPUlMubWFwKChjb2xvcik9PmNvbG9yLnJlcGxhY2UoJ3JnYignLCAncmdiYSgnKS5yZXBsYWNlKCcpJywgJywgMC41KScpKTtcbmZ1bmN0aW9uIGdldEJvcmRlckNvbG9yKGkpIHtcbiAgICByZXR1cm4gQk9SREVSX0NPTE9SU1tpICUgQk9SREVSX0NPTE9SUy5sZW5ndGhdO1xufVxuZnVuY3Rpb24gZ2V0QmFja2dyb3VuZENvbG9yKGkpIHtcbiAgICByZXR1cm4gQkFDS0dST1VORF9DT0xPUlNbaSAlIEJBQ0tHUk9VTkRfQ09MT1JTLmxlbmd0aF07XG59XG5mdW5jdGlvbiBjb2xvcml6ZURlZmF1bHREYXRhc2V0KGRhdGFzZXQsIGkpIHtcbiAgICBkYXRhc2V0LmJvcmRlckNvbG9yID0gZ2V0Qm9yZGVyQ29sb3IoaSk7XG4gICAgZGF0YXNldC5iYWNrZ3JvdW5kQ29sb3IgPSBnZXRCYWNrZ3JvdW5kQ29sb3IoaSk7XG4gICAgcmV0dXJuICsraTtcbn1cbmZ1bmN0aW9uIGNvbG9yaXplRG91Z2hudXREYXRhc2V0KGRhdGFzZXQsIGkpIHtcbiAgICBkYXRhc2V0LmJhY2tncm91bmRDb2xvciA9IGRhdGFzZXQuZGF0YS5tYXAoKCk9PmdldEJvcmRlckNvbG9yKGkrKykpO1xuICAgIHJldHVybiBpO1xufVxuZnVuY3Rpb24gY29sb3JpemVQb2xhckFyZWFEYXRhc2V0KGRhdGFzZXQsIGkpIHtcbiAgICBkYXRhc2V0LmJhY2tncm91bmRDb2xvciA9IGRhdGFzZXQuZGF0YS5tYXAoKCk9PmdldEJhY2tncm91bmRDb2xvcihpKyspKTtcbiAgICByZXR1cm4gaTtcbn1cbmZ1bmN0aW9uIGdldENvbG9yaXplcihjaGFydCkge1xuICAgIGxldCBpID0gMDtcbiAgICByZXR1cm4gKGRhdGFzZXQsIGRhdGFzZXRJbmRleCk9PntcbiAgICAgICAgY29uc3QgY29udHJvbGxlciA9IGNoYXJ0LmdldERhdGFzZXRNZXRhKGRhdGFzZXRJbmRleCkuY29udHJvbGxlcjtcbiAgICAgICAgaWYgKGNvbnRyb2xsZXIgaW5zdGFuY2VvZiBEb3VnaG51dENvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIGkgPSBjb2xvcml6ZURvdWdobnV0RGF0YXNldChkYXRhc2V0LCBpKTtcbiAgICAgICAgfSBlbHNlIGlmIChjb250cm9sbGVyIGluc3RhbmNlb2YgUG9sYXJBcmVhQ29udHJvbGxlcikge1xuICAgICAgICAgICAgaSA9IGNvbG9yaXplUG9sYXJBcmVhRGF0YXNldChkYXRhc2V0LCBpKTtcbiAgICAgICAgfSBlbHNlIGlmIChjb250cm9sbGVyKSB7XG4gICAgICAgICAgICBpID0gY29sb3JpemVEZWZhdWx0RGF0YXNldChkYXRhc2V0LCBpKTtcbiAgICAgICAgfVxuICAgIH07XG59XG5mdW5jdGlvbiBjb250YWluc0NvbG9yc0RlZmluaXRpb25zKGRlc2NyaXB0b3JzKSB7XG4gICAgbGV0IGs7XG4gICAgZm9yKGsgaW4gZGVzY3JpcHRvcnMpe1xuICAgICAgICBpZiAoZGVzY3JpcHRvcnNba10uYm9yZGVyQ29sb3IgfHwgZGVzY3JpcHRvcnNba10uYmFja2dyb3VuZENvbG9yKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBjb250YWluc0NvbG9yc0RlZmluaXRpb24oZGVzY3JpcHRvcikge1xuICAgIHJldHVybiBkZXNjcmlwdG9yICYmIChkZXNjcmlwdG9yLmJvcmRlckNvbG9yIHx8IGRlc2NyaXB0b3IuYmFja2dyb3VuZENvbG9yKTtcbn1cbnZhciBwbHVnaW5fY29sb3JzID0ge1xuICAgIGlkOiAnY29sb3JzJyxcbiAgICBkZWZhdWx0czoge1xuICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICBmb3JjZU92ZXJyaWRlOiBmYWxzZVxuICAgIH0sXG4gICAgYmVmb3JlTGF5b3V0IChjaGFydCwgX2FyZ3MsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKCFvcHRpb25zLmVuYWJsZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IGRhdGE6IHsgZGF0YXNldHMgIH0gLCBvcHRpb25zOiBjaGFydE9wdGlvbnMgIH0gPSBjaGFydC5jb25maWc7XG4gICAgICAgIGNvbnN0IHsgZWxlbWVudHMgIH0gPSBjaGFydE9wdGlvbnM7XG4gICAgICAgIGlmICghb3B0aW9ucy5mb3JjZU92ZXJyaWRlICYmIChjb250YWluc0NvbG9yc0RlZmluaXRpb25zKGRhdGFzZXRzKSB8fCBjb250YWluc0NvbG9yc0RlZmluaXRpb24oY2hhcnRPcHRpb25zKSB8fCBlbGVtZW50cyAmJiBjb250YWluc0NvbG9yc0RlZmluaXRpb25zKGVsZW1lbnRzKSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb2xvcml6ZXIgPSBnZXRDb2xvcml6ZXIoY2hhcnQpO1xuICAgICAgICBkYXRhc2V0cy5mb3JFYWNoKGNvbG9yaXplcik7XG4gICAgfVxufTtcblxuZnVuY3Rpb24gbHR0YkRlY2ltYXRpb24oZGF0YSwgc3RhcnQsIGNvdW50LCBhdmFpbGFibGVXaWR0aCwgb3B0aW9ucykge1xuIGNvbnN0IHNhbXBsZXMgPSBvcHRpb25zLnNhbXBsZXMgfHwgYXZhaWxhYmxlV2lkdGg7XG4gICAgaWYgKHNhbXBsZXMgPj0gY291bnQpIHtcbiAgICAgICAgcmV0dXJuIGRhdGEuc2xpY2Uoc3RhcnQsIHN0YXJ0ICsgY291bnQpO1xuICAgIH1cbiAgICBjb25zdCBkZWNpbWF0ZWQgPSBbXTtcbiAgICBjb25zdCBidWNrZXRXaWR0aCA9IChjb3VudCAtIDIpIC8gKHNhbXBsZXMgLSAyKTtcbiAgICBsZXQgc2FtcGxlZEluZGV4ID0gMDtcbiAgICBjb25zdCBlbmRJbmRleCA9IHN0YXJ0ICsgY291bnQgLSAxO1xuICAgIGxldCBhID0gc3RhcnQ7XG4gICAgbGV0IGksIG1heEFyZWFQb2ludCwgbWF4QXJlYSwgYXJlYSwgbmV4dEE7XG4gICAgZGVjaW1hdGVkW3NhbXBsZWRJbmRleCsrXSA9IGRhdGFbYV07XG4gICAgZm9yKGkgPSAwOyBpIDwgc2FtcGxlcyAtIDI7IGkrKyl7XG4gICAgICAgIGxldCBhdmdYID0gMDtcbiAgICAgICAgbGV0IGF2Z1kgPSAwO1xuICAgICAgICBsZXQgajtcbiAgICAgICAgY29uc3QgYXZnUmFuZ2VTdGFydCA9IE1hdGguZmxvb3IoKGkgKyAxKSAqIGJ1Y2tldFdpZHRoKSArIDEgKyBzdGFydDtcbiAgICAgICAgY29uc3QgYXZnUmFuZ2VFbmQgPSBNYXRoLm1pbihNYXRoLmZsb29yKChpICsgMikgKiBidWNrZXRXaWR0aCkgKyAxLCBjb3VudCkgKyBzdGFydDtcbiAgICAgICAgY29uc3QgYXZnUmFuZ2VMZW5ndGggPSBhdmdSYW5nZUVuZCAtIGF2Z1JhbmdlU3RhcnQ7XG4gICAgICAgIGZvcihqID0gYXZnUmFuZ2VTdGFydDsgaiA8IGF2Z1JhbmdlRW5kOyBqKyspe1xuICAgICAgICAgICAgYXZnWCArPSBkYXRhW2pdLng7XG4gICAgICAgICAgICBhdmdZICs9IGRhdGFbal0ueTtcbiAgICAgICAgfVxuICAgICAgICBhdmdYIC89IGF2Z1JhbmdlTGVuZ3RoO1xuICAgICAgICBhdmdZIC89IGF2Z1JhbmdlTGVuZ3RoO1xuICAgICAgICBjb25zdCByYW5nZU9mZnMgPSBNYXRoLmZsb29yKGkgKiBidWNrZXRXaWR0aCkgKyAxICsgc3RhcnQ7XG4gICAgICAgIGNvbnN0IHJhbmdlVG8gPSBNYXRoLm1pbihNYXRoLmZsb29yKChpICsgMSkgKiBidWNrZXRXaWR0aCkgKyAxLCBjb3VudCkgKyBzdGFydDtcbiAgICAgICAgY29uc3QgeyB4OiBwb2ludEF4ICwgeTogcG9pbnRBeSAgfSA9IGRhdGFbYV07XG4gICAgICAgIG1heEFyZWEgPSBhcmVhID0gLTE7XG4gICAgICAgIGZvcihqID0gcmFuZ2VPZmZzOyBqIDwgcmFuZ2VUbzsgaisrKXtcbiAgICAgICAgICAgIGFyZWEgPSAwLjUgKiBNYXRoLmFicygocG9pbnRBeCAtIGF2Z1gpICogKGRhdGFbal0ueSAtIHBvaW50QXkpIC0gKHBvaW50QXggLSBkYXRhW2pdLngpICogKGF2Z1kgLSBwb2ludEF5KSk7XG4gICAgICAgICAgICBpZiAoYXJlYSA+IG1heEFyZWEpIHtcbiAgICAgICAgICAgICAgICBtYXhBcmVhID0gYXJlYTtcbiAgICAgICAgICAgICAgICBtYXhBcmVhUG9pbnQgPSBkYXRhW2pdO1xuICAgICAgICAgICAgICAgIG5leHRBID0gajtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBkZWNpbWF0ZWRbc2FtcGxlZEluZGV4KytdID0gbWF4QXJlYVBvaW50O1xuICAgICAgICBhID0gbmV4dEE7XG4gICAgfVxuICAgIGRlY2ltYXRlZFtzYW1wbGVkSW5kZXgrK10gPSBkYXRhW2VuZEluZGV4XTtcbiAgICByZXR1cm4gZGVjaW1hdGVkO1xufVxuZnVuY3Rpb24gbWluTWF4RGVjaW1hdGlvbihkYXRhLCBzdGFydCwgY291bnQsIGF2YWlsYWJsZVdpZHRoKSB7XG4gICAgbGV0IGF2Z1ggPSAwO1xuICAgIGxldCBjb3VudFggPSAwO1xuICAgIGxldCBpLCBwb2ludCwgeCwgeSwgcHJldlgsIG1pbkluZGV4LCBtYXhJbmRleCwgc3RhcnRJbmRleCwgbWluWSwgbWF4WTtcbiAgICBjb25zdCBkZWNpbWF0ZWQgPSBbXTtcbiAgICBjb25zdCBlbmRJbmRleCA9IHN0YXJ0ICsgY291bnQgLSAxO1xuICAgIGNvbnN0IHhNaW4gPSBkYXRhW3N0YXJ0XS54O1xuICAgIGNvbnN0IHhNYXggPSBkYXRhW2VuZEluZGV4XS54O1xuICAgIGNvbnN0IGR4ID0geE1heCAtIHhNaW47XG4gICAgZm9yKGkgPSBzdGFydDsgaSA8IHN0YXJ0ICsgY291bnQ7ICsraSl7XG4gICAgICAgIHBvaW50ID0gZGF0YVtpXTtcbiAgICAgICAgeCA9IChwb2ludC54IC0geE1pbikgLyBkeCAqIGF2YWlsYWJsZVdpZHRoO1xuICAgICAgICB5ID0gcG9pbnQueTtcbiAgICAgICAgY29uc3QgdHJ1bmNYID0geCB8IDA7XG4gICAgICAgIGlmICh0cnVuY1ggPT09IHByZXZYKSB7XG4gICAgICAgICAgICBpZiAoeSA8IG1pblkpIHtcbiAgICAgICAgICAgICAgICBtaW5ZID0geTtcbiAgICAgICAgICAgICAgICBtaW5JbmRleCA9IGk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHkgPiBtYXhZKSB7XG4gICAgICAgICAgICAgICAgbWF4WSA9IHk7XG4gICAgICAgICAgICAgICAgbWF4SW5kZXggPSBpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXZnWCA9IChjb3VudFggKiBhdmdYICsgcG9pbnQueCkgLyArK2NvdW50WDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGxhc3RJbmRleCA9IGkgLSAxO1xuICAgICAgICAgICAgaWYgKCFpc051bGxPclVuZGVmKG1pbkluZGV4KSAmJiAhaXNOdWxsT3JVbmRlZihtYXhJbmRleCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbnRlcm1lZGlhdGVJbmRleDEgPSBNYXRoLm1pbihtaW5JbmRleCwgbWF4SW5kZXgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGludGVybWVkaWF0ZUluZGV4MiA9IE1hdGgubWF4KG1pbkluZGV4LCBtYXhJbmRleCk7XG4gICAgICAgICAgICAgICAgaWYgKGludGVybWVkaWF0ZUluZGV4MSAhPT0gc3RhcnRJbmRleCAmJiBpbnRlcm1lZGlhdGVJbmRleDEgIT09IGxhc3RJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICBkZWNpbWF0ZWQucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5kYXRhW2ludGVybWVkaWF0ZUluZGV4MV0sXG4gICAgICAgICAgICAgICAgICAgICAgICB4OiBhdmdYXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaW50ZXJtZWRpYXRlSW5kZXgyICE9PSBzdGFydEluZGV4ICYmIGludGVybWVkaWF0ZUluZGV4MiAhPT0gbGFzdEluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIGRlY2ltYXRlZC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmRhdGFbaW50ZXJtZWRpYXRlSW5kZXgyXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHg6IGF2Z1hcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGkgPiAwICYmIGxhc3RJbmRleCAhPT0gc3RhcnRJbmRleCkge1xuICAgICAgICAgICAgICAgIGRlY2ltYXRlZC5wdXNoKGRhdGFbbGFzdEluZGV4XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWNpbWF0ZWQucHVzaChwb2ludCk7XG4gICAgICAgICAgICBwcmV2WCA9IHRydW5jWDtcbiAgICAgICAgICAgIGNvdW50WCA9IDA7XG4gICAgICAgICAgICBtaW5ZID0gbWF4WSA9IHk7XG4gICAgICAgICAgICBtaW5JbmRleCA9IG1heEluZGV4ID0gc3RhcnRJbmRleCA9IGk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRlY2ltYXRlZDtcbn1cbmZ1bmN0aW9uIGNsZWFuRGVjaW1hdGVkRGF0YXNldChkYXRhc2V0KSB7XG4gICAgaWYgKGRhdGFzZXQuX2RlY2ltYXRlZCkge1xuICAgICAgICBjb25zdCBkYXRhID0gZGF0YXNldC5fZGF0YTtcbiAgICAgICAgZGVsZXRlIGRhdGFzZXQuX2RlY2ltYXRlZDtcbiAgICAgICAgZGVsZXRlIGRhdGFzZXQuX2RhdGE7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShkYXRhc2V0LCAnZGF0YScsIHtcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBkYXRhXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNsZWFuRGVjaW1hdGVkRGF0YShjaGFydCkge1xuICAgIGNoYXJ0LmRhdGEuZGF0YXNldHMuZm9yRWFjaCgoZGF0YXNldCk9PntcbiAgICAgICAgY2xlYW5EZWNpbWF0ZWREYXRhc2V0KGRhdGFzZXQpO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gZ2V0U3RhcnRBbmRDb3VudE9mVmlzaWJsZVBvaW50c1NpbXBsaWZpZWQobWV0YSwgcG9pbnRzKSB7XG4gICAgY29uc3QgcG9pbnRDb3VudCA9IHBvaW50cy5sZW5ndGg7XG4gICAgbGV0IHN0YXJ0ID0gMDtcbiAgICBsZXQgY291bnQ7XG4gICAgY29uc3QgeyBpU2NhbGUgIH0gPSBtZXRhO1xuICAgIGNvbnN0IHsgbWluICwgbWF4ICwgbWluRGVmaW5lZCAsIG1heERlZmluZWQgIH0gPSBpU2NhbGUuZ2V0VXNlckJvdW5kcygpO1xuICAgIGlmIChtaW5EZWZpbmVkKSB7XG4gICAgICAgIHN0YXJ0ID0gX2xpbWl0VmFsdWUoX2xvb2t1cEJ5S2V5KHBvaW50cywgaVNjYWxlLmF4aXMsIG1pbikubG8sIDAsIHBvaW50Q291bnQgLSAxKTtcbiAgICB9XG4gICAgaWYgKG1heERlZmluZWQpIHtcbiAgICAgICAgY291bnQgPSBfbGltaXRWYWx1ZShfbG9va3VwQnlLZXkocG9pbnRzLCBpU2NhbGUuYXhpcywgbWF4KS5oaSArIDEsIHN0YXJ0LCBwb2ludENvdW50KSAtIHN0YXJ0O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvdW50ID0gcG9pbnRDb3VudCAtIHN0YXJ0O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBzdGFydCxcbiAgICAgICAgY291bnRcbiAgICB9O1xufVxudmFyIHBsdWdpbl9kZWNpbWF0aW9uID0ge1xuICAgIGlkOiAnZGVjaW1hdGlvbicsXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgICAgYWxnb3JpdGhtOiAnbWluLW1heCcsXG4gICAgICAgIGVuYWJsZWQ6IGZhbHNlXG4gICAgfSxcbiAgICBiZWZvcmVFbGVtZW50c1VwZGF0ZTogKGNoYXJ0LCBhcmdzLCBvcHRpb25zKT0+e1xuICAgICAgICBpZiAoIW9wdGlvbnMuZW5hYmxlZCkge1xuICAgICAgICAgICAgY2xlYW5EZWNpbWF0ZWREYXRhKGNoYXJ0KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhdmFpbGFibGVXaWR0aCA9IGNoYXJ0LndpZHRoO1xuICAgICAgICBjaGFydC5kYXRhLmRhdGFzZXRzLmZvckVhY2goKGRhdGFzZXQsIGRhdGFzZXRJbmRleCk9PntcbiAgICAgICAgICAgIGNvbnN0IHsgX2RhdGEgLCBpbmRleEF4aXMgIH0gPSBkYXRhc2V0O1xuICAgICAgICAgICAgY29uc3QgbWV0YSA9IGNoYXJ0LmdldERhdGFzZXRNZXRhKGRhdGFzZXRJbmRleCk7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gX2RhdGEgfHwgZGF0YXNldC5kYXRhO1xuICAgICAgICAgICAgaWYgKHJlc29sdmUoW1xuICAgICAgICAgICAgICAgIGluZGV4QXhpcyxcbiAgICAgICAgICAgICAgICBjaGFydC5vcHRpb25zLmluZGV4QXhpc1xuICAgICAgICAgICAgXSkgPT09ICd5Jykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghbWV0YS5jb250cm9sbGVyLnN1cHBvcnRzRGVjaW1hdGlvbikge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHhBeGlzID0gY2hhcnQuc2NhbGVzW21ldGEueEF4aXNJRF07XG4gICAgICAgICAgICBpZiAoeEF4aXMudHlwZSAhPT0gJ2xpbmVhcicgJiYgeEF4aXMudHlwZSAhPT0gJ3RpbWUnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNoYXJ0Lm9wdGlvbnMucGFyc2luZykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCB7IHN0YXJ0ICwgY291bnQgIH0gPSBnZXRTdGFydEFuZENvdW50T2ZWaXNpYmxlUG9pbnRzU2ltcGxpZmllZChtZXRhLCBkYXRhKTtcbiAgICAgICAgICAgIGNvbnN0IHRocmVzaG9sZCA9IG9wdGlvbnMudGhyZXNob2xkIHx8IDQgKiBhdmFpbGFibGVXaWR0aDtcbiAgICAgICAgICAgIGlmIChjb3VudCA8PSB0aHJlc2hvbGQpIHtcbiAgICAgICAgICAgICAgICBjbGVhbkRlY2ltYXRlZERhdGFzZXQoZGF0YXNldCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzTnVsbE9yVW5kZWYoX2RhdGEpKSB7XG4gICAgICAgICAgICAgICAgZGF0YXNldC5fZGF0YSA9IGRhdGE7XG4gICAgICAgICAgICAgICAgZGVsZXRlIGRhdGFzZXQuZGF0YTtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZGF0YXNldCwgJ2RhdGEnLCB7XG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZWNpbWF0ZWQ7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGF0YSA9IGQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBkZWNpbWF0ZWQ7XG4gICAgICAgICAgICBzd2l0Y2gob3B0aW9ucy5hbGdvcml0aG0pe1xuICAgICAgICAgICAgICAgIGNhc2UgJ2x0dGInOlxuICAgICAgICAgICAgICAgICAgICBkZWNpbWF0ZWQgPSBsdHRiRGVjaW1hdGlvbihkYXRhLCBzdGFydCwgY291bnQsIGF2YWlsYWJsZVdpZHRoLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnbWluLW1heCc6XG4gICAgICAgICAgICAgICAgICAgIGRlY2ltYXRlZCA9IG1pbk1heERlY2ltYXRpb24oZGF0YSwgc3RhcnQsIGNvdW50LCBhdmFpbGFibGVXaWR0aCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgZGVjaW1hdGlvbiBhbGdvcml0aG0gJyR7b3B0aW9ucy5hbGdvcml0aG19J2ApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGF0YXNldC5fZGVjaW1hdGVkID0gZGVjaW1hdGVkO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGRlc3Ryb3kgKGNoYXJ0KSB7XG4gICAgICAgIGNsZWFuRGVjaW1hdGVkRGF0YShjaGFydCk7XG4gICAgfVxufTtcblxuZnVuY3Rpb24gX3NlZ21lbnRzKGxpbmUsIHRhcmdldCwgcHJvcGVydHkpIHtcbiAgICBjb25zdCBzZWdtZW50cyA9IGxpbmUuc2VnbWVudHM7XG4gICAgY29uc3QgcG9pbnRzID0gbGluZS5wb2ludHM7XG4gICAgY29uc3QgdHBvaW50cyA9IHRhcmdldC5wb2ludHM7XG4gICAgY29uc3QgcGFydHMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IHNlZ21lbnQgb2Ygc2VnbWVudHMpe1xuICAgICAgICBsZXQgeyBzdGFydCAsIGVuZCAgfSA9IHNlZ21lbnQ7XG4gICAgICAgIGVuZCA9IF9maW5kU2VnbWVudEVuZChzdGFydCwgZW5kLCBwb2ludHMpO1xuICAgICAgICBjb25zdCBib3VuZHMgPSBfZ2V0Qm91bmRzKHByb3BlcnR5LCBwb2ludHNbc3RhcnRdLCBwb2ludHNbZW5kXSwgc2VnbWVudC5sb29wKTtcbiAgICAgICAgaWYgKCF0YXJnZXQuc2VnbWVudHMpIHtcbiAgICAgICAgICAgIHBhcnRzLnB1c2goe1xuICAgICAgICAgICAgICAgIHNvdXJjZTogc2VnbWVudCxcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IGJvdW5kcyxcbiAgICAgICAgICAgICAgICBzdGFydDogcG9pbnRzW3N0YXJ0XSxcbiAgICAgICAgICAgICAgICBlbmQ6IHBvaW50c1tlbmRdXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRhcmdldFNlZ21lbnRzID0gX2JvdW5kU2VnbWVudHModGFyZ2V0LCBib3VuZHMpO1xuICAgICAgICBmb3IgKGNvbnN0IHRndCBvZiB0YXJnZXRTZWdtZW50cyl7XG4gICAgICAgICAgICBjb25zdCBzdWJCb3VuZHMgPSBfZ2V0Qm91bmRzKHByb3BlcnR5LCB0cG9pbnRzW3RndC5zdGFydF0sIHRwb2ludHNbdGd0LmVuZF0sIHRndC5sb29wKTtcbiAgICAgICAgICAgIGNvbnN0IGZpbGxTb3VyY2VzID0gX2JvdW5kU2VnbWVudChzZWdtZW50LCBwb2ludHMsIHN1YkJvdW5kcyk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGZpbGxTb3VyY2Ugb2YgZmlsbFNvdXJjZXMpe1xuICAgICAgICAgICAgICAgIHBhcnRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBzb3VyY2U6IGZpbGxTb3VyY2UsXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogdGd0LFxuICAgICAgICAgICAgICAgICAgICBzdGFydDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgW3Byb3BlcnR5XTogX2dldEVkZ2UoYm91bmRzLCBzdWJCb3VuZHMsICdzdGFydCcsIE1hdGgubWF4KVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBlbmQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFtwcm9wZXJ0eV06IF9nZXRFZGdlKGJvdW5kcywgc3ViQm91bmRzLCAnZW5kJywgTWF0aC5taW4pXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcGFydHM7XG59XG5mdW5jdGlvbiBfZ2V0Qm91bmRzKHByb3BlcnR5LCBmaXJzdCwgbGFzdCwgbG9vcCkge1xuICAgIGlmIChsb29wKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IHN0YXJ0ID0gZmlyc3RbcHJvcGVydHldO1xuICAgIGxldCBlbmQgPSBsYXN0W3Byb3BlcnR5XTtcbiAgICBpZiAocHJvcGVydHkgPT09ICdhbmdsZScpIHtcbiAgICAgICAgc3RhcnQgPSBfbm9ybWFsaXplQW5nbGUoc3RhcnQpO1xuICAgICAgICBlbmQgPSBfbm9ybWFsaXplQW5nbGUoZW5kKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcHJvcGVydHksXG4gICAgICAgIHN0YXJ0LFxuICAgICAgICBlbmRcbiAgICB9O1xufVxuZnVuY3Rpb24gX3BvaW50c0Zyb21TZWdtZW50cyhib3VuZGFyeSwgbGluZSkge1xuICAgIGNvbnN0IHsgeCA9bnVsbCAsIHkgPW51bGwgIH0gPSBib3VuZGFyeSB8fCB7fTtcbiAgICBjb25zdCBsaW5lUG9pbnRzID0gbGluZS5wb2ludHM7XG4gICAgY29uc3QgcG9pbnRzID0gW107XG4gICAgbGluZS5zZWdtZW50cy5mb3JFYWNoKCh7IHN0YXJ0ICwgZW5kICB9KT0+e1xuICAgICAgICBlbmQgPSBfZmluZFNlZ21lbnRFbmQoc3RhcnQsIGVuZCwgbGluZVBvaW50cyk7XG4gICAgICAgIGNvbnN0IGZpcnN0ID0gbGluZVBvaW50c1tzdGFydF07XG4gICAgICAgIGNvbnN0IGxhc3QgPSBsaW5lUG9pbnRzW2VuZF07XG4gICAgICAgIGlmICh5ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBwb2ludHMucHVzaCh7XG4gICAgICAgICAgICAgICAgeDogZmlyc3QueCxcbiAgICAgICAgICAgICAgICB5XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHBvaW50cy5wdXNoKHtcbiAgICAgICAgICAgICAgICB4OiBsYXN0LngsXG4gICAgICAgICAgICAgICAgeVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAoeCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcG9pbnRzLnB1c2goe1xuICAgICAgICAgICAgICAgIHgsXG4gICAgICAgICAgICAgICAgeTogZmlyc3QueVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBwb2ludHMucHVzaCh7XG4gICAgICAgICAgICAgICAgeCxcbiAgICAgICAgICAgICAgICB5OiBsYXN0LnlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHBvaW50cztcbn1cbmZ1bmN0aW9uIF9maW5kU2VnbWVudEVuZChzdGFydCwgZW5kLCBwb2ludHMpIHtcbiAgICBmb3IoOyBlbmQgPiBzdGFydDsgZW5kLS0pe1xuICAgICAgICBjb25zdCBwb2ludCA9IHBvaW50c1tlbmRdO1xuICAgICAgICBpZiAoIWlzTmFOKHBvaW50LngpICYmICFpc05hTihwb2ludC55KSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGVuZDtcbn1cbmZ1bmN0aW9uIF9nZXRFZGdlKGEsIGIsIHByb3AsIGZuKSB7XG4gICAgaWYgKGEgJiYgYikge1xuICAgICAgICByZXR1cm4gZm4oYVtwcm9wXSwgYltwcm9wXSk7XG4gICAgfVxuICAgIHJldHVybiBhID8gYVtwcm9wXSA6IGIgPyBiW3Byb3BdIDogMDtcbn1cblxuZnVuY3Rpb24gX2NyZWF0ZUJvdW5kYXJ5TGluZShib3VuZGFyeSwgbGluZSkge1xuICAgIGxldCBwb2ludHMgPSBbXTtcbiAgICBsZXQgX2xvb3AgPSBmYWxzZTtcbiAgICBpZiAoaXNBcnJheShib3VuZGFyeSkpIHtcbiAgICAgICAgX2xvb3AgPSB0cnVlO1xuICAgICAgICBwb2ludHMgPSBib3VuZGFyeTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBwb2ludHMgPSBfcG9pbnRzRnJvbVNlZ21lbnRzKGJvdW5kYXJ5LCBsaW5lKTtcbiAgICB9XG4gICAgcmV0dXJuIHBvaW50cy5sZW5ndGggPyBuZXcgTGluZUVsZW1lbnQoe1xuICAgICAgICBwb2ludHMsXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgIHRlbnNpb246IDBcbiAgICAgICAgfSxcbiAgICAgICAgX2xvb3AsXG4gICAgICAgIF9mdWxsTG9vcDogX2xvb3BcbiAgICB9KSA6IG51bGw7XG59XG5mdW5jdGlvbiBfc2hvdWxkQXBwbHlGaWxsKHNvdXJjZSkge1xuICAgIHJldHVybiBzb3VyY2UgJiYgc291cmNlLmZpbGwgIT09IGZhbHNlO1xufVxuXG5mdW5jdGlvbiBfcmVzb2x2ZVRhcmdldChzb3VyY2VzLCBpbmRleCwgcHJvcGFnYXRlKSB7XG4gICAgY29uc3Qgc291cmNlID0gc291cmNlc1tpbmRleF07XG4gICAgbGV0IGZpbGwgPSBzb3VyY2UuZmlsbDtcbiAgICBjb25zdCB2aXNpdGVkID0gW1xuICAgICAgICBpbmRleFxuICAgIF07XG4gICAgbGV0IHRhcmdldDtcbiAgICBpZiAoIXByb3BhZ2F0ZSkge1xuICAgICAgICByZXR1cm4gZmlsbDtcbiAgICB9XG4gICAgd2hpbGUoZmlsbCAhPT0gZmFsc2UgJiYgdmlzaXRlZC5pbmRleE9mKGZpbGwpID09PSAtMSl7XG4gICAgICAgIGlmICghaXNOdW1iZXJGaW5pdGUoZmlsbCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmaWxsO1xuICAgICAgICB9XG4gICAgICAgIHRhcmdldCA9IHNvdXJjZXNbZmlsbF07XG4gICAgICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRhcmdldC52aXNpYmxlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmlsbDtcbiAgICAgICAgfVxuICAgICAgICB2aXNpdGVkLnB1c2goZmlsbCk7XG4gICAgICAgIGZpbGwgPSB0YXJnZXQuZmlsbDtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuIGZ1bmN0aW9uIF9kZWNvZGVGaWxsKGxpbmUsIGluZGV4LCBjb3VudCkge1xuICAgICBjb25zdCBmaWxsID0gcGFyc2VGaWxsT3B0aW9uKGxpbmUpO1xuICAgIGlmIChpc09iamVjdChmaWxsKSkge1xuICAgICAgICByZXR1cm4gaXNOYU4oZmlsbC52YWx1ZSkgPyBmYWxzZSA6IGZpbGw7XG4gICAgfVxuICAgIGxldCB0YXJnZXQgPSBwYXJzZUZsb2F0KGZpbGwpO1xuICAgIGlmIChpc051bWJlckZpbml0ZSh0YXJnZXQpICYmIE1hdGguZmxvb3IodGFyZ2V0KSA9PT0gdGFyZ2V0KSB7XG4gICAgICAgIHJldHVybiBkZWNvZGVUYXJnZXRJbmRleChmaWxsWzBdLCBpbmRleCwgdGFyZ2V0LCBjb3VudCk7XG4gICAgfVxuICAgIHJldHVybiBbXG4gICAgICAgICdvcmlnaW4nLFxuICAgICAgICAnc3RhcnQnLFxuICAgICAgICAnZW5kJyxcbiAgICAgICAgJ3N0YWNrJyxcbiAgICAgICAgJ3NoYXBlJ1xuICAgIF0uaW5kZXhPZihmaWxsKSA+PSAwICYmIGZpbGw7XG59XG5mdW5jdGlvbiBkZWNvZGVUYXJnZXRJbmRleChmaXJzdENoLCBpbmRleCwgdGFyZ2V0LCBjb3VudCkge1xuICAgIGlmIChmaXJzdENoID09PSAnLScgfHwgZmlyc3RDaCA9PT0gJysnKSB7XG4gICAgICAgIHRhcmdldCA9IGluZGV4ICsgdGFyZ2V0O1xuICAgIH1cbiAgICBpZiAodGFyZ2V0ID09PSBpbmRleCB8fCB0YXJnZXQgPCAwIHx8IHRhcmdldCA+PSBjb3VudCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXQ7XG59XG4gZnVuY3Rpb24gX2dldFRhcmdldFBpeGVsKGZpbGwsIHNjYWxlKSB7XG4gICAgbGV0IHBpeGVsID0gbnVsbDtcbiAgICBpZiAoZmlsbCA9PT0gJ3N0YXJ0Jykge1xuICAgICAgICBwaXhlbCA9IHNjYWxlLmJvdHRvbTtcbiAgICB9IGVsc2UgaWYgKGZpbGwgPT09ICdlbmQnKSB7XG4gICAgICAgIHBpeGVsID0gc2NhbGUudG9wO1xuICAgIH0gZWxzZSBpZiAoaXNPYmplY3QoZmlsbCkpIHtcbiAgICAgICAgcGl4ZWwgPSBzY2FsZS5nZXRQaXhlbEZvclZhbHVlKGZpbGwudmFsdWUpO1xuICAgIH0gZWxzZSBpZiAoc2NhbGUuZ2V0QmFzZVBpeGVsKSB7XG4gICAgICAgIHBpeGVsID0gc2NhbGUuZ2V0QmFzZVBpeGVsKCk7XG4gICAgfVxuICAgIHJldHVybiBwaXhlbDtcbn1cbiBmdW5jdGlvbiBfZ2V0VGFyZ2V0VmFsdWUoZmlsbCwgc2NhbGUsIHN0YXJ0VmFsdWUpIHtcbiAgICBsZXQgdmFsdWU7XG4gICAgaWYgKGZpbGwgPT09ICdzdGFydCcpIHtcbiAgICAgICAgdmFsdWUgPSBzdGFydFZhbHVlO1xuICAgIH0gZWxzZSBpZiAoZmlsbCA9PT0gJ2VuZCcpIHtcbiAgICAgICAgdmFsdWUgPSBzY2FsZS5vcHRpb25zLnJldmVyc2UgPyBzY2FsZS5taW4gOiBzY2FsZS5tYXg7XG4gICAgfSBlbHNlIGlmIChpc09iamVjdChmaWxsKSkge1xuICAgICAgICB2YWx1ZSA9IGZpbGwudmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFsdWUgPSBzY2FsZS5nZXRCYXNlVmFsdWUoKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuIGZ1bmN0aW9uIHBhcnNlRmlsbE9wdGlvbihsaW5lKSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IGxpbmUub3B0aW9ucztcbiAgICBjb25zdCBmaWxsT3B0aW9uID0gb3B0aW9ucy5maWxsO1xuICAgIGxldCBmaWxsID0gdmFsdWVPckRlZmF1bHQoZmlsbE9wdGlvbiAmJiBmaWxsT3B0aW9uLnRhcmdldCwgZmlsbE9wdGlvbik7XG4gICAgaWYgKGZpbGwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBmaWxsID0gISFvcHRpb25zLmJhY2tncm91bmRDb2xvcjtcbiAgICB9XG4gICAgaWYgKGZpbGwgPT09IGZhbHNlIHx8IGZpbGwgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoZmlsbCA9PT0gdHJ1ZSkge1xuICAgICAgICByZXR1cm4gJ29yaWdpbic7XG4gICAgfVxuICAgIHJldHVybiBmaWxsO1xufVxuXG5mdW5jdGlvbiBfYnVpbGRTdGFja0xpbmUoc291cmNlKSB7XG4gICAgY29uc3QgeyBzY2FsZSAsIGluZGV4ICwgbGluZSAgfSA9IHNvdXJjZTtcbiAgICBjb25zdCBwb2ludHMgPSBbXTtcbiAgICBjb25zdCBzZWdtZW50cyA9IGxpbmUuc2VnbWVudHM7XG4gICAgY29uc3Qgc291cmNlUG9pbnRzID0gbGluZS5wb2ludHM7XG4gICAgY29uc3QgbGluZXNCZWxvdyA9IGdldExpbmVzQmVsb3coc2NhbGUsIGluZGV4KTtcbiAgICBsaW5lc0JlbG93LnB1c2goX2NyZWF0ZUJvdW5kYXJ5TGluZSh7XG4gICAgICAgIHg6IG51bGwsXG4gICAgICAgIHk6IHNjYWxlLmJvdHRvbVxuICAgIH0sIGxpbmUpKTtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgc2VnbWVudHMubGVuZ3RoOyBpKyspe1xuICAgICAgICBjb25zdCBzZWdtZW50ID0gc2VnbWVudHNbaV07XG4gICAgICAgIGZvcihsZXQgaiA9IHNlZ21lbnQuc3RhcnQ7IGogPD0gc2VnbWVudC5lbmQ7IGorKyl7XG4gICAgICAgICAgICBhZGRQb2ludHNCZWxvdyhwb2ludHMsIHNvdXJjZVBvaW50c1tqXSwgbGluZXNCZWxvdyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5ldyBMaW5lRWxlbWVudCh7XG4gICAgICAgIHBvaW50cyxcbiAgICAgICAgb3B0aW9uczoge31cbiAgICB9KTtcbn1cbiBmdW5jdGlvbiBnZXRMaW5lc0JlbG93KHNjYWxlLCBpbmRleCkge1xuICAgIGNvbnN0IGJlbG93ID0gW107XG4gICAgY29uc3QgbWV0YXMgPSBzY2FsZS5nZXRNYXRjaGluZ1Zpc2libGVNZXRhcygnbGluZScpO1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBtZXRhcy5sZW5ndGg7IGkrKyl7XG4gICAgICAgIGNvbnN0IG1ldGEgPSBtZXRhc1tpXTtcbiAgICAgICAgaWYgKG1ldGEuaW5kZXggPT09IGluZGV4KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW1ldGEuaGlkZGVuKSB7XG4gICAgICAgICAgICBiZWxvdy51bnNoaWZ0KG1ldGEuZGF0YXNldCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGJlbG93O1xufVxuIGZ1bmN0aW9uIGFkZFBvaW50c0JlbG93KHBvaW50cywgc291cmNlUG9pbnQsIGxpbmVzQmVsb3cpIHtcbiAgICBjb25zdCBwb3N0cG9uZWQgPSBbXTtcbiAgICBmb3IobGV0IGogPSAwOyBqIDwgbGluZXNCZWxvdy5sZW5ndGg7IGorKyl7XG4gICAgICAgIGNvbnN0IGxpbmUgPSBsaW5lc0JlbG93W2pdO1xuICAgICAgICBjb25zdCB7IGZpcnN0ICwgbGFzdCAsIHBvaW50ICB9ID0gZmluZFBvaW50KGxpbmUsIHNvdXJjZVBvaW50LCAneCcpO1xuICAgICAgICBpZiAoIXBvaW50IHx8IGZpcnN0ICYmIGxhc3QpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaXJzdCkge1xuICAgICAgICAgICAgcG9zdHBvbmVkLnVuc2hpZnQocG9pbnQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcG9pbnRzLnB1c2gocG9pbnQpO1xuICAgICAgICAgICAgaWYgKCFsYXN0KSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcG9pbnRzLnB1c2goLi4ucG9zdHBvbmVkKTtcbn1cbiBmdW5jdGlvbiBmaW5kUG9pbnQobGluZSwgc291cmNlUG9pbnQsIHByb3BlcnR5KSB7XG4gICAgY29uc3QgcG9pbnQgPSBsaW5lLmludGVycG9sYXRlKHNvdXJjZVBvaW50LCBwcm9wZXJ0eSk7XG4gICAgaWYgKCFwb2ludCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIGNvbnN0IHBvaW50VmFsdWUgPSBwb2ludFtwcm9wZXJ0eV07XG4gICAgY29uc3Qgc2VnbWVudHMgPSBsaW5lLnNlZ21lbnRzO1xuICAgIGNvbnN0IGxpbmVQb2ludHMgPSBsaW5lLnBvaW50cztcbiAgICBsZXQgZmlyc3QgPSBmYWxzZTtcbiAgICBsZXQgbGFzdCA9IGZhbHNlO1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBzZWdtZW50cy5sZW5ndGg7IGkrKyl7XG4gICAgICAgIGNvbnN0IHNlZ21lbnQgPSBzZWdtZW50c1tpXTtcbiAgICAgICAgY29uc3QgZmlyc3RWYWx1ZSA9IGxpbmVQb2ludHNbc2VnbWVudC5zdGFydF1bcHJvcGVydHldO1xuICAgICAgICBjb25zdCBsYXN0VmFsdWUgPSBsaW5lUG9pbnRzW3NlZ21lbnQuZW5kXVtwcm9wZXJ0eV07XG4gICAgICAgIGlmIChfaXNCZXR3ZWVuKHBvaW50VmFsdWUsIGZpcnN0VmFsdWUsIGxhc3RWYWx1ZSkpIHtcbiAgICAgICAgICAgIGZpcnN0ID0gcG9pbnRWYWx1ZSA9PT0gZmlyc3RWYWx1ZTtcbiAgICAgICAgICAgIGxhc3QgPSBwb2ludFZhbHVlID09PSBsYXN0VmFsdWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBmaXJzdCxcbiAgICAgICAgbGFzdCxcbiAgICAgICAgcG9pbnRcbiAgICB9O1xufVxuXG5jbGFzcyBzaW1wbGVBcmMge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpe1xuICAgICAgICB0aGlzLnggPSBvcHRzLng7XG4gICAgICAgIHRoaXMueSA9IG9wdHMueTtcbiAgICAgICAgdGhpcy5yYWRpdXMgPSBvcHRzLnJhZGl1cztcbiAgICB9XG4gICAgcGF0aFNlZ21lbnQoY3R4LCBib3VuZHMsIG9wdHMpIHtcbiAgICAgICAgY29uc3QgeyB4ICwgeSAsIHJhZGl1cyAgfSA9IHRoaXM7XG4gICAgICAgIGJvdW5kcyA9IGJvdW5kcyB8fCB7XG4gICAgICAgICAgICBzdGFydDogMCxcbiAgICAgICAgICAgIGVuZDogVEFVXG4gICAgICAgIH07XG4gICAgICAgIGN0eC5hcmMoeCwgeSwgcmFkaXVzLCBib3VuZHMuZW5kLCBib3VuZHMuc3RhcnQsIHRydWUpO1xuICAgICAgICByZXR1cm4gIW9wdHMuYm91bmRzO1xuICAgIH1cbiAgICBpbnRlcnBvbGF0ZShwb2ludCkge1xuICAgICAgICBjb25zdCB7IHggLCB5ICwgcmFkaXVzICB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgYW5nbGUgPSBwb2ludC5hbmdsZTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IHggKyBNYXRoLmNvcyhhbmdsZSkgKiByYWRpdXMsXG4gICAgICAgICAgICB5OiB5ICsgTWF0aC5zaW4oYW5nbGUpICogcmFkaXVzLFxuICAgICAgICAgICAgYW5nbGVcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIF9nZXRUYXJnZXQoc291cmNlKSB7XG4gICAgY29uc3QgeyBjaGFydCAsIGZpbGwgLCBsaW5lICB9ID0gc291cmNlO1xuICAgIGlmIChpc051bWJlckZpbml0ZShmaWxsKSkge1xuICAgICAgICByZXR1cm4gZ2V0TGluZUJ5SW5kZXgoY2hhcnQsIGZpbGwpO1xuICAgIH1cbiAgICBpZiAoZmlsbCA9PT0gJ3N0YWNrJykge1xuICAgICAgICByZXR1cm4gX2J1aWxkU3RhY2tMaW5lKHNvdXJjZSk7XG4gICAgfVxuICAgIGlmIChmaWxsID09PSAnc2hhcGUnKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjb25zdCBib3VuZGFyeSA9IGNvbXB1dGVCb3VuZGFyeShzb3VyY2UpO1xuICAgIGlmIChib3VuZGFyeSBpbnN0YW5jZW9mIHNpbXBsZUFyYykge1xuICAgICAgICByZXR1cm4gYm91bmRhcnk7XG4gICAgfVxuICAgIHJldHVybiBfY3JlYXRlQm91bmRhcnlMaW5lKGJvdW5kYXJ5LCBsaW5lKTtcbn1cbiBmdW5jdGlvbiBnZXRMaW5lQnlJbmRleChjaGFydCwgaW5kZXgpIHtcbiAgICBjb25zdCBtZXRhID0gY2hhcnQuZ2V0RGF0YXNldE1ldGEoaW5kZXgpO1xuICAgIGNvbnN0IHZpc2libGUgPSBtZXRhICYmIGNoYXJ0LmlzRGF0YXNldFZpc2libGUoaW5kZXgpO1xuICAgIHJldHVybiB2aXNpYmxlID8gbWV0YS5kYXRhc2V0IDogbnVsbDtcbn1cbmZ1bmN0aW9uIGNvbXB1dGVCb3VuZGFyeShzb3VyY2UpIHtcbiAgICBjb25zdCBzY2FsZSA9IHNvdXJjZS5zY2FsZSB8fCB7fTtcbiAgICBpZiAoc2NhbGUuZ2V0UG9pbnRQb3NpdGlvbkZvclZhbHVlKSB7XG4gICAgICAgIHJldHVybiBjb21wdXRlQ2lyY3VsYXJCb3VuZGFyeShzb3VyY2UpO1xuICAgIH1cbiAgICByZXR1cm4gY29tcHV0ZUxpbmVhckJvdW5kYXJ5KHNvdXJjZSk7XG59XG5mdW5jdGlvbiBjb21wdXRlTGluZWFyQm91bmRhcnkoc291cmNlKSB7XG4gICAgY29uc3QgeyBzY2FsZSA9e30gLCBmaWxsICB9ID0gc291cmNlO1xuICAgIGNvbnN0IHBpeGVsID0gX2dldFRhcmdldFBpeGVsKGZpbGwsIHNjYWxlKTtcbiAgICBpZiAoaXNOdW1iZXJGaW5pdGUocGl4ZWwpKSB7XG4gICAgICAgIGNvbnN0IGhvcml6b250YWwgPSBzY2FsZS5pc0hvcml6b250YWwoKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IGhvcml6b250YWwgPyBwaXhlbCA6IG51bGwsXG4gICAgICAgICAgICB5OiBob3Jpem9udGFsID8gbnVsbCA6IHBpeGVsXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gY29tcHV0ZUNpcmN1bGFyQm91bmRhcnkoc291cmNlKSB7XG4gICAgY29uc3QgeyBzY2FsZSAsIGZpbGwgIH0gPSBzb3VyY2U7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHNjYWxlLm9wdGlvbnM7XG4gICAgY29uc3QgbGVuZ3RoID0gc2NhbGUuZ2V0TGFiZWxzKCkubGVuZ3RoO1xuICAgIGNvbnN0IHN0YXJ0ID0gb3B0aW9ucy5yZXZlcnNlID8gc2NhbGUubWF4IDogc2NhbGUubWluO1xuICAgIGNvbnN0IHZhbHVlID0gX2dldFRhcmdldFZhbHVlKGZpbGwsIHNjYWxlLCBzdGFydCk7XG4gICAgY29uc3QgdGFyZ2V0ID0gW107XG4gICAgaWYgKG9wdGlvbnMuZ3JpZC5jaXJjdWxhcikge1xuICAgICAgICBjb25zdCBjZW50ZXIgPSBzY2FsZS5nZXRQb2ludFBvc2l0aW9uRm9yVmFsdWUoMCwgc3RhcnQpO1xuICAgICAgICByZXR1cm4gbmV3IHNpbXBsZUFyYyh7XG4gICAgICAgICAgICB4OiBjZW50ZXIueCxcbiAgICAgICAgICAgIHk6IGNlbnRlci55LFxuICAgICAgICAgICAgcmFkaXVzOiBzY2FsZS5nZXREaXN0YW5jZUZyb21DZW50ZXJGb3JWYWx1ZSh2YWx1ZSlcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSl7XG4gICAgICAgIHRhcmdldC5wdXNoKHNjYWxlLmdldFBvaW50UG9zaXRpb25Gb3JWYWx1ZShpLCB2YWx1ZSkpO1xuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0O1xufVxuXG5mdW5jdGlvbiBfZHJhd2ZpbGwoY3R4LCBzb3VyY2UsIGFyZWEpIHtcbiAgICBjb25zdCB0YXJnZXQgPSBfZ2V0VGFyZ2V0KHNvdXJjZSk7XG4gICAgY29uc3QgeyBsaW5lICwgc2NhbGUgLCBheGlzICB9ID0gc291cmNlO1xuICAgIGNvbnN0IGxpbmVPcHRzID0gbGluZS5vcHRpb25zO1xuICAgIGNvbnN0IGZpbGxPcHRpb24gPSBsaW5lT3B0cy5maWxsO1xuICAgIGNvbnN0IGNvbG9yID0gbGluZU9wdHMuYmFja2dyb3VuZENvbG9yO1xuICAgIGNvbnN0IHsgYWJvdmUgPWNvbG9yICwgYmVsb3cgPWNvbG9yICB9ID0gZmlsbE9wdGlvbiB8fCB7fTtcbiAgICBpZiAodGFyZ2V0ICYmIGxpbmUucG9pbnRzLmxlbmd0aCkge1xuICAgICAgICBjbGlwQXJlYShjdHgsIGFyZWEpO1xuICAgICAgICBkb0ZpbGwoY3R4LCB7XG4gICAgICAgICAgICBsaW5lLFxuICAgICAgICAgICAgdGFyZ2V0LFxuICAgICAgICAgICAgYWJvdmUsXG4gICAgICAgICAgICBiZWxvdyxcbiAgICAgICAgICAgIGFyZWEsXG4gICAgICAgICAgICBzY2FsZSxcbiAgICAgICAgICAgIGF4aXNcbiAgICAgICAgfSk7XG4gICAgICAgIHVuY2xpcEFyZWEoY3R4KTtcbiAgICB9XG59XG5mdW5jdGlvbiBkb0ZpbGwoY3R4LCBjZmcpIHtcbiAgICBjb25zdCB7IGxpbmUgLCB0YXJnZXQgLCBhYm92ZSAsIGJlbG93ICwgYXJlYSAsIHNjYWxlICB9ID0gY2ZnO1xuICAgIGNvbnN0IHByb3BlcnR5ID0gbGluZS5fbG9vcCA/ICdhbmdsZScgOiBjZmcuYXhpcztcbiAgICBjdHguc2F2ZSgpO1xuICAgIGlmIChwcm9wZXJ0eSA9PT0gJ3gnICYmIGJlbG93ICE9PSBhYm92ZSkge1xuICAgICAgICBjbGlwVmVydGljYWwoY3R4LCB0YXJnZXQsIGFyZWEudG9wKTtcbiAgICAgICAgZmlsbChjdHgsIHtcbiAgICAgICAgICAgIGxpbmUsXG4gICAgICAgICAgICB0YXJnZXQsXG4gICAgICAgICAgICBjb2xvcjogYWJvdmUsXG4gICAgICAgICAgICBzY2FsZSxcbiAgICAgICAgICAgIHByb3BlcnR5XG4gICAgICAgIH0pO1xuICAgICAgICBjdHgucmVzdG9yZSgpO1xuICAgICAgICBjdHguc2F2ZSgpO1xuICAgICAgICBjbGlwVmVydGljYWwoY3R4LCB0YXJnZXQsIGFyZWEuYm90dG9tKTtcbiAgICB9XG4gICAgZmlsbChjdHgsIHtcbiAgICAgICAgbGluZSxcbiAgICAgICAgdGFyZ2V0LFxuICAgICAgICBjb2xvcjogYmVsb3csXG4gICAgICAgIHNjYWxlLFxuICAgICAgICBwcm9wZXJ0eVxuICAgIH0pO1xuICAgIGN0eC5yZXN0b3JlKCk7XG59XG5mdW5jdGlvbiBjbGlwVmVydGljYWwoY3R4LCB0YXJnZXQsIGNsaXBZKSB7XG4gICAgY29uc3QgeyBzZWdtZW50cyAsIHBvaW50cyAgfSA9IHRhcmdldDtcbiAgICBsZXQgZmlyc3QgPSB0cnVlO1xuICAgIGxldCBsaW5lTG9vcCA9IGZhbHNlO1xuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBmb3IgKGNvbnN0IHNlZ21lbnQgb2Ygc2VnbWVudHMpe1xuICAgICAgICBjb25zdCB7IHN0YXJ0ICwgZW5kICB9ID0gc2VnbWVudDtcbiAgICAgICAgY29uc3QgZmlyc3RQb2ludCA9IHBvaW50c1tzdGFydF07XG4gICAgICAgIGNvbnN0IGxhc3RQb2ludCA9IHBvaW50c1tfZmluZFNlZ21lbnRFbmQoc3RhcnQsIGVuZCwgcG9pbnRzKV07XG4gICAgICAgIGlmIChmaXJzdCkge1xuICAgICAgICAgICAgY3R4Lm1vdmVUbyhmaXJzdFBvaW50LngsIGZpcnN0UG9pbnQueSk7XG4gICAgICAgICAgICBmaXJzdCA9IGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY3R4LmxpbmVUbyhmaXJzdFBvaW50LngsIGNsaXBZKTtcbiAgICAgICAgICAgIGN0eC5saW5lVG8oZmlyc3RQb2ludC54LCBmaXJzdFBvaW50LnkpO1xuICAgICAgICB9XG4gICAgICAgIGxpbmVMb29wID0gISF0YXJnZXQucGF0aFNlZ21lbnQoY3R4LCBzZWdtZW50LCB7XG4gICAgICAgICAgICBtb3ZlOiBsaW5lTG9vcFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGxpbmVMb29wKSB7XG4gICAgICAgICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjdHgubGluZVRvKGxhc3RQb2ludC54LCBjbGlwWSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY3R4LmxpbmVUbyh0YXJnZXQuZmlyc3QoKS54LCBjbGlwWSk7XG4gICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgIGN0eC5jbGlwKCk7XG59XG5mdW5jdGlvbiBmaWxsKGN0eCwgY2ZnKSB7XG4gICAgY29uc3QgeyBsaW5lICwgdGFyZ2V0ICwgcHJvcGVydHkgLCBjb2xvciAsIHNjYWxlICB9ID0gY2ZnO1xuICAgIGNvbnN0IHNlZ21lbnRzID0gX3NlZ21lbnRzKGxpbmUsIHRhcmdldCwgcHJvcGVydHkpO1xuICAgIGZvciAoY29uc3QgeyBzb3VyY2U6IHNyYyAsIHRhcmdldDogdGd0ICwgc3RhcnQgLCBlbmQgIH0gb2Ygc2VnbWVudHMpe1xuICAgICAgICBjb25zdCB7IHN0eWxlOiB7IGJhY2tncm91bmRDb2xvciA9Y29sb3IgIH0gPSB7fSAgfSA9IHNyYztcbiAgICAgICAgY29uc3Qgbm90U2hhcGUgPSB0YXJnZXQgIT09IHRydWU7XG4gICAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBiYWNrZ3JvdW5kQ29sb3I7XG4gICAgICAgIGNsaXBCb3VuZHMoY3R4LCBzY2FsZSwgbm90U2hhcGUgJiYgX2dldEJvdW5kcyhwcm9wZXJ0eSwgc3RhcnQsIGVuZCkpO1xuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIGNvbnN0IGxpbmVMb29wID0gISFsaW5lLnBhdGhTZWdtZW50KGN0eCwgc3JjKTtcbiAgICAgICAgbGV0IGxvb3A7XG4gICAgICAgIGlmIChub3RTaGFwZSkge1xuICAgICAgICAgICAgaWYgKGxpbmVMb29wKSB7XG4gICAgICAgICAgICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpbnRlcnBvbGF0ZWRMaW5lVG8oY3R4LCB0YXJnZXQsIGVuZCwgcHJvcGVydHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0TG9vcCA9ICEhdGFyZ2V0LnBhdGhTZWdtZW50KGN0eCwgdGd0LCB7XG4gICAgICAgICAgICAgICAgbW92ZTogbGluZUxvb3AsXG4gICAgICAgICAgICAgICAgcmV2ZXJzZTogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBsb29wID0gbGluZUxvb3AgJiYgdGFyZ2V0TG9vcDtcbiAgICAgICAgICAgIGlmICghbG9vcCkge1xuICAgICAgICAgICAgICAgIGludGVycG9sYXRlZExpbmVUbyhjdHgsIHRhcmdldCwgc3RhcnQsIHByb3BlcnR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgICAgIGN0eC5maWxsKGxvb3AgPyAnZXZlbm9kZCcgOiAnbm9uemVybycpO1xuICAgICAgICBjdHgucmVzdG9yZSgpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNsaXBCb3VuZHMoY3R4LCBzY2FsZSwgYm91bmRzKSB7XG4gICAgY29uc3QgeyB0b3AgLCBib3R0b20gIH0gPSBzY2FsZS5jaGFydC5jaGFydEFyZWE7XG4gICAgY29uc3QgeyBwcm9wZXJ0eSAsIHN0YXJ0ICwgZW5kICB9ID0gYm91bmRzIHx8IHt9O1xuICAgIGlmIChwcm9wZXJ0eSA9PT0gJ3gnKSB7XG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgY3R4LnJlY3Qoc3RhcnQsIHRvcCwgZW5kIC0gc3RhcnQsIGJvdHRvbSAtIHRvcCk7XG4gICAgICAgIGN0eC5jbGlwKCk7XG4gICAgfVxufVxuZnVuY3Rpb24gaW50ZXJwb2xhdGVkTGluZVRvKGN0eCwgdGFyZ2V0LCBwb2ludCwgcHJvcGVydHkpIHtcbiAgICBjb25zdCBpbnRlcnBvbGF0ZWRQb2ludCA9IHRhcmdldC5pbnRlcnBvbGF0ZShwb2ludCwgcHJvcGVydHkpO1xuICAgIGlmIChpbnRlcnBvbGF0ZWRQb2ludCkge1xuICAgICAgICBjdHgubGluZVRvKGludGVycG9sYXRlZFBvaW50LngsIGludGVycG9sYXRlZFBvaW50LnkpO1xuICAgIH1cbn1cblxudmFyIGluZGV4ID0ge1xuICAgIGlkOiAnZmlsbGVyJyxcbiAgICBhZnRlckRhdGFzZXRzVXBkYXRlIChjaGFydCwgX2FyZ3MsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgY291bnQgPSAoY2hhcnQuZGF0YS5kYXRhc2V0cyB8fCBbXSkubGVuZ3RoO1xuICAgICAgICBjb25zdCBzb3VyY2VzID0gW107XG4gICAgICAgIGxldCBtZXRhLCBpLCBsaW5lLCBzb3VyY2U7XG4gICAgICAgIGZvcihpID0gMDsgaSA8IGNvdW50OyArK2kpe1xuICAgICAgICAgICAgbWV0YSA9IGNoYXJ0LmdldERhdGFzZXRNZXRhKGkpO1xuICAgICAgICAgICAgbGluZSA9IG1ldGEuZGF0YXNldDtcbiAgICAgICAgICAgIHNvdXJjZSA9IG51bGw7XG4gICAgICAgICAgICBpZiAobGluZSAmJiBsaW5lLm9wdGlvbnMgJiYgbGluZSBpbnN0YW5jZW9mIExpbmVFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgc291cmNlID0ge1xuICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiBjaGFydC5pc0RhdGFzZXRWaXNpYmxlKGkpLFxuICAgICAgICAgICAgICAgICAgICBpbmRleDogaSxcbiAgICAgICAgICAgICAgICAgICAgZmlsbDogX2RlY29kZUZpbGwobGluZSwgaSwgY291bnQpLFxuICAgICAgICAgICAgICAgICAgICBjaGFydCxcbiAgICAgICAgICAgICAgICAgICAgYXhpczogbWV0YS5jb250cm9sbGVyLm9wdGlvbnMuaW5kZXhBeGlzLFxuICAgICAgICAgICAgICAgICAgICBzY2FsZTogbWV0YS52U2NhbGUsXG4gICAgICAgICAgICAgICAgICAgIGxpbmVcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWV0YS4kZmlsbGVyID0gc291cmNlO1xuICAgICAgICAgICAgc291cmNlcy5wdXNoKHNvdXJjZSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yKGkgPSAwOyBpIDwgY291bnQ7ICsraSl7XG4gICAgICAgICAgICBzb3VyY2UgPSBzb3VyY2VzW2ldO1xuICAgICAgICAgICAgaWYgKCFzb3VyY2UgfHwgc291cmNlLmZpbGwgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzb3VyY2UuZmlsbCA9IF9yZXNvbHZlVGFyZ2V0KHNvdXJjZXMsIGksIG9wdGlvbnMucHJvcGFnYXRlKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgYmVmb3JlRHJhdyAoY2hhcnQsIF9hcmdzLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGRyYXcgPSBvcHRpb25zLmRyYXdUaW1lID09PSAnYmVmb3JlRHJhdyc7XG4gICAgICAgIGNvbnN0IG1ldGFzZXRzID0gY2hhcnQuZ2V0U29ydGVkVmlzaWJsZURhdGFzZXRNZXRhcygpO1xuICAgICAgICBjb25zdCBhcmVhID0gY2hhcnQuY2hhcnRBcmVhO1xuICAgICAgICBmb3IobGV0IGkgPSBtZXRhc2V0cy5sZW5ndGggLSAxOyBpID49IDA7IC0taSl7XG4gICAgICAgICAgICBjb25zdCBzb3VyY2UgPSBtZXRhc2V0c1tpXS4kZmlsbGVyO1xuICAgICAgICAgICAgaWYgKCFzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNvdXJjZS5saW5lLnVwZGF0ZUNvbnRyb2xQb2ludHMoYXJlYSwgc291cmNlLmF4aXMpO1xuICAgICAgICAgICAgaWYgKGRyYXcgJiYgc291cmNlLmZpbGwpIHtcbiAgICAgICAgICAgICAgICBfZHJhd2ZpbGwoY2hhcnQuY3R4LCBzb3VyY2UsIGFyZWEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICBiZWZvcmVEYXRhc2V0c0RyYXcgKGNoYXJ0LCBfYXJncywgb3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucy5kcmF3VGltZSAhPT0gJ2JlZm9yZURhdGFzZXRzRHJhdycpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtZXRhc2V0cyA9IGNoYXJ0LmdldFNvcnRlZFZpc2libGVEYXRhc2V0TWV0YXMoKTtcbiAgICAgICAgZm9yKGxldCBpID0gbWV0YXNldHMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpe1xuICAgICAgICAgICAgY29uc3Qgc291cmNlID0gbWV0YXNldHNbaV0uJGZpbGxlcjtcbiAgICAgICAgICAgIGlmIChfc2hvdWxkQXBwbHlGaWxsKHNvdXJjZSkpIHtcbiAgICAgICAgICAgICAgICBfZHJhd2ZpbGwoY2hhcnQuY3R4LCBzb3VyY2UsIGNoYXJ0LmNoYXJ0QXJlYSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGJlZm9yZURhdGFzZXREcmF3IChjaGFydCwgYXJncywgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBzb3VyY2UgPSBhcmdzLm1ldGEuJGZpbGxlcjtcbiAgICAgICAgaWYgKCFfc2hvdWxkQXBwbHlGaWxsKHNvdXJjZSkgfHwgb3B0aW9ucy5kcmF3VGltZSAhPT0gJ2JlZm9yZURhdGFzZXREcmF3Jykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIF9kcmF3ZmlsbChjaGFydC5jdHgsIHNvdXJjZSwgY2hhcnQuY2hhcnRBcmVhKTtcbiAgICB9LFxuICAgIGRlZmF1bHRzOiB7XG4gICAgICAgIHByb3BhZ2F0ZTogdHJ1ZSxcbiAgICAgICAgZHJhd1RpbWU6ICdiZWZvcmVEYXRhc2V0RHJhdydcbiAgICB9XG59O1xuXG5jb25zdCBnZXRCb3hTaXplID0gKGxhYmVsT3B0cywgZm9udFNpemUpPT57XG4gICAgbGV0IHsgYm94SGVpZ2h0ID1mb250U2l6ZSAsIGJveFdpZHRoID1mb250U2l6ZSAgfSA9IGxhYmVsT3B0cztcbiAgICBpZiAobGFiZWxPcHRzLnVzZVBvaW50U3R5bGUpIHtcbiAgICAgICAgYm94SGVpZ2h0ID0gTWF0aC5taW4oYm94SGVpZ2h0LCBmb250U2l6ZSk7XG4gICAgICAgIGJveFdpZHRoID0gbGFiZWxPcHRzLnBvaW50U3R5bGVXaWR0aCB8fCBNYXRoLm1pbihib3hXaWR0aCwgZm9udFNpemUpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBib3hXaWR0aCxcbiAgICAgICAgYm94SGVpZ2h0LFxuICAgICAgICBpdGVtSGVpZ2h0OiBNYXRoLm1heChmb250U2l6ZSwgYm94SGVpZ2h0KVxuICAgIH07XG59O1xuY29uc3QgaXRlbXNFcXVhbCA9IChhLCBiKT0+YSAhPT0gbnVsbCAmJiBiICE9PSBudWxsICYmIGEuZGF0YXNldEluZGV4ID09PSBiLmRhdGFzZXRJbmRleCAmJiBhLmluZGV4ID09PSBiLmluZGV4O1xuY2xhc3MgTGVnZW5kIGV4dGVuZHMgRWxlbWVudCB7XG4gY29uc3RydWN0b3IoY29uZmlnKXtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fYWRkZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5sZWdlbmRIaXRCb3hlcyA9IFtdO1xuIHRoaXMuX2hvdmVyZWRJdGVtID0gbnVsbDtcbiAgICAgICAgdGhpcy5kb3VnaG51dE1vZGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jaGFydCA9IGNvbmZpZy5jaGFydDtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gY29uZmlnLm9wdGlvbnM7XG4gICAgICAgIHRoaXMuY3R4ID0gY29uZmlnLmN0eDtcbiAgICAgICAgdGhpcy5sZWdlbmRJdGVtcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5jb2x1bW5TaXplcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5saW5lV2lkdGhzID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLm1heEhlaWdodCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5tYXhXaWR0aCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy50b3AgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuYm90dG9tID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmxlZnQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMucmlnaHQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLndpZHRoID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9tYXJnaW5zID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnBvc2l0aW9uID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLndlaWdodCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5mdWxsU2l6ZSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgdXBkYXRlKG1heFdpZHRoLCBtYXhIZWlnaHQsIG1hcmdpbnMpIHtcbiAgICAgICAgdGhpcy5tYXhXaWR0aCA9IG1heFdpZHRoO1xuICAgICAgICB0aGlzLm1heEhlaWdodCA9IG1heEhlaWdodDtcbiAgICAgICAgdGhpcy5fbWFyZ2lucyA9IG1hcmdpbnM7XG4gICAgICAgIHRoaXMuc2V0RGltZW5zaW9ucygpO1xuICAgICAgICB0aGlzLmJ1aWxkTGFiZWxzKCk7XG4gICAgICAgIHRoaXMuZml0KCk7XG4gICAgfVxuICAgIHNldERpbWVuc2lvbnMoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzSG9yaXpvbnRhbCgpKSB7XG4gICAgICAgICAgICB0aGlzLndpZHRoID0gdGhpcy5tYXhXaWR0aDtcbiAgICAgICAgICAgIHRoaXMubGVmdCA9IHRoaXMuX21hcmdpbnMubGVmdDtcbiAgICAgICAgICAgIHRoaXMucmlnaHQgPSB0aGlzLndpZHRoO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5oZWlnaHQgPSB0aGlzLm1heEhlaWdodDtcbiAgICAgICAgICAgIHRoaXMudG9wID0gdGhpcy5fbWFyZ2lucy50b3A7XG4gICAgICAgICAgICB0aGlzLmJvdHRvbSA9IHRoaXMuaGVpZ2h0O1xuICAgICAgICB9XG4gICAgfVxuICAgIGJ1aWxkTGFiZWxzKCkge1xuICAgICAgICBjb25zdCBsYWJlbE9wdHMgPSB0aGlzLm9wdGlvbnMubGFiZWxzIHx8IHt9O1xuICAgICAgICBsZXQgbGVnZW5kSXRlbXMgPSBjYWxsYmFjayhsYWJlbE9wdHMuZ2VuZXJhdGVMYWJlbHMsIFtcbiAgICAgICAgICAgIHRoaXMuY2hhcnRcbiAgICAgICAgXSwgdGhpcykgfHwgW107XG4gICAgICAgIGlmIChsYWJlbE9wdHMuZmlsdGVyKSB7XG4gICAgICAgICAgICBsZWdlbmRJdGVtcyA9IGxlZ2VuZEl0ZW1zLmZpbHRlcigoaXRlbSk9PmxhYmVsT3B0cy5maWx0ZXIoaXRlbSwgdGhpcy5jaGFydC5kYXRhKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxhYmVsT3B0cy5zb3J0KSB7XG4gICAgICAgICAgICBsZWdlbmRJdGVtcyA9IGxlZ2VuZEl0ZW1zLnNvcnQoKGEsIGIpPT5sYWJlbE9wdHMuc29ydChhLCBiLCB0aGlzLmNoYXJ0LmRhdGEpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnJldmVyc2UpIHtcbiAgICAgICAgICAgIGxlZ2VuZEl0ZW1zLnJldmVyc2UoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxlZ2VuZEl0ZW1zID0gbGVnZW5kSXRlbXM7XG4gICAgfVxuICAgIGZpdCgpIHtcbiAgICAgICAgY29uc3QgeyBvcHRpb25zICwgY3R4ICB9ID0gdGhpcztcbiAgICAgICAgaWYgKCFvcHRpb25zLmRpc3BsYXkpIHtcbiAgICAgICAgICAgIHRoaXMud2lkdGggPSB0aGlzLmhlaWdodCA9IDA7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbGFiZWxPcHRzID0gb3B0aW9ucy5sYWJlbHM7XG4gICAgICAgIGNvbnN0IGxhYmVsRm9udCA9IHRvRm9udChsYWJlbE9wdHMuZm9udCk7XG4gICAgICAgIGNvbnN0IGZvbnRTaXplID0gbGFiZWxGb250LnNpemU7XG4gICAgICAgIGNvbnN0IHRpdGxlSGVpZ2h0ID0gdGhpcy5fY29tcHV0ZVRpdGxlSGVpZ2h0KCk7XG4gICAgICAgIGNvbnN0IHsgYm94V2lkdGggLCBpdGVtSGVpZ2h0ICB9ID0gZ2V0Qm94U2l6ZShsYWJlbE9wdHMsIGZvbnRTaXplKTtcbiAgICAgICAgbGV0IHdpZHRoLCBoZWlnaHQ7XG4gICAgICAgIGN0eC5mb250ID0gbGFiZWxGb250LnN0cmluZztcbiAgICAgICAgaWYgKHRoaXMuaXNIb3Jpem9udGFsKCkpIHtcbiAgICAgICAgICAgIHdpZHRoID0gdGhpcy5tYXhXaWR0aDtcbiAgICAgICAgICAgIGhlaWdodCA9IHRoaXMuX2ZpdFJvd3ModGl0bGVIZWlnaHQsIGZvbnRTaXplLCBib3hXaWR0aCwgaXRlbUhlaWdodCkgKyAxMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGhlaWdodCA9IHRoaXMubWF4SGVpZ2h0O1xuICAgICAgICAgICAgd2lkdGggPSB0aGlzLl9maXRDb2xzKHRpdGxlSGVpZ2h0LCBsYWJlbEZvbnQsIGJveFdpZHRoLCBpdGVtSGVpZ2h0KSArIDEwO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMud2lkdGggPSBNYXRoLm1pbih3aWR0aCwgb3B0aW9ucy5tYXhXaWR0aCB8fCB0aGlzLm1heFdpZHRoKTtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBNYXRoLm1pbihoZWlnaHQsIG9wdGlvbnMubWF4SGVpZ2h0IHx8IHRoaXMubWF4SGVpZ2h0KTtcbiAgICB9XG4gX2ZpdFJvd3ModGl0bGVIZWlnaHQsIGZvbnRTaXplLCBib3hXaWR0aCwgaXRlbUhlaWdodCkge1xuICAgICAgICBjb25zdCB7IGN0eCAsIG1heFdpZHRoICwgb3B0aW9uczogeyBsYWJlbHM6IHsgcGFkZGluZyAgfSAgfSAgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGhpdGJveGVzID0gdGhpcy5sZWdlbmRIaXRCb3hlcyA9IFtdO1xuICAgICAgICBjb25zdCBsaW5lV2lkdGhzID0gdGhpcy5saW5lV2lkdGhzID0gW1xuICAgICAgICAgICAgMFxuICAgICAgICBdO1xuICAgICAgICBjb25zdCBsaW5lSGVpZ2h0ID0gaXRlbUhlaWdodCArIHBhZGRpbmc7XG4gICAgICAgIGxldCB0b3RhbEhlaWdodCA9IHRpdGxlSGVpZ2h0O1xuICAgICAgICBjdHgudGV4dEFsaWduID0gJ2xlZnQnO1xuICAgICAgICBjdHgudGV4dEJhc2VsaW5lID0gJ21pZGRsZSc7XG4gICAgICAgIGxldCByb3cgPSAtMTtcbiAgICAgICAgbGV0IHRvcCA9IC1saW5lSGVpZ2h0O1xuICAgICAgICB0aGlzLmxlZ2VuZEl0ZW1zLmZvckVhY2goKGxlZ2VuZEl0ZW0sIGkpPT57XG4gICAgICAgICAgICBjb25zdCBpdGVtV2lkdGggPSBib3hXaWR0aCArIGZvbnRTaXplIC8gMiArIGN0eC5tZWFzdXJlVGV4dChsZWdlbmRJdGVtLnRleHQpLndpZHRoO1xuICAgICAgICAgICAgaWYgKGkgPT09IDAgfHwgbGluZVdpZHRoc1tsaW5lV2lkdGhzLmxlbmd0aCAtIDFdICsgaXRlbVdpZHRoICsgMiAqIHBhZGRpbmcgPiBtYXhXaWR0aCkge1xuICAgICAgICAgICAgICAgIHRvdGFsSGVpZ2h0ICs9IGxpbmVIZWlnaHQ7XG4gICAgICAgICAgICAgICAgbGluZVdpZHRoc1tsaW5lV2lkdGhzLmxlbmd0aCAtIChpID4gMCA/IDAgOiAxKV0gPSAwO1xuICAgICAgICAgICAgICAgIHRvcCArPSBsaW5lSGVpZ2h0O1xuICAgICAgICAgICAgICAgIHJvdysrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaGl0Ym94ZXNbaV0gPSB7XG4gICAgICAgICAgICAgICAgbGVmdDogMCxcbiAgICAgICAgICAgICAgICB0b3AsXG4gICAgICAgICAgICAgICAgcm93LFxuICAgICAgICAgICAgICAgIHdpZHRoOiBpdGVtV2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBpdGVtSGVpZ2h0XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgbGluZVdpZHRoc1tsaW5lV2lkdGhzLmxlbmd0aCAtIDFdICs9IGl0ZW1XaWR0aCArIHBhZGRpbmc7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdG90YWxIZWlnaHQ7XG4gICAgfVxuICAgIF9maXRDb2xzKHRpdGxlSGVpZ2h0LCBsYWJlbEZvbnQsIGJveFdpZHRoLCBfaXRlbUhlaWdodCkge1xuICAgICAgICBjb25zdCB7IGN0eCAsIG1heEhlaWdodCAsIG9wdGlvbnM6IHsgbGFiZWxzOiB7IHBhZGRpbmcgIH0gIH0gIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBoaXRib3hlcyA9IHRoaXMubGVnZW5kSGl0Qm94ZXMgPSBbXTtcbiAgICAgICAgY29uc3QgY29sdW1uU2l6ZXMgPSB0aGlzLmNvbHVtblNpemVzID0gW107XG4gICAgICAgIGNvbnN0IGhlaWdodExpbWl0ID0gbWF4SGVpZ2h0IC0gdGl0bGVIZWlnaHQ7XG4gICAgICAgIGxldCB0b3RhbFdpZHRoID0gcGFkZGluZztcbiAgICAgICAgbGV0IGN1cnJlbnRDb2xXaWR0aCA9IDA7XG4gICAgICAgIGxldCBjdXJyZW50Q29sSGVpZ2h0ID0gMDtcbiAgICAgICAgbGV0IGxlZnQgPSAwO1xuICAgICAgICBsZXQgY29sID0gMDtcbiAgICAgICAgdGhpcy5sZWdlbmRJdGVtcy5mb3JFYWNoKChsZWdlbmRJdGVtLCBpKT0+e1xuICAgICAgICAgICAgY29uc3QgeyBpdGVtV2lkdGggLCBpdGVtSGVpZ2h0ICB9ID0gY2FsY3VsYXRlSXRlbVNpemUoYm94V2lkdGgsIGxhYmVsRm9udCwgY3R4LCBsZWdlbmRJdGVtLCBfaXRlbUhlaWdodCk7XG4gICAgICAgICAgICBpZiAoaSA+IDAgJiYgY3VycmVudENvbEhlaWdodCArIGl0ZW1IZWlnaHQgKyAyICogcGFkZGluZyA+IGhlaWdodExpbWl0KSB7XG4gICAgICAgICAgICAgICAgdG90YWxXaWR0aCArPSBjdXJyZW50Q29sV2lkdGggKyBwYWRkaW5nO1xuICAgICAgICAgICAgICAgIGNvbHVtblNpemVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICB3aWR0aDogY3VycmVudENvbFdpZHRoLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGN1cnJlbnRDb2xIZWlnaHRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBsZWZ0ICs9IGN1cnJlbnRDb2xXaWR0aCArIHBhZGRpbmc7XG4gICAgICAgICAgICAgICAgY29sKys7XG4gICAgICAgICAgICAgICAgY3VycmVudENvbFdpZHRoID0gY3VycmVudENvbEhlaWdodCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBoaXRib3hlc1tpXSA9IHtcbiAgICAgICAgICAgICAgICBsZWZ0LFxuICAgICAgICAgICAgICAgIHRvcDogY3VycmVudENvbEhlaWdodCxcbiAgICAgICAgICAgICAgICBjb2wsXG4gICAgICAgICAgICAgICAgd2lkdGg6IGl0ZW1XaWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGl0ZW1IZWlnaHRcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjdXJyZW50Q29sV2lkdGggPSBNYXRoLm1heChjdXJyZW50Q29sV2lkdGgsIGl0ZW1XaWR0aCk7XG4gICAgICAgICAgICBjdXJyZW50Q29sSGVpZ2h0ICs9IGl0ZW1IZWlnaHQgKyBwYWRkaW5nO1xuICAgICAgICB9KTtcbiAgICAgICAgdG90YWxXaWR0aCArPSBjdXJyZW50Q29sV2lkdGg7XG4gICAgICAgIGNvbHVtblNpemVzLnB1c2goe1xuICAgICAgICAgICAgd2lkdGg6IGN1cnJlbnRDb2xXaWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogY3VycmVudENvbEhlaWdodFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRvdGFsV2lkdGg7XG4gICAgfVxuICAgIGFkanVzdEhpdEJveGVzKCkge1xuICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5kaXNwbGF5KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdGl0bGVIZWlnaHQgPSB0aGlzLl9jb21wdXRlVGl0bGVIZWlnaHQoKTtcbiAgICAgICAgY29uc3QgeyBsZWdlbmRIaXRCb3hlczogaGl0Ym94ZXMgLCBvcHRpb25zOiB7IGFsaWduICwgbGFiZWxzOiB7IHBhZGRpbmcgIH0gLCBydGwgIH0gIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBydGxIZWxwZXIgPSBnZXRSdGxBZGFwdGVyKHJ0bCwgdGhpcy5sZWZ0LCB0aGlzLndpZHRoKTtcbiAgICAgICAgaWYgKHRoaXMuaXNIb3Jpem9udGFsKCkpIHtcbiAgICAgICAgICAgIGxldCByb3cgPSAwO1xuICAgICAgICAgICAgbGV0IGxlZnQgPSBfYWxpZ25TdGFydEVuZChhbGlnbiwgdGhpcy5sZWZ0ICsgcGFkZGluZywgdGhpcy5yaWdodCAtIHRoaXMubGluZVdpZHRoc1tyb3ddKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaGl0Ym94IG9mIGhpdGJveGVzKXtcbiAgICAgICAgICAgICAgICBpZiAocm93ICE9PSBoaXRib3gucm93KSB7XG4gICAgICAgICAgICAgICAgICAgIHJvdyA9IGhpdGJveC5yb3c7XG4gICAgICAgICAgICAgICAgICAgIGxlZnQgPSBfYWxpZ25TdGFydEVuZChhbGlnbiwgdGhpcy5sZWZ0ICsgcGFkZGluZywgdGhpcy5yaWdodCAtIHRoaXMubGluZVdpZHRoc1tyb3ddKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaGl0Ym94LnRvcCArPSB0aGlzLnRvcCArIHRpdGxlSGVpZ2h0ICsgcGFkZGluZztcbiAgICAgICAgICAgICAgICBoaXRib3gubGVmdCA9IHJ0bEhlbHBlci5sZWZ0Rm9yTHRyKHJ0bEhlbHBlci54KGxlZnQpLCBoaXRib3gud2lkdGgpO1xuICAgICAgICAgICAgICAgIGxlZnQgKz0gaGl0Ym94LndpZHRoICsgcGFkZGluZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBjb2wgPSAwO1xuICAgICAgICAgICAgbGV0IHRvcCA9IF9hbGlnblN0YXJ0RW5kKGFsaWduLCB0aGlzLnRvcCArIHRpdGxlSGVpZ2h0ICsgcGFkZGluZywgdGhpcy5ib3R0b20gLSB0aGlzLmNvbHVtblNpemVzW2NvbF0uaGVpZ2h0KTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaGl0Ym94IG9mIGhpdGJveGVzKXtcbiAgICAgICAgICAgICAgICBpZiAoaGl0Ym94LmNvbCAhPT0gY29sKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbCA9IGhpdGJveC5jb2w7XG4gICAgICAgICAgICAgICAgICAgIHRvcCA9IF9hbGlnblN0YXJ0RW5kKGFsaWduLCB0aGlzLnRvcCArIHRpdGxlSGVpZ2h0ICsgcGFkZGluZywgdGhpcy5ib3R0b20gLSB0aGlzLmNvbHVtblNpemVzW2NvbF0uaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaGl0Ym94LnRvcCA9IHRvcDtcbiAgICAgICAgICAgICAgICBoaXRib3gubGVmdCArPSB0aGlzLmxlZnQgKyBwYWRkaW5nO1xuICAgICAgICAgICAgICAgIGhpdGJveC5sZWZ0ID0gcnRsSGVscGVyLmxlZnRGb3JMdHIocnRsSGVscGVyLngoaGl0Ym94LmxlZnQpLCBoaXRib3gud2lkdGgpO1xuICAgICAgICAgICAgICAgIHRvcCArPSBoaXRib3guaGVpZ2h0ICsgcGFkZGluZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpc0hvcml6b250YWwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMucG9zaXRpb24gPT09ICd0b3AnIHx8IHRoaXMub3B0aW9ucy5wb3NpdGlvbiA9PT0gJ2JvdHRvbSc7XG4gICAgfVxuICAgIGRyYXcoKSB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZGlzcGxheSkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5jdHg7XG4gICAgICAgICAgICBjbGlwQXJlYShjdHgsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5fZHJhdygpO1xuICAgICAgICAgICAgdW5jbGlwQXJlYShjdHgpO1xuICAgICAgICB9XG4gICAgfVxuIF9kcmF3KCkge1xuICAgICAgICBjb25zdCB7IG9wdGlvbnM6IG9wdHMgLCBjb2x1bW5TaXplcyAsIGxpbmVXaWR0aHMgLCBjdHggIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCB7IGFsaWduICwgbGFiZWxzOiBsYWJlbE9wdHMgIH0gPSBvcHRzO1xuICAgICAgICBjb25zdCBkZWZhdWx0Q29sb3IgPSBkZWZhdWx0cy5jb2xvcjtcbiAgICAgICAgY29uc3QgcnRsSGVscGVyID0gZ2V0UnRsQWRhcHRlcihvcHRzLnJ0bCwgdGhpcy5sZWZ0LCB0aGlzLndpZHRoKTtcbiAgICAgICAgY29uc3QgbGFiZWxGb250ID0gdG9Gb250KGxhYmVsT3B0cy5mb250KTtcbiAgICAgICAgY29uc3QgeyBwYWRkaW5nICB9ID0gbGFiZWxPcHRzO1xuICAgICAgICBjb25zdCBmb250U2l6ZSA9IGxhYmVsRm9udC5zaXplO1xuICAgICAgICBjb25zdCBoYWxmRm9udFNpemUgPSBmb250U2l6ZSAvIDI7XG4gICAgICAgIGxldCBjdXJzb3I7XG4gICAgICAgIHRoaXMuZHJhd1RpdGxlKCk7XG4gICAgICAgIGN0eC50ZXh0QWxpZ24gPSBydGxIZWxwZXIudGV4dEFsaWduKCdsZWZ0Jyk7XG4gICAgICAgIGN0eC50ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJztcbiAgICAgICAgY3R4LmxpbmVXaWR0aCA9IDAuNTtcbiAgICAgICAgY3R4LmZvbnQgPSBsYWJlbEZvbnQuc3RyaW5nO1xuICAgICAgICBjb25zdCB7IGJveFdpZHRoICwgYm94SGVpZ2h0ICwgaXRlbUhlaWdodCAgfSA9IGdldEJveFNpemUobGFiZWxPcHRzLCBmb250U2l6ZSk7XG4gICAgICAgIGNvbnN0IGRyYXdMZWdlbmRCb3ggPSBmdW5jdGlvbih4LCB5LCBsZWdlbmRJdGVtKSB7XG4gICAgICAgICAgICBpZiAoaXNOYU4oYm94V2lkdGgpIHx8IGJveFdpZHRoIDw9IDAgfHwgaXNOYU4oYm94SGVpZ2h0KSB8fCBib3hIZWlnaHQgPCAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3R4LnNhdmUoKTtcbiAgICAgICAgICAgIGNvbnN0IGxpbmVXaWR0aCA9IHZhbHVlT3JEZWZhdWx0KGxlZ2VuZEl0ZW0ubGluZVdpZHRoLCAxKTtcbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSB2YWx1ZU9yRGVmYXVsdChsZWdlbmRJdGVtLmZpbGxTdHlsZSwgZGVmYXVsdENvbG9yKTtcbiAgICAgICAgICAgIGN0eC5saW5lQ2FwID0gdmFsdWVPckRlZmF1bHQobGVnZW5kSXRlbS5saW5lQ2FwLCAnYnV0dCcpO1xuICAgICAgICAgICAgY3R4LmxpbmVEYXNoT2Zmc2V0ID0gdmFsdWVPckRlZmF1bHQobGVnZW5kSXRlbS5saW5lRGFzaE9mZnNldCwgMCk7XG4gICAgICAgICAgICBjdHgubGluZUpvaW4gPSB2YWx1ZU9yRGVmYXVsdChsZWdlbmRJdGVtLmxpbmVKb2luLCAnbWl0ZXInKTtcbiAgICAgICAgICAgIGN0eC5saW5lV2lkdGggPSBsaW5lV2lkdGg7XG4gICAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSB2YWx1ZU9yRGVmYXVsdChsZWdlbmRJdGVtLnN0cm9rZVN0eWxlLCBkZWZhdWx0Q29sb3IpO1xuICAgICAgICAgICAgY3R4LnNldExpbmVEYXNoKHZhbHVlT3JEZWZhdWx0KGxlZ2VuZEl0ZW0ubGluZURhc2gsIFtdKSk7XG4gICAgICAgICAgICBpZiAobGFiZWxPcHRzLnVzZVBvaW50U3R5bGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkcmF3T3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiBib3hIZWlnaHQgKiBNYXRoLlNRUlQyIC8gMixcbiAgICAgICAgICAgICAgICAgICAgcG9pbnRTdHlsZTogbGVnZW5kSXRlbS5wb2ludFN0eWxlLFxuICAgICAgICAgICAgICAgICAgICByb3RhdGlvbjogbGVnZW5kSXRlbS5yb3RhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyV2lkdGg6IGxpbmVXaWR0aFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY29uc3QgY2VudGVyWCA9IHJ0bEhlbHBlci54UGx1cyh4LCBib3hXaWR0aCAvIDIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNlbnRlclkgPSB5ICsgaGFsZkZvbnRTaXplO1xuICAgICAgICAgICAgICAgIGRyYXdQb2ludExlZ2VuZChjdHgsIGRyYXdPcHRpb25zLCBjZW50ZXJYLCBjZW50ZXJZLCBsYWJlbE9wdHMucG9pbnRTdHlsZVdpZHRoICYmIGJveFdpZHRoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeUJveFRvcCA9IHkgKyBNYXRoLm1heCgoZm9udFNpemUgLSBib3hIZWlnaHQpIC8gMiwgMCk7XG4gICAgICAgICAgICAgICAgY29uc3QgeEJveExlZnQgPSBydGxIZWxwZXIubGVmdEZvckx0cih4LCBib3hXaWR0aCk7XG4gICAgICAgICAgICAgICAgY29uc3QgYm9yZGVyUmFkaXVzID0gdG9UUkJMQ29ybmVycyhsZWdlbmRJdGVtLmJvcmRlclJhZGl1cyk7XG4gICAgICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgICAgIGlmIChPYmplY3QudmFsdWVzKGJvcmRlclJhZGl1cykuc29tZSgodik9PnYgIT09IDApKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZFJvdW5kZWRSZWN0UGF0aChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHg6IHhCb3hMZWZ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgeTogeUJveFRvcCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHc6IGJveFdpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgaDogYm94SGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiBib3JkZXJSYWRpdXNcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4LnJlY3QoeEJveExlZnQsIHlCb3hUb3AsIGJveFdpZHRoLCBib3hIZWlnaHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjdHguZmlsbCgpO1xuICAgICAgICAgICAgICAgIGlmIChsaW5lV2lkdGggIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGZpbGxUZXh0ID0gZnVuY3Rpb24oeCwgeSwgbGVnZW5kSXRlbSkge1xuICAgICAgICAgICAgcmVuZGVyVGV4dChjdHgsIGxlZ2VuZEl0ZW0udGV4dCwgeCwgeSArIGl0ZW1IZWlnaHQgLyAyLCBsYWJlbEZvbnQsIHtcbiAgICAgICAgICAgICAgICBzdHJpa2V0aHJvdWdoOiBsZWdlbmRJdGVtLmhpZGRlbixcbiAgICAgICAgICAgICAgICB0ZXh0QWxpZ246IHJ0bEhlbHBlci50ZXh0QWxpZ24obGVnZW5kSXRlbS50ZXh0QWxpZ24pXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgaXNIb3Jpem9udGFsID0gdGhpcy5pc0hvcml6b250YWwoKTtcbiAgICAgICAgY29uc3QgdGl0bGVIZWlnaHQgPSB0aGlzLl9jb21wdXRlVGl0bGVIZWlnaHQoKTtcbiAgICAgICAgaWYgKGlzSG9yaXpvbnRhbCkge1xuICAgICAgICAgICAgY3Vyc29yID0ge1xuICAgICAgICAgICAgICAgIHg6IF9hbGlnblN0YXJ0RW5kKGFsaWduLCB0aGlzLmxlZnQgKyBwYWRkaW5nLCB0aGlzLnJpZ2h0IC0gbGluZVdpZHRoc1swXSksXG4gICAgICAgICAgICAgICAgeTogdGhpcy50b3AgKyBwYWRkaW5nICsgdGl0bGVIZWlnaHQsXG4gICAgICAgICAgICAgICAgbGluZTogMFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGN1cnNvciA9IHtcbiAgICAgICAgICAgICAgICB4OiB0aGlzLmxlZnQgKyBwYWRkaW5nLFxuICAgICAgICAgICAgICAgIHk6IF9hbGlnblN0YXJ0RW5kKGFsaWduLCB0aGlzLnRvcCArIHRpdGxlSGVpZ2h0ICsgcGFkZGluZywgdGhpcy5ib3R0b20gLSBjb2x1bW5TaXplc1swXS5oZWlnaHQpLFxuICAgICAgICAgICAgICAgIGxpbmU6IDBcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgb3ZlcnJpZGVUZXh0RGlyZWN0aW9uKHRoaXMuY3R4LCBvcHRzLnRleHREaXJlY3Rpb24pO1xuICAgICAgICBjb25zdCBsaW5lSGVpZ2h0ID0gaXRlbUhlaWdodCArIHBhZGRpbmc7XG4gICAgICAgIHRoaXMubGVnZW5kSXRlbXMuZm9yRWFjaCgobGVnZW5kSXRlbSwgaSk9PntcbiAgICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IGxlZ2VuZEl0ZW0uZm9udENvbG9yO1xuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGxlZ2VuZEl0ZW0uZm9udENvbG9yO1xuICAgICAgICAgICAgY29uc3QgdGV4dFdpZHRoID0gY3R4Lm1lYXN1cmVUZXh0KGxlZ2VuZEl0ZW0udGV4dCkud2lkdGg7XG4gICAgICAgICAgICBjb25zdCB0ZXh0QWxpZ24gPSBydGxIZWxwZXIudGV4dEFsaWduKGxlZ2VuZEl0ZW0udGV4dEFsaWduIHx8IChsZWdlbmRJdGVtLnRleHRBbGlnbiA9IGxhYmVsT3B0cy50ZXh0QWxpZ24pKTtcbiAgICAgICAgICAgIGNvbnN0IHdpZHRoID0gYm94V2lkdGggKyBoYWxmRm9udFNpemUgKyB0ZXh0V2lkdGg7XG4gICAgICAgICAgICBsZXQgeCA9IGN1cnNvci54O1xuICAgICAgICAgICAgbGV0IHkgPSBjdXJzb3IueTtcbiAgICAgICAgICAgIHJ0bEhlbHBlci5zZXRXaWR0aCh0aGlzLndpZHRoKTtcbiAgICAgICAgICAgIGlmIChpc0hvcml6b250YWwpIHtcbiAgICAgICAgICAgICAgICBpZiAoaSA+IDAgJiYgeCArIHdpZHRoICsgcGFkZGluZyA+IHRoaXMucmlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgeSA9IGN1cnNvci55ICs9IGxpbmVIZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIGN1cnNvci5saW5lKys7XG4gICAgICAgICAgICAgICAgICAgIHggPSBjdXJzb3IueCA9IF9hbGlnblN0YXJ0RW5kKGFsaWduLCB0aGlzLmxlZnQgKyBwYWRkaW5nLCB0aGlzLnJpZ2h0IC0gbGluZVdpZHRoc1tjdXJzb3IubGluZV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaSA+IDAgJiYgeSArIGxpbmVIZWlnaHQgPiB0aGlzLmJvdHRvbSkge1xuICAgICAgICAgICAgICAgIHggPSBjdXJzb3IueCA9IHggKyBjb2x1bW5TaXplc1tjdXJzb3IubGluZV0ud2lkdGggKyBwYWRkaW5nO1xuICAgICAgICAgICAgICAgIGN1cnNvci5saW5lKys7XG4gICAgICAgICAgICAgICAgeSA9IGN1cnNvci55ID0gX2FsaWduU3RhcnRFbmQoYWxpZ24sIHRoaXMudG9wICsgdGl0bGVIZWlnaHQgKyBwYWRkaW5nLCB0aGlzLmJvdHRvbSAtIGNvbHVtblNpemVzW2N1cnNvci5saW5lXS5oZWlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcmVhbFggPSBydGxIZWxwZXIueCh4KTtcbiAgICAgICAgICAgIGRyYXdMZWdlbmRCb3gocmVhbFgsIHksIGxlZ2VuZEl0ZW0pO1xuICAgICAgICAgICAgeCA9IF90ZXh0WCh0ZXh0QWxpZ24sIHggKyBib3hXaWR0aCArIGhhbGZGb250U2l6ZSwgaXNIb3Jpem9udGFsID8geCArIHdpZHRoIDogdGhpcy5yaWdodCwgb3B0cy5ydGwpO1xuICAgICAgICAgICAgZmlsbFRleHQocnRsSGVscGVyLngoeCksIHksIGxlZ2VuZEl0ZW0pO1xuICAgICAgICAgICAgaWYgKGlzSG9yaXpvbnRhbCkge1xuICAgICAgICAgICAgICAgIGN1cnNvci54ICs9IHdpZHRoICsgcGFkZGluZztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGxlZ2VuZEl0ZW0udGV4dCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmb250TGluZUhlaWdodCA9IGxhYmVsRm9udC5saW5lSGVpZ2h0O1xuICAgICAgICAgICAgICAgIGN1cnNvci55ICs9IGNhbGN1bGF0ZUxlZ2VuZEl0ZW1IZWlnaHQobGVnZW5kSXRlbSwgZm9udExpbmVIZWlnaHQpICsgcGFkZGluZztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY3Vyc29yLnkgKz0gbGluZUhlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJlc3RvcmVUZXh0RGlyZWN0aW9uKHRoaXMuY3R4LCBvcHRzLnRleHREaXJlY3Rpb24pO1xuICAgIH1cbiBkcmF3VGl0bGUoKSB7XG4gICAgICAgIGNvbnN0IG9wdHMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHRpdGxlT3B0cyA9IG9wdHMudGl0bGU7XG4gICAgICAgIGNvbnN0IHRpdGxlRm9udCA9IHRvRm9udCh0aXRsZU9wdHMuZm9udCk7XG4gICAgICAgIGNvbnN0IHRpdGxlUGFkZGluZyA9IHRvUGFkZGluZyh0aXRsZU9wdHMucGFkZGluZyk7XG4gICAgICAgIGlmICghdGl0bGVPcHRzLmRpc3BsYXkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBydGxIZWxwZXIgPSBnZXRSdGxBZGFwdGVyKG9wdHMucnRsLCB0aGlzLmxlZnQsIHRoaXMud2lkdGgpO1xuICAgICAgICBjb25zdCBjdHggPSB0aGlzLmN0eDtcbiAgICAgICAgY29uc3QgcG9zaXRpb24gPSB0aXRsZU9wdHMucG9zaXRpb247XG4gICAgICAgIGNvbnN0IGhhbGZGb250U2l6ZSA9IHRpdGxlRm9udC5zaXplIC8gMjtcbiAgICAgICAgY29uc3QgdG9wUGFkZGluZ1BsdXNIYWxmRm9udFNpemUgPSB0aXRsZVBhZGRpbmcudG9wICsgaGFsZkZvbnRTaXplO1xuICAgICAgICBsZXQgeTtcbiAgICAgICAgbGV0IGxlZnQgPSB0aGlzLmxlZnQ7XG4gICAgICAgIGxldCBtYXhXaWR0aCA9IHRoaXMud2lkdGg7XG4gICAgICAgIGlmICh0aGlzLmlzSG9yaXpvbnRhbCgpKSB7XG4gICAgICAgICAgICBtYXhXaWR0aCA9IE1hdGgubWF4KC4uLnRoaXMubGluZVdpZHRocyk7XG4gICAgICAgICAgICB5ID0gdGhpcy50b3AgKyB0b3BQYWRkaW5nUGx1c0hhbGZGb250U2l6ZTtcbiAgICAgICAgICAgIGxlZnQgPSBfYWxpZ25TdGFydEVuZChvcHRzLmFsaWduLCBsZWZ0LCB0aGlzLnJpZ2h0IC0gbWF4V2lkdGgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgbWF4SGVpZ2h0ID0gdGhpcy5jb2x1bW5TaXplcy5yZWR1Y2UoKGFjYywgc2l6ZSk9Pk1hdGgubWF4KGFjYywgc2l6ZS5oZWlnaHQpLCAwKTtcbiAgICAgICAgICAgIHkgPSB0b3BQYWRkaW5nUGx1c0hhbGZGb250U2l6ZSArIF9hbGlnblN0YXJ0RW5kKG9wdHMuYWxpZ24sIHRoaXMudG9wLCB0aGlzLmJvdHRvbSAtIG1heEhlaWdodCAtIG9wdHMubGFiZWxzLnBhZGRpbmcgLSB0aGlzLl9jb21wdXRlVGl0bGVIZWlnaHQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeCA9IF9hbGlnblN0YXJ0RW5kKHBvc2l0aW9uLCBsZWZ0LCBsZWZ0ICsgbWF4V2lkdGgpO1xuICAgICAgICBjdHgudGV4dEFsaWduID0gcnRsSGVscGVyLnRleHRBbGlnbihfdG9MZWZ0UmlnaHRDZW50ZXIocG9zaXRpb24pKTtcbiAgICAgICAgY3R4LnRleHRCYXNlbGluZSA9ICdtaWRkbGUnO1xuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSB0aXRsZU9wdHMuY29sb3I7XG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSB0aXRsZU9wdHMuY29sb3I7XG4gICAgICAgIGN0eC5mb250ID0gdGl0bGVGb250LnN0cmluZztcbiAgICAgICAgcmVuZGVyVGV4dChjdHgsIHRpdGxlT3B0cy50ZXh0LCB4LCB5LCB0aXRsZUZvbnQpO1xuICAgIH1cbiBfY29tcHV0ZVRpdGxlSGVpZ2h0KCkge1xuICAgICAgICBjb25zdCB0aXRsZU9wdHMgPSB0aGlzLm9wdGlvbnMudGl0bGU7XG4gICAgICAgIGNvbnN0IHRpdGxlRm9udCA9IHRvRm9udCh0aXRsZU9wdHMuZm9udCk7XG4gICAgICAgIGNvbnN0IHRpdGxlUGFkZGluZyA9IHRvUGFkZGluZyh0aXRsZU9wdHMucGFkZGluZyk7XG4gICAgICAgIHJldHVybiB0aXRsZU9wdHMuZGlzcGxheSA/IHRpdGxlRm9udC5saW5lSGVpZ2h0ICsgdGl0bGVQYWRkaW5nLmhlaWdodCA6IDA7XG4gICAgfVxuIF9nZXRMZWdlbmRJdGVtQXQoeCwgeSkge1xuICAgICAgICBsZXQgaSwgaGl0Qm94LCBsaDtcbiAgICAgICAgaWYgKF9pc0JldHdlZW4oeCwgdGhpcy5sZWZ0LCB0aGlzLnJpZ2h0KSAmJiBfaXNCZXR3ZWVuKHksIHRoaXMudG9wLCB0aGlzLmJvdHRvbSkpIHtcbiAgICAgICAgICAgIGxoID0gdGhpcy5sZWdlbmRIaXRCb3hlcztcbiAgICAgICAgICAgIGZvcihpID0gMDsgaSA8IGxoLmxlbmd0aDsgKytpKXtcbiAgICAgICAgICAgICAgICBoaXRCb3ggPSBsaFtpXTtcbiAgICAgICAgICAgICAgICBpZiAoX2lzQmV0d2Vlbih4LCBoaXRCb3gubGVmdCwgaGl0Qm94LmxlZnQgKyBoaXRCb3gud2lkdGgpICYmIF9pc0JldHdlZW4oeSwgaGl0Qm94LnRvcCwgaGl0Qm94LnRvcCArIGhpdEJveC5oZWlnaHQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxlZ2VuZEl0ZW1zW2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gaGFuZGxlRXZlbnQoZSkge1xuICAgICAgICBjb25zdCBvcHRzID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBpZiAoIWlzTGlzdGVuZWQoZS50eXBlLCBvcHRzKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGhvdmVyZWRJdGVtID0gdGhpcy5fZ2V0TGVnZW5kSXRlbUF0KGUueCwgZS55KTtcbiAgICAgICAgaWYgKGUudHlwZSA9PT0gJ21vdXNlbW92ZScgfHwgZS50eXBlID09PSAnbW91c2VvdXQnKSB7XG4gICAgICAgICAgICBjb25zdCBwcmV2aW91cyA9IHRoaXMuX2hvdmVyZWRJdGVtO1xuICAgICAgICAgICAgY29uc3Qgc2FtZUl0ZW0gPSBpdGVtc0VxdWFsKHByZXZpb3VzLCBob3ZlcmVkSXRlbSk7XG4gICAgICAgICAgICBpZiAocHJldmlvdXMgJiYgIXNhbWVJdGVtKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sob3B0cy5vbkxlYXZlLCBbXG4gICAgICAgICAgICAgICAgICAgIGUsXG4gICAgICAgICAgICAgICAgICAgIHByZXZpb3VzLFxuICAgICAgICAgICAgICAgICAgICB0aGlzXG4gICAgICAgICAgICAgICAgXSwgdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9ob3ZlcmVkSXRlbSA9IGhvdmVyZWRJdGVtO1xuICAgICAgICAgICAgaWYgKGhvdmVyZWRJdGVtICYmICFzYW1lSXRlbSkge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKG9wdHMub25Ib3ZlciwgW1xuICAgICAgICAgICAgICAgICAgICBlLFxuICAgICAgICAgICAgICAgICAgICBob3ZlcmVkSXRlbSxcbiAgICAgICAgICAgICAgICAgICAgdGhpc1xuICAgICAgICAgICAgICAgIF0sIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGhvdmVyZWRJdGVtKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhvcHRzLm9uQ2xpY2ssIFtcbiAgICAgICAgICAgICAgICBlLFxuICAgICAgICAgICAgICAgIGhvdmVyZWRJdGVtLFxuICAgICAgICAgICAgICAgIHRoaXNcbiAgICAgICAgICAgIF0sIHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gY2FsY3VsYXRlSXRlbVNpemUoYm94V2lkdGgsIGxhYmVsRm9udCwgY3R4LCBsZWdlbmRJdGVtLCBfaXRlbUhlaWdodCkge1xuICAgIGNvbnN0IGl0ZW1XaWR0aCA9IGNhbGN1bGF0ZUl0ZW1XaWR0aChsZWdlbmRJdGVtLCBib3hXaWR0aCwgbGFiZWxGb250LCBjdHgpO1xuICAgIGNvbnN0IGl0ZW1IZWlnaHQgPSBjYWxjdWxhdGVJdGVtSGVpZ2h0KF9pdGVtSGVpZ2h0LCBsZWdlbmRJdGVtLCBsYWJlbEZvbnQubGluZUhlaWdodCk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaXRlbVdpZHRoLFxuICAgICAgICBpdGVtSGVpZ2h0XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGNhbGN1bGF0ZUl0ZW1XaWR0aChsZWdlbmRJdGVtLCBib3hXaWR0aCwgbGFiZWxGb250LCBjdHgpIHtcbiAgICBsZXQgbGVnZW5kSXRlbVRleHQgPSBsZWdlbmRJdGVtLnRleHQ7XG4gICAgaWYgKGxlZ2VuZEl0ZW1UZXh0ICYmIHR5cGVvZiBsZWdlbmRJdGVtVGV4dCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgbGVnZW5kSXRlbVRleHQgPSBsZWdlbmRJdGVtVGV4dC5yZWR1Y2UoKGEsIGIpPT5hLmxlbmd0aCA+IGIubGVuZ3RoID8gYSA6IGIpO1xuICAgIH1cbiAgICByZXR1cm4gYm94V2lkdGggKyBsYWJlbEZvbnQuc2l6ZSAvIDIgKyBjdHgubWVhc3VyZVRleHQobGVnZW5kSXRlbVRleHQpLndpZHRoO1xufVxuZnVuY3Rpb24gY2FsY3VsYXRlSXRlbUhlaWdodChfaXRlbUhlaWdodCwgbGVnZW5kSXRlbSwgZm9udExpbmVIZWlnaHQpIHtcbiAgICBsZXQgaXRlbUhlaWdodCA9IF9pdGVtSGVpZ2h0O1xuICAgIGlmICh0eXBlb2YgbGVnZW5kSXRlbS50ZXh0ICE9PSAnc3RyaW5nJykge1xuICAgICAgICBpdGVtSGVpZ2h0ID0gY2FsY3VsYXRlTGVnZW5kSXRlbUhlaWdodChsZWdlbmRJdGVtLCBmb250TGluZUhlaWdodCk7XG4gICAgfVxuICAgIHJldHVybiBpdGVtSGVpZ2h0O1xufVxuZnVuY3Rpb24gY2FsY3VsYXRlTGVnZW5kSXRlbUhlaWdodChsZWdlbmRJdGVtLCBmb250TGluZUhlaWdodCkge1xuICAgIGNvbnN0IGxhYmVsSGVpZ2h0ID0gbGVnZW5kSXRlbS50ZXh0ID8gbGVnZW5kSXRlbS50ZXh0Lmxlbmd0aCA6IDA7XG4gICAgcmV0dXJuIGZvbnRMaW5lSGVpZ2h0ICogbGFiZWxIZWlnaHQ7XG59XG5mdW5jdGlvbiBpc0xpc3RlbmVkKHR5cGUsIG9wdHMpIHtcbiAgICBpZiAoKHR5cGUgPT09ICdtb3VzZW1vdmUnIHx8IHR5cGUgPT09ICdtb3VzZW91dCcpICYmIChvcHRzLm9uSG92ZXIgfHwgb3B0cy5vbkxlYXZlKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKG9wdHMub25DbGljayAmJiAodHlwZSA9PT0gJ2NsaWNrJyB8fCB0eXBlID09PSAnbW91c2V1cCcpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG52YXIgcGx1Z2luX2xlZ2VuZCA9IHtcbiAgICBpZDogJ2xlZ2VuZCcsXG4gX2VsZW1lbnQ6IExlZ2VuZCxcbiAgICBzdGFydCAoY2hhcnQsIF9hcmdzLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGxlZ2VuZCA9IGNoYXJ0LmxlZ2VuZCA9IG5ldyBMZWdlbmQoe1xuICAgICAgICAgICAgY3R4OiBjaGFydC5jdHgsXG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgY2hhcnRcbiAgICAgICAgfSk7XG4gICAgICAgIGxheW91dHMuY29uZmlndXJlKGNoYXJ0LCBsZWdlbmQsIG9wdGlvbnMpO1xuICAgICAgICBsYXlvdXRzLmFkZEJveChjaGFydCwgbGVnZW5kKTtcbiAgICB9LFxuICAgIHN0b3AgKGNoYXJ0KSB7XG4gICAgICAgIGxheW91dHMucmVtb3ZlQm94KGNoYXJ0LCBjaGFydC5sZWdlbmQpO1xuICAgICAgICBkZWxldGUgY2hhcnQubGVnZW5kO1xuICAgIH0sXG4gICAgYmVmb3JlVXBkYXRlIChjaGFydCwgX2FyZ3MsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgbGVnZW5kID0gY2hhcnQubGVnZW5kO1xuICAgICAgICBsYXlvdXRzLmNvbmZpZ3VyZShjaGFydCwgbGVnZW5kLCBvcHRpb25zKTtcbiAgICAgICAgbGVnZW5kLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIH0sXG4gICAgYWZ0ZXJVcGRhdGUgKGNoYXJ0KSB7XG4gICAgICAgIGNvbnN0IGxlZ2VuZCA9IGNoYXJ0LmxlZ2VuZDtcbiAgICAgICAgbGVnZW5kLmJ1aWxkTGFiZWxzKCk7XG4gICAgICAgIGxlZ2VuZC5hZGp1c3RIaXRCb3hlcygpO1xuICAgIH0sXG4gICAgYWZ0ZXJFdmVudCAoY2hhcnQsIGFyZ3MpIHtcbiAgICAgICAgaWYgKCFhcmdzLnJlcGxheSkge1xuICAgICAgICAgICAgY2hhcnQubGVnZW5kLmhhbmRsZUV2ZW50KGFyZ3MuZXZlbnQpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBkZWZhdWx0czoge1xuICAgICAgICBkaXNwbGF5OiB0cnVlLFxuICAgICAgICBwb3NpdGlvbjogJ3RvcCcsXG4gICAgICAgIGFsaWduOiAnY2VudGVyJyxcbiAgICAgICAgZnVsbFNpemU6IHRydWUsXG4gICAgICAgIHJldmVyc2U6IGZhbHNlLFxuICAgICAgICB3ZWlnaHQ6IDEwMDAsXG4gICAgICAgIG9uQ2xpY2sgKGUsIGxlZ2VuZEl0ZW0sIGxlZ2VuZCkge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBsZWdlbmRJdGVtLmRhdGFzZXRJbmRleDtcbiAgICAgICAgICAgIGNvbnN0IGNpID0gbGVnZW5kLmNoYXJ0O1xuICAgICAgICAgICAgaWYgKGNpLmlzRGF0YXNldFZpc2libGUoaW5kZXgpKSB7XG4gICAgICAgICAgICAgICAgY2kuaGlkZShpbmRleCk7XG4gICAgICAgICAgICAgICAgbGVnZW5kSXRlbS5oaWRkZW4gPSB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjaS5zaG93KGluZGV4KTtcbiAgICAgICAgICAgICAgICBsZWdlbmRJdGVtLmhpZGRlbiA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvbkhvdmVyOiBudWxsLFxuICAgICAgICBvbkxlYXZlOiBudWxsLFxuICAgICAgICBsYWJlbHM6IHtcbiAgICAgICAgICAgIGNvbG9yOiAoY3R4KT0+Y3R4LmNoYXJ0Lm9wdGlvbnMuY29sb3IsXG4gICAgICAgICAgICBib3hXaWR0aDogNDAsXG4gICAgICAgICAgICBwYWRkaW5nOiAxMCxcbiAgICAgICAgICAgIGdlbmVyYXRlTGFiZWxzIChjaGFydCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGFzZXRzID0gY2hhcnQuZGF0YS5kYXRhc2V0cztcbiAgICAgICAgICAgICAgICBjb25zdCB7IGxhYmVsczogeyB1c2VQb2ludFN0eWxlICwgcG9pbnRTdHlsZSAsIHRleHRBbGlnbiAsIGNvbG9yICwgdXNlQm9yZGVyUmFkaXVzICwgYm9yZGVyUmFkaXVzICB9ICB9ID0gY2hhcnQubGVnZW5kLm9wdGlvbnM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoYXJ0Ll9nZXRTb3J0ZWREYXRhc2V0TWV0YXMoKS5tYXAoKG1ldGEpPT57XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0eWxlID0gbWV0YS5jb250cm9sbGVyLmdldFN0eWxlKHVzZVBvaW50U3R5bGUgPyAwIDogdW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYm9yZGVyV2lkdGggPSB0b1BhZGRpbmcoc3R5bGUuYm9yZGVyV2lkdGgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogZGF0YXNldHNbbWV0YS5pbmRleF0ubGFiZWwsXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxsU3R5bGU6IHN0eWxlLmJhY2tncm91bmRDb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRDb2xvcjogY29sb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICBoaWRkZW46ICFtZXRhLnZpc2libGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lQ2FwOiBzdHlsZS5ib3JkZXJDYXBTdHlsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVEYXNoOiBzdHlsZS5ib3JkZXJEYXNoLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZURhc2hPZmZzZXQ6IHN0eWxlLmJvcmRlckRhc2hPZmZzZXQsXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lSm9pbjogc3R5bGUuYm9yZGVySm9pblN0eWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZVdpZHRoOiAoYm9yZGVyV2lkdGgud2lkdGggKyBib3JkZXJXaWR0aC5oZWlnaHQpIC8gNCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZVN0eWxlOiBzdHlsZS5ib3JkZXJDb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50U3R5bGU6IHBvaW50U3R5bGUgfHwgc3R5bGUucG9pbnRTdHlsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uOiBzdHlsZS5yb3RhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHRBbGlnbjogdGV4dEFsaWduIHx8IHN0eWxlLnRleHRBbGlnbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogdXNlQm9yZGVyUmFkaXVzICYmIChib3JkZXJSYWRpdXMgfHwgc3R5bGUuYm9yZGVyUmFkaXVzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFzZXRJbmRleDogbWV0YS5pbmRleFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB0aXRsZToge1xuICAgICAgICAgICAgY29sb3I6IChjdHgpPT5jdHguY2hhcnQub3B0aW9ucy5jb2xvcixcbiAgICAgICAgICAgIGRpc3BsYXk6IGZhbHNlLFxuICAgICAgICAgICAgcG9zaXRpb246ICdjZW50ZXInLFxuICAgICAgICAgICAgdGV4dDogJydcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZGVzY3JpcHRvcnM6IHtcbiAgICAgICAgX3NjcmlwdGFibGU6IChuYW1lKT0+IW5hbWUuc3RhcnRzV2l0aCgnb24nKSxcbiAgICAgICAgbGFiZWxzOiB7XG4gICAgICAgICAgICBfc2NyaXB0YWJsZTogKG5hbWUpPT4hW1xuICAgICAgICAgICAgICAgICAgICAnZ2VuZXJhdGVMYWJlbHMnLFxuICAgICAgICAgICAgICAgICAgICAnZmlsdGVyJyxcbiAgICAgICAgICAgICAgICAgICAgJ3NvcnQnXG4gICAgICAgICAgICAgICAgXS5pbmNsdWRlcyhuYW1lKVxuICAgICAgICB9XG4gICAgfVxufTtcblxuY2xhc3MgVGl0bGUgZXh0ZW5kcyBFbGVtZW50IHtcbiBjb25zdHJ1Y3Rvcihjb25maWcpe1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmNoYXJ0ID0gY29uZmlnLmNoYXJ0O1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBjb25maWcub3B0aW9ucztcbiAgICAgICAgdGhpcy5jdHggPSBjb25maWcuY3R4O1xuICAgICAgICB0aGlzLl9wYWRkaW5nID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnRvcCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5ib3R0b20gPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMubGVmdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5yaWdodCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy53aWR0aCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMucG9zaXRpb24gPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMud2VpZ2h0ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmZ1bGxTaXplID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICB1cGRhdGUobWF4V2lkdGgsIG1heEhlaWdodCkge1xuICAgICAgICBjb25zdCBvcHRzID0gdGhpcy5vcHRpb25zO1xuICAgICAgICB0aGlzLmxlZnQgPSAwO1xuICAgICAgICB0aGlzLnRvcCA9IDA7XG4gICAgICAgIGlmICghb3B0cy5kaXNwbGF5KSB7XG4gICAgICAgICAgICB0aGlzLndpZHRoID0gdGhpcy5oZWlnaHQgPSB0aGlzLnJpZ2h0ID0gdGhpcy5ib3R0b20gPSAwO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMud2lkdGggPSB0aGlzLnJpZ2h0ID0gbWF4V2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5ib3R0b20gPSBtYXhIZWlnaHQ7XG4gICAgICAgIGNvbnN0IGxpbmVDb3VudCA9IGlzQXJyYXkob3B0cy50ZXh0KSA/IG9wdHMudGV4dC5sZW5ndGggOiAxO1xuICAgICAgICB0aGlzLl9wYWRkaW5nID0gdG9QYWRkaW5nKG9wdHMucGFkZGluZyk7XG4gICAgICAgIGNvbnN0IHRleHRTaXplID0gbGluZUNvdW50ICogdG9Gb250KG9wdHMuZm9udCkubGluZUhlaWdodCArIHRoaXMuX3BhZGRpbmcuaGVpZ2h0O1xuICAgICAgICBpZiAodGhpcy5pc0hvcml6b250YWwoKSkge1xuICAgICAgICAgICAgdGhpcy5oZWlnaHQgPSB0ZXh0U2l6ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMud2lkdGggPSB0ZXh0U2l6ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpc0hvcml6b250YWwoKSB7XG4gICAgICAgIGNvbnN0IHBvcyA9IHRoaXMub3B0aW9ucy5wb3NpdGlvbjtcbiAgICAgICAgcmV0dXJuIHBvcyA9PT0gJ3RvcCcgfHwgcG9zID09PSAnYm90dG9tJztcbiAgICB9XG4gICAgX2RyYXdBcmdzKG9mZnNldCkge1xuICAgICAgICBjb25zdCB7IHRvcCAsIGxlZnQgLCBib3R0b20gLCByaWdodCAsIG9wdGlvbnMgIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCBhbGlnbiA9IG9wdGlvbnMuYWxpZ247XG4gICAgICAgIGxldCByb3RhdGlvbiA9IDA7XG4gICAgICAgIGxldCBtYXhXaWR0aCwgdGl0bGVYLCB0aXRsZVk7XG4gICAgICAgIGlmICh0aGlzLmlzSG9yaXpvbnRhbCgpKSB7XG4gICAgICAgICAgICB0aXRsZVggPSBfYWxpZ25TdGFydEVuZChhbGlnbiwgbGVmdCwgcmlnaHQpO1xuICAgICAgICAgICAgdGl0bGVZID0gdG9wICsgb2Zmc2V0O1xuICAgICAgICAgICAgbWF4V2lkdGggPSByaWdodCAtIGxlZnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5wb3NpdGlvbiA9PT0gJ2xlZnQnKSB7XG4gICAgICAgICAgICAgICAgdGl0bGVYID0gbGVmdCArIG9mZnNldDtcbiAgICAgICAgICAgICAgICB0aXRsZVkgPSBfYWxpZ25TdGFydEVuZChhbGlnbiwgYm90dG9tLCB0b3ApO1xuICAgICAgICAgICAgICAgIHJvdGF0aW9uID0gUEkgKiAtMC41O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aXRsZVggPSByaWdodCAtIG9mZnNldDtcbiAgICAgICAgICAgICAgICB0aXRsZVkgPSBfYWxpZ25TdGFydEVuZChhbGlnbiwgdG9wLCBib3R0b20pO1xuICAgICAgICAgICAgICAgIHJvdGF0aW9uID0gUEkgKiAwLjU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtYXhXaWR0aCA9IGJvdHRvbSAtIHRvcDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdGl0bGVYLFxuICAgICAgICAgICAgdGl0bGVZLFxuICAgICAgICAgICAgbWF4V2lkdGgsXG4gICAgICAgICAgICByb3RhdGlvblxuICAgICAgICB9O1xuICAgIH1cbiAgICBkcmF3KCkge1xuICAgICAgICBjb25zdCBjdHggPSB0aGlzLmN0eDtcbiAgICAgICAgY29uc3Qgb3B0cyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgaWYgKCFvcHRzLmRpc3BsYXkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBmb250T3B0cyA9IHRvRm9udChvcHRzLmZvbnQpO1xuICAgICAgICBjb25zdCBsaW5lSGVpZ2h0ID0gZm9udE9wdHMubGluZUhlaWdodDtcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gbGluZUhlaWdodCAvIDIgKyB0aGlzLl9wYWRkaW5nLnRvcDtcbiAgICAgICAgY29uc3QgeyB0aXRsZVggLCB0aXRsZVkgLCBtYXhXaWR0aCAsIHJvdGF0aW9uICB9ID0gdGhpcy5fZHJhd0FyZ3Mob2Zmc2V0KTtcbiAgICAgICAgcmVuZGVyVGV4dChjdHgsIG9wdHMudGV4dCwgMCwgMCwgZm9udE9wdHMsIHtcbiAgICAgICAgICAgIGNvbG9yOiBvcHRzLmNvbG9yLFxuICAgICAgICAgICAgbWF4V2lkdGgsXG4gICAgICAgICAgICByb3RhdGlvbixcbiAgICAgICAgICAgIHRleHRBbGlnbjogX3RvTGVmdFJpZ2h0Q2VudGVyKG9wdHMuYWxpZ24pLFxuICAgICAgICAgICAgdGV4dEJhc2VsaW5lOiAnbWlkZGxlJyxcbiAgICAgICAgICAgIHRyYW5zbGF0aW9uOiBbXG4gICAgICAgICAgICAgICAgdGl0bGVYLFxuICAgICAgICAgICAgICAgIHRpdGxlWVxuICAgICAgICAgICAgXVxuICAgICAgICB9KTtcbiAgICB9XG59XG5mdW5jdGlvbiBjcmVhdGVUaXRsZShjaGFydCwgdGl0bGVPcHRzKSB7XG4gICAgY29uc3QgdGl0bGUgPSBuZXcgVGl0bGUoe1xuICAgICAgICBjdHg6IGNoYXJ0LmN0eCxcbiAgICAgICAgb3B0aW9uczogdGl0bGVPcHRzLFxuICAgICAgICBjaGFydFxuICAgIH0pO1xuICAgIGxheW91dHMuY29uZmlndXJlKGNoYXJ0LCB0aXRsZSwgdGl0bGVPcHRzKTtcbiAgICBsYXlvdXRzLmFkZEJveChjaGFydCwgdGl0bGUpO1xuICAgIGNoYXJ0LnRpdGxlQmxvY2sgPSB0aXRsZTtcbn1cbnZhciBwbHVnaW5fdGl0bGUgPSB7XG4gICAgaWQ6ICd0aXRsZScsXG4gX2VsZW1lbnQ6IFRpdGxlLFxuICAgIHN0YXJ0IChjaGFydCwgX2FyZ3MsIG9wdGlvbnMpIHtcbiAgICAgICAgY3JlYXRlVGl0bGUoY2hhcnQsIG9wdGlvbnMpO1xuICAgIH0sXG4gICAgc3RvcCAoY2hhcnQpIHtcbiAgICAgICAgY29uc3QgdGl0bGVCbG9jayA9IGNoYXJ0LnRpdGxlQmxvY2s7XG4gICAgICAgIGxheW91dHMucmVtb3ZlQm94KGNoYXJ0LCB0aXRsZUJsb2NrKTtcbiAgICAgICAgZGVsZXRlIGNoYXJ0LnRpdGxlQmxvY2s7XG4gICAgfSxcbiAgICBiZWZvcmVVcGRhdGUgKGNoYXJ0LCBfYXJncywgb3B0aW9ucykge1xuICAgICAgICBjb25zdCB0aXRsZSA9IGNoYXJ0LnRpdGxlQmxvY2s7XG4gICAgICAgIGxheW91dHMuY29uZmlndXJlKGNoYXJ0LCB0aXRsZSwgb3B0aW9ucyk7XG4gICAgICAgIHRpdGxlLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIH0sXG4gICAgZGVmYXVsdHM6IHtcbiAgICAgICAgYWxpZ246ICdjZW50ZXInLFxuICAgICAgICBkaXNwbGF5OiBmYWxzZSxcbiAgICAgICAgZm9udDoge1xuICAgICAgICAgICAgd2VpZ2h0OiAnYm9sZCdcbiAgICAgICAgfSxcbiAgICAgICAgZnVsbFNpemU6IHRydWUsXG4gICAgICAgIHBhZGRpbmc6IDEwLFxuICAgICAgICBwb3NpdGlvbjogJ3RvcCcsXG4gICAgICAgIHRleHQ6ICcnLFxuICAgICAgICB3ZWlnaHQ6IDIwMDBcbiAgICB9LFxuICAgIGRlZmF1bHRSb3V0ZXM6IHtcbiAgICAgICAgY29sb3I6ICdjb2xvcidcbiAgICB9LFxuICAgIGRlc2NyaXB0b3JzOiB7XG4gICAgICAgIF9zY3JpcHRhYmxlOiB0cnVlLFxuICAgICAgICBfaW5kZXhhYmxlOiBmYWxzZVxuICAgIH1cbn07XG5cbmNvbnN0IG1hcCA9IG5ldyBXZWFrTWFwKCk7XG52YXIgcGx1Z2luX3N1YnRpdGxlID0ge1xuICAgIGlkOiAnc3VidGl0bGUnLFxuICAgIHN0YXJ0IChjaGFydCwgX2FyZ3MsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgdGl0bGUgPSBuZXcgVGl0bGUoe1xuICAgICAgICAgICAgY3R4OiBjaGFydC5jdHgsXG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgY2hhcnRcbiAgICAgICAgfSk7XG4gICAgICAgIGxheW91dHMuY29uZmlndXJlKGNoYXJ0LCB0aXRsZSwgb3B0aW9ucyk7XG4gICAgICAgIGxheW91dHMuYWRkQm94KGNoYXJ0LCB0aXRsZSk7XG4gICAgICAgIG1hcC5zZXQoY2hhcnQsIHRpdGxlKTtcbiAgICB9LFxuICAgIHN0b3AgKGNoYXJ0KSB7XG4gICAgICAgIGxheW91dHMucmVtb3ZlQm94KGNoYXJ0LCBtYXAuZ2V0KGNoYXJ0KSk7XG4gICAgICAgIG1hcC5kZWxldGUoY2hhcnQpO1xuICAgIH0sXG4gICAgYmVmb3JlVXBkYXRlIChjaGFydCwgX2FyZ3MsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgdGl0bGUgPSBtYXAuZ2V0KGNoYXJ0KTtcbiAgICAgICAgbGF5b3V0cy5jb25maWd1cmUoY2hhcnQsIHRpdGxlLCBvcHRpb25zKTtcbiAgICAgICAgdGl0bGUub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgfSxcbiAgICBkZWZhdWx0czoge1xuICAgICAgICBhbGlnbjogJ2NlbnRlcicsXG4gICAgICAgIGRpc3BsYXk6IGZhbHNlLFxuICAgICAgICBmb250OiB7XG4gICAgICAgICAgICB3ZWlnaHQ6ICdub3JtYWwnXG4gICAgICAgIH0sXG4gICAgICAgIGZ1bGxTaXplOiB0cnVlLFxuICAgICAgICBwYWRkaW5nOiAwLFxuICAgICAgICBwb3NpdGlvbjogJ3RvcCcsXG4gICAgICAgIHRleHQ6ICcnLFxuICAgICAgICB3ZWlnaHQ6IDE1MDBcbiAgICB9LFxuICAgIGRlZmF1bHRSb3V0ZXM6IHtcbiAgICAgICAgY29sb3I6ICdjb2xvcidcbiAgICB9LFxuICAgIGRlc2NyaXB0b3JzOiB7XG4gICAgICAgIF9zY3JpcHRhYmxlOiB0cnVlLFxuICAgICAgICBfaW5kZXhhYmxlOiBmYWxzZVxuICAgIH1cbn07XG5cbmNvbnN0IHBvc2l0aW9uZXJzID0ge1xuIGF2ZXJhZ2UgKGl0ZW1zKSB7XG4gICAgICAgIGlmICghaXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGksIGxlbjtcbiAgICAgICAgbGV0IHhTZXQgPSBuZXcgU2V0KCk7XG4gICAgICAgIGxldCB5ID0gMDtcbiAgICAgICAgbGV0IGNvdW50ID0gMDtcbiAgICAgICAgZm9yKGkgPSAwLCBsZW4gPSBpdGVtcy5sZW5ndGg7IGkgPCBsZW47ICsraSl7XG4gICAgICAgICAgICBjb25zdCBlbCA9IGl0ZW1zW2ldLmVsZW1lbnQ7XG4gICAgICAgICAgICBpZiAoZWwgJiYgZWwuaGFzVmFsdWUoKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBvcyA9IGVsLnRvb2x0aXBQb3NpdGlvbigpO1xuICAgICAgICAgICAgICAgIHhTZXQuYWRkKHBvcy54KTtcbiAgICAgICAgICAgICAgICB5ICs9IHBvcy55O1xuICAgICAgICAgICAgICAgICsrY291bnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeEF2ZXJhZ2UgPSBbXG4gICAgICAgICAgICAuLi54U2V0XG4gICAgICAgIF0ucmVkdWNlKChhLCBiKT0+YSArIGIpIC8geFNldC5zaXplO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogeEF2ZXJhZ2UsXG4gICAgICAgICAgICB5OiB5IC8gY291bnRcbiAgICAgICAgfTtcbiAgICB9LFxuIG5lYXJlc3QgKGl0ZW1zLCBldmVudFBvc2l0aW9uKSB7XG4gICAgICAgIGlmICghaXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHggPSBldmVudFBvc2l0aW9uLng7XG4gICAgICAgIGxldCB5ID0gZXZlbnRQb3NpdGlvbi55O1xuICAgICAgICBsZXQgbWluRGlzdGFuY2UgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgICAgIGxldCBpLCBsZW4sIG5lYXJlc3RFbGVtZW50O1xuICAgICAgICBmb3IoaSA9IDAsIGxlbiA9IGl0ZW1zLmxlbmd0aDsgaSA8IGxlbjsgKytpKXtcbiAgICAgICAgICAgIGNvbnN0IGVsID0gaXRlbXNbaV0uZWxlbWVudDtcbiAgICAgICAgICAgIGlmIChlbCAmJiBlbC5oYXNWYWx1ZSgpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2VudGVyID0gZWwuZ2V0Q2VudGVyUG9pbnQoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBkID0gZGlzdGFuY2VCZXR3ZWVuUG9pbnRzKGV2ZW50UG9zaXRpb24sIGNlbnRlcik7XG4gICAgICAgICAgICAgICAgaWYgKGQgPCBtaW5EaXN0YW5jZSkge1xuICAgICAgICAgICAgICAgICAgICBtaW5EaXN0YW5jZSA9IGQ7XG4gICAgICAgICAgICAgICAgICAgIG5lYXJlc3RFbGVtZW50ID0gZWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChuZWFyZXN0RWxlbWVudCkge1xuICAgICAgICAgICAgY29uc3QgdHAgPSBuZWFyZXN0RWxlbWVudC50b29sdGlwUG9zaXRpb24oKTtcbiAgICAgICAgICAgIHggPSB0cC54O1xuICAgICAgICAgICAgeSA9IHRwLnk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHgsXG4gICAgICAgICAgICB5XG4gICAgICAgIH07XG4gICAgfVxufTtcbmZ1bmN0aW9uIHB1c2hPckNvbmNhdChiYXNlLCB0b1B1c2gpIHtcbiAgICBpZiAodG9QdXNoKSB7XG4gICAgICAgIGlmIChpc0FycmF5KHRvUHVzaCkpIHtcbiAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGJhc2UsIHRvUHVzaCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBiYXNlLnB1c2godG9QdXNoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYmFzZTtcbn1cbiBmdW5jdGlvbiBzcGxpdE5ld2xpbmVzKHN0cikge1xuICAgIGlmICgodHlwZW9mIHN0ciA9PT0gJ3N0cmluZycgfHwgc3RyIGluc3RhbmNlb2YgU3RyaW5nKSAmJiBzdHIuaW5kZXhPZignXFxuJykgPiAtMSkge1xuICAgICAgICByZXR1cm4gc3RyLnNwbGl0KCdcXG4nKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0cjtcbn1cbiBmdW5jdGlvbiBjcmVhdGVUb29sdGlwSXRlbShjaGFydCwgaXRlbSkge1xuICAgIGNvbnN0IHsgZWxlbWVudCAsIGRhdGFzZXRJbmRleCAsIGluZGV4ICB9ID0gaXRlbTtcbiAgICBjb25zdCBjb250cm9sbGVyID0gY2hhcnQuZ2V0RGF0YXNldE1ldGEoZGF0YXNldEluZGV4KS5jb250cm9sbGVyO1xuICAgIGNvbnN0IHsgbGFiZWwgLCB2YWx1ZSAgfSA9IGNvbnRyb2xsZXIuZ2V0TGFiZWxBbmRWYWx1ZShpbmRleCk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY2hhcnQsXG4gICAgICAgIGxhYmVsLFxuICAgICAgICBwYXJzZWQ6IGNvbnRyb2xsZXIuZ2V0UGFyc2VkKGluZGV4KSxcbiAgICAgICAgcmF3OiBjaGFydC5kYXRhLmRhdGFzZXRzW2RhdGFzZXRJbmRleF0uZGF0YVtpbmRleF0sXG4gICAgICAgIGZvcm1hdHRlZFZhbHVlOiB2YWx1ZSxcbiAgICAgICAgZGF0YXNldDogY29udHJvbGxlci5nZXREYXRhc2V0KCksXG4gICAgICAgIGRhdGFJbmRleDogaW5kZXgsXG4gICAgICAgIGRhdGFzZXRJbmRleCxcbiAgICAgICAgZWxlbWVudFxuICAgIH07XG59XG4gZnVuY3Rpb24gZ2V0VG9vbHRpcFNpemUodG9vbHRpcCwgb3B0aW9ucykge1xuICAgIGNvbnN0IGN0eCA9IHRvb2x0aXAuY2hhcnQuY3R4O1xuICAgIGNvbnN0IHsgYm9keSAsIGZvb3RlciAsIHRpdGxlICB9ID0gdG9vbHRpcDtcbiAgICBjb25zdCB7IGJveFdpZHRoICwgYm94SGVpZ2h0ICB9ID0gb3B0aW9ucztcbiAgICBjb25zdCBib2R5Rm9udCA9IHRvRm9udChvcHRpb25zLmJvZHlGb250KTtcbiAgICBjb25zdCB0aXRsZUZvbnQgPSB0b0ZvbnQob3B0aW9ucy50aXRsZUZvbnQpO1xuICAgIGNvbnN0IGZvb3RlckZvbnQgPSB0b0ZvbnQob3B0aW9ucy5mb290ZXJGb250KTtcbiAgICBjb25zdCB0aXRsZUxpbmVDb3VudCA9IHRpdGxlLmxlbmd0aDtcbiAgICBjb25zdCBmb290ZXJMaW5lQ291bnQgPSBmb290ZXIubGVuZ3RoO1xuICAgIGNvbnN0IGJvZHlMaW5lSXRlbUNvdW50ID0gYm9keS5sZW5ndGg7XG4gICAgY29uc3QgcGFkZGluZyA9IHRvUGFkZGluZyhvcHRpb25zLnBhZGRpbmcpO1xuICAgIGxldCBoZWlnaHQgPSBwYWRkaW5nLmhlaWdodDtcbiAgICBsZXQgd2lkdGggPSAwO1xuICAgIGxldCBjb21iaW5lZEJvZHlMZW5ndGggPSBib2R5LnJlZHVjZSgoY291bnQsIGJvZHlJdGVtKT0+Y291bnQgKyBib2R5SXRlbS5iZWZvcmUubGVuZ3RoICsgYm9keUl0ZW0ubGluZXMubGVuZ3RoICsgYm9keUl0ZW0uYWZ0ZXIubGVuZ3RoLCAwKTtcbiAgICBjb21iaW5lZEJvZHlMZW5ndGggKz0gdG9vbHRpcC5iZWZvcmVCb2R5Lmxlbmd0aCArIHRvb2x0aXAuYWZ0ZXJCb2R5Lmxlbmd0aDtcbiAgICBpZiAodGl0bGVMaW5lQ291bnQpIHtcbiAgICAgICAgaGVpZ2h0ICs9IHRpdGxlTGluZUNvdW50ICogdGl0bGVGb250LmxpbmVIZWlnaHQgKyAodGl0bGVMaW5lQ291bnQgLSAxKSAqIG9wdGlvbnMudGl0bGVTcGFjaW5nICsgb3B0aW9ucy50aXRsZU1hcmdpbkJvdHRvbTtcbiAgICB9XG4gICAgaWYgKGNvbWJpbmVkQm9keUxlbmd0aCkge1xuICAgICAgICBjb25zdCBib2R5TGluZUhlaWdodCA9IG9wdGlvbnMuZGlzcGxheUNvbG9ycyA/IE1hdGgubWF4KGJveEhlaWdodCwgYm9keUZvbnQubGluZUhlaWdodCkgOiBib2R5Rm9udC5saW5lSGVpZ2h0O1xuICAgICAgICBoZWlnaHQgKz0gYm9keUxpbmVJdGVtQ291bnQgKiBib2R5TGluZUhlaWdodCArIChjb21iaW5lZEJvZHlMZW5ndGggLSBib2R5TGluZUl0ZW1Db3VudCkgKiBib2R5Rm9udC5saW5lSGVpZ2h0ICsgKGNvbWJpbmVkQm9keUxlbmd0aCAtIDEpICogb3B0aW9ucy5ib2R5U3BhY2luZztcbiAgICB9XG4gICAgaWYgKGZvb3RlckxpbmVDb3VudCkge1xuICAgICAgICBoZWlnaHQgKz0gb3B0aW9ucy5mb290ZXJNYXJnaW5Ub3AgKyBmb290ZXJMaW5lQ291bnQgKiBmb290ZXJGb250LmxpbmVIZWlnaHQgKyAoZm9vdGVyTGluZUNvdW50IC0gMSkgKiBvcHRpb25zLmZvb3RlclNwYWNpbmc7XG4gICAgfVxuICAgIGxldCB3aWR0aFBhZGRpbmcgPSAwO1xuICAgIGNvbnN0IG1heExpbmVXaWR0aCA9IGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgd2lkdGggPSBNYXRoLm1heCh3aWR0aCwgY3R4Lm1lYXN1cmVUZXh0KGxpbmUpLndpZHRoICsgd2lkdGhQYWRkaW5nKTtcbiAgICB9O1xuICAgIGN0eC5zYXZlKCk7XG4gICAgY3R4LmZvbnQgPSB0aXRsZUZvbnQuc3RyaW5nO1xuICAgIGVhY2godG9vbHRpcC50aXRsZSwgbWF4TGluZVdpZHRoKTtcbiAgICBjdHguZm9udCA9IGJvZHlGb250LnN0cmluZztcbiAgICBlYWNoKHRvb2x0aXAuYmVmb3JlQm9keS5jb25jYXQodG9vbHRpcC5hZnRlckJvZHkpLCBtYXhMaW5lV2lkdGgpO1xuICAgIHdpZHRoUGFkZGluZyA9IG9wdGlvbnMuZGlzcGxheUNvbG9ycyA/IGJveFdpZHRoICsgMiArIG9wdGlvbnMuYm94UGFkZGluZyA6IDA7XG4gICAgZWFjaChib2R5LCAoYm9keUl0ZW0pPT57XG4gICAgICAgIGVhY2goYm9keUl0ZW0uYmVmb3JlLCBtYXhMaW5lV2lkdGgpO1xuICAgICAgICBlYWNoKGJvZHlJdGVtLmxpbmVzLCBtYXhMaW5lV2lkdGgpO1xuICAgICAgICBlYWNoKGJvZHlJdGVtLmFmdGVyLCBtYXhMaW5lV2lkdGgpO1xuICAgIH0pO1xuICAgIHdpZHRoUGFkZGluZyA9IDA7XG4gICAgY3R4LmZvbnQgPSBmb290ZXJGb250LnN0cmluZztcbiAgICBlYWNoKHRvb2x0aXAuZm9vdGVyLCBtYXhMaW5lV2lkdGgpO1xuICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgd2lkdGggKz0gcGFkZGluZy53aWR0aDtcbiAgICByZXR1cm4ge1xuICAgICAgICB3aWR0aCxcbiAgICAgICAgaGVpZ2h0XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGRldGVybWluZVlBbGlnbihjaGFydCwgc2l6ZSkge1xuICAgIGNvbnN0IHsgeSAsIGhlaWdodCAgfSA9IHNpemU7XG4gICAgaWYgKHkgPCBoZWlnaHQgLyAyKSB7XG4gICAgICAgIHJldHVybiAndG9wJztcbiAgICB9IGVsc2UgaWYgKHkgPiBjaGFydC5oZWlnaHQgLSBoZWlnaHQgLyAyKSB7XG4gICAgICAgIHJldHVybiAnYm90dG9tJztcbiAgICB9XG4gICAgcmV0dXJuICdjZW50ZXInO1xufVxuZnVuY3Rpb24gZG9lc05vdEZpdFdpdGhBbGlnbih4QWxpZ24sIGNoYXJ0LCBvcHRpb25zLCBzaXplKSB7XG4gICAgY29uc3QgeyB4ICwgd2lkdGggIH0gPSBzaXplO1xuICAgIGNvbnN0IGNhcmV0ID0gb3B0aW9ucy5jYXJldFNpemUgKyBvcHRpb25zLmNhcmV0UGFkZGluZztcbiAgICBpZiAoeEFsaWduID09PSAnbGVmdCcgJiYgeCArIHdpZHRoICsgY2FyZXQgPiBjaGFydC53aWR0aCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHhBbGlnbiA9PT0gJ3JpZ2h0JyAmJiB4IC0gd2lkdGggLSBjYXJldCA8IDApIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxufVxuZnVuY3Rpb24gZGV0ZXJtaW5lWEFsaWduKGNoYXJ0LCBvcHRpb25zLCBzaXplLCB5QWxpZ24pIHtcbiAgICBjb25zdCB7IHggLCB3aWR0aCAgfSA9IHNpemU7XG4gICAgY29uc3QgeyB3aWR0aDogY2hhcnRXaWR0aCAsIGNoYXJ0QXJlYTogeyBsZWZ0ICwgcmlnaHQgIH0gIH0gPSBjaGFydDtcbiAgICBsZXQgeEFsaWduID0gJ2NlbnRlcic7XG4gICAgaWYgKHlBbGlnbiA9PT0gJ2NlbnRlcicpIHtcbiAgICAgICAgeEFsaWduID0geCA8PSAobGVmdCArIHJpZ2h0KSAvIDIgPyAnbGVmdCcgOiAncmlnaHQnO1xuICAgIH0gZWxzZSBpZiAoeCA8PSB3aWR0aCAvIDIpIHtcbiAgICAgICAgeEFsaWduID0gJ2xlZnQnO1xuICAgIH0gZWxzZSBpZiAoeCA+PSBjaGFydFdpZHRoIC0gd2lkdGggLyAyKSB7XG4gICAgICAgIHhBbGlnbiA9ICdyaWdodCc7XG4gICAgfVxuICAgIGlmIChkb2VzTm90Rml0V2l0aEFsaWduKHhBbGlnbiwgY2hhcnQsIG9wdGlvbnMsIHNpemUpKSB7XG4gICAgICAgIHhBbGlnbiA9ICdjZW50ZXInO1xuICAgIH1cbiAgICByZXR1cm4geEFsaWduO1xufVxuIGZ1bmN0aW9uIGRldGVybWluZUFsaWdubWVudChjaGFydCwgb3B0aW9ucywgc2l6ZSkge1xuICAgIGNvbnN0IHlBbGlnbiA9IHNpemUueUFsaWduIHx8IG9wdGlvbnMueUFsaWduIHx8IGRldGVybWluZVlBbGlnbihjaGFydCwgc2l6ZSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgeEFsaWduOiBzaXplLnhBbGlnbiB8fCBvcHRpb25zLnhBbGlnbiB8fCBkZXRlcm1pbmVYQWxpZ24oY2hhcnQsIG9wdGlvbnMsIHNpemUsIHlBbGlnbiksXG4gICAgICAgIHlBbGlnblxuICAgIH07XG59XG5mdW5jdGlvbiBhbGlnblgoc2l6ZSwgeEFsaWduKSB7XG4gICAgbGV0IHsgeCAsIHdpZHRoICB9ID0gc2l6ZTtcbiAgICBpZiAoeEFsaWduID09PSAncmlnaHQnKSB7XG4gICAgICAgIHggLT0gd2lkdGg7XG4gICAgfSBlbHNlIGlmICh4QWxpZ24gPT09ICdjZW50ZXInKSB7XG4gICAgICAgIHggLT0gd2lkdGggLyAyO1xuICAgIH1cbiAgICByZXR1cm4geDtcbn1cbmZ1bmN0aW9uIGFsaWduWShzaXplLCB5QWxpZ24sIHBhZGRpbmdBbmRTaXplKSB7XG4gICAgbGV0IHsgeSAsIGhlaWdodCAgfSA9IHNpemU7XG4gICAgaWYgKHlBbGlnbiA9PT0gJ3RvcCcpIHtcbiAgICAgICAgeSArPSBwYWRkaW5nQW5kU2l6ZTtcbiAgICB9IGVsc2UgaWYgKHlBbGlnbiA9PT0gJ2JvdHRvbScpIHtcbiAgICAgICAgeSAtPSBoZWlnaHQgKyBwYWRkaW5nQW5kU2l6ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB5IC09IGhlaWdodCAvIDI7XG4gICAgfVxuICAgIHJldHVybiB5O1xufVxuIGZ1bmN0aW9uIGdldEJhY2tncm91bmRQb2ludChvcHRpb25zLCBzaXplLCBhbGlnbm1lbnQsIGNoYXJ0KSB7XG4gICAgY29uc3QgeyBjYXJldFNpemUgLCBjYXJldFBhZGRpbmcgLCBjb3JuZXJSYWRpdXMgIH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IHsgeEFsaWduICwgeUFsaWduICB9ID0gYWxpZ25tZW50O1xuICAgIGNvbnN0IHBhZGRpbmdBbmRTaXplID0gY2FyZXRTaXplICsgY2FyZXRQYWRkaW5nO1xuICAgIGNvbnN0IHsgdG9wTGVmdCAsIHRvcFJpZ2h0ICwgYm90dG9tTGVmdCAsIGJvdHRvbVJpZ2h0ICB9ID0gdG9UUkJMQ29ybmVycyhjb3JuZXJSYWRpdXMpO1xuICAgIGxldCB4ID0gYWxpZ25YKHNpemUsIHhBbGlnbik7XG4gICAgY29uc3QgeSA9IGFsaWduWShzaXplLCB5QWxpZ24sIHBhZGRpbmdBbmRTaXplKTtcbiAgICBpZiAoeUFsaWduID09PSAnY2VudGVyJykge1xuICAgICAgICBpZiAoeEFsaWduID09PSAnbGVmdCcpIHtcbiAgICAgICAgICAgIHggKz0gcGFkZGluZ0FuZFNpemU7XG4gICAgICAgIH0gZWxzZSBpZiAoeEFsaWduID09PSAncmlnaHQnKSB7XG4gICAgICAgICAgICB4IC09IHBhZGRpbmdBbmRTaXplO1xuICAgICAgICB9XG4gICAgfSBlbHNlIGlmICh4QWxpZ24gPT09ICdsZWZ0Jykge1xuICAgICAgICB4IC09IE1hdGgubWF4KHRvcExlZnQsIGJvdHRvbUxlZnQpICsgY2FyZXRTaXplO1xuICAgIH0gZWxzZSBpZiAoeEFsaWduID09PSAncmlnaHQnKSB7XG4gICAgICAgIHggKz0gTWF0aC5tYXgodG9wUmlnaHQsIGJvdHRvbVJpZ2h0KSArIGNhcmV0U2l6ZTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgeDogX2xpbWl0VmFsdWUoeCwgMCwgY2hhcnQud2lkdGggLSBzaXplLndpZHRoKSxcbiAgICAgICAgeTogX2xpbWl0VmFsdWUoeSwgMCwgY2hhcnQuaGVpZ2h0IC0gc2l6ZS5oZWlnaHQpXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGdldEFsaWduZWRYKHRvb2x0aXAsIGFsaWduLCBvcHRpb25zKSB7XG4gICAgY29uc3QgcGFkZGluZyA9IHRvUGFkZGluZyhvcHRpb25zLnBhZGRpbmcpO1xuICAgIHJldHVybiBhbGlnbiA9PT0gJ2NlbnRlcicgPyB0b29sdGlwLnggKyB0b29sdGlwLndpZHRoIC8gMiA6IGFsaWduID09PSAncmlnaHQnID8gdG9vbHRpcC54ICsgdG9vbHRpcC53aWR0aCAtIHBhZGRpbmcucmlnaHQgOiB0b29sdGlwLnggKyBwYWRkaW5nLmxlZnQ7XG59XG4gZnVuY3Rpb24gZ2V0QmVmb3JlQWZ0ZXJCb2R5TGluZXMoY2FsbGJhY2spIHtcbiAgICByZXR1cm4gcHVzaE9yQ29uY2F0KFtdLCBzcGxpdE5ld2xpbmVzKGNhbGxiYWNrKSk7XG59XG5mdW5jdGlvbiBjcmVhdGVUb29sdGlwQ29udGV4dChwYXJlbnQsIHRvb2x0aXAsIHRvb2x0aXBJdGVtcykge1xuICAgIHJldHVybiBjcmVhdGVDb250ZXh0KHBhcmVudCwge1xuICAgICAgICB0b29sdGlwLFxuICAgICAgICB0b29sdGlwSXRlbXMsXG4gICAgICAgIHR5cGU6ICd0b29sdGlwJ1xuICAgIH0pO1xufVxuZnVuY3Rpb24gb3ZlcnJpZGVDYWxsYmFja3MoY2FsbGJhY2tzLCBjb250ZXh0KSB7XG4gICAgY29uc3Qgb3ZlcnJpZGUgPSBjb250ZXh0ICYmIGNvbnRleHQuZGF0YXNldCAmJiBjb250ZXh0LmRhdGFzZXQudG9vbHRpcCAmJiBjb250ZXh0LmRhdGFzZXQudG9vbHRpcC5jYWxsYmFja3M7XG4gICAgcmV0dXJuIG92ZXJyaWRlID8gY2FsbGJhY2tzLm92ZXJyaWRlKG92ZXJyaWRlKSA6IGNhbGxiYWNrcztcbn1cbmNvbnN0IGRlZmF1bHRDYWxsYmFja3MgPSB7XG4gICAgYmVmb3JlVGl0bGU6IG5vb3AsXG4gICAgdGl0bGUgKHRvb2x0aXBJdGVtcykge1xuICAgICAgICBpZiAodG9vbHRpcEl0ZW1zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSB0b29sdGlwSXRlbXNbMF07XG4gICAgICAgICAgICBjb25zdCBsYWJlbHMgPSBpdGVtLmNoYXJ0LmRhdGEubGFiZWxzO1xuICAgICAgICAgICAgY29uc3QgbGFiZWxDb3VudCA9IGxhYmVscyA/IGxhYmVscy5sZW5ndGggOiAwO1xuICAgICAgICAgICAgaWYgKHRoaXMgJiYgdGhpcy5vcHRpb25zICYmIHRoaXMub3B0aW9ucy5tb2RlID09PSAnZGF0YXNldCcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5kYXRhc2V0LmxhYmVsIHx8ICcnO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpdGVtLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0ubGFiZWw7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGxhYmVsQ291bnQgPiAwICYmIGl0ZW0uZGF0YUluZGV4IDwgbGFiZWxDb3VudCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBsYWJlbHNbaXRlbS5kYXRhSW5kZXhdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9LFxuICAgIGFmdGVyVGl0bGU6IG5vb3AsXG4gICAgYmVmb3JlQm9keTogbm9vcCxcbiAgICBiZWZvcmVMYWJlbDogbm9vcCxcbiAgICBsYWJlbCAodG9vbHRpcEl0ZW0pIHtcbiAgICAgICAgaWYgKHRoaXMgJiYgdGhpcy5vcHRpb25zICYmIHRoaXMub3B0aW9ucy5tb2RlID09PSAnZGF0YXNldCcpIHtcbiAgICAgICAgICAgIHJldHVybiB0b29sdGlwSXRlbS5sYWJlbCArICc6ICcgKyB0b29sdGlwSXRlbS5mb3JtYXR0ZWRWYWx1ZSB8fCB0b29sdGlwSXRlbS5mb3JtYXR0ZWRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbGFiZWwgPSB0b29sdGlwSXRlbS5kYXRhc2V0LmxhYmVsIHx8ICcnO1xuICAgICAgICBpZiAobGFiZWwpIHtcbiAgICAgICAgICAgIGxhYmVsICs9ICc6ICc7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdmFsdWUgPSB0b29sdGlwSXRlbS5mb3JtYXR0ZWRWYWx1ZTtcbiAgICAgICAgaWYgKCFpc051bGxPclVuZGVmKHZhbHVlKSkge1xuICAgICAgICAgICAgbGFiZWwgKz0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxhYmVsO1xuICAgIH0sXG4gICAgbGFiZWxDb2xvciAodG9vbHRpcEl0ZW0pIHtcbiAgICAgICAgY29uc3QgbWV0YSA9IHRvb2x0aXBJdGVtLmNoYXJ0LmdldERhdGFzZXRNZXRhKHRvb2x0aXBJdGVtLmRhdGFzZXRJbmRleCk7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBtZXRhLmNvbnRyb2xsZXIuZ2V0U3R5bGUodG9vbHRpcEl0ZW0uZGF0YUluZGV4KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGJvcmRlckNvbG9yOiBvcHRpb25zLmJvcmRlckNvbG9yLFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBvcHRpb25zLmJhY2tncm91bmRDb2xvcixcbiAgICAgICAgICAgIGJvcmRlcldpZHRoOiBvcHRpb25zLmJvcmRlcldpZHRoLFxuICAgICAgICAgICAgYm9yZGVyRGFzaDogb3B0aW9ucy5ib3JkZXJEYXNoLFxuICAgICAgICAgICAgYm9yZGVyRGFzaE9mZnNldDogb3B0aW9ucy5ib3JkZXJEYXNoT2Zmc2V0LFxuICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAwXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBsYWJlbFRleHRDb2xvciAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuYm9keUNvbG9yO1xuICAgIH0sXG4gICAgbGFiZWxQb2ludFN0eWxlICh0b29sdGlwSXRlbSkge1xuICAgICAgICBjb25zdCBtZXRhID0gdG9vbHRpcEl0ZW0uY2hhcnQuZ2V0RGF0YXNldE1ldGEodG9vbHRpcEl0ZW0uZGF0YXNldEluZGV4KTtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IG1ldGEuY29udHJvbGxlci5nZXRTdHlsZSh0b29sdGlwSXRlbS5kYXRhSW5kZXgpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcG9pbnRTdHlsZTogb3B0aW9ucy5wb2ludFN0eWxlLFxuICAgICAgICAgICAgcm90YXRpb246IG9wdGlvbnMucm90YXRpb25cbiAgICAgICAgfTtcbiAgICB9LFxuICAgIGFmdGVyTGFiZWw6IG5vb3AsXG4gICAgYWZ0ZXJCb2R5OiBub29wLFxuICAgIGJlZm9yZUZvb3Rlcjogbm9vcCxcbiAgICBmb290ZXI6IG5vb3AsXG4gICAgYWZ0ZXJGb290ZXI6IG5vb3Bcbn07XG4gZnVuY3Rpb24gaW52b2tlQ2FsbGJhY2tXaXRoRmFsbGJhY2soY2FsbGJhY2tzLCBuYW1lLCBjdHgsIGFyZykge1xuICAgIGNvbnN0IHJlc3VsdCA9IGNhbGxiYWNrc1tuYW1lXS5jYWxsKGN0eCwgYXJnKTtcbiAgICBpZiAodHlwZW9mIHJlc3VsdCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRDYWxsYmFja3NbbmFtZV0uY2FsbChjdHgsIGFyZyk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5jbGFzcyBUb29sdGlwIGV4dGVuZHMgRWxlbWVudCB7XG4gc3RhdGljIHBvc2l0aW9uZXJzID0gcG9zaXRpb25lcnM7XG4gICAgY29uc3RydWN0b3IoY29uZmlnKXtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5vcGFjaXR5ID0gMDtcbiAgICAgICAgdGhpcy5fYWN0aXZlID0gW107XG4gICAgICAgIHRoaXMuX2V2ZW50UG9zaXRpb24gPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX3NpemUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX2NhY2hlZEFuaW1hdGlvbnMgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX3Rvb2x0aXBJdGVtcyA9IFtdO1xuICAgICAgICB0aGlzLiRhbmltYXRpb25zID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLiRjb250ZXh0ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmNoYXJ0ID0gY29uZmlnLmNoYXJ0O1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBjb25maWcub3B0aW9ucztcbiAgICAgICAgdGhpcy5kYXRhUG9pbnRzID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnRpdGxlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmJlZm9yZUJvZHkgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuYm9keSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5hZnRlckJvZHkgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuZm9vdGVyID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnhBbGlnbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy55QWxpZ24gPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMueCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy55ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmhlaWdodCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy53aWR0aCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5jYXJldFggPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuY2FyZXRZID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmxhYmVsQ29sb3JzID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmxhYmVsUG9pbnRTdHlsZXMgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMubGFiZWxUZXh0Q29sb3JzID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpbml0aWFsaXplKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy5fY2FjaGVkQW5pbWF0aW9ucyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy4kY29udGV4dCA9IHVuZGVmaW5lZDtcbiAgICB9XG4gX3Jlc29sdmVBbmltYXRpb25zKCkge1xuICAgICAgICBjb25zdCBjYWNoZWQgPSB0aGlzLl9jYWNoZWRBbmltYXRpb25zO1xuICAgICAgICBpZiAoY2FjaGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNoYXJ0ID0gdGhpcy5jaGFydDtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9ucy5zZXRDb250ZXh0KHRoaXMuZ2V0Q29udGV4dCgpKTtcbiAgICAgICAgY29uc3Qgb3B0cyA9IG9wdGlvbnMuZW5hYmxlZCAmJiBjaGFydC5vcHRpb25zLmFuaW1hdGlvbiAmJiBvcHRpb25zLmFuaW1hdGlvbnM7XG4gICAgICAgIGNvbnN0IGFuaW1hdGlvbnMgPSBuZXcgQW5pbWF0aW9ucyh0aGlzLmNoYXJ0LCBvcHRzKTtcbiAgICAgICAgaWYgKG9wdHMuX2NhY2hlYWJsZSkge1xuICAgICAgICAgICAgdGhpcy5fY2FjaGVkQW5pbWF0aW9ucyA9IE9iamVjdC5mcmVlemUoYW5pbWF0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFuaW1hdGlvbnM7XG4gICAgfVxuIGdldENvbnRleHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiRjb250ZXh0IHx8ICh0aGlzLiRjb250ZXh0ID0gY3JlYXRlVG9vbHRpcENvbnRleHQodGhpcy5jaGFydC5nZXRDb250ZXh0KCksIHRoaXMsIHRoaXMuX3Rvb2x0aXBJdGVtcykpO1xuICAgIH1cbiAgICBnZXRUaXRsZShjb250ZXh0LCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHsgY2FsbGJhY2tzICB9ID0gb3B0aW9ucztcbiAgICAgICAgY29uc3QgYmVmb3JlVGl0bGUgPSBpbnZva2VDYWxsYmFja1dpdGhGYWxsYmFjayhjYWxsYmFja3MsICdiZWZvcmVUaXRsZScsIHRoaXMsIGNvbnRleHQpO1xuICAgICAgICBjb25zdCB0aXRsZSA9IGludm9rZUNhbGxiYWNrV2l0aEZhbGxiYWNrKGNhbGxiYWNrcywgJ3RpdGxlJywgdGhpcywgY29udGV4dCk7XG4gICAgICAgIGNvbnN0IGFmdGVyVGl0bGUgPSBpbnZva2VDYWxsYmFja1dpdGhGYWxsYmFjayhjYWxsYmFja3MsICdhZnRlclRpdGxlJywgdGhpcywgY29udGV4dCk7XG4gICAgICAgIGxldCBsaW5lcyA9IFtdO1xuICAgICAgICBsaW5lcyA9IHB1c2hPckNvbmNhdChsaW5lcywgc3BsaXROZXdsaW5lcyhiZWZvcmVUaXRsZSkpO1xuICAgICAgICBsaW5lcyA9IHB1c2hPckNvbmNhdChsaW5lcywgc3BsaXROZXdsaW5lcyh0aXRsZSkpO1xuICAgICAgICBsaW5lcyA9IHB1c2hPckNvbmNhdChsaW5lcywgc3BsaXROZXdsaW5lcyhhZnRlclRpdGxlKSk7XG4gICAgICAgIHJldHVybiBsaW5lcztcbiAgICB9XG4gICAgZ2V0QmVmb3JlQm9keSh0b29sdGlwSXRlbXMsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIGdldEJlZm9yZUFmdGVyQm9keUxpbmVzKGludm9rZUNhbGxiYWNrV2l0aEZhbGxiYWNrKG9wdGlvbnMuY2FsbGJhY2tzLCAnYmVmb3JlQm9keScsIHRoaXMsIHRvb2x0aXBJdGVtcykpO1xuICAgIH1cbiAgICBnZXRCb2R5KHRvb2x0aXBJdGVtcywgb3B0aW9ucykge1xuICAgICAgICBjb25zdCB7IGNhbGxiYWNrcyAgfSA9IG9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGJvZHlJdGVtcyA9IFtdO1xuICAgICAgICBlYWNoKHRvb2x0aXBJdGVtcywgKGNvbnRleHQpPT57XG4gICAgICAgICAgICBjb25zdCBib2R5SXRlbSA9IHtcbiAgICAgICAgICAgICAgICBiZWZvcmU6IFtdLFxuICAgICAgICAgICAgICAgIGxpbmVzOiBbXSxcbiAgICAgICAgICAgICAgICBhZnRlcjogW11cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBzY29wZWQgPSBvdmVycmlkZUNhbGxiYWNrcyhjYWxsYmFja3MsIGNvbnRleHQpO1xuICAgICAgICAgICAgcHVzaE9yQ29uY2F0KGJvZHlJdGVtLmJlZm9yZSwgc3BsaXROZXdsaW5lcyhpbnZva2VDYWxsYmFja1dpdGhGYWxsYmFjayhzY29wZWQsICdiZWZvcmVMYWJlbCcsIHRoaXMsIGNvbnRleHQpKSk7XG4gICAgICAgICAgICBwdXNoT3JDb25jYXQoYm9keUl0ZW0ubGluZXMsIGludm9rZUNhbGxiYWNrV2l0aEZhbGxiYWNrKHNjb3BlZCwgJ2xhYmVsJywgdGhpcywgY29udGV4dCkpO1xuICAgICAgICAgICAgcHVzaE9yQ29uY2F0KGJvZHlJdGVtLmFmdGVyLCBzcGxpdE5ld2xpbmVzKGludm9rZUNhbGxiYWNrV2l0aEZhbGxiYWNrKHNjb3BlZCwgJ2FmdGVyTGFiZWwnLCB0aGlzLCBjb250ZXh0KSkpO1xuICAgICAgICAgICAgYm9keUl0ZW1zLnB1c2goYm9keUl0ZW0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGJvZHlJdGVtcztcbiAgICB9XG4gICAgZ2V0QWZ0ZXJCb2R5KHRvb2x0aXBJdGVtcywgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gZ2V0QmVmb3JlQWZ0ZXJCb2R5TGluZXMoaW52b2tlQ2FsbGJhY2tXaXRoRmFsbGJhY2sob3B0aW9ucy5jYWxsYmFja3MsICdhZnRlckJvZHknLCB0aGlzLCB0b29sdGlwSXRlbXMpKTtcbiAgICB9XG4gICAgZ2V0Rm9vdGVyKHRvb2x0aXBJdGVtcywgb3B0aW9ucykge1xuICAgICAgICBjb25zdCB7IGNhbGxiYWNrcyAgfSA9IG9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGJlZm9yZUZvb3RlciA9IGludm9rZUNhbGxiYWNrV2l0aEZhbGxiYWNrKGNhbGxiYWNrcywgJ2JlZm9yZUZvb3RlcicsIHRoaXMsIHRvb2x0aXBJdGVtcyk7XG4gICAgICAgIGNvbnN0IGZvb3RlciA9IGludm9rZUNhbGxiYWNrV2l0aEZhbGxiYWNrKGNhbGxiYWNrcywgJ2Zvb3RlcicsIHRoaXMsIHRvb2x0aXBJdGVtcyk7XG4gICAgICAgIGNvbnN0IGFmdGVyRm9vdGVyID0gaW52b2tlQ2FsbGJhY2tXaXRoRmFsbGJhY2soY2FsbGJhY2tzLCAnYWZ0ZXJGb290ZXInLCB0aGlzLCB0b29sdGlwSXRlbXMpO1xuICAgICAgICBsZXQgbGluZXMgPSBbXTtcbiAgICAgICAgbGluZXMgPSBwdXNoT3JDb25jYXQobGluZXMsIHNwbGl0TmV3bGluZXMoYmVmb3JlRm9vdGVyKSk7XG4gICAgICAgIGxpbmVzID0gcHVzaE9yQ29uY2F0KGxpbmVzLCBzcGxpdE5ld2xpbmVzKGZvb3RlcikpO1xuICAgICAgICBsaW5lcyA9IHB1c2hPckNvbmNhdChsaW5lcywgc3BsaXROZXdsaW5lcyhhZnRlckZvb3RlcikpO1xuICAgICAgICByZXR1cm4gbGluZXM7XG4gICAgfVxuIF9jcmVhdGVJdGVtcyhvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGFjdGl2ZSA9IHRoaXMuX2FjdGl2ZTtcbiAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMuY2hhcnQuZGF0YTtcbiAgICAgICAgY29uc3QgbGFiZWxDb2xvcnMgPSBbXTtcbiAgICAgICAgY29uc3QgbGFiZWxQb2ludFN0eWxlcyA9IFtdO1xuICAgICAgICBjb25zdCBsYWJlbFRleHRDb2xvcnMgPSBbXTtcbiAgICAgICAgbGV0IHRvb2x0aXBJdGVtcyA9IFtdO1xuICAgICAgICBsZXQgaSwgbGVuO1xuICAgICAgICBmb3IoaSA9IDAsIGxlbiA9IGFjdGl2ZS5sZW5ndGg7IGkgPCBsZW47ICsraSl7XG4gICAgICAgICAgICB0b29sdGlwSXRlbXMucHVzaChjcmVhdGVUb29sdGlwSXRlbSh0aGlzLmNoYXJ0LCBhY3RpdmVbaV0pKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5maWx0ZXIpIHtcbiAgICAgICAgICAgIHRvb2x0aXBJdGVtcyA9IHRvb2x0aXBJdGVtcy5maWx0ZXIoKGVsZW1lbnQsIGluZGV4LCBhcnJheSk9Pm9wdGlvbnMuZmlsdGVyKGVsZW1lbnQsIGluZGV4LCBhcnJheSwgZGF0YSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLml0ZW1Tb3J0KSB7XG4gICAgICAgICAgICB0b29sdGlwSXRlbXMgPSB0b29sdGlwSXRlbXMuc29ydCgoYSwgYik9Pm9wdGlvbnMuaXRlbVNvcnQoYSwgYiwgZGF0YSkpO1xuICAgICAgICB9XG4gICAgICAgIGVhY2godG9vbHRpcEl0ZW1zLCAoY29udGV4dCk9PntcbiAgICAgICAgICAgIGNvbnN0IHNjb3BlZCA9IG92ZXJyaWRlQ2FsbGJhY2tzKG9wdGlvbnMuY2FsbGJhY2tzLCBjb250ZXh0KTtcbiAgICAgICAgICAgIGxhYmVsQ29sb3JzLnB1c2goaW52b2tlQ2FsbGJhY2tXaXRoRmFsbGJhY2soc2NvcGVkLCAnbGFiZWxDb2xvcicsIHRoaXMsIGNvbnRleHQpKTtcbiAgICAgICAgICAgIGxhYmVsUG9pbnRTdHlsZXMucHVzaChpbnZva2VDYWxsYmFja1dpdGhGYWxsYmFjayhzY29wZWQsICdsYWJlbFBvaW50U3R5bGUnLCB0aGlzLCBjb250ZXh0KSk7XG4gICAgICAgICAgICBsYWJlbFRleHRDb2xvcnMucHVzaChpbnZva2VDYWxsYmFja1dpdGhGYWxsYmFjayhzY29wZWQsICdsYWJlbFRleHRDb2xvcicsIHRoaXMsIGNvbnRleHQpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubGFiZWxDb2xvcnMgPSBsYWJlbENvbG9ycztcbiAgICAgICAgdGhpcy5sYWJlbFBvaW50U3R5bGVzID0gbGFiZWxQb2ludFN0eWxlcztcbiAgICAgICAgdGhpcy5sYWJlbFRleHRDb2xvcnMgPSBsYWJlbFRleHRDb2xvcnM7XG4gICAgICAgIHRoaXMuZGF0YVBvaW50cyA9IHRvb2x0aXBJdGVtcztcbiAgICAgICAgcmV0dXJuIHRvb2x0aXBJdGVtcztcbiAgICB9XG4gICAgdXBkYXRlKGNoYW5nZWQsIHJlcGxheSkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zLnNldENvbnRleHQodGhpcy5nZXRDb250ZXh0KCkpO1xuICAgICAgICBjb25zdCBhY3RpdmUgPSB0aGlzLl9hY3RpdmU7XG4gICAgICAgIGxldCBwcm9wZXJ0aWVzO1xuICAgICAgICBsZXQgdG9vbHRpcEl0ZW1zID0gW107XG4gICAgICAgIGlmICghYWN0aXZlLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKHRoaXMub3BhY2l0eSAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHByb3BlcnRpZXMgPSB7XG4gICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDBcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcG9zaXRpb24gPSBwb3NpdGlvbmVyc1tvcHRpb25zLnBvc2l0aW9uXS5jYWxsKHRoaXMsIGFjdGl2ZSwgdGhpcy5fZXZlbnRQb3NpdGlvbik7XG4gICAgICAgICAgICB0b29sdGlwSXRlbXMgPSB0aGlzLl9jcmVhdGVJdGVtcyhvcHRpb25zKTtcbiAgICAgICAgICAgIHRoaXMudGl0bGUgPSB0aGlzLmdldFRpdGxlKHRvb2x0aXBJdGVtcywgb3B0aW9ucyk7XG4gICAgICAgICAgICB0aGlzLmJlZm9yZUJvZHkgPSB0aGlzLmdldEJlZm9yZUJvZHkodG9vbHRpcEl0ZW1zLCBvcHRpb25zKTtcbiAgICAgICAgICAgIHRoaXMuYm9keSA9IHRoaXMuZ2V0Qm9keSh0b29sdGlwSXRlbXMsIG9wdGlvbnMpO1xuICAgICAgICAgICAgdGhpcy5hZnRlckJvZHkgPSB0aGlzLmdldEFmdGVyQm9keSh0b29sdGlwSXRlbXMsIG9wdGlvbnMpO1xuICAgICAgICAgICAgdGhpcy5mb290ZXIgPSB0aGlzLmdldEZvb3Rlcih0b29sdGlwSXRlbXMsIG9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3Qgc2l6ZSA9IHRoaXMuX3NpemUgPSBnZXRUb29sdGlwU2l6ZSh0aGlzLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9uQW5kU2l6ZSA9IE9iamVjdC5hc3NpZ24oe30sIHBvc2l0aW9uLCBzaXplKTtcbiAgICAgICAgICAgIGNvbnN0IGFsaWdubWVudCA9IGRldGVybWluZUFsaWdubWVudCh0aGlzLmNoYXJ0LCBvcHRpb25zLCBwb3NpdGlvbkFuZFNpemUpO1xuICAgICAgICAgICAgY29uc3QgYmFja2dyb3VuZFBvaW50ID0gZ2V0QmFja2dyb3VuZFBvaW50KG9wdGlvbnMsIHBvc2l0aW9uQW5kU2l6ZSwgYWxpZ25tZW50LCB0aGlzLmNoYXJ0KTtcbiAgICAgICAgICAgIHRoaXMueEFsaWduID0gYWxpZ25tZW50LnhBbGlnbjtcbiAgICAgICAgICAgIHRoaXMueUFsaWduID0gYWxpZ25tZW50LnlBbGlnbjtcbiAgICAgICAgICAgIHByb3BlcnRpZXMgPSB7XG4gICAgICAgICAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgICAgICAgICAgICB4OiBiYWNrZ3JvdW5kUG9pbnQueCxcbiAgICAgICAgICAgICAgICB5OiBiYWNrZ3JvdW5kUG9pbnQueSxcbiAgICAgICAgICAgICAgICB3aWR0aDogc2l6ZS53aWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHNpemUuaGVpZ2h0LFxuICAgICAgICAgICAgICAgIGNhcmV0WDogcG9zaXRpb24ueCxcbiAgICAgICAgICAgICAgICBjYXJldFk6IHBvc2l0aW9uLnlcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdG9vbHRpcEl0ZW1zID0gdG9vbHRpcEl0ZW1zO1xuICAgICAgICB0aGlzLiRjb250ZXh0ID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAocHJvcGVydGllcykge1xuICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZUFuaW1hdGlvbnMoKS51cGRhdGUodGhpcywgcHJvcGVydGllcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoYW5nZWQgJiYgb3B0aW9ucy5leHRlcm5hbCkge1xuICAgICAgICAgICAgb3B0aW9ucy5leHRlcm5hbC5jYWxsKHRoaXMsIHtcbiAgICAgICAgICAgICAgICBjaGFydDogdGhpcy5jaGFydCxcbiAgICAgICAgICAgICAgICB0b29sdGlwOiB0aGlzLFxuICAgICAgICAgICAgICAgIHJlcGxheVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZHJhd0NhcmV0KHRvb2x0aXBQb2ludCwgY3R4LCBzaXplLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGNhcmV0UG9zaXRpb24gPSB0aGlzLmdldENhcmV0UG9zaXRpb24odG9vbHRpcFBvaW50LCBzaXplLCBvcHRpb25zKTtcbiAgICAgICAgY3R4LmxpbmVUbyhjYXJldFBvc2l0aW9uLngxLCBjYXJldFBvc2l0aW9uLnkxKTtcbiAgICAgICAgY3R4LmxpbmVUbyhjYXJldFBvc2l0aW9uLngyLCBjYXJldFBvc2l0aW9uLnkyKTtcbiAgICAgICAgY3R4LmxpbmVUbyhjYXJldFBvc2l0aW9uLngzLCBjYXJldFBvc2l0aW9uLnkzKTtcbiAgICB9XG4gICAgZ2V0Q2FyZXRQb3NpdGlvbih0b29sdGlwUG9pbnQsIHNpemUsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgeyB4QWxpZ24gLCB5QWxpZ24gIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCB7IGNhcmV0U2l6ZSAsIGNvcm5lclJhZGl1cyAgfSA9IG9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHsgdG9wTGVmdCAsIHRvcFJpZ2h0ICwgYm90dG9tTGVmdCAsIGJvdHRvbVJpZ2h0ICB9ID0gdG9UUkJMQ29ybmVycyhjb3JuZXJSYWRpdXMpO1xuICAgICAgICBjb25zdCB7IHg6IHB0WCAsIHk6IHB0WSAgfSA9IHRvb2x0aXBQb2ludDtcbiAgICAgICAgY29uc3QgeyB3aWR0aCAsIGhlaWdodCAgfSA9IHNpemU7XG4gICAgICAgIGxldCB4MSwgeDIsIHgzLCB5MSwgeTIsIHkzO1xuICAgICAgICBpZiAoeUFsaWduID09PSAnY2VudGVyJykge1xuICAgICAgICAgICAgeTIgPSBwdFkgKyBoZWlnaHQgLyAyO1xuICAgICAgICAgICAgaWYgKHhBbGlnbiA9PT0gJ2xlZnQnKSB7XG4gICAgICAgICAgICAgICAgeDEgPSBwdFg7XG4gICAgICAgICAgICAgICAgeDIgPSB4MSAtIGNhcmV0U2l6ZTtcbiAgICAgICAgICAgICAgICB5MSA9IHkyICsgY2FyZXRTaXplO1xuICAgICAgICAgICAgICAgIHkzID0geTIgLSBjYXJldFNpemU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHgxID0gcHRYICsgd2lkdGg7XG4gICAgICAgICAgICAgICAgeDIgPSB4MSArIGNhcmV0U2l6ZTtcbiAgICAgICAgICAgICAgICB5MSA9IHkyIC0gY2FyZXRTaXplO1xuICAgICAgICAgICAgICAgIHkzID0geTIgKyBjYXJldFNpemU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB4MyA9IHgxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHhBbGlnbiA9PT0gJ2xlZnQnKSB7XG4gICAgICAgICAgICAgICAgeDIgPSBwdFggKyBNYXRoLm1heCh0b3BMZWZ0LCBib3R0b21MZWZ0KSArIGNhcmV0U2l6ZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoeEFsaWduID09PSAncmlnaHQnKSB7XG4gICAgICAgICAgICAgICAgeDIgPSBwdFggKyB3aWR0aCAtIE1hdGgubWF4KHRvcFJpZ2h0LCBib3R0b21SaWdodCkgLSBjYXJldFNpemU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHgyID0gdGhpcy5jYXJldFg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoeUFsaWduID09PSAndG9wJykge1xuICAgICAgICAgICAgICAgIHkxID0gcHRZO1xuICAgICAgICAgICAgICAgIHkyID0geTEgLSBjYXJldFNpemU7XG4gICAgICAgICAgICAgICAgeDEgPSB4MiAtIGNhcmV0U2l6ZTtcbiAgICAgICAgICAgICAgICB4MyA9IHgyICsgY2FyZXRTaXplO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB5MSA9IHB0WSArIGhlaWdodDtcbiAgICAgICAgICAgICAgICB5MiA9IHkxICsgY2FyZXRTaXplO1xuICAgICAgICAgICAgICAgIHgxID0geDIgKyBjYXJldFNpemU7XG4gICAgICAgICAgICAgICAgeDMgPSB4MiAtIGNhcmV0U2l6ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHkzID0geTE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHgxLFxuICAgICAgICAgICAgeDIsXG4gICAgICAgICAgICB4MyxcbiAgICAgICAgICAgIHkxLFxuICAgICAgICAgICAgeTIsXG4gICAgICAgICAgICB5M1xuICAgICAgICB9O1xuICAgIH1cbiAgICBkcmF3VGl0bGUocHQsIGN0eCwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCB0aXRsZSA9IHRoaXMudGl0bGU7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IHRpdGxlLmxlbmd0aDtcbiAgICAgICAgbGV0IHRpdGxlRm9udCwgdGl0bGVTcGFjaW5nLCBpO1xuICAgICAgICBpZiAobGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBydGxIZWxwZXIgPSBnZXRSdGxBZGFwdGVyKG9wdGlvbnMucnRsLCB0aGlzLngsIHRoaXMud2lkdGgpO1xuICAgICAgICAgICAgcHQueCA9IGdldEFsaWduZWRYKHRoaXMsIG9wdGlvbnMudGl0bGVBbGlnbiwgb3B0aW9ucyk7XG4gICAgICAgICAgICBjdHgudGV4dEFsaWduID0gcnRsSGVscGVyLnRleHRBbGlnbihvcHRpb25zLnRpdGxlQWxpZ24pO1xuICAgICAgICAgICAgY3R4LnRleHRCYXNlbGluZSA9ICdtaWRkbGUnO1xuICAgICAgICAgICAgdGl0bGVGb250ID0gdG9Gb250KG9wdGlvbnMudGl0bGVGb250KTtcbiAgICAgICAgICAgIHRpdGxlU3BhY2luZyA9IG9wdGlvbnMudGl0bGVTcGFjaW5nO1xuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IG9wdGlvbnMudGl0bGVDb2xvcjtcbiAgICAgICAgICAgIGN0eC5mb250ID0gdGl0bGVGb250LnN0cmluZztcbiAgICAgICAgICAgIGZvcihpID0gMDsgaSA8IGxlbmd0aDsgKytpKXtcbiAgICAgICAgICAgICAgICBjdHguZmlsbFRleHQodGl0bGVbaV0sIHJ0bEhlbHBlci54KHB0LngpLCBwdC55ICsgdGl0bGVGb250LmxpbmVIZWlnaHQgLyAyKTtcbiAgICAgICAgICAgICAgICBwdC55ICs9IHRpdGxlRm9udC5saW5lSGVpZ2h0ICsgdGl0bGVTcGFjaW5nO1xuICAgICAgICAgICAgICAgIGlmIChpICsgMSA9PT0gbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHB0LnkgKz0gb3B0aW9ucy50aXRsZU1hcmdpbkJvdHRvbSAtIHRpdGxlU3BhY2luZztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gX2RyYXdDb2xvckJveChjdHgsIHB0LCBpLCBydGxIZWxwZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgbGFiZWxDb2xvciA9IHRoaXMubGFiZWxDb2xvcnNbaV07XG4gICAgICAgIGNvbnN0IGxhYmVsUG9pbnRTdHlsZSA9IHRoaXMubGFiZWxQb2ludFN0eWxlc1tpXTtcbiAgICAgICAgY29uc3QgeyBib3hIZWlnaHQgLCBib3hXaWR0aCAgfSA9IG9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGJvZHlGb250ID0gdG9Gb250KG9wdGlvbnMuYm9keUZvbnQpO1xuICAgICAgICBjb25zdCBjb2xvclggPSBnZXRBbGlnbmVkWCh0aGlzLCAnbGVmdCcsIG9wdGlvbnMpO1xuICAgICAgICBjb25zdCBydGxDb2xvclggPSBydGxIZWxwZXIueChjb2xvclgpO1xuICAgICAgICBjb25zdCB5T2ZmU2V0ID0gYm94SGVpZ2h0IDwgYm9keUZvbnQubGluZUhlaWdodCA/IChib2R5Rm9udC5saW5lSGVpZ2h0IC0gYm94SGVpZ2h0KSAvIDIgOiAwO1xuICAgICAgICBjb25zdCBjb2xvclkgPSBwdC55ICsgeU9mZlNldDtcbiAgICAgICAgaWYgKG9wdGlvbnMudXNlUG9pbnRTdHlsZSkge1xuICAgICAgICAgICAgY29uc3QgZHJhd09wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgcmFkaXVzOiBNYXRoLm1pbihib3hXaWR0aCwgYm94SGVpZ2h0KSAvIDIsXG4gICAgICAgICAgICAgICAgcG9pbnRTdHlsZTogbGFiZWxQb2ludFN0eWxlLnBvaW50U3R5bGUsXG4gICAgICAgICAgICAgICAgcm90YXRpb246IGxhYmVsUG9pbnRTdHlsZS5yb3RhdGlvbixcbiAgICAgICAgICAgICAgICBib3JkZXJXaWR0aDogMVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGNlbnRlclggPSBydGxIZWxwZXIubGVmdEZvckx0cihydGxDb2xvclgsIGJveFdpZHRoKSArIGJveFdpZHRoIC8gMjtcbiAgICAgICAgICAgIGNvbnN0IGNlbnRlclkgPSBjb2xvclkgKyBib3hIZWlnaHQgLyAyO1xuICAgICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gb3B0aW9ucy5tdWx0aUtleUJhY2tncm91bmQ7XG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gb3B0aW9ucy5tdWx0aUtleUJhY2tncm91bmQ7XG4gICAgICAgICAgICBkcmF3UG9pbnQoY3R4LCBkcmF3T3B0aW9ucywgY2VudGVyWCwgY2VudGVyWSk7XG4gICAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBsYWJlbENvbG9yLmJvcmRlckNvbG9yO1xuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGxhYmVsQ29sb3IuYmFja2dyb3VuZENvbG9yO1xuICAgICAgICAgICAgZHJhd1BvaW50KGN0eCwgZHJhd09wdGlvbnMsIGNlbnRlclgsIGNlbnRlclkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY3R4LmxpbmVXaWR0aCA9IGlzT2JqZWN0KGxhYmVsQ29sb3IuYm9yZGVyV2lkdGgpID8gTWF0aC5tYXgoLi4uT2JqZWN0LnZhbHVlcyhsYWJlbENvbG9yLmJvcmRlcldpZHRoKSkgOiBsYWJlbENvbG9yLmJvcmRlcldpZHRoIHx8IDE7XG4gICAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBsYWJlbENvbG9yLmJvcmRlckNvbG9yO1xuICAgICAgICAgICAgY3R4LnNldExpbmVEYXNoKGxhYmVsQ29sb3IuYm9yZGVyRGFzaCB8fCBbXSk7XG4gICAgICAgICAgICBjdHgubGluZURhc2hPZmZzZXQgPSBsYWJlbENvbG9yLmJvcmRlckRhc2hPZmZzZXQgfHwgMDtcbiAgICAgICAgICAgIGNvbnN0IG91dGVyWCA9IHJ0bEhlbHBlci5sZWZ0Rm9yTHRyKHJ0bENvbG9yWCwgYm94V2lkdGgpO1xuICAgICAgICAgICAgY29uc3QgaW5uZXJYID0gcnRsSGVscGVyLmxlZnRGb3JMdHIocnRsSGVscGVyLnhQbHVzKHJ0bENvbG9yWCwgMSksIGJveFdpZHRoIC0gMik7XG4gICAgICAgICAgICBjb25zdCBib3JkZXJSYWRpdXMgPSB0b1RSQkxDb3JuZXJzKGxhYmVsQ29sb3IuYm9yZGVyUmFkaXVzKTtcbiAgICAgICAgICAgIGlmIChPYmplY3QudmFsdWVzKGJvcmRlclJhZGl1cykuc29tZSgodik9PnYgIT09IDApKSB7XG4gICAgICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBvcHRpb25zLm11bHRpS2V5QmFja2dyb3VuZDtcbiAgICAgICAgICAgICAgICBhZGRSb3VuZGVkUmVjdFBhdGgoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgIHg6IG91dGVyWCxcbiAgICAgICAgICAgICAgICAgICAgeTogY29sb3JZLFxuICAgICAgICAgICAgICAgICAgICB3OiBib3hXaWR0aCxcbiAgICAgICAgICAgICAgICAgICAgaDogYm94SGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICByYWRpdXM6IGJvcmRlclJhZGl1c1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGN0eC5maWxsKCk7XG4gICAgICAgICAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBsYWJlbENvbG9yLmJhY2tncm91bmRDb2xvcjtcbiAgICAgICAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICAgICAgYWRkUm91bmRlZFJlY3RQYXRoKGN0eCwge1xuICAgICAgICAgICAgICAgICAgICB4OiBpbm5lclgsXG4gICAgICAgICAgICAgICAgICAgIHk6IGNvbG9yWSArIDEsXG4gICAgICAgICAgICAgICAgICAgIHc6IGJveFdpZHRoIC0gMixcbiAgICAgICAgICAgICAgICAgICAgaDogYm94SGVpZ2h0IC0gMixcbiAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiBib3JkZXJSYWRpdXNcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjdHguZmlsbCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gb3B0aW9ucy5tdWx0aUtleUJhY2tncm91bmQ7XG4gICAgICAgICAgICAgICAgY3R4LmZpbGxSZWN0KG91dGVyWCwgY29sb3JZLCBib3hXaWR0aCwgYm94SGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBjdHguc3Ryb2tlUmVjdChvdXRlclgsIGNvbG9yWSwgYm94V2lkdGgsIGJveEhlaWdodCk7XG4gICAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGxhYmVsQ29sb3IuYmFja2dyb3VuZENvbG9yO1xuICAgICAgICAgICAgICAgIGN0eC5maWxsUmVjdChpbm5lclgsIGNvbG9yWSArIDEsIGJveFdpZHRoIC0gMiwgYm94SGVpZ2h0IC0gMik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMubGFiZWxUZXh0Q29sb3JzW2ldO1xuICAgIH1cbiAgICBkcmF3Qm9keShwdCwgY3R4LCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHsgYm9keSAgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHsgYm9keVNwYWNpbmcgLCBib2R5QWxpZ24gLCBkaXNwbGF5Q29sb3JzICwgYm94SGVpZ2h0ICwgYm94V2lkdGggLCBib3hQYWRkaW5nICB9ID0gb3B0aW9ucztcbiAgICAgICAgY29uc3QgYm9keUZvbnQgPSB0b0ZvbnQob3B0aW9ucy5ib2R5Rm9udCk7XG4gICAgICAgIGxldCBib2R5TGluZUhlaWdodCA9IGJvZHlGb250LmxpbmVIZWlnaHQ7XG4gICAgICAgIGxldCB4TGluZVBhZGRpbmcgPSAwO1xuICAgICAgICBjb25zdCBydGxIZWxwZXIgPSBnZXRSdGxBZGFwdGVyKG9wdGlvbnMucnRsLCB0aGlzLngsIHRoaXMud2lkdGgpO1xuICAgICAgICBjb25zdCBmaWxsTGluZU9mVGV4dCA9IGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgICAgIGN0eC5maWxsVGV4dChsaW5lLCBydGxIZWxwZXIueChwdC54ICsgeExpbmVQYWRkaW5nKSwgcHQueSArIGJvZHlMaW5lSGVpZ2h0IC8gMik7XG4gICAgICAgICAgICBwdC55ICs9IGJvZHlMaW5lSGVpZ2h0ICsgYm9keVNwYWNpbmc7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGJvZHlBbGlnbkZvckNhbGN1bGF0aW9uID0gcnRsSGVscGVyLnRleHRBbGlnbihib2R5QWxpZ24pO1xuICAgICAgICBsZXQgYm9keUl0ZW0sIHRleHRDb2xvciwgbGluZXMsIGksIGosIGlsZW4sIGpsZW47XG4gICAgICAgIGN0eC50ZXh0QWxpZ24gPSBib2R5QWxpZ247XG4gICAgICAgIGN0eC50ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJztcbiAgICAgICAgY3R4LmZvbnQgPSBib2R5Rm9udC5zdHJpbmc7XG4gICAgICAgIHB0LnggPSBnZXRBbGlnbmVkWCh0aGlzLCBib2R5QWxpZ25Gb3JDYWxjdWxhdGlvbiwgb3B0aW9ucyk7XG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBvcHRpb25zLmJvZHlDb2xvcjtcbiAgICAgICAgZWFjaCh0aGlzLmJlZm9yZUJvZHksIGZpbGxMaW5lT2ZUZXh0KTtcbiAgICAgICAgeExpbmVQYWRkaW5nID0gZGlzcGxheUNvbG9ycyAmJiBib2R5QWxpZ25Gb3JDYWxjdWxhdGlvbiAhPT0gJ3JpZ2h0JyA/IGJvZHlBbGlnbiA9PT0gJ2NlbnRlcicgPyBib3hXaWR0aCAvIDIgKyBib3hQYWRkaW5nIDogYm94V2lkdGggKyAyICsgYm94UGFkZGluZyA6IDA7XG4gICAgICAgIGZvcihpID0gMCwgaWxlbiA9IGJvZHkubGVuZ3RoOyBpIDwgaWxlbjsgKytpKXtcbiAgICAgICAgICAgIGJvZHlJdGVtID0gYm9keVtpXTtcbiAgICAgICAgICAgIHRleHRDb2xvciA9IHRoaXMubGFiZWxUZXh0Q29sb3JzW2ldO1xuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHRleHRDb2xvcjtcbiAgICAgICAgICAgIGVhY2goYm9keUl0ZW0uYmVmb3JlLCBmaWxsTGluZU9mVGV4dCk7XG4gICAgICAgICAgICBsaW5lcyA9IGJvZHlJdGVtLmxpbmVzO1xuICAgICAgICAgICAgaWYgKGRpc3BsYXlDb2xvcnMgJiYgbGluZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHJhd0NvbG9yQm94KGN0eCwgcHQsIGksIHJ0bEhlbHBlciwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgYm9keUxpbmVIZWlnaHQgPSBNYXRoLm1heChib2R5Rm9udC5saW5lSGVpZ2h0LCBib3hIZWlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yKGogPSAwLCBqbGVuID0gbGluZXMubGVuZ3RoOyBqIDwgamxlbjsgKytqKXtcbiAgICAgICAgICAgICAgICBmaWxsTGluZU9mVGV4dChsaW5lc1tqXSk7XG4gICAgICAgICAgICAgICAgYm9keUxpbmVIZWlnaHQgPSBib2R5Rm9udC5saW5lSGVpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWFjaChib2R5SXRlbS5hZnRlciwgZmlsbExpbmVPZlRleHQpO1xuICAgICAgICB9XG4gICAgICAgIHhMaW5lUGFkZGluZyA9IDA7XG4gICAgICAgIGJvZHlMaW5lSGVpZ2h0ID0gYm9keUZvbnQubGluZUhlaWdodDtcbiAgICAgICAgZWFjaCh0aGlzLmFmdGVyQm9keSwgZmlsbExpbmVPZlRleHQpO1xuICAgICAgICBwdC55IC09IGJvZHlTcGFjaW5nO1xuICAgIH1cbiAgICBkcmF3Rm9vdGVyKHB0LCBjdHgsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgZm9vdGVyID0gdGhpcy5mb290ZXI7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IGZvb3Rlci5sZW5ndGg7XG4gICAgICAgIGxldCBmb290ZXJGb250LCBpO1xuICAgICAgICBpZiAobGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBydGxIZWxwZXIgPSBnZXRSdGxBZGFwdGVyKG9wdGlvbnMucnRsLCB0aGlzLngsIHRoaXMud2lkdGgpO1xuICAgICAgICAgICAgcHQueCA9IGdldEFsaWduZWRYKHRoaXMsIG9wdGlvbnMuZm9vdGVyQWxpZ24sIG9wdGlvbnMpO1xuICAgICAgICAgICAgcHQueSArPSBvcHRpb25zLmZvb3Rlck1hcmdpblRvcDtcbiAgICAgICAgICAgIGN0eC50ZXh0QWxpZ24gPSBydGxIZWxwZXIudGV4dEFsaWduKG9wdGlvbnMuZm9vdGVyQWxpZ24pO1xuICAgICAgICAgICAgY3R4LnRleHRCYXNlbGluZSA9ICdtaWRkbGUnO1xuICAgICAgICAgICAgZm9vdGVyRm9udCA9IHRvRm9udChvcHRpb25zLmZvb3RlckZvbnQpO1xuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IG9wdGlvbnMuZm9vdGVyQ29sb3I7XG4gICAgICAgICAgICBjdHguZm9udCA9IGZvb3RlckZvbnQuc3RyaW5nO1xuICAgICAgICAgICAgZm9yKGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpe1xuICAgICAgICAgICAgICAgIGN0eC5maWxsVGV4dChmb290ZXJbaV0sIHJ0bEhlbHBlci54KHB0LngpLCBwdC55ICsgZm9vdGVyRm9udC5saW5lSGVpZ2h0IC8gMik7XG4gICAgICAgICAgICAgICAgcHQueSArPSBmb290ZXJGb250LmxpbmVIZWlnaHQgKyBvcHRpb25zLmZvb3RlclNwYWNpbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZHJhd0JhY2tncm91bmQocHQsIGN0eCwgdG9vbHRpcFNpemUsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgeyB4QWxpZ24gLCB5QWxpZ24gIH0gPSB0aGlzO1xuICAgICAgICBjb25zdCB7IHggLCB5ICB9ID0gcHQ7XG4gICAgICAgIGNvbnN0IHsgd2lkdGggLCBoZWlnaHQgIH0gPSB0b29sdGlwU2l6ZTtcbiAgICAgICAgY29uc3QgeyB0b3BMZWZ0ICwgdG9wUmlnaHQgLCBib3R0b21MZWZ0ICwgYm90dG9tUmlnaHQgIH0gPSB0b1RSQkxDb3JuZXJzKG9wdGlvbnMuY29ybmVyUmFkaXVzKTtcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IG9wdGlvbnMuYmFja2dyb3VuZENvbG9yO1xuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBvcHRpb25zLmJvcmRlckNvbG9yO1xuICAgICAgICBjdHgubGluZVdpZHRoID0gb3B0aW9ucy5ib3JkZXJXaWR0aDtcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICBjdHgubW92ZVRvKHggKyB0b3BMZWZ0LCB5KTtcbiAgICAgICAgaWYgKHlBbGlnbiA9PT0gJ3RvcCcpIHtcbiAgICAgICAgICAgIHRoaXMuZHJhd0NhcmV0KHB0LCBjdHgsIHRvb2x0aXBTaXplLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBjdHgubGluZVRvKHggKyB3aWR0aCAtIHRvcFJpZ2h0LCB5KTtcbiAgICAgICAgY3R4LnF1YWRyYXRpY0N1cnZlVG8oeCArIHdpZHRoLCB5LCB4ICsgd2lkdGgsIHkgKyB0b3BSaWdodCk7XG4gICAgICAgIGlmICh5QWxpZ24gPT09ICdjZW50ZXInICYmIHhBbGlnbiA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgICAgdGhpcy5kcmF3Q2FyZXQocHQsIGN0eCwgdG9vbHRpcFNpemUsIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGN0eC5saW5lVG8oeCArIHdpZHRoLCB5ICsgaGVpZ2h0IC0gYm90dG9tUmlnaHQpO1xuICAgICAgICBjdHgucXVhZHJhdGljQ3VydmVUbyh4ICsgd2lkdGgsIHkgKyBoZWlnaHQsIHggKyB3aWR0aCAtIGJvdHRvbVJpZ2h0LCB5ICsgaGVpZ2h0KTtcbiAgICAgICAgaWYgKHlBbGlnbiA9PT0gJ2JvdHRvbScpIHtcbiAgICAgICAgICAgIHRoaXMuZHJhd0NhcmV0KHB0LCBjdHgsIHRvb2x0aXBTaXplLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBjdHgubGluZVRvKHggKyBib3R0b21MZWZ0LCB5ICsgaGVpZ2h0KTtcbiAgICAgICAgY3R4LnF1YWRyYXRpY0N1cnZlVG8oeCwgeSArIGhlaWdodCwgeCwgeSArIGhlaWdodCAtIGJvdHRvbUxlZnQpO1xuICAgICAgICBpZiAoeUFsaWduID09PSAnY2VudGVyJyAmJiB4QWxpZ24gPT09ICdsZWZ0Jykge1xuICAgICAgICAgICAgdGhpcy5kcmF3Q2FyZXQocHQsIGN0eCwgdG9vbHRpcFNpemUsIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGN0eC5saW5lVG8oeCwgeSArIHRvcExlZnQpO1xuICAgICAgICBjdHgucXVhZHJhdGljQ3VydmVUbyh4LCB5LCB4ICsgdG9wTGVmdCwgeSk7XG4gICAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICAgICAgY3R4LmZpbGwoKTtcbiAgICAgICAgaWYgKG9wdGlvbnMuYm9yZGVyV2lkdGggPiAwKSB7XG4gICAgICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gX3VwZGF0ZUFuaW1hdGlvblRhcmdldChvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGNoYXJ0ID0gdGhpcy5jaGFydDtcbiAgICAgICAgY29uc3QgYW5pbXMgPSB0aGlzLiRhbmltYXRpb25zO1xuICAgICAgICBjb25zdCBhbmltWCA9IGFuaW1zICYmIGFuaW1zLng7XG4gICAgICAgIGNvbnN0IGFuaW1ZID0gYW5pbXMgJiYgYW5pbXMueTtcbiAgICAgICAgaWYgKGFuaW1YIHx8IGFuaW1ZKSB7XG4gICAgICAgICAgICBjb25zdCBwb3NpdGlvbiA9IHBvc2l0aW9uZXJzW29wdGlvbnMucG9zaXRpb25dLmNhbGwodGhpcywgdGhpcy5fYWN0aXZlLCB0aGlzLl9ldmVudFBvc2l0aW9uKTtcbiAgICAgICAgICAgIGlmICghcG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzaXplID0gdGhpcy5fc2l6ZSA9IGdldFRvb2x0aXBTaXplKHRoaXMsIG9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgcG9zaXRpb25BbmRTaXplID0gT2JqZWN0LmFzc2lnbih7fSwgcG9zaXRpb24sIHRoaXMuX3NpemUpO1xuICAgICAgICAgICAgY29uc3QgYWxpZ25tZW50ID0gZGV0ZXJtaW5lQWxpZ25tZW50KGNoYXJ0LCBvcHRpb25zLCBwb3NpdGlvbkFuZFNpemUpO1xuICAgICAgICAgICAgY29uc3QgcG9pbnQgPSBnZXRCYWNrZ3JvdW5kUG9pbnQob3B0aW9ucywgcG9zaXRpb25BbmRTaXplLCBhbGlnbm1lbnQsIGNoYXJ0KTtcbiAgICAgICAgICAgIGlmIChhbmltWC5fdG8gIT09IHBvaW50LnggfHwgYW5pbVkuX3RvICE9PSBwb2ludC55KSB7XG4gICAgICAgICAgICAgICAgdGhpcy54QWxpZ24gPSBhbGlnbm1lbnQueEFsaWduO1xuICAgICAgICAgICAgICAgIHRoaXMueUFsaWduID0gYWxpZ25tZW50LnlBbGlnbjtcbiAgICAgICAgICAgICAgICB0aGlzLndpZHRoID0gc2l6ZS53aWR0aDtcbiAgICAgICAgICAgICAgICB0aGlzLmhlaWdodCA9IHNpemUuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIHRoaXMuY2FyZXRYID0gcG9zaXRpb24ueDtcbiAgICAgICAgICAgICAgICB0aGlzLmNhcmV0WSA9IHBvc2l0aW9uLnk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZUFuaW1hdGlvbnMoKS51cGRhdGUodGhpcywgcG9pbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuIF93aWxsUmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLm9wYWNpdHk7XG4gICAgfVxuICAgIGRyYXcoY3R4KSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMuc2V0Q29udGV4dCh0aGlzLmdldENvbnRleHQoKSk7XG4gICAgICAgIGxldCBvcGFjaXR5ID0gdGhpcy5vcGFjaXR5O1xuICAgICAgICBpZiAoIW9wYWNpdHkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl91cGRhdGVBbmltYXRpb25UYXJnZXQob3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IHRvb2x0aXBTaXplID0ge1xuICAgICAgICAgICAgd2lkdGg6IHRoaXMud2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IHRoaXMuaGVpZ2h0XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHB0ID0ge1xuICAgICAgICAgICAgeDogdGhpcy54LFxuICAgICAgICAgICAgeTogdGhpcy55XG4gICAgICAgIH07XG4gICAgICAgIG9wYWNpdHkgPSBNYXRoLmFicyhvcGFjaXR5KSA8IDFlLTMgPyAwIDogb3BhY2l0eTtcbiAgICAgICAgY29uc3QgcGFkZGluZyA9IHRvUGFkZGluZyhvcHRpb25zLnBhZGRpbmcpO1xuICAgICAgICBjb25zdCBoYXNUb29sdGlwQ29udGVudCA9IHRoaXMudGl0bGUubGVuZ3RoIHx8IHRoaXMuYmVmb3JlQm9keS5sZW5ndGggfHwgdGhpcy5ib2R5Lmxlbmd0aCB8fCB0aGlzLmFmdGVyQm9keS5sZW5ndGggfHwgdGhpcy5mb290ZXIubGVuZ3RoO1xuICAgICAgICBpZiAob3B0aW9ucy5lbmFibGVkICYmIGhhc1Rvb2x0aXBDb250ZW50KSB7XG4gICAgICAgICAgICBjdHguc2F2ZSgpO1xuICAgICAgICAgICAgY3R4Lmdsb2JhbEFscGhhID0gb3BhY2l0eTtcbiAgICAgICAgICAgIHRoaXMuZHJhd0JhY2tncm91bmQocHQsIGN0eCwgdG9vbHRpcFNpemUsIG9wdGlvbnMpO1xuICAgICAgICAgICAgb3ZlcnJpZGVUZXh0RGlyZWN0aW9uKGN0eCwgb3B0aW9ucy50ZXh0RGlyZWN0aW9uKTtcbiAgICAgICAgICAgIHB0LnkgKz0gcGFkZGluZy50b3A7XG4gICAgICAgICAgICB0aGlzLmRyYXdUaXRsZShwdCwgY3R4LCBvcHRpb25zKTtcbiAgICAgICAgICAgIHRoaXMuZHJhd0JvZHkocHQsIGN0eCwgb3B0aW9ucyk7XG4gICAgICAgICAgICB0aGlzLmRyYXdGb290ZXIocHQsIGN0eCwgb3B0aW9ucyk7XG4gICAgICAgICAgICByZXN0b3JlVGV4dERpcmVjdGlvbihjdHgsIG9wdGlvbnMudGV4dERpcmVjdGlvbik7XG4gICAgICAgICAgICBjdHgucmVzdG9yZSgpO1xuICAgICAgICB9XG4gICAgfVxuIGdldEFjdGl2ZUVsZW1lbnRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWN0aXZlIHx8IFtdO1xuICAgIH1cbiBzZXRBY3RpdmVFbGVtZW50cyhhY3RpdmVFbGVtZW50cywgZXZlbnRQb3NpdGlvbikge1xuICAgICAgICBjb25zdCBsYXN0QWN0aXZlID0gdGhpcy5fYWN0aXZlO1xuICAgICAgICBjb25zdCBhY3RpdmUgPSBhY3RpdmVFbGVtZW50cy5tYXAoKHsgZGF0YXNldEluZGV4ICwgaW5kZXggIH0pPT57XG4gICAgICAgICAgICBjb25zdCBtZXRhID0gdGhpcy5jaGFydC5nZXREYXRhc2V0TWV0YShkYXRhc2V0SW5kZXgpO1xuICAgICAgICAgICAgaWYgKCFtZXRhKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgZmluZCBhIGRhdGFzZXQgYXQgaW5kZXggJyArIGRhdGFzZXRJbmRleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGRhdGFzZXRJbmRleCxcbiAgICAgICAgICAgICAgICBlbGVtZW50OiBtZXRhLmRhdGFbaW5kZXhdLFxuICAgICAgICAgICAgICAgIGluZGV4XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgY2hhbmdlZCA9ICFfZWxlbWVudHNFcXVhbChsYXN0QWN0aXZlLCBhY3RpdmUpO1xuICAgICAgICBjb25zdCBwb3NpdGlvbkNoYW5nZWQgPSB0aGlzLl9wb3NpdGlvbkNoYW5nZWQoYWN0aXZlLCBldmVudFBvc2l0aW9uKTtcbiAgICAgICAgaWYgKGNoYW5nZWQgfHwgcG9zaXRpb25DaGFuZ2VkKSB7XG4gICAgICAgICAgICB0aGlzLl9hY3RpdmUgPSBhY3RpdmU7XG4gICAgICAgICAgICB0aGlzLl9ldmVudFBvc2l0aW9uID0gZXZlbnRQb3NpdGlvbjtcbiAgICAgICAgICAgIHRoaXMuX2lnbm9yZVJlcGxheUV2ZW50cyA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZSh0cnVlKTtcbiAgICAgICAgfVxuICAgIH1cbiBoYW5kbGVFdmVudChlLCByZXBsYXksIGluQ2hhcnRBcmVhID0gdHJ1ZSkge1xuICAgICAgICBpZiAocmVwbGF5ICYmIHRoaXMuX2lnbm9yZVJlcGxheUV2ZW50cykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2lnbm9yZVJlcGxheUV2ZW50cyA9IGZhbHNlO1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBsYXN0QWN0aXZlID0gdGhpcy5fYWN0aXZlIHx8IFtdO1xuICAgICAgICBjb25zdCBhY3RpdmUgPSB0aGlzLl9nZXRBY3RpdmVFbGVtZW50cyhlLCBsYXN0QWN0aXZlLCByZXBsYXksIGluQ2hhcnRBcmVhKTtcbiAgICAgICAgY29uc3QgcG9zaXRpb25DaGFuZ2VkID0gdGhpcy5fcG9zaXRpb25DaGFuZ2VkKGFjdGl2ZSwgZSk7XG4gICAgICAgIGNvbnN0IGNoYW5nZWQgPSByZXBsYXkgfHwgIV9lbGVtZW50c0VxdWFsKGFjdGl2ZSwgbGFzdEFjdGl2ZSkgfHwgcG9zaXRpb25DaGFuZ2VkO1xuICAgICAgICBpZiAoY2hhbmdlZCkge1xuICAgICAgICAgICAgdGhpcy5fYWN0aXZlID0gYWN0aXZlO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuZW5hYmxlZCB8fCBvcHRpb25zLmV4dGVybmFsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZXZlbnRQb3NpdGlvbiA9IHtcbiAgICAgICAgICAgICAgICAgICAgeDogZS54LFxuICAgICAgICAgICAgICAgICAgICB5OiBlLnlcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlKHRydWUsIHJlcGxheSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNoYW5nZWQ7XG4gICAgfVxuIF9nZXRBY3RpdmVFbGVtZW50cyhlLCBsYXN0QWN0aXZlLCByZXBsYXksIGluQ2hhcnRBcmVhKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGlmIChlLnR5cGUgPT09ICdtb3VzZW91dCcpIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWluQ2hhcnRBcmVhKSB7XG4gICAgICAgICAgICByZXR1cm4gbGFzdEFjdGl2ZS5maWx0ZXIoKGkpPT50aGlzLmNoYXJ0LmRhdGEuZGF0YXNldHNbaS5kYXRhc2V0SW5kZXhdICYmIHRoaXMuY2hhcnQuZ2V0RGF0YXNldE1ldGEoaS5kYXRhc2V0SW5kZXgpLmNvbnRyb2xsZXIuZ2V0UGFyc2VkKGkuaW5kZXgpICE9PSB1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGFjdGl2ZSA9IHRoaXMuY2hhcnQuZ2V0RWxlbWVudHNBdEV2ZW50Rm9yTW9kZShlLCBvcHRpb25zLm1vZGUsIG9wdGlvbnMsIHJlcGxheSk7XG4gICAgICAgIGlmIChvcHRpb25zLnJldmVyc2UpIHtcbiAgICAgICAgICAgIGFjdGl2ZS5yZXZlcnNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFjdGl2ZTtcbiAgICB9XG4gX3Bvc2l0aW9uQ2hhbmdlZChhY3RpdmUsIGUpIHtcbiAgICAgICAgY29uc3QgeyBjYXJldFggLCBjYXJldFkgLCBvcHRpb25zICB9ID0gdGhpcztcbiAgICAgICAgY29uc3QgcG9zaXRpb24gPSBwb3NpdGlvbmVyc1tvcHRpb25zLnBvc2l0aW9uXS5jYWxsKHRoaXMsIGFjdGl2ZSwgZSk7XG4gICAgICAgIHJldHVybiBwb3NpdGlvbiAhPT0gZmFsc2UgJiYgKGNhcmV0WCAhPT0gcG9zaXRpb24ueCB8fCBjYXJldFkgIT09IHBvc2l0aW9uLnkpO1xuICAgIH1cbn1cbnZhciBwbHVnaW5fdG9vbHRpcCA9IHtcbiAgICBpZDogJ3Rvb2x0aXAnLFxuICAgIF9lbGVtZW50OiBUb29sdGlwLFxuICAgIHBvc2l0aW9uZXJzLFxuICAgIGFmdGVySW5pdCAoY2hhcnQsIF9hcmdzLCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zKSB7XG4gICAgICAgICAgICBjaGFydC50b29sdGlwID0gbmV3IFRvb2x0aXAoe1xuICAgICAgICAgICAgICAgIGNoYXJ0LFxuICAgICAgICAgICAgICAgIG9wdGlvbnNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBiZWZvcmVVcGRhdGUgKGNoYXJ0LCBfYXJncywgb3B0aW9ucykge1xuICAgICAgICBpZiAoY2hhcnQudG9vbHRpcCkge1xuICAgICAgICAgICAgY2hhcnQudG9vbHRpcC5pbml0aWFsaXplKG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICByZXNldCAoY2hhcnQsIF9hcmdzLCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChjaGFydC50b29sdGlwKSB7XG4gICAgICAgICAgICBjaGFydC50b29sdGlwLmluaXRpYWxpemUob3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGFmdGVyRHJhdyAoY2hhcnQpIHtcbiAgICAgICAgY29uc3QgdG9vbHRpcCA9IGNoYXJ0LnRvb2x0aXA7XG4gICAgICAgIGlmICh0b29sdGlwICYmIHRvb2x0aXAuX3dpbGxSZW5kZXIoKSkge1xuICAgICAgICAgICAgY29uc3QgYXJncyA9IHtcbiAgICAgICAgICAgICAgICB0b29sdGlwXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKGNoYXJ0Lm5vdGlmeVBsdWdpbnMoJ2JlZm9yZVRvb2x0aXBEcmF3Jywge1xuICAgICAgICAgICAgICAgIC4uLmFyZ3MsXG4gICAgICAgICAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZVxuICAgICAgICAgICAgfSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdG9vbHRpcC5kcmF3KGNoYXJ0LmN0eCk7XG4gICAgICAgICAgICBjaGFydC5ub3RpZnlQbHVnaW5zKCdhZnRlclRvb2x0aXBEcmF3JywgYXJncyk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGFmdGVyRXZlbnQgKGNoYXJ0LCBhcmdzKSB7XG4gICAgICAgIGlmIChjaGFydC50b29sdGlwKSB7XG4gICAgICAgICAgICBjb25zdCB1c2VGaW5hbFBvc2l0aW9uID0gYXJncy5yZXBsYXk7XG4gICAgICAgICAgICBpZiAoY2hhcnQudG9vbHRpcC5oYW5kbGVFdmVudChhcmdzLmV2ZW50LCB1c2VGaW5hbFBvc2l0aW9uLCBhcmdzLmluQ2hhcnRBcmVhKSkge1xuICAgICAgICAgICAgICAgIGFyZ3MuY2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGRlZmF1bHRzOiB7XG4gICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgIGV4dGVybmFsOiBudWxsLFxuICAgICAgICBwb3NpdGlvbjogJ2F2ZXJhZ2UnLFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDAsMCwwLDAuOCknLFxuICAgICAgICB0aXRsZUNvbG9yOiAnI2ZmZicsXG4gICAgICAgIHRpdGxlRm9udDoge1xuICAgICAgICAgICAgd2VpZ2h0OiAnYm9sZCdcbiAgICAgICAgfSxcbiAgICAgICAgdGl0bGVTcGFjaW5nOiAyLFxuICAgICAgICB0aXRsZU1hcmdpbkJvdHRvbTogNixcbiAgICAgICAgdGl0bGVBbGlnbjogJ2xlZnQnLFxuICAgICAgICBib2R5Q29sb3I6ICcjZmZmJyxcbiAgICAgICAgYm9keVNwYWNpbmc6IDIsXG4gICAgICAgIGJvZHlGb250OiB7fSxcbiAgICAgICAgYm9keUFsaWduOiAnbGVmdCcsXG4gICAgICAgIGZvb3RlckNvbG9yOiAnI2ZmZicsXG4gICAgICAgIGZvb3RlclNwYWNpbmc6IDIsXG4gICAgICAgIGZvb3Rlck1hcmdpblRvcDogNixcbiAgICAgICAgZm9vdGVyRm9udDoge1xuICAgICAgICAgICAgd2VpZ2h0OiAnYm9sZCdcbiAgICAgICAgfSxcbiAgICAgICAgZm9vdGVyQWxpZ246ICdsZWZ0JyxcbiAgICAgICAgcGFkZGluZzogNixcbiAgICAgICAgY2FyZXRQYWRkaW5nOiAyLFxuICAgICAgICBjYXJldFNpemU6IDUsXG4gICAgICAgIGNvcm5lclJhZGl1czogNixcbiAgICAgICAgYm94SGVpZ2h0OiAoY3R4LCBvcHRzKT0+b3B0cy5ib2R5Rm9udC5zaXplLFxuICAgICAgICBib3hXaWR0aDogKGN0eCwgb3B0cyk9Pm9wdHMuYm9keUZvbnQuc2l6ZSxcbiAgICAgICAgbXVsdGlLZXlCYWNrZ3JvdW5kOiAnI2ZmZicsXG4gICAgICAgIGRpc3BsYXlDb2xvcnM6IHRydWUsXG4gICAgICAgIGJveFBhZGRpbmc6IDAsXG4gICAgICAgIGJvcmRlckNvbG9yOiAncmdiYSgwLDAsMCwwKScsXG4gICAgICAgIGJvcmRlcldpZHRoOiAwLFxuICAgICAgICBhbmltYXRpb246IHtcbiAgICAgICAgICAgIGR1cmF0aW9uOiA0MDAsXG4gICAgICAgICAgICBlYXNpbmc6ICdlYXNlT3V0UXVhcnQnXG4gICAgICAgIH0sXG4gICAgICAgIGFuaW1hdGlvbnM6IHtcbiAgICAgICAgICAgIG51bWJlcnM6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnbnVtYmVyJyxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiBbXG4gICAgICAgICAgICAgICAgICAgICd4JyxcbiAgICAgICAgICAgICAgICAgICAgJ3knLFxuICAgICAgICAgICAgICAgICAgICAnd2lkdGgnLFxuICAgICAgICAgICAgICAgICAgICAnaGVpZ2h0JyxcbiAgICAgICAgICAgICAgICAgICAgJ2NhcmV0WCcsXG4gICAgICAgICAgICAgICAgICAgICdjYXJldFknXG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9wYWNpdHk6IHtcbiAgICAgICAgICAgICAgICBlYXNpbmc6ICdsaW5lYXInLFxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAyMDBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgY2FsbGJhY2tzOiBkZWZhdWx0Q2FsbGJhY2tzXG4gICAgfSxcbiAgICBkZWZhdWx0Um91dGVzOiB7XG4gICAgICAgIGJvZHlGb250OiAnZm9udCcsXG4gICAgICAgIGZvb3RlckZvbnQ6ICdmb250JyxcbiAgICAgICAgdGl0bGVGb250OiAnZm9udCdcbiAgICB9LFxuICAgIGRlc2NyaXB0b3JzOiB7XG4gICAgICAgIF9zY3JpcHRhYmxlOiAobmFtZSk9Pm5hbWUgIT09ICdmaWx0ZXInICYmIG5hbWUgIT09ICdpdGVtU29ydCcgJiYgbmFtZSAhPT0gJ2V4dGVybmFsJyxcbiAgICAgICAgX2luZGV4YWJsZTogZmFsc2UsXG4gICAgICAgIGNhbGxiYWNrczoge1xuICAgICAgICAgICAgX3NjcmlwdGFibGU6IGZhbHNlLFxuICAgICAgICAgICAgX2luZGV4YWJsZTogZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgYW5pbWF0aW9uOiB7XG4gICAgICAgICAgICBfZmFsbGJhY2s6IGZhbHNlXG4gICAgICAgIH0sXG4gICAgICAgIGFuaW1hdGlvbnM6IHtcbiAgICAgICAgICAgIF9mYWxsYmFjazogJ2FuaW1hdGlvbidcbiAgICAgICAgfVxuICAgIH0sXG4gICAgYWRkaXRpb25hbE9wdGlvblNjb3BlczogW1xuICAgICAgICAnaW50ZXJhY3Rpb24nXG4gICAgXVxufTtcblxudmFyIHBsdWdpbnMgPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7XG5fX3Byb3RvX186IG51bGwsXG5Db2xvcnM6IHBsdWdpbl9jb2xvcnMsXG5EZWNpbWF0aW9uOiBwbHVnaW5fZGVjaW1hdGlvbixcbkZpbGxlcjogaW5kZXgsXG5MZWdlbmQ6IHBsdWdpbl9sZWdlbmQsXG5TdWJUaXRsZTogcGx1Z2luX3N1YnRpdGxlLFxuVGl0bGU6IHBsdWdpbl90aXRsZSxcblRvb2x0aXA6IHBsdWdpbl90b29sdGlwXG59KTtcblxuY29uc3QgYWRkSWZTdHJpbmcgPSAobGFiZWxzLCByYXcsIGluZGV4LCBhZGRlZExhYmVscyk9PntcbiAgICBpZiAodHlwZW9mIHJhdyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgaW5kZXggPSBsYWJlbHMucHVzaChyYXcpIC0gMTtcbiAgICAgICAgYWRkZWRMYWJlbHMudW5zaGlmdCh7XG4gICAgICAgICAgICBpbmRleCxcbiAgICAgICAgICAgIGxhYmVsOiByYXdcbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChpc05hTihyYXcpKSB7XG4gICAgICAgIGluZGV4ID0gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGluZGV4O1xufTtcbmZ1bmN0aW9uIGZpbmRPckFkZExhYmVsKGxhYmVscywgcmF3LCBpbmRleCwgYWRkZWRMYWJlbHMpIHtcbiAgICBjb25zdCBmaXJzdCA9IGxhYmVscy5pbmRleE9mKHJhdyk7XG4gICAgaWYgKGZpcnN0ID09PSAtMSkge1xuICAgICAgICByZXR1cm4gYWRkSWZTdHJpbmcobGFiZWxzLCByYXcsIGluZGV4LCBhZGRlZExhYmVscyk7XG4gICAgfVxuICAgIGNvbnN0IGxhc3QgPSBsYWJlbHMubGFzdEluZGV4T2YocmF3KTtcbiAgICByZXR1cm4gZmlyc3QgIT09IGxhc3QgPyBpbmRleCA6IGZpcnN0O1xufVxuY29uc3QgdmFsaWRJbmRleCA9IChpbmRleCwgbWF4KT0+aW5kZXggPT09IG51bGwgPyBudWxsIDogX2xpbWl0VmFsdWUoTWF0aC5yb3VuZChpbmRleCksIDAsIG1heCk7XG5mdW5jdGlvbiBfZ2V0TGFiZWxGb3JWYWx1ZSh2YWx1ZSkge1xuICAgIGNvbnN0IGxhYmVscyA9IHRoaXMuZ2V0TGFiZWxzKCk7XG4gICAgaWYgKHZhbHVlID49IDAgJiYgdmFsdWUgPCBsYWJlbHMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBsYWJlbHNbdmFsdWVdO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG5jbGFzcyBDYXRlZ29yeVNjYWxlIGV4dGVuZHMgU2NhbGUge1xuICAgIHN0YXRpYyBpZCA9ICdjYXRlZ29yeSc7XG4gc3RhdGljIGRlZmF1bHRzID0ge1xuICAgICAgICB0aWNrczoge1xuICAgICAgICAgICAgY2FsbGJhY2s6IF9nZXRMYWJlbEZvclZhbHVlXG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0cnVjdG9yKGNmZyl7XG4gICAgICAgIHN1cGVyKGNmZyk7XG4gICAgICAgICB0aGlzLl9zdGFydFZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl92YWx1ZVJhbmdlID0gMDtcbiAgICAgICAgdGhpcy5fYWRkZWRMYWJlbHMgPSBbXTtcbiAgICB9XG4gICAgaW5pdChzY2FsZU9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgYWRkZWQgPSB0aGlzLl9hZGRlZExhYmVscztcbiAgICAgICAgaWYgKGFkZGVkLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgbGFiZWxzID0gdGhpcy5nZXRMYWJlbHMoKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgeyBpbmRleCAsIGxhYmVsICB9IG9mIGFkZGVkKXtcbiAgICAgICAgICAgICAgICBpZiAobGFiZWxzW2luZGV4XSA9PT0gbGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWxzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fYWRkZWRMYWJlbHMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBzdXBlci5pbml0KHNjYWxlT3B0aW9ucyk7XG4gICAgfVxuICAgIHBhcnNlKHJhdywgaW5kZXgpIHtcbiAgICAgICAgaWYgKGlzTnVsbE9yVW5kZWYocmF3KSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbGFiZWxzID0gdGhpcy5nZXRMYWJlbHMoKTtcbiAgICAgICAgaW5kZXggPSBpc0Zpbml0ZShpbmRleCkgJiYgbGFiZWxzW2luZGV4XSA9PT0gcmF3ID8gaW5kZXggOiBmaW5kT3JBZGRMYWJlbChsYWJlbHMsIHJhdywgdmFsdWVPckRlZmF1bHQoaW5kZXgsIHJhdyksIHRoaXMuX2FkZGVkTGFiZWxzKTtcbiAgICAgICAgcmV0dXJuIHZhbGlkSW5kZXgoaW5kZXgsIGxhYmVscy5sZW5ndGggLSAxKTtcbiAgICB9XG4gICAgZGV0ZXJtaW5lRGF0YUxpbWl0cygpIHtcbiAgICAgICAgY29uc3QgeyBtaW5EZWZpbmVkICwgbWF4RGVmaW5lZCAgfSA9IHRoaXMuZ2V0VXNlckJvdW5kcygpO1xuICAgICAgICBsZXQgeyBtaW4gLCBtYXggIH0gPSB0aGlzLmdldE1pbk1heCh0cnVlKTtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5ib3VuZHMgPT09ICd0aWNrcycpIHtcbiAgICAgICAgICAgIGlmICghbWluRGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIG1pbiA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIW1heERlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBtYXggPSB0aGlzLmdldExhYmVscygpLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5taW4gPSBtaW47XG4gICAgICAgIHRoaXMubWF4ID0gbWF4O1xuICAgIH1cbiAgICBidWlsZFRpY2tzKCkge1xuICAgICAgICBjb25zdCBtaW4gPSB0aGlzLm1pbjtcbiAgICAgICAgY29uc3QgbWF4ID0gdGhpcy5tYXg7XG4gICAgICAgIGNvbnN0IG9mZnNldCA9IHRoaXMub3B0aW9ucy5vZmZzZXQ7XG4gICAgICAgIGNvbnN0IHRpY2tzID0gW107XG4gICAgICAgIGxldCBsYWJlbHMgPSB0aGlzLmdldExhYmVscygpO1xuICAgICAgICBsYWJlbHMgPSBtaW4gPT09IDAgJiYgbWF4ID09PSBsYWJlbHMubGVuZ3RoIC0gMSA/IGxhYmVscyA6IGxhYmVscy5zbGljZShtaW4sIG1heCArIDEpO1xuICAgICAgICB0aGlzLl92YWx1ZVJhbmdlID0gTWF0aC5tYXgobGFiZWxzLmxlbmd0aCAtIChvZmZzZXQgPyAwIDogMSksIDEpO1xuICAgICAgICB0aGlzLl9zdGFydFZhbHVlID0gdGhpcy5taW4gLSAob2Zmc2V0ID8gMC41IDogMCk7XG4gICAgICAgIGZvcihsZXQgdmFsdWUgPSBtaW47IHZhbHVlIDw9IG1heDsgdmFsdWUrKyl7XG4gICAgICAgICAgICB0aWNrcy5wdXNoKHtcbiAgICAgICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRpY2tzO1xuICAgIH1cbiAgICBnZXRMYWJlbEZvclZhbHVlKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBfZ2V0TGFiZWxGb3JWYWx1ZS5jYWxsKHRoaXMsIHZhbHVlKTtcbiAgICB9XG4gY29uZmlndXJlKCkge1xuICAgICAgICBzdXBlci5jb25maWd1cmUoKTtcbiAgICAgICAgaWYgKCF0aGlzLmlzSG9yaXpvbnRhbCgpKSB7XG4gICAgICAgICAgICB0aGlzLl9yZXZlcnNlUGl4ZWxzID0gIXRoaXMuX3JldmVyc2VQaXhlbHM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0UGl4ZWxGb3JWYWx1ZSh2YWx1ZSkge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgdmFsdWUgPSB0aGlzLnBhcnNlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWUgPT09IG51bGwgPyBOYU4gOiB0aGlzLmdldFBpeGVsRm9yRGVjaW1hbCgodmFsdWUgLSB0aGlzLl9zdGFydFZhbHVlKSAvIHRoaXMuX3ZhbHVlUmFuZ2UpO1xuICAgIH1cbiAgICBnZXRQaXhlbEZvclRpY2soaW5kZXgpIHtcbiAgICAgICAgY29uc3QgdGlja3MgPSB0aGlzLnRpY2tzO1xuICAgICAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID4gdGlja3MubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UGl4ZWxGb3JWYWx1ZSh0aWNrc1tpbmRleF0udmFsdWUpO1xuICAgIH1cbiAgICBnZXRWYWx1ZUZvclBpeGVsKHBpeGVsKSB7XG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kKHRoaXMuX3N0YXJ0VmFsdWUgKyB0aGlzLmdldERlY2ltYWxGb3JQaXhlbChwaXhlbCkgKiB0aGlzLl92YWx1ZVJhbmdlKTtcbiAgICB9XG4gICAgZ2V0QmFzZVBpeGVsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ib3R0b207XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZVRpY2tzJDEoZ2VuZXJhdGlvbk9wdGlvbnMsIGRhdGFSYW5nZSkge1xuICAgIGNvbnN0IHRpY2tzID0gW107XG4gICAgY29uc3QgTUlOX1NQQUNJTkcgPSAxZS0xNDtcbiAgICBjb25zdCB7IGJvdW5kcyAsIHN0ZXAgLCBtaW4gLCBtYXggLCBwcmVjaXNpb24gLCBjb3VudCAsIG1heFRpY2tzICwgbWF4RGlnaXRzICwgaW5jbHVkZUJvdW5kcyAgfSA9IGdlbmVyYXRpb25PcHRpb25zO1xuICAgIGNvbnN0IHVuaXQgPSBzdGVwIHx8IDE7XG4gICAgY29uc3QgbWF4U3BhY2VzID0gbWF4VGlja3MgLSAxO1xuICAgIGNvbnN0IHsgbWluOiBybWluICwgbWF4OiBybWF4ICB9ID0gZGF0YVJhbmdlO1xuICAgIGNvbnN0IG1pbkRlZmluZWQgPSAhaXNOdWxsT3JVbmRlZihtaW4pO1xuICAgIGNvbnN0IG1heERlZmluZWQgPSAhaXNOdWxsT3JVbmRlZihtYXgpO1xuICAgIGNvbnN0IGNvdW50RGVmaW5lZCA9ICFpc051bGxPclVuZGVmKGNvdW50KTtcbiAgICBjb25zdCBtaW5TcGFjaW5nID0gKHJtYXggLSBybWluKSAvIChtYXhEaWdpdHMgKyAxKTtcbiAgICBsZXQgc3BhY2luZyA9IG5pY2VOdW0oKHJtYXggLSBybWluKSAvIG1heFNwYWNlcyAvIHVuaXQpICogdW5pdDtcbiAgICBsZXQgZmFjdG9yLCBuaWNlTWluLCBuaWNlTWF4LCBudW1TcGFjZXM7XG4gICAgaWYgKHNwYWNpbmcgPCBNSU5fU1BBQ0lORyAmJiAhbWluRGVmaW5lZCAmJiAhbWF4RGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBybWluXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBybWF4XG4gICAgICAgICAgICB9XG4gICAgICAgIF07XG4gICAgfVxuICAgIG51bVNwYWNlcyA9IE1hdGguY2VpbChybWF4IC8gc3BhY2luZykgLSBNYXRoLmZsb29yKHJtaW4gLyBzcGFjaW5nKTtcbiAgICBpZiAobnVtU3BhY2VzID4gbWF4U3BhY2VzKSB7XG4gICAgICAgIHNwYWNpbmcgPSBuaWNlTnVtKG51bVNwYWNlcyAqIHNwYWNpbmcgLyBtYXhTcGFjZXMgLyB1bml0KSAqIHVuaXQ7XG4gICAgfVxuICAgIGlmICghaXNOdWxsT3JVbmRlZihwcmVjaXNpb24pKSB7XG4gICAgICAgIGZhY3RvciA9IE1hdGgucG93KDEwLCBwcmVjaXNpb24pO1xuICAgICAgICBzcGFjaW5nID0gTWF0aC5jZWlsKHNwYWNpbmcgKiBmYWN0b3IpIC8gZmFjdG9yO1xuICAgIH1cbiAgICBpZiAoYm91bmRzID09PSAndGlja3MnKSB7XG4gICAgICAgIG5pY2VNaW4gPSBNYXRoLmZsb29yKHJtaW4gLyBzcGFjaW5nKSAqIHNwYWNpbmc7XG4gICAgICAgIG5pY2VNYXggPSBNYXRoLmNlaWwocm1heCAvIHNwYWNpbmcpICogc3BhY2luZztcbiAgICB9IGVsc2Uge1xuICAgICAgICBuaWNlTWluID0gcm1pbjtcbiAgICAgICAgbmljZU1heCA9IHJtYXg7XG4gICAgfVxuICAgIGlmIChtaW5EZWZpbmVkICYmIG1heERlZmluZWQgJiYgc3RlcCAmJiBhbG1vc3RXaG9sZSgobWF4IC0gbWluKSAvIHN0ZXAsIHNwYWNpbmcgLyAxMDAwKSkge1xuICAgICAgICBudW1TcGFjZXMgPSBNYXRoLnJvdW5kKE1hdGgubWluKChtYXggLSBtaW4pIC8gc3BhY2luZywgbWF4VGlja3MpKTtcbiAgICAgICAgc3BhY2luZyA9IChtYXggLSBtaW4pIC8gbnVtU3BhY2VzO1xuICAgICAgICBuaWNlTWluID0gbWluO1xuICAgICAgICBuaWNlTWF4ID0gbWF4O1xuICAgIH0gZWxzZSBpZiAoY291bnREZWZpbmVkKSB7XG4gICAgICAgIG5pY2VNaW4gPSBtaW5EZWZpbmVkID8gbWluIDogbmljZU1pbjtcbiAgICAgICAgbmljZU1heCA9IG1heERlZmluZWQgPyBtYXggOiBuaWNlTWF4O1xuICAgICAgICBudW1TcGFjZXMgPSBjb3VudCAtIDE7XG4gICAgICAgIHNwYWNpbmcgPSAobmljZU1heCAtIG5pY2VNaW4pIC8gbnVtU3BhY2VzO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIG51bVNwYWNlcyA9IChuaWNlTWF4IC0gbmljZU1pbikgLyBzcGFjaW5nO1xuICAgICAgICBpZiAoYWxtb3N0RXF1YWxzKG51bVNwYWNlcywgTWF0aC5yb3VuZChudW1TcGFjZXMpLCBzcGFjaW5nIC8gMTAwMCkpIHtcbiAgICAgICAgICAgIG51bVNwYWNlcyA9IE1hdGgucm91bmQobnVtU3BhY2VzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG51bVNwYWNlcyA9IE1hdGguY2VpbChudW1TcGFjZXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGRlY2ltYWxQbGFjZXMgPSBNYXRoLm1heChfZGVjaW1hbFBsYWNlcyhzcGFjaW5nKSwgX2RlY2ltYWxQbGFjZXMobmljZU1pbikpO1xuICAgIGZhY3RvciA9IE1hdGgucG93KDEwLCBpc051bGxPclVuZGVmKHByZWNpc2lvbikgPyBkZWNpbWFsUGxhY2VzIDogcHJlY2lzaW9uKTtcbiAgICBuaWNlTWluID0gTWF0aC5yb3VuZChuaWNlTWluICogZmFjdG9yKSAvIGZhY3RvcjtcbiAgICBuaWNlTWF4ID0gTWF0aC5yb3VuZChuaWNlTWF4ICogZmFjdG9yKSAvIGZhY3RvcjtcbiAgICBsZXQgaiA9IDA7XG4gICAgaWYgKG1pbkRlZmluZWQpIHtcbiAgICAgICAgaWYgKGluY2x1ZGVCb3VuZHMgJiYgbmljZU1pbiAhPT0gbWluKSB7XG4gICAgICAgICAgICB0aWNrcy5wdXNoKHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogbWluXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChuaWNlTWluIDwgbWluKSB7XG4gICAgICAgICAgICAgICAgaisrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGFsbW9zdEVxdWFscyhNYXRoLnJvdW5kKChuaWNlTWluICsgaiAqIHNwYWNpbmcpICogZmFjdG9yKSAvIGZhY3RvciwgbWluLCByZWxhdGl2ZUxhYmVsU2l6ZShtaW4sIG1pblNwYWNpbmcsIGdlbmVyYXRpb25PcHRpb25zKSkpIHtcbiAgICAgICAgICAgICAgICBqKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAobmljZU1pbiA8IG1pbikge1xuICAgICAgICAgICAgaisrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvcig7IGogPCBudW1TcGFjZXM7ICsrail7XG4gICAgICAgIGNvbnN0IHRpY2tWYWx1ZSA9IE1hdGgucm91bmQoKG5pY2VNaW4gKyBqICogc3BhY2luZykgKiBmYWN0b3IpIC8gZmFjdG9yO1xuICAgICAgICBpZiAobWF4RGVmaW5lZCAmJiB0aWNrVmFsdWUgPiBtYXgpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHRpY2tzLnB1c2goe1xuICAgICAgICAgICAgdmFsdWU6IHRpY2tWYWx1ZVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKG1heERlZmluZWQgJiYgaW5jbHVkZUJvdW5kcyAmJiBuaWNlTWF4ICE9PSBtYXgpIHtcbiAgICAgICAgaWYgKHRpY2tzLmxlbmd0aCAmJiBhbG1vc3RFcXVhbHModGlja3NbdGlja3MubGVuZ3RoIC0gMV0udmFsdWUsIG1heCwgcmVsYXRpdmVMYWJlbFNpemUobWF4LCBtaW5TcGFjaW5nLCBnZW5lcmF0aW9uT3B0aW9ucykpKSB7XG4gICAgICAgICAgICB0aWNrc1t0aWNrcy5sZW5ndGggLSAxXS52YWx1ZSA9IG1heDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRpY2tzLnB1c2goe1xuICAgICAgICAgICAgICAgIHZhbHVlOiBtYXhcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSBlbHNlIGlmICghbWF4RGVmaW5lZCB8fCBuaWNlTWF4ID09PSBtYXgpIHtcbiAgICAgICAgdGlja3MucHVzaCh7XG4gICAgICAgICAgICB2YWx1ZTogbmljZU1heFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHRpY2tzO1xufVxuZnVuY3Rpb24gcmVsYXRpdmVMYWJlbFNpemUodmFsdWUsIG1pblNwYWNpbmcsIHsgaG9yaXpvbnRhbCAsIG1pblJvdGF0aW9uICB9KSB7XG4gICAgY29uc3QgcmFkID0gdG9SYWRpYW5zKG1pblJvdGF0aW9uKTtcbiAgICBjb25zdCByYXRpbyA9IChob3Jpem9udGFsID8gTWF0aC5zaW4ocmFkKSA6IE1hdGguY29zKHJhZCkpIHx8IDAuMDAxO1xuICAgIGNvbnN0IGxlbmd0aCA9IDAuNzUgKiBtaW5TcGFjaW5nICogKCcnICsgdmFsdWUpLmxlbmd0aDtcbiAgICByZXR1cm4gTWF0aC5taW4obWluU3BhY2luZyAvIHJhdGlvLCBsZW5ndGgpO1xufVxuY2xhc3MgTGluZWFyU2NhbGVCYXNlIGV4dGVuZHMgU2NhbGUge1xuICAgIGNvbnN0cnVjdG9yKGNmZyl7XG4gICAgICAgIHN1cGVyKGNmZyk7XG4gICAgICAgICB0aGlzLnN0YXJ0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgdGhpcy5lbmQgPSB1bmRlZmluZWQ7XG4gICAgICAgICB0aGlzLl9zdGFydFZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICAgdGhpcy5fZW5kVmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX3ZhbHVlUmFuZ2UgPSAwO1xuICAgIH1cbiAgICBwYXJzZShyYXcsIGluZGV4KSB7XG4gICAgICAgIGlmIChpc051bGxPclVuZGVmKHJhdykpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICgodHlwZW9mIHJhdyA9PT0gJ251bWJlcicgfHwgcmF3IGluc3RhbmNlb2YgTnVtYmVyKSAmJiAhaXNGaW5pdGUoK3JhdykpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiArcmF3O1xuICAgIH1cbiAgICBoYW5kbGVUaWNrUmFuZ2VPcHRpb25zKCkge1xuICAgICAgICBjb25zdCB7IGJlZ2luQXRaZXJvICB9ID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCB7IG1pbkRlZmluZWQgLCBtYXhEZWZpbmVkICB9ID0gdGhpcy5nZXRVc2VyQm91bmRzKCk7XG4gICAgICAgIGxldCB7IG1pbiAsIG1heCAgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IHNldE1pbiA9ICh2KT0+bWluID0gbWluRGVmaW5lZCA/IG1pbiA6IHY7XG4gICAgICAgIGNvbnN0IHNldE1heCA9ICh2KT0+bWF4ID0gbWF4RGVmaW5lZCA/IG1heCA6IHY7XG4gICAgICAgIGlmIChiZWdpbkF0WmVybykge1xuICAgICAgICAgICAgY29uc3QgbWluU2lnbiA9IHNpZ24obWluKTtcbiAgICAgICAgICAgIGNvbnN0IG1heFNpZ24gPSBzaWduKG1heCk7XG4gICAgICAgICAgICBpZiAobWluU2lnbiA8IDAgJiYgbWF4U2lnbiA8IDApIHtcbiAgICAgICAgICAgICAgICBzZXRNYXgoMCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG1pblNpZ24gPiAwICYmIG1heFNpZ24gPiAwKSB7XG4gICAgICAgICAgICAgICAgc2V0TWluKDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChtaW4gPT09IG1heCkge1xuICAgICAgICAgICAgbGV0IG9mZnNldCA9IG1heCA9PT0gMCA/IDEgOiBNYXRoLmFicyhtYXggKiAwLjA1KTtcbiAgICAgICAgICAgIHNldE1heChtYXggKyBvZmZzZXQpO1xuICAgICAgICAgICAgaWYgKCFiZWdpbkF0WmVybykge1xuICAgICAgICAgICAgICAgIHNldE1pbihtaW4gLSBvZmZzZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMubWluID0gbWluO1xuICAgICAgICB0aGlzLm1heCA9IG1heDtcbiAgICB9XG4gICAgZ2V0VGlja0xpbWl0KCkge1xuICAgICAgICBjb25zdCB0aWNrT3B0cyA9IHRoaXMub3B0aW9ucy50aWNrcztcbiAgICAgICAgbGV0IHsgbWF4VGlja3NMaW1pdCAsIHN0ZXBTaXplICB9ID0gdGlja09wdHM7XG4gICAgICAgIGxldCBtYXhUaWNrcztcbiAgICAgICAgaWYgKHN0ZXBTaXplKSB7XG4gICAgICAgICAgICBtYXhUaWNrcyA9IE1hdGguY2VpbCh0aGlzLm1heCAvIHN0ZXBTaXplKSAtIE1hdGguZmxvb3IodGhpcy5taW4gLyBzdGVwU2l6ZSkgKyAxO1xuICAgICAgICAgICAgaWYgKG1heFRpY2tzID4gMTAwMCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2Fybihgc2NhbGVzLiR7dGhpcy5pZH0udGlja3Muc3RlcFNpemU6ICR7c3RlcFNpemV9IHdvdWxkIHJlc3VsdCBnZW5lcmF0aW5nIHVwIHRvICR7bWF4VGlja3N9IHRpY2tzLiBMaW1pdGluZyB0byAxMDAwLmApO1xuICAgICAgICAgICAgICAgIG1heFRpY2tzID0gMTAwMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1heFRpY2tzID0gdGhpcy5jb21wdXRlVGlja0xpbWl0KCk7XG4gICAgICAgICAgICBtYXhUaWNrc0xpbWl0ID0gbWF4VGlja3NMaW1pdCB8fCAxMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWF4VGlja3NMaW1pdCkge1xuICAgICAgICAgICAgbWF4VGlja3MgPSBNYXRoLm1pbihtYXhUaWNrc0xpbWl0LCBtYXhUaWNrcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1heFRpY2tzO1xuICAgIH1cbiBjb21wdXRlVGlja0xpbWl0KCkge1xuICAgICAgICByZXR1cm4gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgIH1cbiAgICBidWlsZFRpY2tzKCkge1xuICAgICAgICBjb25zdCBvcHRzID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCB0aWNrT3B0cyA9IG9wdHMudGlja3M7XG4gICAgICAgIGxldCBtYXhUaWNrcyA9IHRoaXMuZ2V0VGlja0xpbWl0KCk7XG4gICAgICAgIG1heFRpY2tzID0gTWF0aC5tYXgoMiwgbWF4VGlja3MpO1xuICAgICAgICBjb25zdCBudW1lcmljR2VuZXJhdG9yT3B0aW9ucyA9IHtcbiAgICAgICAgICAgIG1heFRpY2tzLFxuICAgICAgICAgICAgYm91bmRzOiBvcHRzLmJvdW5kcyxcbiAgICAgICAgICAgIG1pbjogb3B0cy5taW4sXG4gICAgICAgICAgICBtYXg6IG9wdHMubWF4LFxuICAgICAgICAgICAgcHJlY2lzaW9uOiB0aWNrT3B0cy5wcmVjaXNpb24sXG4gICAgICAgICAgICBzdGVwOiB0aWNrT3B0cy5zdGVwU2l6ZSxcbiAgICAgICAgICAgIGNvdW50OiB0aWNrT3B0cy5jb3VudCxcbiAgICAgICAgICAgIG1heERpZ2l0czogdGhpcy5fbWF4RGlnaXRzKCksXG4gICAgICAgICAgICBob3Jpem9udGFsOiB0aGlzLmlzSG9yaXpvbnRhbCgpLFxuICAgICAgICAgICAgbWluUm90YXRpb246IHRpY2tPcHRzLm1pblJvdGF0aW9uIHx8IDAsXG4gICAgICAgICAgICBpbmNsdWRlQm91bmRzOiB0aWNrT3B0cy5pbmNsdWRlQm91bmRzICE9PSBmYWxzZVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBkYXRhUmFuZ2UgPSB0aGlzLl9yYW5nZSB8fCB0aGlzO1xuICAgICAgICBjb25zdCB0aWNrcyA9IGdlbmVyYXRlVGlja3MkMShudW1lcmljR2VuZXJhdG9yT3B0aW9ucywgZGF0YVJhbmdlKTtcbiAgICAgICAgaWYgKG9wdHMuYm91bmRzID09PSAndGlja3MnKSB7XG4gICAgICAgICAgICBfc2V0TWluQW5kTWF4QnlLZXkodGlja3MsIHRoaXMsICd2YWx1ZScpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRzLnJldmVyc2UpIHtcbiAgICAgICAgICAgIHRpY2tzLnJldmVyc2UoKTtcbiAgICAgICAgICAgIHRoaXMuc3RhcnQgPSB0aGlzLm1heDtcbiAgICAgICAgICAgIHRoaXMuZW5kID0gdGhpcy5taW47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0ID0gdGhpcy5taW47XG4gICAgICAgICAgICB0aGlzLmVuZCA9IHRoaXMubWF4O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aWNrcztcbiAgICB9XG4gY29uZmlndXJlKCkge1xuICAgICAgICBjb25zdCB0aWNrcyA9IHRoaXMudGlja3M7XG4gICAgICAgIGxldCBzdGFydCA9IHRoaXMubWluO1xuICAgICAgICBsZXQgZW5kID0gdGhpcy5tYXg7XG4gICAgICAgIHN1cGVyLmNvbmZpZ3VyZSgpO1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLm9mZnNldCAmJiB0aWNrcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IG9mZnNldCA9IChlbmQgLSBzdGFydCkgLyBNYXRoLm1heCh0aWNrcy5sZW5ndGggLSAxLCAxKSAvIDI7XG4gICAgICAgICAgICBzdGFydCAtPSBvZmZzZXQ7XG4gICAgICAgICAgICBlbmQgKz0gb2Zmc2V0O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3N0YXJ0VmFsdWUgPSBzdGFydDtcbiAgICAgICAgdGhpcy5fZW5kVmFsdWUgPSBlbmQ7XG4gICAgICAgIHRoaXMuX3ZhbHVlUmFuZ2UgPSBlbmQgLSBzdGFydDtcbiAgICB9XG4gICAgZ2V0TGFiZWxGb3JWYWx1ZSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gZm9ybWF0TnVtYmVyKHZhbHVlLCB0aGlzLmNoYXJ0Lm9wdGlvbnMubG9jYWxlLCB0aGlzLm9wdGlvbnMudGlja3MuZm9ybWF0KTtcbiAgICB9XG59XG5cbmNsYXNzIExpbmVhclNjYWxlIGV4dGVuZHMgTGluZWFyU2NhbGVCYXNlIHtcbiAgICBzdGF0aWMgaWQgPSAnbGluZWFyJztcbiBzdGF0aWMgZGVmYXVsdHMgPSB7XG4gICAgICAgIHRpY2tzOiB7XG4gICAgICAgICAgICBjYWxsYmFjazogVGlja3MuZm9ybWF0dGVycy5udW1lcmljXG4gICAgICAgIH1cbiAgICB9O1xuICAgIGRldGVybWluZURhdGFMaW1pdHMoKSB7XG4gICAgICAgIGNvbnN0IHsgbWluICwgbWF4ICB9ID0gdGhpcy5nZXRNaW5NYXgodHJ1ZSk7XG4gICAgICAgIHRoaXMubWluID0gaXNOdW1iZXJGaW5pdGUobWluKSA/IG1pbiA6IDA7XG4gICAgICAgIHRoaXMubWF4ID0gaXNOdW1iZXJGaW5pdGUobWF4KSA/IG1heCA6IDE7XG4gICAgICAgIHRoaXMuaGFuZGxlVGlja1JhbmdlT3B0aW9ucygpO1xuICAgIH1cbiBjb21wdXRlVGlja0xpbWl0KCkge1xuICAgICAgICBjb25zdCBob3Jpem9udGFsID0gdGhpcy5pc0hvcml6b250YWwoKTtcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gaG9yaXpvbnRhbCA/IHRoaXMud2lkdGggOiB0aGlzLmhlaWdodDtcbiAgICAgICAgY29uc3QgbWluUm90YXRpb24gPSB0b1JhZGlhbnModGhpcy5vcHRpb25zLnRpY2tzLm1pblJvdGF0aW9uKTtcbiAgICAgICAgY29uc3QgcmF0aW8gPSAoaG9yaXpvbnRhbCA/IE1hdGguc2luKG1pblJvdGF0aW9uKSA6IE1hdGguY29zKG1pblJvdGF0aW9uKSkgfHwgMC4wMDE7XG4gICAgICAgIGNvbnN0IHRpY2tGb250ID0gdGhpcy5fcmVzb2x2ZVRpY2tGb250T3B0aW9ucygwKTtcbiAgICAgICAgcmV0dXJuIE1hdGguY2VpbChsZW5ndGggLyBNYXRoLm1pbig0MCwgdGlja0ZvbnQubGluZUhlaWdodCAvIHJhdGlvKSk7XG4gICAgfVxuICAgIGdldFBpeGVsRm9yVmFsdWUodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlID09PSBudWxsID8gTmFOIDogdGhpcy5nZXRQaXhlbEZvckRlY2ltYWwoKHZhbHVlIC0gdGhpcy5fc3RhcnRWYWx1ZSkgLyB0aGlzLl92YWx1ZVJhbmdlKTtcbiAgICB9XG4gICAgZ2V0VmFsdWVGb3JQaXhlbChwaXhlbCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RhcnRWYWx1ZSArIHRoaXMuZ2V0RGVjaW1hbEZvclBpeGVsKHBpeGVsKSAqIHRoaXMuX3ZhbHVlUmFuZ2U7XG4gICAgfVxufVxuXG5jb25zdCBsb2cxMEZsb29yID0gKHYpPT5NYXRoLmZsb29yKGxvZzEwKHYpKTtcbmNvbnN0IGNoYW5nZUV4cG9uZW50ID0gKHYsIG0pPT5NYXRoLnBvdygxMCwgbG9nMTBGbG9vcih2KSArIG0pO1xuZnVuY3Rpb24gaXNNYWpvcih0aWNrVmFsKSB7XG4gICAgY29uc3QgcmVtYWluID0gdGlja1ZhbCAvIE1hdGgucG93KDEwLCBsb2cxMEZsb29yKHRpY2tWYWwpKTtcbiAgICByZXR1cm4gcmVtYWluID09PSAxO1xufVxuZnVuY3Rpb24gc3RlcHMobWluLCBtYXgsIHJhbmdlRXhwKSB7XG4gICAgY29uc3QgcmFuZ2VTdGVwID0gTWF0aC5wb3coMTAsIHJhbmdlRXhwKTtcbiAgICBjb25zdCBzdGFydCA9IE1hdGguZmxvb3IobWluIC8gcmFuZ2VTdGVwKTtcbiAgICBjb25zdCBlbmQgPSBNYXRoLmNlaWwobWF4IC8gcmFuZ2VTdGVwKTtcbiAgICByZXR1cm4gZW5kIC0gc3RhcnQ7XG59XG5mdW5jdGlvbiBzdGFydEV4cChtaW4sIG1heCkge1xuICAgIGNvbnN0IHJhbmdlID0gbWF4IC0gbWluO1xuICAgIGxldCByYW5nZUV4cCA9IGxvZzEwRmxvb3IocmFuZ2UpO1xuICAgIHdoaWxlKHN0ZXBzKG1pbiwgbWF4LCByYW5nZUV4cCkgPiAxMCl7XG4gICAgICAgIHJhbmdlRXhwKys7XG4gICAgfVxuICAgIHdoaWxlKHN0ZXBzKG1pbiwgbWF4LCByYW5nZUV4cCkgPCAxMCl7XG4gICAgICAgIHJhbmdlRXhwLS07XG4gICAgfVxuICAgIHJldHVybiBNYXRoLm1pbihyYW5nZUV4cCwgbG9nMTBGbG9vcihtaW4pKTtcbn1cbiBmdW5jdGlvbiBnZW5lcmF0ZVRpY2tzKGdlbmVyYXRpb25PcHRpb25zLCB7IG1pbiAsIG1heCAgfSkge1xuICAgIG1pbiA9IGZpbml0ZU9yRGVmYXVsdChnZW5lcmF0aW9uT3B0aW9ucy5taW4sIG1pbik7XG4gICAgY29uc3QgdGlja3MgPSBbXTtcbiAgICBjb25zdCBtaW5FeHAgPSBsb2cxMEZsb29yKG1pbik7XG4gICAgbGV0IGV4cCA9IHN0YXJ0RXhwKG1pbiwgbWF4KTtcbiAgICBsZXQgcHJlY2lzaW9uID0gZXhwIDwgMCA/IE1hdGgucG93KDEwLCBNYXRoLmFicyhleHApKSA6IDE7XG4gICAgY29uc3Qgc3RlcFNpemUgPSBNYXRoLnBvdygxMCwgZXhwKTtcbiAgICBjb25zdCBiYXNlID0gbWluRXhwID4gZXhwID8gTWF0aC5wb3coMTAsIG1pbkV4cCkgOiAwO1xuICAgIGNvbnN0IHN0YXJ0ID0gTWF0aC5yb3VuZCgobWluIC0gYmFzZSkgKiBwcmVjaXNpb24pIC8gcHJlY2lzaW9uO1xuICAgIGNvbnN0IG9mZnNldCA9IE1hdGguZmxvb3IoKG1pbiAtIGJhc2UpIC8gc3RlcFNpemUgLyAxMCkgKiBzdGVwU2l6ZSAqIDEwO1xuICAgIGxldCBzaWduaWZpY2FuZCA9IE1hdGguZmxvb3IoKHN0YXJ0IC0gb2Zmc2V0KSAvIE1hdGgucG93KDEwLCBleHApKTtcbiAgICBsZXQgdmFsdWUgPSBmaW5pdGVPckRlZmF1bHQoZ2VuZXJhdGlvbk9wdGlvbnMubWluLCBNYXRoLnJvdW5kKChiYXNlICsgb2Zmc2V0ICsgc2lnbmlmaWNhbmQgKiBNYXRoLnBvdygxMCwgZXhwKSkgKiBwcmVjaXNpb24pIC8gcHJlY2lzaW9uKTtcbiAgICB3aGlsZSh2YWx1ZSA8IG1heCl7XG4gICAgICAgIHRpY2tzLnB1c2goe1xuICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICBtYWpvcjogaXNNYWpvcih2YWx1ZSksXG4gICAgICAgICAgICBzaWduaWZpY2FuZFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHNpZ25pZmljYW5kID49IDEwKSB7XG4gICAgICAgICAgICBzaWduaWZpY2FuZCA9IHNpZ25pZmljYW5kIDwgMTUgPyAxNSA6IDIwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2lnbmlmaWNhbmQrKztcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2lnbmlmaWNhbmQgPj0gMjApIHtcbiAgICAgICAgICAgIGV4cCsrO1xuICAgICAgICAgICAgc2lnbmlmaWNhbmQgPSAyO1xuICAgICAgICAgICAgcHJlY2lzaW9uID0gZXhwID49IDAgPyAxIDogcHJlY2lzaW9uO1xuICAgICAgICB9XG4gICAgICAgIHZhbHVlID0gTWF0aC5yb3VuZCgoYmFzZSArIG9mZnNldCArIHNpZ25pZmljYW5kICogTWF0aC5wb3coMTAsIGV4cCkpICogcHJlY2lzaW9uKSAvIHByZWNpc2lvbjtcbiAgICB9XG4gICAgY29uc3QgbGFzdFRpY2sgPSBmaW5pdGVPckRlZmF1bHQoZ2VuZXJhdGlvbk9wdGlvbnMubWF4LCB2YWx1ZSk7XG4gICAgdGlja3MucHVzaCh7XG4gICAgICAgIHZhbHVlOiBsYXN0VGljayxcbiAgICAgICAgbWFqb3I6IGlzTWFqb3IobGFzdFRpY2spLFxuICAgICAgICBzaWduaWZpY2FuZFxuICAgIH0pO1xuICAgIHJldHVybiB0aWNrcztcbn1cbmNsYXNzIExvZ2FyaXRobWljU2NhbGUgZXh0ZW5kcyBTY2FsZSB7XG4gICAgc3RhdGljIGlkID0gJ2xvZ2FyaXRobWljJztcbiBzdGF0aWMgZGVmYXVsdHMgPSB7XG4gICAgICAgIHRpY2tzOiB7XG4gICAgICAgICAgICBjYWxsYmFjazogVGlja3MuZm9ybWF0dGVycy5sb2dhcml0aG1pYyxcbiAgICAgICAgICAgIG1ham9yOiB7XG4gICAgICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdHJ1Y3RvcihjZmcpe1xuICAgICAgICBzdXBlcihjZmcpO1xuICAgICAgICAgdGhpcy5zdGFydCA9IHVuZGVmaW5lZDtcbiAgICAgICAgIHRoaXMuZW5kID0gdW5kZWZpbmVkO1xuICAgICAgICAgdGhpcy5fc3RhcnRWYWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fdmFsdWVSYW5nZSA9IDA7XG4gICAgfVxuICAgIHBhcnNlKHJhdywgaW5kZXgpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBMaW5lYXJTY2FsZUJhc2UucHJvdG90eXBlLnBhcnNlLmFwcGx5KHRoaXMsIFtcbiAgICAgICAgICAgIHJhdyxcbiAgICAgICAgICAgIGluZGV4XG4gICAgICAgIF0pO1xuICAgICAgICBpZiAodmFsdWUgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuX3plcm8gPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXNOdW1iZXJGaW5pdGUodmFsdWUpICYmIHZhbHVlID4gMCA/IHZhbHVlIDogbnVsbDtcbiAgICB9XG4gICAgZGV0ZXJtaW5lRGF0YUxpbWl0cygpIHtcbiAgICAgICAgY29uc3QgeyBtaW4gLCBtYXggIH0gPSB0aGlzLmdldE1pbk1heCh0cnVlKTtcbiAgICAgICAgdGhpcy5taW4gPSBpc051bWJlckZpbml0ZShtaW4pID8gTWF0aC5tYXgoMCwgbWluKSA6IG51bGw7XG4gICAgICAgIHRoaXMubWF4ID0gaXNOdW1iZXJGaW5pdGUobWF4KSA/IE1hdGgubWF4KDAsIG1heCkgOiBudWxsO1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmJlZ2luQXRaZXJvKSB7XG4gICAgICAgICAgICB0aGlzLl96ZXJvID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5femVybyAmJiB0aGlzLm1pbiAhPT0gdGhpcy5fc3VnZ2VzdGVkTWluICYmICFpc051bWJlckZpbml0ZSh0aGlzLl91c2VyTWluKSkge1xuICAgICAgICAgICAgdGhpcy5taW4gPSBtaW4gPT09IGNoYW5nZUV4cG9uZW50KHRoaXMubWluLCAwKSA/IGNoYW5nZUV4cG9uZW50KHRoaXMubWluLCAtMSkgOiBjaGFuZ2VFeHBvbmVudCh0aGlzLm1pbiwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5oYW5kbGVUaWNrUmFuZ2VPcHRpb25zKCk7XG4gICAgfVxuICAgIGhhbmRsZVRpY2tSYW5nZU9wdGlvbnMoKSB7XG4gICAgICAgIGNvbnN0IHsgbWluRGVmaW5lZCAsIG1heERlZmluZWQgIH0gPSB0aGlzLmdldFVzZXJCb3VuZHMoKTtcbiAgICAgICAgbGV0IG1pbiA9IHRoaXMubWluO1xuICAgICAgICBsZXQgbWF4ID0gdGhpcy5tYXg7XG4gICAgICAgIGNvbnN0IHNldE1pbiA9ICh2KT0+bWluID0gbWluRGVmaW5lZCA/IG1pbiA6IHY7XG4gICAgICAgIGNvbnN0IHNldE1heCA9ICh2KT0+bWF4ID0gbWF4RGVmaW5lZCA/IG1heCA6IHY7XG4gICAgICAgIGlmIChtaW4gPT09IG1heCkge1xuICAgICAgICAgICAgaWYgKG1pbiA8PSAwKSB7XG4gICAgICAgICAgICAgICAgc2V0TWluKDEpO1xuICAgICAgICAgICAgICAgIHNldE1heCgxMCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNldE1pbihjaGFuZ2VFeHBvbmVudChtaW4sIC0xKSk7XG4gICAgICAgICAgICAgICAgc2V0TWF4KGNoYW5nZUV4cG9uZW50KG1heCwgKzEpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobWluIDw9IDApIHtcbiAgICAgICAgICAgIHNldE1pbihjaGFuZ2VFeHBvbmVudChtYXgsIC0xKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1heCA8PSAwKSB7XG4gICAgICAgICAgICBzZXRNYXgoY2hhbmdlRXhwb25lbnQobWluLCArMSkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubWluID0gbWluO1xuICAgICAgICB0aGlzLm1heCA9IG1heDtcbiAgICB9XG4gICAgYnVpbGRUaWNrcygpIHtcbiAgICAgICAgY29uc3Qgb3B0cyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgZ2VuZXJhdGlvbk9wdGlvbnMgPSB7XG4gICAgICAgICAgICBtaW46IHRoaXMuX3VzZXJNaW4sXG4gICAgICAgICAgICBtYXg6IHRoaXMuX3VzZXJNYXhcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgdGlja3MgPSBnZW5lcmF0ZVRpY2tzKGdlbmVyYXRpb25PcHRpb25zLCB0aGlzKTtcbiAgICAgICAgaWYgKG9wdHMuYm91bmRzID09PSAndGlja3MnKSB7XG4gICAgICAgICAgICBfc2V0TWluQW5kTWF4QnlLZXkodGlja3MsIHRoaXMsICd2YWx1ZScpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRzLnJldmVyc2UpIHtcbiAgICAgICAgICAgIHRpY2tzLnJldmVyc2UoKTtcbiAgICAgICAgICAgIHRoaXMuc3RhcnQgPSB0aGlzLm1heDtcbiAgICAgICAgICAgIHRoaXMuZW5kID0gdGhpcy5taW47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0ID0gdGhpcy5taW47XG4gICAgICAgICAgICB0aGlzLmVuZCA9IHRoaXMubWF4O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aWNrcztcbiAgICB9XG4gZ2V0TGFiZWxGb3JWYWx1ZSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/ICcwJyA6IGZvcm1hdE51bWJlcih2YWx1ZSwgdGhpcy5jaGFydC5vcHRpb25zLmxvY2FsZSwgdGhpcy5vcHRpb25zLnRpY2tzLmZvcm1hdCk7XG4gICAgfVxuIGNvbmZpZ3VyZSgpIHtcbiAgICAgICAgY29uc3Qgc3RhcnQgPSB0aGlzLm1pbjtcbiAgICAgICAgc3VwZXIuY29uZmlndXJlKCk7XG4gICAgICAgIHRoaXMuX3N0YXJ0VmFsdWUgPSBsb2cxMChzdGFydCk7XG4gICAgICAgIHRoaXMuX3ZhbHVlUmFuZ2UgPSBsb2cxMCh0aGlzLm1heCkgLSBsb2cxMChzdGFydCk7XG4gICAgfVxuICAgIGdldFBpeGVsRm9yVmFsdWUodmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgfHwgdmFsdWUgPT09IDApIHtcbiAgICAgICAgICAgIHZhbHVlID0gdGhpcy5taW47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlID09PSBudWxsIHx8IGlzTmFOKHZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIE5hTjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5nZXRQaXhlbEZvckRlY2ltYWwodmFsdWUgPT09IHRoaXMubWluID8gMCA6IChsb2cxMCh2YWx1ZSkgLSB0aGlzLl9zdGFydFZhbHVlKSAvIHRoaXMuX3ZhbHVlUmFuZ2UpO1xuICAgIH1cbiAgICBnZXRWYWx1ZUZvclBpeGVsKHBpeGVsKSB7XG4gICAgICAgIGNvbnN0IGRlY2ltYWwgPSB0aGlzLmdldERlY2ltYWxGb3JQaXhlbChwaXhlbCk7XG4gICAgICAgIHJldHVybiBNYXRoLnBvdygxMCwgdGhpcy5fc3RhcnRWYWx1ZSArIGRlY2ltYWwgKiB0aGlzLl92YWx1ZVJhbmdlKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldFRpY2tCYWNrZHJvcEhlaWdodChvcHRzKSB7XG4gICAgY29uc3QgdGlja09wdHMgPSBvcHRzLnRpY2tzO1xuICAgIGlmICh0aWNrT3B0cy5kaXNwbGF5ICYmIG9wdHMuZGlzcGxheSkge1xuICAgICAgICBjb25zdCBwYWRkaW5nID0gdG9QYWRkaW5nKHRpY2tPcHRzLmJhY2tkcm9wUGFkZGluZyk7XG4gICAgICAgIHJldHVybiB2YWx1ZU9yRGVmYXVsdCh0aWNrT3B0cy5mb250ICYmIHRpY2tPcHRzLmZvbnQuc2l6ZSwgZGVmYXVsdHMuZm9udC5zaXplKSArIHBhZGRpbmcuaGVpZ2h0O1xuICAgIH1cbiAgICByZXR1cm4gMDtcbn1cbmZ1bmN0aW9uIG1lYXN1cmVMYWJlbFNpemUoY3R4LCBmb250LCBsYWJlbCkge1xuICAgIGxhYmVsID0gaXNBcnJheShsYWJlbCkgPyBsYWJlbCA6IFtcbiAgICAgICAgbGFiZWxcbiAgICBdO1xuICAgIHJldHVybiB7XG4gICAgICAgIHc6IF9sb25nZXN0VGV4dChjdHgsIGZvbnQuc3RyaW5nLCBsYWJlbCksXG4gICAgICAgIGg6IGxhYmVsLmxlbmd0aCAqIGZvbnQubGluZUhlaWdodFxuICAgIH07XG59XG5mdW5jdGlvbiBkZXRlcm1pbmVMaW1pdHMoYW5nbGUsIHBvcywgc2l6ZSwgbWluLCBtYXgpIHtcbiAgICBpZiAoYW5nbGUgPT09IG1pbiB8fCBhbmdsZSA9PT0gbWF4KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdGFydDogcG9zIC0gc2l6ZSAvIDIsXG4gICAgICAgICAgICBlbmQ6IHBvcyArIHNpemUgLyAyXG4gICAgICAgIH07XG4gICAgfSBlbHNlIGlmIChhbmdsZSA8IG1pbiB8fCBhbmdsZSA+IG1heCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RhcnQ6IHBvcyAtIHNpemUsXG4gICAgICAgICAgICBlbmQ6IHBvc1xuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBzdGFydDogcG9zLFxuICAgICAgICBlbmQ6IHBvcyArIHNpemVcbiAgICB9O1xufVxuIGZ1bmN0aW9uIGZpdFdpdGhQb2ludExhYmVscyhzY2FsZSkge1xuICAgIGNvbnN0IG9yaWcgPSB7XG4gICAgICAgIGw6IHNjYWxlLmxlZnQgKyBzY2FsZS5fcGFkZGluZy5sZWZ0LFxuICAgICAgICByOiBzY2FsZS5yaWdodCAtIHNjYWxlLl9wYWRkaW5nLnJpZ2h0LFxuICAgICAgICB0OiBzY2FsZS50b3AgKyBzY2FsZS5fcGFkZGluZy50b3AsXG4gICAgICAgIGI6IHNjYWxlLmJvdHRvbSAtIHNjYWxlLl9wYWRkaW5nLmJvdHRvbVxuICAgIH07XG4gICAgY29uc3QgbGltaXRzID0gT2JqZWN0LmFzc2lnbih7fSwgb3JpZyk7XG4gICAgY29uc3QgbGFiZWxTaXplcyA9IFtdO1xuICAgIGNvbnN0IHBhZGRpbmcgPSBbXTtcbiAgICBjb25zdCB2YWx1ZUNvdW50ID0gc2NhbGUuX3BvaW50TGFiZWxzLmxlbmd0aDtcbiAgICBjb25zdCBwb2ludExhYmVsT3B0cyA9IHNjYWxlLm9wdGlvbnMucG9pbnRMYWJlbHM7XG4gICAgY29uc3QgYWRkaXRpb25hbEFuZ2xlID0gcG9pbnRMYWJlbE9wdHMuY2VudGVyUG9pbnRMYWJlbHMgPyBQSSAvIHZhbHVlQ291bnQgOiAwO1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCB2YWx1ZUNvdW50OyBpKyspe1xuICAgICAgICBjb25zdCBvcHRzID0gcG9pbnRMYWJlbE9wdHMuc2V0Q29udGV4dChzY2FsZS5nZXRQb2ludExhYmVsQ29udGV4dChpKSk7XG4gICAgICAgIHBhZGRpbmdbaV0gPSBvcHRzLnBhZGRpbmc7XG4gICAgICAgIGNvbnN0IHBvaW50UG9zaXRpb24gPSBzY2FsZS5nZXRQb2ludFBvc2l0aW9uKGksIHNjYWxlLmRyYXdpbmdBcmVhICsgcGFkZGluZ1tpXSwgYWRkaXRpb25hbEFuZ2xlKTtcbiAgICAgICAgY29uc3QgcGxGb250ID0gdG9Gb250KG9wdHMuZm9udCk7XG4gICAgICAgIGNvbnN0IHRleHRTaXplID0gbWVhc3VyZUxhYmVsU2l6ZShzY2FsZS5jdHgsIHBsRm9udCwgc2NhbGUuX3BvaW50TGFiZWxzW2ldKTtcbiAgICAgICAgbGFiZWxTaXplc1tpXSA9IHRleHRTaXplO1xuICAgICAgICBjb25zdCBhbmdsZVJhZGlhbnMgPSBfbm9ybWFsaXplQW5nbGUoc2NhbGUuZ2V0SW5kZXhBbmdsZShpKSArIGFkZGl0aW9uYWxBbmdsZSk7XG4gICAgICAgIGNvbnN0IGFuZ2xlID0gTWF0aC5yb3VuZCh0b0RlZ3JlZXMoYW5nbGVSYWRpYW5zKSk7XG4gICAgICAgIGNvbnN0IGhMaW1pdHMgPSBkZXRlcm1pbmVMaW1pdHMoYW5nbGUsIHBvaW50UG9zaXRpb24ueCwgdGV4dFNpemUudywgMCwgMTgwKTtcbiAgICAgICAgY29uc3QgdkxpbWl0cyA9IGRldGVybWluZUxpbWl0cyhhbmdsZSwgcG9pbnRQb3NpdGlvbi55LCB0ZXh0U2l6ZS5oLCA5MCwgMjcwKTtcbiAgICAgICAgdXBkYXRlTGltaXRzKGxpbWl0cywgb3JpZywgYW5nbGVSYWRpYW5zLCBoTGltaXRzLCB2TGltaXRzKTtcbiAgICB9XG4gICAgc2NhbGUuc2V0Q2VudGVyUG9pbnQob3JpZy5sIC0gbGltaXRzLmwsIGxpbWl0cy5yIC0gb3JpZy5yLCBvcmlnLnQgLSBsaW1pdHMudCwgbGltaXRzLmIgLSBvcmlnLmIpO1xuICAgIHNjYWxlLl9wb2ludExhYmVsSXRlbXMgPSBidWlsZFBvaW50TGFiZWxJdGVtcyhzY2FsZSwgbGFiZWxTaXplcywgcGFkZGluZyk7XG59XG5mdW5jdGlvbiB1cGRhdGVMaW1pdHMobGltaXRzLCBvcmlnLCBhbmdsZSwgaExpbWl0cywgdkxpbWl0cykge1xuICAgIGNvbnN0IHNpbiA9IE1hdGguYWJzKE1hdGguc2luKGFuZ2xlKSk7XG4gICAgY29uc3QgY29zID0gTWF0aC5hYnMoTWF0aC5jb3MoYW5nbGUpKTtcbiAgICBsZXQgeCA9IDA7XG4gICAgbGV0IHkgPSAwO1xuICAgIGlmIChoTGltaXRzLnN0YXJ0IDwgb3JpZy5sKSB7XG4gICAgICAgIHggPSAob3JpZy5sIC0gaExpbWl0cy5zdGFydCkgLyBzaW47XG4gICAgICAgIGxpbWl0cy5sID0gTWF0aC5taW4obGltaXRzLmwsIG9yaWcubCAtIHgpO1xuICAgIH0gZWxzZSBpZiAoaExpbWl0cy5lbmQgPiBvcmlnLnIpIHtcbiAgICAgICAgeCA9IChoTGltaXRzLmVuZCAtIG9yaWcucikgLyBzaW47XG4gICAgICAgIGxpbWl0cy5yID0gTWF0aC5tYXgobGltaXRzLnIsIG9yaWcuciArIHgpO1xuICAgIH1cbiAgICBpZiAodkxpbWl0cy5zdGFydCA8IG9yaWcudCkge1xuICAgICAgICB5ID0gKG9yaWcudCAtIHZMaW1pdHMuc3RhcnQpIC8gY29zO1xuICAgICAgICBsaW1pdHMudCA9IE1hdGgubWluKGxpbWl0cy50LCBvcmlnLnQgLSB5KTtcbiAgICB9IGVsc2UgaWYgKHZMaW1pdHMuZW5kID4gb3JpZy5iKSB7XG4gICAgICAgIHkgPSAodkxpbWl0cy5lbmQgLSBvcmlnLmIpIC8gY29zO1xuICAgICAgICBsaW1pdHMuYiA9IE1hdGgubWF4KGxpbWl0cy5iLCBvcmlnLmIgKyB5KTtcbiAgICB9XG59XG5mdW5jdGlvbiBjcmVhdGVQb2ludExhYmVsSXRlbShzY2FsZSwgaW5kZXgsIGl0ZW1PcHRzKSB7XG4gICAgY29uc3Qgb3V0ZXJEaXN0YW5jZSA9IHNjYWxlLmRyYXdpbmdBcmVhO1xuICAgIGNvbnN0IHsgZXh0cmEgLCBhZGRpdGlvbmFsQW5nbGUgLCBwYWRkaW5nICwgc2l6ZSAgfSA9IGl0ZW1PcHRzO1xuICAgIGNvbnN0IHBvaW50TGFiZWxQb3NpdGlvbiA9IHNjYWxlLmdldFBvaW50UG9zaXRpb24oaW5kZXgsIG91dGVyRGlzdGFuY2UgKyBleHRyYSArIHBhZGRpbmcsIGFkZGl0aW9uYWxBbmdsZSk7XG4gICAgY29uc3QgYW5nbGUgPSBNYXRoLnJvdW5kKHRvRGVncmVlcyhfbm9ybWFsaXplQW5nbGUocG9pbnRMYWJlbFBvc2l0aW9uLmFuZ2xlICsgSEFMRl9QSSkpKTtcbiAgICBjb25zdCB5ID0geUZvckFuZ2xlKHBvaW50TGFiZWxQb3NpdGlvbi55LCBzaXplLmgsIGFuZ2xlKTtcbiAgICBjb25zdCB0ZXh0QWxpZ24gPSBnZXRUZXh0QWxpZ25Gb3JBbmdsZShhbmdsZSk7XG4gICAgY29uc3QgbGVmdCA9IGxlZnRGb3JUZXh0QWxpZ24ocG9pbnRMYWJlbFBvc2l0aW9uLngsIHNpemUudywgdGV4dEFsaWduKTtcbiAgICByZXR1cm4ge1xuICAgICAgICB2aXNpYmxlOiB0cnVlLFxuICAgICAgICB4OiBwb2ludExhYmVsUG9zaXRpb24ueCxcbiAgICAgICAgeSxcbiAgICAgICAgdGV4dEFsaWduLFxuICAgICAgICBsZWZ0LFxuICAgICAgICB0b3A6IHksXG4gICAgICAgIHJpZ2h0OiBsZWZ0ICsgc2l6ZS53LFxuICAgICAgICBib3R0b206IHkgKyBzaXplLmhcbiAgICB9O1xufVxuZnVuY3Rpb24gaXNOb3RPdmVybGFwcGVkKGl0ZW0sIGFyZWEpIHtcbiAgICBpZiAoIWFyZWEpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGNvbnN0IHsgbGVmdCAsIHRvcCAsIHJpZ2h0ICwgYm90dG9tICB9ID0gaXRlbTtcbiAgICBjb25zdCBhcGV4ZXNJbkFyZWEgPSBfaXNQb2ludEluQXJlYSh7XG4gICAgICAgIHg6IGxlZnQsXG4gICAgICAgIHk6IHRvcFxuICAgIH0sIGFyZWEpIHx8IF9pc1BvaW50SW5BcmVhKHtcbiAgICAgICAgeDogbGVmdCxcbiAgICAgICAgeTogYm90dG9tXG4gICAgfSwgYXJlYSkgfHwgX2lzUG9pbnRJbkFyZWEoe1xuICAgICAgICB4OiByaWdodCxcbiAgICAgICAgeTogdG9wXG4gICAgfSwgYXJlYSkgfHwgX2lzUG9pbnRJbkFyZWEoe1xuICAgICAgICB4OiByaWdodCxcbiAgICAgICAgeTogYm90dG9tXG4gICAgfSwgYXJlYSk7XG4gICAgcmV0dXJuICFhcGV4ZXNJbkFyZWE7XG59XG5mdW5jdGlvbiBidWlsZFBvaW50TGFiZWxJdGVtcyhzY2FsZSwgbGFiZWxTaXplcywgcGFkZGluZykge1xuICAgIGNvbnN0IGl0ZW1zID0gW107XG4gICAgY29uc3QgdmFsdWVDb3VudCA9IHNjYWxlLl9wb2ludExhYmVscy5sZW5ndGg7XG4gICAgY29uc3Qgb3B0cyA9IHNjYWxlLm9wdGlvbnM7XG4gICAgY29uc3QgeyBjZW50ZXJQb2ludExhYmVscyAsIGRpc3BsYXkgIH0gPSBvcHRzLnBvaW50TGFiZWxzO1xuICAgIGNvbnN0IGl0ZW1PcHRzID0ge1xuICAgICAgICBleHRyYTogZ2V0VGlja0JhY2tkcm9wSGVpZ2h0KG9wdHMpIC8gMixcbiAgICAgICAgYWRkaXRpb25hbEFuZ2xlOiBjZW50ZXJQb2ludExhYmVscyA/IFBJIC8gdmFsdWVDb3VudCA6IDBcbiAgICB9O1xuICAgIGxldCBhcmVhO1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCB2YWx1ZUNvdW50OyBpKyspe1xuICAgICAgICBpdGVtT3B0cy5wYWRkaW5nID0gcGFkZGluZ1tpXTtcbiAgICAgICAgaXRlbU9wdHMuc2l6ZSA9IGxhYmVsU2l6ZXNbaV07XG4gICAgICAgIGNvbnN0IGl0ZW0gPSBjcmVhdGVQb2ludExhYmVsSXRlbShzY2FsZSwgaSwgaXRlbU9wdHMpO1xuICAgICAgICBpdGVtcy5wdXNoKGl0ZW0pO1xuICAgICAgICBpZiAoZGlzcGxheSA9PT0gJ2F1dG8nKSB7XG4gICAgICAgICAgICBpdGVtLnZpc2libGUgPSBpc05vdE92ZXJsYXBwZWQoaXRlbSwgYXJlYSk7XG4gICAgICAgICAgICBpZiAoaXRlbS52aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgYXJlYSA9IGl0ZW07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGl0ZW1zO1xufVxuZnVuY3Rpb24gZ2V0VGV4dEFsaWduRm9yQW5nbGUoYW5nbGUpIHtcbiAgICBpZiAoYW5nbGUgPT09IDAgfHwgYW5nbGUgPT09IDE4MCkge1xuICAgICAgICByZXR1cm4gJ2NlbnRlcic7XG4gICAgfSBlbHNlIGlmIChhbmdsZSA8IDE4MCkge1xuICAgICAgICByZXR1cm4gJ2xlZnQnO1xuICAgIH1cbiAgICByZXR1cm4gJ3JpZ2h0Jztcbn1cbmZ1bmN0aW9uIGxlZnRGb3JUZXh0QWxpZ24oeCwgdywgYWxpZ24pIHtcbiAgICBpZiAoYWxpZ24gPT09ICdyaWdodCcpIHtcbiAgICAgICAgeCAtPSB3O1xuICAgIH0gZWxzZSBpZiAoYWxpZ24gPT09ICdjZW50ZXInKSB7XG4gICAgICAgIHggLT0gdyAvIDI7XG4gICAgfVxuICAgIHJldHVybiB4O1xufVxuZnVuY3Rpb24geUZvckFuZ2xlKHksIGgsIGFuZ2xlKSB7XG4gICAgaWYgKGFuZ2xlID09PSA5MCB8fCBhbmdsZSA9PT0gMjcwKSB7XG4gICAgICAgIHkgLT0gaCAvIDI7XG4gICAgfSBlbHNlIGlmIChhbmdsZSA+IDI3MCB8fCBhbmdsZSA8IDkwKSB7XG4gICAgICAgIHkgLT0gaDtcbiAgICB9XG4gICAgcmV0dXJuIHk7XG59XG5mdW5jdGlvbiBkcmF3UG9pbnRMYWJlbEJveChjdHgsIG9wdHMsIGl0ZW0pIHtcbiAgICBjb25zdCB7IGxlZnQgLCB0b3AgLCByaWdodCAsIGJvdHRvbSAgfSA9IGl0ZW07XG4gICAgY29uc3QgeyBiYWNrZHJvcENvbG9yICB9ID0gb3B0cztcbiAgICBpZiAoIWlzTnVsbE9yVW5kZWYoYmFja2Ryb3BDb2xvcikpIHtcbiAgICAgICAgY29uc3QgYm9yZGVyUmFkaXVzID0gdG9UUkJMQ29ybmVycyhvcHRzLmJvcmRlclJhZGl1cyk7XG4gICAgICAgIGNvbnN0IHBhZGRpbmcgPSB0b1BhZGRpbmcob3B0cy5iYWNrZHJvcFBhZGRpbmcpO1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gYmFja2Ryb3BDb2xvcjtcbiAgICAgICAgY29uc3QgYmFja2Ryb3BMZWZ0ID0gbGVmdCAtIHBhZGRpbmcubGVmdDtcbiAgICAgICAgY29uc3QgYmFja2Ryb3BUb3AgPSB0b3AgLSBwYWRkaW5nLnRvcDtcbiAgICAgICAgY29uc3QgYmFja2Ryb3BXaWR0aCA9IHJpZ2h0IC0gbGVmdCArIHBhZGRpbmcud2lkdGg7XG4gICAgICAgIGNvbnN0IGJhY2tkcm9wSGVpZ2h0ID0gYm90dG9tIC0gdG9wICsgcGFkZGluZy5oZWlnaHQ7XG4gICAgICAgIGlmIChPYmplY3QudmFsdWVzKGJvcmRlclJhZGl1cykuc29tZSgodik9PnYgIT09IDApKSB7XG4gICAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICBhZGRSb3VuZGVkUmVjdFBhdGgoY3R4LCB7XG4gICAgICAgICAgICAgICAgeDogYmFja2Ryb3BMZWZ0LFxuICAgICAgICAgICAgICAgIHk6IGJhY2tkcm9wVG9wLFxuICAgICAgICAgICAgICAgIHc6IGJhY2tkcm9wV2lkdGgsXG4gICAgICAgICAgICAgICAgaDogYmFja2Ryb3BIZWlnaHQsXG4gICAgICAgICAgICAgICAgcmFkaXVzOiBib3JkZXJSYWRpdXNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY3R4LmZpbGwoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGN0eC5maWxsUmVjdChiYWNrZHJvcExlZnQsIGJhY2tkcm9wVG9wLCBiYWNrZHJvcFdpZHRoLCBiYWNrZHJvcEhlaWdodCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBkcmF3UG9pbnRMYWJlbHMoc2NhbGUsIGxhYmVsQ291bnQpIHtcbiAgICBjb25zdCB7IGN0eCAsIG9wdGlvbnM6IHsgcG9pbnRMYWJlbHMgIH0gIH0gPSBzY2FsZTtcbiAgICBmb3IobGV0IGkgPSBsYWJlbENvdW50IC0gMTsgaSA+PSAwOyBpLS0pe1xuICAgICAgICBjb25zdCBpdGVtID0gc2NhbGUuX3BvaW50TGFiZWxJdGVtc1tpXTtcbiAgICAgICAgaWYgKCFpdGVtLnZpc2libGUpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9wdHNBdEluZGV4ID0gcG9pbnRMYWJlbHMuc2V0Q29udGV4dChzY2FsZS5nZXRQb2ludExhYmVsQ29udGV4dChpKSk7XG4gICAgICAgIGRyYXdQb2ludExhYmVsQm94KGN0eCwgb3B0c0F0SW5kZXgsIGl0ZW0pO1xuICAgICAgICBjb25zdCBwbEZvbnQgPSB0b0ZvbnQob3B0c0F0SW5kZXguZm9udCk7XG4gICAgICAgIGNvbnN0IHsgeCAsIHkgLCB0ZXh0QWxpZ24gIH0gPSBpdGVtO1xuICAgICAgICByZW5kZXJUZXh0KGN0eCwgc2NhbGUuX3BvaW50TGFiZWxzW2ldLCB4LCB5ICsgcGxGb250LmxpbmVIZWlnaHQgLyAyLCBwbEZvbnQsIHtcbiAgICAgICAgICAgIGNvbG9yOiBvcHRzQXRJbmRleC5jb2xvcixcbiAgICAgICAgICAgIHRleHRBbGlnbjogdGV4dEFsaWduLFxuICAgICAgICAgICAgdGV4dEJhc2VsaW5lOiAnbWlkZGxlJ1xuICAgICAgICB9KTtcbiAgICB9XG59XG5mdW5jdGlvbiBwYXRoUmFkaXVzTGluZShzY2FsZSwgcmFkaXVzLCBjaXJjdWxhciwgbGFiZWxDb3VudCkge1xuICAgIGNvbnN0IHsgY3R4ICB9ID0gc2NhbGU7XG4gICAgaWYgKGNpcmN1bGFyKSB7XG4gICAgICAgIGN0eC5hcmMoc2NhbGUueENlbnRlciwgc2NhbGUueUNlbnRlciwgcmFkaXVzLCAwLCBUQVUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBwb2ludFBvc2l0aW9uID0gc2NhbGUuZ2V0UG9pbnRQb3NpdGlvbigwLCByYWRpdXMpO1xuICAgICAgICBjdHgubW92ZVRvKHBvaW50UG9zaXRpb24ueCwgcG9pbnRQb3NpdGlvbi55KTtcbiAgICAgICAgZm9yKGxldCBpID0gMTsgaSA8IGxhYmVsQ291bnQ7IGkrKyl7XG4gICAgICAgICAgICBwb2ludFBvc2l0aW9uID0gc2NhbGUuZ2V0UG9pbnRQb3NpdGlvbihpLCByYWRpdXMpO1xuICAgICAgICAgICAgY3R4LmxpbmVUbyhwb2ludFBvc2l0aW9uLngsIHBvaW50UG9zaXRpb24ueSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBkcmF3UmFkaXVzTGluZShzY2FsZSwgZ3JpZExpbmVPcHRzLCByYWRpdXMsIGxhYmVsQ291bnQsIGJvcmRlck9wdHMpIHtcbiAgICBjb25zdCBjdHggPSBzY2FsZS5jdHg7XG4gICAgY29uc3QgY2lyY3VsYXIgPSBncmlkTGluZU9wdHMuY2lyY3VsYXI7XG4gICAgY29uc3QgeyBjb2xvciAsIGxpbmVXaWR0aCAgfSA9IGdyaWRMaW5lT3B0cztcbiAgICBpZiAoIWNpcmN1bGFyICYmICFsYWJlbENvdW50IHx8ICFjb2xvciB8fCAhbGluZVdpZHRoIHx8IHJhZGl1cyA8IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjdHguc2F2ZSgpO1xuICAgIGN0eC5zdHJva2VTdHlsZSA9IGNvbG9yO1xuICAgIGN0eC5saW5lV2lkdGggPSBsaW5lV2lkdGg7XG4gICAgY3R4LnNldExpbmVEYXNoKGJvcmRlck9wdHMuZGFzaCk7XG4gICAgY3R4LmxpbmVEYXNoT2Zmc2V0ID0gYm9yZGVyT3B0cy5kYXNoT2Zmc2V0O1xuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBwYXRoUmFkaXVzTGluZShzY2FsZSwgcmFkaXVzLCBjaXJjdWxhciwgbGFiZWxDb3VudCk7XG4gICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgIGN0eC5zdHJva2UoKTtcbiAgICBjdHgucmVzdG9yZSgpO1xufVxuZnVuY3Rpb24gY3JlYXRlUG9pbnRMYWJlbENvbnRleHQocGFyZW50LCBpbmRleCwgbGFiZWwpIHtcbiAgICByZXR1cm4gY3JlYXRlQ29udGV4dChwYXJlbnQsIHtcbiAgICAgICAgbGFiZWwsXG4gICAgICAgIGluZGV4LFxuICAgICAgICB0eXBlOiAncG9pbnRMYWJlbCdcbiAgICB9KTtcbn1cbmNsYXNzIFJhZGlhbExpbmVhclNjYWxlIGV4dGVuZHMgTGluZWFyU2NhbGVCYXNlIHtcbiAgICBzdGF0aWMgaWQgPSAncmFkaWFsTGluZWFyJztcbiBzdGF0aWMgZGVmYXVsdHMgPSB7XG4gICAgICAgIGRpc3BsYXk6IHRydWUsXG4gICAgICAgIGFuaW1hdGU6IHRydWUsXG4gICAgICAgIHBvc2l0aW9uOiAnY2hhcnRBcmVhJyxcbiAgICAgICAgYW5nbGVMaW5lczoge1xuICAgICAgICAgICAgZGlzcGxheTogdHJ1ZSxcbiAgICAgICAgICAgIGxpbmVXaWR0aDogMSxcbiAgICAgICAgICAgIGJvcmRlckRhc2g6IFtdLFxuICAgICAgICAgICAgYm9yZGVyRGFzaE9mZnNldDogMC4wXG4gICAgICAgIH0sXG4gICAgICAgIGdyaWQ6IHtcbiAgICAgICAgICAgIGNpcmN1bGFyOiBmYWxzZVxuICAgICAgICB9LFxuICAgICAgICBzdGFydEFuZ2xlOiAwLFxuICAgICAgICB0aWNrczoge1xuICAgICAgICAgICAgc2hvd0xhYmVsQmFja2Ryb3A6IHRydWUsXG4gICAgICAgICAgICBjYWxsYmFjazogVGlja3MuZm9ybWF0dGVycy5udW1lcmljXG4gICAgICAgIH0sXG4gICAgICAgIHBvaW50TGFiZWxzOiB7XG4gICAgICAgICAgICBiYWNrZHJvcENvbG9yOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBiYWNrZHJvcFBhZGRpbmc6IDIsXG4gICAgICAgICAgICBkaXNwbGF5OiB0cnVlLFxuICAgICAgICAgICAgZm9udDoge1xuICAgICAgICAgICAgICAgIHNpemU6IDEwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2FsbGJhY2sgKGxhYmVsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxhYmVsO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBhZGRpbmc6IDUsXG4gICAgICAgICAgICBjZW50ZXJQb2ludExhYmVsczogZmFsc2VcbiAgICAgICAgfVxuICAgIH07XG4gICAgc3RhdGljIGRlZmF1bHRSb3V0ZXMgPSB7XG4gICAgICAgICdhbmdsZUxpbmVzLmNvbG9yJzogJ2JvcmRlckNvbG9yJyxcbiAgICAgICAgJ3BvaW50TGFiZWxzLmNvbG9yJzogJ2NvbG9yJyxcbiAgICAgICAgJ3RpY2tzLmNvbG9yJzogJ2NvbG9yJ1xuICAgIH07XG4gICAgc3RhdGljIGRlc2NyaXB0b3JzID0ge1xuICAgICAgICBhbmdsZUxpbmVzOiB7XG4gICAgICAgICAgICBfZmFsbGJhY2s6ICdncmlkJ1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdHJ1Y3RvcihjZmcpe1xuICAgICAgICBzdXBlcihjZmcpO1xuICAgICAgICAgdGhpcy54Q2VudGVyID0gdW5kZWZpbmVkO1xuICAgICAgICAgdGhpcy55Q2VudGVyID0gdW5kZWZpbmVkO1xuICAgICAgICAgdGhpcy5kcmF3aW5nQXJlYSA9IHVuZGVmaW5lZDtcbiAgICAgICAgIHRoaXMuX3BvaW50TGFiZWxzID0gW107XG4gICAgICAgIHRoaXMuX3BvaW50TGFiZWxJdGVtcyA9IFtdO1xuICAgIH1cbiAgICBzZXREaW1lbnNpb25zKCkge1xuICAgICAgICBjb25zdCBwYWRkaW5nID0gdGhpcy5fcGFkZGluZyA9IHRvUGFkZGluZyhnZXRUaWNrQmFja2Ryb3BIZWlnaHQodGhpcy5vcHRpb25zKSAvIDIpO1xuICAgICAgICBjb25zdCB3ID0gdGhpcy53aWR0aCA9IHRoaXMubWF4V2lkdGggLSBwYWRkaW5nLndpZHRoO1xuICAgICAgICBjb25zdCBoID0gdGhpcy5oZWlnaHQgPSB0aGlzLm1heEhlaWdodCAtIHBhZGRpbmcuaGVpZ2h0O1xuICAgICAgICB0aGlzLnhDZW50ZXIgPSBNYXRoLmZsb29yKHRoaXMubGVmdCArIHcgLyAyICsgcGFkZGluZy5sZWZ0KTtcbiAgICAgICAgdGhpcy55Q2VudGVyID0gTWF0aC5mbG9vcih0aGlzLnRvcCArIGggLyAyICsgcGFkZGluZy50b3ApO1xuICAgICAgICB0aGlzLmRyYXdpbmdBcmVhID0gTWF0aC5mbG9vcihNYXRoLm1pbih3LCBoKSAvIDIpO1xuICAgIH1cbiAgICBkZXRlcm1pbmVEYXRhTGltaXRzKCkge1xuICAgICAgICBjb25zdCB7IG1pbiAsIG1heCAgfSA9IHRoaXMuZ2V0TWluTWF4KGZhbHNlKTtcbiAgICAgICAgdGhpcy5taW4gPSBpc051bWJlckZpbml0ZShtaW4pICYmICFpc05hTihtaW4pID8gbWluIDogMDtcbiAgICAgICAgdGhpcy5tYXggPSBpc051bWJlckZpbml0ZShtYXgpICYmICFpc05hTihtYXgpID8gbWF4IDogMDtcbiAgICAgICAgdGhpcy5oYW5kbGVUaWNrUmFuZ2VPcHRpb25zKCk7XG4gICAgfVxuIGNvbXB1dGVUaWNrTGltaXQoKSB7XG4gICAgICAgIHJldHVybiBNYXRoLmNlaWwodGhpcy5kcmF3aW5nQXJlYSAvIGdldFRpY2tCYWNrZHJvcEhlaWdodCh0aGlzLm9wdGlvbnMpKTtcbiAgICB9XG4gICAgZ2VuZXJhdGVUaWNrTGFiZWxzKHRpY2tzKSB7XG4gICAgICAgIExpbmVhclNjYWxlQmFzZS5wcm90b3R5cGUuZ2VuZXJhdGVUaWNrTGFiZWxzLmNhbGwodGhpcywgdGlja3MpO1xuICAgICAgICB0aGlzLl9wb2ludExhYmVscyA9IHRoaXMuZ2V0TGFiZWxzKCkubWFwKCh2YWx1ZSwgaW5kZXgpPT57XG4gICAgICAgICAgICBjb25zdCBsYWJlbCA9IGNhbGxiYWNrKHRoaXMub3B0aW9ucy5wb2ludExhYmVscy5jYWxsYmFjaywgW1xuICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgIGluZGV4XG4gICAgICAgICAgICBdLCB0aGlzKTtcbiAgICAgICAgICAgIHJldHVybiBsYWJlbCB8fCBsYWJlbCA9PT0gMCA/IGxhYmVsIDogJyc7XG4gICAgICAgIH0pLmZpbHRlcigodiwgaSk9PnRoaXMuY2hhcnQuZ2V0RGF0YVZpc2liaWxpdHkoaSkpO1xuICAgIH1cbiAgICBmaXQoKSB7XG4gICAgICAgIGNvbnN0IG9wdHMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGlmIChvcHRzLmRpc3BsYXkgJiYgb3B0cy5wb2ludExhYmVscy5kaXNwbGF5KSB7XG4gICAgICAgICAgICBmaXRXaXRoUG9pbnRMYWJlbHModGhpcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNldENlbnRlclBvaW50KDAsIDAsIDAsIDApO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNldENlbnRlclBvaW50KGxlZnRNb3ZlbWVudCwgcmlnaHRNb3ZlbWVudCwgdG9wTW92ZW1lbnQsIGJvdHRvbU1vdmVtZW50KSB7XG4gICAgICAgIHRoaXMueENlbnRlciArPSBNYXRoLmZsb29yKChsZWZ0TW92ZW1lbnQgLSByaWdodE1vdmVtZW50KSAvIDIpO1xuICAgICAgICB0aGlzLnlDZW50ZXIgKz0gTWF0aC5mbG9vcigodG9wTW92ZW1lbnQgLSBib3R0b21Nb3ZlbWVudCkgLyAyKTtcbiAgICAgICAgdGhpcy5kcmF3aW5nQXJlYSAtPSBNYXRoLm1pbih0aGlzLmRyYXdpbmdBcmVhIC8gMiwgTWF0aC5tYXgobGVmdE1vdmVtZW50LCByaWdodE1vdmVtZW50LCB0b3BNb3ZlbWVudCwgYm90dG9tTW92ZW1lbnQpKTtcbiAgICB9XG4gICAgZ2V0SW5kZXhBbmdsZShpbmRleCkge1xuICAgICAgICBjb25zdCBhbmdsZU11bHRpcGxpZXIgPSBUQVUgLyAodGhpcy5fcG9pbnRMYWJlbHMubGVuZ3RoIHx8IDEpO1xuICAgICAgICBjb25zdCBzdGFydEFuZ2xlID0gdGhpcy5vcHRpb25zLnN0YXJ0QW5nbGUgfHwgMDtcbiAgICAgICAgcmV0dXJuIF9ub3JtYWxpemVBbmdsZShpbmRleCAqIGFuZ2xlTXVsdGlwbGllciArIHRvUmFkaWFucyhzdGFydEFuZ2xlKSk7XG4gICAgfVxuICAgIGdldERpc3RhbmNlRnJvbUNlbnRlckZvclZhbHVlKHZhbHVlKSB7XG4gICAgICAgIGlmIChpc051bGxPclVuZGVmKHZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIE5hTjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzY2FsaW5nRmFjdG9yID0gdGhpcy5kcmF3aW5nQXJlYSAvICh0aGlzLm1heCAtIHRoaXMubWluKTtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5yZXZlcnNlKSB7XG4gICAgICAgICAgICByZXR1cm4gKHRoaXMubWF4IC0gdmFsdWUpICogc2NhbGluZ0ZhY3RvcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKHZhbHVlIC0gdGhpcy5taW4pICogc2NhbGluZ0ZhY3RvcjtcbiAgICB9XG4gICAgZ2V0VmFsdWVGb3JEaXN0YW5jZUZyb21DZW50ZXIoZGlzdGFuY2UpIHtcbiAgICAgICAgaWYgKGlzTnVsbE9yVW5kZWYoZGlzdGFuY2UpKSB7XG4gICAgICAgICAgICByZXR1cm4gTmFOO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNjYWxlZERpc3RhbmNlID0gZGlzdGFuY2UgLyAodGhpcy5kcmF3aW5nQXJlYSAvICh0aGlzLm1heCAtIHRoaXMubWluKSk7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMucmV2ZXJzZSA/IHRoaXMubWF4IC0gc2NhbGVkRGlzdGFuY2UgOiB0aGlzLm1pbiArIHNjYWxlZERpc3RhbmNlO1xuICAgIH1cbiAgICBnZXRQb2ludExhYmVsQ29udGV4dChpbmRleCkge1xuICAgICAgICBjb25zdCBwb2ludExhYmVscyA9IHRoaXMuX3BvaW50TGFiZWxzIHx8IFtdO1xuICAgICAgICBpZiAoaW5kZXggPj0gMCAmJiBpbmRleCA8IHBvaW50TGFiZWxzLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgcG9pbnRMYWJlbCA9IHBvaW50TGFiZWxzW2luZGV4XTtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVQb2ludExhYmVsQ29udGV4dCh0aGlzLmdldENvbnRleHQoKSwgaW5kZXgsIHBvaW50TGFiZWwpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldFBvaW50UG9zaXRpb24oaW5kZXgsIGRpc3RhbmNlRnJvbUNlbnRlciwgYWRkaXRpb25hbEFuZ2xlID0gMCkge1xuICAgICAgICBjb25zdCBhbmdsZSA9IHRoaXMuZ2V0SW5kZXhBbmdsZShpbmRleCkgLSBIQUxGX1BJICsgYWRkaXRpb25hbEFuZ2xlO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogTWF0aC5jb3MoYW5nbGUpICogZGlzdGFuY2VGcm9tQ2VudGVyICsgdGhpcy54Q2VudGVyLFxuICAgICAgICAgICAgeTogTWF0aC5zaW4oYW5nbGUpICogZGlzdGFuY2VGcm9tQ2VudGVyICsgdGhpcy55Q2VudGVyLFxuICAgICAgICAgICAgYW5nbGVcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZ2V0UG9pbnRQb3NpdGlvbkZvclZhbHVlKGluZGV4LCB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRQb2ludFBvc2l0aW9uKGluZGV4LCB0aGlzLmdldERpc3RhbmNlRnJvbUNlbnRlckZvclZhbHVlKHZhbHVlKSk7XG4gICAgfVxuICAgIGdldEJhc2VQb3NpdGlvbihpbmRleCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRQb2ludFBvc2l0aW9uRm9yVmFsdWUoaW5kZXggfHwgMCwgdGhpcy5nZXRCYXNlVmFsdWUoKSk7XG4gICAgfVxuICAgIGdldFBvaW50TGFiZWxQb3NpdGlvbihpbmRleCkge1xuICAgICAgICBjb25zdCB7IGxlZnQgLCB0b3AgLCByaWdodCAsIGJvdHRvbSAgfSA9IHRoaXMuX3BvaW50TGFiZWxJdGVtc1tpbmRleF07XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBsZWZ0LFxuICAgICAgICAgICAgdG9wLFxuICAgICAgICAgICAgcmlnaHQsXG4gICAgICAgICAgICBib3R0b21cbiAgICAgICAgfTtcbiAgICB9XG4gZHJhd0JhY2tncm91bmQoKSB7XG4gICAgICAgIGNvbnN0IHsgYmFja2dyb3VuZENvbG9yICwgZ3JpZDogeyBjaXJjdWxhciAgfSAgfSA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgaWYgKGJhY2tncm91bmRDb2xvcikge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5jdHg7XG4gICAgICAgICAgICBjdHguc2F2ZSgpO1xuICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgcGF0aFJhZGl1c0xpbmUodGhpcywgdGhpcy5nZXREaXN0YW5jZUZyb21DZW50ZXJGb3JWYWx1ZSh0aGlzLl9lbmRWYWx1ZSksIGNpcmN1bGFyLCB0aGlzLl9wb2ludExhYmVscy5sZW5ndGgpO1xuICAgICAgICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGJhY2tncm91bmRDb2xvcjtcbiAgICAgICAgICAgIGN0eC5maWxsKCk7XG4gICAgICAgICAgICBjdHgucmVzdG9yZSgpO1xuICAgICAgICB9XG4gICAgfVxuIGRyYXdHcmlkKCkge1xuICAgICAgICBjb25zdCBjdHggPSB0aGlzLmN0eDtcbiAgICAgICAgY29uc3Qgb3B0cyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgeyBhbmdsZUxpbmVzICwgZ3JpZCAsIGJvcmRlciAgfSA9IG9wdHM7XG4gICAgICAgIGNvbnN0IGxhYmVsQ291bnQgPSB0aGlzLl9wb2ludExhYmVscy5sZW5ndGg7XG4gICAgICAgIGxldCBpLCBvZmZzZXQsIHBvc2l0aW9uO1xuICAgICAgICBpZiAob3B0cy5wb2ludExhYmVscy5kaXNwbGF5KSB7XG4gICAgICAgICAgICBkcmF3UG9pbnRMYWJlbHModGhpcywgbGFiZWxDb3VudCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdyaWQuZGlzcGxheSkge1xuICAgICAgICAgICAgdGhpcy50aWNrcy5mb3JFYWNoKCh0aWNrLCBpbmRleCk9PntcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggIT09IDAgfHwgaW5kZXggPT09IDAgJiYgdGhpcy5taW4gPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldCA9IHRoaXMuZ2V0RGlzdGFuY2VGcm9tQ2VudGVyRm9yVmFsdWUodGljay52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLmdldENvbnRleHQoaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvcHRzQXRJbmRleCA9IGdyaWQuc2V0Q29udGV4dChjb250ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3B0c0F0SW5kZXhCb3JkZXIgPSBib3JkZXIuc2V0Q29udGV4dChjb250ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgZHJhd1JhZGl1c0xpbmUodGhpcywgb3B0c0F0SW5kZXgsIG9mZnNldCwgbGFiZWxDb3VudCwgb3B0c0F0SW5kZXhCb3JkZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhbmdsZUxpbmVzLmRpc3BsYXkpIHtcbiAgICAgICAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAgICAgICBmb3IoaSA9IGxhYmVsQ291bnQgLSAxOyBpID49IDA7IGktLSl7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3B0c0F0SW5kZXggPSBhbmdsZUxpbmVzLnNldENvbnRleHQodGhpcy5nZXRQb2ludExhYmVsQ29udGV4dChpKSk7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBjb2xvciAsIGxpbmVXaWR0aCAgfSA9IG9wdHNBdEluZGV4O1xuICAgICAgICAgICAgICAgIGlmICghbGluZVdpZHRoIHx8ICFjb2xvcikge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3R4LmxpbmVXaWR0aCA9IGxpbmVXaWR0aDtcbiAgICAgICAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBjb2xvcjtcbiAgICAgICAgICAgICAgICBjdHguc2V0TGluZURhc2gob3B0c0F0SW5kZXguYm9yZGVyRGFzaCk7XG4gICAgICAgICAgICAgICAgY3R4LmxpbmVEYXNoT2Zmc2V0ID0gb3B0c0F0SW5kZXguYm9yZGVyRGFzaE9mZnNldDtcbiAgICAgICAgICAgICAgICBvZmZzZXQgPSB0aGlzLmdldERpc3RhbmNlRnJvbUNlbnRlckZvclZhbHVlKG9wdHMudGlja3MucmV2ZXJzZSA/IHRoaXMubWluIDogdGhpcy5tYXgpO1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gdGhpcy5nZXRQb2ludFBvc2l0aW9uKGksIG9mZnNldCk7XG4gICAgICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgICAgIGN0eC5tb3ZlVG8odGhpcy54Q2VudGVyLCB0aGlzLnlDZW50ZXIpO1xuICAgICAgICAgICAgICAgIGN0eC5saW5lVG8ocG9zaXRpb24ueCwgcG9zaXRpb24ueSk7XG4gICAgICAgICAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICAgICAgfVxuICAgIH1cbiBkcmF3Qm9yZGVyKCkge31cbiBkcmF3TGFiZWxzKCkge1xuICAgICAgICBjb25zdCBjdHggPSB0aGlzLmN0eDtcbiAgICAgICAgY29uc3Qgb3B0cyA9IHRoaXMub3B0aW9ucztcbiAgICAgICAgY29uc3QgdGlja09wdHMgPSBvcHRzLnRpY2tzO1xuICAgICAgICBpZiAoIXRpY2tPcHRzLmRpc3BsYXkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdGFydEFuZ2xlID0gdGhpcy5nZXRJbmRleEFuZ2xlKDApO1xuICAgICAgICBsZXQgb2Zmc2V0LCB3aWR0aDtcbiAgICAgICAgY3R4LnNhdmUoKTtcbiAgICAgICAgY3R4LnRyYW5zbGF0ZSh0aGlzLnhDZW50ZXIsIHRoaXMueUNlbnRlcik7XG4gICAgICAgIGN0eC5yb3RhdGUoc3RhcnRBbmdsZSk7XG4gICAgICAgIGN0eC50ZXh0QWxpZ24gPSAnY2VudGVyJztcbiAgICAgICAgY3R4LnRleHRCYXNlbGluZSA9ICdtaWRkbGUnO1xuICAgICAgICB0aGlzLnRpY2tzLmZvckVhY2goKHRpY2ssIGluZGV4KT0+e1xuICAgICAgICAgICAgaWYgKGluZGV4ID09PSAwICYmIHRoaXMubWluID49IDAgJiYgIW9wdHMucmV2ZXJzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG9wdHNBdEluZGV4ID0gdGlja09wdHMuc2V0Q29udGV4dCh0aGlzLmdldENvbnRleHQoaW5kZXgpKTtcbiAgICAgICAgICAgIGNvbnN0IHRpY2tGb250ID0gdG9Gb250KG9wdHNBdEluZGV4LmZvbnQpO1xuICAgICAgICAgICAgb2Zmc2V0ID0gdGhpcy5nZXREaXN0YW5jZUZyb21DZW50ZXJGb3JWYWx1ZSh0aGlzLnRpY2tzW2luZGV4XS52YWx1ZSk7XG4gICAgICAgICAgICBpZiAob3B0c0F0SW5kZXguc2hvd0xhYmVsQmFja2Ryb3ApIHtcbiAgICAgICAgICAgICAgICBjdHguZm9udCA9IHRpY2tGb250LnN0cmluZztcbiAgICAgICAgICAgICAgICB3aWR0aCA9IGN0eC5tZWFzdXJlVGV4dCh0aWNrLmxhYmVsKS53aWR0aDtcbiAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gb3B0c0F0SW5kZXguYmFja2Ryb3BDb2xvcjtcbiAgICAgICAgICAgICAgICBjb25zdCBwYWRkaW5nID0gdG9QYWRkaW5nKG9wdHNBdEluZGV4LmJhY2tkcm9wUGFkZGluZyk7XG4gICAgICAgICAgICAgICAgY3R4LmZpbGxSZWN0KC13aWR0aCAvIDIgLSBwYWRkaW5nLmxlZnQsIC1vZmZzZXQgLSB0aWNrRm9udC5zaXplIC8gMiAtIHBhZGRpbmcudG9wLCB3aWR0aCArIHBhZGRpbmcud2lkdGgsIHRpY2tGb250LnNpemUgKyBwYWRkaW5nLmhlaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZW5kZXJUZXh0KGN0eCwgdGljay5sYWJlbCwgMCwgLW9mZnNldCwgdGlja0ZvbnQsIHtcbiAgICAgICAgICAgICAgICBjb2xvcjogb3B0c0F0SW5kZXguY29sb3IsXG4gICAgICAgICAgICAgICAgc3Ryb2tlQ29sb3I6IG9wdHNBdEluZGV4LnRleHRTdHJva2VDb2xvcixcbiAgICAgICAgICAgICAgICBzdHJva2VXaWR0aDogb3B0c0F0SW5kZXgudGV4dFN0cm9rZVdpZHRoXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgfVxuIGRyYXdUaXRsZSgpIHt9XG59XG5cbmNvbnN0IElOVEVSVkFMUyA9IHtcbiAgICBtaWxsaXNlY29uZDoge1xuICAgICAgICBjb21tb246IHRydWUsXG4gICAgICAgIHNpemU6IDEsXG4gICAgICAgIHN0ZXBzOiAxMDAwXG4gICAgfSxcbiAgICBzZWNvbmQ6IHtcbiAgICAgICAgY29tbW9uOiB0cnVlLFxuICAgICAgICBzaXplOiAxMDAwLFxuICAgICAgICBzdGVwczogNjBcbiAgICB9LFxuICAgIG1pbnV0ZToge1xuICAgICAgICBjb21tb246IHRydWUsXG4gICAgICAgIHNpemU6IDYwMDAwLFxuICAgICAgICBzdGVwczogNjBcbiAgICB9LFxuICAgIGhvdXI6IHtcbiAgICAgICAgY29tbW9uOiB0cnVlLFxuICAgICAgICBzaXplOiAzNjAwMDAwLFxuICAgICAgICBzdGVwczogMjRcbiAgICB9LFxuICAgIGRheToge1xuICAgICAgICBjb21tb246IHRydWUsXG4gICAgICAgIHNpemU6IDg2NDAwMDAwLFxuICAgICAgICBzdGVwczogMzBcbiAgICB9LFxuICAgIHdlZWs6IHtcbiAgICAgICAgY29tbW9uOiBmYWxzZSxcbiAgICAgICAgc2l6ZTogNjA0ODAwMDAwLFxuICAgICAgICBzdGVwczogNFxuICAgIH0sXG4gICAgbW9udGg6IHtcbiAgICAgICAgY29tbW9uOiB0cnVlLFxuICAgICAgICBzaXplOiAyLjYyOGU5LFxuICAgICAgICBzdGVwczogMTJcbiAgICB9LFxuICAgIHF1YXJ0ZXI6IHtcbiAgICAgICAgY29tbW9uOiBmYWxzZSxcbiAgICAgICAgc2l6ZTogNy44ODRlOSxcbiAgICAgICAgc3RlcHM6IDRcbiAgICB9LFxuICAgIHllYXI6IHtcbiAgICAgICAgY29tbW9uOiB0cnVlLFxuICAgICAgICBzaXplOiAzLjE1NGUxMFxuICAgIH1cbn07XG4gY29uc3QgVU5JVFMgPSAgLyogI19fUFVSRV9fICovIE9iamVjdC5rZXlzKElOVEVSVkFMUyk7XG4gZnVuY3Rpb24gc29ydGVyKGEsIGIpIHtcbiAgICByZXR1cm4gYSAtIGI7XG59XG4gZnVuY3Rpb24gcGFyc2Uoc2NhbGUsIGlucHV0KSB7XG4gICAgaWYgKGlzTnVsbE9yVW5kZWYoaW5wdXQpKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBhZGFwdGVyID0gc2NhbGUuX2FkYXB0ZXI7XG4gICAgY29uc3QgeyBwYXJzZXIgLCByb3VuZCAsIGlzb1dlZWtkYXkgIH0gPSBzY2FsZS5fcGFyc2VPcHRzO1xuICAgIGxldCB2YWx1ZSA9IGlucHV0O1xuICAgIGlmICh0eXBlb2YgcGFyc2VyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhbHVlID0gcGFyc2VyKHZhbHVlKTtcbiAgICB9XG4gICAgaWYgKCFpc051bWJlckZpbml0ZSh2YWx1ZSkpIHtcbiAgICAgICAgdmFsdWUgPSB0eXBlb2YgcGFyc2VyID09PSAnc3RyaW5nJyA/IGFkYXB0ZXIucGFyc2UodmFsdWUsICBwYXJzZXIpIDogYWRhcHRlci5wYXJzZSh2YWx1ZSk7XG4gICAgfVxuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKHJvdW5kKSB7XG4gICAgICAgIHZhbHVlID0gcm91bmQgPT09ICd3ZWVrJyAmJiAoaXNOdW1iZXIoaXNvV2Vla2RheSkgfHwgaXNvV2Vla2RheSA9PT0gdHJ1ZSkgPyBhZGFwdGVyLnN0YXJ0T2YodmFsdWUsICdpc29XZWVrJywgaXNvV2Vla2RheSkgOiBhZGFwdGVyLnN0YXJ0T2YodmFsdWUsIHJvdW5kKTtcbiAgICB9XG4gICAgcmV0dXJuICt2YWx1ZTtcbn1cbiBmdW5jdGlvbiBkZXRlcm1pbmVVbml0Rm9yQXV0b1RpY2tzKG1pblVuaXQsIG1pbiwgbWF4LCBjYXBhY2l0eSkge1xuICAgIGNvbnN0IGlsZW4gPSBVTklUUy5sZW5ndGg7XG4gICAgZm9yKGxldCBpID0gVU5JVFMuaW5kZXhPZihtaW5Vbml0KTsgaSA8IGlsZW4gLSAxOyArK2kpe1xuICAgICAgICBjb25zdCBpbnRlcnZhbCA9IElOVEVSVkFMU1tVTklUU1tpXV07XG4gICAgICAgIGNvbnN0IGZhY3RvciA9IGludGVydmFsLnN0ZXBzID8gaW50ZXJ2YWwuc3RlcHMgOiBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUjtcbiAgICAgICAgaWYgKGludGVydmFsLmNvbW1vbiAmJiBNYXRoLmNlaWwoKG1heCAtIG1pbikgLyAoZmFjdG9yICogaW50ZXJ2YWwuc2l6ZSkpIDw9IGNhcGFjaXR5KSB7XG4gICAgICAgICAgICByZXR1cm4gVU5JVFNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIFVOSVRTW2lsZW4gLSAxXTtcbn1cbiBmdW5jdGlvbiBkZXRlcm1pbmVVbml0Rm9yRm9ybWF0dGluZyhzY2FsZSwgbnVtVGlja3MsIG1pblVuaXQsIG1pbiwgbWF4KSB7XG4gICAgZm9yKGxldCBpID0gVU5JVFMubGVuZ3RoIC0gMTsgaSA+PSBVTklUUy5pbmRleE9mKG1pblVuaXQpOyBpLS0pe1xuICAgICAgICBjb25zdCB1bml0ID0gVU5JVFNbaV07XG4gICAgICAgIGlmIChJTlRFUlZBTFNbdW5pdF0uY29tbW9uICYmIHNjYWxlLl9hZGFwdGVyLmRpZmYobWF4LCBtaW4sIHVuaXQpID49IG51bVRpY2tzIC0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIHVuaXQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIFVOSVRTW21pblVuaXQgPyBVTklUUy5pbmRleE9mKG1pblVuaXQpIDogMF07XG59XG4gZnVuY3Rpb24gZGV0ZXJtaW5lTWFqb3JVbml0KHVuaXQpIHtcbiAgICBmb3IobGV0IGkgPSBVTklUUy5pbmRleE9mKHVuaXQpICsgMSwgaWxlbiA9IFVOSVRTLmxlbmd0aDsgaSA8IGlsZW47ICsraSl7XG4gICAgICAgIGlmIChJTlRFUlZBTFNbVU5JVFNbaV1dLmNvbW1vbikge1xuICAgICAgICAgICAgcmV0dXJuIFVOSVRTW2ldO1xuICAgICAgICB9XG4gICAgfVxufVxuIGZ1bmN0aW9uIGFkZFRpY2sodGlja3MsIHRpbWUsIHRpbWVzdGFtcHMpIHtcbiAgICBpZiAoIXRpbWVzdGFtcHMpIHtcbiAgICAgICAgdGlja3NbdGltZV0gPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAodGltZXN0YW1wcy5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgeyBsbyAsIGhpICB9ID0gX2xvb2t1cCh0aW1lc3RhbXBzLCB0aW1lKTtcbiAgICAgICAgY29uc3QgdGltZXN0YW1wID0gdGltZXN0YW1wc1tsb10gPj0gdGltZSA/IHRpbWVzdGFtcHNbbG9dIDogdGltZXN0YW1wc1toaV07XG4gICAgICAgIHRpY2tzW3RpbWVzdGFtcF0gPSB0cnVlO1xuICAgIH1cbn1cbiBmdW5jdGlvbiBzZXRNYWpvclRpY2tzKHNjYWxlLCB0aWNrcywgbWFwLCBtYWpvclVuaXQpIHtcbiAgICBjb25zdCBhZGFwdGVyID0gc2NhbGUuX2FkYXB0ZXI7XG4gICAgY29uc3QgZmlyc3QgPSArYWRhcHRlci5zdGFydE9mKHRpY2tzWzBdLnZhbHVlLCBtYWpvclVuaXQpO1xuICAgIGNvbnN0IGxhc3QgPSB0aWNrc1t0aWNrcy5sZW5ndGggLSAxXS52YWx1ZTtcbiAgICBsZXQgbWFqb3IsIGluZGV4O1xuICAgIGZvcihtYWpvciA9IGZpcnN0OyBtYWpvciA8PSBsYXN0OyBtYWpvciA9ICthZGFwdGVyLmFkZChtYWpvciwgMSwgbWFqb3JVbml0KSl7XG4gICAgICAgIGluZGV4ID0gbWFwW21ham9yXTtcbiAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICAgIHRpY2tzW2luZGV4XS5tYWpvciA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRpY2tzO1xufVxuIGZ1bmN0aW9uIHRpY2tzRnJvbVRpbWVzdGFtcHMoc2NhbGUsIHZhbHVlcywgbWFqb3JVbml0KSB7XG4gICAgY29uc3QgdGlja3MgPSBbXTtcbiAgICAgY29uc3QgbWFwID0ge307XG4gICAgY29uc3QgaWxlbiA9IHZhbHVlcy5sZW5ndGg7XG4gICAgbGV0IGksIHZhbHVlO1xuICAgIGZvcihpID0gMDsgaSA8IGlsZW47ICsraSl7XG4gICAgICAgIHZhbHVlID0gdmFsdWVzW2ldO1xuICAgICAgICBtYXBbdmFsdWVdID0gaTtcbiAgICAgICAgdGlja3MucHVzaCh7XG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIG1ham9yOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGlsZW4gPT09IDAgfHwgIW1ham9yVW5pdCA/IHRpY2tzIDogc2V0TWFqb3JUaWNrcyhzY2FsZSwgdGlja3MsIG1hcCwgbWFqb3JVbml0KTtcbn1cbmNsYXNzIFRpbWVTY2FsZSBleHRlbmRzIFNjYWxlIHtcbiAgICBzdGF0aWMgaWQgPSAndGltZSc7XG4gc3RhdGljIGRlZmF1bHRzID0ge1xuIGJvdW5kczogJ2RhdGEnLFxuICAgICAgICBhZGFwdGVyczoge30sXG4gICAgICAgIHRpbWU6IHtcbiAgICAgICAgICAgIHBhcnNlcjogZmFsc2UsXG4gICAgICAgICAgICB1bml0OiBmYWxzZSxcbiAgICAgICAgICAgIHJvdW5kOiBmYWxzZSxcbiAgICAgICAgICAgIGlzb1dlZWtkYXk6IGZhbHNlLFxuICAgICAgICAgICAgbWluVW5pdDogJ21pbGxpc2Vjb25kJyxcbiAgICAgICAgICAgIGRpc3BsYXlGb3JtYXRzOiB7fVxuICAgICAgICB9LFxuICAgICAgICB0aWNrczoge1xuIHNvdXJjZTogJ2F1dG8nLFxuICAgICAgICAgICAgY2FsbGJhY2s6IGZhbHNlLFxuICAgICAgICAgICAgbWFqb3I6IHtcbiAgICAgICAgICAgICAgICBlbmFibGVkOiBmYWxzZVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiBjb25zdHJ1Y3Rvcihwcm9wcyl7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgIHRoaXMuX2NhY2hlID0ge1xuICAgICAgICAgICAgZGF0YTogW10sXG4gICAgICAgICAgICBsYWJlbHM6IFtdLFxuICAgICAgICAgICAgYWxsOiBbXVxuICAgICAgICB9O1xuICAgICAgICAgdGhpcy5fdW5pdCA9ICdkYXknO1xuICAgICAgICAgdGhpcy5fbWFqb3JVbml0ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9vZmZzZXRzID0ge307XG4gICAgICAgIHRoaXMuX25vcm1hbGl6ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fcGFyc2VPcHRzID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpbml0KHNjYWxlT3B0cywgb3B0cyA9IHt9KSB7XG4gICAgICAgIGNvbnN0IHRpbWUgPSBzY2FsZU9wdHMudGltZSB8fCAoc2NhbGVPcHRzLnRpbWUgPSB7fSk7XG4gICAgICAgICBjb25zdCBhZGFwdGVyID0gdGhpcy5fYWRhcHRlciA9IG5ldyBhZGFwdGVycy5fZGF0ZShzY2FsZU9wdHMuYWRhcHRlcnMuZGF0ZSk7XG4gICAgICAgIGFkYXB0ZXIuaW5pdChvcHRzKTtcbiAgICAgICAgbWVyZ2VJZih0aW1lLmRpc3BsYXlGb3JtYXRzLCBhZGFwdGVyLmZvcm1hdHMoKSk7XG4gICAgICAgIHRoaXMuX3BhcnNlT3B0cyA9IHtcbiAgICAgICAgICAgIHBhcnNlcjogdGltZS5wYXJzZXIsXG4gICAgICAgICAgICByb3VuZDogdGltZS5yb3VuZCxcbiAgICAgICAgICAgIGlzb1dlZWtkYXk6IHRpbWUuaXNvV2Vla2RheVxuICAgICAgICB9O1xuICAgICAgICBzdXBlci5pbml0KHNjYWxlT3B0cyk7XG4gICAgICAgIHRoaXMuX25vcm1hbGl6ZWQgPSBvcHRzLm5vcm1hbGl6ZWQ7XG4gICAgfVxuIHBhcnNlKHJhdywgaW5kZXgpIHtcbiAgICAgICAgaWYgKHJhdyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFyc2UodGhpcywgcmF3KTtcbiAgICB9XG4gICAgYmVmb3JlTGF5b3V0KCkge1xuICAgICAgICBzdXBlci5iZWZvcmVMYXlvdXQoKTtcbiAgICAgICAgdGhpcy5fY2FjaGUgPSB7XG4gICAgICAgICAgICBkYXRhOiBbXSxcbiAgICAgICAgICAgIGxhYmVsczogW10sXG4gICAgICAgICAgICBhbGw6IFtdXG4gICAgICAgIH07XG4gICAgfVxuICAgIGRldGVybWluZURhdGFMaW1pdHMoKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGNvbnN0IGFkYXB0ZXIgPSB0aGlzLl9hZGFwdGVyO1xuICAgICAgICBjb25zdCB1bml0ID0gb3B0aW9ucy50aW1lLnVuaXQgfHwgJ2RheSc7XG4gICAgICAgIGxldCB7IG1pbiAsIG1heCAsIG1pbkRlZmluZWQgLCBtYXhEZWZpbmVkICB9ID0gdGhpcy5nZXRVc2VyQm91bmRzKCk7XG4gZnVuY3Rpb24gX2FwcGx5Qm91bmRzKGJvdW5kcykge1xuICAgICAgICAgICAgaWYgKCFtaW5EZWZpbmVkICYmICFpc05hTihib3VuZHMubWluKSkge1xuICAgICAgICAgICAgICAgIG1pbiA9IE1hdGgubWluKG1pbiwgYm91bmRzLm1pbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIW1heERlZmluZWQgJiYgIWlzTmFOKGJvdW5kcy5tYXgpKSB7XG4gICAgICAgICAgICAgICAgbWF4ID0gTWF0aC5tYXgobWF4LCBib3VuZHMubWF4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIW1pbkRlZmluZWQgfHwgIW1heERlZmluZWQpIHtcbiAgICAgICAgICAgIF9hcHBseUJvdW5kcyh0aGlzLl9nZXRMYWJlbEJvdW5kcygpKTtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmJvdW5kcyAhPT0gJ3RpY2tzJyB8fCBvcHRpb25zLnRpY2tzLnNvdXJjZSAhPT0gJ2xhYmVscycpIHtcbiAgICAgICAgICAgICAgICBfYXBwbHlCb3VuZHModGhpcy5nZXRNaW5NYXgoZmFsc2UpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBtaW4gPSBpc051bWJlckZpbml0ZShtaW4pICYmICFpc05hTihtaW4pID8gbWluIDogK2FkYXB0ZXIuc3RhcnRPZihEYXRlLm5vdygpLCB1bml0KTtcbiAgICAgICAgbWF4ID0gaXNOdW1iZXJGaW5pdGUobWF4KSAmJiAhaXNOYU4obWF4KSA/IG1heCA6ICthZGFwdGVyLmVuZE9mKERhdGUubm93KCksIHVuaXQpICsgMTtcbiAgICAgICAgdGhpcy5taW4gPSBNYXRoLm1pbihtaW4sIG1heCAtIDEpO1xuICAgICAgICB0aGlzLm1heCA9IE1hdGgubWF4KG1pbiArIDEsIG1heCk7XG4gICAgfVxuIF9nZXRMYWJlbEJvdW5kcygpIHtcbiAgICAgICAgY29uc3QgYXJyID0gdGhpcy5nZXRMYWJlbFRpbWVzdGFtcHMoKTtcbiAgICAgICAgbGV0IG1pbiA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICAgICAgbGV0IG1heCA9IE51bWJlci5ORUdBVElWRV9JTkZJTklUWTtcbiAgICAgICAgaWYgKGFyci5sZW5ndGgpIHtcbiAgICAgICAgICAgIG1pbiA9IGFyclswXTtcbiAgICAgICAgICAgIG1heCA9IGFyclthcnIubGVuZ3RoIC0gMV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1pbixcbiAgICAgICAgICAgIG1heFxuICAgICAgICB9O1xuICAgIH1cbiBidWlsZFRpY2tzKCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCB0aW1lT3B0cyA9IG9wdGlvbnMudGltZTtcbiAgICAgICAgY29uc3QgdGlja09wdHMgPSBvcHRpb25zLnRpY2tzO1xuICAgICAgICBjb25zdCB0aW1lc3RhbXBzID0gdGlja09wdHMuc291cmNlID09PSAnbGFiZWxzJyA/IHRoaXMuZ2V0TGFiZWxUaW1lc3RhbXBzKCkgOiB0aGlzLl9nZW5lcmF0ZSgpO1xuICAgICAgICBpZiAob3B0aW9ucy5ib3VuZHMgPT09ICd0aWNrcycgJiYgdGltZXN0YW1wcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMubWluID0gdGhpcy5fdXNlck1pbiB8fCB0aW1lc3RhbXBzWzBdO1xuICAgICAgICAgICAgdGhpcy5tYXggPSB0aGlzLl91c2VyTWF4IHx8IHRpbWVzdGFtcHNbdGltZXN0YW1wcy5sZW5ndGggLSAxXTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtaW4gPSB0aGlzLm1pbjtcbiAgICAgICAgY29uc3QgbWF4ID0gdGhpcy5tYXg7XG4gICAgICAgIGNvbnN0IHRpY2tzID0gX2ZpbHRlckJldHdlZW4odGltZXN0YW1wcywgbWluLCBtYXgpO1xuICAgICAgICB0aGlzLl91bml0ID0gdGltZU9wdHMudW5pdCB8fCAodGlja09wdHMuYXV0b1NraXAgPyBkZXRlcm1pbmVVbml0Rm9yQXV0b1RpY2tzKHRpbWVPcHRzLm1pblVuaXQsIHRoaXMubWluLCB0aGlzLm1heCwgdGhpcy5fZ2V0TGFiZWxDYXBhY2l0eShtaW4pKSA6IGRldGVybWluZVVuaXRGb3JGb3JtYXR0aW5nKHRoaXMsIHRpY2tzLmxlbmd0aCwgdGltZU9wdHMubWluVW5pdCwgdGhpcy5taW4sIHRoaXMubWF4KSk7XG4gICAgICAgIHRoaXMuX21ham9yVW5pdCA9ICF0aWNrT3B0cy5tYWpvci5lbmFibGVkIHx8IHRoaXMuX3VuaXQgPT09ICd5ZWFyJyA/IHVuZGVmaW5lZCA6IGRldGVybWluZU1ham9yVW5pdCh0aGlzLl91bml0KTtcbiAgICAgICAgdGhpcy5pbml0T2Zmc2V0cyh0aW1lc3RhbXBzKTtcbiAgICAgICAgaWYgKG9wdGlvbnMucmV2ZXJzZSkge1xuICAgICAgICAgICAgdGlja3MucmV2ZXJzZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aWNrc0Zyb21UaW1lc3RhbXBzKHRoaXMsIHRpY2tzLCB0aGlzLl9tYWpvclVuaXQpO1xuICAgIH1cbiAgICBhZnRlckF1dG9Ta2lwKCkge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLm9mZnNldEFmdGVyQXV0b3NraXApIHtcbiAgICAgICAgICAgIHRoaXMuaW5pdE9mZnNldHModGhpcy50aWNrcy5tYXAoKHRpY2spPT4rdGljay52YWx1ZSkpO1xuICAgICAgICB9XG4gICAgfVxuIGluaXRPZmZzZXRzKHRpbWVzdGFtcHMgPSBbXSkge1xuICAgICAgICBsZXQgc3RhcnQgPSAwO1xuICAgICAgICBsZXQgZW5kID0gMDtcbiAgICAgICAgbGV0IGZpcnN0LCBsYXN0O1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLm9mZnNldCAmJiB0aW1lc3RhbXBzLmxlbmd0aCkge1xuICAgICAgICAgICAgZmlyc3QgPSB0aGlzLmdldERlY2ltYWxGb3JWYWx1ZSh0aW1lc3RhbXBzWzBdKTtcbiAgICAgICAgICAgIGlmICh0aW1lc3RhbXBzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgIHN0YXJ0ID0gMSAtIGZpcnN0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdGFydCA9ICh0aGlzLmdldERlY2ltYWxGb3JWYWx1ZSh0aW1lc3RhbXBzWzFdKSAtIGZpcnN0KSAvIDI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsYXN0ID0gdGhpcy5nZXREZWNpbWFsRm9yVmFsdWUodGltZXN0YW1wc1t0aW1lc3RhbXBzLmxlbmd0aCAtIDFdKTtcbiAgICAgICAgICAgIGlmICh0aW1lc3RhbXBzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgIGVuZCA9IGxhc3Q7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGVuZCA9IChsYXN0IC0gdGhpcy5nZXREZWNpbWFsRm9yVmFsdWUodGltZXN0YW1wc1t0aW1lc3RhbXBzLmxlbmd0aCAtIDJdKSkgLyAyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxpbWl0ID0gdGltZXN0YW1wcy5sZW5ndGggPCAzID8gMC41IDogMC4yNTtcbiAgICAgICAgc3RhcnQgPSBfbGltaXRWYWx1ZShzdGFydCwgMCwgbGltaXQpO1xuICAgICAgICBlbmQgPSBfbGltaXRWYWx1ZShlbmQsIDAsIGxpbWl0KTtcbiAgICAgICAgdGhpcy5fb2Zmc2V0cyA9IHtcbiAgICAgICAgICAgIHN0YXJ0LFxuICAgICAgICAgICAgZW5kLFxuICAgICAgICAgICAgZmFjdG9yOiAxIC8gKHN0YXJ0ICsgMSArIGVuZClcbiAgICAgICAgfTtcbiAgICB9XG4gX2dlbmVyYXRlKCkge1xuICAgICAgICBjb25zdCBhZGFwdGVyID0gdGhpcy5fYWRhcHRlcjtcbiAgICAgICAgY29uc3QgbWluID0gdGhpcy5taW47XG4gICAgICAgIGNvbnN0IG1heCA9IHRoaXMubWF4O1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCB0aW1lT3B0cyA9IG9wdGlvbnMudGltZTtcbiAgICAgICAgY29uc3QgbWlub3IgPSB0aW1lT3B0cy51bml0IHx8IGRldGVybWluZVVuaXRGb3JBdXRvVGlja3ModGltZU9wdHMubWluVW5pdCwgbWluLCBtYXgsIHRoaXMuX2dldExhYmVsQ2FwYWNpdHkobWluKSk7XG4gICAgICAgIGNvbnN0IHN0ZXBTaXplID0gdmFsdWVPckRlZmF1bHQob3B0aW9ucy50aWNrcy5zdGVwU2l6ZSwgMSk7XG4gICAgICAgIGNvbnN0IHdlZWtkYXkgPSBtaW5vciA9PT0gJ3dlZWsnID8gdGltZU9wdHMuaXNvV2Vla2RheSA6IGZhbHNlO1xuICAgICAgICBjb25zdCBoYXNXZWVrZGF5ID0gaXNOdW1iZXIod2Vla2RheSkgfHwgd2Vla2RheSA9PT0gdHJ1ZTtcbiAgICAgICAgY29uc3QgdGlja3MgPSB7fTtcbiAgICAgICAgbGV0IGZpcnN0ID0gbWluO1xuICAgICAgICBsZXQgdGltZSwgY291bnQ7XG4gICAgICAgIGlmIChoYXNXZWVrZGF5KSB7XG4gICAgICAgICAgICBmaXJzdCA9ICthZGFwdGVyLnN0YXJ0T2YoZmlyc3QsICdpc29XZWVrJywgd2Vla2RheSk7XG4gICAgICAgIH1cbiAgICAgICAgZmlyc3QgPSArYWRhcHRlci5zdGFydE9mKGZpcnN0LCBoYXNXZWVrZGF5ID8gJ2RheScgOiBtaW5vcik7XG4gICAgICAgIGlmIChhZGFwdGVyLmRpZmYobWF4LCBtaW4sIG1pbm9yKSA+IDEwMDAwMCAqIHN0ZXBTaXplKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IobWluICsgJyBhbmQgJyArIG1heCArICcgYXJlIHRvbyBmYXIgYXBhcnQgd2l0aCBzdGVwU2l6ZSBvZiAnICsgc3RlcFNpemUgKyAnICcgKyBtaW5vcik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdGltZXN0YW1wcyA9IG9wdGlvbnMudGlja3Muc291cmNlID09PSAnZGF0YScgJiYgdGhpcy5nZXREYXRhVGltZXN0YW1wcygpO1xuICAgICAgICBmb3IodGltZSA9IGZpcnN0LCBjb3VudCA9IDA7IHRpbWUgPCBtYXg7IHRpbWUgPSArYWRhcHRlci5hZGQodGltZSwgc3RlcFNpemUsIG1pbm9yKSwgY291bnQrKyl7XG4gICAgICAgICAgICBhZGRUaWNrKHRpY2tzLCB0aW1lLCB0aW1lc3RhbXBzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGltZSA9PT0gbWF4IHx8IG9wdGlvbnMuYm91bmRzID09PSAndGlja3MnIHx8IGNvdW50ID09PSAxKSB7XG4gICAgICAgICAgICBhZGRUaWNrKHRpY2tzLCB0aW1lLCB0aW1lc3RhbXBzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModGlja3MpLnNvcnQoc29ydGVyKS5tYXAoKHgpPT4reCk7XG4gICAgfVxuIGdldExhYmVsRm9yVmFsdWUodmFsdWUpIHtcbiAgICAgICAgY29uc3QgYWRhcHRlciA9IHRoaXMuX2FkYXB0ZXI7XG4gICAgICAgIGNvbnN0IHRpbWVPcHRzID0gdGhpcy5vcHRpb25zLnRpbWU7XG4gICAgICAgIGlmICh0aW1lT3B0cy50b29sdGlwRm9ybWF0KSB7XG4gICAgICAgICAgICByZXR1cm4gYWRhcHRlci5mb3JtYXQodmFsdWUsIHRpbWVPcHRzLnRvb2x0aXBGb3JtYXQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhZGFwdGVyLmZvcm1hdCh2YWx1ZSwgdGltZU9wdHMuZGlzcGxheUZvcm1hdHMuZGF0ZXRpbWUpO1xuICAgIH1cbiBmb3JtYXQodmFsdWUsIGZvcm1hdCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBmb3JtYXRzID0gb3B0aW9ucy50aW1lLmRpc3BsYXlGb3JtYXRzO1xuICAgICAgICBjb25zdCB1bml0ID0gdGhpcy5fdW5pdDtcbiAgICAgICAgY29uc3QgZm10ID0gZm9ybWF0IHx8IGZvcm1hdHNbdW5pdF07XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGFwdGVyLmZvcm1hdCh2YWx1ZSwgZm10KTtcbiAgICB9XG4gX3RpY2tGb3JtYXRGdW5jdGlvbih0aW1lLCBpbmRleCwgdGlja3MsIGZvcm1hdCkge1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgICAgICBjb25zdCBmb3JtYXR0ZXIgPSBvcHRpb25zLnRpY2tzLmNhbGxiYWNrO1xuICAgICAgICBpZiAoZm9ybWF0dGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soZm9ybWF0dGVyLCBbXG4gICAgICAgICAgICAgICAgdGltZSxcbiAgICAgICAgICAgICAgICBpbmRleCxcbiAgICAgICAgICAgICAgICB0aWNrc1xuICAgICAgICAgICAgXSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZm9ybWF0cyA9IG9wdGlvbnMudGltZS5kaXNwbGF5Rm9ybWF0cztcbiAgICAgICAgY29uc3QgdW5pdCA9IHRoaXMuX3VuaXQ7XG4gICAgICAgIGNvbnN0IG1ham9yVW5pdCA9IHRoaXMuX21ham9yVW5pdDtcbiAgICAgICAgY29uc3QgbWlub3JGb3JtYXQgPSB1bml0ICYmIGZvcm1hdHNbdW5pdF07XG4gICAgICAgIGNvbnN0IG1ham9yRm9ybWF0ID0gbWFqb3JVbml0ICYmIGZvcm1hdHNbbWFqb3JVbml0XTtcbiAgICAgICAgY29uc3QgdGljayA9IHRpY2tzW2luZGV4XTtcbiAgICAgICAgY29uc3QgbWFqb3IgPSBtYWpvclVuaXQgJiYgbWFqb3JGb3JtYXQgJiYgdGljayAmJiB0aWNrLm1ham9yO1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRhcHRlci5mb3JtYXQodGltZSwgZm9ybWF0IHx8IChtYWpvciA/IG1ham9yRm9ybWF0IDogbWlub3JGb3JtYXQpKTtcbiAgICB9XG4gZ2VuZXJhdGVUaWNrTGFiZWxzKHRpY2tzKSB7XG4gICAgICAgIGxldCBpLCBpbGVuLCB0aWNrO1xuICAgICAgICBmb3IoaSA9IDAsIGlsZW4gPSB0aWNrcy5sZW5ndGg7IGkgPCBpbGVuOyArK2kpe1xuICAgICAgICAgICAgdGljayA9IHRpY2tzW2ldO1xuICAgICAgICAgICAgdGljay5sYWJlbCA9IHRoaXMuX3RpY2tGb3JtYXRGdW5jdGlvbih0aWNrLnZhbHVlLCBpLCB0aWNrcyk7XG4gICAgICAgIH1cbiAgICB9XG4gZ2V0RGVjaW1hbEZvclZhbHVlKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbCA/IE5hTiA6ICh2YWx1ZSAtIHRoaXMubWluKSAvICh0aGlzLm1heCAtIHRoaXMubWluKTtcbiAgICB9XG4gZ2V0UGl4ZWxGb3JWYWx1ZSh2YWx1ZSkge1xuICAgICAgICBjb25zdCBvZmZzZXRzID0gdGhpcy5fb2Zmc2V0cztcbiAgICAgICAgY29uc3QgcG9zID0gdGhpcy5nZXREZWNpbWFsRm9yVmFsdWUodmFsdWUpO1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRQaXhlbEZvckRlY2ltYWwoKG9mZnNldHMuc3RhcnQgKyBwb3MpICogb2Zmc2V0cy5mYWN0b3IpO1xuICAgIH1cbiBnZXRWYWx1ZUZvclBpeGVsKHBpeGVsKSB7XG4gICAgICAgIGNvbnN0IG9mZnNldHMgPSB0aGlzLl9vZmZzZXRzO1xuICAgICAgICBjb25zdCBwb3MgPSB0aGlzLmdldERlY2ltYWxGb3JQaXhlbChwaXhlbCkgLyBvZmZzZXRzLmZhY3RvciAtIG9mZnNldHMuZW5kO1xuICAgICAgICByZXR1cm4gdGhpcy5taW4gKyBwb3MgKiAodGhpcy5tYXggLSB0aGlzLm1pbik7XG4gICAgfVxuIF9nZXRMYWJlbFNpemUobGFiZWwpIHtcbiAgICAgICAgY29uc3QgdGlja3NPcHRzID0gdGhpcy5vcHRpb25zLnRpY2tzO1xuICAgICAgICBjb25zdCB0aWNrTGFiZWxXaWR0aCA9IHRoaXMuY3R4Lm1lYXN1cmVUZXh0KGxhYmVsKS53aWR0aDtcbiAgICAgICAgY29uc3QgYW5nbGUgPSB0b1JhZGlhbnModGhpcy5pc0hvcml6b250YWwoKSA/IHRpY2tzT3B0cy5tYXhSb3RhdGlvbiA6IHRpY2tzT3B0cy5taW5Sb3RhdGlvbik7XG4gICAgICAgIGNvbnN0IGNvc1JvdGF0aW9uID0gTWF0aC5jb3MoYW5nbGUpO1xuICAgICAgICBjb25zdCBzaW5Sb3RhdGlvbiA9IE1hdGguc2luKGFuZ2xlKTtcbiAgICAgICAgY29uc3QgdGlja0ZvbnRTaXplID0gdGhpcy5fcmVzb2x2ZVRpY2tGb250T3B0aW9ucygwKS5zaXplO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdzogdGlja0xhYmVsV2lkdGggKiBjb3NSb3RhdGlvbiArIHRpY2tGb250U2l6ZSAqIHNpblJvdGF0aW9uLFxuICAgICAgICAgICAgaDogdGlja0xhYmVsV2lkdGggKiBzaW5Sb3RhdGlvbiArIHRpY2tGb250U2l6ZSAqIGNvc1JvdGF0aW9uXG4gICAgICAgIH07XG4gICAgfVxuIF9nZXRMYWJlbENhcGFjaXR5KGV4YW1wbGVUaW1lKSB7XG4gICAgICAgIGNvbnN0IHRpbWVPcHRzID0gdGhpcy5vcHRpb25zLnRpbWU7XG4gICAgICAgIGNvbnN0IGRpc3BsYXlGb3JtYXRzID0gdGltZU9wdHMuZGlzcGxheUZvcm1hdHM7XG4gICAgICAgIGNvbnN0IGZvcm1hdCA9IGRpc3BsYXlGb3JtYXRzW3RpbWVPcHRzLnVuaXRdIHx8IGRpc3BsYXlGb3JtYXRzLm1pbGxpc2Vjb25kO1xuICAgICAgICBjb25zdCBleGFtcGxlTGFiZWwgPSB0aGlzLl90aWNrRm9ybWF0RnVuY3Rpb24oZXhhbXBsZVRpbWUsIDAsIHRpY2tzRnJvbVRpbWVzdGFtcHModGhpcywgW1xuICAgICAgICAgICAgZXhhbXBsZVRpbWVcbiAgICAgICAgXSwgdGhpcy5fbWFqb3JVbml0KSwgZm9ybWF0KTtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IHRoaXMuX2dldExhYmVsU2l6ZShleGFtcGxlTGFiZWwpO1xuICAgICAgICBjb25zdCBjYXBhY2l0eSA9IE1hdGguZmxvb3IodGhpcy5pc0hvcml6b250YWwoKSA/IHRoaXMud2lkdGggLyBzaXplLncgOiB0aGlzLmhlaWdodCAvIHNpemUuaCkgLSAxO1xuICAgICAgICByZXR1cm4gY2FwYWNpdHkgPiAwID8gY2FwYWNpdHkgOiAxO1xuICAgIH1cbiBnZXREYXRhVGltZXN0YW1wcygpIHtcbiAgICAgICAgbGV0IHRpbWVzdGFtcHMgPSB0aGlzLl9jYWNoZS5kYXRhIHx8IFtdO1xuICAgICAgICBsZXQgaSwgaWxlbjtcbiAgICAgICAgaWYgKHRpbWVzdGFtcHMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGltZXN0YW1wcztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtZXRhcyA9IHRoaXMuZ2V0TWF0Y2hpbmdWaXNpYmxlTWV0YXMoKTtcbiAgICAgICAgaWYgKHRoaXMuX25vcm1hbGl6ZWQgJiYgbWV0YXMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGUuZGF0YSA9IG1ldGFzWzBdLmNvbnRyb2xsZXIuZ2V0QWxsUGFyc2VkVmFsdWVzKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGZvcihpID0gMCwgaWxlbiA9IG1ldGFzLmxlbmd0aDsgaSA8IGlsZW47ICsraSl7XG4gICAgICAgICAgICB0aW1lc3RhbXBzID0gdGltZXN0YW1wcy5jb25jYXQobWV0YXNbaV0uY29udHJvbGxlci5nZXRBbGxQYXJzZWRWYWx1ZXModGhpcykpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9jYWNoZS5kYXRhID0gdGhpcy5ub3JtYWxpemUodGltZXN0YW1wcyk7XG4gICAgfVxuIGdldExhYmVsVGltZXN0YW1wcygpIHtcbiAgICAgICAgY29uc3QgdGltZXN0YW1wcyA9IHRoaXMuX2NhY2hlLmxhYmVscyB8fCBbXTtcbiAgICAgICAgbGV0IGksIGlsZW47XG4gICAgICAgIGlmICh0aW1lc3RhbXBzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHRpbWVzdGFtcHM7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbGFiZWxzID0gdGhpcy5nZXRMYWJlbHMoKTtcbiAgICAgICAgZm9yKGkgPSAwLCBpbGVuID0gbGFiZWxzLmxlbmd0aDsgaSA8IGlsZW47ICsraSl7XG4gICAgICAgICAgICB0aW1lc3RhbXBzLnB1c2gocGFyc2UodGhpcywgbGFiZWxzW2ldKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlLmxhYmVscyA9IHRoaXMuX25vcm1hbGl6ZWQgPyB0aW1lc3RhbXBzIDogdGhpcy5ub3JtYWxpemUodGltZXN0YW1wcyk7XG4gICAgfVxuIG5vcm1hbGl6ZSh2YWx1ZXMpIHtcbiAgICAgICAgcmV0dXJuIF9hcnJheVVuaXF1ZSh2YWx1ZXMuc29ydChzb3J0ZXIpKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGludGVycG9sYXRlKHRhYmxlLCB2YWwsIHJldmVyc2UpIHtcbiAgICBsZXQgbG8gPSAwO1xuICAgIGxldCBoaSA9IHRhYmxlLmxlbmd0aCAtIDE7XG4gICAgbGV0IHByZXZTb3VyY2UsIG5leHRTb3VyY2UsIHByZXZUYXJnZXQsIG5leHRUYXJnZXQ7XG4gICAgaWYgKHJldmVyc2UpIHtcbiAgICAgICAgaWYgKHZhbCA+PSB0YWJsZVtsb10ucG9zICYmIHZhbCA8PSB0YWJsZVtoaV0ucG9zKSB7XG4gICAgICAgICAgICAoeyBsbyAsIGhpICB9ID0gX2xvb2t1cEJ5S2V5KHRhYmxlLCAncG9zJywgdmFsKSk7XG4gICAgICAgIH1cbiAgICAgICAgKHsgcG9zOiBwcmV2U291cmNlICwgdGltZTogcHJldlRhcmdldCAgfSA9IHRhYmxlW2xvXSk7XG4gICAgICAgICh7IHBvczogbmV4dFNvdXJjZSAsIHRpbWU6IG5leHRUYXJnZXQgIH0gPSB0YWJsZVtoaV0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh2YWwgPj0gdGFibGVbbG9dLnRpbWUgJiYgdmFsIDw9IHRhYmxlW2hpXS50aW1lKSB7XG4gICAgICAgICAgICAoeyBsbyAsIGhpICB9ID0gX2xvb2t1cEJ5S2V5KHRhYmxlLCAndGltZScsIHZhbCkpO1xuICAgICAgICB9XG4gICAgICAgICh7IHRpbWU6IHByZXZTb3VyY2UgLCBwb3M6IHByZXZUYXJnZXQgIH0gPSB0YWJsZVtsb10pO1xuICAgICAgICAoeyB0aW1lOiBuZXh0U291cmNlICwgcG9zOiBuZXh0VGFyZ2V0ICB9ID0gdGFibGVbaGldKTtcbiAgICB9XG4gICAgY29uc3Qgc3BhbiA9IG5leHRTb3VyY2UgLSBwcmV2U291cmNlO1xuICAgIHJldHVybiBzcGFuID8gcHJldlRhcmdldCArIChuZXh0VGFyZ2V0IC0gcHJldlRhcmdldCkgKiAodmFsIC0gcHJldlNvdXJjZSkgLyBzcGFuIDogcHJldlRhcmdldDtcbn1cbmNsYXNzIFRpbWVTZXJpZXNTY2FsZSBleHRlbmRzIFRpbWVTY2FsZSB7XG4gICAgc3RhdGljIGlkID0gJ3RpbWVzZXJpZXMnO1xuIHN0YXRpYyBkZWZhdWx0cyA9IFRpbWVTY2FsZS5kZWZhdWx0cztcbiBjb25zdHJ1Y3Rvcihwcm9wcyl7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgIHRoaXMuX3RhYmxlID0gW107XG4gICAgICAgICB0aGlzLl9taW5Qb3MgPSB1bmRlZmluZWQ7XG4gICAgICAgICB0aGlzLl90YWJsZVJhbmdlID0gdW5kZWZpbmVkO1xuICAgIH1cbiBpbml0T2Zmc2V0cygpIHtcbiAgICAgICAgY29uc3QgdGltZXN0YW1wcyA9IHRoaXMuX2dldFRpbWVzdGFtcHNGb3JUYWJsZSgpO1xuICAgICAgICBjb25zdCB0YWJsZSA9IHRoaXMuX3RhYmxlID0gdGhpcy5idWlsZExvb2t1cFRhYmxlKHRpbWVzdGFtcHMpO1xuICAgICAgICB0aGlzLl9taW5Qb3MgPSBpbnRlcnBvbGF0ZSh0YWJsZSwgdGhpcy5taW4pO1xuICAgICAgICB0aGlzLl90YWJsZVJhbmdlID0gaW50ZXJwb2xhdGUodGFibGUsIHRoaXMubWF4KSAtIHRoaXMuX21pblBvcztcbiAgICAgICAgc3VwZXIuaW5pdE9mZnNldHModGltZXN0YW1wcyk7XG4gICAgfVxuIGJ1aWxkTG9va3VwVGFibGUodGltZXN0YW1wcykge1xuICAgICAgICBjb25zdCB7IG1pbiAsIG1heCAgfSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGl0ZW1zID0gW107XG4gICAgICAgIGNvbnN0IHRhYmxlID0gW107XG4gICAgICAgIGxldCBpLCBpbGVuLCBwcmV2LCBjdXJyLCBuZXh0O1xuICAgICAgICBmb3IoaSA9IDAsIGlsZW4gPSB0aW1lc3RhbXBzLmxlbmd0aDsgaSA8IGlsZW47ICsraSl7XG4gICAgICAgICAgICBjdXJyID0gdGltZXN0YW1wc1tpXTtcbiAgICAgICAgICAgIGlmIChjdXJyID49IG1pbiAmJiBjdXJyIDw9IG1heCkge1xuICAgICAgICAgICAgICAgIGl0ZW1zLnB1c2goY3Vycik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGl0ZW1zLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aW1lOiBtaW4sXG4gICAgICAgICAgICAgICAgICAgIHBvczogMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aW1lOiBtYXgsXG4gICAgICAgICAgICAgICAgICAgIHBvczogMVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF07XG4gICAgICAgIH1cbiAgICAgICAgZm9yKGkgPSAwLCBpbGVuID0gaXRlbXMubGVuZ3RoOyBpIDwgaWxlbjsgKytpKXtcbiAgICAgICAgICAgIG5leHQgPSBpdGVtc1tpICsgMV07XG4gICAgICAgICAgICBwcmV2ID0gaXRlbXNbaSAtIDFdO1xuICAgICAgICAgICAgY3VyciA9IGl0ZW1zW2ldO1xuICAgICAgICAgICAgaWYgKE1hdGgucm91bmQoKG5leHQgKyBwcmV2KSAvIDIpICE9PSBjdXJyKSB7XG4gICAgICAgICAgICAgICAgdGFibGUucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHRpbWU6IGN1cnIsXG4gICAgICAgICAgICAgICAgICAgIHBvczogaSAvIChpbGVuIC0gMSlcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGFibGU7XG4gICAgfVxuIF9nZW5lcmF0ZSgpIHtcbiAgICAgICAgY29uc3QgbWluID0gdGhpcy5taW47XG4gICAgICAgIGNvbnN0IG1heCA9IHRoaXMubWF4O1xuICAgICAgICBsZXQgdGltZXN0YW1wcyA9IHN1cGVyLmdldERhdGFUaW1lc3RhbXBzKCk7XG4gICAgICAgIGlmICghdGltZXN0YW1wcy5pbmNsdWRlcyhtaW4pIHx8ICF0aW1lc3RhbXBzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGltZXN0YW1wcy5zcGxpY2UoMCwgMCwgbWluKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRpbWVzdGFtcHMuaW5jbHVkZXMobWF4KSB8fCB0aW1lc3RhbXBzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgdGltZXN0YW1wcy5wdXNoKG1heCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRpbWVzdGFtcHMuc29ydCgoYSwgYik9PmEgLSBiKTtcbiAgICB9XG4gX2dldFRpbWVzdGFtcHNGb3JUYWJsZSgpIHtcbiAgICAgICAgbGV0IHRpbWVzdGFtcHMgPSB0aGlzLl9jYWNoZS5hbGwgfHwgW107XG4gICAgICAgIGlmICh0aW1lc3RhbXBzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHRpbWVzdGFtcHM7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMuZ2V0RGF0YVRpbWVzdGFtcHMoKTtcbiAgICAgICAgY29uc3QgbGFiZWwgPSB0aGlzLmdldExhYmVsVGltZXN0YW1wcygpO1xuICAgICAgICBpZiAoZGF0YS5sZW5ndGggJiYgbGFiZWwubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aW1lc3RhbXBzID0gdGhpcy5ub3JtYWxpemUoZGF0YS5jb25jYXQobGFiZWwpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRpbWVzdGFtcHMgPSBkYXRhLmxlbmd0aCA/IGRhdGEgOiBsYWJlbDtcbiAgICAgICAgfVxuICAgICAgICB0aW1lc3RhbXBzID0gdGhpcy5fY2FjaGUuYWxsID0gdGltZXN0YW1wcztcbiAgICAgICAgcmV0dXJuIHRpbWVzdGFtcHM7XG4gICAgfVxuIGdldERlY2ltYWxGb3JWYWx1ZSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gKGludGVycG9sYXRlKHRoaXMuX3RhYmxlLCB2YWx1ZSkgLSB0aGlzLl9taW5Qb3MpIC8gdGhpcy5fdGFibGVSYW5nZTtcbiAgICB9XG4gZ2V0VmFsdWVGb3JQaXhlbChwaXhlbCkge1xuICAgICAgICBjb25zdCBvZmZzZXRzID0gdGhpcy5fb2Zmc2V0cztcbiAgICAgICAgY29uc3QgZGVjaW1hbCA9IHRoaXMuZ2V0RGVjaW1hbEZvclBpeGVsKHBpeGVsKSAvIG9mZnNldHMuZmFjdG9yIC0gb2Zmc2V0cy5lbmQ7XG4gICAgICAgIHJldHVybiBpbnRlcnBvbGF0ZSh0aGlzLl90YWJsZSwgZGVjaW1hbCAqIHRoaXMuX3RhYmxlUmFuZ2UgKyB0aGlzLl9taW5Qb3MsIHRydWUpO1xuICAgIH1cbn1cblxudmFyIHNjYWxlcyA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHtcbl9fcHJvdG9fXzogbnVsbCxcbkNhdGVnb3J5U2NhbGU6IENhdGVnb3J5U2NhbGUsXG5MaW5lYXJTY2FsZTogTGluZWFyU2NhbGUsXG5Mb2dhcml0aG1pY1NjYWxlOiBMb2dhcml0aG1pY1NjYWxlLFxuUmFkaWFsTGluZWFyU2NhbGU6IFJhZGlhbExpbmVhclNjYWxlLFxuVGltZVNjYWxlOiBUaW1lU2NhbGUsXG5UaW1lU2VyaWVzU2NhbGU6IFRpbWVTZXJpZXNTY2FsZVxufSk7XG5cbmNvbnN0IHJlZ2lzdGVyYWJsZXMgPSBbXG4gICAgY29udHJvbGxlcnMsXG4gICAgZWxlbWVudHMsXG4gICAgcGx1Z2lucyxcbiAgICBzY2FsZXNcbl07XG5cbmV4cG9ydCB7IEFuaW1hdGlvbiwgQW5pbWF0aW9ucywgQXJjRWxlbWVudCwgQmFyQ29udHJvbGxlciwgQmFyRWxlbWVudCwgQmFzZVBsYXRmb3JtLCBCYXNpY1BsYXRmb3JtLCBCdWJibGVDb250cm9sbGVyLCBDYXRlZ29yeVNjYWxlLCBDaGFydCwgcGx1Z2luX2NvbG9ycyBhcyBDb2xvcnMsIERhdGFzZXRDb250cm9sbGVyLCBwbHVnaW5fZGVjaW1hdGlvbiBhcyBEZWNpbWF0aW9uLCBEb21QbGF0Zm9ybSwgRG91Z2hudXRDb250cm9sbGVyLCBFbGVtZW50LCBpbmRleCBhcyBGaWxsZXIsIEludGVyYWN0aW9uLCBwbHVnaW5fbGVnZW5kIGFzIExlZ2VuZCwgTGluZUNvbnRyb2xsZXIsIExpbmVFbGVtZW50LCBMaW5lYXJTY2FsZSwgTG9nYXJpdGhtaWNTY2FsZSwgUGllQ29udHJvbGxlciwgUG9pbnRFbGVtZW50LCBQb2xhckFyZWFDb250cm9sbGVyLCBSYWRhckNvbnRyb2xsZXIsIFJhZGlhbExpbmVhclNjYWxlLCBTY2FsZSwgU2NhdHRlckNvbnRyb2xsZXIsIHBsdWdpbl9zdWJ0aXRsZSBhcyBTdWJUaXRsZSwgVGlja3MsIFRpbWVTY2FsZSwgVGltZVNlcmllc1NjYWxlLCBwbHVnaW5fdGl0bGUgYXMgVGl0bGUsIHBsdWdpbl90b29sdGlwIGFzIFRvb2x0aXAsIGFkYXB0ZXJzIGFzIF9hZGFwdGVycywgX2RldGVjdFBsYXRmb3JtLCBhbmltYXRvciwgY29udHJvbGxlcnMsIGRlZmF1bHRzLCBlbGVtZW50cywgbGF5b3V0cywgcGx1Z2lucywgcmVnaXN0ZXJhYmxlcywgcmVnaXN0cnksIHNjYWxlcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2hhcnQuanMubWFwXG4iLCJpbXBvcnQgeyBDaGFydCBhcyBDaGFydCQxLCBCYXJDb250cm9sbGVyLCBEb3VnaG51dENvbnRyb2xsZXIsIExpbmVDb250cm9sbGVyLCBQaWVDb250cm9sbGVyLCBQb2xhckFyZWFDb250cm9sbGVyLCBSYWRhckNvbnRyb2xsZXIsIEJ1YmJsZUNvbnRyb2xsZXIsIFNjYXR0ZXJDb250cm9sbGVyIH0gZnJvbSAnY2hhcnQuanMnO1xuaW1wb3J0IHsgdmVyc2lvbiwgaXNQcm94eSwgdG9SYXcsIGRlZmluZUNvbXBvbmVudCwgcmVmLCBzaGFsbG93UmVmLCBvbk1vdW50ZWQsIG9uVW5tb3VudGVkLCB3YXRjaCwgbmV4dFRpY2ssIGggfSBmcm9tICd2dWUnO1xuXG5jb25zdCBDb21tb25Qcm9wcyA9IHtcbiAgICBkYXRhOiB7XG4gICAgICAgIHR5cGU6IE9iamVjdCxcbiAgICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICB9LFxuICAgIG9wdGlvbnM6IHtcbiAgICAgICAgdHlwZTogT2JqZWN0LFxuICAgICAgICBkZWZhdWx0OiAoKT0+KHt9KVxuICAgIH0sXG4gICAgcGx1Z2luczoge1xuICAgICAgICB0eXBlOiBBcnJheSxcbiAgICAgICAgZGVmYXVsdDogKCk9PltdXG4gICAgfSxcbiAgICBkYXRhc2V0SWRLZXk6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICBkZWZhdWx0OiBcImxhYmVsXCJcbiAgICB9LFxuICAgIHVwZGF0ZU1vZGU6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICBkZWZhdWx0OiB1bmRlZmluZWRcbiAgICB9XG59O1xuY29uc3QgQTExeVByb3BzID0ge1xuICAgIGFyaWFMYWJlbDoge1xuICAgICAgICB0eXBlOiBTdHJpbmdcbiAgICB9LFxuICAgIGFyaWFEZXNjcmliZWRieToge1xuICAgICAgICB0eXBlOiBTdHJpbmdcbiAgICB9XG59O1xuY29uc3QgUHJvcHMgPSB7XG4gICAgdHlwZToge1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlXG4gICAgfSxcbiAgICBkZXN0cm95RGVsYXk6IHtcbiAgICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgICBkZWZhdWx0OiAwIC8vIE5vIGRlbGF5IGJ5IGRlZmF1bHRcbiAgICB9LFxuICAgIC4uLkNvbW1vblByb3BzLFxuICAgIC4uLkExMXlQcm9wc1xufTtcblxuY29uc3QgY29tcGF0UHJvcHMgPSB2ZXJzaW9uWzBdID09PSBcIjJcIiA/IChpbnRlcm5hbHMsIHByb3BzKT0+T2JqZWN0LmFzc2lnbihpbnRlcm5hbHMsIHtcbiAgICAgICAgYXR0cnM6IHByb3BzXG4gICAgfSkgOiAoaW50ZXJuYWxzLCBwcm9wcyk9Pk9iamVjdC5hc3NpZ24oaW50ZXJuYWxzLCBwcm9wcyk7XG5mdW5jdGlvbiB0b1Jhd0lmUHJveHkob2JqKSB7XG4gICAgcmV0dXJuIGlzUHJveHkob2JqKSA/IHRvUmF3KG9iaikgOiBvYmo7XG59XG5mdW5jdGlvbiBjbG9uZVByb3h5KG9iaikge1xuICAgIGxldCBzcmMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHZvaWQgMCA/IGFyZ3VtZW50c1sxXSA6IG9iajtcbiAgICByZXR1cm4gaXNQcm94eShzcmMpID8gbmV3IFByb3h5KG9iaiwge30pIDogb2JqO1xufVxuZnVuY3Rpb24gc2V0T3B0aW9ucyhjaGFydCwgbmV4dE9wdGlvbnMpIHtcbiAgICBjb25zdCBvcHRpb25zID0gY2hhcnQub3B0aW9ucztcbiAgICBpZiAob3B0aW9ucyAmJiBuZXh0T3B0aW9ucykge1xuICAgICAgICBPYmplY3QuYXNzaWduKG9wdGlvbnMsIG5leHRPcHRpb25zKTtcbiAgICB9XG59XG5mdW5jdGlvbiBzZXRMYWJlbHMoY3VycmVudERhdGEsIG5leHRMYWJlbHMpIHtcbiAgICBjdXJyZW50RGF0YS5sYWJlbHMgPSBuZXh0TGFiZWxzO1xufVxuZnVuY3Rpb24gc2V0RGF0YXNldHMoY3VycmVudERhdGEsIG5leHREYXRhc2V0cywgZGF0YXNldElkS2V5KSB7XG4gICAgY29uc3QgYWRkZWREYXRhc2V0cyA9IFtdO1xuICAgIGN1cnJlbnREYXRhLmRhdGFzZXRzID0gbmV4dERhdGFzZXRzLm1hcCgobmV4dERhdGFzZXQpPT57XG4gICAgICAgIC8vIGdpdmVuIHRoZSBuZXcgc2V0LCBmaW5kIGl0J3MgY3VycmVudCBtYXRjaFxuICAgICAgICBjb25zdCBjdXJyZW50RGF0YXNldCA9IGN1cnJlbnREYXRhLmRhdGFzZXRzLmZpbmQoKGRhdGFzZXQpPT5kYXRhc2V0W2RhdGFzZXRJZEtleV0gPT09IG5leHREYXRhc2V0W2RhdGFzZXRJZEtleV0pO1xuICAgICAgICAvLyBUaGVyZSBpcyBubyBvcmlnaW5hbCB0byB1cGRhdGUsIHNvIHNpbXBseSBhZGQgbmV3IG9uZVxuICAgICAgICBpZiAoIWN1cnJlbnREYXRhc2V0IHx8ICFuZXh0RGF0YXNldC5kYXRhIHx8IGFkZGVkRGF0YXNldHMuaW5jbHVkZXMoY3VycmVudERhdGFzZXQpKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLm5leHREYXRhc2V0XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGFkZGVkRGF0YXNldHMucHVzaChjdXJyZW50RGF0YXNldCk7XG4gICAgICAgIE9iamVjdC5hc3NpZ24oY3VycmVudERhdGFzZXQsIG5leHREYXRhc2V0KTtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnREYXRhc2V0O1xuICAgIH0pO1xufVxuZnVuY3Rpb24gY2xvbmVEYXRhKGRhdGEsIGRhdGFzZXRJZEtleSkge1xuICAgIGNvbnN0IG5leHREYXRhID0ge1xuICAgICAgICBsYWJlbHM6IFtdLFxuICAgICAgICBkYXRhc2V0czogW11cbiAgICB9O1xuICAgIHNldExhYmVscyhuZXh0RGF0YSwgZGF0YS5sYWJlbHMpO1xuICAgIHNldERhdGFzZXRzKG5leHREYXRhLCBkYXRhLmRhdGFzZXRzLCBkYXRhc2V0SWRLZXkpO1xuICAgIHJldHVybiBuZXh0RGF0YTtcbn1cbi8qKlxuICogR2V0IGRhdGFzZXQgZnJvbSBtb3VzZSBjbGljayBldmVudFxuICogQHBhcmFtIGNoYXJ0IC0gQ2hhcnQuanMgaW5zdGFuY2VcbiAqIEBwYXJhbSBldmVudCAtIE1vdXNlIGNsaWNrIGV2ZW50XG4gKiBAcmV0dXJucyBEYXRhc2V0XG4gKi8gZnVuY3Rpb24gZ2V0RGF0YXNldEF0RXZlbnQoY2hhcnQsIGV2ZW50KSB7XG4gICAgcmV0dXJuIGNoYXJ0LmdldEVsZW1lbnRzQXRFdmVudEZvck1vZGUoZXZlbnQsIFwiZGF0YXNldFwiLCB7XG4gICAgICAgIGludGVyc2VjdDogdHJ1ZVxuICAgIH0sIGZhbHNlKTtcbn1cbi8qKlxuICogR2V0IHNpbmdsZSBkYXRhc2V0IGVsZW1lbnQgZnJvbSBtb3VzZSBjbGljayBldmVudFxuICogQHBhcmFtIGNoYXJ0IC0gQ2hhcnQuanMgaW5zdGFuY2VcbiAqIEBwYXJhbSBldmVudCAtIE1vdXNlIGNsaWNrIGV2ZW50XG4gKiBAcmV0dXJucyBEYXRhc2V0XG4gKi8gZnVuY3Rpb24gZ2V0RWxlbWVudEF0RXZlbnQoY2hhcnQsIGV2ZW50KSB7XG4gICAgcmV0dXJuIGNoYXJ0LmdldEVsZW1lbnRzQXRFdmVudEZvck1vZGUoZXZlbnQsIFwibmVhcmVzdFwiLCB7XG4gICAgICAgIGludGVyc2VjdDogdHJ1ZVxuICAgIH0sIGZhbHNlKTtcbn1cbi8qKlxuICogR2V0IGFsbCBkYXRhc2V0IGVsZW1lbnRzIGZyb20gbW91c2UgY2xpY2sgZXZlbnRcbiAqIEBwYXJhbSBjaGFydCAtIENoYXJ0LmpzIGluc3RhbmNlXG4gKiBAcGFyYW0gZXZlbnQgLSBNb3VzZSBjbGljayBldmVudFxuICogQHJldHVybnMgRGF0YXNldFxuICovIGZ1bmN0aW9uIGdldEVsZW1lbnRzQXRFdmVudChjaGFydCwgZXZlbnQpIHtcbiAgICByZXR1cm4gY2hhcnQuZ2V0RWxlbWVudHNBdEV2ZW50Rm9yTW9kZShldmVudCwgXCJpbmRleFwiLCB7XG4gICAgICAgIGludGVyc2VjdDogdHJ1ZVxuICAgIH0sIGZhbHNlKTtcbn1cblxuY29uc3QgQ2hhcnQgPSBkZWZpbmVDb21wb25lbnQoe1xuICAgIHByb3BzOiBQcm9wcyxcbiAgICBzZXR1cCAocHJvcHMsIHBhcmFtKSB7XG4gICAgICAgIGxldCB7IGV4cG9zZSAsIHNsb3RzICB9ID0gcGFyYW07XG4gICAgICAgIGNvbnN0IGNhbnZhc1JlZiA9IHJlZihudWxsKTtcbiAgICAgICAgY29uc3QgY2hhcnRSZWYgPSBzaGFsbG93UmVmKG51bGwpO1xuICAgICAgICBleHBvc2Uoe1xuICAgICAgICAgICAgY2hhcnQ6IGNoYXJ0UmVmXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCByZW5kZXJDaGFydCA9ICgpPT57XG4gICAgICAgICAgICBpZiAoIWNhbnZhc1JlZi52YWx1ZSkgcmV0dXJuO1xuICAgICAgICAgICAgY29uc3QgeyB0eXBlICwgZGF0YSAsIG9wdGlvbnMgLCBwbHVnaW5zICwgZGF0YXNldElkS2V5ICB9ID0gcHJvcHM7XG4gICAgICAgICAgICBjb25zdCBjbG9uZWREYXRhID0gY2xvbmVEYXRhKGRhdGEsIGRhdGFzZXRJZEtleSk7XG4gICAgICAgICAgICBjb25zdCBwcm94aWVkRGF0YSA9IGNsb25lUHJveHkoY2xvbmVkRGF0YSwgZGF0YSk7XG4gICAgICAgICAgICBjaGFydFJlZi52YWx1ZSA9IG5ldyBDaGFydCQxKGNhbnZhc1JlZi52YWx1ZSwge1xuICAgICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgICAgZGF0YTogcHJveGllZERhdGEsXG4gICAgICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgICAuLi5vcHRpb25zXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBwbHVnaW5zXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgZGVzdHJveUNoYXJ0ID0gKCk9PntcbiAgICAgICAgICAgIGNvbnN0IGNoYXJ0ID0gdG9SYXcoY2hhcnRSZWYudmFsdWUpO1xuICAgICAgICAgICAgaWYgKGNoYXJ0KSB7XG4gICAgICAgICAgICAgICAgaWYgKHByb3BzLmRlc3Ryb3lEZWxheSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKT0+e1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hhcnQuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hhcnRSZWYudmFsdWUgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9LCBwcm9wcy5kZXN0cm95RGVsYXkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNoYXJ0LmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICAgICAgY2hhcnRSZWYudmFsdWUgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgdXBkYXRlID0gKGNoYXJ0KT0+e1xuICAgICAgICAgICAgY2hhcnQudXBkYXRlKHByb3BzLnVwZGF0ZU1vZGUpO1xuICAgICAgICB9O1xuICAgICAgICBvbk1vdW50ZWQocmVuZGVyQ2hhcnQpO1xuICAgICAgICBvblVubW91bnRlZChkZXN0cm95Q2hhcnQpO1xuICAgICAgICB3YXRjaChbXG4gICAgICAgICAgICAoKT0+cHJvcHMub3B0aW9ucyxcbiAgICAgICAgICAgICgpPT5wcm9wcy5kYXRhXG4gICAgICAgIF0sIChwYXJhbSwgcGFyYW0xKT0+e1xuICAgICAgICAgICAgbGV0IFtuZXh0T3B0aW9uc1Byb3h5LCBuZXh0RGF0YVByb3h5XSA9IHBhcmFtLCBbcHJldk9wdGlvbnNQcm94eSwgcHJldkRhdGFQcm94eV0gPSBwYXJhbTE7XG4gICAgICAgICAgICBjb25zdCBjaGFydCA9IHRvUmF3KGNoYXJ0UmVmLnZhbHVlKTtcbiAgICAgICAgICAgIGlmICghY2hhcnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgc2hvdWxkVXBkYXRlID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAobmV4dE9wdGlvbnNQcm94eSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5leHRPcHRpb25zID0gdG9SYXdJZlByb3h5KG5leHRPcHRpb25zUHJveHkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZPcHRpb25zID0gdG9SYXdJZlByb3h5KHByZXZPcHRpb25zUHJveHkpO1xuICAgICAgICAgICAgICAgIGlmIChuZXh0T3B0aW9ucyAmJiBuZXh0T3B0aW9ucyAhPT0gcHJldk9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0T3B0aW9ucyhjaGFydCwgbmV4dE9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICBzaG91bGRVcGRhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuZXh0RGF0YVByb3h5KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dExhYmVscyA9IHRvUmF3SWZQcm94eShuZXh0RGF0YVByb3h5LmxhYmVscyk7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJldkxhYmVscyA9IHRvUmF3SWZQcm94eShwcmV2RGF0YVByb3h5LmxhYmVscyk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dERhdGFzZXRzID0gdG9SYXdJZlByb3h5KG5leHREYXRhUHJveHkuZGF0YXNldHMpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZEYXRhc2V0cyA9IHRvUmF3SWZQcm94eShwcmV2RGF0YVByb3h5LmRhdGFzZXRzKTtcbiAgICAgICAgICAgICAgICBpZiAobmV4dExhYmVscyAhPT0gcHJldkxhYmVscykge1xuICAgICAgICAgICAgICAgICAgICBzZXRMYWJlbHMoY2hhcnQuY29uZmlnLmRhdGEsIG5leHRMYWJlbHMpO1xuICAgICAgICAgICAgICAgICAgICBzaG91bGRVcGRhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobmV4dERhdGFzZXRzICYmIG5leHREYXRhc2V0cyAhPT0gcHJldkRhdGFzZXRzKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldERhdGFzZXRzKGNoYXJ0LmNvbmZpZy5kYXRhLCBuZXh0RGF0YXNldHMsIHByb3BzLmRhdGFzZXRJZEtleSk7XG4gICAgICAgICAgICAgICAgICAgIHNob3VsZFVwZGF0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNob3VsZFVwZGF0ZSkge1xuICAgICAgICAgICAgICAgIG5leHRUaWNrKCgpPT57XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZShjaGFydCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGRlZXA6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiAoKT0+e1xuICAgICAgICAgICAgcmV0dXJuIGgoXCJjYW52YXNcIiwge1xuICAgICAgICAgICAgICAgIHJvbGU6IFwiaW1nXCIsXG4gICAgICAgICAgICAgICAgYXJpYUxhYmVsOiBwcm9wcy5hcmlhTGFiZWwsXG4gICAgICAgICAgICAgICAgYXJpYURlc2NyaWJlZGJ5OiBwcm9wcy5hcmlhRGVzY3JpYmVkYnksXG4gICAgICAgICAgICAgICAgcmVmOiBjYW52YXNSZWZcbiAgICAgICAgICAgIH0sIFtcbiAgICAgICAgICAgICAgICBoKFwicFwiLCB7fSwgW1xuICAgICAgICAgICAgICAgICAgICBzbG90cy5kZWZhdWx0ID8gc2xvdHMuZGVmYXVsdCgpIDogXCJcIlxuICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgfTtcbiAgICB9XG59KTtcblxuZnVuY3Rpb24gY3JlYXRlVHlwZWRDaGFydCh0eXBlLCByZWdpc3RlcmFibGVzKSB7XG4gICAgQ2hhcnQkMS5yZWdpc3RlcihyZWdpc3RlcmFibGVzKTtcbiAgICByZXR1cm4gZGVmaW5lQ29tcG9uZW50KHtcbiAgICAgICAgcHJvcHM6IENvbW1vblByb3BzLFxuICAgICAgICBzZXR1cCAocHJvcHMsIHBhcmFtKSB7XG4gICAgICAgICAgICBsZXQgeyBleHBvc2UgIH0gPSBwYXJhbTtcbiAgICAgICAgICAgIGNvbnN0IHJlZiA9IHNoYWxsb3dSZWYobnVsbCk7XG4gICAgICAgICAgICBjb25zdCByZWZvcndhcmRSZWYgPSAoY2hhcnRSZWYpPT57XG4gICAgICAgICAgICAgICAgcmVmLnZhbHVlID0gY2hhcnRSZWY/LmNoYXJ0O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGV4cG9zZSh7XG4gICAgICAgICAgICAgICAgY2hhcnQ6IHJlZlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gKCk9PntcbiAgICAgICAgICAgICAgICByZXR1cm4gaChDaGFydCwgY29tcGF0UHJvcHMoe1xuICAgICAgICAgICAgICAgICAgICByZWY6IHJlZm9yd2FyZFJlZlxuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgLi4ucHJvcHNcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfSk7XG59XG5jb25zdCBCYXIgPSAvKiAjX19QVVJFX18gKi8gY3JlYXRlVHlwZWRDaGFydChcImJhclwiLCBCYXJDb250cm9sbGVyKTtcbmNvbnN0IERvdWdobnV0ID0gLyogI19fUFVSRV9fICovIGNyZWF0ZVR5cGVkQ2hhcnQoXCJkb3VnaG51dFwiLCBEb3VnaG51dENvbnRyb2xsZXIpO1xuY29uc3QgTGluZSA9IC8qICNfX1BVUkVfXyAqLyBjcmVhdGVUeXBlZENoYXJ0KFwibGluZVwiLCBMaW5lQ29udHJvbGxlcik7XG5jb25zdCBQaWUgPSAvKiAjX19QVVJFX18gKi8gY3JlYXRlVHlwZWRDaGFydChcInBpZVwiLCBQaWVDb250cm9sbGVyKTtcbmNvbnN0IFBvbGFyQXJlYSA9IC8qICNfX1BVUkVfXyAqLyBjcmVhdGVUeXBlZENoYXJ0KFwicG9sYXJBcmVhXCIsIFBvbGFyQXJlYUNvbnRyb2xsZXIpO1xuY29uc3QgUmFkYXIgPSAvKiAjX19QVVJFX18gKi8gY3JlYXRlVHlwZWRDaGFydChcInJhZGFyXCIsIFJhZGFyQ29udHJvbGxlcik7XG5jb25zdCBCdWJibGUgPSAvKiAjX19QVVJFX18gKi8gY3JlYXRlVHlwZWRDaGFydChcImJ1YmJsZVwiLCBCdWJibGVDb250cm9sbGVyKTtcbmNvbnN0IFNjYXR0ZXIgPSAvKiAjX19QVVJFX18gKi8gY3JlYXRlVHlwZWRDaGFydChcInNjYXR0ZXJcIiwgU2NhdHRlckNvbnRyb2xsZXIpO1xuXG5leHBvcnQgeyBCYXIsIEJ1YmJsZSwgQ2hhcnQsIERvdWdobnV0LCBMaW5lLCBQaWUsIFBvbGFyQXJlYSwgUmFkYXIsIFNjYXR0ZXIsIGNyZWF0ZVR5cGVkQ2hhcnQsIGdldERhdGFzZXRBdEV2ZW50LCBnZXRFbGVtZW50QXRFdmVudCwgZ2V0RWxlbWVudHNBdEV2ZW50IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcbiIsIjxzY3JpcHQgc2V0dXA+XG5pbXBvcnQgeyBCYXIgfSBmcm9tIFwidnVlLWNoYXJ0anNcIjtcblxuaW1wb3J0IHtcbiAgICBDaGFydCBhcyBDaGFydEpTLFxuICAgIFRpdGxlLFxuICAgIFRvb2x0aXAsXG4gICAgTGVnZW5kLFxuICAgIEJhckVsZW1lbnQsXG4gICAgQ2F0ZWdvcnlTY2FsZSxcbiAgICBMaW5lYXJTY2FsZSxcbn0gZnJvbSBcImNoYXJ0LmpzXCI7XG5cbkNoYXJ0SlMucmVnaXN0ZXIoXG4gICAgVGl0bGUsXG4gICAgVG9vbHRpcCxcbiAgICBMZWdlbmQsXG4gICAgQmFyRWxlbWVudCxcbiAgICBDYXRlZ29yeVNjYWxlLFxuICAgIExpbmVhclNjYWxlXG4pO1xuXG48L3NjcmlwdD5cblxuPHRlbXBsYXRlPlxuICA8ZGl2PlxuICAgIDxCYXJcbiAgICAgIDpkYXRhPVwiY2hhcnREYXRhXCJcbiAgICAgIDpjaGFydC1vcHRpb25zPVwiY2hhcnRPcHRpb25zXCJcbiAgICAgIDpjaGFydC1pZD1cImNoYXJ0SWRcIlxuICAgICAgOnN0eWxlcz1cInN0eWxlc1wiXG4gICAgICA6d2lkdGg9XCJ3aWR0aFwiXG4gICAgICA6aGVpZ2h0PVwiaGVpZ2h0XCJcbiAgICAgIDpwbHVnaW5zPVwicGx1Z2luc1wiXG4gICAgICA6Y3NzLWNsYXNzZXM9XCJjc3NDbGFzc2VzXCJcbiAgICAvPlxuICA8L2Rpdj5cbjwvdGVtcGxhdGU+XG5cbjxzY3JpcHQ+XG5leHBvcnQgZGVmYXVsdCB7XG4gICAgbmFtZTogXCJCYXJDaGFydFwiLFxuXG4gICAgY29tcG9uZW50czoge1xuICAgICAgICBCYXIsXG4gICAgfSxcblxuICAgIHByb3BzOiB7XG4gICAgICAgIGNoYXJ0SWQ6IHtcbiAgICAgICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgICAgIGRlZmF1bHQ6ICdiYXItY2hhcnQnXG4gICAgICAgIH0sXG4gICAgICAgIHdpZHRoOiB7XG4gICAgICAgICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICAgICAgICBkZWZhdWx0OiA0MDBcbiAgICAgICAgfSxcbiAgICAgICAgaGVpZ2h0OiB7XG4gICAgICAgICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICAgICAgICBkZWZhdWx0OiA0MDBcbiAgICAgICAgfSxcbiAgICAgICAgY3NzQ2xhc3Nlczoge1xuICAgICAgICAgICAgZGVmYXVsdDogJycsXG4gICAgICAgICAgICB0eXBlOiBTdHJpbmdcbiAgICAgICAgfSxcbiAgICAgICAgc3R5bGVzOiB7XG4gICAgICAgICAgICB0eXBlOiBPYmplY3QsXG4gICAgICAgICAgICBkZWZhdWx0OiAoKSA9PiB7fVxuICAgICAgICB9LFxuICAgICAgICBwbHVnaW5zOiB7XG4gICAgICAgICAgICB0eXBlOiBBcnJheSxcbiAgICAgICAgICAgIGRlZmF1bHQ6ICgpID0+IFtdXG4gICAgICAgIH0sXG4gICAgICAgIGxhYmVsczoge1xuICAgICAgICAgICAgdHlwZTogQXJyYXksXG4gICAgICAgICAgICBkZWZhdWx0OiAoKSA9PiBbXVxuICAgICAgICB9LFxuICAgICAgICBkYXRhc2V0czoge1xuICAgICAgICAgICAgdHlwZTogT2JqZWN0LFxuICAgICAgICAgICAgZGVmYXVsdDogKCkgPT4ge31cbiAgICAgICAgfSxcbiAgICAgICAgY2hhcnRPcHRpb25zOiB7XG4gICAgICAgICAgICB0eXBlOiBPYmplY3QsXG4gICAgICAgICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgdnVlL3JlcXVpcmUtdmFsaWQtZGVmYXVsdC1wcm9wXG4gICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBtYWludGFpbkFzcGVjdFJhdGlvOiBmYWxzZVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIGNvbXB1dGVkOiB7XG4gICAgICAgIGNoYXJ0RGF0YSgpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbGFiZWxzOiB0aGlzLmxhYmVscyxcbiAgICAgICAgICAgICAgICBkYXRhc2V0czogdGhpcy5kYXRhc2V0cyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG59O1xuPC9zY3JpcHQ+XG4iLCIvKipcbiAqIEV4dGVybmFsIGRlcGVuZGVuY2llcy5cbiAqL1xuaW1wb3J0IHsgY3JlYXRlUm91dGVyLCBjcmVhdGVXZWJIaXN0b3J5IH0gZnJvbSBcInZ1ZS1yb3V0ZXJcIjtcblxuLyoqXG4gKiBJbnRlcm5hbCBkZXBlbmRlbmNpZXMuXG4gKi9cbmltcG9ydCBUYWJsZSBmcm9tIFwiLi4vcGFnZXMvVGFibGUudnVlXCI7XG5pbXBvcnQgU2V0dGluZ3MgZnJvbSBcIi4uL3BhZ2VzL1NldHRpbmdzLnZ1ZVwiO1xuaW1wb3J0IEdyYXBoIGZyb20gXCIuLi9wYWdlcy9HcmFwaC52dWVcIjtcblxuY29uc3Qgcm91dGVzID0gW1xuICAgIHtcbiAgICAgICAgcGF0aDogXCIvXCIsXG4gICAgICAgIG5hbWU6IFwiU2V0dGluZ3NcIixcbiAgICAgICAgY29tcG9uZW50OiBTZXR0aW5ncyxcbiAgICAgICAgYWxpYXM6ICcvc2V0dGluZ3MnXG4gICAgfSxcbiAgICB7XG4gICAgICAgIHBhdGg6IFwiL3RhYmxlXCIsXG4gICAgICAgIG5hbWU6IFwiVGFibGVcIixcbiAgICAgICAgY29tcG9uZW50OiBUYWJsZSxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgcGF0aDogXCIvZ3JhcGhcIixcbiAgICAgICAgbmFtZTogXCJHcmFwaFwiLFxuICAgICAgICBjb21wb25lbnQ6IEdyYXBoXG4gICAgfVxuXTtcblxuY29uc3Qgcm91dGVyID0gY3JlYXRlUm91dGVyKHtcbiAgICBoaXN0b3J5OiBjcmVhdGVXZWJIaXN0b3J5KHdwQW1WdWUuc2l0ZS5iYXNlX3VybCksXG4gICAgcm91dGVzXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xuIiwiaW1wb3J0IHsgcmVuZGVyIH0gZnJvbSBcIi4vR3JhcGgudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPWMzNWRhYWYyXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vR3JhcGgudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzXCJcbmV4cG9ydCAqIGZyb20gXCIuL0dyYXBoLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qc1wiXG5cbmltcG9ydCBleHBvcnRDb21wb25lbnQgZnJvbSBcIi4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2Rpc3QvZXhwb3J0SGVscGVyLmpzXCJcbmNvbnN0IF9fZXhwb3J0c19fID0gLyojX19QVVJFX18qL2V4cG9ydENvbXBvbmVudChzY3JpcHQsIFtbJ3JlbmRlcicscmVuZGVyXV0pXG5cbmV4cG9ydCBkZWZhdWx0IF9fZXhwb3J0c19fIiwiLyoqXG4gKiBFeHRlcm5hbCBkZXBlbmRlbmNpZXNcbiAqL1xuaW1wb3J0IG1lbW9pemUgZnJvbSAnbWVtaXplJztcbmltcG9ydCBzcHJpbnRmanMgZnJvbSAnc3ByaW50Zi1qcyc7XG5cbi8qKlxuICogTG9nIHRvIGNvbnNvbGUsIG9uY2UgcGVyIG1lc3NhZ2U7IG9yIG1vcmUgcHJlY2lzZWx5LCBwZXIgcmVmZXJlbnRpYWxseSBlcXVhbFxuICogYXJndW1lbnQgc2V0LiBCZWNhdXNlIEplZCB0aHJvd3MgZXJyb3JzLCB3ZSBsb2cgdGhlc2UgdG8gdGhlIGNvbnNvbGUgaW5zdGVhZFxuICogdG8gYXZvaWQgY3Jhc2hpbmcgdGhlIGFwcGxpY2F0aW9uLlxuICpcbiAqIEBwYXJhbSB7Li4uKn0gYXJncyBBcmd1bWVudHMgdG8gcGFzcyB0byBgY29uc29sZS5lcnJvcmBcbiAqL1xuY29uc3QgbG9nRXJyb3JPbmNlID0gbWVtb2l6ZShjb25zb2xlLmVycm9yKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG5cbi8qKlxuICogUmV0dXJucyBhIGZvcm1hdHRlZCBzdHJpbmcuIElmIGFuIGVycm9yIG9jY3VycyBpbiBhcHBseWluZyB0aGUgZm9ybWF0LCB0aGVcbiAqIG9yaWdpbmFsIGZvcm1hdCBzdHJpbmcgaXMgcmV0dXJuZWQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGZvcm1hdCBUaGUgZm9ybWF0IG9mIHRoZSBzdHJpbmcgdG8gZ2VuZXJhdGUuXG4gKiBAcGFyYW0gey4uLip9ICAgYXJncyAgIEFyZ3VtZW50cyB0byBhcHBseSB0byB0aGUgZm9ybWF0LlxuICpcbiAqIEBzZWUgaHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2Uvc3ByaW50Zi1qc1xuICpcbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGZvcm1hdHRlZCBzdHJpbmcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzcHJpbnRmKGZvcm1hdCwgLi4uYXJncykge1xuICB0cnkge1xuICAgIHJldHVybiBzcHJpbnRmanMuc3ByaW50Zihmb3JtYXQsIC4uLmFyZ3MpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICBsb2dFcnJvck9uY2UoJ3NwcmludGYgZXJyb3I6IFxcblxcbicgKyBlcnJvci50b1N0cmluZygpKTtcbiAgICB9XG4gICAgcmV0dXJuIGZvcm1hdDtcbiAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3ByaW50Zi5qcy5tYXAiLCIvKipcbiAqIE1lbWl6ZSBvcHRpb25zIG9iamVjdC5cbiAqXG4gKiBAdHlwZWRlZiBNZW1pemVPcHRpb25zXG4gKlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFttYXhTaXplXSBNYXhpbXVtIHNpemUgb2YgdGhlIGNhY2hlLlxuICovXG5cbi8qKlxuICogSW50ZXJuYWwgY2FjaGUgZW50cnkuXG4gKlxuICogQHR5cGVkZWYgTWVtaXplQ2FjaGVOb2RlXG4gKlxuICogQHByb3BlcnR5IHs/TWVtaXplQ2FjaGVOb2RlfHVuZGVmaW5lZH0gW3ByZXZdIFByZXZpb3VzIG5vZGUuXG4gKiBAcHJvcGVydHkgez9NZW1pemVDYWNoZU5vZGV8dW5kZWZpbmVkfSBbbmV4dF0gTmV4dCBub2RlLlxuICogQHByb3BlcnR5IHtBcnJheTwqPn0gICAgICAgICAgICAgICAgICAgYXJncyAgIEZ1bmN0aW9uIGFyZ3VtZW50cyBmb3IgY2FjaGVcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRyeS5cbiAqIEBwcm9wZXJ0eSB7Kn0gICAgICAgICAgICAgICAgICAgICAgICAgIHZhbCAgICBGdW5jdGlvbiByZXN1bHQuXG4gKi9cblxuLyoqXG4gKiBQcm9wZXJ0aWVzIG9mIHRoZSBlbmhhbmNlZCBmdW5jdGlvbiBmb3IgY29udHJvbGxpbmcgY2FjaGUuXG4gKlxuICogQHR5cGVkZWYgTWVtaXplTWVtb2l6ZWRGdW5jdGlvblxuICpcbiAqIEBwcm9wZXJ0eSB7KCk9PnZvaWR9IGNsZWFyIENsZWFyIHRoZSBjYWNoZS5cbiAqL1xuXG4vKipcbiAqIEFjY2VwdHMgYSBmdW5jdGlvbiB0byBiZSBtZW1vaXplZCwgYW5kIHJldHVybnMgYSBuZXcgbWVtb2l6ZWQgZnVuY3Rpb24sIHdpdGhcbiAqIG9wdGlvbmFsIG9wdGlvbnMuXG4gKlxuICogQHRlbXBsYXRlIHsoLi4uYXJnczogYW55W10pID0+IGFueX0gRlxuICpcbiAqIEBwYXJhbSB7Rn0gICAgICAgICAgICAgZm4gICAgICAgIEZ1bmN0aW9uIHRvIG1lbW9pemUuXG4gKiBAcGFyYW0ge01lbWl6ZU9wdGlvbnN9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdC5cbiAqXG4gKiBAcmV0dXJuIHsoKC4uLmFyZ3M6IFBhcmFtZXRlcnM8Rj4pID0+IFJldHVyblR5cGU8Rj4pICYgTWVtaXplTWVtb2l6ZWRGdW5jdGlvbn0gTWVtb2l6ZWQgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIG1lbWl6ZShmbiwgb3B0aW9ucykge1xuXHR2YXIgc2l6ZSA9IDA7XG5cblx0LyoqIEB0eXBlIHs/TWVtaXplQ2FjaGVOb2RlfHVuZGVmaW5lZH0gKi9cblx0dmFyIGhlYWQ7XG5cblx0LyoqIEB0eXBlIHs/TWVtaXplQ2FjaGVOb2RlfHVuZGVmaW5lZH0gKi9cblx0dmFyIHRhaWw7XG5cblx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cblx0ZnVuY3Rpb24gbWVtb2l6ZWQoLyogLi4uYXJncyAqLykge1xuXHRcdHZhciBub2RlID0gaGVhZCxcblx0XHRcdGxlbiA9IGFyZ3VtZW50cy5sZW5ndGgsXG5cdFx0XHRhcmdzLFxuXHRcdFx0aTtcblxuXHRcdHNlYXJjaENhY2hlOiB3aGlsZSAobm9kZSkge1xuXHRcdFx0Ly8gUGVyZm9ybSBhIHNoYWxsb3cgZXF1YWxpdHkgdGVzdCB0byBjb25maXJtIHRoYXQgd2hldGhlciB0aGUgbm9kZVxuXHRcdFx0Ly8gdW5kZXIgdGVzdCBpcyBhIGNhbmRpZGF0ZSBmb3IgdGhlIGFyZ3VtZW50cyBwYXNzZWQuIFR3byBhcnJheXNcblx0XHRcdC8vIGFyZSBzaGFsbG93bHkgZXF1YWwgaWYgdGhlaXIgbGVuZ3RoIG1hdGNoZXMgYW5kIGVhY2ggZW50cnkgaXNcblx0XHRcdC8vIHN0cmljdGx5IGVxdWFsIGJldHdlZW4gdGhlIHR3byBzZXRzLiBBdm9pZCBhYnN0cmFjdGluZyB0byBhXG5cdFx0XHQvLyBmdW5jdGlvbiB3aGljaCBjb3VsZCBpbmN1ciBhbiBhcmd1bWVudHMgbGVha2luZyBkZW9wdGltaXphdGlvbi5cblxuXHRcdFx0Ly8gQ2hlY2sgd2hldGhlciBub2RlIGFyZ3VtZW50cyBtYXRjaCBhcmd1bWVudHMgbGVuZ3RoXG5cdFx0XHRpZiAobm9kZS5hcmdzLmxlbmd0aCAhPT0gYXJndW1lbnRzLmxlbmd0aCkge1xuXHRcdFx0XHRub2RlID0gbm9kZS5uZXh0O1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQ2hlY2sgd2hldGhlciBub2RlIGFyZ3VtZW50cyBtYXRjaCBhcmd1bWVudHMgdmFsdWVzXG5cdFx0XHRmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdFx0aWYgKG5vZGUuYXJnc1tpXSAhPT0gYXJndW1lbnRzW2ldKSB7XG5cdFx0XHRcdFx0bm9kZSA9IG5vZGUubmV4dDtcblx0XHRcdFx0XHRjb250aW51ZSBzZWFyY2hDYWNoZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBBdCB0aGlzIHBvaW50IHdlIGNhbiBhc3N1bWUgd2UndmUgZm91bmQgYSBtYXRjaFxuXG5cdFx0XHQvLyBTdXJmYWNlIG1hdGNoZWQgbm9kZSB0byBoZWFkIGlmIG5vdCBhbHJlYWR5XG5cdFx0XHRpZiAobm9kZSAhPT0gaGVhZCkge1xuXHRcdFx0XHQvLyBBcyB0YWlsLCBzaGlmdCB0byBwcmV2aW91cy4gTXVzdCBvbmx5IHNoaWZ0IGlmIG5vdCBhbHNvXG5cdFx0XHRcdC8vIGhlYWQsIHNpbmNlIGlmIGJvdGggaGVhZCBhbmQgdGFpbCwgdGhlcmUgaXMgbm8gcHJldmlvdXMuXG5cdFx0XHRcdGlmIChub2RlID09PSB0YWlsKSB7XG5cdFx0XHRcdFx0dGFpbCA9IG5vZGUucHJldjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEFkanVzdCBzaWJsaW5ncyB0byBwb2ludCB0byBlYWNoIG90aGVyLiBJZiBub2RlIHdhcyB0YWlsLFxuXHRcdFx0XHQvLyB0aGlzIGFsc28gaGFuZGxlcyBuZXcgdGFpbCdzIGVtcHR5IGBuZXh0YCBhc3NpZ25tZW50LlxuXHRcdFx0XHQvKiogQHR5cGUge01lbWl6ZUNhY2hlTm9kZX0gKi8gKG5vZGUucHJldikubmV4dCA9IG5vZGUubmV4dDtcblx0XHRcdFx0aWYgKG5vZGUubmV4dCkge1xuXHRcdFx0XHRcdG5vZGUubmV4dC5wcmV2ID0gbm9kZS5wcmV2O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0bm9kZS5uZXh0ID0gaGVhZDtcblx0XHRcdFx0bm9kZS5wcmV2ID0gbnVsbDtcblx0XHRcdFx0LyoqIEB0eXBlIHtNZW1pemVDYWNoZU5vZGV9ICovIChoZWFkKS5wcmV2ID0gbm9kZTtcblx0XHRcdFx0aGVhZCA9IG5vZGU7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFJldHVybiBpbW1lZGlhdGVseVxuXHRcdFx0cmV0dXJuIG5vZGUudmFsO1xuXHRcdH1cblxuXHRcdC8vIE5vIGNhY2hlZCB2YWx1ZSBmb3VuZC4gQ29udGludWUgdG8gaW5zZXJ0aW9uIHBoYXNlOlxuXG5cdFx0Ly8gQ3JlYXRlIGEgY29weSBvZiBhcmd1bWVudHMgKGF2b2lkIGxlYWtpbmcgZGVvcHRpbWl6YXRpb24pXG5cdFx0YXJncyA9IG5ldyBBcnJheShsZW4pO1xuXHRcdGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0YXJnc1tpXSA9IGFyZ3VtZW50c1tpXTtcblx0XHR9XG5cblx0XHRub2RlID0ge1xuXHRcdFx0YXJnczogYXJncyxcblxuXHRcdFx0Ly8gR2VuZXJhdGUgdGhlIHJlc3VsdCBmcm9tIG9yaWdpbmFsIGZ1bmN0aW9uXG5cdFx0XHR2YWw6IGZuLmFwcGx5KG51bGwsIGFyZ3MpLFxuXHRcdH07XG5cblx0XHQvLyBEb24ndCBuZWVkIHRvIGNoZWNrIHdoZXRoZXIgbm9kZSBpcyBhbHJlYWR5IGhlYWQsIHNpbmNlIGl0IHdvdWxkXG5cdFx0Ly8gaGF2ZSBiZWVuIHJldHVybmVkIGFib3ZlIGFscmVhZHkgaWYgaXQgd2FzXG5cblx0XHQvLyBTaGlmdCBleGlzdGluZyBoZWFkIGRvd24gbGlzdFxuXHRcdGlmIChoZWFkKSB7XG5cdFx0XHRoZWFkLnByZXYgPSBub2RlO1xuXHRcdFx0bm9kZS5uZXh0ID0gaGVhZDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gSWYgbm8gaGVhZCwgZm9sbG93cyB0aGF0IHRoZXJlJ3Mgbm8gdGFpbCAoYXQgaW5pdGlhbCBvciByZXNldClcblx0XHRcdHRhaWwgPSBub2RlO1xuXHRcdH1cblxuXHRcdC8vIFRyaW0gdGFpbCBpZiB3ZSdyZSByZWFjaGVkIG1heCBzaXplIGFuZCBhcmUgcGVuZGluZyBjYWNoZSBpbnNlcnRpb25cblx0XHRpZiAoc2l6ZSA9PT0gLyoqIEB0eXBlIHtNZW1pemVPcHRpb25zfSAqLyAob3B0aW9ucykubWF4U2l6ZSkge1xuXHRcdFx0dGFpbCA9IC8qKiBAdHlwZSB7TWVtaXplQ2FjaGVOb2RlfSAqLyAodGFpbCkucHJldjtcblx0XHRcdC8qKiBAdHlwZSB7TWVtaXplQ2FjaGVOb2RlfSAqLyAodGFpbCkubmV4dCA9IG51bGw7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHNpemUrKztcblx0XHR9XG5cblx0XHRoZWFkID0gbm9kZTtcblxuXHRcdHJldHVybiBub2RlLnZhbDtcblx0fVxuXG5cdG1lbW9pemVkLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuXHRcdGhlYWQgPSBudWxsO1xuXHRcdHRhaWwgPSBudWxsO1xuXHRcdHNpemUgPSAwO1xuXHR9O1xuXG5cdC8vIElnbm9yZSByZWFzb246IFRoZXJlJ3Mgbm90IGEgY2xlYXIgc29sdXRpb24gdG8gY3JlYXRlIGFuIGludGVyc2VjdGlvbiBvZlxuXHQvLyB0aGUgZnVuY3Rpb24gd2l0aCBhZGRpdGlvbmFsIHByb3BlcnRpZXMsIHdoZXJlIHRoZSBnb2FsIGlzIHRvIHJldGFpbiB0aGVcblx0Ly8gZnVuY3Rpb24gc2lnbmF0dXJlIG9mIHRoZSBpbmNvbWluZyBhcmd1bWVudCBhbmQgYWRkIGNvbnRyb2wgcHJvcGVydGllc1xuXHQvLyBvbiB0aGUgcmV0dXJuIHZhbHVlLlxuXG5cdC8vIEB0cy1pZ25vcmVcblx0cmV0dXJuIG1lbW9pemVkO1xufVxuXG5leHBvcnQgeyBtZW1pemUgYXMgZGVmYXVsdCB9O1xuIiwidmFyIFBSRUNFREVOQ0UsIE9QRU5FUlMsIFRFUk1JTkFUT1JTLCBQQVRURVJOO1xuXG4vKipcbiAqIE9wZXJhdG9yIHByZWNlZGVuY2UgbWFwcGluZy5cbiAqXG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG5QUkVDRURFTkNFID0ge1xuXHQnKCc6IDksXG5cdCchJzogOCxcblx0JyonOiA3LFxuXHQnLyc6IDcsXG5cdCclJzogNyxcblx0JysnOiA2LFxuXHQnLSc6IDYsXG5cdCc8JzogNSxcblx0Jzw9JzogNSxcblx0Jz4nOiA1LFxuXHQnPj0nOiA1LFxuXHQnPT0nOiA0LFxuXHQnIT0nOiA0LFxuXHQnJiYnOiAzLFxuXHQnfHwnOiAyLFxuXHQnPyc6IDEsXG5cdCc/Oic6IDEsXG59O1xuXG4vKipcbiAqIENoYXJhY3RlcnMgd2hpY2ggc2lnbmFsIHBhaXIgb3BlbmluZywgdG8gYmUgdGVybWluYXRlZCBieSB0ZXJtaW5hdG9ycy5cbiAqXG4gKiBAdHlwZSB7c3RyaW5nW119XG4gKi9cbk9QRU5FUlMgPSBbICcoJywgJz8nIF07XG5cbi8qKlxuICogQ2hhcmFjdGVycyB3aGljaCBzaWduYWwgcGFpciB0ZXJtaW5hdGlvbiwgdGhlIHZhbHVlIGFuIGFycmF5IHdpdGggdGhlXG4gKiBvcGVuZXIgYXMgaXRzIGZpcnN0IG1lbWJlci4gVGhlIHNlY29uZCBtZW1iZXIgaXMgYW4gb3B0aW9uYWwgb3BlcmF0b3JcbiAqIHJlcGxhY2VtZW50IHRvIHB1c2ggdG8gdGhlIHN0YWNrLlxuICpcbiAqIEB0eXBlIHtzdHJpbmdbXX1cbiAqL1xuVEVSTUlOQVRPUlMgPSB7XG5cdCcpJzogWyAnKCcgXSxcblx0JzonOiBbICc/JywgJz86JyBdLFxufTtcblxuLyoqXG4gKiBQYXR0ZXJuIG1hdGNoaW5nIG9wZXJhdG9ycyBhbmQgb3BlbmVycy5cbiAqXG4gKiBAdHlwZSB7UmVnRXhwfVxuICovXG5QQVRURVJOID0gLzw9fD49fD09fCE9fCYmfFxcfFxcfHxcXD86fFxcKHwhfFxcKnxcXC98JXxcXCt8LXw8fD58XFw/fFxcKXw6LztcblxuLyoqXG4gKiBHaXZlbiBhIEMgZXhwcmVzc2lvbiwgcmV0dXJucyB0aGUgZXF1aXZhbGVudCBwb3N0Zml4IChSZXZlcnNlIFBvbGlzaClcbiAqIG5vdGF0aW9uIHRlcm1zIGFzIGFuIGFycmF5LlxuICpcbiAqIElmIGEgcG9zdGZpeCBzdHJpbmcgaXMgZGVzaXJlZCwgc2ltcGx5IGAuam9pbiggJyAnIClgIHRoZSByZXN1bHQuXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBgYGBqc1xuICogaW1wb3J0IHBvc3RmaXggZnJvbSAnQHRhbm5pbi9wb3N0Zml4JztcbiAqXG4gKiBwb3N0Zml4KCAnbiA+IDEnICk7XG4gKiAvLyDih5IgWyAnbicsICcxJywgJz4nIF1cbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBleHByZXNzaW9uIEMgZXhwcmVzc2lvbi5cbiAqXG4gKiBAcmV0dXJuIHtzdHJpbmdbXX0gUG9zdGZpeCB0ZXJtcy5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcG9zdGZpeCggZXhwcmVzc2lvbiApIHtcblx0dmFyIHRlcm1zID0gW10sXG5cdFx0c3RhY2sgPSBbXSxcblx0XHRtYXRjaCwgb3BlcmF0b3IsIHRlcm0sIGVsZW1lbnQ7XG5cblx0d2hpbGUgKCAoIG1hdGNoID0gZXhwcmVzc2lvbi5tYXRjaCggUEFUVEVSTiApICkgKSB7XG5cdFx0b3BlcmF0b3IgPSBtYXRjaFsgMCBdO1xuXG5cdFx0Ly8gVGVybSBpcyB0aGUgc3RyaW5nIHByZWNlZGluZyB0aGUgb3BlcmF0b3IgbWF0Y2guIEl0IG1heSBjb250YWluXG5cdFx0Ly8gd2hpdGVzcGFjZSwgYW5kIG1heSBiZSBlbXB0eSAoaWYgb3BlcmF0b3IgaXMgYXQgYmVnaW5uaW5nKS5cblx0XHR0ZXJtID0gZXhwcmVzc2lvbi5zdWJzdHIoIDAsIG1hdGNoLmluZGV4ICkudHJpbSgpO1xuXHRcdGlmICggdGVybSApIHtcblx0XHRcdHRlcm1zLnB1c2goIHRlcm0gKTtcblx0XHR9XG5cblx0XHR3aGlsZSAoICggZWxlbWVudCA9IHN0YWNrLnBvcCgpICkgKSB7XG5cdFx0XHRpZiAoIFRFUk1JTkFUT1JTWyBvcGVyYXRvciBdICkge1xuXHRcdFx0XHRpZiAoIFRFUk1JTkFUT1JTWyBvcGVyYXRvciBdWyAwIF0gPT09IGVsZW1lbnQgKSB7XG5cdFx0XHRcdFx0Ly8gU3Vic3RpdHV0aW9uIHdvcmtzIGhlcmUgdW5kZXIgYXNzdW1wdGlvbiB0aGF0IGJlY2F1c2Vcblx0XHRcdFx0XHQvLyB0aGUgYXNzaWduZWQgb3BlcmF0b3Igd2lsbCBubyBsb25nZXIgYmUgYSB0ZXJtaW5hdG9yLCBpdFxuXHRcdFx0XHRcdC8vIHdpbGwgYmUgcHVzaGVkIHRvIHRoZSBzdGFjayBkdXJpbmcgdGhlIGNvbmRpdGlvbiBiZWxvdy5cblx0XHRcdFx0XHRvcGVyYXRvciA9IFRFUk1JTkFUT1JTWyBvcGVyYXRvciBdWyAxIF0gfHwgb3BlcmF0b3I7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoIE9QRU5FUlMuaW5kZXhPZiggZWxlbWVudCApID49IDAgfHwgUFJFQ0VERU5DRVsgZWxlbWVudCBdIDwgUFJFQ0VERU5DRVsgb3BlcmF0b3IgXSApIHtcblx0XHRcdFx0Ly8gUHVzaCB0byBzdGFjayBpZiBlaXRoZXIgYW4gb3BlbmVyIG9yIHdoZW4gcG9wIHJldmVhbHMgYW5cblx0XHRcdFx0Ly8gZWxlbWVudCBvZiBsb3dlciBwcmVjZWRlbmNlLlxuXHRcdFx0XHRzdGFjay5wdXNoKCBlbGVtZW50ICk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBGb3IgZWFjaCBwb3BwZWQgZnJvbSBzdGFjaywgcHVzaCB0byB0ZXJtcy5cblx0XHRcdHRlcm1zLnB1c2goIGVsZW1lbnQgKTtcblx0XHR9XG5cblx0XHRpZiAoICEgVEVSTUlOQVRPUlNbIG9wZXJhdG9yIF0gKSB7XG5cdFx0XHRzdGFjay5wdXNoKCBvcGVyYXRvciApO1xuXHRcdH1cblxuXHRcdC8vIFNsaWNlIG1hdGNoZWQgZnJhZ21lbnQgZnJvbSBleHByZXNzaW9uIHRvIGNvbnRpbnVlIG1hdGNoLlxuXHRcdGV4cHJlc3Npb24gPSBleHByZXNzaW9uLnN1YnN0ciggbWF0Y2guaW5kZXggKyBvcGVyYXRvci5sZW5ndGggKTtcblx0fVxuXG5cdC8vIFB1c2ggcmVtYWluZGVyIG9mIG9wZXJhbmQsIGlmIGV4aXN0cywgdG8gdGVybXMuXG5cdGV4cHJlc3Npb24gPSBleHByZXNzaW9uLnRyaW0oKTtcblx0aWYgKCBleHByZXNzaW9uICkge1xuXHRcdHRlcm1zLnB1c2goIGV4cHJlc3Npb24gKTtcblx0fVxuXG5cdC8vIFBvcCByZW1haW5pbmcgaXRlbXMgZnJvbSBzdGFjayBpbnRvIHRlcm1zLlxuXHRyZXR1cm4gdGVybXMuY29uY2F0KCBzdGFjay5yZXZlcnNlKCkgKTtcbn1cbiIsIi8qKlxuICogT3BlcmF0b3IgY2FsbGJhY2sgZnVuY3Rpb25zLlxuICpcbiAqIEB0eXBlIHtPYmplY3R9XG4gKi9cbnZhciBPUEVSQVRPUlMgPSB7XG5cdCchJzogZnVuY3Rpb24oIGEgKSB7XG5cdFx0cmV0dXJuICEgYTtcblx0fSxcblx0JyonOiBmdW5jdGlvbiggYSwgYiApIHtcblx0XHRyZXR1cm4gYSAqIGI7XG5cdH0sXG5cdCcvJzogZnVuY3Rpb24oIGEsIGIgKSB7XG5cdFx0cmV0dXJuIGEgLyBiO1xuXHR9LFxuXHQnJSc6IGZ1bmN0aW9uKCBhLCBiICkge1xuXHRcdHJldHVybiBhICUgYjtcblx0fSxcblx0JysnOiBmdW5jdGlvbiggYSwgYiApIHtcblx0XHRyZXR1cm4gYSArIGI7XG5cdH0sXG5cdCctJzogZnVuY3Rpb24oIGEsIGIgKSB7XG5cdFx0cmV0dXJuIGEgLSBiO1xuXHR9LFxuXHQnPCc6IGZ1bmN0aW9uKCBhLCBiICkge1xuXHRcdHJldHVybiBhIDwgYjtcblx0fSxcblx0Jzw9JzogZnVuY3Rpb24oIGEsIGIgKSB7XG5cdFx0cmV0dXJuIGEgPD0gYjtcblx0fSxcblx0Jz4nOiBmdW5jdGlvbiggYSwgYiApIHtcblx0XHRyZXR1cm4gYSA+IGI7XG5cdH0sXG5cdCc+PSc6IGZ1bmN0aW9uKCBhLCBiICkge1xuXHRcdHJldHVybiBhID49IGI7XG5cdH0sXG5cdCc9PSc6IGZ1bmN0aW9uKCBhLCBiICkge1xuXHRcdHJldHVybiBhID09PSBiO1xuXHR9LFxuXHQnIT0nOiBmdW5jdGlvbiggYSwgYiApIHtcblx0XHRyZXR1cm4gYSAhPT0gYjtcblx0fSxcblx0JyYmJzogZnVuY3Rpb24oIGEsIGIgKSB7XG5cdFx0cmV0dXJuIGEgJiYgYjtcblx0fSxcblx0J3x8JzogZnVuY3Rpb24oIGEsIGIgKSB7XG5cdFx0cmV0dXJuIGEgfHwgYjtcblx0fSxcblx0Jz86JzogZnVuY3Rpb24oIGEsIGIsIGMgKSB7XG5cdFx0aWYgKCBhICkge1xuXHRcdFx0dGhyb3cgYjtcblx0XHR9XG5cblx0XHRyZXR1cm4gYztcblx0fSxcbn07XG5cbi8qKlxuICogR2l2ZW4gYW4gYXJyYXkgb2YgcG9zdGZpeCB0ZXJtcyBhbmQgb3BlcmFuZCB2YXJpYWJsZXMsIHJldHVybnMgdGhlIHJlc3VsdCBvZlxuICogdGhlIHBvc3RmaXggZXZhbHVhdGlvbi5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGBgYGpzXG4gKiBpbXBvcnQgZXZhbHVhdGUgZnJvbSAnQHRhbm5pbi9ldmFsdWF0ZSc7XG4gKlxuICogLy8gMyArIDQgKiA1IC8gNiDih5IgJzMgNCA1ICogNiAvICsnXG4gKiBjb25zdCB0ZXJtcyA9IFsgJzMnLCAnNCcsICc1JywgJyonLCAnNicsICcvJywgJysnIF07XG4gKlxuICogZXZhbHVhdGUoIHRlcm1zLCB7fSApO1xuICogLy8g4oeSIDYuMzMzMzMzMzMzMzMzMzM0XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBwb3N0Zml4ICAgUG9zdGZpeCB0ZXJtcy5cbiAqIEBwYXJhbSB7T2JqZWN0fSAgIHZhcmlhYmxlcyBPcGVyYW5kIHZhcmlhYmxlcy5cbiAqXG4gKiBAcmV0dXJuIHsqfSBSZXN1bHQgb2YgZXZhbHVhdGlvbi5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZXZhbHVhdGUoIHBvc3RmaXgsIHZhcmlhYmxlcyApIHtcblx0dmFyIHN0YWNrID0gW10sXG5cdFx0aSwgaiwgYXJncywgZ2V0T3BlcmF0b3JSZXN1bHQsIHRlcm0sIHZhbHVlO1xuXG5cdGZvciAoIGkgPSAwOyBpIDwgcG9zdGZpeC5sZW5ndGg7IGkrKyApIHtcblx0XHR0ZXJtID0gcG9zdGZpeFsgaSBdO1xuXG5cdFx0Z2V0T3BlcmF0b3JSZXN1bHQgPSBPUEVSQVRPUlNbIHRlcm0gXTtcblx0XHRpZiAoIGdldE9wZXJhdG9yUmVzdWx0ICkge1xuXHRcdFx0Ly8gUG9wIGZyb20gc3RhY2sgYnkgbnVtYmVyIG9mIGZ1bmN0aW9uIGFyZ3VtZW50cy5cblx0XHRcdGogPSBnZXRPcGVyYXRvclJlc3VsdC5sZW5ndGg7XG5cdFx0XHRhcmdzID0gQXJyYXkoIGogKTtcblx0XHRcdHdoaWxlICggai0tICkge1xuXHRcdFx0XHRhcmdzWyBqIF0gPSBzdGFjay5wb3AoKTtcblx0XHRcdH1cblxuXHRcdFx0dHJ5IHtcblx0XHRcdFx0dmFsdWUgPSBnZXRPcGVyYXRvclJlc3VsdC5hcHBseSggbnVsbCwgYXJncyApO1xuXHRcdFx0fSBjYXRjaCAoIGVhcmx5UmV0dXJuICkge1xuXHRcdFx0XHRyZXR1cm4gZWFybHlSZXR1cm47XG5cdFx0XHR9XG5cdFx0fSBlbHNlIGlmICggdmFyaWFibGVzLmhhc093blByb3BlcnR5KCB0ZXJtICkgKSB7XG5cdFx0XHR2YWx1ZSA9IHZhcmlhYmxlc1sgdGVybSBdO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YWx1ZSA9ICt0ZXJtO1xuXHRcdH1cblxuXHRcdHN0YWNrLnB1c2goIHZhbHVlICk7XG5cdH1cblxuXHRyZXR1cm4gc3RhY2tbIDAgXTtcbn1cbiIsImltcG9ydCBwbHVyYWxGb3JtcyBmcm9tICdAdGFubmluL3BsdXJhbC1mb3Jtcyc7XG5cbi8qKlxuICogVGFubmluIGNvbnN0cnVjdG9yIG9wdGlvbnMuXG4gKlxuICogQHR5cGVkZWYge09iamVjdH0gVGFubmluT3B0aW9uc1xuICpcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSAgIFtjb250ZXh0RGVsaW1pdGVyXSBKb2luZXIgaW4gc3RyaW5nIGxvb2t1cCB3aXRoIGNvbnRleHQuXG4gKiBAcHJvcGVydHkge0Z1bmN0aW9ufSBbb25NaXNzaW5nS2V5XSAgICAgQ2FsbGJhY2sgdG8gaW52b2tlIHdoZW4ga2V5IG1pc3NpbmcuXG4gKi9cblxuLyoqXG4gKiBEb21haW4gbWV0YWRhdGEuXG4gKlxuICogQHR5cGVkZWYge09iamVjdH0gVGFubmluRG9tYWluTWV0YWRhdGFcbiAqXG4gKiBAcHJvcGVydHkge3N0cmluZ30gICAgICAgICAgICBbZG9tYWluXSAgICAgICBEb21haW4gbmFtZS5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSAgICAgICAgICAgIFtsYW5nXSAgICAgICAgIExhbmd1YWdlIGNvZGUuXG4gKiBAcHJvcGVydHkgeyhzdHJpbmd8RnVuY3Rpb24pfSBbcGx1cmFsX2Zvcm1zXSBQbHVyYWwgZm9ybXMgZXhwcmVzc2lvbiBvclxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gZXZhbHVhdG9yLlxuICovXG5cbi8qKlxuICogRG9tYWluIHRyYW5zbGF0aW9uIHBhaXIgcmVzcGVjdGl2ZWx5IHJlcHJlc2VudGluZyB0aGUgc2luZ3VsYXIgYW5kIHBsdXJhbFxuICogdHJhbnNsYXRpb24uXG4gKlxuICogQHR5cGVkZWYge1tzdHJpbmcsc3RyaW5nXX0gVGFubmluVHJhbnNsYXRpb25cbiAqL1xuXG4vKipcbiAqIExvY2FsZSBkYXRhIGRvbWFpbi4gVGhlIGtleSBpcyB1c2VkIGFzIHJlZmVyZW5jZSBmb3IgbG9va3VwLCB0aGUgdmFsdWUgYW5cbiAqIGFycmF5IG9mIHR3byBzdHJpbmcgZW50cmllcyByZXNwZWN0aXZlbHkgcmVwcmVzZW50aW5nIHRoZSBzaW5ndWxhciBhbmQgcGx1cmFsXG4gKiB0cmFuc2xhdGlvbi5cbiAqXG4gKiBAdHlwZWRlZiB7e1trZXk6c3RyaW5nXTpUYW5uaW5Eb21haW5NZXRhZGF0YXxUYW5uaW5UcmFuc2xhdGlvbiwnJzpUYW5uaW5Eb21haW5NZXRhZGF0YXxUYW5uaW5UcmFuc2xhdGlvbn19IFRhbm5pbkxvY2FsZURvbWFpblxuICovXG5cbi8qKlxuICogSmVkLWZvcm1hdHRlZCBsb2NhbGUgZGF0YS5cbiAqXG4gKiBAc2VlIGh0dHA6Ly9tZXNzYWdlZm9ybWF0LmdpdGh1Yi5pby9KZWQvXG4gKlxuICogQHR5cGVkZWYge3tbZG9tYWluOnN0cmluZ106VGFubmluTG9jYWxlRG9tYWlufX0gVGFubmluTG9jYWxlRGF0YVxuICovXG5cbi8qKlxuICogRGVmYXVsdCBUYW5uaW4gY29uc3RydWN0b3Igb3B0aW9ucy5cbiAqXG4gKiBAdHlwZSB7VGFubmluT3B0aW9uc31cbiAqL1xudmFyIERFRkFVTFRfT1BUSU9OUyA9IHtcblx0Y29udGV4dERlbGltaXRlcjogJ1xcdTAwMDQnLFxuXHRvbk1pc3NpbmdLZXk6IG51bGwsXG59O1xuXG4vKipcbiAqIEdpdmVuIGEgc3BlY2lmaWMgbG9jYWxlIGRhdGEncyBjb25maWcgYHBsdXJhbF9mb3Jtc2AgdmFsdWUsIHJldHVybnMgdGhlXG4gKiBleHByZXNzaW9uLlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogYGBgXG4gKiBnZXRQbHVyYWxFeHByZXNzaW9uKCAnbnBsdXJhbHM9MjsgcGx1cmFsPShuICE9IDEpOycgKSA9PT0gJyhuICE9IDEpJ1xuICogYGBgXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHBmIExvY2FsZSBkYXRhIHBsdXJhbCBmb3Jtcy5cbiAqXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFBsdXJhbCBmb3JtcyBleHByZXNzaW9uLlxuICovXG5mdW5jdGlvbiBnZXRQbHVyYWxFeHByZXNzaW9uKCBwZiApIHtcblx0dmFyIHBhcnRzLCBpLCBwYXJ0O1xuXG5cdHBhcnRzID0gcGYuc3BsaXQoICc7JyApO1xuXG5cdGZvciAoIGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyBpKysgKSB7XG5cdFx0cGFydCA9IHBhcnRzWyBpIF0udHJpbSgpO1xuXHRcdGlmICggcGFydC5pbmRleE9mKCAncGx1cmFsPScgKSA9PT0gMCApIHtcblx0XHRcdHJldHVybiBwYXJ0LnN1YnN0ciggNyApO1xuXHRcdH1cblx0fVxufVxuXG4vKipcbiAqIFRhbm5pbiBjb25zdHJ1Y3Rvci5cbiAqXG4gKiBAY2xhc3NcbiAqXG4gKiBAcGFyYW0ge1Rhbm5pbkxvY2FsZURhdGF9IGRhdGEgICAgICBKZWQtZm9ybWF0dGVkIGxvY2FsZSBkYXRhLlxuICogQHBhcmFtIHtUYW5uaW5PcHRpb25zfSAgICBbb3B0aW9uc10gVGFubmluIG9wdGlvbnMuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFRhbm5pbiggZGF0YSwgb3B0aW9ucyApIHtcblx0dmFyIGtleTtcblxuXHQvKipcblx0ICogSmVkLWZvcm1hdHRlZCBsb2NhbGUgZGF0YS5cblx0ICpcblx0ICogQG5hbWUgVGFubmluI2RhdGFcblx0ICogQHR5cGUge1Rhbm5pbkxvY2FsZURhdGF9XG5cdCAqL1xuXHR0aGlzLmRhdGEgPSBkYXRhO1xuXG5cdC8qKlxuXHQgKiBQbHVyYWwgZm9ybXMgZnVuY3Rpb24gY2FjaGUsIGtleWVkIGJ5IHBsdXJhbCBmb3JtcyBzdHJpbmcuXG5cdCAqXG5cdCAqIEBuYW1lIFRhbm5pbiNwbHVyYWxGb3Jtc1xuXHQgKiBAdHlwZSB7T2JqZWN0PHN0cmluZyxGdW5jdGlvbj59XG5cdCAqL1xuXHR0aGlzLnBsdXJhbEZvcm1zID0ge307XG5cblx0LyoqXG5cdCAqIEVmZmVjdGl2ZSBvcHRpb25zIGZvciBpbnN0YW5jZSwgaW5jbHVkaW5nIGRlZmF1bHRzLlxuXHQgKlxuXHQgKiBAbmFtZSBUYW5uaW4jb3B0aW9uc1xuXHQgKiBAdHlwZSB7VGFubmluT3B0aW9uc31cblx0ICovXG5cdHRoaXMub3B0aW9ucyA9IHt9O1xuXG5cdGZvciAoIGtleSBpbiBERUZBVUxUX09QVElPTlMgKSB7XG5cdFx0dGhpcy5vcHRpb25zWyBrZXkgXSA9IG9wdGlvbnMgIT09IHVuZGVmaW5lZCAmJiBrZXkgaW4gb3B0aW9uc1xuXHRcdFx0PyBvcHRpb25zWyBrZXkgXVxuXHRcdFx0OiBERUZBVUxUX09QVElPTlNbIGtleSBdO1xuXHR9XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgcGx1cmFsIGZvcm0gaW5kZXggZm9yIHRoZSBnaXZlbiBkb21haW4gYW5kIHZhbHVlLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBkb21haW4gRG9tYWluIG9uIHdoaWNoIHRvIGNhbGN1bGF0ZSBwbHVyYWwgZm9ybS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBuICAgICAgVmFsdWUgZm9yIHdoaWNoIHBsdXJhbCBmb3JtIGlzIHRvIGJlIGNhbGN1bGF0ZWQuXG4gKlxuICogQHJldHVybiB7bnVtYmVyfSBQbHVyYWwgZm9ybSBpbmRleC5cbiAqL1xuVGFubmluLnByb3RvdHlwZS5nZXRQbHVyYWxGb3JtID0gZnVuY3Rpb24oIGRvbWFpbiwgbiApIHtcblx0dmFyIGdldFBsdXJhbEZvcm0gPSB0aGlzLnBsdXJhbEZvcm1zWyBkb21haW4gXSxcblx0XHRjb25maWcsIHBsdXJhbCwgcGY7XG5cblx0aWYgKCAhIGdldFBsdXJhbEZvcm0gKSB7XG5cdFx0Y29uZmlnID0gdGhpcy5kYXRhWyBkb21haW4gXVsgJycgXTtcblxuXHRcdHBmID0gKFxuXHRcdFx0Y29uZmlnWyAnUGx1cmFsLUZvcm1zJyBdIHx8XG5cdFx0XHRjb25maWdbICdwbHVyYWwtZm9ybXMnIF0gfHxcblx0XHRcdC8vIElnbm9yZSByZWFzb246IEFzIGtub3duLCB0aGVyZSdzIG5vIHdheSB0byBkb2N1bWVudCB0aGUgZW1wdHlcblx0XHRcdC8vIHN0cmluZyBwcm9wZXJ0eSBvbiBhIGtleSB0byBndWFyYW50ZWUgdGhpcyBhcyBtZXRhZGF0YS5cblx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdGNvbmZpZy5wbHVyYWxfZm9ybXNcblx0XHQpO1xuXG5cdFx0aWYgKCB0eXBlb2YgcGYgIT09ICdmdW5jdGlvbicgKSB7XG5cdFx0XHRwbHVyYWwgPSBnZXRQbHVyYWxFeHByZXNzaW9uKFxuXHRcdFx0XHRjb25maWdbICdQbHVyYWwtRm9ybXMnIF0gfHxcblx0XHRcdFx0Y29uZmlnWyAncGx1cmFsLWZvcm1zJyBdIHx8XG5cdFx0XHRcdC8vIElnbm9yZSByZWFzb246IEFzIGtub3duLCB0aGVyZSdzIG5vIHdheSB0byBkb2N1bWVudCB0aGUgZW1wdHlcblx0XHRcdFx0Ly8gc3RyaW5nIHByb3BlcnR5IG9uIGEga2V5IHRvIGd1YXJhbnRlZSB0aGlzIGFzIG1ldGFkYXRhLlxuXHRcdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRcdGNvbmZpZy5wbHVyYWxfZm9ybXNcblx0XHRcdCk7XG5cblx0XHRcdHBmID0gcGx1cmFsRm9ybXMoIHBsdXJhbCApO1xuXHRcdH1cblxuXHRcdGdldFBsdXJhbEZvcm0gPSB0aGlzLnBsdXJhbEZvcm1zWyBkb21haW4gXSA9IHBmO1xuXHR9XG5cblx0cmV0dXJuIGdldFBsdXJhbEZvcm0oIG4gKTtcbn07XG5cbi8qKlxuICogVHJhbnNsYXRlIGEgc3RyaW5nLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSAgICAgIGRvbWFpbiAgIFRyYW5zbGF0aW9uIGRvbWFpbi5cbiAqIEBwYXJhbSB7c3RyaW5nfHZvaWR9IGNvbnRleHQgIENvbnRleHQgZGlzdGluZ3Vpc2hpbmcgdGVybXMgb2YgdGhlIHNhbWUgbmFtZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSAgICAgIHNpbmd1bGFyIFByaW1hcnkga2V5IGZvciB0cmFuc2xhdGlvbiBsb29rdXAuXG4gKiBAcGFyYW0ge3N0cmluZz19ICAgICBwbHVyYWwgICBGYWxsYmFjayB2YWx1ZSB1c2VkIGZvciBub24temVybyBwbHVyYWxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm0gaW5kZXguXG4gKiBAcGFyYW0ge251bWJlcj19ICAgICBuICAgICAgICBWYWx1ZSB0byB1c2UgaW4gY2FsY3VsYXRpbmcgcGx1cmFsIGZvcm0uXG4gKlxuICogQHJldHVybiB7c3RyaW5nfSBUcmFuc2xhdGVkIHN0cmluZy5cbiAqL1xuVGFubmluLnByb3RvdHlwZS5kY25wZ2V0dGV4dCA9IGZ1bmN0aW9uKCBkb21haW4sIGNvbnRleHQsIHNpbmd1bGFyLCBwbHVyYWwsIG4gKSB7XG5cdHZhciBpbmRleCwga2V5LCBlbnRyeTtcblxuXHRpZiAoIG4gPT09IHVuZGVmaW5lZCApIHtcblx0XHQvLyBEZWZhdWx0IHRvIHNpbmd1bGFyLlxuXHRcdGluZGV4ID0gMDtcblx0fSBlbHNlIHtcblx0XHQvLyBGaW5kIGluZGV4IGJ5IGV2YWx1YXRpbmcgcGx1cmFsIGZvcm0gZm9yIHZhbHVlLlxuXHRcdGluZGV4ID0gdGhpcy5nZXRQbHVyYWxGb3JtKCBkb21haW4sIG4gKTtcblx0fVxuXG5cdGtleSA9IHNpbmd1bGFyO1xuXG5cdC8vIElmIHByb3ZpZGVkLCBjb250ZXh0IGlzIHByZXBlbmRlZCB0byBrZXkgd2l0aCBkZWxpbWl0ZXIuXG5cdGlmICggY29udGV4dCApIHtcblx0XHRrZXkgPSBjb250ZXh0ICsgdGhpcy5vcHRpb25zLmNvbnRleHREZWxpbWl0ZXIgKyBzaW5ndWxhcjtcblx0fVxuXG5cdGVudHJ5ID0gdGhpcy5kYXRhWyBkb21haW4gXVsga2V5IF07XG5cblx0Ly8gVmVyaWZ5IG5vdCBvbmx5IHRoYXQgZW50cnkgZXhpc3RzLCBidXQgdGhhdCB0aGUgaW50ZW5kZWQgaW5kZXggaXMgd2l0aGluXG5cdC8vIHJhbmdlIGFuZCBub24tZW1wdHkuXG5cdGlmICggZW50cnkgJiYgZW50cnlbIGluZGV4IF0gKSB7XG5cdFx0cmV0dXJuIGVudHJ5WyBpbmRleCBdO1xuXHR9XG5cblx0aWYgKCB0aGlzLm9wdGlvbnMub25NaXNzaW5nS2V5ICkge1xuXHRcdHRoaXMub3B0aW9ucy5vbk1pc3NpbmdLZXkoIHNpbmd1bGFyLCBkb21haW4gKTtcblx0fVxuXG5cdC8vIElmIGVudHJ5IG5vdCBmb3VuZCwgZmFsbCBiYWNrIHRvIHNpbmd1bGFyIHZzLiBwbHVyYWwgd2l0aCB6ZXJvIGluZGV4XG5cdC8vIHJlcHJlc2VudGluZyB0aGUgc2luZ3VsYXIgdmFsdWUuXG5cdHJldHVybiBpbmRleCA9PT0gMCA/IHNpbmd1bGFyIDogcGx1cmFsO1xufTtcbiIsImltcG9ydCBjb21waWxlIGZyb20gJ0B0YW5uaW4vY29tcGlsZSc7XG5cbi8qKlxuICogR2l2ZW4gYSBDIGV4cHJlc3Npb24sIHJldHVybnMgYSBmdW5jdGlvbiB3aGljaCwgd2hlbiBjYWxsZWQgd2l0aCBhIHZhbHVlLFxuICogZXZhbHVhdGVzIHRoZSByZXN1bHQgd2l0aCB0aGUgdmFsdWUgYXNzdW1lZCB0byBiZSB0aGUgXCJuXCIgdmFyaWFibGUgb2YgdGhlXG4gKiBleHByZXNzaW9uLiBUaGUgcmVzdWx0IHdpbGwgYmUgY29lcmNlZCB0byBpdHMgbnVtZXJpYyBlcXVpdmFsZW50LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBleHByZXNzaW9uIEMgZXhwcmVzc2lvbi5cbiAqXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn0gRXZhbHVhdG9yIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwbHVyYWxGb3JtcyggZXhwcmVzc2lvbiApIHtcblx0dmFyIGV2YWx1YXRlID0gY29tcGlsZSggZXhwcmVzc2lvbiApO1xuXG5cdHJldHVybiBmdW5jdGlvbiggbiApIHtcblx0XHRyZXR1cm4gK2V2YWx1YXRlKCB7IG46IG4gfSApO1xuXHR9O1xufVxuIiwiaW1wb3J0IHBvc3RmaXggZnJvbSAnQHRhbm5pbi9wb3N0Zml4JztcbmltcG9ydCBldmFsdWF0ZSBmcm9tICdAdGFubmluL2V2YWx1YXRlJztcblxuLyoqXG4gKiBHaXZlbiBhIEMgZXhwcmVzc2lvbiwgcmV0dXJucyBhIGZ1bmN0aW9uIHdoaWNoIGNhbiBiZSBjYWxsZWQgdG8gZXZhbHVhdGUgaXRzXG4gKiByZXN1bHQuXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBgYGBqc1xuICogaW1wb3J0IGNvbXBpbGUgZnJvbSAnQHRhbm5pbi9jb21waWxlJztcbiAqXG4gKiBjb25zdCBldmFsdWF0ZSA9IGNvbXBpbGUoICduID4gMScgKTtcbiAqXG4gKiBldmFsdWF0ZSggeyBuOiAyIH0gKTtcbiAqIC8vIOKHkiB0cnVlXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gZXhwcmVzc2lvbiBDIGV4cHJlc3Npb24uXG4gKlxuICogQHJldHVybiB7KHZhcmlhYmxlcz86e1t2YXJpYWJsZTpzdHJpbmddOip9KT0+Kn0gQ29tcGlsZWQgZXZhbHVhdG9yLlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjb21waWxlKCBleHByZXNzaW9uICkge1xuXHR2YXIgdGVybXMgPSBwb3N0Zml4KCBleHByZXNzaW9uICk7XG5cblx0cmV0dXJuIGZ1bmN0aW9uKCB2YXJpYWJsZXMgKSB7XG5cdFx0cmV0dXJuIGV2YWx1YXRlKCB0ZXJtcywgdmFyaWFibGVzICk7XG5cdH07XG59XG4iLCIvKipcbiAqIEV4dGVybmFsIGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgVGFubmluIGZyb20gJ3Rhbm5pbic7XG5cbi8qKlxuICogQHR5cGVkZWYge1JlY29yZDxzdHJpbmcsYW55Pn0gTG9jYWxlRGF0YVxuICovXG5cbi8qKlxuICogRGVmYXVsdCBsb2NhbGUgZGF0YSB0byB1c2UgZm9yIFRhbm5pbiBkb21haW4gd2hlbiBub3Qgb3RoZXJ3aXNlIHByb3ZpZGVkLlxuICogQXNzdW1lcyBhbiBFbmdsaXNoIHBsdXJhbCBmb3JtcyBleHByZXNzaW9uLlxuICpcbiAqIEB0eXBlIHtMb2NhbGVEYXRhfVxuICovXG5jb25zdCBERUZBVUxUX0xPQ0FMRV9EQVRBID0ge1xuICAnJzoge1xuICAgIC8qKiBAcGFyYW0ge251bWJlcn0gbiAqL1xuICAgIHBsdXJhbF9mb3JtcyhuKSB7XG4gICAgICByZXR1cm4gbiA9PT0gMSA/IDAgOiAxO1xuICAgIH1cbiAgfVxufTtcblxuLypcbiAqIFJlZ3VsYXIgZXhwcmVzc2lvbiB0aGF0IG1hdGNoZXMgaTE4biBob29rcyBsaWtlIGBpMThuLmdldHRleHRgLCBgaTE4bi5uZ2V0dGV4dGAsXG4gKiBgaTE4bi5nZXR0ZXh0X2RvbWFpbmAgb3IgYGkxOG4ubmdldHRleHRfd2l0aF9jb250ZXh0YCBvciBgaTE4bi5oYXNfdHJhbnNsYXRpb25gLlxuICovXG5jb25zdCBJMThOX0hPT0tfUkVHRVhQID0gL15pMThuXFwuKG4/Z2V0dGV4dHxoYXNfdHJhbnNsYXRpb24pKF98JCkvO1xuXG4vKipcbiAqIEB0eXBlZGVmIHsoZG9tYWluPzogc3RyaW5nKSA9PiBMb2NhbGVEYXRhfSBHZXRMb2NhbGVEYXRhXG4gKlxuICogUmV0dXJucyBsb2NhbGUgZGF0YSBieSBkb21haW4gaW4gYVxuICogSmVkLWZvcm1hdHRlZCBKU09OIG9iamVjdCBzaGFwZS5cbiAqXG4gKiBAc2VlIGh0dHA6Ly9tZXNzYWdlZm9ybWF0LmdpdGh1Yi5pby9KZWQvXG4gKi9cbi8qKlxuICogQHR5cGVkZWYgeyhkYXRhPzogTG9jYWxlRGF0YSwgZG9tYWluPzogc3RyaW5nKSA9PiB2b2lkfSBTZXRMb2NhbGVEYXRhXG4gKlxuICogTWVyZ2VzIGxvY2FsZSBkYXRhIGludG8gdGhlIFRhbm5pbiBpbnN0YW5jZSBieSBkb21haW4uIE5vdGUgdGhhdCB0aGlzXG4gKiBmdW5jdGlvbiB3aWxsIG92ZXJ3cml0ZSB0aGUgZG9tYWluIGNvbmZpZ3VyYXRpb24uIEFjY2VwdHMgZGF0YSBpbiBhXG4gKiBKZWQtZm9ybWF0dGVkIEpTT04gb2JqZWN0IHNoYXBlLlxuICpcbiAqIEBzZWUgaHR0cDovL21lc3NhZ2Vmb3JtYXQuZ2l0aHViLmlvL0plZC9cbiAqL1xuLyoqXG4gKiBAdHlwZWRlZiB7KGRhdGE/OiBMb2NhbGVEYXRhLCBkb21haW4/OiBzdHJpbmcpID0+IHZvaWR9IEFkZExvY2FsZURhdGFcbiAqXG4gKiBNZXJnZXMgbG9jYWxlIGRhdGEgaW50byB0aGUgVGFubmluIGluc3RhbmNlIGJ5IGRvbWFpbi4gTm90ZSB0aGF0IHRoaXNcbiAqIGZ1bmN0aW9uIHdpbGwgYWxzbyBtZXJnZSB0aGUgZG9tYWluIGNvbmZpZ3VyYXRpb24uIEFjY2VwdHMgZGF0YSBpbiBhXG4gKiBKZWQtZm9ybWF0dGVkIEpTT04gb2JqZWN0IHNoYXBlLlxuICpcbiAqIEBzZWUgaHR0cDovL21lc3NhZ2Vmb3JtYXQuZ2l0aHViLmlvL0plZC9cbiAqL1xuLyoqXG4gKiBAdHlwZWRlZiB7KGRhdGE/OiBMb2NhbGVEYXRhLCBkb21haW4/OiBzdHJpbmcpID0+IHZvaWR9IFJlc2V0TG9jYWxlRGF0YVxuICpcbiAqIFJlc2V0cyBhbGwgY3VycmVudCBUYW5uaW4gaW5zdGFuY2UgbG9jYWxlIGRhdGEgYW5kIHNldHMgdGhlIHNwZWNpZmllZFxuICogbG9jYWxlIGRhdGEgZm9yIHRoZSBkb21haW4uIEFjY2VwdHMgZGF0YSBpbiBhIEplZC1mb3JtYXR0ZWQgSlNPTiBvYmplY3Qgc2hhcGUuXG4gKlxuICogQHNlZSBodHRwOi8vbWVzc2FnZWZvcm1hdC5naXRodWIuaW8vSmVkL1xuICovXG4vKiogQHR5cGVkZWYgeygpID0+IHZvaWR9IFN1YnNjcmliZUNhbGxiYWNrICovXG4vKiogQHR5cGVkZWYgeygpID0+IHZvaWR9IFVuc3Vic2NyaWJlQ2FsbGJhY2sgKi9cbi8qKlxuICogQHR5cGVkZWYgeyhjYWxsYmFjazogU3Vic2NyaWJlQ2FsbGJhY2spID0+IFVuc3Vic2NyaWJlQ2FsbGJhY2t9IFN1YnNjcmliZVxuICpcbiAqIFN1YnNjcmliZXMgdG8gY2hhbmdlcyBvZiBsb2NhbGUgZGF0YVxuICovXG4vKipcbiAqIEB0eXBlZGVmIHsoZG9tYWluPzogc3RyaW5nKSA9PiBzdHJpbmd9IEdldEZpbHRlckRvbWFpblxuICogUmV0cmlldmUgdGhlIGRvbWFpbiB0byB1c2Ugd2hlbiBjYWxsaW5nIGRvbWFpbi1zcGVjaWZpYyBmaWx0ZXJzLlxuICovXG4vKipcbiAqIEB0eXBlZGVmIHsodGV4dDogc3RyaW5nLCBkb21haW4/OiBzdHJpbmcpID0+IHN0cmluZ30gX19cbiAqXG4gKiBSZXRyaWV2ZSB0aGUgdHJhbnNsYXRpb24gb2YgdGV4dC5cbiAqXG4gKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLndvcmRwcmVzcy5vcmcvcmVmZXJlbmNlL2Z1bmN0aW9ucy9fXy9cbiAqL1xuLyoqXG4gKiBAdHlwZWRlZiB7KHRleHQ6IHN0cmluZywgY29udGV4dDogc3RyaW5nLCBkb21haW4/OiBzdHJpbmcpID0+IHN0cmluZ30gX3hcbiAqXG4gKiBSZXRyaWV2ZSB0cmFuc2xhdGVkIHN0cmluZyB3aXRoIGdldHRleHQgY29udGV4dC5cbiAqXG4gKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLndvcmRwcmVzcy5vcmcvcmVmZXJlbmNlL2Z1bmN0aW9ucy9feC9cbiAqL1xuLyoqXG4gKiBAdHlwZWRlZiB7KHNpbmdsZTogc3RyaW5nLCBwbHVyYWw6IHN0cmluZywgbnVtYmVyOiBudW1iZXIsIGRvbWFpbj86IHN0cmluZykgPT4gc3RyaW5nfSBfblxuICpcbiAqIFRyYW5zbGF0ZXMgYW5kIHJldHJpZXZlcyB0aGUgc2luZ3VsYXIgb3IgcGx1cmFsIGZvcm0gYmFzZWQgb24gdGhlIHN1cHBsaWVkXG4gKiBudW1iZXIuXG4gKlxuICogQHNlZSBodHRwczovL2RldmVsb3Blci53b3JkcHJlc3Mub3JnL3JlZmVyZW5jZS9mdW5jdGlvbnMvX24vXG4gKi9cbi8qKlxuICogQHR5cGVkZWYgeyhzaW5nbGU6IHN0cmluZywgcGx1cmFsOiBzdHJpbmcsIG51bWJlcjogbnVtYmVyLCBjb250ZXh0OiBzdHJpbmcsIGRvbWFpbj86IHN0cmluZykgPT4gc3RyaW5nfSBfbnhcbiAqXG4gKiBUcmFuc2xhdGVzIGFuZCByZXRyaWV2ZXMgdGhlIHNpbmd1bGFyIG9yIHBsdXJhbCBmb3JtIGJhc2VkIG9uIHRoZSBzdXBwbGllZFxuICogbnVtYmVyLCB3aXRoIGdldHRleHQgY29udGV4dC5cbiAqXG4gKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLndvcmRwcmVzcy5vcmcvcmVmZXJlbmNlL2Z1bmN0aW9ucy9fbngvXG4gKi9cbi8qKlxuICogQHR5cGVkZWYgeygpID0+IGJvb2xlYW59IElzUnRsXG4gKlxuICogQ2hlY2sgaWYgY3VycmVudCBsb2NhbGUgaXMgUlRMLlxuICpcbiAqICoqUlRMIChSaWdodCBUbyBMZWZ0KSoqIGlzIGEgbG9jYWxlIHByb3BlcnR5IGluZGljYXRpbmcgdGhhdCB0ZXh0IGlzIHdyaXR0ZW4gZnJvbSByaWdodCB0byBsZWZ0LlxuICogRm9yIGV4YW1wbGUsIHRoZSBgaGVgIGxvY2FsZSAoZm9yIEhlYnJldykgc3BlY2lmaWVzIHJpZ2h0LXRvLWxlZnQuIEFyYWJpYyAoYXIpIGlzIGFub3RoZXIgY29tbW9uXG4gKiBsYW5ndWFnZSB3cml0dGVuIFJUTC4gVGhlIG9wcG9zaXRlIG9mIFJUTCwgTFRSIChMZWZ0IFRvIFJpZ2h0KSBpcyB1c2VkIGluIG90aGVyIGxhbmd1YWdlcyxcbiAqIGluY2x1ZGluZyBFbmdsaXNoIChgZW5gLCBgZW4tVVNgLCBgZW4tR0JgLCBldGMuKSwgU3BhbmlzaCAoYGVzYCksIGFuZCBGcmVuY2ggKGBmcmApLlxuICovXG4vKipcbiAqIEB0eXBlZGVmIHsoc2luZ2xlOiBzdHJpbmcsIGNvbnRleHQ/OiBzdHJpbmcsIGRvbWFpbj86IHN0cmluZykgPT4gYm9vbGVhbn0gSGFzVHJhbnNsYXRpb25cbiAqXG4gKiBDaGVjayBpZiB0aGVyZSBpcyBhIHRyYW5zbGF0aW9uIGZvciBhIGdpdmVuIHN0cmluZyBpbiBzaW5ndWxhciBmb3JtLlxuICovXG4vKiogQHR5cGVkZWYge2ltcG9ydCgnQHdvcmRwcmVzcy9ob29rcycpLkhvb2tzfSBIb29rcyAqL1xuXG4vKipcbiAqIEFuIGkxOG4gaW5zdGFuY2VcbiAqXG4gKiBAdHlwZWRlZiBJMThuXG4gKiBAcHJvcGVydHkge0dldExvY2FsZURhdGF9ICAgZ2V0TG9jYWxlRGF0YSAgIFJldHVybnMgbG9jYWxlIGRhdGEgYnkgZG9tYWluIGluIGEgSmVkLWZvcm1hdHRlZCBKU09OIG9iamVjdCBzaGFwZS5cbiAqIEBwcm9wZXJ0eSB7U2V0TG9jYWxlRGF0YX0gICBzZXRMb2NhbGVEYXRhICAgTWVyZ2VzIGxvY2FsZSBkYXRhIGludG8gdGhlIFRhbm5pbiBpbnN0YW5jZSBieSBkb21haW4uIE5vdGUgdGhhdCB0aGlzXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHdpbGwgb3ZlcndyaXRlIHRoZSBkb21haW4gY29uZmlndXJhdGlvbi4gQWNjZXB0cyBkYXRhIGluIGFcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSmVkLWZvcm1hdHRlZCBKU09OIG9iamVjdCBzaGFwZS5cbiAqIEBwcm9wZXJ0eSB7QWRkTG9jYWxlRGF0YX0gICBhZGRMb2NhbGVEYXRhICAgTWVyZ2VzIGxvY2FsZSBkYXRhIGludG8gdGhlIFRhbm5pbiBpbnN0YW5jZSBieSBkb21haW4uIE5vdGUgdGhhdCB0aGlzXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHdpbGwgYWxzbyBtZXJnZSB0aGUgZG9tYWluIGNvbmZpZ3VyYXRpb24uIEFjY2VwdHMgZGF0YSBpbiBhXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEplZC1mb3JtYXR0ZWQgSlNPTiBvYmplY3Qgc2hhcGUuXG4gKiBAcHJvcGVydHkge1Jlc2V0TG9jYWxlRGF0YX0gcmVzZXRMb2NhbGVEYXRhIFJlc2V0cyBhbGwgY3VycmVudCBUYW5uaW4gaW5zdGFuY2UgbG9jYWxlIGRhdGEgYW5kIHNldHMgdGhlIHNwZWNpZmllZFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbGUgZGF0YSBmb3IgdGhlIGRvbWFpbi4gQWNjZXB0cyBkYXRhIGluIGEgSmVkLWZvcm1hdHRlZCBKU09OIG9iamVjdCBzaGFwZS5cbiAqIEBwcm9wZXJ0eSB7U3Vic2NyaWJlfSAgICAgICBzdWJzY3JpYmUgICAgICAgU3Vic2NyaWJlcyB0byBjaGFuZ2VzIG9mIFRhbm5pbiBsb2NhbGUgZGF0YS5cbiAqIEBwcm9wZXJ0eSB7X199ICAgICAgICAgICAgICBfXyAgICAgICAgICAgICAgUmV0cmlldmUgdGhlIHRyYW5zbGF0aW9uIG9mIHRleHQuXG4gKiBAcHJvcGVydHkge194fSAgICAgICAgICAgICAgX3ggICAgICAgICAgICAgIFJldHJpZXZlIHRyYW5zbGF0ZWQgc3RyaW5nIHdpdGggZ2V0dGV4dCBjb250ZXh0LlxuICogQHByb3BlcnR5IHtfbn0gICAgICAgICAgICAgIF9uICAgICAgICAgICAgICBUcmFuc2xhdGVzIGFuZCByZXRyaWV2ZXMgdGhlIHNpbmd1bGFyIG9yIHBsdXJhbCBmb3JtIGJhc2VkIG9uIHRoZSBzdXBwbGllZFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudW1iZXIuXG4gKiBAcHJvcGVydHkge19ueH0gICAgICAgICAgICAgX254ICAgICAgICAgICAgIFRyYW5zbGF0ZXMgYW5kIHJldHJpZXZlcyB0aGUgc2luZ3VsYXIgb3IgcGx1cmFsIGZvcm0gYmFzZWQgb24gdGhlIHN1cHBsaWVkXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bWJlciwgd2l0aCBnZXR0ZXh0IGNvbnRleHQuXG4gKiBAcHJvcGVydHkge0lzUnRsfSAgICAgICAgICAgaXNSVEwgICAgICAgICAgIENoZWNrIGlmIGN1cnJlbnQgbG9jYWxlIGlzIFJUTC5cbiAqIEBwcm9wZXJ0eSB7SGFzVHJhbnNsYXRpb259ICBoYXNUcmFuc2xhdGlvbiAgQ2hlY2sgaWYgdGhlcmUgaXMgYSB0cmFuc2xhdGlvbiBmb3IgYSBnaXZlbiBzdHJpbmcuXG4gKi9cblxuLyoqXG4gKiBDcmVhdGUgYW4gaTE4biBpbnN0YW5jZVxuICpcbiAqIEBwYXJhbSB7TG9jYWxlRGF0YX0gW2luaXRpYWxEYXRhXSAgIExvY2FsZSBkYXRhIGNvbmZpZ3VyYXRpb24uXG4gKiBAcGFyYW0ge3N0cmluZ30gICAgIFtpbml0aWFsRG9tYWluXSBEb21haW4gZm9yIHdoaWNoIGNvbmZpZ3VyYXRpb24gYXBwbGllcy5cbiAqIEBwYXJhbSB7SG9va3N9ICAgICAgW2hvb2tzXSAgICAgICAgIEhvb2tzIGltcGxlbWVudGF0aW9uLlxuICpcbiAqIEByZXR1cm4ge0kxOG59IEkxOG4gaW5zdGFuY2UuXG4gKi9cbmV4cG9ydCBjb25zdCBjcmVhdGVJMThuID0gKGluaXRpYWxEYXRhLCBpbml0aWFsRG9tYWluLCBob29rcykgPT4ge1xuICAvKipcbiAgICogVGhlIHVuZGVybHlpbmcgaW5zdGFuY2Ugb2YgVGFubmluIHRvIHdoaWNoIGV4cG9ydGVkIGZ1bmN0aW9ucyBpbnRlcmZhY2UuXG4gICAqXG4gICAqIEB0eXBlIHtUYW5uaW59XG4gICAqL1xuICBjb25zdCB0YW5uaW4gPSBuZXcgVGFubmluKHt9KTtcbiAgY29uc3QgbGlzdGVuZXJzID0gbmV3IFNldCgpO1xuICBjb25zdCBub3RpZnlMaXN0ZW5lcnMgPSAoKSA9PiB7XG4gICAgbGlzdGVuZXJzLmZvckVhY2gobGlzdGVuZXIgPT4gbGlzdGVuZXIoKSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFN1YnNjcmliZSB0byBjaGFuZ2VzIG9mIGxvY2FsZSBkYXRhLlxuICAgKlxuICAgKiBAcGFyYW0ge1N1YnNjcmliZUNhbGxiYWNrfSBjYWxsYmFjayBTdWJzY3JpcHRpb24gY2FsbGJhY2suXG4gICAqIEByZXR1cm4ge1Vuc3Vic2NyaWJlQ2FsbGJhY2t9IFVuc3Vic2NyaWJlIGNhbGxiYWNrLlxuICAgKi9cbiAgY29uc3Qgc3Vic2NyaWJlID0gY2FsbGJhY2sgPT4ge1xuICAgIGxpc3RlbmVycy5hZGQoY2FsbGJhY2spO1xuICAgIHJldHVybiAoKSA9PiBsaXN0ZW5lcnMuZGVsZXRlKGNhbGxiYWNrKTtcbiAgfTtcblxuICAvKiogQHR5cGUge0dldExvY2FsZURhdGF9ICovXG4gIGNvbnN0IGdldExvY2FsZURhdGEgPSAoZG9tYWluID0gJ2RlZmF1bHQnKSA9PiB0YW5uaW4uZGF0YVtkb21haW5dO1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0xvY2FsZURhdGF9IFtkYXRhXVxuICAgKiBAcGFyYW0ge3N0cmluZ30gICAgIFtkb21haW5dXG4gICAqL1xuICBjb25zdCBkb1NldExvY2FsZURhdGEgPSAoZGF0YSwgZG9tYWluID0gJ2RlZmF1bHQnKSA9PiB7XG4gICAgdGFubmluLmRhdGFbZG9tYWluXSA9IHtcbiAgICAgIC4uLnRhbm5pbi5kYXRhW2RvbWFpbl0sXG4gICAgICAuLi5kYXRhXG4gICAgfTtcblxuICAgIC8vIFBvcHVsYXRlIGRlZmF1bHQgZG9tYWluIGNvbmZpZ3VyYXRpb24gKHN1cHBvcnRlZCBsb2NhbGUgZGF0ZSB3aGljaCBvbWl0c1xuICAgIC8vIGEgcGx1cmFsIGZvcm1zIGV4cHJlc3Npb24pLlxuICAgIHRhbm5pbi5kYXRhW2RvbWFpbl1bJyddID0ge1xuICAgICAgLi4uREVGQVVMVF9MT0NBTEVfREFUQVsnJ10sXG4gICAgICAuLi50YW5uaW4uZGF0YVtkb21haW5dPy5bJyddXG4gICAgfTtcblxuICAgIC8vIENsZWFuIHVwIGNhY2hlZCBwbHVyYWwgZm9ybXMgZnVuY3Rpb25zIGNhY2hlIGFzIGl0IG1pZ2h0IGJlIHVwZGF0ZWQuXG4gICAgZGVsZXRlIHRhbm5pbi5wbHVyYWxGb3Jtc1tkb21haW5dO1xuICB9O1xuXG4gIC8qKiBAdHlwZSB7U2V0TG9jYWxlRGF0YX0gKi9cbiAgY29uc3Qgc2V0TG9jYWxlRGF0YSA9IChkYXRhLCBkb21haW4pID0+IHtcbiAgICBkb1NldExvY2FsZURhdGEoZGF0YSwgZG9tYWluKTtcbiAgICBub3RpZnlMaXN0ZW5lcnMoKTtcbiAgfTtcblxuICAvKiogQHR5cGUge0FkZExvY2FsZURhdGF9ICovXG4gIGNvbnN0IGFkZExvY2FsZURhdGEgPSAoZGF0YSwgZG9tYWluID0gJ2RlZmF1bHQnKSA9PiB7XG4gICAgdGFubmluLmRhdGFbZG9tYWluXSA9IHtcbiAgICAgIC4uLnRhbm5pbi5kYXRhW2RvbWFpbl0sXG4gICAgICAuLi5kYXRhLFxuICAgICAgLy8gUG9wdWxhdGUgZGVmYXVsdCBkb21haW4gY29uZmlndXJhdGlvbiAoc3VwcG9ydGVkIGxvY2FsZSBkYXRlIHdoaWNoIG9taXRzXG4gICAgICAvLyBhIHBsdXJhbCBmb3JtcyBleHByZXNzaW9uKS5cbiAgICAgICcnOiB7XG4gICAgICAgIC4uLkRFRkFVTFRfTE9DQUxFX0RBVEFbJyddLFxuICAgICAgICAuLi50YW5uaW4uZGF0YVtkb21haW5dPy5bJyddLFxuICAgICAgICAuLi5kYXRhPy5bJyddXG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIENsZWFuIHVwIGNhY2hlZCBwbHVyYWwgZm9ybXMgZnVuY3Rpb25zIGNhY2hlIGFzIGl0IG1pZ2h0IGJlIHVwZGF0ZWQuXG4gICAgZGVsZXRlIHRhbm5pbi5wbHVyYWxGb3Jtc1tkb21haW5dO1xuICAgIG5vdGlmeUxpc3RlbmVycygpO1xuICB9O1xuXG4gIC8qKiBAdHlwZSB7UmVzZXRMb2NhbGVEYXRhfSAqL1xuICBjb25zdCByZXNldExvY2FsZURhdGEgPSAoZGF0YSwgZG9tYWluKSA9PiB7XG4gICAgLy8gUmVzZXQgYWxsIGN1cnJlbnQgVGFubmluIGxvY2FsZSBkYXRhLlxuICAgIHRhbm5pbi5kYXRhID0ge307XG5cbiAgICAvLyBSZXNldCBjYWNoZWQgcGx1cmFsIGZvcm1zIGZ1bmN0aW9ucyBjYWNoZS5cbiAgICB0YW5uaW4ucGx1cmFsRm9ybXMgPSB7fTtcbiAgICBzZXRMb2NhbGVEYXRhKGRhdGEsIGRvbWFpbik7XG4gIH07XG5cbiAgLyoqXG4gICAqIFdyYXBwZXIgZm9yIFRhbm5pbidzIGBkY25wZ2V0dGV4dGAuIFBvcHVsYXRlcyBkZWZhdWx0IGxvY2FsZSBkYXRhIGlmIG5vdFxuICAgKiBvdGhlcndpc2UgcHJldmlvdXNseSBhc3NpZ25lZC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd8dW5kZWZpbmVkfSBkb21haW4gICBEb21haW4gdG8gcmV0cmlldmUgdGhlIHRyYW5zbGF0ZWQgdGV4dC5cbiAgICogQHBhcmFtIHtzdHJpbmd8dW5kZWZpbmVkfSBjb250ZXh0ICBDb250ZXh0IGluZm9ybWF0aW9uIGZvciB0aGUgdHJhbnNsYXRvcnMuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSAgICAgICAgICAgc2luZ2xlICAgVGV4dCB0byB0cmFuc2xhdGUgaWYgbm9uLXBsdXJhbC4gVXNlZCBhc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbGxiYWNrIHJldHVybiB2YWx1ZSBvbiBhIGNhdWdodCBlcnJvci5cbiAgICogQHBhcmFtIHtzdHJpbmd9ICAgICAgICAgICBbcGx1cmFsXSBUaGUgdGV4dCB0byBiZSB1c2VkIGlmIHRoZSBudW1iZXIgaXNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbHVyYWwuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSAgICAgICAgICAgW251bWJlcl0gVGhlIG51bWJlciB0byBjb21wYXJlIGFnYWluc3QgdG8gdXNlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWl0aGVyIHRoZSBzaW5ndWxhciBvciBwbHVyYWwgZm9ybS5cbiAgICpcbiAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgdHJhbnNsYXRlZCBzdHJpbmcuXG4gICAqL1xuICBjb25zdCBkY25wZ2V0dGV4dCA9IChkb21haW4gPSAnZGVmYXVsdCcsIGNvbnRleHQsIHNpbmdsZSwgcGx1cmFsLCBudW1iZXIpID0+IHtcbiAgICBpZiAoIXRhbm5pbi5kYXRhW2RvbWFpbl0pIHtcbiAgICAgIC8vIFVzZSBgZG9TZXRMb2NhbGVEYXRhYCB0byBzZXQgc2lsZW50bHksIHdpdGhvdXQgbm90aWZ5aW5nIGxpc3RlbmVycy5cbiAgICAgIGRvU2V0TG9jYWxlRGF0YSh1bmRlZmluZWQsIGRvbWFpbik7XG4gICAgfVxuICAgIHJldHVybiB0YW5uaW4uZGNucGdldHRleHQoZG9tYWluLCBjb250ZXh0LCBzaW5nbGUsIHBsdXJhbCwgbnVtYmVyKTtcbiAgfTtcblxuICAvKiogQHR5cGUge0dldEZpbHRlckRvbWFpbn0gKi9cbiAgY29uc3QgZ2V0RmlsdGVyRG9tYWluID0gKGRvbWFpbiA9ICdkZWZhdWx0JykgPT4gZG9tYWluO1xuXG4gIC8qKiBAdHlwZSB7X199ICovXG4gIGNvbnN0IF9fID0gKHRleHQsIGRvbWFpbikgPT4ge1xuICAgIGxldCB0cmFuc2xhdGlvbiA9IGRjbnBnZXR0ZXh0KGRvbWFpbiwgdW5kZWZpbmVkLCB0ZXh0KTtcbiAgICBpZiAoIWhvb2tzKSB7XG4gICAgICByZXR1cm4gdHJhbnNsYXRpb247XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmlsdGVycyB0ZXh0IHdpdGggaXRzIHRyYW5zbGF0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRyYW5zbGF0aW9uIFRyYW5zbGF0ZWQgdGV4dC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAgICAgICAgVGV4dCB0byB0cmFuc2xhdGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGRvbWFpbiAgICAgIFRleHQgZG9tYWluLiBVbmlxdWUgaWRlbnRpZmllciBmb3IgcmV0cmlldmluZyB0cmFuc2xhdGVkIHN0cmluZ3MuXG4gICAgICovXG4gICAgdHJhbnNsYXRpb24gPSAvKiogQHR5cGUge3N0cmluZ30gKi9cbiAgICAvKiogQHR5cGUgeyp9ICovaG9va3MuYXBwbHlGaWx0ZXJzKCdpMThuLmdldHRleHQnLCB0cmFuc2xhdGlvbiwgdGV4dCwgZG9tYWluKTtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHtzdHJpbmd9ICovKFxuICAgICAgLyoqIEB0eXBlIHsqfSAqL2hvb2tzLmFwcGx5RmlsdGVycygnaTE4bi5nZXR0ZXh0XycgKyBnZXRGaWx0ZXJEb21haW4oZG9tYWluKSwgdHJhbnNsYXRpb24sIHRleHQsIGRvbWFpbilcbiAgICApO1xuICB9O1xuXG4gIC8qKiBAdHlwZSB7X3h9ICovXG4gIGNvbnN0IF94ID0gKHRleHQsIGNvbnRleHQsIGRvbWFpbikgPT4ge1xuICAgIGxldCB0cmFuc2xhdGlvbiA9IGRjbnBnZXR0ZXh0KGRvbWFpbiwgY29udGV4dCwgdGV4dCk7XG4gICAgaWYgKCFob29rcykge1xuICAgICAgcmV0dXJuIHRyYW5zbGF0aW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZpbHRlcnMgdGV4dCB3aXRoIGl0cyB0cmFuc2xhdGlvbiBiYXNlZCBvbiBjb250ZXh0IGluZm9ybWF0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRyYW5zbGF0aW9uIFRyYW5zbGF0ZWQgdGV4dC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAgICAgICAgVGV4dCB0byB0cmFuc2xhdGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbnRleHQgICAgIENvbnRleHQgaW5mb3JtYXRpb24gZm9yIHRoZSB0cmFuc2xhdG9ycy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZG9tYWluICAgICAgVGV4dCBkb21haW4uIFVuaXF1ZSBpZGVudGlmaWVyIGZvciByZXRyaWV2aW5nIHRyYW5zbGF0ZWQgc3RyaW5ncy5cbiAgICAgKi9cbiAgICB0cmFuc2xhdGlvbiA9IC8qKiBAdHlwZSB7c3RyaW5nfSAqL1xuICAgIC8qKiBAdHlwZSB7Kn0gKi9ob29rcy5hcHBseUZpbHRlcnMoJ2kxOG4uZ2V0dGV4dF93aXRoX2NvbnRleHQnLCB0cmFuc2xhdGlvbiwgdGV4dCwgY29udGV4dCwgZG9tYWluKTtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHtzdHJpbmd9ICovKFxuICAgICAgLyoqIEB0eXBlIHsqfSAqL2hvb2tzLmFwcGx5RmlsdGVycygnaTE4bi5nZXR0ZXh0X3dpdGhfY29udGV4dF8nICsgZ2V0RmlsdGVyRG9tYWluKGRvbWFpbiksIHRyYW5zbGF0aW9uLCB0ZXh0LCBjb250ZXh0LCBkb21haW4pXG4gICAgKTtcbiAgfTtcblxuICAvKiogQHR5cGUge19ufSAqL1xuICBjb25zdCBfbiA9IChzaW5nbGUsIHBsdXJhbCwgbnVtYmVyLCBkb21haW4pID0+IHtcbiAgICBsZXQgdHJhbnNsYXRpb24gPSBkY25wZ2V0dGV4dChkb21haW4sIHVuZGVmaW5lZCwgc2luZ2xlLCBwbHVyYWwsIG51bWJlcik7XG4gICAgaWYgKCFob29rcykge1xuICAgICAgcmV0dXJuIHRyYW5zbGF0aW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZpbHRlcnMgdGhlIHNpbmd1bGFyIG9yIHBsdXJhbCBmb3JtIG9mIGEgc3RyaW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRyYW5zbGF0aW9uIFRyYW5zbGF0ZWQgdGV4dC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc2luZ2xlICAgICAgVGhlIHRleHQgdG8gYmUgdXNlZCBpZiB0aGUgbnVtYmVyIGlzIHNpbmd1bGFyLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwbHVyYWwgICAgICBUaGUgdGV4dCB0byBiZSB1c2VkIGlmIHRoZSBudW1iZXIgaXMgcGx1cmFsLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBudW1iZXIgICAgICBUaGUgbnVtYmVyIHRvIGNvbXBhcmUgYWdhaW5zdCB0byB1c2UgZWl0aGVyIHRoZSBzaW5ndWxhciBvciBwbHVyYWwgZm9ybS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZG9tYWluICAgICAgVGV4dCBkb21haW4uIFVuaXF1ZSBpZGVudGlmaWVyIGZvciByZXRyaWV2aW5nIHRyYW5zbGF0ZWQgc3RyaW5ncy5cbiAgICAgKi9cbiAgICB0cmFuc2xhdGlvbiA9IC8qKiBAdHlwZSB7c3RyaW5nfSAqL1xuICAgIC8qKiBAdHlwZSB7Kn0gKi9ob29rcy5hcHBseUZpbHRlcnMoJ2kxOG4ubmdldHRleHQnLCB0cmFuc2xhdGlvbiwgc2luZ2xlLCBwbHVyYWwsIG51bWJlciwgZG9tYWluKTtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHtzdHJpbmd9ICovKFxuICAgICAgLyoqIEB0eXBlIHsqfSAqL2hvb2tzLmFwcGx5RmlsdGVycygnaTE4bi5uZ2V0dGV4dF8nICsgZ2V0RmlsdGVyRG9tYWluKGRvbWFpbiksIHRyYW5zbGF0aW9uLCBzaW5nbGUsIHBsdXJhbCwgbnVtYmVyLCBkb21haW4pXG4gICAgKTtcbiAgfTtcblxuICAvKiogQHR5cGUge19ueH0gKi9cbiAgY29uc3QgX254ID0gKHNpbmdsZSwgcGx1cmFsLCBudW1iZXIsIGNvbnRleHQsIGRvbWFpbikgPT4ge1xuICAgIGxldCB0cmFuc2xhdGlvbiA9IGRjbnBnZXR0ZXh0KGRvbWFpbiwgY29udGV4dCwgc2luZ2xlLCBwbHVyYWwsIG51bWJlcik7XG4gICAgaWYgKCFob29rcykge1xuICAgICAgcmV0dXJuIHRyYW5zbGF0aW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZpbHRlcnMgdGhlIHNpbmd1bGFyIG9yIHBsdXJhbCBmb3JtIG9mIGEgc3RyaW5nIHdpdGggZ2V0dGV4dCBjb250ZXh0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRyYW5zbGF0aW9uIFRyYW5zbGF0ZWQgdGV4dC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc2luZ2xlICAgICAgVGhlIHRleHQgdG8gYmUgdXNlZCBpZiB0aGUgbnVtYmVyIGlzIHNpbmd1bGFyLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwbHVyYWwgICAgICBUaGUgdGV4dCB0byBiZSB1c2VkIGlmIHRoZSBudW1iZXIgaXMgcGx1cmFsLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBudW1iZXIgICAgICBUaGUgbnVtYmVyIHRvIGNvbXBhcmUgYWdhaW5zdCB0byB1c2UgZWl0aGVyIHRoZSBzaW5ndWxhciBvciBwbHVyYWwgZm9ybS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29udGV4dCAgICAgQ29udGV4dCBpbmZvcm1hdGlvbiBmb3IgdGhlIHRyYW5zbGF0b3JzLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBkb21haW4gICAgICBUZXh0IGRvbWFpbi4gVW5pcXVlIGlkZW50aWZpZXIgZm9yIHJldHJpZXZpbmcgdHJhbnNsYXRlZCBzdHJpbmdzLlxuICAgICAqL1xuICAgIHRyYW5zbGF0aW9uID0gLyoqIEB0eXBlIHtzdHJpbmd9ICovXG4gICAgLyoqIEB0eXBlIHsqfSAqL2hvb2tzLmFwcGx5RmlsdGVycygnaTE4bi5uZ2V0dGV4dF93aXRoX2NvbnRleHQnLCB0cmFuc2xhdGlvbiwgc2luZ2xlLCBwbHVyYWwsIG51bWJlciwgY29udGV4dCwgZG9tYWluKTtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHtzdHJpbmd9ICovKFxuICAgICAgLyoqIEB0eXBlIHsqfSAqL2hvb2tzLmFwcGx5RmlsdGVycygnaTE4bi5uZ2V0dGV4dF93aXRoX2NvbnRleHRfJyArIGdldEZpbHRlckRvbWFpbihkb21haW4pLCB0cmFuc2xhdGlvbiwgc2luZ2xlLCBwbHVyYWwsIG51bWJlciwgY29udGV4dCwgZG9tYWluKVxuICAgICk7XG4gIH07XG5cbiAgLyoqIEB0eXBlIHtJc1J0bH0gKi9cbiAgY29uc3QgaXNSVEwgPSAoKSA9PiB7XG4gICAgcmV0dXJuICdydGwnID09PSBfeCgnbHRyJywgJ3RleHQgZGlyZWN0aW9uJyk7XG4gIH07XG5cbiAgLyoqIEB0eXBlIHtIYXNUcmFuc2xhdGlvbn0gKi9cbiAgY29uc3QgaGFzVHJhbnNsYXRpb24gPSAoc2luZ2xlLCBjb250ZXh0LCBkb21haW4pID0+IHtcbiAgICBjb25zdCBrZXkgPSBjb250ZXh0ID8gY29udGV4dCArICdcXHUwMDA0JyArIHNpbmdsZSA6IHNpbmdsZTtcbiAgICBsZXQgcmVzdWx0ID0gISF0YW5uaW4uZGF0YT8uW2RvbWFpbiAhPT0gbnVsbCAmJiBkb21haW4gIT09IHZvaWQgMCA/IGRvbWFpbiA6ICdkZWZhdWx0J10/LltrZXldO1xuICAgIGlmIChob29rcykge1xuICAgICAgLyoqXG4gICAgICAgKiBGaWx0ZXJzIHRoZSBwcmVzZW5jZSBvZiBhIHRyYW5zbGF0aW9uIGluIHRoZSBsb2NhbGUgZGF0YS5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGhhc1RyYW5zbGF0aW9uIFdoZXRoZXIgdGhlIHRyYW5zbGF0aW9uIGlzIHByZXNlbnQgb3Igbm90Li5cbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSAgc2luZ2xlICAgICAgICAgVGhlIHNpbmd1bGFyIGZvcm0gb2YgdGhlIHRyYW5zbGF0ZWQgdGV4dCAodXNlZCBhcyBrZXkgaW4gbG9jYWxlIGRhdGEpXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gIGNvbnRleHQgICAgICAgIENvbnRleHQgaW5mb3JtYXRpb24gZm9yIHRoZSB0cmFuc2xhdG9ycy5cbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSAgZG9tYWluICAgICAgICAgVGV4dCBkb21haW4uIFVuaXF1ZSBpZGVudGlmaWVyIGZvciByZXRyaWV2aW5nIHRyYW5zbGF0ZWQgc3RyaW5ncy5cbiAgICAgICAqL1xuICAgICAgcmVzdWx0ID0gLyoqIEB0eXBlIHsgYm9vbGVhbiB9ICovXG4gICAgICAvKiogQHR5cGUgeyp9ICovaG9va3MuYXBwbHlGaWx0ZXJzKCdpMThuLmhhc190cmFuc2xhdGlvbicsIHJlc3VsdCwgc2luZ2xlLCBjb250ZXh0LCBkb21haW4pO1xuICAgICAgcmVzdWx0ID0gLyoqIEB0eXBlIHsgYm9vbGVhbiB9ICovXG4gICAgICAvKiogQHR5cGUgeyp9ICovaG9va3MuYXBwbHlGaWx0ZXJzKCdpMThuLmhhc190cmFuc2xhdGlvbl8nICsgZ2V0RmlsdGVyRG9tYWluKGRvbWFpbiksIHJlc3VsdCwgc2luZ2xlLCBjb250ZXh0LCBkb21haW4pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuICBpZiAoaW5pdGlhbERhdGEpIHtcbiAgICBzZXRMb2NhbGVEYXRhKGluaXRpYWxEYXRhLCBpbml0aWFsRG9tYWluKTtcbiAgfVxuICBpZiAoaG9va3MpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaG9va05hbWVcbiAgICAgKi9cbiAgICBjb25zdCBvbkhvb2tBZGRlZE9yUmVtb3ZlZCA9IGhvb2tOYW1lID0+IHtcbiAgICAgIGlmIChJMThOX0hPT0tfUkVHRVhQLnRlc3QoaG9va05hbWUpKSB7XG4gICAgICAgIG5vdGlmeUxpc3RlbmVycygpO1xuICAgICAgfVxuICAgIH07XG4gICAgaG9va3MuYWRkQWN0aW9uKCdob29rQWRkZWQnLCAnY29yZS9pMThuJywgb25Ib29rQWRkZWRPclJlbW92ZWQpO1xuICAgIGhvb2tzLmFkZEFjdGlvbignaG9va1JlbW92ZWQnLCAnY29yZS9pMThuJywgb25Ib29rQWRkZWRPclJlbW92ZWQpO1xuICB9XG4gIHJldHVybiB7XG4gICAgZ2V0TG9jYWxlRGF0YSxcbiAgICBzZXRMb2NhbGVEYXRhLFxuICAgIGFkZExvY2FsZURhdGEsXG4gICAgcmVzZXRMb2NhbGVEYXRhLFxuICAgIHN1YnNjcmliZSxcbiAgICBfXyxcbiAgICBfeCxcbiAgICBfbixcbiAgICBfbngsXG4gICAgaXNSVEwsXG4gICAgaGFzVHJhbnNsYXRpb25cbiAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jcmVhdGUtaTE4bi5qcy5tYXAiLCIvKipcbiAqIEludGVybmFsIGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyBjcmVhdGVJMThuIH0gZnJvbSAnLi9jcmVhdGUtaTE4bic7XG5cbi8qKlxuICogV29yZFByZXNzIGRlcGVuZGVuY2llc1xuICovXG5pbXBvcnQgeyBkZWZhdWx0SG9va3MgfSBmcm9tICdAd29yZHByZXNzL2hvb2tzJztcbmNvbnN0IGkxOG4gPSBjcmVhdGVJMThuKHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBkZWZhdWx0SG9va3MpO1xuXG4vKipcbiAqIERlZmF1bHQsIHNpbmdsZXRvbiBpbnN0YW5jZSBvZiBgSTE4bmAuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGkxOG47XG5cbi8qXG4gKiBDb21tZW50cyBpbiB0aGlzIGZpbGUgYXJlIGR1cGxpY2F0ZWQgZnJvbSAuL2kxOG4gZHVlIHRvXG4gKiBodHRwczovL2dpdGh1Yi5jb20vV29yZFByZXNzL2d1dGVuYmVyZy9wdWxsLzIwMzE4I2lzc3VlY29tbWVudC01OTA4Mzc3MjJcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4vY3JlYXRlLWkxOG4nKS5Mb2NhbGVEYXRhfSBMb2NhbGVEYXRhXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuL2NyZWF0ZS1pMThuJykuU3Vic2NyaWJlQ2FsbGJhY2t9IFN1YnNjcmliZUNhbGxiYWNrXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuL2NyZWF0ZS1pMThuJykuVW5zdWJzY3JpYmVDYWxsYmFja30gVW5zdWJzY3JpYmVDYWxsYmFja1xuICovXG5cbi8qKlxuICogUmV0dXJucyBsb2NhbGUgZGF0YSBieSBkb21haW4gaW4gYSBKZWQtZm9ybWF0dGVkIEpTT04gb2JqZWN0IHNoYXBlLlxuICpcbiAqIEBzZWUgaHR0cDovL21lc3NhZ2Vmb3JtYXQuZ2l0aHViLmlvL0plZC9cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gW2RvbWFpbl0gRG9tYWluIGZvciB3aGljaCB0byBnZXQgdGhlIGRhdGEuXG4gKiBAcmV0dXJuIHtMb2NhbGVEYXRhfSBMb2NhbGUgZGF0YS5cbiAqL1xuZXhwb3J0IGNvbnN0IGdldExvY2FsZURhdGEgPSBpMThuLmdldExvY2FsZURhdGEuYmluZChpMThuKTtcblxuLyoqXG4gKiBNZXJnZXMgbG9jYWxlIGRhdGEgaW50byB0aGUgVGFubmluIGluc3RhbmNlIGJ5IGRvbWFpbi4gQWNjZXB0cyBkYXRhIGluIGFcbiAqIEplZC1mb3JtYXR0ZWQgSlNPTiBvYmplY3Qgc2hhcGUuXG4gKlxuICogQHNlZSBodHRwOi8vbWVzc2FnZWZvcm1hdC5naXRodWIuaW8vSmVkL1xuICpcbiAqIEBwYXJhbSB7TG9jYWxlRGF0YX0gW2RhdGFdICAgTG9jYWxlIGRhdGEgY29uZmlndXJhdGlvbi5cbiAqIEBwYXJhbSB7c3RyaW5nfSAgICAgW2RvbWFpbl0gRG9tYWluIGZvciB3aGljaCBjb25maWd1cmF0aW9uIGFwcGxpZXMuXG4gKi9cbmV4cG9ydCBjb25zdCBzZXRMb2NhbGVEYXRhID0gaTE4bi5zZXRMb2NhbGVEYXRhLmJpbmQoaTE4bik7XG5cbi8qKlxuICogUmVzZXRzIGFsbCBjdXJyZW50IFRhbm5pbiBpbnN0YW5jZSBsb2NhbGUgZGF0YSBhbmQgc2V0cyB0aGUgc3BlY2lmaWVkXG4gKiBsb2NhbGUgZGF0YSBmb3IgdGhlIGRvbWFpbi4gQWNjZXB0cyBkYXRhIGluIGEgSmVkLWZvcm1hdHRlZCBKU09OIG9iamVjdCBzaGFwZS5cbiAqXG4gKiBAc2VlIGh0dHA6Ly9tZXNzYWdlZm9ybWF0LmdpdGh1Yi5pby9KZWQvXG4gKlxuICogQHBhcmFtIHtMb2NhbGVEYXRhfSBbZGF0YV0gICBMb2NhbGUgZGF0YSBjb25maWd1cmF0aW9uLlxuICogQHBhcmFtIHtzdHJpbmd9ICAgICBbZG9tYWluXSBEb21haW4gZm9yIHdoaWNoIGNvbmZpZ3VyYXRpb24gYXBwbGllcy5cbiAqL1xuZXhwb3J0IGNvbnN0IHJlc2V0TG9jYWxlRGF0YSA9IGkxOG4ucmVzZXRMb2NhbGVEYXRhLmJpbmQoaTE4bik7XG5cbi8qKlxuICogU3Vic2NyaWJlcyB0byBjaGFuZ2VzIG9mIGxvY2FsZSBkYXRhXG4gKlxuICogQHBhcmFtIHtTdWJzY3JpYmVDYWxsYmFja30gY2FsbGJhY2sgU3Vic2NyaXB0aW9uIGNhbGxiYWNrXG4gKiBAcmV0dXJuIHtVbnN1YnNjcmliZUNhbGxiYWNrfSBVbnN1YnNjcmliZSBjYWxsYmFja1xuICovXG5leHBvcnQgY29uc3Qgc3Vic2NyaWJlID0gaTE4bi5zdWJzY3JpYmUuYmluZChpMThuKTtcblxuLyoqXG4gKiBSZXRyaWV2ZSB0aGUgdHJhbnNsYXRpb24gb2YgdGV4dC5cbiAqXG4gKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLndvcmRwcmVzcy5vcmcvcmVmZXJlbmNlL2Z1bmN0aW9ucy9fXy9cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAgICAgVGV4dCB0byB0cmFuc2xhdGUuXG4gKiBAcGFyYW0ge3N0cmluZ30gW2RvbWFpbl0gRG9tYWluIHRvIHJldHJpZXZlIHRoZSB0cmFuc2xhdGVkIHRleHQuXG4gKlxuICogQHJldHVybiB7c3RyaW5nfSBUcmFuc2xhdGVkIHRleHQuXG4gKi9cbmV4cG9ydCBjb25zdCBfXyA9IGkxOG4uX18uYmluZChpMThuKTtcblxuLyoqXG4gKiBSZXRyaWV2ZSB0cmFuc2xhdGVkIHN0cmluZyB3aXRoIGdldHRleHQgY29udGV4dC5cbiAqXG4gKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLndvcmRwcmVzcy5vcmcvcmVmZXJlbmNlL2Z1bmN0aW9ucy9feC9cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAgICAgVGV4dCB0byB0cmFuc2xhdGUuXG4gKiBAcGFyYW0ge3N0cmluZ30gY29udGV4dCAgQ29udGV4dCBpbmZvcm1hdGlvbiBmb3IgdGhlIHRyYW5zbGF0b3JzLlxuICogQHBhcmFtIHtzdHJpbmd9IFtkb21haW5dIERvbWFpbiB0byByZXRyaWV2ZSB0aGUgdHJhbnNsYXRlZCB0ZXh0LlxuICpcbiAqIEByZXR1cm4ge3N0cmluZ30gVHJhbnNsYXRlZCBjb250ZXh0IHN0cmluZyB3aXRob3V0IHBpcGUuXG4gKi9cbmV4cG9ydCBjb25zdCBfeCA9IGkxOG4uX3guYmluZChpMThuKTtcblxuLyoqXG4gKiBUcmFuc2xhdGVzIGFuZCByZXRyaWV2ZXMgdGhlIHNpbmd1bGFyIG9yIHBsdXJhbCBmb3JtIGJhc2VkIG9uIHRoZSBzdXBwbGllZFxuICogbnVtYmVyLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIud29yZHByZXNzLm9yZy9yZWZlcmVuY2UvZnVuY3Rpb25zL19uL1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzaW5nbGUgICBUaGUgdGV4dCB0byBiZSB1c2VkIGlmIHRoZSBudW1iZXIgaXMgc2luZ3VsYXIuXG4gKiBAcGFyYW0ge3N0cmluZ30gcGx1cmFsICAgVGhlIHRleHQgdG8gYmUgdXNlZCBpZiB0aGUgbnVtYmVyIGlzIHBsdXJhbC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBudW1iZXIgICBUaGUgbnVtYmVyIHRvIGNvbXBhcmUgYWdhaW5zdCB0byB1c2UgZWl0aGVyIHRoZVxuICogICAgICAgICAgICAgICAgICAgICAgICAgIHNpbmd1bGFyIG9yIHBsdXJhbCBmb3JtLlxuICogQHBhcmFtIHtzdHJpbmd9IFtkb21haW5dIERvbWFpbiB0byByZXRyaWV2ZSB0aGUgdHJhbnNsYXRlZCB0ZXh0LlxuICpcbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHRyYW5zbGF0ZWQgc2luZ3VsYXIgb3IgcGx1cmFsIGZvcm0uXG4gKi9cbmV4cG9ydCBjb25zdCBfbiA9IGkxOG4uX24uYmluZChpMThuKTtcblxuLyoqXG4gKiBUcmFuc2xhdGVzIGFuZCByZXRyaWV2ZXMgdGhlIHNpbmd1bGFyIG9yIHBsdXJhbCBmb3JtIGJhc2VkIG9uIHRoZSBzdXBwbGllZFxuICogbnVtYmVyLCB3aXRoIGdldHRleHQgY29udGV4dC5cbiAqXG4gKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLndvcmRwcmVzcy5vcmcvcmVmZXJlbmNlL2Z1bmN0aW9ucy9fbngvXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHNpbmdsZSAgIFRoZSB0ZXh0IHRvIGJlIHVzZWQgaWYgdGhlIG51bWJlciBpcyBzaW5ndWxhci5cbiAqIEBwYXJhbSB7c3RyaW5nfSBwbHVyYWwgICBUaGUgdGV4dCB0byBiZSB1c2VkIGlmIHRoZSBudW1iZXIgaXMgcGx1cmFsLlxuICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciAgIFRoZSBudW1iZXIgdG8gY29tcGFyZSBhZ2FpbnN0IHRvIHVzZSBlaXRoZXIgdGhlXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgc2luZ3VsYXIgb3IgcGx1cmFsIGZvcm0uXG4gKiBAcGFyYW0ge3N0cmluZ30gY29udGV4dCAgQ29udGV4dCBpbmZvcm1hdGlvbiBmb3IgdGhlIHRyYW5zbGF0b3JzLlxuICogQHBhcmFtIHtzdHJpbmd9IFtkb21haW5dIERvbWFpbiB0byByZXRyaWV2ZSB0aGUgdHJhbnNsYXRlZCB0ZXh0LlxuICpcbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHRyYW5zbGF0ZWQgc2luZ3VsYXIgb3IgcGx1cmFsIGZvcm0uXG4gKi9cbmV4cG9ydCBjb25zdCBfbnggPSBpMThuLl9ueC5iaW5kKGkxOG4pO1xuXG4vKipcbiAqIENoZWNrIGlmIGN1cnJlbnQgbG9jYWxlIGlzIFJUTC5cbiAqXG4gKiAqKlJUTCAoUmlnaHQgVG8gTGVmdCkqKiBpcyBhIGxvY2FsZSBwcm9wZXJ0eSBpbmRpY2F0aW5nIHRoYXQgdGV4dCBpcyB3cml0dGVuIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAqIEZvciBleGFtcGxlLCB0aGUgYGhlYCBsb2NhbGUgKGZvciBIZWJyZXcpIHNwZWNpZmllcyByaWdodC10by1sZWZ0LiBBcmFiaWMgKGFyKSBpcyBhbm90aGVyIGNvbW1vblxuICogbGFuZ3VhZ2Ugd3JpdHRlbiBSVEwuIFRoZSBvcHBvc2l0ZSBvZiBSVEwsIExUUiAoTGVmdCBUbyBSaWdodCkgaXMgdXNlZCBpbiBvdGhlciBsYW5ndWFnZXMsXG4gKiBpbmNsdWRpbmcgRW5nbGlzaCAoYGVuYCwgYGVuLVVTYCwgYGVuLUdCYCwgZXRjLiksIFNwYW5pc2ggKGBlc2ApLCBhbmQgRnJlbmNoIChgZnJgKS5cbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIGxvY2FsZSBpcyBSVEwuXG4gKi9cbmV4cG9ydCBjb25zdCBpc1JUTCA9IGkxOG4uaXNSVEwuYmluZChpMThuKTtcblxuLyoqXG4gKiBDaGVjayBpZiB0aGVyZSBpcyBhIHRyYW5zbGF0aW9uIGZvciBhIGdpdmVuIHN0cmluZyAoaW4gc2luZ3VsYXIgZm9ybSkuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHNpbmdsZSAgICBTaW5ndWxhciBmb3JtIG9mIHRoZSBzdHJpbmcgdG8gbG9vayB1cC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbY29udGV4dF0gQ29udGV4dCBpbmZvcm1hdGlvbiBmb3IgdGhlIHRyYW5zbGF0b3JzLlxuICogQHBhcmFtIHtzdHJpbmd9IFtkb21haW5dICBEb21haW4gdG8gcmV0cmlldmUgdGhlIHRyYW5zbGF0ZWQgdGV4dC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHRyYW5zbGF0aW9uIGV4aXN0cyBvciBub3QuXG4gKi9cbmV4cG9ydCBjb25zdCBoYXNUcmFuc2xhdGlvbiA9IGkxOG4uaGFzVHJhbnNsYXRpb24uYmluZChpMThuKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlZmF1bHQtaTE4bi5qcy5tYXAiLCIvKipcbiAqIEV4dGVybmFsIGRlcGVuZGVuY2llcy5cbiAqL1xuaW1wb3J0IHsgX18sIHNwcmludGYgfSBmcm9tICdAd29yZHByZXNzL2kxOG4nO1xuXG53aW5kb3cuX18gPSBfXztcbndpbmRvdy5zcHJpbnRmID0gc3ByaW50ZjtcbiIsImV4cG9ydCBkZWZhdWx0IHtcbiAgICAvKiBnbG9iYWwgX18sIHNwcmludGYgKi9cbiAgICBtZXRob2RzOiB7XG4gICAgICAgIF9fKHRleHQsIGRvbWFpbikge1xuICAgICAgICAgICAgcmV0dXJuIF9fKHRleHQsIGRvbWFpbik7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc3ByaW50ZihmbXQsIC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIHJldHVybiBzcHJpbnRmKGZtdCwgLi4uYXJncyk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBiaW5kKGZuLCB0aGlzQXJnKSB7XG4gIHJldHVybiBmdW5jdGlvbiB3cmFwKCkge1xuICAgIHJldHVybiBmbi5hcHBseSh0aGlzQXJnLCBhcmd1bWVudHMpO1xuICB9O1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgYmluZCBmcm9tICcuL2hlbHBlcnMvYmluZC5qcyc7XG5cbi8vIHV0aWxzIGlzIGEgbGlicmFyeSBvZiBnZW5lcmljIGhlbHBlciBmdW5jdGlvbnMgbm9uLXNwZWNpZmljIHRvIGF4aW9zXG5cbmNvbnN0IHt0b1N0cmluZ30gPSBPYmplY3QucHJvdG90eXBlO1xuY29uc3Qge2dldFByb3RvdHlwZU9mfSA9IE9iamVjdDtcblxuY29uc3Qga2luZE9mID0gKGNhY2hlID0+IHRoaW5nID0+IHtcbiAgICBjb25zdCBzdHIgPSB0b1N0cmluZy5jYWxsKHRoaW5nKTtcbiAgICByZXR1cm4gY2FjaGVbc3RyXSB8fCAoY2FjaGVbc3RyXSA9IHN0ci5zbGljZSg4LCAtMSkudG9Mb3dlckNhc2UoKSk7XG59KShPYmplY3QuY3JlYXRlKG51bGwpKTtcblxuY29uc3Qga2luZE9mVGVzdCA9ICh0eXBlKSA9PiB7XG4gIHR5cGUgPSB0eXBlLnRvTG93ZXJDYXNlKCk7XG4gIHJldHVybiAodGhpbmcpID0+IGtpbmRPZih0aGluZykgPT09IHR5cGVcbn1cblxuY29uc3QgdHlwZU9mVGVzdCA9IHR5cGUgPT4gdGhpbmcgPT4gdHlwZW9mIHRoaW5nID09PSB0eXBlO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIEFycmF5XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIEFycmF5LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3Qge2lzQXJyYXl9ID0gQXJyYXk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgdW5kZWZpbmVkXG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmFsdWUgaXMgdW5kZWZpbmVkLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNVbmRlZmluZWQgPSB0eXBlT2ZUZXN0KCd1bmRlZmluZWQnKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEJ1ZmZlclxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBCdWZmZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0J1ZmZlcih2YWwpIHtcbiAgcmV0dXJuIHZhbCAhPT0gbnVsbCAmJiAhaXNVbmRlZmluZWQodmFsKSAmJiB2YWwuY29uc3RydWN0b3IgIT09IG51bGwgJiYgIWlzVW5kZWZpbmVkKHZhbC5jb25zdHJ1Y3RvcilcbiAgICAmJiBpc0Z1bmN0aW9uKHZhbC5jb25zdHJ1Y3Rvci5pc0J1ZmZlcikgJiYgdmFsLmNvbnN0cnVjdG9yLmlzQnVmZmVyKHZhbCk7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYW4gQXJyYXlCdWZmZXJcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIEFycmF5QnVmZmVyLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNBcnJheUJ1ZmZlciA9IGtpbmRPZlRlc3QoJ0FycmF5QnVmZmVyJyk7XG5cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIHZpZXcgb24gYW4gQXJyYXlCdWZmZXJcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgdmlldyBvbiBhbiBBcnJheUJ1ZmZlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlCdWZmZXJWaWV3KHZhbCkge1xuICBsZXQgcmVzdWx0O1xuICBpZiAoKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcpICYmIChBcnJheUJ1ZmZlci5pc1ZpZXcpKSB7XG4gICAgcmVzdWx0ID0gQXJyYXlCdWZmZXIuaXNWaWV3KHZhbCk7XG4gIH0gZWxzZSB7XG4gICAgcmVzdWx0ID0gKHZhbCkgJiYgKHZhbC5idWZmZXIpICYmIChpc0FycmF5QnVmZmVyKHZhbC5idWZmZXIpKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgU3RyaW5nXG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIFN0cmluZywgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzU3RyaW5nID0gdHlwZU9mVGVzdCgnc3RyaW5nJyk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGdW5jdGlvblxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEZ1bmN0aW9uLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNGdW5jdGlvbiA9IHR5cGVPZlRlc3QoJ2Z1bmN0aW9uJyk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBOdW1iZXJcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgTnVtYmVyLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNOdW1iZXIgPSB0eXBlT2ZUZXN0KCdudW1iZXInKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhbiBPYmplY3RcbiAqXG4gKiBAcGFyYW0geyp9IHRoaW5nIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gT2JqZWN0LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNPYmplY3QgPSAodGhpbmcpID0+IHRoaW5nICE9PSBudWxsICYmIHR5cGVvZiB0aGluZyA9PT0gJ29iamVjdCc7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBCb29sZWFuXG4gKlxuICogQHBhcmFtIHsqfSB0aGluZyBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBCb29sZWFuLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNCb29sZWFuID0gdGhpbmcgPT4gdGhpbmcgPT09IHRydWUgfHwgdGhpbmcgPT09IGZhbHNlO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgcGxhaW4gT2JqZWN0XG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIHBsYWluIE9iamVjdCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzUGxhaW5PYmplY3QgPSAodmFsKSA9PiB7XG4gIGlmIChraW5kT2YodmFsKSAhPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBjb25zdCBwcm90b3R5cGUgPSBnZXRQcm90b3R5cGVPZih2YWwpO1xuICByZXR1cm4gKHByb3RvdHlwZSA9PT0gbnVsbCB8fCBwcm90b3R5cGUgPT09IE9iamVjdC5wcm90b3R5cGUgfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKHByb3RvdHlwZSkgPT09IG51bGwpICYmICEoU3ltYm9sLnRvU3RyaW5nVGFnIGluIHZhbCkgJiYgIShTeW1ib2wuaXRlcmF0b3IgaW4gdmFsKTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIERhdGVcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRGF0ZSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzRGF0ZSA9IGtpbmRPZlRlc3QoJ0RhdGUnKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEZpbGVcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRmlsZSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzRmlsZSA9IGtpbmRPZlRlc3QoJ0ZpbGUnKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEJsb2JcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgQmxvYiwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzQmxvYiA9IGtpbmRPZlRlc3QoJ0Jsb2InKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEZpbGVMaXN0XG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEZpbGUsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc0ZpbGVMaXN0ID0ga2luZE9mVGVzdCgnRmlsZUxpc3QnKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIFN0cmVhbVxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBTdHJlYW0sIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc1N0cmVhbSA9ICh2YWwpID0+IGlzT2JqZWN0KHZhbCkgJiYgaXNGdW5jdGlvbih2YWwucGlwZSk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGb3JtRGF0YVxuICpcbiAqIEBwYXJhbSB7Kn0gdGhpbmcgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBGb3JtRGF0YSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzRm9ybURhdGEgPSAodGhpbmcpID0+IHtcbiAgbGV0IGtpbmQ7XG4gIHJldHVybiB0aGluZyAmJiAoXG4gICAgKHR5cGVvZiBGb3JtRGF0YSA9PT0gJ2Z1bmN0aW9uJyAmJiB0aGluZyBpbnN0YW5jZW9mIEZvcm1EYXRhKSB8fCAoXG4gICAgICBpc0Z1bmN0aW9uKHRoaW5nLmFwcGVuZCkgJiYgKFxuICAgICAgICAoa2luZCA9IGtpbmRPZih0aGluZykpID09PSAnZm9ybWRhdGEnIHx8XG4gICAgICAgIC8vIGRldGVjdCBmb3JtLWRhdGEgaW5zdGFuY2VcbiAgICAgICAgKGtpbmQgPT09ICdvYmplY3QnICYmIGlzRnVuY3Rpb24odGhpbmcudG9TdHJpbmcpICYmIHRoaW5nLnRvU3RyaW5nKCkgPT09ICdbb2JqZWN0IEZvcm1EYXRhXScpXG4gICAgICApXG4gICAgKVxuICApXG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBVUkxTZWFyY2hQYXJhbXMgb2JqZWN0XG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIFVSTFNlYXJjaFBhcmFtcyBvYmplY3QsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc1VSTFNlYXJjaFBhcmFtcyA9IGtpbmRPZlRlc3QoJ1VSTFNlYXJjaFBhcmFtcycpO1xuXG5jb25zdCBbaXNSZWFkYWJsZVN0cmVhbSwgaXNSZXF1ZXN0LCBpc1Jlc3BvbnNlLCBpc0hlYWRlcnNdID0gWydSZWFkYWJsZVN0cmVhbScsICdSZXF1ZXN0JywgJ1Jlc3BvbnNlJywgJ0hlYWRlcnMnXS5tYXAoa2luZE9mVGVzdCk7XG5cbi8qKlxuICogVHJpbSBleGNlc3Mgd2hpdGVzcGFjZSBvZmYgdGhlIGJlZ2lubmluZyBhbmQgZW5kIG9mIGEgc3RyaW5nXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0ciBUaGUgU3RyaW5nIHRvIHRyaW1cbiAqXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgU3RyaW5nIGZyZWVkIG9mIGV4Y2VzcyB3aGl0ZXNwYWNlXG4gKi9cbmNvbnN0IHRyaW0gPSAoc3RyKSA9PiBzdHIudHJpbSA/XG4gIHN0ci50cmltKCkgOiBzdHIucmVwbGFjZSgvXltcXHNcXHVGRUZGXFx4QTBdK3xbXFxzXFx1RkVGRlxceEEwXSskL2csICcnKTtcblxuLyoqXG4gKiBJdGVyYXRlIG92ZXIgYW4gQXJyYXkgb3IgYW4gT2JqZWN0IGludm9raW5nIGEgZnVuY3Rpb24gZm9yIGVhY2ggaXRlbS5cbiAqXG4gKiBJZiBgb2JqYCBpcyBhbiBBcnJheSBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCBwYXNzaW5nXG4gKiB0aGUgdmFsdWUsIGluZGV4LCBhbmQgY29tcGxldGUgYXJyYXkgZm9yIGVhY2ggaXRlbS5cbiAqXG4gKiBJZiAnb2JqJyBpcyBhbiBPYmplY3QgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgcGFzc2luZ1xuICogdGhlIHZhbHVlLCBrZXksIGFuZCBjb21wbGV0ZSBvYmplY3QgZm9yIGVhY2ggcHJvcGVydHkuXG4gKlxuICogQHBhcmFtIHtPYmplY3R8QXJyYXl9IG9iaiBUaGUgb2JqZWN0IHRvIGl0ZXJhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBjYWxsYmFjayB0byBpbnZva2UgZm9yIGVhY2ggaXRlbVxuICpcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW2FsbE93bktleXMgPSBmYWxzZV1cbiAqIEByZXR1cm5zIHthbnl9XG4gKi9cbmZ1bmN0aW9uIGZvckVhY2gob2JqLCBmbiwge2FsbE93bktleXMgPSBmYWxzZX0gPSB7fSkge1xuICAvLyBEb24ndCBib3RoZXIgaWYgbm8gdmFsdWUgcHJvdmlkZWRcbiAgaWYgKG9iaiA9PT0gbnVsbCB8fCB0eXBlb2Ygb2JqID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGxldCBpO1xuICBsZXQgbDtcblxuICAvLyBGb3JjZSBhbiBhcnJheSBpZiBub3QgYWxyZWFkeSBzb21ldGhpbmcgaXRlcmFibGVcbiAgaWYgKHR5cGVvZiBvYmogIT09ICdvYmplY3QnKSB7XG4gICAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gICAgb2JqID0gW29ial07XG4gIH1cblxuICBpZiAoaXNBcnJheShvYmopKSB7XG4gICAgLy8gSXRlcmF0ZSBvdmVyIGFycmF5IHZhbHVlc1xuICAgIGZvciAoaSA9IDAsIGwgPSBvYmoubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBmbi5jYWxsKG51bGwsIG9ialtpXSwgaSwgb2JqKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gSXRlcmF0ZSBvdmVyIG9iamVjdCBrZXlzXG4gICAgY29uc3Qga2V5cyA9IGFsbE93bktleXMgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhvYmopIDogT2JqZWN0LmtleXMob2JqKTtcbiAgICBjb25zdCBsZW4gPSBrZXlzLmxlbmd0aDtcbiAgICBsZXQga2V5O1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBrZXkgPSBrZXlzW2ldO1xuICAgICAgZm4uY2FsbChudWxsLCBvYmpba2V5XSwga2V5LCBvYmopO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBmaW5kS2V5KG9iaiwga2V5KSB7XG4gIGtleSA9IGtleS50b0xvd2VyQ2FzZSgpO1xuICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMob2JqKTtcbiAgbGV0IGkgPSBrZXlzLmxlbmd0aDtcbiAgbGV0IF9rZXk7XG4gIHdoaWxlIChpLS0gPiAwKSB7XG4gICAgX2tleSA9IGtleXNbaV07XG4gICAgaWYgKGtleSA9PT0gX2tleS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICByZXR1cm4gX2tleTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmNvbnN0IF9nbG9iYWwgPSAoKCkgPT4ge1xuICAvKmVzbGludCBuby11bmRlZjowKi9cbiAgaWYgKHR5cGVvZiBnbG9iYWxUaGlzICE9PSBcInVuZGVmaW5lZFwiKSByZXR1cm4gZ2xvYmFsVGhpcztcbiAgcmV0dXJuIHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IGdsb2JhbClcbn0pKCk7XG5cbmNvbnN0IGlzQ29udGV4dERlZmluZWQgPSAoY29udGV4dCkgPT4gIWlzVW5kZWZpbmVkKGNvbnRleHQpICYmIGNvbnRleHQgIT09IF9nbG9iYWw7XG5cbi8qKlxuICogQWNjZXB0cyB2YXJhcmdzIGV4cGVjdGluZyBlYWNoIGFyZ3VtZW50IHRvIGJlIGFuIG9iamVjdCwgdGhlblxuICogaW1tdXRhYmx5IG1lcmdlcyB0aGUgcHJvcGVydGllcyBvZiBlYWNoIG9iamVjdCBhbmQgcmV0dXJucyByZXN1bHQuXG4gKlxuICogV2hlbiBtdWx0aXBsZSBvYmplY3RzIGNvbnRhaW4gdGhlIHNhbWUga2V5IHRoZSBsYXRlciBvYmplY3QgaW5cbiAqIHRoZSBhcmd1bWVudHMgbGlzdCB3aWxsIHRha2UgcHJlY2VkZW5jZS5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqIGBgYGpzXG4gKiB2YXIgcmVzdWx0ID0gbWVyZ2Uoe2ZvbzogMTIzfSwge2ZvbzogNDU2fSk7XG4gKiBjb25zb2xlLmxvZyhyZXN1bHQuZm9vKTsgLy8gb3V0cHV0cyA0NTZcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmoxIE9iamVjdCB0byBtZXJnZVxuICpcbiAqIEByZXR1cm5zIHtPYmplY3R9IFJlc3VsdCBvZiBhbGwgbWVyZ2UgcHJvcGVydGllc1xuICovXG5mdW5jdGlvbiBtZXJnZSgvKiBvYmoxLCBvYmoyLCBvYmozLCAuLi4gKi8pIHtcbiAgY29uc3Qge2Nhc2VsZXNzfSA9IGlzQ29udGV4dERlZmluZWQodGhpcykgJiYgdGhpcyB8fCB7fTtcbiAgY29uc3QgcmVzdWx0ID0ge307XG4gIGNvbnN0IGFzc2lnblZhbHVlID0gKHZhbCwga2V5KSA9PiB7XG4gICAgY29uc3QgdGFyZ2V0S2V5ID0gY2FzZWxlc3MgJiYgZmluZEtleShyZXN1bHQsIGtleSkgfHwga2V5O1xuICAgIGlmIChpc1BsYWluT2JqZWN0KHJlc3VsdFt0YXJnZXRLZXldKSAmJiBpc1BsYWluT2JqZWN0KHZhbCkpIHtcbiAgICAgIHJlc3VsdFt0YXJnZXRLZXldID0gbWVyZ2UocmVzdWx0W3RhcmdldEtleV0sIHZhbCk7XG4gICAgfSBlbHNlIGlmIChpc1BsYWluT2JqZWN0KHZhbCkpIHtcbiAgICAgIHJlc3VsdFt0YXJnZXRLZXldID0gbWVyZ2Uoe30sIHZhbCk7XG4gICAgfSBlbHNlIGlmIChpc0FycmF5KHZhbCkpIHtcbiAgICAgIHJlc3VsdFt0YXJnZXRLZXldID0gdmFsLnNsaWNlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdFt0YXJnZXRLZXldID0gdmFsO1xuICAgIH1cbiAgfVxuXG4gIGZvciAobGV0IGkgPSAwLCBsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGFyZ3VtZW50c1tpXSAmJiBmb3JFYWNoKGFyZ3VtZW50c1tpXSwgYXNzaWduVmFsdWUpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogRXh0ZW5kcyBvYmplY3QgYSBieSBtdXRhYmx5IGFkZGluZyB0byBpdCB0aGUgcHJvcGVydGllcyBvZiBvYmplY3QgYi5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gYSBUaGUgb2JqZWN0IHRvIGJlIGV4dGVuZGVkXG4gKiBAcGFyYW0ge09iamVjdH0gYiBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyBmcm9tXG4gKiBAcGFyYW0ge09iamVjdH0gdGhpc0FyZyBUaGUgb2JqZWN0IHRvIGJpbmQgZnVuY3Rpb24gdG9cbiAqXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFthbGxPd25LZXlzXVxuICogQHJldHVybnMge09iamVjdH0gVGhlIHJlc3VsdGluZyB2YWx1ZSBvZiBvYmplY3QgYVxuICovXG5jb25zdCBleHRlbmQgPSAoYSwgYiwgdGhpc0FyZywge2FsbE93bktleXN9PSB7fSkgPT4ge1xuICBmb3JFYWNoKGIsICh2YWwsIGtleSkgPT4ge1xuICAgIGlmICh0aGlzQXJnICYmIGlzRnVuY3Rpb24odmFsKSkge1xuICAgICAgYVtrZXldID0gYmluZCh2YWwsIHRoaXNBcmcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhW2tleV0gPSB2YWw7XG4gICAgfVxuICB9LCB7YWxsT3duS2V5c30pO1xuICByZXR1cm4gYTtcbn1cblxuLyoqXG4gKiBSZW1vdmUgYnl0ZSBvcmRlciBtYXJrZXIuIFRoaXMgY2F0Y2hlcyBFRiBCQiBCRiAodGhlIFVURi04IEJPTSlcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gY29udGVudCB3aXRoIEJPTVxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IGNvbnRlbnQgdmFsdWUgd2l0aG91dCBCT01cbiAqL1xuY29uc3Qgc3RyaXBCT00gPSAoY29udGVudCkgPT4ge1xuICBpZiAoY29udGVudC5jaGFyQ29kZUF0KDApID09PSAweEZFRkYpIHtcbiAgICBjb250ZW50ID0gY29udGVudC5zbGljZSgxKTtcbiAgfVxuICByZXR1cm4gY29udGVudDtcbn1cblxuLyoqXG4gKiBJbmhlcml0IHRoZSBwcm90b3R5cGUgbWV0aG9kcyBmcm9tIG9uZSBjb25zdHJ1Y3RvciBpbnRvIGFub3RoZXJcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBzdXBlckNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge29iamVjdH0gW3Byb3BzXVxuICogQHBhcmFtIHtvYmplY3R9IFtkZXNjcmlwdG9yc11cbiAqXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuY29uc3QgaW5oZXJpdHMgPSAoY29uc3RydWN0b3IsIHN1cGVyQ29uc3RydWN0b3IsIHByb3BzLCBkZXNjcmlwdG9ycykgPT4ge1xuICBjb25zdHJ1Y3Rvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ29uc3RydWN0b3IucHJvdG90eXBlLCBkZXNjcmlwdG9ycyk7XG4gIGNvbnN0cnVjdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGNvbnN0cnVjdG9yO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29uc3RydWN0b3IsICdzdXBlcicsIHtcbiAgICB2YWx1ZTogc3VwZXJDb25zdHJ1Y3Rvci5wcm90b3R5cGVcbiAgfSk7XG4gIHByb3BzICYmIE9iamVjdC5hc3NpZ24oY29uc3RydWN0b3IucHJvdG90eXBlLCBwcm9wcyk7XG59XG5cbi8qKlxuICogUmVzb2x2ZSBvYmplY3Qgd2l0aCBkZWVwIHByb3RvdHlwZSBjaGFpbiB0byBhIGZsYXQgb2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gc291cmNlT2JqIHNvdXJjZSBvYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBbZGVzdE9ial1cbiAqIEBwYXJhbSB7RnVuY3Rpb258Qm9vbGVhbn0gW2ZpbHRlcl1cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcm9wRmlsdGVyXVxuICpcbiAqIEByZXR1cm5zIHtPYmplY3R9XG4gKi9cbmNvbnN0IHRvRmxhdE9iamVjdCA9IChzb3VyY2VPYmosIGRlc3RPYmosIGZpbHRlciwgcHJvcEZpbHRlcikgPT4ge1xuICBsZXQgcHJvcHM7XG4gIGxldCBpO1xuICBsZXQgcHJvcDtcbiAgY29uc3QgbWVyZ2VkID0ge307XG5cbiAgZGVzdE9iaiA9IGRlc3RPYmogfHwge307XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1lcS1udWxsLGVxZXFlcVxuICBpZiAoc291cmNlT2JqID09IG51bGwpIHJldHVybiBkZXN0T2JqO1xuXG4gIGRvIHtcbiAgICBwcm9wcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHNvdXJjZU9iaik7XG4gICAgaSA9IHByb3BzLmxlbmd0aDtcbiAgICB3aGlsZSAoaS0tID4gMCkge1xuICAgICAgcHJvcCA9IHByb3BzW2ldO1xuICAgICAgaWYgKCghcHJvcEZpbHRlciB8fCBwcm9wRmlsdGVyKHByb3AsIHNvdXJjZU9iaiwgZGVzdE9iaikpICYmICFtZXJnZWRbcHJvcF0pIHtcbiAgICAgICAgZGVzdE9ialtwcm9wXSA9IHNvdXJjZU9ialtwcm9wXTtcbiAgICAgICAgbWVyZ2VkW3Byb3BdID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgc291cmNlT2JqID0gZmlsdGVyICE9PSBmYWxzZSAmJiBnZXRQcm90b3R5cGVPZihzb3VyY2VPYmopO1xuICB9IHdoaWxlIChzb3VyY2VPYmogJiYgKCFmaWx0ZXIgfHwgZmlsdGVyKHNvdXJjZU9iaiwgZGVzdE9iaikpICYmIHNvdXJjZU9iaiAhPT0gT2JqZWN0LnByb3RvdHlwZSk7XG5cbiAgcmV0dXJuIGRlc3RPYmo7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIGEgc3RyaW5nIGVuZHMgd2l0aCB0aGUgY2hhcmFjdGVycyBvZiBhIHNwZWNpZmllZCBzdHJpbmdcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcGFyYW0ge1N0cmluZ30gc2VhcmNoU3RyaW5nXG4gKiBAcGFyYW0ge051bWJlcn0gW3Bvc2l0aW9uPSAwXVxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5jb25zdCBlbmRzV2l0aCA9IChzdHIsIHNlYXJjaFN0cmluZywgcG9zaXRpb24pID0+IHtcbiAgc3RyID0gU3RyaW5nKHN0cik7XG4gIGlmIChwb3NpdGlvbiA9PT0gdW5kZWZpbmVkIHx8IHBvc2l0aW9uID4gc3RyLmxlbmd0aCkge1xuICAgIHBvc2l0aW9uID0gc3RyLmxlbmd0aDtcbiAgfVxuICBwb3NpdGlvbiAtPSBzZWFyY2hTdHJpbmcubGVuZ3RoO1xuICBjb25zdCBsYXN0SW5kZXggPSBzdHIuaW5kZXhPZihzZWFyY2hTdHJpbmcsIHBvc2l0aW9uKTtcbiAgcmV0dXJuIGxhc3RJbmRleCAhPT0gLTEgJiYgbGFzdEluZGV4ID09PSBwb3NpdGlvbjtcbn1cblxuXG4vKipcbiAqIFJldHVybnMgbmV3IGFycmF5IGZyb20gYXJyYXkgbGlrZSBvYmplY3Qgb3IgbnVsbCBpZiBmYWlsZWRcbiAqXG4gKiBAcGFyYW0geyp9IFt0aGluZ11cbiAqXG4gKiBAcmV0dXJucyB7P0FycmF5fVxuICovXG5jb25zdCB0b0FycmF5ID0gKHRoaW5nKSA9PiB7XG4gIGlmICghdGhpbmcpIHJldHVybiBudWxsO1xuICBpZiAoaXNBcnJheSh0aGluZykpIHJldHVybiB0aGluZztcbiAgbGV0IGkgPSB0aGluZy5sZW5ndGg7XG4gIGlmICghaXNOdW1iZXIoaSkpIHJldHVybiBudWxsO1xuICBjb25zdCBhcnIgPSBuZXcgQXJyYXkoaSk7XG4gIHdoaWxlIChpLS0gPiAwKSB7XG4gICAgYXJyW2ldID0gdGhpbmdbaV07XG4gIH1cbiAgcmV0dXJuIGFycjtcbn1cblxuLyoqXG4gKiBDaGVja2luZyBpZiB0aGUgVWludDhBcnJheSBleGlzdHMgYW5kIGlmIGl0IGRvZXMsIGl0IHJldHVybnMgYSBmdW5jdGlvbiB0aGF0IGNoZWNrcyBpZiB0aGVcbiAqIHRoaW5nIHBhc3NlZCBpbiBpcyBhbiBpbnN0YW5jZSBvZiBVaW50OEFycmF5XG4gKlxuICogQHBhcmFtIHtUeXBlZEFycmF5fVxuICpcbiAqIEByZXR1cm5zIHtBcnJheX1cbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbmNvbnN0IGlzVHlwZWRBcnJheSA9IChUeXBlZEFycmF5ID0+IHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbiAgcmV0dXJuIHRoaW5nID0+IHtcbiAgICByZXR1cm4gVHlwZWRBcnJheSAmJiB0aGluZyBpbnN0YW5jZW9mIFR5cGVkQXJyYXk7XG4gIH07XG59KSh0eXBlb2YgVWludDhBcnJheSAhPT0gJ3VuZGVmaW5lZCcgJiYgZ2V0UHJvdG90eXBlT2YoVWludDhBcnJheSkpO1xuXG4vKipcbiAqIEZvciBlYWNoIGVudHJ5IGluIHRoZSBvYmplY3QsIGNhbGwgdGhlIGZ1bmN0aW9uIHdpdGggdGhlIGtleSBhbmQgdmFsdWUuXG4gKlxuICogQHBhcmFtIHtPYmplY3Q8YW55LCBhbnk+fSBvYmogLSBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIC0gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggZW50cnkuXG4gKlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmNvbnN0IGZvckVhY2hFbnRyeSA9IChvYmosIGZuKSA9PiB7XG4gIGNvbnN0IGdlbmVyYXRvciA9IG9iaiAmJiBvYmpbU3ltYm9sLml0ZXJhdG9yXTtcblxuICBjb25zdCBpdGVyYXRvciA9IGdlbmVyYXRvci5jYWxsKG9iaik7XG5cbiAgbGV0IHJlc3VsdDtcblxuICB3aGlsZSAoKHJlc3VsdCA9IGl0ZXJhdG9yLm5leHQoKSkgJiYgIXJlc3VsdC5kb25lKSB7XG4gICAgY29uc3QgcGFpciA9IHJlc3VsdC52YWx1ZTtcbiAgICBmbi5jYWxsKG9iaiwgcGFpclswXSwgcGFpclsxXSk7XG4gIH1cbn1cblxuLyoqXG4gKiBJdCB0YWtlcyBhIHJlZ3VsYXIgZXhwcmVzc2lvbiBhbmQgYSBzdHJpbmcsIGFuZCByZXR1cm5zIGFuIGFycmF5IG9mIGFsbCB0aGUgbWF0Y2hlc1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSByZWdFeHAgLSBUaGUgcmVndWxhciBleHByZXNzaW9uIHRvIG1hdGNoIGFnYWluc3QuXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyIC0gVGhlIHN0cmluZyB0byBzZWFyY2guXG4gKlxuICogQHJldHVybnMge0FycmF5PGJvb2xlYW4+fVxuICovXG5jb25zdCBtYXRjaEFsbCA9IChyZWdFeHAsIHN0cikgPT4ge1xuICBsZXQgbWF0Y2hlcztcbiAgY29uc3QgYXJyID0gW107XG5cbiAgd2hpbGUgKChtYXRjaGVzID0gcmVnRXhwLmV4ZWMoc3RyKSkgIT09IG51bGwpIHtcbiAgICBhcnIucHVzaChtYXRjaGVzKTtcbiAgfVxuXG4gIHJldHVybiBhcnI7XG59XG5cbi8qIENoZWNraW5nIGlmIHRoZSBraW5kT2ZUZXN0IGZ1bmN0aW9uIHJldHVybnMgdHJ1ZSB3aGVuIHBhc3NlZCBhbiBIVE1MRm9ybUVsZW1lbnQuICovXG5jb25zdCBpc0hUTUxGb3JtID0ga2luZE9mVGVzdCgnSFRNTEZvcm1FbGVtZW50Jyk7XG5cbmNvbnN0IHRvQ2FtZWxDYXNlID0gc3RyID0+IHtcbiAgcmV0dXJuIHN0ci50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1stX1xcc10oW2EtelxcZF0pKFxcdyopL2csXG4gICAgZnVuY3Rpb24gcmVwbGFjZXIobSwgcDEsIHAyKSB7XG4gICAgICByZXR1cm4gcDEudG9VcHBlckNhc2UoKSArIHAyO1xuICAgIH1cbiAgKTtcbn07XG5cbi8qIENyZWF0aW5nIGEgZnVuY3Rpb24gdGhhdCB3aWxsIGNoZWNrIGlmIGFuIG9iamVjdCBoYXMgYSBwcm9wZXJ0eS4gKi9cbmNvbnN0IGhhc093blByb3BlcnR5ID0gKCh7aGFzT3duUHJvcGVydHl9KSA9PiAob2JqLCBwcm9wKSA9PiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpKE9iamVjdC5wcm90b3R5cGUpO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgUmVnRXhwIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBSZWdFeHAgb2JqZWN0LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNSZWdFeHAgPSBraW5kT2ZUZXN0KCdSZWdFeHAnKTtcblxuY29uc3QgcmVkdWNlRGVzY3JpcHRvcnMgPSAob2JqLCByZWR1Y2VyKSA9PiB7XG4gIGNvbnN0IGRlc2NyaXB0b3JzID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMob2JqKTtcbiAgY29uc3QgcmVkdWNlZERlc2NyaXB0b3JzID0ge307XG5cbiAgZm9yRWFjaChkZXNjcmlwdG9ycywgKGRlc2NyaXB0b3IsIG5hbWUpID0+IHtcbiAgICBsZXQgcmV0O1xuICAgIGlmICgocmV0ID0gcmVkdWNlcihkZXNjcmlwdG9yLCBuYW1lLCBvYmopKSAhPT0gZmFsc2UpIHtcbiAgICAgIHJlZHVjZWREZXNjcmlwdG9yc1tuYW1lXSA9IHJldCB8fCBkZXNjcmlwdG9yO1xuICAgIH1cbiAgfSk7XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMob2JqLCByZWR1Y2VkRGVzY3JpcHRvcnMpO1xufVxuXG4vKipcbiAqIE1ha2VzIGFsbCBtZXRob2RzIHJlYWQtb25seVxuICogQHBhcmFtIHtPYmplY3R9IG9ialxuICovXG5cbmNvbnN0IGZyZWV6ZU1ldGhvZHMgPSAob2JqKSA9PiB7XG4gIHJlZHVjZURlc2NyaXB0b3JzKG9iaiwgKGRlc2NyaXB0b3IsIG5hbWUpID0+IHtcbiAgICAvLyBza2lwIHJlc3RyaWN0ZWQgcHJvcHMgaW4gc3RyaWN0IG1vZGVcbiAgICBpZiAoaXNGdW5jdGlvbihvYmopICYmIFsnYXJndW1lbnRzJywgJ2NhbGxlcicsICdjYWxsZWUnXS5pbmRleE9mKG5hbWUpICE9PSAtMSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IHZhbHVlID0gb2JqW25hbWVdO1xuXG4gICAgaWYgKCFpc0Z1bmN0aW9uKHZhbHVlKSkgcmV0dXJuO1xuXG4gICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZmFsc2U7XG5cbiAgICBpZiAoJ3dyaXRhYmxlJyBpbiBkZXNjcmlwdG9yKSB7XG4gICAgICBkZXNjcmlwdG9yLndyaXRhYmxlID0gZmFsc2U7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCFkZXNjcmlwdG9yLnNldCkge1xuICAgICAgZGVzY3JpcHRvci5zZXQgPSAoKSA9PiB7XG4gICAgICAgIHRocm93IEVycm9yKCdDYW4gbm90IHJld3JpdGUgcmVhZC1vbmx5IG1ldGhvZCBcXCcnICsgbmFtZSArICdcXCcnKTtcbiAgICAgIH07XG4gICAgfVxuICB9KTtcbn1cblxuY29uc3QgdG9PYmplY3RTZXQgPSAoYXJyYXlPclN0cmluZywgZGVsaW1pdGVyKSA9PiB7XG4gIGNvbnN0IG9iaiA9IHt9O1xuXG4gIGNvbnN0IGRlZmluZSA9IChhcnIpID0+IHtcbiAgICBhcnIuZm9yRWFjaCh2YWx1ZSA9PiB7XG4gICAgICBvYmpbdmFsdWVdID0gdHJ1ZTtcbiAgICB9KTtcbiAgfVxuXG4gIGlzQXJyYXkoYXJyYXlPclN0cmluZykgPyBkZWZpbmUoYXJyYXlPclN0cmluZykgOiBkZWZpbmUoU3RyaW5nKGFycmF5T3JTdHJpbmcpLnNwbGl0KGRlbGltaXRlcikpO1xuXG4gIHJldHVybiBvYmo7XG59XG5cbmNvbnN0IG5vb3AgPSAoKSA9PiB7fVxuXG5jb25zdCB0b0Zpbml0ZU51bWJlciA9ICh2YWx1ZSwgZGVmYXVsdFZhbHVlKSA9PiB7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIE51bWJlci5pc0Zpbml0ZSh2YWx1ZSA9ICt2YWx1ZSkgPyB2YWx1ZSA6IGRlZmF1bHRWYWx1ZTtcbn1cblxuY29uc3QgQUxQSEEgPSAnYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXonXG5cbmNvbnN0IERJR0lUID0gJzAxMjM0NTY3ODknO1xuXG5jb25zdCBBTFBIQUJFVCA9IHtcbiAgRElHSVQsXG4gIEFMUEhBLFxuICBBTFBIQV9ESUdJVDogQUxQSEEgKyBBTFBIQS50b1VwcGVyQ2FzZSgpICsgRElHSVRcbn1cblxuY29uc3QgZ2VuZXJhdGVTdHJpbmcgPSAoc2l6ZSA9IDE2LCBhbHBoYWJldCA9IEFMUEhBQkVULkFMUEhBX0RJR0lUKSA9PiB7XG4gIGxldCBzdHIgPSAnJztcbiAgY29uc3Qge2xlbmd0aH0gPSBhbHBoYWJldDtcbiAgd2hpbGUgKHNpemUtLSkge1xuICAgIHN0ciArPSBhbHBoYWJldFtNYXRoLnJhbmRvbSgpICogbGVuZ3RofDBdXG4gIH1cblxuICByZXR1cm4gc3RyO1xufVxuXG4vKipcbiAqIElmIHRoZSB0aGluZyBpcyBhIEZvcm1EYXRhIG9iamVjdCwgcmV0dXJuIHRydWUsIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXG4gKlxuICogQHBhcmFtIHt1bmtub3dufSB0aGluZyAtIFRoZSB0aGluZyB0byBjaGVjay5cbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNTcGVjQ29tcGxpYW50Rm9ybSh0aGluZykge1xuICByZXR1cm4gISEodGhpbmcgJiYgaXNGdW5jdGlvbih0aGluZy5hcHBlbmQpICYmIHRoaW5nW1N5bWJvbC50b1N0cmluZ1RhZ10gPT09ICdGb3JtRGF0YScgJiYgdGhpbmdbU3ltYm9sLml0ZXJhdG9yXSk7XG59XG5cbmNvbnN0IHRvSlNPTk9iamVjdCA9IChvYmopID0+IHtcbiAgY29uc3Qgc3RhY2sgPSBuZXcgQXJyYXkoMTApO1xuXG4gIGNvbnN0IHZpc2l0ID0gKHNvdXJjZSwgaSkgPT4ge1xuXG4gICAgaWYgKGlzT2JqZWN0KHNvdXJjZSkpIHtcbiAgICAgIGlmIChzdGFjay5pbmRleE9mKHNvdXJjZSkgPj0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmKCEoJ3RvSlNPTicgaW4gc291cmNlKSkge1xuICAgICAgICBzdGFja1tpXSA9IHNvdXJjZTtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gaXNBcnJheShzb3VyY2UpID8gW10gOiB7fTtcblxuICAgICAgICBmb3JFYWNoKHNvdXJjZSwgKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgICAgICBjb25zdCByZWR1Y2VkVmFsdWUgPSB2aXNpdCh2YWx1ZSwgaSArIDEpO1xuICAgICAgICAgICFpc1VuZGVmaW5lZChyZWR1Y2VkVmFsdWUpICYmICh0YXJnZXRba2V5XSA9IHJlZHVjZWRWYWx1ZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHN0YWNrW2ldID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHNvdXJjZTtcbiAgfVxuXG4gIHJldHVybiB2aXNpdChvYmosIDApO1xufVxuXG5jb25zdCBpc0FzeW5jRm4gPSBraW5kT2ZUZXN0KCdBc3luY0Z1bmN0aW9uJyk7XG5cbmNvbnN0IGlzVGhlbmFibGUgPSAodGhpbmcpID0+XG4gIHRoaW5nICYmIChpc09iamVjdCh0aGluZykgfHwgaXNGdW5jdGlvbih0aGluZykpICYmIGlzRnVuY3Rpb24odGhpbmcudGhlbikgJiYgaXNGdW5jdGlvbih0aGluZy5jYXRjaCk7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgaXNBcnJheSxcbiAgaXNBcnJheUJ1ZmZlcixcbiAgaXNCdWZmZXIsXG4gIGlzRm9ybURhdGEsXG4gIGlzQXJyYXlCdWZmZXJWaWV3LFxuICBpc1N0cmluZyxcbiAgaXNOdW1iZXIsXG4gIGlzQm9vbGVhbixcbiAgaXNPYmplY3QsXG4gIGlzUGxhaW5PYmplY3QsXG4gIGlzUmVhZGFibGVTdHJlYW0sXG4gIGlzUmVxdWVzdCxcbiAgaXNSZXNwb25zZSxcbiAgaXNIZWFkZXJzLFxuICBpc1VuZGVmaW5lZCxcbiAgaXNEYXRlLFxuICBpc0ZpbGUsXG4gIGlzQmxvYixcbiAgaXNSZWdFeHAsXG4gIGlzRnVuY3Rpb24sXG4gIGlzU3RyZWFtLFxuICBpc1VSTFNlYXJjaFBhcmFtcyxcbiAgaXNUeXBlZEFycmF5LFxuICBpc0ZpbGVMaXN0LFxuICBmb3JFYWNoLFxuICBtZXJnZSxcbiAgZXh0ZW5kLFxuICB0cmltLFxuICBzdHJpcEJPTSxcbiAgaW5oZXJpdHMsXG4gIHRvRmxhdE9iamVjdCxcbiAga2luZE9mLFxuICBraW5kT2ZUZXN0LFxuICBlbmRzV2l0aCxcbiAgdG9BcnJheSxcbiAgZm9yRWFjaEVudHJ5LFxuICBtYXRjaEFsbCxcbiAgaXNIVE1MRm9ybSxcbiAgaGFzT3duUHJvcGVydHksXG4gIGhhc093blByb3A6IGhhc093blByb3BlcnR5LCAvLyBhbiBhbGlhcyB0byBhdm9pZCBFU0xpbnQgbm8tcHJvdG90eXBlLWJ1aWx0aW5zIGRldGVjdGlvblxuICByZWR1Y2VEZXNjcmlwdG9ycyxcbiAgZnJlZXplTWV0aG9kcyxcbiAgdG9PYmplY3RTZXQsXG4gIHRvQ2FtZWxDYXNlLFxuICBub29wLFxuICB0b0Zpbml0ZU51bWJlcixcbiAgZmluZEtleSxcbiAgZ2xvYmFsOiBfZ2xvYmFsLFxuICBpc0NvbnRleHREZWZpbmVkLFxuICBBTFBIQUJFVCxcbiAgZ2VuZXJhdGVTdHJpbmcsXG4gIGlzU3BlY0NvbXBsaWFudEZvcm0sXG4gIHRvSlNPTk9iamVjdCxcbiAgaXNBc3luY0ZuLFxuICBpc1RoZW5hYmxlXG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi4vdXRpbHMuanMnO1xuXG4vKipcbiAqIENyZWF0ZSBhbiBFcnJvciB3aXRoIHRoZSBzcGVjaWZpZWQgbWVzc2FnZSwgY29uZmlnLCBlcnJvciBjb2RlLCByZXF1ZXN0IGFuZCByZXNwb25zZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbY29kZV0gVGhlIGVycm9yIGNvZGUgKGZvciBleGFtcGxlLCAnRUNPTk5BQk9SVEVEJykuXG4gKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZ10gVGhlIGNvbmZpZy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbcmVxdWVzdF0gVGhlIHJlcXVlc3QuXG4gKiBAcGFyYW0ge09iamVjdH0gW3Jlc3BvbnNlXSBUaGUgcmVzcG9uc2UuXG4gKlxuICogQHJldHVybnMge0Vycm9yfSBUaGUgY3JlYXRlZCBlcnJvci5cbiAqL1xuZnVuY3Rpb24gQXhpb3NFcnJvcihtZXNzYWdlLCBjb2RlLCBjb25maWcsIHJlcXVlc3QsIHJlc3BvbnNlKSB7XG4gIEVycm9yLmNhbGwodGhpcyk7XG5cbiAgaWYgKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKSB7XG4gICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgdGhpcy5jb25zdHJ1Y3Rvcik7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5zdGFjayA9IChuZXcgRXJyb3IoKSkuc3RhY2s7XG4gIH1cblxuICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICB0aGlzLm5hbWUgPSAnQXhpb3NFcnJvcic7XG4gIGNvZGUgJiYgKHRoaXMuY29kZSA9IGNvZGUpO1xuICBjb25maWcgJiYgKHRoaXMuY29uZmlnID0gY29uZmlnKTtcbiAgcmVxdWVzdCAmJiAodGhpcy5yZXF1ZXN0ID0gcmVxdWVzdCk7XG4gIHJlc3BvbnNlICYmICh0aGlzLnJlc3BvbnNlID0gcmVzcG9uc2UpO1xufVxuXG51dGlscy5pbmhlcml0cyhBeGlvc0Vycm9yLCBFcnJvciwge1xuICB0b0pTT046IGZ1bmN0aW9uIHRvSlNPTigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLy8gU3RhbmRhcmRcbiAgICAgIG1lc3NhZ2U6IHRoaXMubWVzc2FnZSxcbiAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgIC8vIE1pY3Jvc29mdFxuICAgICAgZGVzY3JpcHRpb246IHRoaXMuZGVzY3JpcHRpb24sXG4gICAgICBudW1iZXI6IHRoaXMubnVtYmVyLFxuICAgICAgLy8gTW96aWxsYVxuICAgICAgZmlsZU5hbWU6IHRoaXMuZmlsZU5hbWUsXG4gICAgICBsaW5lTnVtYmVyOiB0aGlzLmxpbmVOdW1iZXIsXG4gICAgICBjb2x1bW5OdW1iZXI6IHRoaXMuY29sdW1uTnVtYmVyLFxuICAgICAgc3RhY2s6IHRoaXMuc3RhY2ssXG4gICAgICAvLyBBeGlvc1xuICAgICAgY29uZmlnOiB1dGlscy50b0pTT05PYmplY3QodGhpcy5jb25maWcpLFxuICAgICAgY29kZTogdGhpcy5jb2RlLFxuICAgICAgc3RhdHVzOiB0aGlzLnJlc3BvbnNlICYmIHRoaXMucmVzcG9uc2Uuc3RhdHVzID8gdGhpcy5yZXNwb25zZS5zdGF0dXMgOiBudWxsXG4gICAgfTtcbiAgfVxufSk7XG5cbmNvbnN0IHByb3RvdHlwZSA9IEF4aW9zRXJyb3IucHJvdG90eXBlO1xuY29uc3QgZGVzY3JpcHRvcnMgPSB7fTtcblxuW1xuICAnRVJSX0JBRF9PUFRJT05fVkFMVUUnLFxuICAnRVJSX0JBRF9PUFRJT04nLFxuICAnRUNPTk5BQk9SVEVEJyxcbiAgJ0VUSU1FRE9VVCcsXG4gICdFUlJfTkVUV09SSycsXG4gICdFUlJfRlJfVE9PX01BTllfUkVESVJFQ1RTJyxcbiAgJ0VSUl9ERVBSRUNBVEVEJyxcbiAgJ0VSUl9CQURfUkVTUE9OU0UnLFxuICAnRVJSX0JBRF9SRVFVRVNUJyxcbiAgJ0VSUl9DQU5DRUxFRCcsXG4gICdFUlJfTk9UX1NVUFBPUlQnLFxuICAnRVJSX0lOVkFMSURfVVJMJ1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbl0uZm9yRWFjaChjb2RlID0+IHtcbiAgZGVzY3JpcHRvcnNbY29kZV0gPSB7dmFsdWU6IGNvZGV9O1xufSk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKEF4aW9zRXJyb3IsIGRlc2NyaXB0b3JzKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm90b3R5cGUsICdpc0F4aW9zRXJyb3InLCB7dmFsdWU6IHRydWV9KTtcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbkF4aW9zRXJyb3IuZnJvbSA9IChlcnJvciwgY29kZSwgY29uZmlnLCByZXF1ZXN0LCByZXNwb25zZSwgY3VzdG9tUHJvcHMpID0+IHtcbiAgY29uc3QgYXhpb3NFcnJvciA9IE9iamVjdC5jcmVhdGUocHJvdG90eXBlKTtcblxuICB1dGlscy50b0ZsYXRPYmplY3QoZXJyb3IsIGF4aW9zRXJyb3IsIGZ1bmN0aW9uIGZpbHRlcihvYmopIHtcbiAgICByZXR1cm4gb2JqICE9PSBFcnJvci5wcm90b3R5cGU7XG4gIH0sIHByb3AgPT4ge1xuICAgIHJldHVybiBwcm9wICE9PSAnaXNBeGlvc0Vycm9yJztcbiAgfSk7XG5cbiAgQXhpb3NFcnJvci5jYWxsKGF4aW9zRXJyb3IsIGVycm9yLm1lc3NhZ2UsIGNvZGUsIGNvbmZpZywgcmVxdWVzdCwgcmVzcG9uc2UpO1xuXG4gIGF4aW9zRXJyb3IuY2F1c2UgPSBlcnJvcjtcblxuICBheGlvc0Vycm9yLm5hbWUgPSBlcnJvci5uYW1lO1xuXG4gIGN1c3RvbVByb3BzICYmIE9iamVjdC5hc3NpZ24oYXhpb3NFcnJvciwgY3VzdG9tUHJvcHMpO1xuXG4gIHJldHVybiBheGlvc0Vycm9yO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQXhpb3NFcnJvcjtcbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHV0aWxzIGZyb20gJy4uL3V0aWxzLmpzJztcbmltcG9ydCBBeGlvc0Vycm9yIGZyb20gJy4uL2NvcmUvQXhpb3NFcnJvci5qcyc7XG4vLyB0ZW1wb3JhcnkgaG90Zml4IHRvIGF2b2lkIGNpcmN1bGFyIHJlZmVyZW5jZXMgdW50aWwgQXhpb3NVUkxTZWFyY2hQYXJhbXMgaXMgcmVmYWN0b3JlZFxuaW1wb3J0IFBsYXRmb3JtRm9ybURhdGEgZnJvbSAnLi4vcGxhdGZvcm0vbm9kZS9jbGFzc2VzL0Zvcm1EYXRhLmpzJztcblxuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIHRoZSBnaXZlbiB0aGluZyBpcyBhIGFycmF5IG9yIGpzIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdGhpbmcgLSBUaGUgb2JqZWN0IG9yIGFycmF5IHRvIGJlIHZpc2l0ZWQuXG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGlzVmlzaXRhYmxlKHRoaW5nKSB7XG4gIHJldHVybiB1dGlscy5pc1BsYWluT2JqZWN0KHRoaW5nKSB8fCB1dGlscy5pc0FycmF5KHRoaW5nKTtcbn1cblxuLyoqXG4gKiBJdCByZW1vdmVzIHRoZSBicmFja2V0cyBmcm9tIHRoZSBlbmQgb2YgYSBzdHJpbmdcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gVGhlIGtleSBvZiB0aGUgcGFyYW1ldGVyLlxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IHRoZSBrZXkgd2l0aG91dCB0aGUgYnJhY2tldHMuXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUJyYWNrZXRzKGtleSkge1xuICByZXR1cm4gdXRpbHMuZW5kc1dpdGgoa2V5LCAnW10nKSA/IGtleS5zbGljZSgwLCAtMikgOiBrZXk7XG59XG5cbi8qKlxuICogSXQgdGFrZXMgYSBwYXRoLCBhIGtleSwgYW5kIGEgYm9vbGVhbiwgYW5kIHJldHVybnMgYSBzdHJpbmdcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAtIFRoZSBwYXRoIHRvIHRoZSBjdXJyZW50IGtleS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSBUaGUga2V5IG9mIHRoZSBjdXJyZW50IG9iamVjdCBiZWluZyBpdGVyYXRlZCBvdmVyLlxuICogQHBhcmFtIHtzdHJpbmd9IGRvdHMgLSBJZiB0cnVlLCB0aGUga2V5IHdpbGwgYmUgcmVuZGVyZWQgd2l0aCBkb3RzIGluc3RlYWQgb2YgYnJhY2tldHMuXG4gKlxuICogQHJldHVybnMge3N0cmluZ30gVGhlIHBhdGggdG8gdGhlIGN1cnJlbnQga2V5LlxuICovXG5mdW5jdGlvbiByZW5kZXJLZXkocGF0aCwga2V5LCBkb3RzKSB7XG4gIGlmICghcGF0aCkgcmV0dXJuIGtleTtcbiAgcmV0dXJuIHBhdGguY29uY2F0KGtleSkubWFwKGZ1bmN0aW9uIGVhY2godG9rZW4sIGkpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICB0b2tlbiA9IHJlbW92ZUJyYWNrZXRzKHRva2VuKTtcbiAgICByZXR1cm4gIWRvdHMgJiYgaSA/ICdbJyArIHRva2VuICsgJ10nIDogdG9rZW47XG4gIH0pLmpvaW4oZG90cyA/ICcuJyA6ICcnKTtcbn1cblxuLyoqXG4gKiBJZiB0aGUgYXJyYXkgaXMgYW4gYXJyYXkgYW5kIG5vbmUgb2YgaXRzIGVsZW1lbnRzIGFyZSB2aXNpdGFibGUsIHRoZW4gaXQncyBhIGZsYXQgYXJyYXkuXG4gKlxuICogQHBhcmFtIHtBcnJheTxhbnk+fSBhcnIgLSBUaGUgYXJyYXkgdG8gY2hlY2tcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNGbGF0QXJyYXkoYXJyKSB7XG4gIHJldHVybiB1dGlscy5pc0FycmF5KGFycikgJiYgIWFyci5zb21lKGlzVmlzaXRhYmxlKTtcbn1cblxuY29uc3QgcHJlZGljYXRlcyA9IHV0aWxzLnRvRmxhdE9iamVjdCh1dGlscywge30sIG51bGwsIGZ1bmN0aW9uIGZpbHRlcihwcm9wKSB7XG4gIHJldHVybiAvXmlzW0EtWl0vLnRlc3QocHJvcCk7XG59KTtcblxuLyoqXG4gKiBDb252ZXJ0IGEgZGF0YSBvYmplY3QgdG8gRm9ybURhdGFcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKiBAcGFyYW0gez9PYmplY3R9IFtmb3JtRGF0YV1cbiAqIEBwYXJhbSB7P09iamVjdH0gW29wdGlvbnNdXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbb3B0aW9ucy52aXNpdG9yXVxuICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5tZXRhVG9rZW5zID0gdHJ1ZV1cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuZG90cyA9IGZhbHNlXVxuICogQHBhcmFtIHs/Qm9vbGVhbn0gW29wdGlvbnMuaW5kZXhlcyA9IGZhbHNlXVxuICpcbiAqIEByZXR1cm5zIHtPYmplY3R9XG4gKiovXG5cbi8qKlxuICogSXQgY29udmVydHMgYW4gb2JqZWN0IGludG8gYSBGb3JtRGF0YSBvYmplY3RcbiAqXG4gKiBAcGFyYW0ge09iamVjdDxhbnksIGFueT59IG9iaiAtIFRoZSBvYmplY3QgdG8gY29udmVydCB0byBmb3JtIGRhdGEuXG4gKiBAcGFyYW0ge3N0cmluZ30gZm9ybURhdGEgLSBUaGUgRm9ybURhdGEgb2JqZWN0IHRvIGFwcGVuZCB0by5cbiAqIEBwYXJhbSB7T2JqZWN0PHN0cmluZywgYW55Pn0gb3B0aW9uc1xuICpcbiAqIEByZXR1cm5zXG4gKi9cbmZ1bmN0aW9uIHRvRm9ybURhdGEob2JqLCBmb3JtRGF0YSwgb3B0aW9ucykge1xuICBpZiAoIXV0aWxzLmlzT2JqZWN0KG9iaikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCd0YXJnZXQgbXVzdCBiZSBhbiBvYmplY3QnKTtcbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICBmb3JtRGF0YSA9IGZvcm1EYXRhIHx8IG5ldyAoUGxhdGZvcm1Gb3JtRGF0YSB8fCBGb3JtRGF0YSkoKTtcblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgb3B0aW9ucyA9IHV0aWxzLnRvRmxhdE9iamVjdChvcHRpb25zLCB7XG4gICAgbWV0YVRva2VuczogdHJ1ZSxcbiAgICBkb3RzOiBmYWxzZSxcbiAgICBpbmRleGVzOiBmYWxzZVxuICB9LCBmYWxzZSwgZnVuY3Rpb24gZGVmaW5lZChvcHRpb24sIHNvdXJjZSkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1lcS1udWxsLGVxZXFlcVxuICAgIHJldHVybiAhdXRpbHMuaXNVbmRlZmluZWQoc291cmNlW29wdGlvbl0pO1xuICB9KTtcblxuICBjb25zdCBtZXRhVG9rZW5zID0gb3B0aW9ucy5tZXRhVG9rZW5zO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgY29uc3QgdmlzaXRvciA9IG9wdGlvbnMudmlzaXRvciB8fCBkZWZhdWx0VmlzaXRvcjtcbiAgY29uc3QgZG90cyA9IG9wdGlvbnMuZG90cztcbiAgY29uc3QgaW5kZXhlcyA9IG9wdGlvbnMuaW5kZXhlcztcbiAgY29uc3QgX0Jsb2IgPSBvcHRpb25zLkJsb2IgfHwgdHlwZW9mIEJsb2IgIT09ICd1bmRlZmluZWQnICYmIEJsb2I7XG4gIGNvbnN0IHVzZUJsb2IgPSBfQmxvYiAmJiB1dGlscy5pc1NwZWNDb21wbGlhbnRGb3JtKGZvcm1EYXRhKTtcblxuICBpZiAoIXV0aWxzLmlzRnVuY3Rpb24odmlzaXRvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCd2aXNpdG9yIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICB9XG5cbiAgZnVuY3Rpb24gY29udmVydFZhbHVlKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09PSBudWxsKSByZXR1cm4gJyc7XG5cbiAgICBpZiAodXRpbHMuaXNEYXRlKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHZhbHVlLnRvSVNPU3RyaW5nKCk7XG4gICAgfVxuXG4gICAgaWYgKCF1c2VCbG9iICYmIHV0aWxzLmlzQmxvYih2YWx1ZSkpIHtcbiAgICAgIHRocm93IG5ldyBBeGlvc0Vycm9yKCdCbG9iIGlzIG5vdCBzdXBwb3J0ZWQuIFVzZSBhIEJ1ZmZlciBpbnN0ZWFkLicpO1xuICAgIH1cblxuICAgIGlmICh1dGlscy5pc0FycmF5QnVmZmVyKHZhbHVlKSB8fCB1dGlscy5pc1R5cGVkQXJyYXkodmFsdWUpKSB7XG4gICAgICByZXR1cm4gdXNlQmxvYiAmJiB0eXBlb2YgQmxvYiA9PT0gJ2Z1bmN0aW9uJyA/IG5ldyBCbG9iKFt2YWx1ZV0pIDogQnVmZmVyLmZyb20odmFsdWUpO1xuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWZhdWx0IHZpc2l0b3IuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAgICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfSBrZXlcbiAgICogQHBhcmFtIHtBcnJheTxTdHJpbmd8TnVtYmVyPn0gcGF0aFxuICAgKiBAdGhpcyB7Rm9ybURhdGF9XG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufSByZXR1cm4gdHJ1ZSB0byB2aXNpdCB0aGUgZWFjaCBwcm9wIG9mIHRoZSB2YWx1ZSByZWN1cnNpdmVseVxuICAgKi9cbiAgZnVuY3Rpb24gZGVmYXVsdFZpc2l0b3IodmFsdWUsIGtleSwgcGF0aCkge1xuICAgIGxldCBhcnIgPSB2YWx1ZTtcblxuICAgIGlmICh2YWx1ZSAmJiAhcGF0aCAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgICBpZiAodXRpbHMuZW5kc1dpdGgoa2V5LCAne30nKSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgICAga2V5ID0gbWV0YVRva2VucyA/IGtleSA6IGtleS5zbGljZSgwLCAtMik7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICB2YWx1ZSA9IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICh1dGlscy5pc0FycmF5KHZhbHVlKSAmJiBpc0ZsYXRBcnJheSh2YWx1ZSkpIHx8XG4gICAgICAgICgodXRpbHMuaXNGaWxlTGlzdCh2YWx1ZSkgfHwgdXRpbHMuZW5kc1dpdGgoa2V5LCAnW10nKSkgJiYgKGFyciA9IHV0aWxzLnRvQXJyYXkodmFsdWUpKVxuICAgICAgICApKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICBrZXkgPSByZW1vdmVCcmFja2V0cyhrZXkpO1xuXG4gICAgICAgIGFyci5mb3JFYWNoKGZ1bmN0aW9uIGVhY2goZWwsIGluZGV4KSB7XG4gICAgICAgICAgISh1dGlscy5pc1VuZGVmaW5lZChlbCkgfHwgZWwgPT09IG51bGwpICYmIGZvcm1EYXRhLmFwcGVuZChcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1uZXN0ZWQtdGVybmFyeVxuICAgICAgICAgICAgaW5kZXhlcyA9PT0gdHJ1ZSA/IHJlbmRlcktleShba2V5XSwgaW5kZXgsIGRvdHMpIDogKGluZGV4ZXMgPT09IG51bGwgPyBrZXkgOiBrZXkgKyAnW10nKSxcbiAgICAgICAgICAgIGNvbnZlcnRWYWx1ZShlbClcbiAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChpc1Zpc2l0YWJsZSh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGZvcm1EYXRhLmFwcGVuZChyZW5kZXJLZXkocGF0aCwga2V5LCBkb3RzKSwgY29udmVydFZhbHVlKHZhbHVlKSk7XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBjb25zdCBzdGFjayA9IFtdO1xuXG4gIGNvbnN0IGV4cG9zZWRIZWxwZXJzID0gT2JqZWN0LmFzc2lnbihwcmVkaWNhdGVzLCB7XG4gICAgZGVmYXVsdFZpc2l0b3IsXG4gICAgY29udmVydFZhbHVlLFxuICAgIGlzVmlzaXRhYmxlXG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGJ1aWxkKHZhbHVlLCBwYXRoKSB7XG4gICAgaWYgKHV0aWxzLmlzVW5kZWZpbmVkKHZhbHVlKSkgcmV0dXJuO1xuXG4gICAgaWYgKHN0YWNrLmluZGV4T2YodmFsdWUpICE9PSAtMSkge1xuICAgICAgdGhyb3cgRXJyb3IoJ0NpcmN1bGFyIHJlZmVyZW5jZSBkZXRlY3RlZCBpbiAnICsgcGF0aC5qb2luKCcuJykpO1xuICAgIH1cblxuICAgIHN0YWNrLnB1c2godmFsdWUpO1xuXG4gICAgdXRpbHMuZm9yRWFjaCh2YWx1ZSwgZnVuY3Rpb24gZWFjaChlbCwga2V5KSB7XG4gICAgICBjb25zdCByZXN1bHQgPSAhKHV0aWxzLmlzVW5kZWZpbmVkKGVsKSB8fCBlbCA9PT0gbnVsbCkgJiYgdmlzaXRvci5jYWxsKFxuICAgICAgICBmb3JtRGF0YSwgZWwsIHV0aWxzLmlzU3RyaW5nKGtleSkgPyBrZXkudHJpbSgpIDoga2V5LCBwYXRoLCBleHBvc2VkSGVscGVyc1xuICAgICAgKTtcblxuICAgICAgaWYgKHJlc3VsdCA9PT0gdHJ1ZSkge1xuICAgICAgICBidWlsZChlbCwgcGF0aCA/IHBhdGguY29uY2F0KGtleSkgOiBba2V5XSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBzdGFjay5wb3AoKTtcbiAgfVxuXG4gIGlmICghdXRpbHMuaXNPYmplY3Qob2JqKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2RhdGEgbXVzdCBiZSBhbiBvYmplY3QnKTtcbiAgfVxuXG4gIGJ1aWxkKG9iaik7XG5cbiAgcmV0dXJuIGZvcm1EYXRhO1xufVxuXG5leHBvcnQgZGVmYXVsdCB0b0Zvcm1EYXRhO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdG9Gb3JtRGF0YSBmcm9tICcuL3RvRm9ybURhdGEuanMnO1xuXG4vKipcbiAqIEl0IGVuY29kZXMgYSBzdHJpbmcgYnkgcmVwbGFjaW5nIGFsbCBjaGFyYWN0ZXJzIHRoYXQgYXJlIG5vdCBpbiB0aGUgdW5yZXNlcnZlZCBzZXQgd2l0aFxuICogdGhlaXIgcGVyY2VudC1lbmNvZGVkIGVxdWl2YWxlbnRzXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHN0ciAtIFRoZSBzdHJpbmcgdG8gZW5jb2RlLlxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBlbmNvZGVkIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gZW5jb2RlKHN0cikge1xuICBjb25zdCBjaGFyTWFwID0ge1xuICAgICchJzogJyUyMScsXG4gICAgXCInXCI6ICclMjcnLFxuICAgICcoJzogJyUyOCcsXG4gICAgJyknOiAnJTI5JyxcbiAgICAnfic6ICclN0UnLFxuICAgICclMjAnOiAnKycsXG4gICAgJyUwMCc6ICdcXHgwMCdcbiAgfTtcbiAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChzdHIpLnJlcGxhY2UoL1shJygpfl18JTIwfCUwMC9nLCBmdW5jdGlvbiByZXBsYWNlcihtYXRjaCkge1xuICAgIHJldHVybiBjaGFyTWFwW21hdGNoXTtcbiAgfSk7XG59XG5cbi8qKlxuICogSXQgdGFrZXMgYSBwYXJhbXMgb2JqZWN0IGFuZCBjb252ZXJ0cyBpdCB0byBhIEZvcm1EYXRhIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0PHN0cmluZywgYW55Pn0gcGFyYW1zIC0gVGhlIHBhcmFtZXRlcnMgdG8gYmUgY29udmVydGVkIHRvIGEgRm9ybURhdGEgb2JqZWN0LlxuICogQHBhcmFtIHtPYmplY3Q8c3RyaW5nLCBhbnk+fSBvcHRpb25zIC0gVGhlIG9wdGlvbnMgb2JqZWN0IHBhc3NlZCB0byB0aGUgQXhpb3MgY29uc3RydWN0b3IuXG4gKlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIEF4aW9zVVJMU2VhcmNoUGFyYW1zKHBhcmFtcywgb3B0aW9ucykge1xuICB0aGlzLl9wYWlycyA9IFtdO1xuXG4gIHBhcmFtcyAmJiB0b0Zvcm1EYXRhKHBhcmFtcywgdGhpcywgb3B0aW9ucyk7XG59XG5cbmNvbnN0IHByb3RvdHlwZSA9IEF4aW9zVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZTtcblxucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uIGFwcGVuZChuYW1lLCB2YWx1ZSkge1xuICB0aGlzLl9wYWlycy5wdXNoKFtuYW1lLCB2YWx1ZV0pO1xufTtcblxucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoZW5jb2Rlcikge1xuICBjb25zdCBfZW5jb2RlID0gZW5jb2RlciA/IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIGVuY29kZXIuY2FsbCh0aGlzLCB2YWx1ZSwgZW5jb2RlKTtcbiAgfSA6IGVuY29kZTtcblxuICByZXR1cm4gdGhpcy5fcGFpcnMubWFwKGZ1bmN0aW9uIGVhY2gocGFpcikge1xuICAgIHJldHVybiBfZW5jb2RlKHBhaXJbMF0pICsgJz0nICsgX2VuY29kZShwYWlyWzFdKTtcbiAgfSwgJycpLmpvaW4oJyYnKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEF4aW9zVVJMU2VhcmNoUGFyYW1zO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi4vdXRpbHMuanMnO1xuaW1wb3J0IEF4aW9zVVJMU2VhcmNoUGFyYW1zIGZyb20gJy4uL2hlbHBlcnMvQXhpb3NVUkxTZWFyY2hQYXJhbXMuanMnO1xuXG4vKipcbiAqIEl0IHJlcGxhY2VzIGFsbCBpbnN0YW5jZXMgb2YgdGhlIGNoYXJhY3RlcnMgYDpgLCBgJGAsIGAsYCwgYCtgLCBgW2AsIGFuZCBgXWAgd2l0aCB0aGVpclxuICogVVJJIGVuY29kZWQgY291bnRlcnBhcnRzXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHZhbCBUaGUgdmFsdWUgdG8gYmUgZW5jb2RlZC5cbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgZW5jb2RlZCB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gZW5jb2RlKHZhbCkge1xuICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHZhbCkuXG4gICAgcmVwbGFjZSgvJTNBL2dpLCAnOicpLlxuICAgIHJlcGxhY2UoLyUyNC9nLCAnJCcpLlxuICAgIHJlcGxhY2UoLyUyQy9naSwgJywnKS5cbiAgICByZXBsYWNlKC8lMjAvZywgJysnKS5cbiAgICByZXBsYWNlKC8lNUIvZ2ksICdbJykuXG4gICAgcmVwbGFjZSgvJTVEL2dpLCAnXScpO1xufVxuXG4vKipcbiAqIEJ1aWxkIGEgVVJMIGJ5IGFwcGVuZGluZyBwYXJhbXMgdG8gdGhlIGVuZFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIGJhc2Ugb2YgdGhlIHVybCAoZS5nLiwgaHR0cDovL3d3dy5nb29nbGUuY29tKVxuICogQHBhcmFtIHtvYmplY3R9IFtwYXJhbXNdIFRoZSBwYXJhbXMgdG8gYmUgYXBwZW5kZWRcbiAqIEBwYXJhbSB7P29iamVjdH0gb3B0aW9uc1xuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBmb3JtYXR0ZWQgdXJsXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGJ1aWxkVVJMKHVybCwgcGFyYW1zLCBvcHRpb25zKSB7XG4gIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICBpZiAoIXBhcmFtcykge1xuICAgIHJldHVybiB1cmw7XG4gIH1cbiAgXG4gIGNvbnN0IF9lbmNvZGUgPSBvcHRpb25zICYmIG9wdGlvbnMuZW5jb2RlIHx8IGVuY29kZTtcblxuICBjb25zdCBzZXJpYWxpemVGbiA9IG9wdGlvbnMgJiYgb3B0aW9ucy5zZXJpYWxpemU7XG5cbiAgbGV0IHNlcmlhbGl6ZWRQYXJhbXM7XG5cbiAgaWYgKHNlcmlhbGl6ZUZuKSB7XG4gICAgc2VyaWFsaXplZFBhcmFtcyA9IHNlcmlhbGl6ZUZuKHBhcmFtcywgb3B0aW9ucyk7XG4gIH0gZWxzZSB7XG4gICAgc2VyaWFsaXplZFBhcmFtcyA9IHV0aWxzLmlzVVJMU2VhcmNoUGFyYW1zKHBhcmFtcykgP1xuICAgICAgcGFyYW1zLnRvU3RyaW5nKCkgOlxuICAgICAgbmV3IEF4aW9zVVJMU2VhcmNoUGFyYW1zKHBhcmFtcywgb3B0aW9ucykudG9TdHJpbmcoX2VuY29kZSk7XG4gIH1cblxuICBpZiAoc2VyaWFsaXplZFBhcmFtcykge1xuICAgIGNvbnN0IGhhc2htYXJrSW5kZXggPSB1cmwuaW5kZXhPZihcIiNcIik7XG5cbiAgICBpZiAoaGFzaG1hcmtJbmRleCAhPT0gLTEpIHtcbiAgICAgIHVybCA9IHVybC5zbGljZSgwLCBoYXNobWFya0luZGV4KTtcbiAgICB9XG4gICAgdXJsICs9ICh1cmwuaW5kZXhPZignPycpID09PSAtMSA/ICc/JyA6ICcmJykgKyBzZXJpYWxpemVkUGFyYW1zO1xuICB9XG5cbiAgcmV0dXJuIHVybDtcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHV0aWxzIGZyb20gJy4vLi4vdXRpbHMuanMnO1xuXG5jbGFzcyBJbnRlcmNlcHRvck1hbmFnZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmhhbmRsZXJzID0gW107XG4gIH1cblxuICAvKipcbiAgICogQWRkIGEgbmV3IGludGVyY2VwdG9yIHRvIHRoZSBzdGFja1xuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdWxmaWxsZWQgVGhlIGZ1bmN0aW9uIHRvIGhhbmRsZSBgdGhlbmAgZm9yIGEgYFByb21pc2VgXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHJlamVjdGVkIFRoZSBmdW5jdGlvbiB0byBoYW5kbGUgYHJlamVjdGAgZm9yIGEgYFByb21pc2VgXG4gICAqXG4gICAqIEByZXR1cm4ge051bWJlcn0gQW4gSUQgdXNlZCB0byByZW1vdmUgaW50ZXJjZXB0b3IgbGF0ZXJcbiAgICovXG4gIHVzZShmdWxmaWxsZWQsIHJlamVjdGVkLCBvcHRpb25zKSB7XG4gICAgdGhpcy5oYW5kbGVycy5wdXNoKHtcbiAgICAgIGZ1bGZpbGxlZCxcbiAgICAgIHJlamVjdGVkLFxuICAgICAgc3luY2hyb25vdXM6IG9wdGlvbnMgPyBvcHRpb25zLnN5bmNocm9ub3VzIDogZmFsc2UsXG4gICAgICBydW5XaGVuOiBvcHRpb25zID8gb3B0aW9ucy5ydW5XaGVuIDogbnVsbFxuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLmhhbmRsZXJzLmxlbmd0aCAtIDE7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGFuIGludGVyY2VwdG9yIGZyb20gdGhlIHN0YWNrXG4gICAqXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBpZCBUaGUgSUQgdGhhdCB3YXMgcmV0dXJuZWQgYnkgYHVzZWBcbiAgICpcbiAgICogQHJldHVybnMge0Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgaW50ZXJjZXB0b3Igd2FzIHJlbW92ZWQsIGBmYWxzZWAgb3RoZXJ3aXNlXG4gICAqL1xuICBlamVjdChpZCkge1xuICAgIGlmICh0aGlzLmhhbmRsZXJzW2lkXSkge1xuICAgICAgdGhpcy5oYW5kbGVyc1tpZF0gPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhciBhbGwgaW50ZXJjZXB0b3JzIGZyb20gdGhlIHN0YWNrXG4gICAqXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cbiAgY2xlYXIoKSB7XG4gICAgaWYgKHRoaXMuaGFuZGxlcnMpIHtcbiAgICAgIHRoaXMuaGFuZGxlcnMgPSBbXTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSXRlcmF0ZSBvdmVyIGFsbCB0aGUgcmVnaXN0ZXJlZCBpbnRlcmNlcHRvcnNcbiAgICpcbiAgICogVGhpcyBtZXRob2QgaXMgcGFydGljdWxhcmx5IHVzZWZ1bCBmb3Igc2tpcHBpbmcgb3ZlciBhbnlcbiAgICogaW50ZXJjZXB0b3JzIHRoYXQgbWF5IGhhdmUgYmVjb21lIGBudWxsYCBjYWxsaW5nIGBlamVjdGAuXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBmdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIGludGVyY2VwdG9yXG4gICAqXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cbiAgZm9yRWFjaChmbikge1xuICAgIHV0aWxzLmZvckVhY2godGhpcy5oYW5kbGVycywgZnVuY3Rpb24gZm9yRWFjaEhhbmRsZXIoaCkge1xuICAgICAgaWYgKGggIT09IG51bGwpIHtcbiAgICAgICAgZm4oaCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgSW50ZXJjZXB0b3JNYW5hZ2VyO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIHNpbGVudEpTT05QYXJzaW5nOiB0cnVlLFxuICBmb3JjZWRKU09OUGFyc2luZzogdHJ1ZSxcbiAgY2xhcmlmeVRpbWVvdXRFcnJvcjogZmFsc2Vcbn07XG4iLCJpbXBvcnQgVVJMU2VhcmNoUGFyYW1zIGZyb20gJy4vY2xhc3Nlcy9VUkxTZWFyY2hQYXJhbXMuanMnXG5pbXBvcnQgRm9ybURhdGEgZnJvbSAnLi9jbGFzc2VzL0Zvcm1EYXRhLmpzJ1xuaW1wb3J0IEJsb2IgZnJvbSAnLi9jbGFzc2VzL0Jsb2IuanMnXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgaXNCcm93c2VyOiB0cnVlLFxuICBjbGFzc2VzOiB7XG4gICAgVVJMU2VhcmNoUGFyYW1zLFxuICAgIEZvcm1EYXRhLFxuICAgIEJsb2JcbiAgfSxcbiAgcHJvdG9jb2xzOiBbJ2h0dHAnLCAnaHR0cHMnLCAnZmlsZScsICdibG9iJywgJ3VybCcsICdkYXRhJ11cbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBBeGlvc1VSTFNlYXJjaFBhcmFtcyBmcm9tICcuLi8uLi8uLi9oZWxwZXJzL0F4aW9zVVJMU2VhcmNoUGFyYW1zLmpzJztcbmV4cG9ydCBkZWZhdWx0IHR5cGVvZiBVUkxTZWFyY2hQYXJhbXMgIT09ICd1bmRlZmluZWQnID8gVVJMU2VhcmNoUGFyYW1zIDogQXhpb3NVUkxTZWFyY2hQYXJhbXM7XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydCBkZWZhdWx0IHR5cGVvZiBGb3JtRGF0YSAhPT0gJ3VuZGVmaW5lZCcgPyBGb3JtRGF0YSA6IG51bGw7XG4iLCIndXNlIHN0cmljdCdcblxuZXhwb3J0IGRlZmF1bHQgdHlwZW9mIEJsb2IgIT09ICd1bmRlZmluZWQnID8gQmxvYiA6IG51bGxcbiIsImNvbnN0IGhhc0Jyb3dzZXJFbnYgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnO1xuXG4vKipcbiAqIERldGVybWluZSBpZiB3ZSdyZSBydW5uaW5nIGluIGEgc3RhbmRhcmQgYnJvd3NlciBlbnZpcm9ubWVudFxuICpcbiAqIFRoaXMgYWxsb3dzIGF4aW9zIHRvIHJ1biBpbiBhIHdlYiB3b3JrZXIsIGFuZCByZWFjdC1uYXRpdmUuXG4gKiBCb3RoIGVudmlyb25tZW50cyBzdXBwb3J0IFhNTEh0dHBSZXF1ZXN0LCBidXQgbm90IGZ1bGx5IHN0YW5kYXJkIGdsb2JhbHMuXG4gKlxuICogd2ViIHdvcmtlcnM6XG4gKiAgdHlwZW9mIHdpbmRvdyAtPiB1bmRlZmluZWRcbiAqICB0eXBlb2YgZG9jdW1lbnQgLT4gdW5kZWZpbmVkXG4gKlxuICogcmVhY3QtbmF0aXZlOlxuICogIG5hdmlnYXRvci5wcm9kdWN0IC0+ICdSZWFjdE5hdGl2ZSdcbiAqIG5hdGl2ZXNjcmlwdFxuICogIG5hdmlnYXRvci5wcm9kdWN0IC0+ICdOYXRpdmVTY3JpcHQnIG9yICdOUydcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuY29uc3QgaGFzU3RhbmRhcmRCcm93c2VyRW52ID0gKFxuICAocHJvZHVjdCkgPT4ge1xuICAgIHJldHVybiBoYXNCcm93c2VyRW52ICYmIFsnUmVhY3ROYXRpdmUnLCAnTmF0aXZlU2NyaXB0JywgJ05TJ10uaW5kZXhPZihwcm9kdWN0KSA8IDBcbiAgfSkodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnByb2R1Y3QpO1xuXG4vKipcbiAqIERldGVybWluZSBpZiB3ZSdyZSBydW5uaW5nIGluIGEgc3RhbmRhcmQgYnJvd3NlciB3ZWJXb3JrZXIgZW52aXJvbm1lbnRcbiAqXG4gKiBBbHRob3VnaCB0aGUgYGlzU3RhbmRhcmRCcm93c2VyRW52YCBtZXRob2QgaW5kaWNhdGVzIHRoYXRcbiAqIGBhbGxvd3MgYXhpb3MgdG8gcnVuIGluIGEgd2ViIHdvcmtlcmAsIHRoZSBXZWJXb3JrZXIgd2lsbCBzdGlsbCBiZVxuICogZmlsdGVyZWQgb3V0IGR1ZSB0byBpdHMganVkZ21lbnQgc3RhbmRhcmRcbiAqIGB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnYC5cbiAqIFRoaXMgbGVhZHMgdG8gYSBwcm9ibGVtIHdoZW4gYXhpb3MgcG9zdCBgRm9ybURhdGFgIGluIHdlYldvcmtlclxuICovXG5jb25zdCBoYXNTdGFuZGFyZEJyb3dzZXJXZWJXb3JrZXJFbnYgPSAoKCkgPT4ge1xuICByZXR1cm4gKFxuICAgIHR5cGVvZiBXb3JrZXJHbG9iYWxTY29wZSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICBzZWxmIGluc3RhbmNlb2YgV29ya2VyR2xvYmFsU2NvcGUgJiZcbiAgICB0eXBlb2Ygc2VsZi5pbXBvcnRTY3JpcHRzID09PSAnZnVuY3Rpb24nXG4gICk7XG59KSgpO1xuXG5jb25zdCBvcmlnaW4gPSBoYXNCcm93c2VyRW52ICYmIHdpbmRvdy5sb2NhdGlvbi5ocmVmIHx8ICdodHRwOi8vbG9jYWxob3N0JztcblxuZXhwb3J0IHtcbiAgaGFzQnJvd3NlckVudixcbiAgaGFzU3RhbmRhcmRCcm93c2VyV2ViV29ya2VyRW52LFxuICBoYXNTdGFuZGFyZEJyb3dzZXJFbnYsXG4gIG9yaWdpblxufVxuIiwiaW1wb3J0IHBsYXRmb3JtIGZyb20gJy4vbm9kZS9pbmRleC5qcyc7XG5pbXBvcnQgKiBhcyB1dGlscyBmcm9tICcuL2NvbW1vbi91dGlscy5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgLi4udXRpbHMsXG4gIC4uLnBsYXRmb3JtXG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy5qcyc7XG5cbi8qKlxuICogSXQgdGFrZXMgYSBzdHJpbmcgbGlrZSBgZm9vW3hdW3ldW3pdYCBhbmQgcmV0dXJucyBhbiBhcnJheSBsaWtlIGBbJ2ZvbycsICd4JywgJ3knLCAneiddXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICpcbiAqIEByZXR1cm5zIEFuIGFycmF5IG9mIHN0cmluZ3MuXG4gKi9cbmZ1bmN0aW9uIHBhcnNlUHJvcFBhdGgobmFtZSkge1xuICAvLyBmb29beF1beV1bel1cbiAgLy8gZm9vLngueS56XG4gIC8vIGZvby14LXktelxuICAvLyBmb28geCB5IHpcbiAgcmV0dXJuIHV0aWxzLm1hdGNoQWxsKC9cXHcrfFxcWyhcXHcqKV0vZywgbmFtZSkubWFwKG1hdGNoID0+IHtcbiAgICByZXR1cm4gbWF0Y2hbMF0gPT09ICdbXScgPyAnJyA6IG1hdGNoWzFdIHx8IG1hdGNoWzBdO1xuICB9KTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0IGFuIGFycmF5IHRvIGFuIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PGFueT59IGFyciAtIFRoZSBhcnJheSB0byBjb252ZXJ0IHRvIGFuIG9iamVjdC5cbiAqXG4gKiBAcmV0dXJucyBBbiBvYmplY3Qgd2l0aCB0aGUgc2FtZSBrZXlzIGFuZCB2YWx1ZXMgYXMgdGhlIGFycmF5LlxuICovXG5mdW5jdGlvbiBhcnJheVRvT2JqZWN0KGFycikge1xuICBjb25zdCBvYmogPSB7fTtcbiAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGFycik7XG4gIGxldCBpO1xuICBjb25zdCBsZW4gPSBrZXlzLmxlbmd0aDtcbiAgbGV0IGtleTtcbiAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAga2V5ID0ga2V5c1tpXTtcbiAgICBvYmpba2V5XSA9IGFycltrZXldO1xuICB9XG4gIHJldHVybiBvYmo7XG59XG5cbi8qKlxuICogSXQgdGFrZXMgYSBGb3JtRGF0YSBvYmplY3QgYW5kIHJldHVybnMgYSBKYXZhU2NyaXB0IG9iamVjdFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBmb3JtRGF0YSBUaGUgRm9ybURhdGEgb2JqZWN0IHRvIGNvbnZlcnQgdG8gSlNPTi5cbiAqXG4gKiBAcmV0dXJucyB7T2JqZWN0PHN0cmluZywgYW55PiB8IG51bGx9IFRoZSBjb252ZXJ0ZWQgb2JqZWN0LlxuICovXG5mdW5jdGlvbiBmb3JtRGF0YVRvSlNPTihmb3JtRGF0YSkge1xuICBmdW5jdGlvbiBidWlsZFBhdGgocGF0aCwgdmFsdWUsIHRhcmdldCwgaW5kZXgpIHtcbiAgICBsZXQgbmFtZSA9IHBhdGhbaW5kZXgrK107XG5cbiAgICBpZiAobmFtZSA9PT0gJ19fcHJvdG9fXycpIHJldHVybiB0cnVlO1xuXG4gICAgY29uc3QgaXNOdW1lcmljS2V5ID0gTnVtYmVyLmlzRmluaXRlKCtuYW1lKTtcbiAgICBjb25zdCBpc0xhc3QgPSBpbmRleCA+PSBwYXRoLmxlbmd0aDtcbiAgICBuYW1lID0gIW5hbWUgJiYgdXRpbHMuaXNBcnJheSh0YXJnZXQpID8gdGFyZ2V0Lmxlbmd0aCA6IG5hbWU7XG5cbiAgICBpZiAoaXNMYXN0KSB7XG4gICAgICBpZiAodXRpbHMuaGFzT3duUHJvcCh0YXJnZXQsIG5hbWUpKSB7XG4gICAgICAgIHRhcmdldFtuYW1lXSA9IFt0YXJnZXRbbmFtZV0sIHZhbHVlXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRhcmdldFtuYW1lXSA9IHZhbHVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gIWlzTnVtZXJpY0tleTtcbiAgICB9XG5cbiAgICBpZiAoIXRhcmdldFtuYW1lXSB8fCAhdXRpbHMuaXNPYmplY3QodGFyZ2V0W25hbWVdKSkge1xuICAgICAgdGFyZ2V0W25hbWVdID0gW107XG4gICAgfVxuXG4gICAgY29uc3QgcmVzdWx0ID0gYnVpbGRQYXRoKHBhdGgsIHZhbHVlLCB0YXJnZXRbbmFtZV0sIGluZGV4KTtcblxuICAgIGlmIChyZXN1bHQgJiYgdXRpbHMuaXNBcnJheSh0YXJnZXRbbmFtZV0pKSB7XG4gICAgICB0YXJnZXRbbmFtZV0gPSBhcnJheVRvT2JqZWN0KHRhcmdldFtuYW1lXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuICFpc051bWVyaWNLZXk7XG4gIH1cblxuICBpZiAodXRpbHMuaXNGb3JtRGF0YShmb3JtRGF0YSkgJiYgdXRpbHMuaXNGdW5jdGlvbihmb3JtRGF0YS5lbnRyaWVzKSkge1xuICAgIGNvbnN0IG9iaiA9IHt9O1xuXG4gICAgdXRpbHMuZm9yRWFjaEVudHJ5KGZvcm1EYXRhLCAobmFtZSwgdmFsdWUpID0+IHtcbiAgICAgIGJ1aWxkUGF0aChwYXJzZVByb3BQYXRoKG5hbWUpLCB2YWx1ZSwgb2JqLCAwKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZm9ybURhdGFUb0pTT047XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy5qcyc7XG5pbXBvcnQgQXhpb3NFcnJvciBmcm9tICcuLi9jb3JlL0F4aW9zRXJyb3IuanMnO1xuaW1wb3J0IHRyYW5zaXRpb25hbERlZmF1bHRzIGZyb20gJy4vdHJhbnNpdGlvbmFsLmpzJztcbmltcG9ydCB0b0Zvcm1EYXRhIGZyb20gJy4uL2hlbHBlcnMvdG9Gb3JtRGF0YS5qcyc7XG5pbXBvcnQgdG9VUkxFbmNvZGVkRm9ybSBmcm9tICcuLi9oZWxwZXJzL3RvVVJMRW5jb2RlZEZvcm0uanMnO1xuaW1wb3J0IHBsYXRmb3JtIGZyb20gJy4uL3BsYXRmb3JtL2luZGV4LmpzJztcbmltcG9ydCBmb3JtRGF0YVRvSlNPTiBmcm9tICcuLi9oZWxwZXJzL2Zvcm1EYXRhVG9KU09OLmpzJztcblxuLyoqXG4gKiBJdCB0YWtlcyBhIHN0cmluZywgdHJpZXMgdG8gcGFyc2UgaXQsIGFuZCBpZiBpdCBmYWlscywgaXQgcmV0dXJucyB0aGUgc3RyaW5naWZpZWQgdmVyc2lvblxuICogb2YgdGhlIGlucHV0XG4gKlxuICogQHBhcmFtIHthbnl9IHJhd1ZhbHVlIC0gVGhlIHZhbHVlIHRvIGJlIHN0cmluZ2lmaWVkLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcGFyc2VyIC0gQSBmdW5jdGlvbiB0aGF0IHBhcnNlcyBhIHN0cmluZyBpbnRvIGEgSmF2YVNjcmlwdCBvYmplY3QuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlbmNvZGVyIC0gQSBmdW5jdGlvbiB0aGF0IHRha2VzIGEgdmFsdWUgYW5kIHJldHVybnMgYSBzdHJpbmcuXG4gKlxuICogQHJldHVybnMge3N0cmluZ30gQSBzdHJpbmdpZmllZCB2ZXJzaW9uIG9mIHRoZSByYXdWYWx1ZS5cbiAqL1xuZnVuY3Rpb24gc3RyaW5naWZ5U2FmZWx5KHJhd1ZhbHVlLCBwYXJzZXIsIGVuY29kZXIpIHtcbiAgaWYgKHV0aWxzLmlzU3RyaW5nKHJhd1ZhbHVlKSkge1xuICAgIHRyeSB7XG4gICAgICAocGFyc2VyIHx8IEpTT04ucGFyc2UpKHJhd1ZhbHVlKTtcbiAgICAgIHJldHVybiB1dGlscy50cmltKHJhd1ZhbHVlKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBpZiAoZS5uYW1lICE9PSAnU3ludGF4RXJyb3InKSB7XG4gICAgICAgIHRocm93IGU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIChlbmNvZGVyIHx8IEpTT04uc3RyaW5naWZ5KShyYXdWYWx1ZSk7XG59XG5cbmNvbnN0IGRlZmF1bHRzID0ge1xuXG4gIHRyYW5zaXRpb25hbDogdHJhbnNpdGlvbmFsRGVmYXVsdHMsXG5cbiAgYWRhcHRlcjogWyd4aHInLCAnaHR0cCcsICdmZXRjaCddLFxuXG4gIHRyYW5zZm9ybVJlcXVlc3Q6IFtmdW5jdGlvbiB0cmFuc2Zvcm1SZXF1ZXN0KGRhdGEsIGhlYWRlcnMpIHtcbiAgICBjb25zdCBjb250ZW50VHlwZSA9IGhlYWRlcnMuZ2V0Q29udGVudFR5cGUoKSB8fCAnJztcbiAgICBjb25zdCBoYXNKU09OQ29udGVudFR5cGUgPSBjb250ZW50VHlwZS5pbmRleE9mKCdhcHBsaWNhdGlvbi9qc29uJykgPiAtMTtcbiAgICBjb25zdCBpc09iamVjdFBheWxvYWQgPSB1dGlscy5pc09iamVjdChkYXRhKTtcblxuICAgIGlmIChpc09iamVjdFBheWxvYWQgJiYgdXRpbHMuaXNIVE1MRm9ybShkYXRhKSkge1xuICAgICAgZGF0YSA9IG5ldyBGb3JtRGF0YShkYXRhKTtcbiAgICB9XG5cbiAgICBjb25zdCBpc0Zvcm1EYXRhID0gdXRpbHMuaXNGb3JtRGF0YShkYXRhKTtcblxuICAgIGlmIChpc0Zvcm1EYXRhKSB7XG4gICAgICByZXR1cm4gaGFzSlNPTkNvbnRlbnRUeXBlID8gSlNPTi5zdHJpbmdpZnkoZm9ybURhdGFUb0pTT04oZGF0YSkpIDogZGF0YTtcbiAgICB9XG5cbiAgICBpZiAodXRpbHMuaXNBcnJheUJ1ZmZlcihkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNCdWZmZXIoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzU3RyZWFtKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc0ZpbGUoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzQmxvYihkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNSZWFkYWJsZVN0cmVhbShkYXRhKVxuICAgICkge1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuICAgIGlmICh1dGlscy5pc0FycmF5QnVmZmVyVmlldyhkYXRhKSkge1xuICAgICAgcmV0dXJuIGRhdGEuYnVmZmVyO1xuICAgIH1cbiAgICBpZiAodXRpbHMuaXNVUkxTZWFyY2hQYXJhbXMoZGF0YSkpIHtcbiAgICAgIGhlYWRlcnMuc2V0Q29udGVudFR5cGUoJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PXV0Zi04JywgZmFsc2UpO1xuICAgICAgcmV0dXJuIGRhdGEudG9TdHJpbmcoKTtcbiAgICB9XG5cbiAgICBsZXQgaXNGaWxlTGlzdDtcblxuICAgIGlmIChpc09iamVjdFBheWxvYWQpIHtcbiAgICAgIGlmIChjb250ZW50VHlwZS5pbmRleE9mKCdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnKSA+IC0xKSB7XG4gICAgICAgIHJldHVybiB0b1VSTEVuY29kZWRGb3JtKGRhdGEsIHRoaXMuZm9ybVNlcmlhbGl6ZXIpLnRvU3RyaW5nKCk7XG4gICAgICB9XG5cbiAgICAgIGlmICgoaXNGaWxlTGlzdCA9IHV0aWxzLmlzRmlsZUxpc3QoZGF0YSkpIHx8IGNvbnRlbnRUeXBlLmluZGV4T2YoJ211bHRpcGFydC9mb3JtLWRhdGEnKSA+IC0xKSB7XG4gICAgICAgIGNvbnN0IF9Gb3JtRGF0YSA9IHRoaXMuZW52ICYmIHRoaXMuZW52LkZvcm1EYXRhO1xuXG4gICAgICAgIHJldHVybiB0b0Zvcm1EYXRhKFxuICAgICAgICAgIGlzRmlsZUxpc3QgPyB7J2ZpbGVzW10nOiBkYXRhfSA6IGRhdGEsXG4gICAgICAgICAgX0Zvcm1EYXRhICYmIG5ldyBfRm9ybURhdGEoKSxcbiAgICAgICAgICB0aGlzLmZvcm1TZXJpYWxpemVyXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGlzT2JqZWN0UGF5bG9hZCB8fCBoYXNKU09OQ29udGVudFR5cGUgKSB7XG4gICAgICBoZWFkZXJzLnNldENvbnRlbnRUeXBlKCdhcHBsaWNhdGlvbi9qc29uJywgZmFsc2UpO1xuICAgICAgcmV0dXJuIHN0cmluZ2lmeVNhZmVseShkYXRhKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGF0YTtcbiAgfV0sXG5cbiAgdHJhbnNmb3JtUmVzcG9uc2U6IFtmdW5jdGlvbiB0cmFuc2Zvcm1SZXNwb25zZShkYXRhKSB7XG4gICAgY29uc3QgdHJhbnNpdGlvbmFsID0gdGhpcy50cmFuc2l0aW9uYWwgfHwgZGVmYXVsdHMudHJhbnNpdGlvbmFsO1xuICAgIGNvbnN0IGZvcmNlZEpTT05QYXJzaW5nID0gdHJhbnNpdGlvbmFsICYmIHRyYW5zaXRpb25hbC5mb3JjZWRKU09OUGFyc2luZztcbiAgICBjb25zdCBKU09OUmVxdWVzdGVkID0gdGhpcy5yZXNwb25zZVR5cGUgPT09ICdqc29uJztcblxuICAgIGlmICh1dGlscy5pc1Jlc3BvbnNlKGRhdGEpIHx8IHV0aWxzLmlzUmVhZGFibGVTdHJlYW0oZGF0YSkpIHtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cblxuICAgIGlmIChkYXRhICYmIHV0aWxzLmlzU3RyaW5nKGRhdGEpICYmICgoZm9yY2VkSlNPTlBhcnNpbmcgJiYgIXRoaXMucmVzcG9uc2VUeXBlKSB8fCBKU09OUmVxdWVzdGVkKSkge1xuICAgICAgY29uc3Qgc2lsZW50SlNPTlBhcnNpbmcgPSB0cmFuc2l0aW9uYWwgJiYgdHJhbnNpdGlvbmFsLnNpbGVudEpTT05QYXJzaW5nO1xuICAgICAgY29uc3Qgc3RyaWN0SlNPTlBhcnNpbmcgPSAhc2lsZW50SlNPTlBhcnNpbmcgJiYgSlNPTlJlcXVlc3RlZDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoZGF0YSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGlmIChzdHJpY3RKU09OUGFyc2luZykge1xuICAgICAgICAgIGlmIChlLm5hbWUgPT09ICdTeW50YXhFcnJvcicpIHtcbiAgICAgICAgICAgIHRocm93IEF4aW9zRXJyb3IuZnJvbShlLCBBeGlvc0Vycm9yLkVSUl9CQURfUkVTUE9OU0UsIHRoaXMsIG51bGwsIHRoaXMucmVzcG9uc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGRhdGE7XG4gIH1dLFxuXG4gIC8qKlxuICAgKiBBIHRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzIHRvIGFib3J0IGEgcmVxdWVzdC4gSWYgc2V0IHRvIDAgKGRlZmF1bHQpIGFcbiAgICogdGltZW91dCBpcyBub3QgY3JlYXRlZC5cbiAgICovXG4gIHRpbWVvdXQ6IDAsXG5cbiAgeHNyZkNvb2tpZU5hbWU6ICdYU1JGLVRPS0VOJyxcbiAgeHNyZkhlYWRlck5hbWU6ICdYLVhTUkYtVE9LRU4nLFxuXG4gIG1heENvbnRlbnRMZW5ndGg6IC0xLFxuICBtYXhCb2R5TGVuZ3RoOiAtMSxcblxuICBlbnY6IHtcbiAgICBGb3JtRGF0YTogcGxhdGZvcm0uY2xhc3Nlcy5Gb3JtRGF0YSxcbiAgICBCbG9iOiBwbGF0Zm9ybS5jbGFzc2VzLkJsb2JcbiAgfSxcblxuICB2YWxpZGF0ZVN0YXR1czogZnVuY3Rpb24gdmFsaWRhdGVTdGF0dXMoc3RhdHVzKSB7XG4gICAgcmV0dXJuIHN0YXR1cyA+PSAyMDAgJiYgc3RhdHVzIDwgMzAwO1xuICB9LFxuXG4gIGhlYWRlcnM6IHtcbiAgICBjb21tb246IHtcbiAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpbiwgKi8qJyxcbiAgICAgICdDb250ZW50LVR5cGUnOiB1bmRlZmluZWRcbiAgICB9XG4gIH1cbn07XG5cbnV0aWxzLmZvckVhY2goWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnLCAncG9zdCcsICdwdXQnLCAncGF0Y2gnXSwgKG1ldGhvZCkgPT4ge1xuICBkZWZhdWx0cy5oZWFkZXJzW21ldGhvZF0gPSB7fTtcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBkZWZhdWx0cztcbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHV0aWxzIGZyb20gJy4uL3V0aWxzLmpzJztcbmltcG9ydCB0b0Zvcm1EYXRhIGZyb20gJy4vdG9Gb3JtRGF0YS5qcyc7XG5pbXBvcnQgcGxhdGZvcm0gZnJvbSAnLi4vcGxhdGZvcm0vaW5kZXguanMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0b1VSTEVuY29kZWRGb3JtKGRhdGEsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIHRvRm9ybURhdGEoZGF0YSwgbmV3IHBsYXRmb3JtLmNsYXNzZXMuVVJMU2VhcmNoUGFyYW1zKCksIE9iamVjdC5hc3NpZ24oe1xuICAgIHZpc2l0b3I6IGZ1bmN0aW9uKHZhbHVlLCBrZXksIHBhdGgsIGhlbHBlcnMpIHtcbiAgICAgIGlmIChwbGF0Zm9ybS5pc05vZGUgJiYgdXRpbHMuaXNCdWZmZXIodmFsdWUpKSB7XG4gICAgICAgIHRoaXMuYXBwZW5kKGtleSwgdmFsdWUudG9TdHJpbmcoJ2Jhc2U2NCcpKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaGVscGVycy5kZWZhdWx0VmlzaXRvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgfSwgb3B0aW9ucykpO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi8uLi91dGlscy5qcyc7XG5cbi8vIFJhd0F4aW9zSGVhZGVycyB3aG9zZSBkdXBsaWNhdGVzIGFyZSBpZ25vcmVkIGJ5IG5vZGVcbi8vIGMuZi4gaHR0cHM6Ly9ub2RlanMub3JnL2FwaS9odHRwLmh0bWwjaHR0cF9tZXNzYWdlX2hlYWRlcnNcbmNvbnN0IGlnbm9yZUR1cGxpY2F0ZU9mID0gdXRpbHMudG9PYmplY3RTZXQoW1xuICAnYWdlJywgJ2F1dGhvcml6YXRpb24nLCAnY29udGVudC1sZW5ndGgnLCAnY29udGVudC10eXBlJywgJ2V0YWcnLFxuICAnZXhwaXJlcycsICdmcm9tJywgJ2hvc3QnLCAnaWYtbW9kaWZpZWQtc2luY2UnLCAnaWYtdW5tb2RpZmllZC1zaW5jZScsXG4gICdsYXN0LW1vZGlmaWVkJywgJ2xvY2F0aW9uJywgJ21heC1mb3J3YXJkcycsICdwcm94eS1hdXRob3JpemF0aW9uJyxcbiAgJ3JlZmVyZXInLCAncmV0cnktYWZ0ZXInLCAndXNlci1hZ2VudCdcbl0pO1xuXG4vKipcbiAqIFBhcnNlIGhlYWRlcnMgaW50byBhbiBvYmplY3RcbiAqXG4gKiBgYGBcbiAqIERhdGU6IFdlZCwgMjcgQXVnIDIwMTQgMDg6NTg6NDkgR01UXG4gKiBDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2pzb25cbiAqIENvbm5lY3Rpb246IGtlZXAtYWxpdmVcbiAqIFRyYW5zZmVyLUVuY29kaW5nOiBjaHVua2VkXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gcmF3SGVhZGVycyBIZWFkZXJzIG5lZWRpbmcgdG8gYmUgcGFyc2VkXG4gKlxuICogQHJldHVybnMge09iamVjdH0gSGVhZGVycyBwYXJzZWQgaW50byBhbiBvYmplY3RcbiAqL1xuZXhwb3J0IGRlZmF1bHQgcmF3SGVhZGVycyA9PiB7XG4gIGNvbnN0IHBhcnNlZCA9IHt9O1xuICBsZXQga2V5O1xuICBsZXQgdmFsO1xuICBsZXQgaTtcblxuICByYXdIZWFkZXJzICYmIHJhd0hlYWRlcnMuc3BsaXQoJ1xcbicpLmZvckVhY2goZnVuY3Rpb24gcGFyc2VyKGxpbmUpIHtcbiAgICBpID0gbGluZS5pbmRleE9mKCc6Jyk7XG4gICAga2V5ID0gbGluZS5zdWJzdHJpbmcoMCwgaSkudHJpbSgpLnRvTG93ZXJDYXNlKCk7XG4gICAgdmFsID0gbGluZS5zdWJzdHJpbmcoaSArIDEpLnRyaW0oKTtcblxuICAgIGlmICgha2V5IHx8IChwYXJzZWRba2V5XSAmJiBpZ25vcmVEdXBsaWNhdGVPZltrZXldKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChrZXkgPT09ICdzZXQtY29va2llJykge1xuICAgICAgaWYgKHBhcnNlZFtrZXldKSB7XG4gICAgICAgIHBhcnNlZFtrZXldLnB1c2godmFsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhcnNlZFtrZXldID0gW3ZhbF07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhcnNlZFtrZXldID0gcGFyc2VkW2tleV0gPyBwYXJzZWRba2V5XSArICcsICcgKyB2YWwgOiB2YWw7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gcGFyc2VkO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHV0aWxzIGZyb20gJy4uL3V0aWxzLmpzJztcbmltcG9ydCBwYXJzZUhlYWRlcnMgZnJvbSAnLi4vaGVscGVycy9wYXJzZUhlYWRlcnMuanMnO1xuXG5jb25zdCAkaW50ZXJuYWxzID0gU3ltYm9sKCdpbnRlcm5hbHMnKTtcblxuZnVuY3Rpb24gbm9ybWFsaXplSGVhZGVyKGhlYWRlcikge1xuICByZXR1cm4gaGVhZGVyICYmIFN0cmluZyhoZWFkZXIpLnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemVWYWx1ZSh2YWx1ZSkge1xuICBpZiAodmFsdWUgPT09IGZhbHNlIHx8IHZhbHVlID09IG51bGwpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cblxuICByZXR1cm4gdXRpbHMuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZS5tYXAobm9ybWFsaXplVmFsdWUpIDogU3RyaW5nKHZhbHVlKTtcbn1cblxuZnVuY3Rpb24gcGFyc2VUb2tlbnMoc3RyKSB7XG4gIGNvbnN0IHRva2VucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIGNvbnN0IHRva2Vuc1JFID0gLyhbXlxccyw7PV0rKVxccyooPzo9XFxzKihbXiw7XSspKT8vZztcbiAgbGV0IG1hdGNoO1xuXG4gIHdoaWxlICgobWF0Y2ggPSB0b2tlbnNSRS5leGVjKHN0cikpKSB7XG4gICAgdG9rZW5zW21hdGNoWzFdXSA9IG1hdGNoWzJdO1xuICB9XG5cbiAgcmV0dXJuIHRva2Vucztcbn1cblxuY29uc3QgaXNWYWxpZEhlYWRlck5hbWUgPSAoc3RyKSA9PiAvXlstX2EtekEtWjAtOV5gfH4sISMkJSYnKisuXSskLy50ZXN0KHN0ci50cmltKCkpO1xuXG5mdW5jdGlvbiBtYXRjaEhlYWRlclZhbHVlKGNvbnRleHQsIHZhbHVlLCBoZWFkZXIsIGZpbHRlciwgaXNIZWFkZXJOYW1lRmlsdGVyKSB7XG4gIGlmICh1dGlscy5pc0Z1bmN0aW9uKGZpbHRlcikpIHtcbiAgICByZXR1cm4gZmlsdGVyLmNhbGwodGhpcywgdmFsdWUsIGhlYWRlcik7XG4gIH1cblxuICBpZiAoaXNIZWFkZXJOYW1lRmlsdGVyKSB7XG4gICAgdmFsdWUgPSBoZWFkZXI7XG4gIH1cblxuICBpZiAoIXV0aWxzLmlzU3RyaW5nKHZhbHVlKSkgcmV0dXJuO1xuXG4gIGlmICh1dGlscy5pc1N0cmluZyhmaWx0ZXIpKSB7XG4gICAgcmV0dXJuIHZhbHVlLmluZGV4T2YoZmlsdGVyKSAhPT0gLTE7XG4gIH1cblxuICBpZiAodXRpbHMuaXNSZWdFeHAoZmlsdGVyKSkge1xuICAgIHJldHVybiBmaWx0ZXIudGVzdCh2YWx1ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZm9ybWF0SGVhZGVyKGhlYWRlcikge1xuICByZXR1cm4gaGVhZGVyLnRyaW0oKVxuICAgIC50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoLyhbYS16XFxkXSkoXFx3KikvZywgKHcsIGNoYXIsIHN0cikgPT4ge1xuICAgICAgcmV0dXJuIGNoYXIudG9VcHBlckNhc2UoKSArIHN0cjtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gYnVpbGRBY2Nlc3NvcnMob2JqLCBoZWFkZXIpIHtcbiAgY29uc3QgYWNjZXNzb3JOYW1lID0gdXRpbHMudG9DYW1lbENhc2UoJyAnICsgaGVhZGVyKTtcblxuICBbJ2dldCcsICdzZXQnLCAnaGFzJ10uZm9yRWFjaChtZXRob2ROYW1lID0+IHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBtZXRob2ROYW1lICsgYWNjZXNzb3JOYW1lLCB7XG4gICAgICB2YWx1ZTogZnVuY3Rpb24oYXJnMSwgYXJnMiwgYXJnMykge1xuICAgICAgICByZXR1cm4gdGhpc1ttZXRob2ROYW1lXS5jYWxsKHRoaXMsIGhlYWRlciwgYXJnMSwgYXJnMiwgYXJnMyk7XG4gICAgICB9LFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH0pO1xufVxuXG5jbGFzcyBBeGlvc0hlYWRlcnMge1xuICBjb25zdHJ1Y3RvcihoZWFkZXJzKSB7XG4gICAgaGVhZGVycyAmJiB0aGlzLnNldChoZWFkZXJzKTtcbiAgfVxuXG4gIHNldChoZWFkZXIsIHZhbHVlT3JSZXdyaXRlLCByZXdyaXRlKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG5cbiAgICBmdW5jdGlvbiBzZXRIZWFkZXIoX3ZhbHVlLCBfaGVhZGVyLCBfcmV3cml0ZSkge1xuICAgICAgY29uc3QgbEhlYWRlciA9IG5vcm1hbGl6ZUhlYWRlcihfaGVhZGVyKTtcblxuICAgICAgaWYgKCFsSGVhZGVyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignaGVhZGVyIG5hbWUgbXVzdCBiZSBhIG5vbi1lbXB0eSBzdHJpbmcnKTtcbiAgICAgIH1cblxuICAgICAgY29uc3Qga2V5ID0gdXRpbHMuZmluZEtleShzZWxmLCBsSGVhZGVyKTtcblxuICAgICAgaWYoIWtleSB8fCBzZWxmW2tleV0gPT09IHVuZGVmaW5lZCB8fCBfcmV3cml0ZSA9PT0gdHJ1ZSB8fCAoX3Jld3JpdGUgPT09IHVuZGVmaW5lZCAmJiBzZWxmW2tleV0gIT09IGZhbHNlKSkge1xuICAgICAgICBzZWxmW2tleSB8fCBfaGVhZGVyXSA9IG5vcm1hbGl6ZVZhbHVlKF92YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3Qgc2V0SGVhZGVycyA9IChoZWFkZXJzLCBfcmV3cml0ZSkgPT5cbiAgICAgIHV0aWxzLmZvckVhY2goaGVhZGVycywgKF92YWx1ZSwgX2hlYWRlcikgPT4gc2V0SGVhZGVyKF92YWx1ZSwgX2hlYWRlciwgX3Jld3JpdGUpKTtcblxuICAgIGlmICh1dGlscy5pc1BsYWluT2JqZWN0KGhlYWRlcikgfHwgaGVhZGVyIGluc3RhbmNlb2YgdGhpcy5jb25zdHJ1Y3Rvcikge1xuICAgICAgc2V0SGVhZGVycyhoZWFkZXIsIHZhbHVlT3JSZXdyaXRlKVxuICAgIH0gZWxzZSBpZih1dGlscy5pc1N0cmluZyhoZWFkZXIpICYmIChoZWFkZXIgPSBoZWFkZXIudHJpbSgpKSAmJiAhaXNWYWxpZEhlYWRlck5hbWUoaGVhZGVyKSkge1xuICAgICAgc2V0SGVhZGVycyhwYXJzZUhlYWRlcnMoaGVhZGVyKSwgdmFsdWVPclJld3JpdGUpO1xuICAgIH0gZWxzZSBpZiAodXRpbHMuaXNIZWFkZXJzKGhlYWRlcikpIHtcbiAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIGhlYWRlci5lbnRyaWVzKCkpIHtcbiAgICAgICAgc2V0SGVhZGVyKHZhbHVlLCBrZXksIHJld3JpdGUpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBoZWFkZXIgIT0gbnVsbCAmJiBzZXRIZWFkZXIodmFsdWVPclJld3JpdGUsIGhlYWRlciwgcmV3cml0ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBnZXQoaGVhZGVyLCBwYXJzZXIpIHtcbiAgICBoZWFkZXIgPSBub3JtYWxpemVIZWFkZXIoaGVhZGVyKTtcblxuICAgIGlmIChoZWFkZXIpIHtcbiAgICAgIGNvbnN0IGtleSA9IHV0aWxzLmZpbmRLZXkodGhpcywgaGVhZGVyKTtcblxuICAgICAgaWYgKGtleSkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXNba2V5XTtcblxuICAgICAgICBpZiAoIXBhcnNlcikge1xuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwYXJzZXIgPT09IHRydWUpIHtcbiAgICAgICAgICByZXR1cm4gcGFyc2VUb2tlbnModmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHV0aWxzLmlzRnVuY3Rpb24ocGFyc2VyKSkge1xuICAgICAgICAgIHJldHVybiBwYXJzZXIuY2FsbCh0aGlzLCB2YWx1ZSwga2V5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh1dGlscy5pc1JlZ0V4cChwYXJzZXIpKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcnNlci5leGVjKHZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3BhcnNlciBtdXN0IGJlIGJvb2xlYW58cmVnZXhwfGZ1bmN0aW9uJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaGFzKGhlYWRlciwgbWF0Y2hlcikge1xuICAgIGhlYWRlciA9IG5vcm1hbGl6ZUhlYWRlcihoZWFkZXIpO1xuXG4gICAgaWYgKGhlYWRlcikge1xuICAgICAgY29uc3Qga2V5ID0gdXRpbHMuZmluZEtleSh0aGlzLCBoZWFkZXIpO1xuXG4gICAgICByZXR1cm4gISEoa2V5ICYmIHRoaXNba2V5XSAhPT0gdW5kZWZpbmVkICYmICghbWF0Y2hlciB8fCBtYXRjaEhlYWRlclZhbHVlKHRoaXMsIHRoaXNba2V5XSwga2V5LCBtYXRjaGVyKSkpO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGRlbGV0ZShoZWFkZXIsIG1hdGNoZXIpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBsZXQgZGVsZXRlZCA9IGZhbHNlO1xuXG4gICAgZnVuY3Rpb24gZGVsZXRlSGVhZGVyKF9oZWFkZXIpIHtcbiAgICAgIF9oZWFkZXIgPSBub3JtYWxpemVIZWFkZXIoX2hlYWRlcik7XG5cbiAgICAgIGlmIChfaGVhZGVyKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IHV0aWxzLmZpbmRLZXkoc2VsZiwgX2hlYWRlcik7XG5cbiAgICAgICAgaWYgKGtleSAmJiAoIW1hdGNoZXIgfHwgbWF0Y2hIZWFkZXJWYWx1ZShzZWxmLCBzZWxmW2tleV0sIGtleSwgbWF0Y2hlcikpKSB7XG4gICAgICAgICAgZGVsZXRlIHNlbGZba2V5XTtcblxuICAgICAgICAgIGRlbGV0ZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHV0aWxzLmlzQXJyYXkoaGVhZGVyKSkge1xuICAgICAgaGVhZGVyLmZvckVhY2goZGVsZXRlSGVhZGVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlSGVhZGVyKGhlYWRlcik7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlbGV0ZWQ7XG4gIH1cblxuICBjbGVhcihtYXRjaGVyKSB7XG4gICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHRoaXMpO1xuICAgIGxldCBpID0ga2V5cy5sZW5ndGg7XG4gICAgbGV0IGRlbGV0ZWQgPSBmYWxzZTtcblxuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgIGNvbnN0IGtleSA9IGtleXNbaV07XG4gICAgICBpZighbWF0Y2hlciB8fCBtYXRjaEhlYWRlclZhbHVlKHRoaXMsIHRoaXNba2V5XSwga2V5LCBtYXRjaGVyLCB0cnVlKSkge1xuICAgICAgICBkZWxldGUgdGhpc1trZXldO1xuICAgICAgICBkZWxldGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZGVsZXRlZDtcbiAgfVxuXG4gIG5vcm1hbGl6ZShmb3JtYXQpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBoZWFkZXJzID0ge307XG5cbiAgICB1dGlscy5mb3JFYWNoKHRoaXMsICh2YWx1ZSwgaGVhZGVyKSA9PiB7XG4gICAgICBjb25zdCBrZXkgPSB1dGlscy5maW5kS2V5KGhlYWRlcnMsIGhlYWRlcik7XG5cbiAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgc2VsZltrZXldID0gbm9ybWFsaXplVmFsdWUodmFsdWUpO1xuICAgICAgICBkZWxldGUgc2VsZltoZWFkZXJdO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBmb3JtYXQgPyBmb3JtYXRIZWFkZXIoaGVhZGVyKSA6IFN0cmluZyhoZWFkZXIpLnRyaW0oKTtcblxuICAgICAgaWYgKG5vcm1hbGl6ZWQgIT09IGhlYWRlcikge1xuICAgICAgICBkZWxldGUgc2VsZltoZWFkZXJdO1xuICAgICAgfVxuXG4gICAgICBzZWxmW25vcm1hbGl6ZWRdID0gbm9ybWFsaXplVmFsdWUodmFsdWUpO1xuXG4gICAgICBoZWFkZXJzW25vcm1hbGl6ZWRdID0gdHJ1ZTtcbiAgICB9KTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgY29uY2F0KC4uLnRhcmdldHMpIHtcbiAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci5jb25jYXQodGhpcywgLi4udGFyZ2V0cyk7XG4gIH1cblxuICB0b0pTT04oYXNTdHJpbmdzKSB7XG4gICAgY29uc3Qgb2JqID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuICAgIHV0aWxzLmZvckVhY2godGhpcywgKHZhbHVlLCBoZWFkZXIpID0+IHtcbiAgICAgIHZhbHVlICE9IG51bGwgJiYgdmFsdWUgIT09IGZhbHNlICYmIChvYmpbaGVhZGVyXSA9IGFzU3RyaW5ncyAmJiB1dGlscy5pc0FycmF5KHZhbHVlKSA/IHZhbHVlLmpvaW4oJywgJykgOiB2YWx1ZSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gb2JqO1xuICB9XG5cbiAgW1N5bWJvbC5pdGVyYXRvcl0oKSB7XG4gICAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKHRoaXMudG9KU09OKCkpW1N5bWJvbC5pdGVyYXRvcl0oKTtcbiAgfVxuXG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiBPYmplY3QuZW50cmllcyh0aGlzLnRvSlNPTigpKS5tYXAoKFtoZWFkZXIsIHZhbHVlXSkgPT4gaGVhZGVyICsgJzogJyArIHZhbHVlKS5qb2luKCdcXG4nKTtcbiAgfVxuXG4gIGdldCBbU3ltYm9sLnRvU3RyaW5nVGFnXSgpIHtcbiAgICByZXR1cm4gJ0F4aW9zSGVhZGVycyc7XG4gIH1cblxuICBzdGF0aWMgZnJvbSh0aGluZykge1xuICAgIHJldHVybiB0aGluZyBpbnN0YW5jZW9mIHRoaXMgPyB0aGluZyA6IG5ldyB0aGlzKHRoaW5nKTtcbiAgfVxuXG4gIHN0YXRpYyBjb25jYXQoZmlyc3QsIC4uLnRhcmdldHMpIHtcbiAgICBjb25zdCBjb21wdXRlZCA9IG5ldyB0aGlzKGZpcnN0KTtcblxuICAgIHRhcmdldHMuZm9yRWFjaCgodGFyZ2V0KSA9PiBjb21wdXRlZC5zZXQodGFyZ2V0KSk7XG5cbiAgICByZXR1cm4gY29tcHV0ZWQ7XG4gIH1cblxuICBzdGF0aWMgYWNjZXNzb3IoaGVhZGVyKSB7XG4gICAgY29uc3QgaW50ZXJuYWxzID0gdGhpc1skaW50ZXJuYWxzXSA9ICh0aGlzWyRpbnRlcm5hbHNdID0ge1xuICAgICAgYWNjZXNzb3JzOiB7fVxuICAgIH0pO1xuXG4gICAgY29uc3QgYWNjZXNzb3JzID0gaW50ZXJuYWxzLmFjY2Vzc29ycztcbiAgICBjb25zdCBwcm90b3R5cGUgPSB0aGlzLnByb3RvdHlwZTtcblxuICAgIGZ1bmN0aW9uIGRlZmluZUFjY2Vzc29yKF9oZWFkZXIpIHtcbiAgICAgIGNvbnN0IGxIZWFkZXIgPSBub3JtYWxpemVIZWFkZXIoX2hlYWRlcik7XG5cbiAgICAgIGlmICghYWNjZXNzb3JzW2xIZWFkZXJdKSB7XG4gICAgICAgIGJ1aWxkQWNjZXNzb3JzKHByb3RvdHlwZSwgX2hlYWRlcik7XG4gICAgICAgIGFjY2Vzc29yc1tsSGVhZGVyXSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdXRpbHMuaXNBcnJheShoZWFkZXIpID8gaGVhZGVyLmZvckVhY2goZGVmaW5lQWNjZXNzb3IpIDogZGVmaW5lQWNjZXNzb3IoaGVhZGVyKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG59XG5cbkF4aW9zSGVhZGVycy5hY2Nlc3NvcihbJ0NvbnRlbnQtVHlwZScsICdDb250ZW50LUxlbmd0aCcsICdBY2NlcHQnLCAnQWNjZXB0LUVuY29kaW5nJywgJ1VzZXItQWdlbnQnLCAnQXV0aG9yaXphdGlvbiddKTtcblxuLy8gcmVzZXJ2ZWQgbmFtZXMgaG90Zml4XG51dGlscy5yZWR1Y2VEZXNjcmlwdG9ycyhBeGlvc0hlYWRlcnMucHJvdG90eXBlLCAoe3ZhbHVlfSwga2V5KSA9PiB7XG4gIGxldCBtYXBwZWQgPSBrZXlbMF0udG9VcHBlckNhc2UoKSArIGtleS5zbGljZSgxKTsgLy8gbWFwIGBzZXRgID0+IGBTZXRgXG4gIHJldHVybiB7XG4gICAgZ2V0OiAoKSA9PiB2YWx1ZSxcbiAgICBzZXQoaGVhZGVyVmFsdWUpIHtcbiAgICAgIHRoaXNbbWFwcGVkXSA9IGhlYWRlclZhbHVlO1xuICAgIH1cbiAgfVxufSk7XG5cbnV0aWxzLmZyZWV6ZU1ldGhvZHMoQXhpb3NIZWFkZXJzKTtcblxuZXhwb3J0IGRlZmF1bHQgQXhpb3NIZWFkZXJzO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi8uLi91dGlscy5qcyc7XG5pbXBvcnQgZGVmYXVsdHMgZnJvbSAnLi4vZGVmYXVsdHMvaW5kZXguanMnO1xuaW1wb3J0IEF4aW9zSGVhZGVycyBmcm9tICcuLi9jb3JlL0F4aW9zSGVhZGVycy5qcyc7XG5cbi8qKlxuICogVHJhbnNmb3JtIHRoZSBkYXRhIGZvciBhIHJlcXVlc3Qgb3IgYSByZXNwb25zZVxuICpcbiAqIEBwYXJhbSB7QXJyYXl8RnVuY3Rpb259IGZucyBBIHNpbmdsZSBmdW5jdGlvbiBvciBBcnJheSBvZiBmdW5jdGlvbnNcbiAqIEBwYXJhbSB7P09iamVjdH0gcmVzcG9uc2UgVGhlIHJlc3BvbnNlIG9iamVjdFxuICpcbiAqIEByZXR1cm5zIHsqfSBUaGUgcmVzdWx0aW5nIHRyYW5zZm9ybWVkIGRhdGFcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdHJhbnNmb3JtRGF0YShmbnMsIHJlc3BvbnNlKSB7XG4gIGNvbnN0IGNvbmZpZyA9IHRoaXMgfHwgZGVmYXVsdHM7XG4gIGNvbnN0IGNvbnRleHQgPSByZXNwb25zZSB8fCBjb25maWc7XG4gIGNvbnN0IGhlYWRlcnMgPSBBeGlvc0hlYWRlcnMuZnJvbShjb250ZXh0LmhlYWRlcnMpO1xuICBsZXQgZGF0YSA9IGNvbnRleHQuZGF0YTtcblxuICB1dGlscy5mb3JFYWNoKGZucywgZnVuY3Rpb24gdHJhbnNmb3JtKGZuKSB7XG4gICAgZGF0YSA9IGZuLmNhbGwoY29uZmlnLCBkYXRhLCBoZWFkZXJzLm5vcm1hbGl6ZSgpLCByZXNwb25zZSA/IHJlc3BvbnNlLnN0YXR1cyA6IHVuZGVmaW5lZCk7XG4gIH0pO1xuXG4gIGhlYWRlcnMubm9ybWFsaXplKCk7XG5cbiAgcmV0dXJuIGRhdGE7XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzQ2FuY2VsKHZhbHVlKSB7XG4gIHJldHVybiAhISh2YWx1ZSAmJiB2YWx1ZS5fX0NBTkNFTF9fKTtcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IEF4aW9zRXJyb3IgZnJvbSAnLi4vY29yZS9BeGlvc0Vycm9yLmpzJztcbmltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy5qcyc7XG5cbi8qKlxuICogQSBgQ2FuY2VsZWRFcnJvcmAgaXMgYW4gb2JqZWN0IHRoYXQgaXMgdGhyb3duIHdoZW4gYW4gb3BlcmF0aW9uIGlzIGNhbmNlbGVkLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbWVzc2FnZSBUaGUgbWVzc2FnZS5cbiAqIEBwYXJhbSB7T2JqZWN0PX0gY29uZmlnIFRoZSBjb25maWcuXG4gKiBAcGFyYW0ge09iamVjdD19IHJlcXVlc3QgVGhlIHJlcXVlc3QuXG4gKlxuICogQHJldHVybnMge0NhbmNlbGVkRXJyb3J9IFRoZSBjcmVhdGVkIGVycm9yLlxuICovXG5mdW5jdGlvbiBDYW5jZWxlZEVycm9yKG1lc3NhZ2UsIGNvbmZpZywgcmVxdWVzdCkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZXEtbnVsbCxlcWVxZXFcbiAgQXhpb3NFcnJvci5jYWxsKHRoaXMsIG1lc3NhZ2UgPT0gbnVsbCA/ICdjYW5jZWxlZCcgOiBtZXNzYWdlLCBBeGlvc0Vycm9yLkVSUl9DQU5DRUxFRCwgY29uZmlnLCByZXF1ZXN0KTtcbiAgdGhpcy5uYW1lID0gJ0NhbmNlbGVkRXJyb3InO1xufVxuXG51dGlscy5pbmhlcml0cyhDYW5jZWxlZEVycm9yLCBBeGlvc0Vycm9yLCB7XG4gIF9fQ0FOQ0VMX186IHRydWVcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBDYW5jZWxlZEVycm9yO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgQXhpb3NFcnJvciBmcm9tICcuL0F4aW9zRXJyb3IuanMnO1xuXG4vKipcbiAqIFJlc29sdmUgb3IgcmVqZWN0IGEgUHJvbWlzZSBiYXNlZCBvbiByZXNwb25zZSBzdGF0dXMuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcmVzb2x2ZSBBIGZ1bmN0aW9uIHRoYXQgcmVzb2x2ZXMgdGhlIHByb21pc2UuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSByZWplY3QgQSBmdW5jdGlvbiB0aGF0IHJlamVjdHMgdGhlIHByb21pc2UuXG4gKiBAcGFyYW0ge29iamVjdH0gcmVzcG9uc2UgVGhlIHJlc3BvbnNlLlxuICpcbiAqIEByZXR1cm5zIHtvYmplY3R9IFRoZSByZXNwb25zZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgcmVzcG9uc2UpIHtcbiAgY29uc3QgdmFsaWRhdGVTdGF0dXMgPSByZXNwb25zZS5jb25maWcudmFsaWRhdGVTdGF0dXM7XG4gIGlmICghcmVzcG9uc2Uuc3RhdHVzIHx8ICF2YWxpZGF0ZVN0YXR1cyB8fCB2YWxpZGF0ZVN0YXR1cyhyZXNwb25zZS5zdGF0dXMpKSB7XG4gICAgcmVzb2x2ZShyZXNwb25zZSk7XG4gIH0gZWxzZSB7XG4gICAgcmVqZWN0KG5ldyBBeGlvc0Vycm9yKFxuICAgICAgJ1JlcXVlc3QgZmFpbGVkIHdpdGggc3RhdHVzIGNvZGUgJyArIHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgIFtBeGlvc0Vycm9yLkVSUl9CQURfUkVRVUVTVCwgQXhpb3NFcnJvci5FUlJfQkFEX1JFU1BPTlNFXVtNYXRoLmZsb29yKHJlc3BvbnNlLnN0YXR1cyAvIDEwMCkgLSA0XSxcbiAgICAgIHJlc3BvbnNlLmNvbmZpZyxcbiAgICAgIHJlc3BvbnNlLnJlcXVlc3QsXG4gICAgICByZXNwb25zZVxuICAgICkpO1xuICB9XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQ2FsY3VsYXRlIGRhdGEgbWF4UmF0ZVxuICogQHBhcmFtIHtOdW1iZXJ9IFtzYW1wbGVzQ291bnQ9IDEwXVxuICogQHBhcmFtIHtOdW1iZXJ9IFttaW49IDEwMDBdXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259XG4gKi9cbmZ1bmN0aW9uIHNwZWVkb21ldGVyKHNhbXBsZXNDb3VudCwgbWluKSB7XG4gIHNhbXBsZXNDb3VudCA9IHNhbXBsZXNDb3VudCB8fCAxMDtcbiAgY29uc3QgYnl0ZXMgPSBuZXcgQXJyYXkoc2FtcGxlc0NvdW50KTtcbiAgY29uc3QgdGltZXN0YW1wcyA9IG5ldyBBcnJheShzYW1wbGVzQ291bnQpO1xuICBsZXQgaGVhZCA9IDA7XG4gIGxldCB0YWlsID0gMDtcbiAgbGV0IGZpcnN0U2FtcGxlVFM7XG5cbiAgbWluID0gbWluICE9PSB1bmRlZmluZWQgPyBtaW4gOiAxMDAwO1xuXG4gIHJldHVybiBmdW5jdGlvbiBwdXNoKGNodW5rTGVuZ3RoKSB7XG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcblxuICAgIGNvbnN0IHN0YXJ0ZWRBdCA9IHRpbWVzdGFtcHNbdGFpbF07XG5cbiAgICBpZiAoIWZpcnN0U2FtcGxlVFMpIHtcbiAgICAgIGZpcnN0U2FtcGxlVFMgPSBub3c7XG4gICAgfVxuXG4gICAgYnl0ZXNbaGVhZF0gPSBjaHVua0xlbmd0aDtcbiAgICB0aW1lc3RhbXBzW2hlYWRdID0gbm93O1xuXG4gICAgbGV0IGkgPSB0YWlsO1xuICAgIGxldCBieXRlc0NvdW50ID0gMDtcblxuICAgIHdoaWxlIChpICE9PSBoZWFkKSB7XG4gICAgICBieXRlc0NvdW50ICs9IGJ5dGVzW2krK107XG4gICAgICBpID0gaSAlIHNhbXBsZXNDb3VudDtcbiAgICB9XG5cbiAgICBoZWFkID0gKGhlYWQgKyAxKSAlIHNhbXBsZXNDb3VudDtcblxuICAgIGlmIChoZWFkID09PSB0YWlsKSB7XG4gICAgICB0YWlsID0gKHRhaWwgKyAxKSAlIHNhbXBsZXNDb3VudDtcbiAgICB9XG5cbiAgICBpZiAobm93IC0gZmlyc3RTYW1wbGVUUyA8IG1pbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHBhc3NlZCA9IHN0YXJ0ZWRBdCAmJiBub3cgLSBzdGFydGVkQXQ7XG5cbiAgICByZXR1cm4gcGFzc2VkID8gTWF0aC5yb3VuZChieXRlc0NvdW50ICogMTAwMCAvIHBhc3NlZCkgOiB1bmRlZmluZWQ7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IHNwZWVkb21ldGVyO1xuIiwiaW1wb3J0IHNwZWVkb21ldGVyIGZyb20gXCIuL3NwZWVkb21ldGVyLmpzXCI7XG5pbXBvcnQgdGhyb3R0bGUgZnJvbSBcIi4vdGhyb3R0bGUuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgKGxpc3RlbmVyLCBpc0Rvd25sb2FkU3RyZWFtLCBmcmVxID0gMykgPT4ge1xuICBsZXQgYnl0ZXNOb3RpZmllZCA9IDA7XG4gIGNvbnN0IF9zcGVlZG9tZXRlciA9IHNwZWVkb21ldGVyKDUwLCAyNTApO1xuXG4gIHJldHVybiB0aHJvdHRsZShlID0+IHtcbiAgICBjb25zdCBsb2FkZWQgPSBlLmxvYWRlZDtcbiAgICBjb25zdCB0b3RhbCA9IGUubGVuZ3RoQ29tcHV0YWJsZSA/IGUudG90YWwgOiB1bmRlZmluZWQ7XG4gICAgY29uc3QgcHJvZ3Jlc3NCeXRlcyA9IGxvYWRlZCAtIGJ5dGVzTm90aWZpZWQ7XG4gICAgY29uc3QgcmF0ZSA9IF9zcGVlZG9tZXRlcihwcm9ncmVzc0J5dGVzKTtcbiAgICBjb25zdCBpblJhbmdlID0gbG9hZGVkIDw9IHRvdGFsO1xuXG4gICAgYnl0ZXNOb3RpZmllZCA9IGxvYWRlZDtcblxuICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICBsb2FkZWQsXG4gICAgICB0b3RhbCxcbiAgICAgIHByb2dyZXNzOiB0b3RhbCA/IChsb2FkZWQgLyB0b3RhbCkgOiB1bmRlZmluZWQsXG4gICAgICBieXRlczogcHJvZ3Jlc3NCeXRlcyxcbiAgICAgIHJhdGU6IHJhdGUgPyByYXRlIDogdW5kZWZpbmVkLFxuICAgICAgZXN0aW1hdGVkOiByYXRlICYmIHRvdGFsICYmIGluUmFuZ2UgPyAodG90YWwgLSBsb2FkZWQpIC8gcmF0ZSA6IHVuZGVmaW5lZCxcbiAgICAgIGV2ZW50OiBlLFxuICAgICAgbGVuZ3RoQ29tcHV0YWJsZTogdG90YWwgIT0gbnVsbFxuICAgIH07XG5cbiAgICBkYXRhW2lzRG93bmxvYWRTdHJlYW0gPyAnZG93bmxvYWQnIDogJ3VwbG9hZCddID0gdHJ1ZTtcblxuICAgIGxpc3RlbmVyKGRhdGEpO1xuICB9LCBmcmVxKTtcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBUaHJvdHRsZSBkZWNvcmF0b3JcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKiBAcGFyYW0ge051bWJlcn0gZnJlcVxuICogQHJldHVybiB7RnVuY3Rpb259XG4gKi9cbmZ1bmN0aW9uIHRocm90dGxlKGZuLCBmcmVxKSB7XG4gIGxldCB0aW1lc3RhbXAgPSAwO1xuICBjb25zdCB0aHJlc2hvbGQgPSAxMDAwIC8gZnJlcTtcbiAgbGV0IHRpbWVyID0gbnVsbDtcbiAgcmV0dXJuIGZ1bmN0aW9uIHRocm90dGxlZCgpIHtcbiAgICBjb25zdCBmb3JjZSA9IHRoaXMgPT09IHRydWU7XG5cbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgIGlmIChmb3JjZSB8fCBub3cgLSB0aW1lc3RhbXAgPiB0aHJlc2hvbGQpIHtcbiAgICAgIGlmICh0aW1lcikge1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgICB0aW1lciA9IG51bGw7XG4gICAgICB9XG4gICAgICB0aW1lc3RhbXAgPSBub3c7XG4gICAgICByZXR1cm4gZm4uYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICB9XG4gICAgaWYgKCF0aW1lcikge1xuICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGltZXIgPSBudWxsO1xuICAgICAgICB0aW1lc3RhbXAgPSBEYXRlLm5vdygpO1xuICAgICAgICByZXR1cm4gZm4uYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICAgIH0sIHRocmVzaG9sZCAtIChub3cgLSB0aW1lc3RhbXApKTtcbiAgICB9XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IHRocm90dGxlO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi8uLi91dGlscy5qcyc7XG5pbXBvcnQgcGxhdGZvcm0gZnJvbSAnLi4vcGxhdGZvcm0vaW5kZXguanMnO1xuXG5leHBvcnQgZGVmYXVsdCBwbGF0Zm9ybS5oYXNTdGFuZGFyZEJyb3dzZXJFbnYgP1xuXG4vLyBTdGFuZGFyZCBicm93c2VyIGVudnMgaGF2ZSBmdWxsIHN1cHBvcnQgb2YgdGhlIEFQSXMgbmVlZGVkIHRvIHRlc3Rcbi8vIHdoZXRoZXIgdGhlIHJlcXVlc3QgVVJMIGlzIG9mIHRoZSBzYW1lIG9yaWdpbiBhcyBjdXJyZW50IGxvY2F0aW9uLlxuICAoZnVuY3Rpb24gc3RhbmRhcmRCcm93c2VyRW52KCkge1xuICAgIGNvbnN0IG1zaWUgPSAvKG1zaWV8dHJpZGVudCkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuICAgIGNvbnN0IHVybFBhcnNpbmdOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgIGxldCBvcmlnaW5VUkw7XG5cbiAgICAvKipcbiAgICAqIFBhcnNlIGEgVVJMIHRvIGRpc2NvdmVyIGl0cyBjb21wb25lbnRzXG4gICAgKlxuICAgICogQHBhcmFtIHtTdHJpbmd9IHVybCBUaGUgVVJMIHRvIGJlIHBhcnNlZFxuICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAqL1xuICAgIGZ1bmN0aW9uIHJlc29sdmVVUkwodXJsKSB7XG4gICAgICBsZXQgaHJlZiA9IHVybDtcblxuICAgICAgaWYgKG1zaWUpIHtcbiAgICAgICAgLy8gSUUgbmVlZHMgYXR0cmlidXRlIHNldCB0d2ljZSB0byBub3JtYWxpemUgcHJvcGVydGllc1xuICAgICAgICB1cmxQYXJzaW5nTm9kZS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBocmVmKTtcbiAgICAgICAgaHJlZiA9IHVybFBhcnNpbmdOb2RlLmhyZWY7XG4gICAgICB9XG5cbiAgICAgIHVybFBhcnNpbmdOb2RlLnNldEF0dHJpYnV0ZSgnaHJlZicsIGhyZWYpO1xuXG4gICAgICAvLyB1cmxQYXJzaW5nTm9kZSBwcm92aWRlcyB0aGUgVXJsVXRpbHMgaW50ZXJmYWNlIC0gaHR0cDovL3VybC5zcGVjLndoYXR3Zy5vcmcvI3VybHV0aWxzXG4gICAgICByZXR1cm4ge1xuICAgICAgICBocmVmOiB1cmxQYXJzaW5nTm9kZS5ocmVmLFxuICAgICAgICBwcm90b2NvbDogdXJsUGFyc2luZ05vZGUucHJvdG9jb2wgPyB1cmxQYXJzaW5nTm9kZS5wcm90b2NvbC5yZXBsYWNlKC86JC8sICcnKSA6ICcnLFxuICAgICAgICBob3N0OiB1cmxQYXJzaW5nTm9kZS5ob3N0LFxuICAgICAgICBzZWFyY2g6IHVybFBhcnNpbmdOb2RlLnNlYXJjaCA/IHVybFBhcnNpbmdOb2RlLnNlYXJjaC5yZXBsYWNlKC9eXFw/LywgJycpIDogJycsXG4gICAgICAgIGhhc2g6IHVybFBhcnNpbmdOb2RlLmhhc2ggPyB1cmxQYXJzaW5nTm9kZS5oYXNoLnJlcGxhY2UoL14jLywgJycpIDogJycsXG4gICAgICAgIGhvc3RuYW1lOiB1cmxQYXJzaW5nTm9kZS5ob3N0bmFtZSxcbiAgICAgICAgcG9ydDogdXJsUGFyc2luZ05vZGUucG9ydCxcbiAgICAgICAgcGF0aG5hbWU6ICh1cmxQYXJzaW5nTm9kZS5wYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJykgP1xuICAgICAgICAgIHVybFBhcnNpbmdOb2RlLnBhdGhuYW1lIDpcbiAgICAgICAgICAnLycgKyB1cmxQYXJzaW5nTm9kZS5wYXRobmFtZVxuICAgICAgfTtcbiAgICB9XG5cbiAgICBvcmlnaW5VUkwgPSByZXNvbHZlVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcblxuICAgIC8qKlxuICAgICogRGV0ZXJtaW5lIGlmIGEgVVJMIHNoYXJlcyB0aGUgc2FtZSBvcmlnaW4gYXMgdGhlIGN1cnJlbnQgbG9jYXRpb25cbiAgICAqXG4gICAgKiBAcGFyYW0ge1N0cmluZ30gcmVxdWVzdFVSTCBUaGUgVVJMIHRvIHRlc3RcbiAgICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIFVSTCBzaGFyZXMgdGhlIHNhbWUgb3JpZ2luLCBvdGhlcndpc2UgZmFsc2VcbiAgICAqL1xuICAgIHJldHVybiBmdW5jdGlvbiBpc1VSTFNhbWVPcmlnaW4ocmVxdWVzdFVSTCkge1xuICAgICAgY29uc3QgcGFyc2VkID0gKHV0aWxzLmlzU3RyaW5nKHJlcXVlc3RVUkwpKSA/IHJlc29sdmVVUkwocmVxdWVzdFVSTCkgOiByZXF1ZXN0VVJMO1xuICAgICAgcmV0dXJuIChwYXJzZWQucHJvdG9jb2wgPT09IG9yaWdpblVSTC5wcm90b2NvbCAmJlxuICAgICAgICAgIHBhcnNlZC5ob3N0ID09PSBvcmlnaW5VUkwuaG9zdCk7XG4gICAgfTtcbiAgfSkoKSA6XG5cbiAgLy8gTm9uIHN0YW5kYXJkIGJyb3dzZXIgZW52cyAod2ViIHdvcmtlcnMsIHJlYWN0LW5hdGl2ZSkgbGFjayBuZWVkZWQgc3VwcG9ydC5cbiAgKGZ1bmN0aW9uIG5vblN0YW5kYXJkQnJvd3NlckVudigpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gaXNVUkxTYW1lT3JpZ2luKCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgfSkoKTtcbiIsImltcG9ydCB1dGlscyBmcm9tICcuLy4uL3V0aWxzLmpzJztcbmltcG9ydCBwbGF0Zm9ybSBmcm9tICcuLi9wbGF0Zm9ybS9pbmRleC5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IHBsYXRmb3JtLmhhc1N0YW5kYXJkQnJvd3NlckVudiA/XG5cbiAgLy8gU3RhbmRhcmQgYnJvd3NlciBlbnZzIHN1cHBvcnQgZG9jdW1lbnQuY29va2llXG4gIHtcbiAgICB3cml0ZShuYW1lLCB2YWx1ZSwgZXhwaXJlcywgcGF0aCwgZG9tYWluLCBzZWN1cmUpIHtcbiAgICAgIGNvbnN0IGNvb2tpZSA9IFtuYW1lICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKV07XG5cbiAgICAgIHV0aWxzLmlzTnVtYmVyKGV4cGlyZXMpICYmIGNvb2tpZS5wdXNoKCdleHBpcmVzPScgKyBuZXcgRGF0ZShleHBpcmVzKS50b0dNVFN0cmluZygpKTtcblxuICAgICAgdXRpbHMuaXNTdHJpbmcocGF0aCkgJiYgY29va2llLnB1c2goJ3BhdGg9JyArIHBhdGgpO1xuXG4gICAgICB1dGlscy5pc1N0cmluZyhkb21haW4pICYmIGNvb2tpZS5wdXNoKCdkb21haW49JyArIGRvbWFpbik7XG5cbiAgICAgIHNlY3VyZSA9PT0gdHJ1ZSAmJiBjb29raWUucHVzaCgnc2VjdXJlJyk7XG5cbiAgICAgIGRvY3VtZW50LmNvb2tpZSA9IGNvb2tpZS5qb2luKCc7ICcpO1xuICAgIH0sXG5cbiAgICByZWFkKG5hbWUpIHtcbiAgICAgIGNvbnN0IG1hdGNoID0gZG9jdW1lbnQuY29va2llLm1hdGNoKG5ldyBSZWdFeHAoJyhefDtcXFxccyopKCcgKyBuYW1lICsgJyk9KFteO10qKScpKTtcbiAgICAgIHJldHVybiAobWF0Y2ggPyBkZWNvZGVVUklDb21wb25lbnQobWF0Y2hbM10pIDogbnVsbCk7XG4gICAgfSxcblxuICAgIHJlbW92ZShuYW1lKSB7XG4gICAgICB0aGlzLndyaXRlKG5hbWUsICcnLCBEYXRlLm5vdygpIC0gODY0MDAwMDApO1xuICAgIH1cbiAgfVxuXG4gIDpcblxuICAvLyBOb24tc3RhbmRhcmQgYnJvd3NlciBlbnYgKHdlYiB3b3JrZXJzLCByZWFjdC1uYXRpdmUpIGxhY2sgbmVlZGVkIHN1cHBvcnQuXG4gIHtcbiAgICB3cml0ZSgpIHt9LFxuICAgIHJlYWQoKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9LFxuICAgIHJlbW92ZSgpIHt9XG4gIH07XG5cbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IGlzQWJzb2x1dGVVUkwgZnJvbSAnLi4vaGVscGVycy9pc0Fic29sdXRlVVJMLmpzJztcbmltcG9ydCBjb21iaW5lVVJMcyBmcm9tICcuLi9oZWxwZXJzL2NvbWJpbmVVUkxzLmpzJztcblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IFVSTCBieSBjb21iaW5pbmcgdGhlIGJhc2VVUkwgd2l0aCB0aGUgcmVxdWVzdGVkVVJMLFxuICogb25seSB3aGVuIHRoZSByZXF1ZXN0ZWRVUkwgaXMgbm90IGFscmVhZHkgYW4gYWJzb2x1dGUgVVJMLlxuICogSWYgdGhlIHJlcXVlc3RVUkwgaXMgYWJzb2x1dGUsIHRoaXMgZnVuY3Rpb24gcmV0dXJucyB0aGUgcmVxdWVzdGVkVVJMIHVudG91Y2hlZC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gYmFzZVVSTCBUaGUgYmFzZSBVUkxcbiAqIEBwYXJhbSB7c3RyaW5nfSByZXF1ZXN0ZWRVUkwgQWJzb2x1dGUgb3IgcmVsYXRpdmUgVVJMIHRvIGNvbWJpbmVcbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgY29tYmluZWQgZnVsbCBwYXRoXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGJ1aWxkRnVsbFBhdGgoYmFzZVVSTCwgcmVxdWVzdGVkVVJMKSB7XG4gIGlmIChiYXNlVVJMICYmICFpc0Fic29sdXRlVVJMKHJlcXVlc3RlZFVSTCkpIHtcbiAgICByZXR1cm4gY29tYmluZVVSTHMoYmFzZVVSTCwgcmVxdWVzdGVkVVJMKTtcbiAgfVxuICByZXR1cm4gcmVxdWVzdGVkVVJMO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIERldGVybWluZXMgd2hldGhlciB0aGUgc3BlY2lmaWVkIFVSTCBpcyBhYnNvbHV0ZVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIFVSTCB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIHNwZWNpZmllZCBVUkwgaXMgYWJzb2x1dGUsIG90aGVyd2lzZSBmYWxzZVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc0Fic29sdXRlVVJMKHVybCkge1xuICAvLyBBIFVSTCBpcyBjb25zaWRlcmVkIGFic29sdXRlIGlmIGl0IGJlZ2lucyB3aXRoIFwiPHNjaGVtZT46Ly9cIiBvciBcIi8vXCIgKHByb3RvY29sLXJlbGF0aXZlIFVSTCkuXG4gIC8vIFJGQyAzOTg2IGRlZmluZXMgc2NoZW1lIG5hbWUgYXMgYSBzZXF1ZW5jZSBvZiBjaGFyYWN0ZXJzIGJlZ2lubmluZyB3aXRoIGEgbGV0dGVyIGFuZCBmb2xsb3dlZFxuICAvLyBieSBhbnkgY29tYmluYXRpb24gb2YgbGV0dGVycywgZGlnaXRzLCBwbHVzLCBwZXJpb2QsIG9yIGh5cGhlbi5cbiAgcmV0dXJuIC9eKFthLXpdW2EtelxcZCtcXC0uXSo6KT9cXC9cXC8vaS50ZXN0KHVybCk7XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBVUkwgYnkgY29tYmluaW5nIHRoZSBzcGVjaWZpZWQgVVJMc1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlVVJMIFRoZSBiYXNlIFVSTFxuICogQHBhcmFtIHtzdHJpbmd9IHJlbGF0aXZlVVJMIFRoZSByZWxhdGl2ZSBVUkxcbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgY29tYmluZWQgVVJMXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNvbWJpbmVVUkxzKGJhc2VVUkwsIHJlbGF0aXZlVVJMKSB7XG4gIHJldHVybiByZWxhdGl2ZVVSTFxuICAgID8gYmFzZVVSTC5yZXBsYWNlKC9cXC8/XFwvJC8sICcnKSArICcvJyArIHJlbGF0aXZlVVJMLnJlcGxhY2UoL15cXC8rLywgJycpXG4gICAgOiBiYXNlVVJMO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi4vdXRpbHMuanMnO1xuaW1wb3J0IEF4aW9zSGVhZGVycyBmcm9tIFwiLi9BeGlvc0hlYWRlcnMuanNcIjtcblxuY29uc3QgaGVhZGVyc1RvT2JqZWN0ID0gKHRoaW5nKSA9PiB0aGluZyBpbnN0YW5jZW9mIEF4aW9zSGVhZGVycyA/IHsgLi4udGhpbmcgfSA6IHRoaW5nO1xuXG4vKipcbiAqIENvbmZpZy1zcGVjaWZpYyBtZXJnZS1mdW5jdGlvbiB3aGljaCBjcmVhdGVzIGEgbmV3IGNvbmZpZy1vYmplY3RcbiAqIGJ5IG1lcmdpbmcgdHdvIGNvbmZpZ3VyYXRpb24gb2JqZWN0cyB0b2dldGhlci5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnMVxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZzJcbiAqXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBOZXcgb2JqZWN0IHJlc3VsdGluZyBmcm9tIG1lcmdpbmcgY29uZmlnMiB0byBjb25maWcxXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG1lcmdlQ29uZmlnKGNvbmZpZzEsIGNvbmZpZzIpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gIGNvbmZpZzIgPSBjb25maWcyIHx8IHt9O1xuICBjb25zdCBjb25maWcgPSB7fTtcblxuICBmdW5jdGlvbiBnZXRNZXJnZWRWYWx1ZSh0YXJnZXQsIHNvdXJjZSwgY2FzZWxlc3MpIHtcbiAgICBpZiAodXRpbHMuaXNQbGFpbk9iamVjdCh0YXJnZXQpICYmIHV0aWxzLmlzUGxhaW5PYmplY3Qoc291cmNlKSkge1xuICAgICAgcmV0dXJuIHV0aWxzLm1lcmdlLmNhbGwoe2Nhc2VsZXNzfSwgdGFyZ2V0LCBzb3VyY2UpO1xuICAgIH0gZWxzZSBpZiAodXRpbHMuaXNQbGFpbk9iamVjdChzb3VyY2UpKSB7XG4gICAgICByZXR1cm4gdXRpbHMubWVyZ2Uoe30sIHNvdXJjZSk7XG4gICAgfSBlbHNlIGlmICh1dGlscy5pc0FycmF5KHNvdXJjZSkpIHtcbiAgICAgIHJldHVybiBzb3VyY2Uuc2xpY2UoKTtcbiAgICB9XG4gICAgcmV0dXJuIHNvdXJjZTtcbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb25zaXN0ZW50LXJldHVyblxuICBmdW5jdGlvbiBtZXJnZURlZXBQcm9wZXJ0aWVzKGEsIGIsIGNhc2VsZXNzKSB7XG4gICAgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChiKSkge1xuICAgICAgcmV0dXJuIGdldE1lcmdlZFZhbHVlKGEsIGIsIGNhc2VsZXNzKTtcbiAgICB9IGVsc2UgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChhKSkge1xuICAgICAgcmV0dXJuIGdldE1lcmdlZFZhbHVlKHVuZGVmaW5lZCwgYSwgY2FzZWxlc3MpO1xuICAgIH1cbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb25zaXN0ZW50LXJldHVyblxuICBmdW5jdGlvbiB2YWx1ZUZyb21Db25maWcyKGEsIGIpIHtcbiAgICBpZiAoIXV0aWxzLmlzVW5kZWZpbmVkKGIpKSB7XG4gICAgICByZXR1cm4gZ2V0TWVyZ2VkVmFsdWUodW5kZWZpbmVkLCBiKTtcbiAgICB9XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29uc2lzdGVudC1yZXR1cm5cbiAgZnVuY3Rpb24gZGVmYXVsdFRvQ29uZmlnMihhLCBiKSB7XG4gICAgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChiKSkge1xuICAgICAgcmV0dXJuIGdldE1lcmdlZFZhbHVlKHVuZGVmaW5lZCwgYik7XG4gICAgfSBlbHNlIGlmICghdXRpbHMuaXNVbmRlZmluZWQoYSkpIHtcbiAgICAgIHJldHVybiBnZXRNZXJnZWRWYWx1ZSh1bmRlZmluZWQsIGEpO1xuICAgIH1cbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb25zaXN0ZW50LXJldHVyblxuICBmdW5jdGlvbiBtZXJnZURpcmVjdEtleXMoYSwgYiwgcHJvcCkge1xuICAgIGlmIChwcm9wIGluIGNvbmZpZzIpIHtcbiAgICAgIHJldHVybiBnZXRNZXJnZWRWYWx1ZShhLCBiKTtcbiAgICB9IGVsc2UgaWYgKHByb3AgaW4gY29uZmlnMSkge1xuICAgICAgcmV0dXJuIGdldE1lcmdlZFZhbHVlKHVuZGVmaW5lZCwgYSk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgbWVyZ2VNYXAgPSB7XG4gICAgdXJsOiB2YWx1ZUZyb21Db25maWcyLFxuICAgIG1ldGhvZDogdmFsdWVGcm9tQ29uZmlnMixcbiAgICBkYXRhOiB2YWx1ZUZyb21Db25maWcyLFxuICAgIGJhc2VVUkw6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgdHJhbnNmb3JtUmVxdWVzdDogZGVmYXVsdFRvQ29uZmlnMixcbiAgICB0cmFuc2Zvcm1SZXNwb25zZTogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBwYXJhbXNTZXJpYWxpemVyOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHRpbWVvdXQ6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgdGltZW91dE1lc3NhZ2U6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgd2l0aENyZWRlbnRpYWxzOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHdpdGhYU1JGVG9rZW46IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgYWRhcHRlcjogZGVmYXVsdFRvQ29uZmlnMixcbiAgICByZXNwb25zZVR5cGU6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgeHNyZkNvb2tpZU5hbWU6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgeHNyZkhlYWRlck5hbWU6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgb25VcGxvYWRQcm9ncmVzczogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBvbkRvd25sb2FkUHJvZ3Jlc3M6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgZGVjb21wcmVzczogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBtYXhDb250ZW50TGVuZ3RoOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIG1heEJvZHlMZW5ndGg6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgYmVmb3JlUmVkaXJlY3Q6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgdHJhbnNwb3J0OiBkZWZhdWx0VG9Db25maWcyLFxuICAgIGh0dHBBZ2VudDogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBodHRwc0FnZW50OiBkZWZhdWx0VG9Db25maWcyLFxuICAgIGNhbmNlbFRva2VuOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHNvY2tldFBhdGg6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgcmVzcG9uc2VFbmNvZGluZzogZGVmYXVsdFRvQ29uZmlnMixcbiAgICB2YWxpZGF0ZVN0YXR1czogbWVyZ2VEaXJlY3RLZXlzLFxuICAgIGhlYWRlcnM6IChhLCBiKSA9PiBtZXJnZURlZXBQcm9wZXJ0aWVzKGhlYWRlcnNUb09iamVjdChhKSwgaGVhZGVyc1RvT2JqZWN0KGIpLCB0cnVlKVxuICB9O1xuXG4gIHV0aWxzLmZvckVhY2goT2JqZWN0LmtleXMoT2JqZWN0LmFzc2lnbih7fSwgY29uZmlnMSwgY29uZmlnMikpLCBmdW5jdGlvbiBjb21wdXRlQ29uZmlnVmFsdWUocHJvcCkge1xuICAgIGNvbnN0IG1lcmdlID0gbWVyZ2VNYXBbcHJvcF0gfHwgbWVyZ2VEZWVwUHJvcGVydGllcztcbiAgICBjb25zdCBjb25maWdWYWx1ZSA9IG1lcmdlKGNvbmZpZzFbcHJvcF0sIGNvbmZpZzJbcHJvcF0sIHByb3ApO1xuICAgICh1dGlscy5pc1VuZGVmaW5lZChjb25maWdWYWx1ZSkgJiYgbWVyZ2UgIT09IG1lcmdlRGlyZWN0S2V5cykgfHwgKGNvbmZpZ1twcm9wXSA9IGNvbmZpZ1ZhbHVlKTtcbiAgfSk7XG5cbiAgcmV0dXJuIGNvbmZpZztcbn1cbiIsImltcG9ydCBwbGF0Zm9ybSBmcm9tIFwiLi4vcGxhdGZvcm0vaW5kZXguanNcIjtcbmltcG9ydCB1dGlscyBmcm9tIFwiLi4vdXRpbHMuanNcIjtcbmltcG9ydCBpc1VSTFNhbWVPcmlnaW4gZnJvbSBcIi4vaXNVUkxTYW1lT3JpZ2luLmpzXCI7XG5pbXBvcnQgY29va2llcyBmcm9tIFwiLi9jb29raWVzLmpzXCI7XG5pbXBvcnQgYnVpbGRGdWxsUGF0aCBmcm9tIFwiLi4vY29yZS9idWlsZEZ1bGxQYXRoLmpzXCI7XG5pbXBvcnQgbWVyZ2VDb25maWcgZnJvbSBcIi4uL2NvcmUvbWVyZ2VDb25maWcuanNcIjtcbmltcG9ydCBBeGlvc0hlYWRlcnMgZnJvbSBcIi4uL2NvcmUvQXhpb3NIZWFkZXJzLmpzXCI7XG5pbXBvcnQgYnVpbGRVUkwgZnJvbSBcIi4vYnVpbGRVUkwuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgKGNvbmZpZykgPT4ge1xuICBjb25zdCBuZXdDb25maWcgPSBtZXJnZUNvbmZpZyh7fSwgY29uZmlnKTtcblxuICBsZXQge2RhdGEsIHdpdGhYU1JGVG9rZW4sIHhzcmZIZWFkZXJOYW1lLCB4c3JmQ29va2llTmFtZSwgaGVhZGVycywgYXV0aH0gPSBuZXdDb25maWc7XG5cbiAgbmV3Q29uZmlnLmhlYWRlcnMgPSBoZWFkZXJzID0gQXhpb3NIZWFkZXJzLmZyb20oaGVhZGVycyk7XG5cbiAgbmV3Q29uZmlnLnVybCA9IGJ1aWxkVVJMKGJ1aWxkRnVsbFBhdGgobmV3Q29uZmlnLmJhc2VVUkwsIG5ld0NvbmZpZy51cmwpLCBjb25maWcucGFyYW1zLCBjb25maWcucGFyYW1zU2VyaWFsaXplcik7XG5cbiAgLy8gSFRUUCBiYXNpYyBhdXRoZW50aWNhdGlvblxuICBpZiAoYXV0aCkge1xuICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgJ0Jhc2ljICcgK1xuICAgICAgYnRvYSgoYXV0aC51c2VybmFtZSB8fCAnJykgKyAnOicgKyAoYXV0aC5wYXNzd29yZCA/IHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChhdXRoLnBhc3N3b3JkKSkgOiAnJykpXG4gICAgKTtcbiAgfVxuXG4gIGxldCBjb250ZW50VHlwZTtcblxuICBpZiAodXRpbHMuaXNGb3JtRGF0YShkYXRhKSkge1xuICAgIGlmIChwbGF0Zm9ybS5oYXNTdGFuZGFyZEJyb3dzZXJFbnYgfHwgcGxhdGZvcm0uaGFzU3RhbmRhcmRCcm93c2VyV2ViV29ya2VyRW52KSB7XG4gICAgICBoZWFkZXJzLnNldENvbnRlbnRUeXBlKHVuZGVmaW5lZCk7IC8vIExldCB0aGUgYnJvd3NlciBzZXQgaXRcbiAgICB9IGVsc2UgaWYgKChjb250ZW50VHlwZSA9IGhlYWRlcnMuZ2V0Q29udGVudFR5cGUoKSkgIT09IGZhbHNlKSB7XG4gICAgICAvLyBmaXggc2VtaWNvbG9uIGR1cGxpY2F0aW9uIGlzc3VlIGZvciBSZWFjdE5hdGl2ZSBGb3JtRGF0YSBpbXBsZW1lbnRhdGlvblxuICAgICAgY29uc3QgW3R5cGUsIC4uLnRva2Vuc10gPSBjb250ZW50VHlwZSA/IGNvbnRlbnRUeXBlLnNwbGl0KCc7JykubWFwKHRva2VuID0+IHRva2VuLnRyaW0oKSkuZmlsdGVyKEJvb2xlYW4pIDogW107XG4gICAgICBoZWFkZXJzLnNldENvbnRlbnRUeXBlKFt0eXBlIHx8ICdtdWx0aXBhcnQvZm9ybS1kYXRhJywgLi4udG9rZW5zXS5qb2luKCc7ICcpKTtcbiAgICB9XG4gIH1cblxuICAvLyBBZGQgeHNyZiBoZWFkZXJcbiAgLy8gVGhpcyBpcyBvbmx5IGRvbmUgaWYgcnVubmluZyBpbiBhIHN0YW5kYXJkIGJyb3dzZXIgZW52aXJvbm1lbnQuXG4gIC8vIFNwZWNpZmljYWxseSBub3QgaWYgd2UncmUgaW4gYSB3ZWIgd29ya2VyLCBvciByZWFjdC1uYXRpdmUuXG5cbiAgaWYgKHBsYXRmb3JtLmhhc1N0YW5kYXJkQnJvd3NlckVudikge1xuICAgIHdpdGhYU1JGVG9rZW4gJiYgdXRpbHMuaXNGdW5jdGlvbih3aXRoWFNSRlRva2VuKSAmJiAod2l0aFhTUkZUb2tlbiA9IHdpdGhYU1JGVG9rZW4obmV3Q29uZmlnKSk7XG5cbiAgICBpZiAod2l0aFhTUkZUb2tlbiB8fCAod2l0aFhTUkZUb2tlbiAhPT0gZmFsc2UgJiYgaXNVUkxTYW1lT3JpZ2luKG5ld0NvbmZpZy51cmwpKSkge1xuICAgICAgLy8gQWRkIHhzcmYgaGVhZGVyXG4gICAgICBjb25zdCB4c3JmVmFsdWUgPSB4c3JmSGVhZGVyTmFtZSAmJiB4c3JmQ29va2llTmFtZSAmJiBjb29raWVzLnJlYWQoeHNyZkNvb2tpZU5hbWUpO1xuXG4gICAgICBpZiAoeHNyZlZhbHVlKSB7XG4gICAgICAgIGhlYWRlcnMuc2V0KHhzcmZIZWFkZXJOYW1lLCB4c3JmVmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXdDb25maWc7XG59XG5cbiIsImltcG9ydCB1dGlscyBmcm9tICcuLy4uL3V0aWxzLmpzJztcbmltcG9ydCBzZXR0bGUgZnJvbSAnLi8uLi9jb3JlL3NldHRsZS5qcyc7XG5pbXBvcnQgdHJhbnNpdGlvbmFsRGVmYXVsdHMgZnJvbSAnLi4vZGVmYXVsdHMvdHJhbnNpdGlvbmFsLmpzJztcbmltcG9ydCBBeGlvc0Vycm9yIGZyb20gJy4uL2NvcmUvQXhpb3NFcnJvci5qcyc7XG5pbXBvcnQgQ2FuY2VsZWRFcnJvciBmcm9tICcuLi9jYW5jZWwvQ2FuY2VsZWRFcnJvci5qcyc7XG5pbXBvcnQgcGFyc2VQcm90b2NvbCBmcm9tICcuLi9oZWxwZXJzL3BhcnNlUHJvdG9jb2wuanMnO1xuaW1wb3J0IHBsYXRmb3JtIGZyb20gJy4uL3BsYXRmb3JtL2luZGV4LmpzJztcbmltcG9ydCBBeGlvc0hlYWRlcnMgZnJvbSAnLi4vY29yZS9BeGlvc0hlYWRlcnMuanMnO1xuaW1wb3J0IHByb2dyZXNzRXZlbnRSZWR1Y2VyIGZyb20gJy4uL2hlbHBlcnMvcHJvZ3Jlc3NFdmVudFJlZHVjZXIuanMnO1xuaW1wb3J0IHJlc29sdmVDb25maWcgZnJvbSBcIi4uL2hlbHBlcnMvcmVzb2x2ZUNvbmZpZy5qc1wiO1xuXG5jb25zdCBpc1hIUkFkYXB0ZXJTdXBwb3J0ZWQgPSB0eXBlb2YgWE1MSHR0cFJlcXVlc3QgIT09ICd1bmRlZmluZWQnO1xuXG5leHBvcnQgZGVmYXVsdCBpc1hIUkFkYXB0ZXJTdXBwb3J0ZWQgJiYgZnVuY3Rpb24gKGNvbmZpZykge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gZGlzcGF0Y2hYaHJSZXF1ZXN0KHJlc29sdmUsIHJlamVjdCkge1xuICAgIGNvbnN0IF9jb25maWcgPSByZXNvbHZlQ29uZmlnKGNvbmZpZyk7XG4gICAgbGV0IHJlcXVlc3REYXRhID0gX2NvbmZpZy5kYXRhO1xuICAgIGNvbnN0IHJlcXVlc3RIZWFkZXJzID0gQXhpb3NIZWFkZXJzLmZyb20oX2NvbmZpZy5oZWFkZXJzKS5ub3JtYWxpemUoKTtcbiAgICBsZXQge3Jlc3BvbnNlVHlwZX0gPSBfY29uZmlnO1xuICAgIGxldCBvbkNhbmNlbGVkO1xuICAgIGZ1bmN0aW9uIGRvbmUoKSB7XG4gICAgICBpZiAoX2NvbmZpZy5jYW5jZWxUb2tlbikge1xuICAgICAgICBfY29uZmlnLmNhbmNlbFRva2VuLnVuc3Vic2NyaWJlKG9uQ2FuY2VsZWQpO1xuICAgICAgfVxuXG4gICAgICBpZiAoX2NvbmZpZy5zaWduYWwpIHtcbiAgICAgICAgX2NvbmZpZy5zaWduYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBvbkNhbmNlbGVkKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsZXQgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gICAgcmVxdWVzdC5vcGVuKF9jb25maWcubWV0aG9kLnRvVXBwZXJDYXNlKCksIF9jb25maWcudXJsLCB0cnVlKTtcblxuICAgIC8vIFNldCB0aGUgcmVxdWVzdCB0aW1lb3V0IGluIE1TXG4gICAgcmVxdWVzdC50aW1lb3V0ID0gX2NvbmZpZy50aW1lb3V0O1xuXG4gICAgZnVuY3Rpb24gb25sb2FkZW5kKCkge1xuICAgICAgaWYgKCFyZXF1ZXN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIFByZXBhcmUgdGhlIHJlc3BvbnNlXG4gICAgICBjb25zdCByZXNwb25zZUhlYWRlcnMgPSBBeGlvc0hlYWRlcnMuZnJvbShcbiAgICAgICAgJ2dldEFsbFJlc3BvbnNlSGVhZGVycycgaW4gcmVxdWVzdCAmJiByZXF1ZXN0LmdldEFsbFJlc3BvbnNlSGVhZGVycygpXG4gICAgICApO1xuICAgICAgY29uc3QgcmVzcG9uc2VEYXRhID0gIXJlc3BvbnNlVHlwZSB8fCByZXNwb25zZVR5cGUgPT09ICd0ZXh0JyB8fCByZXNwb25zZVR5cGUgPT09ICdqc29uJyA/XG4gICAgICAgIHJlcXVlc3QucmVzcG9uc2VUZXh0IDogcmVxdWVzdC5yZXNwb25zZTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICBkYXRhOiByZXNwb25zZURhdGEsXG4gICAgICAgIHN0YXR1czogcmVxdWVzdC5zdGF0dXMsXG4gICAgICAgIHN0YXR1c1RleHQ6IHJlcXVlc3Quc3RhdHVzVGV4dCxcbiAgICAgICAgaGVhZGVyczogcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgICBjb25maWcsXG4gICAgICAgIHJlcXVlc3RcbiAgICAgIH07XG5cbiAgICAgIHNldHRsZShmdW5jdGlvbiBfcmVzb2x2ZSh2YWx1ZSkge1xuICAgICAgICByZXNvbHZlKHZhbHVlKTtcbiAgICAgICAgZG9uZSgpO1xuICAgICAgfSwgZnVuY3Rpb24gX3JlamVjdChlcnIpIHtcbiAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgIGRvbmUoKTtcbiAgICAgIH0sIHJlc3BvbnNlKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKCdvbmxvYWRlbmQnIGluIHJlcXVlc3QpIHtcbiAgICAgIC8vIFVzZSBvbmxvYWRlbmQgaWYgYXZhaWxhYmxlXG4gICAgICByZXF1ZXN0Lm9ubG9hZGVuZCA9IG9ubG9hZGVuZDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTGlzdGVuIGZvciByZWFkeSBzdGF0ZSB0byBlbXVsYXRlIG9ubG9hZGVuZFxuICAgICAgcmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiBoYW5kbGVMb2FkKCkge1xuICAgICAgICBpZiAoIXJlcXVlc3QgfHwgcmVxdWVzdC5yZWFkeVN0YXRlICE9PSA0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVGhlIHJlcXVlc3QgZXJyb3JlZCBvdXQgYW5kIHdlIGRpZG4ndCBnZXQgYSByZXNwb25zZSwgdGhpcyB3aWxsIGJlXG4gICAgICAgIC8vIGhhbmRsZWQgYnkgb25lcnJvciBpbnN0ZWFkXG4gICAgICAgIC8vIFdpdGggb25lIGV4Y2VwdGlvbjogcmVxdWVzdCB0aGF0IHVzaW5nIGZpbGU6IHByb3RvY29sLCBtb3N0IGJyb3dzZXJzXG4gICAgICAgIC8vIHdpbGwgcmV0dXJuIHN0YXR1cyBhcyAwIGV2ZW4gdGhvdWdoIGl0J3MgYSBzdWNjZXNzZnVsIHJlcXVlc3RcbiAgICAgICAgaWYgKHJlcXVlc3Quc3RhdHVzID09PSAwICYmICEocmVxdWVzdC5yZXNwb25zZVVSTCAmJiByZXF1ZXN0LnJlc3BvbnNlVVJMLmluZGV4T2YoJ2ZpbGU6JykgPT09IDApKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJlYWR5c3RhdGUgaGFuZGxlciBpcyBjYWxsaW5nIGJlZm9yZSBvbmVycm9yIG9yIG9udGltZW91dCBoYW5kbGVycyxcbiAgICAgICAgLy8gc28gd2Ugc2hvdWxkIGNhbGwgb25sb2FkZW5kIG9uIHRoZSBuZXh0ICd0aWNrJ1xuICAgICAgICBzZXRUaW1lb3V0KG9ubG9hZGVuZCk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSBicm93c2VyIHJlcXVlc3QgY2FuY2VsbGF0aW9uIChhcyBvcHBvc2VkIHRvIGEgbWFudWFsIGNhbmNlbGxhdGlvbilcbiAgICByZXF1ZXN0Lm9uYWJvcnQgPSBmdW5jdGlvbiBoYW5kbGVBYm9ydCgpIHtcbiAgICAgIGlmICghcmVxdWVzdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHJlamVjdChuZXcgQXhpb3NFcnJvcignUmVxdWVzdCBhYm9ydGVkJywgQXhpb3NFcnJvci5FQ09OTkFCT1JURUQsIF9jb25maWcsIHJlcXVlc3QpKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8vIEhhbmRsZSBsb3cgbGV2ZWwgbmV0d29yayBlcnJvcnNcbiAgICByZXF1ZXN0Lm9uZXJyb3IgPSBmdW5jdGlvbiBoYW5kbGVFcnJvcigpIHtcbiAgICAgIC8vIFJlYWwgZXJyb3JzIGFyZSBoaWRkZW4gZnJvbSB1cyBieSB0aGUgYnJvd3NlclxuICAgICAgLy8gb25lcnJvciBzaG91bGQgb25seSBmaXJlIGlmIGl0J3MgYSBuZXR3b3JrIGVycm9yXG4gICAgICByZWplY3QobmV3IEF4aW9zRXJyb3IoJ05ldHdvcmsgRXJyb3InLCBBeGlvc0Vycm9yLkVSUl9ORVRXT1JLLCBfY29uZmlnLCByZXF1ZXN0KSk7XG5cbiAgICAgIC8vIENsZWFuIHVwIHJlcXVlc3RcbiAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgIH07XG5cbiAgICAvLyBIYW5kbGUgdGltZW91dFxuICAgIHJlcXVlc3Qub250aW1lb3V0ID0gZnVuY3Rpb24gaGFuZGxlVGltZW91dCgpIHtcbiAgICAgIGxldCB0aW1lb3V0RXJyb3JNZXNzYWdlID0gX2NvbmZpZy50aW1lb3V0ID8gJ3RpbWVvdXQgb2YgJyArIF9jb25maWcudGltZW91dCArICdtcyBleGNlZWRlZCcgOiAndGltZW91dCBleGNlZWRlZCc7XG4gICAgICBjb25zdCB0cmFuc2l0aW9uYWwgPSBfY29uZmlnLnRyYW5zaXRpb25hbCB8fCB0cmFuc2l0aW9uYWxEZWZhdWx0cztcbiAgICAgIGlmIChfY29uZmlnLnRpbWVvdXRFcnJvck1lc3NhZ2UpIHtcbiAgICAgICAgdGltZW91dEVycm9yTWVzc2FnZSA9IF9jb25maWcudGltZW91dEVycm9yTWVzc2FnZTtcbiAgICAgIH1cbiAgICAgIHJlamVjdChuZXcgQXhpb3NFcnJvcihcbiAgICAgICAgdGltZW91dEVycm9yTWVzc2FnZSxcbiAgICAgICAgdHJhbnNpdGlvbmFsLmNsYXJpZnlUaW1lb3V0RXJyb3IgPyBBeGlvc0Vycm9yLkVUSU1FRE9VVCA6IEF4aW9zRXJyb3IuRUNPTk5BQk9SVEVELFxuICAgICAgICBfY29uZmlnLFxuICAgICAgICByZXF1ZXN0KSk7XG5cbiAgICAgIC8vIENsZWFuIHVwIHJlcXVlc3RcbiAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgIH07XG5cbiAgICAvLyBSZW1vdmUgQ29udGVudC1UeXBlIGlmIGRhdGEgaXMgdW5kZWZpbmVkXG4gICAgcmVxdWVzdERhdGEgPT09IHVuZGVmaW5lZCAmJiByZXF1ZXN0SGVhZGVycy5zZXRDb250ZW50VHlwZShudWxsKTtcblxuICAgIC8vIEFkZCBoZWFkZXJzIHRvIHRoZSByZXF1ZXN0XG4gICAgaWYgKCdzZXRSZXF1ZXN0SGVhZGVyJyBpbiByZXF1ZXN0KSB7XG4gICAgICB1dGlscy5mb3JFYWNoKHJlcXVlc3RIZWFkZXJzLnRvSlNPTigpLCBmdW5jdGlvbiBzZXRSZXF1ZXN0SGVhZGVyKHZhbCwga2V5KSB7XG4gICAgICAgIHJlcXVlc3Quc2V0UmVxdWVzdEhlYWRlcihrZXksIHZhbCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBBZGQgd2l0aENyZWRlbnRpYWxzIHRvIHJlcXVlc3QgaWYgbmVlZGVkXG4gICAgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChfY29uZmlnLndpdGhDcmVkZW50aWFscykpIHtcbiAgICAgIHJlcXVlc3Qud2l0aENyZWRlbnRpYWxzID0gISFfY29uZmlnLndpdGhDcmVkZW50aWFscztcbiAgICB9XG5cbiAgICAvLyBBZGQgcmVzcG9uc2VUeXBlIHRvIHJlcXVlc3QgaWYgbmVlZGVkXG4gICAgaWYgKHJlc3BvbnNlVHlwZSAmJiByZXNwb25zZVR5cGUgIT09ICdqc29uJykge1xuICAgICAgcmVxdWVzdC5yZXNwb25zZVR5cGUgPSBfY29uZmlnLnJlc3BvbnNlVHlwZTtcbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgcHJvZ3Jlc3MgaWYgbmVlZGVkXG4gICAgaWYgKHR5cGVvZiBfY29uZmlnLm9uRG93bmxvYWRQcm9ncmVzcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHByb2dyZXNzRXZlbnRSZWR1Y2VyKF9jb25maWcub25Eb3dubG9hZFByb2dyZXNzLCB0cnVlKSk7XG4gICAgfVxuXG4gICAgLy8gTm90IGFsbCBicm93c2VycyBzdXBwb3J0IHVwbG9hZCBldmVudHNcbiAgICBpZiAodHlwZW9mIF9jb25maWcub25VcGxvYWRQcm9ncmVzcyA9PT0gJ2Z1bmN0aW9uJyAmJiByZXF1ZXN0LnVwbG9hZCkge1xuICAgICAgcmVxdWVzdC51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCBwcm9ncmVzc0V2ZW50UmVkdWNlcihfY29uZmlnLm9uVXBsb2FkUHJvZ3Jlc3MpKTtcbiAgICB9XG5cbiAgICBpZiAoX2NvbmZpZy5jYW5jZWxUb2tlbiB8fCBfY29uZmlnLnNpZ25hbCkge1xuICAgICAgLy8gSGFuZGxlIGNhbmNlbGxhdGlvblxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbiAgICAgIG9uQ2FuY2VsZWQgPSBjYW5jZWwgPT4ge1xuICAgICAgICBpZiAoIXJlcXVlc3QpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmVqZWN0KCFjYW5jZWwgfHwgY2FuY2VsLnR5cGUgPyBuZXcgQ2FuY2VsZWRFcnJvcihudWxsLCBjb25maWcsIHJlcXVlc3QpIDogY2FuY2VsKTtcbiAgICAgICAgcmVxdWVzdC5hYm9ydCgpO1xuICAgICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICAgIH07XG5cbiAgICAgIF9jb25maWcuY2FuY2VsVG9rZW4gJiYgX2NvbmZpZy5jYW5jZWxUb2tlbi5zdWJzY3JpYmUob25DYW5jZWxlZCk7XG4gICAgICBpZiAoX2NvbmZpZy5zaWduYWwpIHtcbiAgICAgICAgX2NvbmZpZy5zaWduYWwuYWJvcnRlZCA/IG9uQ2FuY2VsZWQoKSA6IF9jb25maWcuc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0Jywgb25DYW5jZWxlZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgcHJvdG9jb2wgPSBwYXJzZVByb3RvY29sKF9jb25maWcudXJsKTtcblxuICAgIGlmIChwcm90b2NvbCAmJiBwbGF0Zm9ybS5wcm90b2NvbHMuaW5kZXhPZihwcm90b2NvbCkgPT09IC0xKSB7XG4gICAgICByZWplY3QobmV3IEF4aW9zRXJyb3IoJ1Vuc3VwcG9ydGVkIHByb3RvY29sICcgKyBwcm90b2NvbCArICc6JywgQXhpb3NFcnJvci5FUlJfQkFEX1JFUVVFU1QsIGNvbmZpZykpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuXG4gICAgLy8gU2VuZCB0aGUgcmVxdWVzdFxuICAgIHJlcXVlc3Quc2VuZChyZXF1ZXN0RGF0YSB8fCBudWxsKTtcbiAgfSk7XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHBhcnNlUHJvdG9jb2wodXJsKSB7XG4gIGNvbnN0IG1hdGNoID0gL14oWy0rXFx3XXsxLDI1fSkoOj9cXC9cXC98OikvLmV4ZWModXJsKTtcbiAgcmV0dXJuIG1hdGNoICYmIG1hdGNoWzFdIHx8ICcnO1xufVxuIiwiaW1wb3J0IENhbmNlbGVkRXJyb3IgZnJvbSBcIi4uL2NhbmNlbC9DYW5jZWxlZEVycm9yLmpzXCI7XG5pbXBvcnQgQXhpb3NFcnJvciBmcm9tIFwiLi4vY29yZS9BeGlvc0Vycm9yLmpzXCI7XG5cbmNvbnN0IGNvbXBvc2VTaWduYWxzID0gKHNpZ25hbHMsIHRpbWVvdXQpID0+IHtcbiAgbGV0IGNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG5cbiAgbGV0IGFib3J0ZWQ7XG5cbiAgY29uc3Qgb25hYm9ydCA9IGZ1bmN0aW9uIChjYW5jZWwpIHtcbiAgICBpZiAoIWFib3J0ZWQpIHtcbiAgICAgIGFib3J0ZWQgPSB0cnVlO1xuICAgICAgdW5zdWJzY3JpYmUoKTtcbiAgICAgIGNvbnN0IGVyciA9IGNhbmNlbCBpbnN0YW5jZW9mIEVycm9yID8gY2FuY2VsIDogdGhpcy5yZWFzb247XG4gICAgICBjb250cm9sbGVyLmFib3J0KGVyciBpbnN0YW5jZW9mIEF4aW9zRXJyb3IgPyBlcnIgOiBuZXcgQ2FuY2VsZWRFcnJvcihlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogZXJyKSk7XG4gICAgfVxuICB9XG5cbiAgbGV0IHRpbWVyID0gdGltZW91dCAmJiBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICBvbmFib3J0KG5ldyBBeGlvc0Vycm9yKGB0aW1lb3V0ICR7dGltZW91dH0gb2YgbXMgZXhjZWVkZWRgLCBBeGlvc0Vycm9yLkVUSU1FRE9VVCkpXG4gIH0sIHRpbWVvdXQpXG5cbiAgY29uc3QgdW5zdWJzY3JpYmUgPSAoKSA9PiB7XG4gICAgaWYgKHNpZ25hbHMpIHtcbiAgICAgIHRpbWVyICYmIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICB0aW1lciA9IG51bGw7XG4gICAgICBzaWduYWxzLmZvckVhY2goc2lnbmFsID0+IHtcbiAgICAgICAgc2lnbmFsICYmXG4gICAgICAgIChzaWduYWwucmVtb3ZlRXZlbnRMaXN0ZW5lciA/IHNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKCdhYm9ydCcsIG9uYWJvcnQpIDogc2lnbmFsLnVuc3Vic2NyaWJlKG9uYWJvcnQpKTtcbiAgICAgIH0pO1xuICAgICAgc2lnbmFscyA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgc2lnbmFscy5mb3JFYWNoKChzaWduYWwpID0+IHNpZ25hbCAmJiBzaWduYWwuYWRkRXZlbnRMaXN0ZW5lciAmJiBzaWduYWwuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBvbmFib3J0KSk7XG5cbiAgY29uc3Qge3NpZ25hbH0gPSBjb250cm9sbGVyO1xuXG4gIHNpZ25hbC51bnN1YnNjcmliZSA9IHVuc3Vic2NyaWJlO1xuXG4gIHJldHVybiBbc2lnbmFsLCAoKSA9PiB7XG4gICAgdGltZXIgJiYgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICB0aW1lciA9IG51bGw7XG4gIH1dO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjb21wb3NlU2lnbmFscztcbiIsIlxuXG5leHBvcnQgY29uc3Qgc3RyZWFtQ2h1bmsgPSBmdW5jdGlvbiogKGNodW5rLCBjaHVua1NpemUpIHtcbiAgbGV0IGxlbiA9IGNodW5rLmJ5dGVMZW5ndGg7XG5cbiAgaWYgKCFjaHVua1NpemUgfHwgbGVuIDwgY2h1bmtTaXplKSB7XG4gICAgeWllbGQgY2h1bms7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgbGV0IHBvcyA9IDA7XG4gIGxldCBlbmQ7XG5cbiAgd2hpbGUgKHBvcyA8IGxlbikge1xuICAgIGVuZCA9IHBvcyArIGNodW5rU2l6ZTtcbiAgICB5aWVsZCBjaHVuay5zbGljZShwb3MsIGVuZCk7XG4gICAgcG9zID0gZW5kO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCByZWFkQnl0ZXMgPSBhc3luYyBmdW5jdGlvbiogKGl0ZXJhYmxlLCBjaHVua1NpemUsIGVuY29kZSkge1xuICBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIGl0ZXJhYmxlKSB7XG4gICAgeWllbGQqIHN0cmVhbUNodW5rKEFycmF5QnVmZmVyLmlzVmlldyhjaHVuaykgPyBjaHVuayA6IChhd2FpdCBlbmNvZGUoU3RyaW5nKGNodW5rKSkpLCBjaHVua1NpemUpO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCB0cmFja1N0cmVhbSA9IChzdHJlYW0sIGNodW5rU2l6ZSwgb25Qcm9ncmVzcywgb25GaW5pc2gsIGVuY29kZSkgPT4ge1xuICBjb25zdCBpdGVyYXRvciA9IHJlYWRCeXRlcyhzdHJlYW0sIGNodW5rU2l6ZSwgZW5jb2RlKTtcblxuICBsZXQgYnl0ZXMgPSAwO1xuXG4gIHJldHVybiBuZXcgUmVhZGFibGVTdHJlYW0oe1xuICAgIHR5cGU6ICdieXRlcycsXG5cbiAgICBhc3luYyBwdWxsKGNvbnRyb2xsZXIpIHtcbiAgICAgIGNvbnN0IHtkb25lLCB2YWx1ZX0gPSBhd2FpdCBpdGVyYXRvci5uZXh0KCk7XG5cbiAgICAgIGlmIChkb25lKSB7XG4gICAgICAgIGNvbnRyb2xsZXIuY2xvc2UoKTtcbiAgICAgICAgb25GaW5pc2goKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBsZXQgbGVuID0gdmFsdWUuYnl0ZUxlbmd0aDtcbiAgICAgIG9uUHJvZ3Jlc3MgJiYgb25Qcm9ncmVzcyhieXRlcyArPSBsZW4pO1xuICAgICAgY29udHJvbGxlci5lbnF1ZXVlKG5ldyBVaW50OEFycmF5KHZhbHVlKSk7XG4gICAgfSxcbiAgICBjYW5jZWwocmVhc29uKSB7XG4gICAgICBvbkZpbmlzaChyZWFzb24pO1xuICAgICAgcmV0dXJuIGl0ZXJhdG9yLnJldHVybigpO1xuICAgIH1cbiAgfSwge1xuICAgIGhpZ2hXYXRlck1hcms6IDJcbiAgfSlcbn1cbiIsImltcG9ydCBwbGF0Zm9ybSBmcm9tIFwiLi4vcGxhdGZvcm0vaW5kZXguanNcIjtcbmltcG9ydCB1dGlscyBmcm9tIFwiLi4vdXRpbHMuanNcIjtcbmltcG9ydCBBeGlvc0Vycm9yIGZyb20gXCIuLi9jb3JlL0F4aW9zRXJyb3IuanNcIjtcbmltcG9ydCBjb21wb3NlU2lnbmFscyBmcm9tIFwiLi4vaGVscGVycy9jb21wb3NlU2lnbmFscy5qc1wiO1xuaW1wb3J0IHt0cmFja1N0cmVhbX0gZnJvbSBcIi4uL2hlbHBlcnMvdHJhY2tTdHJlYW0uanNcIjtcbmltcG9ydCBBeGlvc0hlYWRlcnMgZnJvbSBcIi4uL2NvcmUvQXhpb3NIZWFkZXJzLmpzXCI7XG5pbXBvcnQgcHJvZ3Jlc3NFdmVudFJlZHVjZXIgZnJvbSBcIi4uL2hlbHBlcnMvcHJvZ3Jlc3NFdmVudFJlZHVjZXIuanNcIjtcbmltcG9ydCByZXNvbHZlQ29uZmlnIGZyb20gXCIuLi9oZWxwZXJzL3Jlc29sdmVDb25maWcuanNcIjtcbmltcG9ydCBzZXR0bGUgZnJvbSBcIi4uL2NvcmUvc2V0dGxlLmpzXCI7XG5cbmNvbnN0IGZldGNoUHJvZ3Jlc3NEZWNvcmF0b3IgPSAodG90YWwsIGZuKSA9PiB7XG4gIGNvbnN0IGxlbmd0aENvbXB1dGFibGUgPSB0b3RhbCAhPSBudWxsO1xuICByZXR1cm4gKGxvYWRlZCkgPT4gc2V0VGltZW91dCgoKSA9PiBmbih7XG4gICAgbGVuZ3RoQ29tcHV0YWJsZSxcbiAgICB0b3RhbCxcbiAgICBsb2FkZWRcbiAgfSkpO1xufVxuXG5jb25zdCBpc0ZldGNoU3VwcG9ydGVkID0gdHlwZW9mIGZldGNoID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBSZXF1ZXN0ID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBSZXNwb25zZSA9PT0gJ2Z1bmN0aW9uJztcbmNvbnN0IGlzUmVhZGFibGVTdHJlYW1TdXBwb3J0ZWQgPSBpc0ZldGNoU3VwcG9ydGVkICYmIHR5cGVvZiBSZWFkYWJsZVN0cmVhbSA9PT0gJ2Z1bmN0aW9uJztcblxuLy8gdXNlZCBvbmx5IGluc2lkZSB0aGUgZmV0Y2ggYWRhcHRlclxuY29uc3QgZW5jb2RlVGV4dCA9IGlzRmV0Y2hTdXBwb3J0ZWQgJiYgKHR5cGVvZiBUZXh0RW5jb2RlciA9PT0gJ2Z1bmN0aW9uJyA/XG4gICAgKChlbmNvZGVyKSA9PiAoc3RyKSA9PiBlbmNvZGVyLmVuY29kZShzdHIpKShuZXcgVGV4dEVuY29kZXIoKSkgOlxuICAgIGFzeW5jIChzdHIpID0+IG5ldyBVaW50OEFycmF5KGF3YWl0IG5ldyBSZXNwb25zZShzdHIpLmFycmF5QnVmZmVyKCkpXG4pO1xuXG5jb25zdCBzdXBwb3J0c1JlcXVlc3RTdHJlYW0gPSBpc1JlYWRhYmxlU3RyZWFtU3VwcG9ydGVkICYmICgoKSA9PiB7XG4gIGxldCBkdXBsZXhBY2Nlc3NlZCA9IGZhbHNlO1xuXG4gIGNvbnN0IGhhc0NvbnRlbnRUeXBlID0gbmV3IFJlcXVlc3QocGxhdGZvcm0ub3JpZ2luLCB7XG4gICAgYm9keTogbmV3IFJlYWRhYmxlU3RyZWFtKCksXG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgZ2V0IGR1cGxleCgpIHtcbiAgICAgIGR1cGxleEFjY2Vzc2VkID0gdHJ1ZTtcbiAgICAgIHJldHVybiAnaGFsZic7XG4gICAgfSxcbiAgfSkuaGVhZGVycy5oYXMoJ0NvbnRlbnQtVHlwZScpO1xuXG4gIHJldHVybiBkdXBsZXhBY2Nlc3NlZCAmJiAhaGFzQ29udGVudFR5cGU7XG59KSgpO1xuXG5jb25zdCBERUZBVUxUX0NIVU5LX1NJWkUgPSA2NCAqIDEwMjQ7XG5cbmNvbnN0IHN1cHBvcnRzUmVzcG9uc2VTdHJlYW0gPSBpc1JlYWRhYmxlU3RyZWFtU3VwcG9ydGVkICYmICEhKCgpPT4ge1xuICB0cnkge1xuICAgIHJldHVybiB1dGlscy5pc1JlYWRhYmxlU3RyZWFtKG5ldyBSZXNwb25zZSgnJykuYm9keSk7XG4gIH0gY2F0Y2goZXJyKSB7XG4gICAgLy8gcmV0dXJuIHVuZGVmaW5lZFxuICB9XG59KSgpO1xuXG5jb25zdCByZXNvbHZlcnMgPSB7XG4gIHN0cmVhbTogc3VwcG9ydHNSZXNwb25zZVN0cmVhbSAmJiAoKHJlcykgPT4gcmVzLmJvZHkpXG59O1xuXG5pc0ZldGNoU3VwcG9ydGVkICYmICgoKHJlcykgPT4ge1xuICBbJ3RleHQnLCAnYXJyYXlCdWZmZXInLCAnYmxvYicsICdmb3JtRGF0YScsICdzdHJlYW0nXS5mb3JFYWNoKHR5cGUgPT4ge1xuICAgICFyZXNvbHZlcnNbdHlwZV0gJiYgKHJlc29sdmVyc1t0eXBlXSA9IHV0aWxzLmlzRnVuY3Rpb24ocmVzW3R5cGVdKSA/IChyZXMpID0+IHJlc1t0eXBlXSgpIDpcbiAgICAgIChfLCBjb25maWcpID0+IHtcbiAgICAgICAgdGhyb3cgbmV3IEF4aW9zRXJyb3IoYFJlc3BvbnNlIHR5cGUgJyR7dHlwZX0nIGlzIG5vdCBzdXBwb3J0ZWRgLCBBeGlvc0Vycm9yLkVSUl9OT1RfU1VQUE9SVCwgY29uZmlnKTtcbiAgICAgIH0pXG4gIH0pO1xufSkobmV3IFJlc3BvbnNlKSk7XG5cbmNvbnN0IGdldEJvZHlMZW5ndGggPSBhc3luYyAoYm9keSkgPT4ge1xuICBpZiAoYm9keSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICBpZih1dGlscy5pc0Jsb2IoYm9keSkpIHtcbiAgICByZXR1cm4gYm9keS5zaXplO1xuICB9XG5cbiAgaWYodXRpbHMuaXNTcGVjQ29tcGxpYW50Rm9ybShib2R5KSkge1xuICAgIHJldHVybiAoYXdhaXQgbmV3IFJlcXVlc3QoYm9keSkuYXJyYXlCdWZmZXIoKSkuYnl0ZUxlbmd0aDtcbiAgfVxuXG4gIGlmKHV0aWxzLmlzQXJyYXlCdWZmZXJWaWV3KGJvZHkpKSB7XG4gICAgcmV0dXJuIGJvZHkuYnl0ZUxlbmd0aDtcbiAgfVxuXG4gIGlmKHV0aWxzLmlzVVJMU2VhcmNoUGFyYW1zKGJvZHkpKSB7XG4gICAgYm9keSA9IGJvZHkgKyAnJztcbiAgfVxuXG4gIGlmKHV0aWxzLmlzU3RyaW5nKGJvZHkpKSB7XG4gICAgcmV0dXJuIChhd2FpdCBlbmNvZGVUZXh0KGJvZHkpKS5ieXRlTGVuZ3RoO1xuICB9XG59XG5cbmNvbnN0IHJlc29sdmVCb2R5TGVuZ3RoID0gYXN5bmMgKGhlYWRlcnMsIGJvZHkpID0+IHtcbiAgY29uc3QgbGVuZ3RoID0gdXRpbHMudG9GaW5pdGVOdW1iZXIoaGVhZGVycy5nZXRDb250ZW50TGVuZ3RoKCkpO1xuXG4gIHJldHVybiBsZW5ndGggPT0gbnVsbCA/IGdldEJvZHlMZW5ndGgoYm9keSkgOiBsZW5ndGg7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGlzRmV0Y2hTdXBwb3J0ZWQgJiYgKGFzeW5jIChjb25maWcpID0+IHtcbiAgbGV0IHtcbiAgICB1cmwsXG4gICAgbWV0aG9kLFxuICAgIGRhdGEsXG4gICAgc2lnbmFsLFxuICAgIGNhbmNlbFRva2VuLFxuICAgIHRpbWVvdXQsXG4gICAgb25Eb3dubG9hZFByb2dyZXNzLFxuICAgIG9uVXBsb2FkUHJvZ3Jlc3MsXG4gICAgcmVzcG9uc2VUeXBlLFxuICAgIGhlYWRlcnMsXG4gICAgd2l0aENyZWRlbnRpYWxzID0gJ3NhbWUtb3JpZ2luJyxcbiAgICBmZXRjaE9wdGlvbnNcbiAgfSA9IHJlc29sdmVDb25maWcoY29uZmlnKTtcblxuICByZXNwb25zZVR5cGUgPSByZXNwb25zZVR5cGUgPyAocmVzcG9uc2VUeXBlICsgJycpLnRvTG93ZXJDYXNlKCkgOiAndGV4dCc7XG5cbiAgbGV0IFtjb21wb3NlZFNpZ25hbCwgc3RvcFRpbWVvdXRdID0gKHNpZ25hbCB8fCBjYW5jZWxUb2tlbiB8fCB0aW1lb3V0KSA/XG4gICAgY29tcG9zZVNpZ25hbHMoW3NpZ25hbCwgY2FuY2VsVG9rZW5dLCB0aW1lb3V0KSA6IFtdO1xuXG4gIGxldCBmaW5pc2hlZCwgcmVxdWVzdDtcblxuICBjb25zdCBvbkZpbmlzaCA9ICgpID0+IHtcbiAgICAhZmluaXNoZWQgJiYgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBjb21wb3NlZFNpZ25hbCAmJiBjb21wb3NlZFNpZ25hbC51bnN1YnNjcmliZSgpO1xuICAgIH0pO1xuXG4gICAgZmluaXNoZWQgPSB0cnVlO1xuICB9XG5cbiAgbGV0IHJlcXVlc3RDb250ZW50TGVuZ3RoO1xuXG4gIHRyeSB7XG4gICAgaWYgKFxuICAgICAgb25VcGxvYWRQcm9ncmVzcyAmJiBzdXBwb3J0c1JlcXVlc3RTdHJlYW0gJiYgbWV0aG9kICE9PSAnZ2V0JyAmJiBtZXRob2QgIT09ICdoZWFkJyAmJlxuICAgICAgKHJlcXVlc3RDb250ZW50TGVuZ3RoID0gYXdhaXQgcmVzb2x2ZUJvZHlMZW5ndGgoaGVhZGVycywgZGF0YSkpICE9PSAwXG4gICAgKSB7XG4gICAgICBsZXQgX3JlcXVlc3QgPSBuZXcgUmVxdWVzdCh1cmwsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGJvZHk6IGRhdGEsXG4gICAgICAgIGR1cGxleDogXCJoYWxmXCJcbiAgICAgIH0pO1xuXG4gICAgICBsZXQgY29udGVudFR5cGVIZWFkZXI7XG5cbiAgICAgIGlmICh1dGlscy5pc0Zvcm1EYXRhKGRhdGEpICYmIChjb250ZW50VHlwZUhlYWRlciA9IF9yZXF1ZXN0LmhlYWRlcnMuZ2V0KCdjb250ZW50LXR5cGUnKSkpIHtcbiAgICAgICAgaGVhZGVycy5zZXRDb250ZW50VHlwZShjb250ZW50VHlwZUhlYWRlcilcbiAgICAgIH1cblxuICAgICAgaWYgKF9yZXF1ZXN0LmJvZHkpIHtcbiAgICAgICAgZGF0YSA9IHRyYWNrU3RyZWFtKF9yZXF1ZXN0LmJvZHksIERFRkFVTFRfQ0hVTktfU0laRSwgZmV0Y2hQcm9ncmVzc0RlY29yYXRvcihcbiAgICAgICAgICByZXF1ZXN0Q29udGVudExlbmd0aCxcbiAgICAgICAgICBwcm9ncmVzc0V2ZW50UmVkdWNlcihvblVwbG9hZFByb2dyZXNzKVxuICAgICAgICApLCBudWxsLCBlbmNvZGVUZXh0KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIXV0aWxzLmlzU3RyaW5nKHdpdGhDcmVkZW50aWFscykpIHtcbiAgICAgIHdpdGhDcmVkZW50aWFscyA9IHdpdGhDcmVkZW50aWFscyA/ICdjb3JzJyA6ICdvbWl0JztcbiAgICB9XG5cbiAgICByZXF1ZXN0ID0gbmV3IFJlcXVlc3QodXJsLCB7XG4gICAgICAuLi5mZXRjaE9wdGlvbnMsXG4gICAgICBzaWduYWw6IGNvbXBvc2VkU2lnbmFsLFxuICAgICAgbWV0aG9kOiBtZXRob2QudG9VcHBlckNhc2UoKSxcbiAgICAgIGhlYWRlcnM6IGhlYWRlcnMubm9ybWFsaXplKCkudG9KU09OKCksXG4gICAgICBib2R5OiBkYXRhLFxuICAgICAgZHVwbGV4OiBcImhhbGZcIixcbiAgICAgIHdpdGhDcmVkZW50aWFsc1xuICAgIH0pO1xuXG4gICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2gocmVxdWVzdCk7XG5cbiAgICBjb25zdCBpc1N0cmVhbVJlc3BvbnNlID0gc3VwcG9ydHNSZXNwb25zZVN0cmVhbSAmJiAocmVzcG9uc2VUeXBlID09PSAnc3RyZWFtJyB8fCByZXNwb25zZVR5cGUgPT09ICdyZXNwb25zZScpO1xuXG4gICAgaWYgKHN1cHBvcnRzUmVzcG9uc2VTdHJlYW0gJiYgKG9uRG93bmxvYWRQcm9ncmVzcyB8fCBpc1N0cmVhbVJlc3BvbnNlKSkge1xuICAgICAgY29uc3Qgb3B0aW9ucyA9IHt9O1xuXG4gICAgICBbJ3N0YXR1cycsICdzdGF0dXNUZXh0JywgJ2hlYWRlcnMnXS5mb3JFYWNoKHByb3AgPT4ge1xuICAgICAgICBvcHRpb25zW3Byb3BdID0gcmVzcG9uc2VbcHJvcF07XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzcG9uc2VDb250ZW50TGVuZ3RoID0gdXRpbHMudG9GaW5pdGVOdW1iZXIocmVzcG9uc2UuaGVhZGVycy5nZXQoJ2NvbnRlbnQtbGVuZ3RoJykpO1xuXG4gICAgICByZXNwb25zZSA9IG5ldyBSZXNwb25zZShcbiAgICAgICAgdHJhY2tTdHJlYW0ocmVzcG9uc2UuYm9keSwgREVGQVVMVF9DSFVOS19TSVpFLCBvbkRvd25sb2FkUHJvZ3Jlc3MgJiYgZmV0Y2hQcm9ncmVzc0RlY29yYXRvcihcbiAgICAgICAgICByZXNwb25zZUNvbnRlbnRMZW5ndGgsXG4gICAgICAgICAgcHJvZ3Jlc3NFdmVudFJlZHVjZXIob25Eb3dubG9hZFByb2dyZXNzLCB0cnVlKVxuICAgICAgICApLCBpc1N0cmVhbVJlc3BvbnNlICYmIG9uRmluaXNoLCBlbmNvZGVUZXh0KSxcbiAgICAgICAgb3B0aW9uc1xuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXNwb25zZVR5cGUgPSByZXNwb25zZVR5cGUgfHwgJ3RleHQnO1xuXG4gICAgbGV0IHJlc3BvbnNlRGF0YSA9IGF3YWl0IHJlc29sdmVyc1t1dGlscy5maW5kS2V5KHJlc29sdmVycywgcmVzcG9uc2VUeXBlKSB8fCAndGV4dCddKHJlc3BvbnNlLCBjb25maWcpO1xuXG4gICAgIWlzU3RyZWFtUmVzcG9uc2UgJiYgb25GaW5pc2goKTtcblxuICAgIHN0b3BUaW1lb3V0ICYmIHN0b3BUaW1lb3V0KCk7XG5cbiAgICByZXR1cm4gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwge1xuICAgICAgICBkYXRhOiByZXNwb25zZURhdGEsXG4gICAgICAgIGhlYWRlcnM6IEF4aW9zSGVhZGVycy5mcm9tKHJlc3BvbnNlLmhlYWRlcnMpLFxuICAgICAgICBzdGF0dXM6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgc3RhdHVzVGV4dDogcmVzcG9uc2Uuc3RhdHVzVGV4dCxcbiAgICAgICAgY29uZmlnLFxuICAgICAgICByZXF1ZXN0XG4gICAgICB9KVxuICAgIH0pXG4gIH0gY2F0Y2ggKGVycikge1xuICAgIG9uRmluaXNoKCk7XG5cbiAgICBpZiAoZXJyICYmIGVyci5uYW1lID09PSAnVHlwZUVycm9yJyAmJiAvZmV0Y2gvaS50ZXN0KGVyci5tZXNzYWdlKSkge1xuICAgICAgdGhyb3cgT2JqZWN0LmFzc2lnbihcbiAgICAgICAgbmV3IEF4aW9zRXJyb3IoJ05ldHdvcmsgRXJyb3InLCBBeGlvc0Vycm9yLkVSUl9ORVRXT1JLLCBjb25maWcsIHJlcXVlc3QpLFxuICAgICAgICB7XG4gICAgICAgICAgY2F1c2U6IGVyci5jYXVzZSB8fCBlcnJcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cblxuICAgIHRocm93IEF4aW9zRXJyb3IuZnJvbShlcnIsIGVyciAmJiBlcnIuY29kZSwgY29uZmlnLCByZXF1ZXN0KTtcbiAgfVxufSk7XG5cblxuIiwiaW1wb3J0IHV0aWxzIGZyb20gJy4uL3V0aWxzLmpzJztcbmltcG9ydCBodHRwQWRhcHRlciBmcm9tICcuL2h0dHAuanMnO1xuaW1wb3J0IHhockFkYXB0ZXIgZnJvbSAnLi94aHIuanMnO1xuaW1wb3J0IGZldGNoQWRhcHRlciBmcm9tICcuL2ZldGNoLmpzJztcbmltcG9ydCBBeGlvc0Vycm9yIGZyb20gXCIuLi9jb3JlL0F4aW9zRXJyb3IuanNcIjtcblxuY29uc3Qga25vd25BZGFwdGVycyA9IHtcbiAgaHR0cDogaHR0cEFkYXB0ZXIsXG4gIHhocjogeGhyQWRhcHRlcixcbiAgZmV0Y2g6IGZldGNoQWRhcHRlclxufVxuXG51dGlscy5mb3JFYWNoKGtub3duQWRhcHRlcnMsIChmbiwgdmFsdWUpID0+IHtcbiAgaWYgKGZuKSB7XG4gICAgdHJ5IHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwgJ25hbWUnLCB7dmFsdWV9KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZW1wdHlcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGZuLCAnYWRhcHRlck5hbWUnLCB7dmFsdWV9KTtcbiAgfVxufSk7XG5cbmNvbnN0IHJlbmRlclJlYXNvbiA9IChyZWFzb24pID0+IGAtICR7cmVhc29ufWA7XG5cbmNvbnN0IGlzUmVzb2x2ZWRIYW5kbGUgPSAoYWRhcHRlcikgPT4gdXRpbHMuaXNGdW5jdGlvbihhZGFwdGVyKSB8fCBhZGFwdGVyID09PSBudWxsIHx8IGFkYXB0ZXIgPT09IGZhbHNlO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGdldEFkYXB0ZXI6IChhZGFwdGVycykgPT4ge1xuICAgIGFkYXB0ZXJzID0gdXRpbHMuaXNBcnJheShhZGFwdGVycykgPyBhZGFwdGVycyA6IFthZGFwdGVyc107XG5cbiAgICBjb25zdCB7bGVuZ3RofSA9IGFkYXB0ZXJzO1xuICAgIGxldCBuYW1lT3JBZGFwdGVyO1xuICAgIGxldCBhZGFwdGVyO1xuXG4gICAgY29uc3QgcmVqZWN0ZWRSZWFzb25zID0ge307XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBuYW1lT3JBZGFwdGVyID0gYWRhcHRlcnNbaV07XG4gICAgICBsZXQgaWQ7XG5cbiAgICAgIGFkYXB0ZXIgPSBuYW1lT3JBZGFwdGVyO1xuXG4gICAgICBpZiAoIWlzUmVzb2x2ZWRIYW5kbGUobmFtZU9yQWRhcHRlcikpIHtcbiAgICAgICAgYWRhcHRlciA9IGtub3duQWRhcHRlcnNbKGlkID0gU3RyaW5nKG5hbWVPckFkYXB0ZXIpKS50b0xvd2VyQ2FzZSgpXTtcblxuICAgICAgICBpZiAoYWRhcHRlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEF4aW9zRXJyb3IoYFVua25vd24gYWRhcHRlciAnJHtpZH0nYCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGFkYXB0ZXIpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIHJlamVjdGVkUmVhc29uc1tpZCB8fCAnIycgKyBpXSA9IGFkYXB0ZXI7XG4gICAgfVxuXG4gICAgaWYgKCFhZGFwdGVyKSB7XG5cbiAgICAgIGNvbnN0IHJlYXNvbnMgPSBPYmplY3QuZW50cmllcyhyZWplY3RlZFJlYXNvbnMpXG4gICAgICAgIC5tYXAoKFtpZCwgc3RhdGVdKSA9PiBgYWRhcHRlciAke2lkfSBgICtcbiAgICAgICAgICAoc3RhdGUgPT09IGZhbHNlID8gJ2lzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGVudmlyb25tZW50JyA6ICdpcyBub3QgYXZhaWxhYmxlIGluIHRoZSBidWlsZCcpXG4gICAgICAgICk7XG5cbiAgICAgIGxldCBzID0gbGVuZ3RoID9cbiAgICAgICAgKHJlYXNvbnMubGVuZ3RoID4gMSA/ICdzaW5jZSA6XFxuJyArIHJlYXNvbnMubWFwKHJlbmRlclJlYXNvbikuam9pbignXFxuJykgOiAnICcgKyByZW5kZXJSZWFzb24ocmVhc29uc1swXSkpIDpcbiAgICAgICAgJ2FzIG5vIGFkYXB0ZXIgc3BlY2lmaWVkJztcblxuICAgICAgdGhyb3cgbmV3IEF4aW9zRXJyb3IoXG4gICAgICAgIGBUaGVyZSBpcyBubyBzdWl0YWJsZSBhZGFwdGVyIHRvIGRpc3BhdGNoIHRoZSByZXF1ZXN0IGAgKyBzLFxuICAgICAgICAnRVJSX05PVF9TVVBQT1JUJ1xuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYWRhcHRlcjtcbiAgfSxcbiAgYWRhcHRlcnM6IGtub3duQWRhcHRlcnNcbn1cbiIsIi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBzdHJpY3RcbmV4cG9ydCBkZWZhdWx0IG51bGw7XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB0cmFuc2Zvcm1EYXRhIGZyb20gJy4vdHJhbnNmb3JtRGF0YS5qcyc7XG5pbXBvcnQgaXNDYW5jZWwgZnJvbSAnLi4vY2FuY2VsL2lzQ2FuY2VsLmpzJztcbmltcG9ydCBkZWZhdWx0cyBmcm9tICcuLi9kZWZhdWx0cy9pbmRleC5qcyc7XG5pbXBvcnQgQ2FuY2VsZWRFcnJvciBmcm9tICcuLi9jYW5jZWwvQ2FuY2VsZWRFcnJvci5qcyc7XG5pbXBvcnQgQXhpb3NIZWFkZXJzIGZyb20gJy4uL2NvcmUvQXhpb3NIZWFkZXJzLmpzJztcbmltcG9ydCBhZGFwdGVycyBmcm9tIFwiLi4vYWRhcHRlcnMvYWRhcHRlcnMuanNcIjtcblxuLyoqXG4gKiBUaHJvd3MgYSBgQ2FuY2VsZWRFcnJvcmAgaWYgY2FuY2VsbGF0aW9uIGhhcyBiZWVuIHJlcXVlc3RlZC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIFRoZSBjb25maWcgdGhhdCBpcyB0byBiZSB1c2VkIGZvciB0aGUgcmVxdWVzdFxuICpcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5mdW5jdGlvbiB0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKGNvbmZpZykge1xuICBpZiAoY29uZmlnLmNhbmNlbFRva2VuKSB7XG4gICAgY29uZmlnLmNhbmNlbFRva2VuLnRocm93SWZSZXF1ZXN0ZWQoKTtcbiAgfVxuXG4gIGlmIChjb25maWcuc2lnbmFsICYmIGNvbmZpZy5zaWduYWwuYWJvcnRlZCkge1xuICAgIHRocm93IG5ldyBDYW5jZWxlZEVycm9yKG51bGwsIGNvbmZpZyk7XG4gIH1cbn1cblxuLyoqXG4gKiBEaXNwYXRjaCBhIHJlcXVlc3QgdG8gdGhlIHNlcnZlciB1c2luZyB0aGUgY29uZmlndXJlZCBhZGFwdGVyLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZyB0aGF0IGlzIHRvIGJlIHVzZWQgZm9yIHRoZSByZXF1ZXN0XG4gKlxuICogQHJldHVybnMge1Byb21pc2V9IFRoZSBQcm9taXNlIHRvIGJlIGZ1bGZpbGxlZFxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBkaXNwYXRjaFJlcXVlc3QoY29uZmlnKSB7XG4gIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKTtcblxuICBjb25maWcuaGVhZGVycyA9IEF4aW9zSGVhZGVycy5mcm9tKGNvbmZpZy5oZWFkZXJzKTtcblxuICAvLyBUcmFuc2Zvcm0gcmVxdWVzdCBkYXRhXG4gIGNvbmZpZy5kYXRhID0gdHJhbnNmb3JtRGF0YS5jYWxsKFxuICAgIGNvbmZpZyxcbiAgICBjb25maWcudHJhbnNmb3JtUmVxdWVzdFxuICApO1xuXG4gIGlmIChbJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJ10uaW5kZXhPZihjb25maWcubWV0aG9kKSAhPT0gLTEpIHtcbiAgICBjb25maWcuaGVhZGVycy5zZXRDb250ZW50VHlwZSgnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJywgZmFsc2UpO1xuICB9XG5cbiAgY29uc3QgYWRhcHRlciA9IGFkYXB0ZXJzLmdldEFkYXB0ZXIoY29uZmlnLmFkYXB0ZXIgfHwgZGVmYXVsdHMuYWRhcHRlcik7XG5cbiAgcmV0dXJuIGFkYXB0ZXIoY29uZmlnKS50aGVuKGZ1bmN0aW9uIG9uQWRhcHRlclJlc29sdXRpb24ocmVzcG9uc2UpIHtcbiAgICB0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKGNvbmZpZyk7XG5cbiAgICAvLyBUcmFuc2Zvcm0gcmVzcG9uc2UgZGF0YVxuICAgIHJlc3BvbnNlLmRhdGEgPSB0cmFuc2Zvcm1EYXRhLmNhbGwoXG4gICAgICBjb25maWcsXG4gICAgICBjb25maWcudHJhbnNmb3JtUmVzcG9uc2UsXG4gICAgICByZXNwb25zZVxuICAgICk7XG5cbiAgICByZXNwb25zZS5oZWFkZXJzID0gQXhpb3NIZWFkZXJzLmZyb20ocmVzcG9uc2UuaGVhZGVycyk7XG5cbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH0sIGZ1bmN0aW9uIG9uQWRhcHRlclJlamVjdGlvbihyZWFzb24pIHtcbiAgICBpZiAoIWlzQ2FuY2VsKHJlYXNvbikpIHtcbiAgICAgIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKTtcblxuICAgICAgLy8gVHJhbnNmb3JtIHJlc3BvbnNlIGRhdGFcbiAgICAgIGlmIChyZWFzb24gJiYgcmVhc29uLnJlc3BvbnNlKSB7XG4gICAgICAgIHJlYXNvbi5yZXNwb25zZS5kYXRhID0gdHJhbnNmb3JtRGF0YS5jYWxsKFxuICAgICAgICAgIGNvbmZpZyxcbiAgICAgICAgICBjb25maWcudHJhbnNmb3JtUmVzcG9uc2UsXG4gICAgICAgICAgcmVhc29uLnJlc3BvbnNlXG4gICAgICAgICk7XG4gICAgICAgIHJlYXNvbi5yZXNwb25zZS5oZWFkZXJzID0gQXhpb3NIZWFkZXJzLmZyb20ocmVhc29uLnJlc3BvbnNlLmhlYWRlcnMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChyZWFzb24pO1xuICB9KTtcbn1cbiIsImV4cG9ydCBjb25zdCBWRVJTSU9OID0gXCIxLjcuMlwiOyIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHtWRVJTSU9OfSBmcm9tICcuLi9lbnYvZGF0YS5qcyc7XG5pbXBvcnQgQXhpb3NFcnJvciBmcm9tICcuLi9jb3JlL0F4aW9zRXJyb3IuanMnO1xuXG5jb25zdCB2YWxpZGF0b3JzID0ge307XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5bJ29iamVjdCcsICdib29sZWFuJywgJ251bWJlcicsICdmdW5jdGlvbicsICdzdHJpbmcnLCAnc3ltYm9sJ10uZm9yRWFjaCgodHlwZSwgaSkgPT4ge1xuICB2YWxpZGF0b3JzW3R5cGVdID0gZnVuY3Rpb24gdmFsaWRhdG9yKHRoaW5nKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB0aGluZyA9PT0gdHlwZSB8fCAnYScgKyAoaSA8IDEgPyAnbiAnIDogJyAnKSArIHR5cGU7XG4gIH07XG59KTtcblxuY29uc3QgZGVwcmVjYXRlZFdhcm5pbmdzID0ge307XG5cbi8qKlxuICogVHJhbnNpdGlvbmFsIG9wdGlvbiB2YWxpZGF0b3JcbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufGJvb2xlYW4/fSB2YWxpZGF0b3IgLSBzZXQgdG8gZmFsc2UgaWYgdGhlIHRyYW5zaXRpb25hbCBvcHRpb24gaGFzIGJlZW4gcmVtb3ZlZFxuICogQHBhcmFtIHtzdHJpbmc/fSB2ZXJzaW9uIC0gZGVwcmVjYXRlZCB2ZXJzaW9uIC8gcmVtb3ZlZCBzaW5jZSB2ZXJzaW9uXG4gKiBAcGFyYW0ge3N0cmluZz99IG1lc3NhZ2UgLSBzb21lIG1lc3NhZ2Ugd2l0aCBhZGRpdGlvbmFsIGluZm9cbiAqXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb259XG4gKi9cbnZhbGlkYXRvcnMudHJhbnNpdGlvbmFsID0gZnVuY3Rpb24gdHJhbnNpdGlvbmFsKHZhbGlkYXRvciwgdmVyc2lvbiwgbWVzc2FnZSkge1xuICBmdW5jdGlvbiBmb3JtYXRNZXNzYWdlKG9wdCwgZGVzYykge1xuICAgIHJldHVybiAnW0F4aW9zIHYnICsgVkVSU0lPTiArICddIFRyYW5zaXRpb25hbCBvcHRpb24gXFwnJyArIG9wdCArICdcXCcnICsgZGVzYyArIChtZXNzYWdlID8gJy4gJyArIG1lc3NhZ2UgOiAnJyk7XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuICByZXR1cm4gKHZhbHVlLCBvcHQsIG9wdHMpID0+IHtcbiAgICBpZiAodmFsaWRhdG9yID09PSBmYWxzZSkge1xuICAgICAgdGhyb3cgbmV3IEF4aW9zRXJyb3IoXG4gICAgICAgIGZvcm1hdE1lc3NhZ2Uob3B0LCAnIGhhcyBiZWVuIHJlbW92ZWQnICsgKHZlcnNpb24gPyAnIGluICcgKyB2ZXJzaW9uIDogJycpKSxcbiAgICAgICAgQXhpb3NFcnJvci5FUlJfREVQUkVDQVRFRFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAodmVyc2lvbiAmJiAhZGVwcmVjYXRlZFdhcm5pbmdzW29wdF0pIHtcbiAgICAgIGRlcHJlY2F0ZWRXYXJuaW5nc1tvcHRdID0gdHJ1ZTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgIGZvcm1hdE1lc3NhZ2UoXG4gICAgICAgICAgb3B0LFxuICAgICAgICAgICcgaGFzIGJlZW4gZGVwcmVjYXRlZCBzaW5jZSB2JyArIHZlcnNpb24gKyAnIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5lYXIgZnV0dXJlJ1xuICAgICAgICApXG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiB2YWxpZGF0b3IgPyB2YWxpZGF0b3IodmFsdWUsIG9wdCwgb3B0cykgOiB0cnVlO1xuICB9O1xufTtcblxuLyoqXG4gKiBBc3NlcnQgb2JqZWN0J3MgcHJvcGVydGllcyB0eXBlXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnNcbiAqIEBwYXJhbSB7b2JqZWN0fSBzY2hlbWFcbiAqIEBwYXJhbSB7Ym9vbGVhbj99IGFsbG93VW5rbm93blxuICpcbiAqIEByZXR1cm5zIHtvYmplY3R9XG4gKi9cblxuZnVuY3Rpb24gYXNzZXJ0T3B0aW9ucyhvcHRpb25zLCBzY2hlbWEsIGFsbG93VW5rbm93bikge1xuICBpZiAodHlwZW9mIG9wdGlvbnMgIT09ICdvYmplY3QnKSB7XG4gICAgdGhyb3cgbmV3IEF4aW9zRXJyb3IoJ29wdGlvbnMgbXVzdCBiZSBhbiBvYmplY3QnLCBBeGlvc0Vycm9yLkVSUl9CQURfT1BUSU9OX1ZBTFVFKTtcbiAgfVxuICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMob3B0aW9ucyk7XG4gIGxldCBpID0ga2V5cy5sZW5ndGg7XG4gIHdoaWxlIChpLS0gPiAwKSB7XG4gICAgY29uc3Qgb3B0ID0ga2V5c1tpXTtcbiAgICBjb25zdCB2YWxpZGF0b3IgPSBzY2hlbWFbb3B0XTtcbiAgICBpZiAodmFsaWRhdG9yKSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IG9wdGlvbnNbb3B0XTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHZhbHVlID09PSB1bmRlZmluZWQgfHwgdmFsaWRhdG9yKHZhbHVlLCBvcHQsIG9wdGlvbnMpO1xuICAgICAgaWYgKHJlc3VsdCAhPT0gdHJ1ZSkge1xuICAgICAgICB0aHJvdyBuZXcgQXhpb3NFcnJvcignb3B0aW9uICcgKyBvcHQgKyAnIG11c3QgYmUgJyArIHJlc3VsdCwgQXhpb3NFcnJvci5FUlJfQkFEX09QVElPTl9WQUxVRSk7XG4gICAgICB9XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKGFsbG93VW5rbm93biAhPT0gdHJ1ZSkge1xuICAgICAgdGhyb3cgbmV3IEF4aW9zRXJyb3IoJ1Vua25vd24gb3B0aW9uICcgKyBvcHQsIEF4aW9zRXJyb3IuRVJSX0JBRF9PUFRJT04pO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGFzc2VydE9wdGlvbnMsXG4gIHZhbGlkYXRvcnNcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlscyBmcm9tICcuLy4uL3V0aWxzLmpzJztcbmltcG9ydCBidWlsZFVSTCBmcm9tICcuLi9oZWxwZXJzL2J1aWxkVVJMLmpzJztcbmltcG9ydCBJbnRlcmNlcHRvck1hbmFnZXIgZnJvbSAnLi9JbnRlcmNlcHRvck1hbmFnZXIuanMnO1xuaW1wb3J0IGRpc3BhdGNoUmVxdWVzdCBmcm9tICcuL2Rpc3BhdGNoUmVxdWVzdC5qcyc7XG5pbXBvcnQgbWVyZ2VDb25maWcgZnJvbSAnLi9tZXJnZUNvbmZpZy5qcyc7XG5pbXBvcnQgYnVpbGRGdWxsUGF0aCBmcm9tICcuL2J1aWxkRnVsbFBhdGguanMnO1xuaW1wb3J0IHZhbGlkYXRvciBmcm9tICcuLi9oZWxwZXJzL3ZhbGlkYXRvci5qcyc7XG5pbXBvcnQgQXhpb3NIZWFkZXJzIGZyb20gJy4vQXhpb3NIZWFkZXJzLmpzJztcblxuY29uc3QgdmFsaWRhdG9ycyA9IHZhbGlkYXRvci52YWxpZGF0b3JzO1xuXG4vKipcbiAqIENyZWF0ZSBhIG5ldyBpbnN0YW5jZSBvZiBBeGlvc1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZUNvbmZpZyBUaGUgZGVmYXVsdCBjb25maWcgZm9yIHRoZSBpbnN0YW5jZVxuICpcbiAqIEByZXR1cm4ge0F4aW9zfSBBIG5ldyBpbnN0YW5jZSBvZiBBeGlvc1xuICovXG5jbGFzcyBBeGlvcyB7XG4gIGNvbnN0cnVjdG9yKGluc3RhbmNlQ29uZmlnKSB7XG4gICAgdGhpcy5kZWZhdWx0cyA9IGluc3RhbmNlQ29uZmlnO1xuICAgIHRoaXMuaW50ZXJjZXB0b3JzID0ge1xuICAgICAgcmVxdWVzdDogbmV3IEludGVyY2VwdG9yTWFuYWdlcigpLFxuICAgICAgcmVzcG9uc2U6IG5ldyBJbnRlcmNlcHRvck1hbmFnZXIoKVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogRGlzcGF0Y2ggYSByZXF1ZXN0XG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfE9iamVjdH0gY29uZmlnT3JVcmwgVGhlIGNvbmZpZyBzcGVjaWZpYyBmb3IgdGhpcyByZXF1ZXN0IChtZXJnZWQgd2l0aCB0aGlzLmRlZmF1bHRzKVxuICAgKiBAcGFyYW0gez9PYmplY3R9IGNvbmZpZ1xuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gVGhlIFByb21pc2UgdG8gYmUgZnVsZmlsbGVkXG4gICAqL1xuICBhc3luYyByZXF1ZXN0KGNvbmZpZ09yVXJsLCBjb25maWcpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX3JlcXVlc3QoY29uZmlnT3JVcmwsIGNvbmZpZyk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBpZiAoZXJyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgbGV0IGR1bW15O1xuXG4gICAgICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlID8gRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UoZHVtbXkgPSB7fSkgOiAoZHVtbXkgPSBuZXcgRXJyb3IoKSk7XG5cbiAgICAgICAgLy8gc2xpY2Ugb2ZmIHRoZSBFcnJvcjogLi4uIGxpbmVcbiAgICAgICAgY29uc3Qgc3RhY2sgPSBkdW1teS5zdGFjayA/IGR1bW15LnN0YWNrLnJlcGxhY2UoL14uK1xcbi8sICcnKSA6ICcnO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmICghZXJyLnN0YWNrKSB7XG4gICAgICAgICAgICBlcnIuc3RhY2sgPSBzdGFjaztcbiAgICAgICAgICAgIC8vIG1hdGNoIHdpdGhvdXQgdGhlIDIgdG9wIHN0YWNrIGxpbmVzXG4gICAgICAgICAgfSBlbHNlIGlmIChzdGFjayAmJiAhU3RyaW5nKGVyci5zdGFjaykuZW5kc1dpdGgoc3RhY2sucmVwbGFjZSgvXi4rXFxuLitcXG4vLCAnJykpKSB7XG4gICAgICAgICAgICBlcnIuc3RhY2sgKz0gJ1xcbicgKyBzdGFja1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIC8vIGlnbm9yZSB0aGUgY2FzZSB3aGVyZSBcInN0YWNrXCIgaXMgYW4gdW4td3JpdGFibGUgcHJvcGVydHlcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICB9XG5cbiAgX3JlcXVlc3QoY29uZmlnT3JVcmwsIGNvbmZpZykge1xuICAgIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICAgIC8vIEFsbG93IGZvciBheGlvcygnZXhhbXBsZS91cmwnWywgY29uZmlnXSkgYSBsYSBmZXRjaCBBUElcbiAgICBpZiAodHlwZW9mIGNvbmZpZ09yVXJsID09PSAnc3RyaW5nJykge1xuICAgICAgY29uZmlnID0gY29uZmlnIHx8IHt9O1xuICAgICAgY29uZmlnLnVybCA9IGNvbmZpZ09yVXJsO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25maWcgPSBjb25maWdPclVybCB8fCB7fTtcbiAgICB9XG5cbiAgICBjb25maWcgPSBtZXJnZUNvbmZpZyh0aGlzLmRlZmF1bHRzLCBjb25maWcpO1xuXG4gICAgY29uc3Qge3RyYW5zaXRpb25hbCwgcGFyYW1zU2VyaWFsaXplciwgaGVhZGVyc30gPSBjb25maWc7XG5cbiAgICBpZiAodHJhbnNpdGlvbmFsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHZhbGlkYXRvci5hc3NlcnRPcHRpb25zKHRyYW5zaXRpb25hbCwge1xuICAgICAgICBzaWxlbnRKU09OUGFyc2luZzogdmFsaWRhdG9ycy50cmFuc2l0aW9uYWwodmFsaWRhdG9ycy5ib29sZWFuKSxcbiAgICAgICAgZm9yY2VkSlNPTlBhcnNpbmc6IHZhbGlkYXRvcnMudHJhbnNpdGlvbmFsKHZhbGlkYXRvcnMuYm9vbGVhbiksXG4gICAgICAgIGNsYXJpZnlUaW1lb3V0RXJyb3I6IHZhbGlkYXRvcnMudHJhbnNpdGlvbmFsKHZhbGlkYXRvcnMuYm9vbGVhbilcbiAgICAgIH0sIGZhbHNlKTtcbiAgICB9XG5cbiAgICBpZiAocGFyYW1zU2VyaWFsaXplciAhPSBudWxsKSB7XG4gICAgICBpZiAodXRpbHMuaXNGdW5jdGlvbihwYXJhbXNTZXJpYWxpemVyKSkge1xuICAgICAgICBjb25maWcucGFyYW1zU2VyaWFsaXplciA9IHtcbiAgICAgICAgICBzZXJpYWxpemU6IHBhcmFtc1NlcmlhbGl6ZXJcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsaWRhdG9yLmFzc2VydE9wdGlvbnMocGFyYW1zU2VyaWFsaXplciwge1xuICAgICAgICAgIGVuY29kZTogdmFsaWRhdG9ycy5mdW5jdGlvbixcbiAgICAgICAgICBzZXJpYWxpemU6IHZhbGlkYXRvcnMuZnVuY3Rpb25cbiAgICAgICAgfSwgdHJ1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gU2V0IGNvbmZpZy5tZXRob2RcbiAgICBjb25maWcubWV0aG9kID0gKGNvbmZpZy5tZXRob2QgfHwgdGhpcy5kZWZhdWx0cy5tZXRob2QgfHwgJ2dldCcpLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAvLyBGbGF0dGVuIGhlYWRlcnNcbiAgICBsZXQgY29udGV4dEhlYWRlcnMgPSBoZWFkZXJzICYmIHV0aWxzLm1lcmdlKFxuICAgICAgaGVhZGVycy5jb21tb24sXG4gICAgICBoZWFkZXJzW2NvbmZpZy5tZXRob2RdXG4gICAgKTtcblxuICAgIGhlYWRlcnMgJiYgdXRpbHMuZm9yRWFjaChcbiAgICAgIFsnZGVsZXRlJywgJ2dldCcsICdoZWFkJywgJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJywgJ2NvbW1vbiddLFxuICAgICAgKG1ldGhvZCkgPT4ge1xuICAgICAgICBkZWxldGUgaGVhZGVyc1ttZXRob2RdO1xuICAgICAgfVxuICAgICk7XG5cbiAgICBjb25maWcuaGVhZGVycyA9IEF4aW9zSGVhZGVycy5jb25jYXQoY29udGV4dEhlYWRlcnMsIGhlYWRlcnMpO1xuXG4gICAgLy8gZmlsdGVyIG91dCBza2lwcGVkIGludGVyY2VwdG9yc1xuICAgIGNvbnN0IHJlcXVlc3RJbnRlcmNlcHRvckNoYWluID0gW107XG4gICAgbGV0IHN5bmNocm9ub3VzUmVxdWVzdEludGVyY2VwdG9ycyA9IHRydWU7XG4gICAgdGhpcy5pbnRlcmNlcHRvcnMucmVxdWVzdC5mb3JFYWNoKGZ1bmN0aW9uIHVuc2hpZnRSZXF1ZXN0SW50ZXJjZXB0b3JzKGludGVyY2VwdG9yKSB7XG4gICAgICBpZiAodHlwZW9mIGludGVyY2VwdG9yLnJ1bldoZW4gPT09ICdmdW5jdGlvbicgJiYgaW50ZXJjZXB0b3IucnVuV2hlbihjb25maWcpID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHN5bmNocm9ub3VzUmVxdWVzdEludGVyY2VwdG9ycyA9IHN5bmNocm9ub3VzUmVxdWVzdEludGVyY2VwdG9ycyAmJiBpbnRlcmNlcHRvci5zeW5jaHJvbm91cztcblxuICAgICAgcmVxdWVzdEludGVyY2VwdG9yQ2hhaW4udW5zaGlmdChpbnRlcmNlcHRvci5mdWxmaWxsZWQsIGludGVyY2VwdG9yLnJlamVjdGVkKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IHJlc3BvbnNlSW50ZXJjZXB0b3JDaGFpbiA9IFtdO1xuICAgIHRoaXMuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLmZvckVhY2goZnVuY3Rpb24gcHVzaFJlc3BvbnNlSW50ZXJjZXB0b3JzKGludGVyY2VwdG9yKSB7XG4gICAgICByZXNwb25zZUludGVyY2VwdG9yQ2hhaW4ucHVzaChpbnRlcmNlcHRvci5mdWxmaWxsZWQsIGludGVyY2VwdG9yLnJlamVjdGVkKTtcbiAgICB9KTtcblxuICAgIGxldCBwcm9taXNlO1xuICAgIGxldCBpID0gMDtcbiAgICBsZXQgbGVuO1xuXG4gICAgaWYgKCFzeW5jaHJvbm91c1JlcXVlc3RJbnRlcmNlcHRvcnMpIHtcbiAgICAgIGNvbnN0IGNoYWluID0gW2Rpc3BhdGNoUmVxdWVzdC5iaW5kKHRoaXMpLCB1bmRlZmluZWRdO1xuICAgICAgY2hhaW4udW5zaGlmdC5hcHBseShjaGFpbiwgcmVxdWVzdEludGVyY2VwdG9yQ2hhaW4pO1xuICAgICAgY2hhaW4ucHVzaC5hcHBseShjaGFpbiwgcmVzcG9uc2VJbnRlcmNlcHRvckNoYWluKTtcbiAgICAgIGxlbiA9IGNoYWluLmxlbmd0aDtcblxuICAgICAgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZShjb25maWcpO1xuXG4gICAgICB3aGlsZSAoaSA8IGxlbikge1xuICAgICAgICBwcm9taXNlID0gcHJvbWlzZS50aGVuKGNoYWluW2krK10sIGNoYWluW2krK10pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG5cbiAgICBsZW4gPSByZXF1ZXN0SW50ZXJjZXB0b3JDaGFpbi5sZW5ndGg7XG5cbiAgICBsZXQgbmV3Q29uZmlnID0gY29uZmlnO1xuXG4gICAgaSA9IDA7XG5cbiAgICB3aGlsZSAoaSA8IGxlbikge1xuICAgICAgY29uc3Qgb25GdWxmaWxsZWQgPSByZXF1ZXN0SW50ZXJjZXB0b3JDaGFpbltpKytdO1xuICAgICAgY29uc3Qgb25SZWplY3RlZCA9IHJlcXVlc3RJbnRlcmNlcHRvckNoYWluW2krK107XG4gICAgICB0cnkge1xuICAgICAgICBuZXdDb25maWcgPSBvbkZ1bGZpbGxlZChuZXdDb25maWcpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgb25SZWplY3RlZC5jYWxsKHRoaXMsIGVycm9yKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIHByb21pc2UgPSBkaXNwYXRjaFJlcXVlc3QuY2FsbCh0aGlzLCBuZXdDb25maWcpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgIH1cblxuICAgIGkgPSAwO1xuICAgIGxlbiA9IHJlc3BvbnNlSW50ZXJjZXB0b3JDaGFpbi5sZW5ndGg7XG5cbiAgICB3aGlsZSAoaSA8IGxlbikge1xuICAgICAgcHJvbWlzZSA9IHByb21pc2UudGhlbihyZXNwb25zZUludGVyY2VwdG9yQ2hhaW5baSsrXSwgcmVzcG9uc2VJbnRlcmNlcHRvckNoYWluW2krK10pO1xuICAgIH1cblxuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgZ2V0VXJpKGNvbmZpZykge1xuICAgIGNvbmZpZyA9IG1lcmdlQ29uZmlnKHRoaXMuZGVmYXVsdHMsIGNvbmZpZyk7XG4gICAgY29uc3QgZnVsbFBhdGggPSBidWlsZEZ1bGxQYXRoKGNvbmZpZy5iYXNlVVJMLCBjb25maWcudXJsKTtcbiAgICByZXR1cm4gYnVpbGRVUkwoZnVsbFBhdGgsIGNvbmZpZy5wYXJhbXMsIGNvbmZpZy5wYXJhbXNTZXJpYWxpemVyKTtcbiAgfVxufVxuXG4vLyBQcm92aWRlIGFsaWFzZXMgZm9yIHN1cHBvcnRlZCByZXF1ZXN0IG1ldGhvZHNcbnV0aWxzLmZvckVhY2goWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnLCAnb3B0aW9ucyddLCBmdW5jdGlvbiBmb3JFYWNoTWV0aG9kTm9EYXRhKG1ldGhvZCkge1xuICAvKmVzbGludCBmdW5jLW5hbWVzOjAqL1xuICBBeGlvcy5wcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uKHVybCwgY29uZmlnKSB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdChtZXJnZUNvbmZpZyhjb25maWcgfHwge30sIHtcbiAgICAgIG1ldGhvZCxcbiAgICAgIHVybCxcbiAgICAgIGRhdGE6IChjb25maWcgfHwge30pLmRhdGFcbiAgICB9KSk7XG4gIH07XG59KTtcblxudXRpbHMuZm9yRWFjaChbJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2RXaXRoRGF0YShtZXRob2QpIHtcbiAgLyplc2xpbnQgZnVuYy1uYW1lczowKi9cblxuICBmdW5jdGlvbiBnZW5lcmF0ZUhUVFBNZXRob2QoaXNGb3JtKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGh0dHBNZXRob2QodXJsLCBkYXRhLCBjb25maWcpIHtcbiAgICAgIHJldHVybiB0aGlzLnJlcXVlc3QobWVyZ2VDb25maWcoY29uZmlnIHx8IHt9LCB7XG4gICAgICAgIG1ldGhvZCxcbiAgICAgICAgaGVhZGVyczogaXNGb3JtID8ge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnbXVsdGlwYXJ0L2Zvcm0tZGF0YSdcbiAgICAgICAgfSA6IHt9LFxuICAgICAgICB1cmwsXG4gICAgICAgIGRhdGFcbiAgICAgIH0pKTtcbiAgICB9O1xuICB9XG5cbiAgQXhpb3MucHJvdG90eXBlW21ldGhvZF0gPSBnZW5lcmF0ZUhUVFBNZXRob2QoKTtcblxuICBBeGlvcy5wcm90b3R5cGVbbWV0aG9kICsgJ0Zvcm0nXSA9IGdlbmVyYXRlSFRUUE1ldGhvZCh0cnVlKTtcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBBeGlvcztcbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IENhbmNlbGVkRXJyb3IgZnJvbSAnLi9DYW5jZWxlZEVycm9yLmpzJztcblxuLyoqXG4gKiBBIGBDYW5jZWxUb2tlbmAgaXMgYW4gb2JqZWN0IHRoYXQgY2FuIGJlIHVzZWQgdG8gcmVxdWVzdCBjYW5jZWxsYXRpb24gb2YgYW4gb3BlcmF0aW9uLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGV4ZWN1dG9yIFRoZSBleGVjdXRvciBmdW5jdGlvbi5cbiAqXG4gKiBAcmV0dXJucyB7Q2FuY2VsVG9rZW59XG4gKi9cbmNsYXNzIENhbmNlbFRva2VuIHtcbiAgY29uc3RydWN0b3IoZXhlY3V0b3IpIHtcbiAgICBpZiAodHlwZW9mIGV4ZWN1dG9yICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdleGVjdXRvciBtdXN0IGJlIGEgZnVuY3Rpb24uJyk7XG4gICAgfVxuXG4gICAgbGV0IHJlc29sdmVQcm9taXNlO1xuXG4gICAgdGhpcy5wcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gcHJvbWlzZUV4ZWN1dG9yKHJlc29sdmUpIHtcbiAgICAgIHJlc29sdmVQcm9taXNlID0gcmVzb2x2ZTtcbiAgICB9KTtcblxuICAgIGNvbnN0IHRva2VuID0gdGhpcztcblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG4gICAgdGhpcy5wcm9taXNlLnRoZW4oY2FuY2VsID0+IHtcbiAgICAgIGlmICghdG9rZW4uX2xpc3RlbmVycykgcmV0dXJuO1xuXG4gICAgICBsZXQgaSA9IHRva2VuLl9saXN0ZW5lcnMubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoaS0tID4gMCkge1xuICAgICAgICB0b2tlbi5fbGlzdGVuZXJzW2ldKGNhbmNlbCk7XG4gICAgICB9XG4gICAgICB0b2tlbi5fbGlzdGVuZXJzID0gbnVsbDtcbiAgICB9KTtcblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG4gICAgdGhpcy5wcm9taXNlLnRoZW4gPSBvbmZ1bGZpbGxlZCA9PiB7XG4gICAgICBsZXQgX3Jlc29sdmU7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuICAgICAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICB0b2tlbi5zdWJzY3JpYmUocmVzb2x2ZSk7XG4gICAgICAgIF9yZXNvbHZlID0gcmVzb2x2ZTtcbiAgICAgIH0pLnRoZW4ob25mdWxmaWxsZWQpO1xuXG4gICAgICBwcm9taXNlLmNhbmNlbCA9IGZ1bmN0aW9uIHJlamVjdCgpIHtcbiAgICAgICAgdG9rZW4udW5zdWJzY3JpYmUoX3Jlc29sdmUpO1xuICAgICAgfTtcblxuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfTtcblxuICAgIGV4ZWN1dG9yKGZ1bmN0aW9uIGNhbmNlbChtZXNzYWdlLCBjb25maWcsIHJlcXVlc3QpIHtcbiAgICAgIGlmICh0b2tlbi5yZWFzb24pIHtcbiAgICAgICAgLy8gQ2FuY2VsbGF0aW9uIGhhcyBhbHJlYWR5IGJlZW4gcmVxdWVzdGVkXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdG9rZW4ucmVhc29uID0gbmV3IENhbmNlbGVkRXJyb3IobWVzc2FnZSwgY29uZmlnLCByZXF1ZXN0KTtcbiAgICAgIHJlc29sdmVQcm9taXNlKHRva2VuLnJlYXNvbik7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVGhyb3dzIGEgYENhbmNlbGVkRXJyb3JgIGlmIGNhbmNlbGxhdGlvbiBoYXMgYmVlbiByZXF1ZXN0ZWQuXG4gICAqL1xuICB0aHJvd0lmUmVxdWVzdGVkKCkge1xuICAgIGlmICh0aGlzLnJlYXNvbikge1xuICAgICAgdGhyb3cgdGhpcy5yZWFzb247XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFN1YnNjcmliZSB0byB0aGUgY2FuY2VsIHNpZ25hbFxuICAgKi9cblxuICBzdWJzY3JpYmUobGlzdGVuZXIpIHtcbiAgICBpZiAodGhpcy5yZWFzb24pIHtcbiAgICAgIGxpc3RlbmVyKHRoaXMucmVhc29uKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fbGlzdGVuZXJzKSB7XG4gICAgICB0aGlzLl9saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2xpc3RlbmVycyA9IFtsaXN0ZW5lcl07XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVuc3Vic2NyaWJlIGZyb20gdGhlIGNhbmNlbCBzaWduYWxcbiAgICovXG5cbiAgdW5zdWJzY3JpYmUobGlzdGVuZXIpIHtcbiAgICBpZiAoIXRoaXMuX2xpc3RlbmVycykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBpbmRleCA9IHRoaXMuX2xpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKTtcbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICB0aGlzLl9saXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhbiBvYmplY3QgdGhhdCBjb250YWlucyBhIG5ldyBgQ2FuY2VsVG9rZW5gIGFuZCBhIGZ1bmN0aW9uIHRoYXQsIHdoZW4gY2FsbGVkLFxuICAgKiBjYW5jZWxzIHRoZSBgQ2FuY2VsVG9rZW5gLlxuICAgKi9cbiAgc3RhdGljIHNvdXJjZSgpIHtcbiAgICBsZXQgY2FuY2VsO1xuICAgIGNvbnN0IHRva2VuID0gbmV3IENhbmNlbFRva2VuKGZ1bmN0aW9uIGV4ZWN1dG9yKGMpIHtcbiAgICAgIGNhbmNlbCA9IGM7XG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRva2VuLFxuICAgICAgY2FuY2VsXG4gICAgfTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDYW5jZWxUb2tlbjtcbiIsImNvbnN0IEh0dHBTdGF0dXNDb2RlID0ge1xuICBDb250aW51ZTogMTAwLFxuICBTd2l0Y2hpbmdQcm90b2NvbHM6IDEwMSxcbiAgUHJvY2Vzc2luZzogMTAyLFxuICBFYXJseUhpbnRzOiAxMDMsXG4gIE9rOiAyMDAsXG4gIENyZWF0ZWQ6IDIwMSxcbiAgQWNjZXB0ZWQ6IDIwMixcbiAgTm9uQXV0aG9yaXRhdGl2ZUluZm9ybWF0aW9uOiAyMDMsXG4gIE5vQ29udGVudDogMjA0LFxuICBSZXNldENvbnRlbnQ6IDIwNSxcbiAgUGFydGlhbENvbnRlbnQ6IDIwNixcbiAgTXVsdGlTdGF0dXM6IDIwNyxcbiAgQWxyZWFkeVJlcG9ydGVkOiAyMDgsXG4gIEltVXNlZDogMjI2LFxuICBNdWx0aXBsZUNob2ljZXM6IDMwMCxcbiAgTW92ZWRQZXJtYW5lbnRseTogMzAxLFxuICBGb3VuZDogMzAyLFxuICBTZWVPdGhlcjogMzAzLFxuICBOb3RNb2RpZmllZDogMzA0LFxuICBVc2VQcm94eTogMzA1LFxuICBVbnVzZWQ6IDMwNixcbiAgVGVtcG9yYXJ5UmVkaXJlY3Q6IDMwNyxcbiAgUGVybWFuZW50UmVkaXJlY3Q6IDMwOCxcbiAgQmFkUmVxdWVzdDogNDAwLFxuICBVbmF1dGhvcml6ZWQ6IDQwMSxcbiAgUGF5bWVudFJlcXVpcmVkOiA0MDIsXG4gIEZvcmJpZGRlbjogNDAzLFxuICBOb3RGb3VuZDogNDA0LFxuICBNZXRob2ROb3RBbGxvd2VkOiA0MDUsXG4gIE5vdEFjY2VwdGFibGU6IDQwNixcbiAgUHJveHlBdXRoZW50aWNhdGlvblJlcXVpcmVkOiA0MDcsXG4gIFJlcXVlc3RUaW1lb3V0OiA0MDgsXG4gIENvbmZsaWN0OiA0MDksXG4gIEdvbmU6IDQxMCxcbiAgTGVuZ3RoUmVxdWlyZWQ6IDQxMSxcbiAgUHJlY29uZGl0aW9uRmFpbGVkOiA0MTIsXG4gIFBheWxvYWRUb29MYXJnZTogNDEzLFxuICBVcmlUb29Mb25nOiA0MTQsXG4gIFVuc3VwcG9ydGVkTWVkaWFUeXBlOiA0MTUsXG4gIFJhbmdlTm90U2F0aXNmaWFibGU6IDQxNixcbiAgRXhwZWN0YXRpb25GYWlsZWQ6IDQxNyxcbiAgSW1BVGVhcG90OiA0MTgsXG4gIE1pc2RpcmVjdGVkUmVxdWVzdDogNDIxLFxuICBVbnByb2Nlc3NhYmxlRW50aXR5OiA0MjIsXG4gIExvY2tlZDogNDIzLFxuICBGYWlsZWREZXBlbmRlbmN5OiA0MjQsXG4gIFRvb0Vhcmx5OiA0MjUsXG4gIFVwZ3JhZGVSZXF1aXJlZDogNDI2LFxuICBQcmVjb25kaXRpb25SZXF1aXJlZDogNDI4LFxuICBUb29NYW55UmVxdWVzdHM6IDQyOSxcbiAgUmVxdWVzdEhlYWRlckZpZWxkc1Rvb0xhcmdlOiA0MzEsXG4gIFVuYXZhaWxhYmxlRm9yTGVnYWxSZWFzb25zOiA0NTEsXG4gIEludGVybmFsU2VydmVyRXJyb3I6IDUwMCxcbiAgTm90SW1wbGVtZW50ZWQ6IDUwMSxcbiAgQmFkR2F0ZXdheTogNTAyLFxuICBTZXJ2aWNlVW5hdmFpbGFibGU6IDUwMyxcbiAgR2F0ZXdheVRpbWVvdXQ6IDUwNCxcbiAgSHR0cFZlcnNpb25Ob3RTdXBwb3J0ZWQ6IDUwNSxcbiAgVmFyaWFudEFsc29OZWdvdGlhdGVzOiA1MDYsXG4gIEluc3VmZmljaWVudFN0b3JhZ2U6IDUwNyxcbiAgTG9vcERldGVjdGVkOiA1MDgsXG4gIE5vdEV4dGVuZGVkOiA1MTAsXG4gIE5ldHdvcmtBdXRoZW50aWNhdGlvblJlcXVpcmVkOiA1MTEsXG59O1xuXG5PYmplY3QuZW50cmllcyhIdHRwU3RhdHVzQ29kZSkuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gIEh0dHBTdGF0dXNDb2RlW3ZhbHVlXSA9IGtleTtcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBIdHRwU3RhdHVzQ29kZTtcbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHV0aWxzIGZyb20gJy4vdXRpbHMuanMnO1xuaW1wb3J0IGJpbmQgZnJvbSAnLi9oZWxwZXJzL2JpbmQuanMnO1xuaW1wb3J0IEF4aW9zIGZyb20gJy4vY29yZS9BeGlvcy5qcyc7XG5pbXBvcnQgbWVyZ2VDb25maWcgZnJvbSAnLi9jb3JlL21lcmdlQ29uZmlnLmpzJztcbmltcG9ydCBkZWZhdWx0cyBmcm9tICcuL2RlZmF1bHRzL2luZGV4LmpzJztcbmltcG9ydCBmb3JtRGF0YVRvSlNPTiBmcm9tICcuL2hlbHBlcnMvZm9ybURhdGFUb0pTT04uanMnO1xuaW1wb3J0IENhbmNlbGVkRXJyb3IgZnJvbSAnLi9jYW5jZWwvQ2FuY2VsZWRFcnJvci5qcyc7XG5pbXBvcnQgQ2FuY2VsVG9rZW4gZnJvbSAnLi9jYW5jZWwvQ2FuY2VsVG9rZW4uanMnO1xuaW1wb3J0IGlzQ2FuY2VsIGZyb20gJy4vY2FuY2VsL2lzQ2FuY2VsLmpzJztcbmltcG9ydCB7VkVSU0lPTn0gZnJvbSAnLi9lbnYvZGF0YS5qcyc7XG5pbXBvcnQgdG9Gb3JtRGF0YSBmcm9tICcuL2hlbHBlcnMvdG9Gb3JtRGF0YS5qcyc7XG5pbXBvcnQgQXhpb3NFcnJvciBmcm9tICcuL2NvcmUvQXhpb3NFcnJvci5qcyc7XG5pbXBvcnQgc3ByZWFkIGZyb20gJy4vaGVscGVycy9zcHJlYWQuanMnO1xuaW1wb3J0IGlzQXhpb3NFcnJvciBmcm9tICcuL2hlbHBlcnMvaXNBeGlvc0Vycm9yLmpzJztcbmltcG9ydCBBeGlvc0hlYWRlcnMgZnJvbSBcIi4vY29yZS9BeGlvc0hlYWRlcnMuanNcIjtcbmltcG9ydCBhZGFwdGVycyBmcm9tICcuL2FkYXB0ZXJzL2FkYXB0ZXJzLmpzJztcbmltcG9ydCBIdHRwU3RhdHVzQ29kZSBmcm9tICcuL2hlbHBlcnMvSHR0cFN0YXR1c0NvZGUuanMnO1xuXG4vKipcbiAqIENyZWF0ZSBhbiBpbnN0YW5jZSBvZiBBeGlvc1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBkZWZhdWx0Q29uZmlnIFRoZSBkZWZhdWx0IGNvbmZpZyBmb3IgdGhlIGluc3RhbmNlXG4gKlxuICogQHJldHVybnMge0F4aW9zfSBBIG5ldyBpbnN0YW5jZSBvZiBBeGlvc1xuICovXG5mdW5jdGlvbiBjcmVhdGVJbnN0YW5jZShkZWZhdWx0Q29uZmlnKSB7XG4gIGNvbnN0IGNvbnRleHQgPSBuZXcgQXhpb3MoZGVmYXVsdENvbmZpZyk7XG4gIGNvbnN0IGluc3RhbmNlID0gYmluZChBeGlvcy5wcm90b3R5cGUucmVxdWVzdCwgY29udGV4dCk7XG5cbiAgLy8gQ29weSBheGlvcy5wcm90b3R5cGUgdG8gaW5zdGFuY2VcbiAgdXRpbHMuZXh0ZW5kKGluc3RhbmNlLCBBeGlvcy5wcm90b3R5cGUsIGNvbnRleHQsIHthbGxPd25LZXlzOiB0cnVlfSk7XG5cbiAgLy8gQ29weSBjb250ZXh0IHRvIGluc3RhbmNlXG4gIHV0aWxzLmV4dGVuZChpbnN0YW5jZSwgY29udGV4dCwgbnVsbCwge2FsbE93bktleXM6IHRydWV9KTtcblxuICAvLyBGYWN0b3J5IGZvciBjcmVhdGluZyBuZXcgaW5zdGFuY2VzXG4gIGluc3RhbmNlLmNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShpbnN0YW5jZUNvbmZpZykge1xuICAgIHJldHVybiBjcmVhdGVJbnN0YW5jZShtZXJnZUNvbmZpZyhkZWZhdWx0Q29uZmlnLCBpbnN0YW5jZUNvbmZpZykpO1xuICB9O1xuXG4gIHJldHVybiBpbnN0YW5jZTtcbn1cblxuLy8gQ3JlYXRlIHRoZSBkZWZhdWx0IGluc3RhbmNlIHRvIGJlIGV4cG9ydGVkXG5jb25zdCBheGlvcyA9IGNyZWF0ZUluc3RhbmNlKGRlZmF1bHRzKTtcblxuLy8gRXhwb3NlIEF4aW9zIGNsYXNzIHRvIGFsbG93IGNsYXNzIGluaGVyaXRhbmNlXG5heGlvcy5BeGlvcyA9IEF4aW9zO1xuXG4vLyBFeHBvc2UgQ2FuY2VsICYgQ2FuY2VsVG9rZW5cbmF4aW9zLkNhbmNlbGVkRXJyb3IgPSBDYW5jZWxlZEVycm9yO1xuYXhpb3MuQ2FuY2VsVG9rZW4gPSBDYW5jZWxUb2tlbjtcbmF4aW9zLmlzQ2FuY2VsID0gaXNDYW5jZWw7XG5heGlvcy5WRVJTSU9OID0gVkVSU0lPTjtcbmF4aW9zLnRvRm9ybURhdGEgPSB0b0Zvcm1EYXRhO1xuXG4vLyBFeHBvc2UgQXhpb3NFcnJvciBjbGFzc1xuYXhpb3MuQXhpb3NFcnJvciA9IEF4aW9zRXJyb3I7XG5cbi8vIGFsaWFzIGZvciBDYW5jZWxlZEVycm9yIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5XG5heGlvcy5DYW5jZWwgPSBheGlvcy5DYW5jZWxlZEVycm9yO1xuXG4vLyBFeHBvc2UgYWxsL3NwcmVhZFxuYXhpb3MuYWxsID0gZnVuY3Rpb24gYWxsKHByb21pc2VzKSB7XG4gIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcyk7XG59O1xuXG5heGlvcy5zcHJlYWQgPSBzcHJlYWQ7XG5cbi8vIEV4cG9zZSBpc0F4aW9zRXJyb3JcbmF4aW9zLmlzQXhpb3NFcnJvciA9IGlzQXhpb3NFcnJvcjtcblxuLy8gRXhwb3NlIG1lcmdlQ29uZmlnXG5heGlvcy5tZXJnZUNvbmZpZyA9IG1lcmdlQ29uZmlnO1xuXG5heGlvcy5BeGlvc0hlYWRlcnMgPSBBeGlvc0hlYWRlcnM7XG5cbmF4aW9zLmZvcm1Ub0pTT04gPSB0aGluZyA9PiBmb3JtRGF0YVRvSlNPTih1dGlscy5pc0hUTUxGb3JtKHRoaW5nKSA/IG5ldyBGb3JtRGF0YSh0aGluZykgOiB0aGluZyk7XG5cbmF4aW9zLmdldEFkYXB0ZXIgPSBhZGFwdGVycy5nZXRBZGFwdGVyO1xuXG5heGlvcy5IdHRwU3RhdHVzQ29kZSA9IEh0dHBTdGF0dXNDb2RlO1xuXG5heGlvcy5kZWZhdWx0ID0gYXhpb3M7XG5cbi8vIHRoaXMgbW9kdWxlIHNob3VsZCBvbmx5IGhhdmUgYSBkZWZhdWx0IGV4cG9ydFxuZXhwb3J0IGRlZmF1bHQgYXhpb3NcbiIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBTeW50YWN0aWMgc3VnYXIgZm9yIGludm9raW5nIGEgZnVuY3Rpb24gYW5kIGV4cGFuZGluZyBhbiBhcnJheSBmb3IgYXJndW1lbnRzLlxuICpcbiAqIENvbW1vbiB1c2UgY2FzZSB3b3VsZCBiZSB0byB1c2UgYEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseWAuXG4gKlxuICogIGBgYGpzXG4gKiAgZnVuY3Rpb24gZih4LCB5LCB6KSB7fVxuICogIHZhciBhcmdzID0gWzEsIDIsIDNdO1xuICogIGYuYXBwbHkobnVsbCwgYXJncyk7XG4gKiAgYGBgXG4gKlxuICogV2l0aCBgc3ByZWFkYCB0aGlzIGV4YW1wbGUgY2FuIGJlIHJlLXdyaXR0ZW4uXG4gKlxuICogIGBgYGpzXG4gKiAgc3ByZWFkKGZ1bmN0aW9uKHgsIHksIHopIHt9KShbMSwgMiwgM10pO1xuICogIGBgYFxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKlxuICogQHJldHVybnMge0Z1bmN0aW9ufVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzcHJlYWQoY2FsbGJhY2spIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIHdyYXAoYXJyKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrLmFwcGx5KG51bGwsIGFycik7XG4gIH07XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlscyBmcm9tICcuLy4uL3V0aWxzLmpzJztcblxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIHBheWxvYWQgaXMgYW4gZXJyb3IgdGhyb3duIGJ5IEF4aW9zXG4gKlxuICogQHBhcmFtIHsqfSBwYXlsb2FkIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIHBheWxvYWQgaXMgYW4gZXJyb3IgdGhyb3duIGJ5IEF4aW9zLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNBeGlvc0Vycm9yKHBheWxvYWQpIHtcbiAgcmV0dXJuIHV0aWxzLmlzT2JqZWN0KHBheWxvYWQpICYmIChwYXlsb2FkLmlzQXhpb3NFcnJvciA9PT0gdHJ1ZSk7XG59XG4iLCIvKipcbiAqIEV4dGVybmFsIGRlcGVuZGVuY2llcy5cbiAqL1xuaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcblxuLy8gaW5pdGlhbCBzdGF0ZVxuY29uc3Qgc3RhdGUgPSAoKSA9PiAoe1xuICAgIHNldHRpbmdzOiBudWxsLFxuICAgIGlzU2F2aW5nOiBmYWxzZSxcbn0pO1xuXG4vLyBnZXR0ZXJzXG5jb25zdCBnZXR0ZXJzID0ge1xuICAgIHNldHRpbmdzOiBzdGF0ZSA9PiBzdGF0ZS5zZXR0aW5ncyxcbiAgICBpc1NhdmluZzogc3RhdGUgPT4gc3RhdGUuaXNTYXZpbmcsXG59O1xuXG4vLyBhY3Rpb25zXG5jb25zdCBhY3Rpb25zID0ge1xuICAgIGFzeW5jIHN0b3JlU2V0dGluZ3MoeyBjb21taXQgfSwgc2V0dGluZ3MpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbW1pdCgnc2V0U2V0dGluZ3NTYXZpbmcnLCB0cnVlKTtcbiAgXG4gICAgICAgICAgICAvLyBNYWtlIGEgUE9TVCByZXF1ZXN0IHRvIHRoZSBzcGVjaWZpZWQgZW5kcG9pbnRcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MucG9zdChgJHsgd3BBbVZ1ZS5zaXRlLnJlc3RfYmFzZSB9L3dwLWFtLXZ1ZS1hcHAvdjEvc2V0dGluZ3NgLFxuICAgICAgICAgICAgICAgIHNldHRpbmdzLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ1gtV1AtTm9uY2UnOmAkeyB3cEFtVnVlLnNpdGUubm9uY2UgfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gIFxuICAgICAgICAgICAgLy8gQXNzdW1pbmcgdGhlIHNlcnZlciByZXR1cm5zIHRoZSB1cGRhdGVkIHNldHRpbmdzXG4gICAgICAgICAgICBjb21taXQoJ3N0b3JlU2V0dGluZ3MnLCByZXNwb25zZS5kYXRhKTtcbiAgICAgICAgICAgIGNvbW1pdCgnc2V0U2V0dGluZ3NTYXZpbmcnLCBmYWxzZSk7XG4gICAgICAgIFxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igd2hpbGUgc2F2aW5nIHNldHRpbmdzOicsIGVycm9yKTtcbiAgICAgICAgICAgIGNvbW1pdCgnc2V0U2V0dGluZ3NTYXZpbmcnLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9LFxuICBcbiAgICBhc3luYyBnZXRTZXR0aW5ncyh7IGNvbW1pdCB9KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBNYWtlIGEgR0VUIHJlcXVlc3QgdG8gdGhlIHNwZWNpZmllZCBlbmRwb2ludFxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQoYCR7d3BBbVZ1ZS5zaXRlLnJlc3RfYmFzZX0vd3AtYW0tdnVlLWFwcC92MS9zZXR0aW5nc2ApO1xuXG4gICAgICAgICAgICAvLyBBc3N1bWluZyB0aGUgc2VydmVyIHJldHVybnMgdGhlIHNldHRpbmdzIGRhdGFcbiAgICAgICAgICAgIGNvbW1pdCgnc3RvcmVTZXR0aW5ncycsIHJlc3BvbnNlLmRhdGEpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igd2hpbGUgZmV0Y2hpbmcgc2V0dGluZ3M6JywgZXJyb3IpO1xuICAgICAgICB9XG4gICAgfSxcbn07XG5cbi8vIG11dGF0aW9uc1xuY29uc3QgbXV0YXRpb25zID0ge1xuICAgIHN0b3JlU2V0dGluZ3M6IChzdGF0ZSwgc2V0dGluZ3MpID0+IHtcbiAgICAgICAgc3RhdGUuc2V0dGluZ3MgPSBzZXR0aW5ncztcbiAgICB9LFxuXG4gICAgc2V0U2V0dGluZ3NTYXZpbmc6IChzdGF0ZSwgaXNTYXZpbmcpID0+IHtcbiAgICAgICAgc3RhdGUuaXNTYXZpbmcgPSBpc1NhdmluZztcbiAgICB9LFxufTtcblxuZXhwb3J0IGRlZmF1bHQge1xuICAgIHN0YXRlLFxuICAgIGdldHRlcnMsXG4gICAgYWN0aW9ucyxcbiAgICBtdXRhdGlvbnNcbn07IiwiaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcblxuY29uc3Qgc3RhdGUgPSB7XG4gICAgdGFibGVIZWFkZXJzOiBbXSxcbiAgICB0YWJsZVJvd3M6IFtdLFxufTtcblxuY29uc3QgbXV0YXRpb25zID0ge1xuICAgIFNFVF9UQUJMRV9IRUFERVJTKHN0YXRlLCBoZWFkZXJzKSB7XG4gICAgICAgIHN0YXRlLnRhYmxlSGVhZGVycyA9IGhlYWRlcnM7XG4gICAgfSxcbiAgICBTRVRfVEFCTEVfUk9XUyhzdGF0ZSwgcm93cykge1xuICAgICAgICBzdGF0ZS50YWJsZVJvd3MgPSByb3dzO1xuICAgIH0sXG59O1xuXG5jb25zdCBhY3Rpb25zID0ge1xuICAgIGdldFRhYmxlRGF0YSh7IGNvbW1pdCwgcm9vdEdldHRlcnMgfSkge1xuICAgICAgICBjb25zdCBzZXR0aW5ncyA9IHJvb3RHZXR0ZXJzWydzZXR0aW5ncyddO1xuXG4gICAgICAgIGlmICghc2V0dGluZ3MpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1NldHRpbmdzIG5vdCBmb3VuZCcpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgYXhpb3MuZ2V0KGAke3dwQW1WdWUuc2l0ZS5yZXN0X2Jhc2V9L3dwLWFtLXZ1ZS1hcHAvdjEvZGF0YWApXG4gICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHJlc3BvbnNlLmRhdGEudGFibGUuZGF0YTtcbiAgICAgICAgICAgICAgICBjb25zdCBoZWFkZXJzID0gZGF0YS5oZWFkZXJzO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJvd3MgPSBkYXRhLnJvd3MubWFwKHJvdyA9PiAoe1xuICAgICAgICAgICAgICAgICAgICBpZDogcm93LmlkLFxuICAgICAgICAgICAgICAgICAgICB1cmw6IHJvdy51cmwsXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiByb3cudGl0bGUsXG4gICAgICAgICAgICAgICAgICAgIHBhZ2V2aWV3czogcm93LnBhZ2V2aWV3cyxcbiAgICAgICAgICAgICAgICAgICAgZGF0ZTogc2V0dGluZ3MucmVhZGFibGUgPT09IDEgPyBuZXcgRGF0ZShyb3cuZGF0ZSAqIDEwMDApLnRvTG9jYWxlU3RyaW5nKCkgOiByb3cuZGF0ZSxcbiAgICAgICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBzbGljZWRSb3dzID0gcm93cy5zbGljZSgwLCBzZXR0aW5ncy5yb3dzKTtcblxuICAgICAgICAgICAgICAgIGNvbW1pdCgnU0VUX1RBQkxFX0hFQURFUlMnLCBoZWFkZXJzKTtcbiAgICAgICAgICAgICAgICBjb21taXQoJ1NFVF9UQUJMRV9ST1dTJywgc2xpY2VkUm93cyk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyB0YWJsZSBkYXRhOicsIGVycm9yKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH0sXG59O1xuXG5jb25zdCBnZXR0ZXJzID0ge1xuICAgIGdldFRhYmxlSGVhZGVyczogc3RhdGUgPT4gc3RhdGUudGFibGVIZWFkZXJzLFxuICAgIGdldFRhYmxlUm93czogc3RhdGUgPT4gc3RhdGUudGFibGVSb3dzLFxufTtcblxuZXhwb3J0IGRlZmF1bHQge1xuICAgIHN0YXRlLFxuICAgIG11dGF0aW9ucyxcbiAgICBhY3Rpb25zLFxuICAgIGdldHRlcnMsXG59O1xuIiwiLyoqXG4gKiBFeHRlcm5hbCBkZXBlbmRlbmNpZXMuXG4gKi9cbmltcG9ydCB7IGNyZWF0ZVN0b3JlLCBjcmVhdGVMb2dnZXIgfSBmcm9tIFwidnVleFwiO1xuaW1wb3J0IHNldHRpbmdzIGZyb20gXCIuL21vZHVsZXMvc2V0dGluZ3NcIjtcbmltcG9ydCBnbG9iYWwgZnJvbSBcIi4vbW9kdWxlcy9nbG9iYWxcIjtcbmltcG9ydCBncmFwaCBmcm9tIFwiLi9tb2R1bGVzL2dyYXBoXCI7XG5pbXBvcnQgdGFibGUgZnJvbSBcIi4vbW9kdWxlcy90YWJsZVwiO1xuXG5jb25zdCBkZWJ1ZyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIjtcblxuY29uc3Qgc3RvcmUgPSBjcmVhdGVTdG9yZSh7XG4gICAgbW9kdWxlczoge1xuICAgICAgICBnbG9iYWwsXG4gICAgICAgIHNldHRpbmdzLFxuICAgICAgICBncmFwaCxcbiAgICAgICAgdGFibGUsXG4gICAgfSxcbiAgICBzdHJpY3Q6IGRlYnVnLFxuICAgIHBsdWdpbnM6IGRlYnVnID8gW2NyZWF0ZUxvZ2dlcigpXSA6IFtdXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgc3RvcmU7XG4iLCIvLyBpbml0aWFsIHN0YXRlXG5jb25zdCBzdGF0ZSA9ICgpID0+ICh7XG4gICAgYWxlcnQ6IHtcbiAgICAgICAgaXNWaXNpYmxlOiBmYWxzZSxcbiAgICAgICAgbWVzc2FnZSAgOiAnJyxcbiAgICAgICAgdHlwZSAgICAgOiAnZGVmYXVsdCdcbiAgICB9XG59KTtcblxuLy8gZ2V0dGVyc1xuY29uc3QgZ2V0dGVycyA9IHtcbiAgICBhbGVydCA6IHN0YXRlID0+IHN0YXRlLmFsZXJ0LFxufTtcblxuLy8gYWN0aW9uc1xuY29uc3QgYWN0aW9ucyA9IHtcbiAgICBzZXRBbGVydCh7IGNvbW1pdCB9LCBhbGVydCkge1xuICAgICAgICBjb21taXQoJ3NldEFsZXJ0JywgYWxlcnQpO1xuXG4gICAgICAgIC8vIEhpZGUgdGhlIHN1Y2Nlc3MgYWxlcnQgYWZ0ZXIgNSBzZWNvbmRzLlxuICAgICAgICBpZiAoJ3N1Y2Nlc3MnID09PSBhbGVydC50eXBlKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBjb21taXQoJ2hpZGVBbGVydCcpO1xuICAgICAgICAgICAgfSwgNTAwMCk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgc2hvd0FsZXJ0KHsgY29tbWl0IH0pIHtcbiAgICAgICAgY29tbWl0KCdzZXRJc0FsZXJ0VmlzaWJsZScsIHRydWUpO1xuICAgIH0sXG5cbiAgICBoaWRlQWxlcnQoeyBjb21taXQgfSkge1xuICAgICAgICBjb21taXQoJ2hpZGVBbGVydCcsIGZhbHNlKTtcbiAgICB9LFxufTtcblxuLy8gbXV0YXRpb25zXG5jb25zdCBtdXRhdGlvbnMgPSB7XG4gICAgc2V0QWxlcnQ6IChzdGF0ZSwgYWxlcnQpID0+IHtcbiAgICAgICAgc3RhdGUuYWxlcnQgPSB7XG4gICAgICAgICAgICAuLi5zdGF0ZS5hbGVydCxcbiAgICAgICAgICAgIGlzVmlzaWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIC4uLmFsZXJ0XG4gICAgICAgIH07XG4gICAgfSxcblxuICAgIGhpZGVBbGVydDogKHN0YXRlKSA9PiB7XG4gICAgICAgIHN0YXRlLmFsZXJ0ID0ge1xuICAgICAgICAgICAgaXNWaXNpYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIG1lc3NhZ2UgIDogJycsXG4gICAgICAgICAgICB0eXBlICAgICA6ICdkZWZhdWx0J1xuICAgICAgICB9O1xuICAgIH0sXG5cbiAgICBzZXRJc0FsZXJ0VmlzaWJsZTogKHN0YXRlLCBpc1Zpc2libGUpID0+IHtcbiAgICAgICAgc3RhdGUuYWxlcnQgPSB7XG4gICAgICAgICAgICAuLi5zdGF0ZS5hbGVydCxcbiAgICAgICAgICAgIGlzVmlzaWJsZVxuICAgICAgICB9O1xuICAgIH0sXG59O1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgc3RhdGUsXG4gICAgZ2V0dGVycyxcbiAgICBhY3Rpb25zLFxuICAgIG11dGF0aW9uc1xufTtcbiIsImltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XG5cbmNvbnN0IHN0YXRlID0ge1xuICAgIGdyYXBoRGF0YToge1xuICAgICAgICBsYWJlbHM6IFtdLFxuICAgICAgICB2YWx1ZXM6IFtdLFxuICAgIH0sXG59O1xuXG5jb25zdCBtdXRhdGlvbnMgPSB7XG4gICAgU0VUX0dSQVBIX0RBVEEoc3RhdGUsIG5ld0RhdGEpIHtcbiAgICAvLyBDbGVhciBleGlzdGluZyBkYXRhXG4gICAgICAgIHN0YXRlLmdyYXBoRGF0YS5sYWJlbHMgPSBbXTtcbiAgICAgICAgc3RhdGUuZ3JhcGhEYXRhLnZhbHVlcyA9IFtdO1xuXG4gICAgICAgIC8vIFB1c2ggbmV3IGRhdGFcbiAgICAgICAgc3RhdGUuZ3JhcGhEYXRhLmxhYmVscy5wdXNoKC4uLm5ld0RhdGEubGFiZWxzKTtcbiAgICAgICAgc3RhdGUuZ3JhcGhEYXRhLnZhbHVlcy5wdXNoKC4uLm5ld0RhdGEudmFsdWVzKTtcblxuICAgIH0sXG59O1xuXG5jb25zdCBhY3Rpb25zID0ge1xuICAgIGZldGNoR3JhcGhEYXRhKHsgY29tbWl0IH0pIHtcbiAgICAgICAgYXhpb3MuZ2V0KGAke3dwQW1WdWUuc2l0ZS5yZXN0X2Jhc2V9L3dwLWFtLXZ1ZS1hcHAvdjEvZGF0YWApXG4gICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHJlc3BvbnNlLmRhdGEuZ3JhcGg7XG5cblxuICAgICAgICAgICAgICAgIC8vIHRlbXBvcmFyeSB2YXJpYWJsZXNcbiAgICAgICAgICAgICAgICBjb25zdCBsYWJlbHMgPSBbXTtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBbXTtcblxuICAgICAgICAgICAgICAgIE9iamVjdC52YWx1ZXMoZGF0YSkuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoaXRlbS5kYXRlICogMTAwMCk7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVscy5wdXNoKGRhdGUudG9Mb2NhbGVTdHJpbmcoJ2RlZmF1bHQnLCB7IG1vbnRoOiAnbG9uZycgfSkpO1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZXMucHVzaChpdGVtLnZhbHVlKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGdyYXBoRGF0YSA9IHtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWxzLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZXMsXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8vIENvbW1pdCB0aGUgZGF0YSB0byBncmFwaERhdGFcbiAgICAgICAgICAgICAgICBjb21taXQoJ1NFVF9HUkFQSF9EQVRBJywgZ3JhcGhEYXRhKTtcblxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgZGF0YSBpbjonLCBlcnJvcik7XG4gICAgICAgICAgICB9KTtcbiAgICB9LFxufTtcblxuY29uc3QgZ2V0dGVycyA9IHtcbiAgICBnZXRHcmFwaERhdGE6IChzdGF0ZSkgPT4gc3RhdGUuZ3JhcGhEYXRhLFxufTtcblxuZXhwb3J0IGRlZmF1bHQge1xuICAgIHN0YXRlLFxuICAgIG11dGF0aW9ucyxcbiAgICBhY3Rpb25zLFxuICAgIGdldHRlcnMsXG59O1xuIiwiLyoqXG4gKiBFeHRlcm5hbCBkZXBlbmRlbmNpZXMuXG4gKi9cbmltcG9ydCB7IGNyZWF0ZUFwcCB9IGZyb20gXCJ2dWVcIjtcbmltcG9ydCB7IGNyZWF0ZUhvb2tzIH0gZnJvbSBcIkB3b3JkcHJlc3MvaG9va3NcIjtcblxuLyoqXG4gKiBJbnRlcm5hbCBkZXBlbmRlbmNpZXMuXG4gKi9cbmltcG9ydCBBcHAgZnJvbSBcIi4vQXBwLnZ1ZVwiO1xuaW1wb3J0IHJvdXRlciBmcm9tIFwiLi9yb3V0ZXJcIjtcbmltcG9ydCAnLi9pMThuJztcbmltcG9ydCBcIi4vc3R5bGVzL21haW4uc2Nzc1wiO1xuaW1wb3J0IGkxOG5NaXhpbiBmcm9tIFwiLi9taXhpbnMvaTE4blwiO1xuaW1wb3J0ICcuL3V0aWxzL21lbnUtZml4JztcbmltcG9ydCBzdG9yZSBmcm9tIFwiLi9zdG9yZVwiO1xuXG4vLyBDcmVhdGUgdnVlIGFwcCBpbnN0YW5jZS5cbmNvbnN0IGFwcCA9IGNyZWF0ZUFwcCh7XG4gICAgZXh0ZW5kczogQXBwLFxuICAgIG1peGluczogW2kxOG5NaXhpbl1cbn0pO1xuXG5hcHAudXNlKHJvdXRlcilcbiAgICAudXNlKHN0b3JlKTtcblxuYXBwLmNvbmZpZy5kZXZ0b29scyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcImRldmVsb3BtZW50XCI7XG5cbi8vIEZpbmFsbHkgTW91bnQgb24gdGhlICN3cC1hbS12dWUtYXBwIGRpdi5cbmFwcC5tb3VudChcIiN3cC1hbS12dWUtYXBwXCIpO1xuXG4vLyBBZGQgYWN0aW9uL2ZpbHRlciBob29rcyBpbmplY3RhYmxlXG53aW5kb3cud3BBbVZ1ZUhvb2tzID0gY3JlYXRlSG9va3MoKTtcbndwQW1WdWVIb29rcy5hZGRGaWx0ZXIgPSAoaG9va05hbWUsIG5hbWVzcGFjZSwgY29tcG9uZW50LCBwcmlvcml0eSA9IDEwKSA9PiB7XG4gICAgd3BBbVZ1ZUhvb2tzLmhvb2tzLmFkZEZpbHRlcihcbiAgICAgICAgaG9va05hbWUsXG4gICAgICAgIG5hbWVzcGFjZSxcbiAgICAgICAgY29tcG9uZW50cyA9PiB7XG4gICAgICAgICAgICBjb21wb25lbnRzLnB1c2goY29tcG9uZW50KTtcbiAgICAgICAgICAgIHJldHVybiBjb21wb25lbnRzO1xuICAgICAgICB9LFxuICAgICAgICBwcmlvcml0eVxuICAgICk7XG59O1xuIl0sIm5hbWVzIjpbInJlIiwibm90X3N0cmluZyIsIm5vdF9ib29sIiwibm90X3R5cGUiLCJub3RfcHJpbWl0aXZlIiwibnVtYmVyIiwibnVtZXJpY19hcmciLCJqc29uIiwibm90X2pzb24iLCJ0ZXh0IiwibW9kdWxvIiwicGxhY2Vob2xkZXIiLCJrZXkiLCJrZXlfYWNjZXNzIiwiaW5kZXhfYWNjZXNzIiwic2lnbiIsInNwcmludGYiLCJwYXJzZV90cmVlIiwiYXJndiIsImFyZyIsImkiLCJrIiwicGgiLCJwYWQiLCJwYWRfY2hhcmFjdGVyIiwicGFkX2xlbmd0aCIsImlzX3Bvc2l0aXZlIiwiY3Vyc29yIiwidHJlZV9sZW5ndGgiLCJsZW5ndGgiLCJvdXRwdXQiLCJrZXlzIiwidW5kZWZpbmVkIiwiRXJyb3IiLCJwYXJhbV9ubyIsInRlc3QiLCJ0eXBlIiwiRnVuY3Rpb24iLCJpc05hTiIsIlR5cGVFcnJvciIsInBhcnNlSW50IiwidG9TdHJpbmciLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJKU09OIiwic3RyaW5naWZ5Iiwid2lkdGgiLCJwcmVjaXNpb24iLCJwYXJzZUZsb2F0IiwidG9FeHBvbmVudGlhbCIsInRvRml4ZWQiLCJOdW1iZXIiLCJ0b1ByZWNpc2lvbiIsInN1YnN0cmluZyIsIk9iamVjdCIsInByb3RvdHlwZSIsImNhbGwiLCJzbGljZSIsInRvTG93ZXJDYXNlIiwidmFsdWVPZiIsInRvVXBwZXJDYXNlIiwicmVwbGFjZSIsInBhZF9jaGFyIiwiY2hhckF0IiwicmVwZWF0IiwiYWxpZ24iLCJzcHJpbnRmX2Zvcm1hdCIsImZtdCIsInNwcmludGZfY2FjaGUiLCJtYXRjaCIsIl9mbXQiLCJhcmdfbmFtZXMiLCJleGVjIiwicHVzaCIsIlN5bnRheEVycm9yIiwiZmllbGRfbGlzdCIsInJlcGxhY2VtZW50X2ZpZWxkIiwiZmllbGRfbWF0Y2giLCJzcHJpbnRmX3BhcnNlIiwiYXJndW1lbnRzIiwidnNwcmludGYiLCJhcHBseSIsImNvbmNhdCIsImNyZWF0ZSIsImV4cG9ydHMiLCJ3aW5kb3ciLCJzZmMiLCJwcm9wcyIsInRhcmdldCIsIl9fdmNjT3B0cyIsInZhbCIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJuIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImQiLCJhIiwiZGVmaW5pdGlvbiIsIm8iLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJnIiwiZ2xvYmFsVGhpcyIsInRoaXMiLCJlIiwib2JqIiwicHJvcCIsImhhc093blByb3BlcnR5IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJzdHIiLCJleHBlY3RzTG93ZXJDYXNlIiwic2V0IiwiU2V0Iiwic3BsaXQiLCJoYXMiLCJFTVBUWV9BUlIiLCJOTyIsImNoYXJDb2RlQXQiLCJpc01vZGVsTGlzdGVuZXIiLCJzdGFydHNXaXRoIiwiYXNzaWduIiwicmVtb3ZlIiwiYXJyIiwiZWwiLCJpbmRleE9mIiwic3BsaWNlIiwiQXJyYXkiLCJpc0FycmF5IiwiaXNNYXAiLCJ0b1R5cGVTdHJpbmciLCJpc1N5bWJvbCIsInRoZW4iLCJjYXRjaCIsIm9iamVjdFRvU3RyaW5nIiwiaXNQbGFpbk9iamVjdCIsImlzSW50ZWdlcktleSIsImNhY2hlU3RyaW5nRnVuY3Rpb24iLCJmbiIsImNhY2hlIiwiY2FtZWxpemVSRSIsIl8iLCJjIiwiaHlwaGVuYXRlUkUiLCJvbGRWYWx1ZSIsImlzIiwiaW52b2tlQXJyYXlGbnMiLCJmbnMiLCJkZWYiLCJ3cml0YWJsZSIsImNvbmZpZ3VyYWJsZSIsImxvb3NlVG9OdW1iZXIiLCJ0b051bWJlciIsIk5hTiIsIl9nbG9iYWxUaGlzIiwiZ2V0R2xvYmFsVGhpcyIsInNlbGYiLCJyZXMiLCJpdGVtIiwibm9ybWFsaXplZCIsInBhcnNlU3RyaW5nU3R5bGUiLCJsaXN0RGVsaW1pdGVyUkUiLCJwcm9wZXJ0eURlbGltaXRlclJFIiwic3R5bGVDb21tZW50UkUiLCJjc3NUZXh0IiwicmV0IiwiZm9yRWFjaCIsInRtcCIsInRyaW0iLCJuYW1lIiwiaXNTcGVjaWFsQm9vbGVhbkF0dHIiLCJ0b0Rpc3BsYXlTdHJpbmciLCJyZXBsYWNlciIsIl9rZXkiLCJfX3ZfaXNSZWYiLCJzaXplIiwiZW50cmllcyIsInJlZHVjZSIsInZhbDIiLCJzdHJpbmdpZnlTeW1ib2wiLCJ2YWx1ZXMiLCJtYXAiLCJ2IiwiX2EiLCJkZXNjcmlwdGlvbiIsImFjdGl2ZUVmZmVjdFNjb3BlIiwiYWN0aXZlRWZmZWN0IiwiRWZmZWN0U2NvcGUiLCJjb25zdHJ1Y3RvciIsImRldGFjaGVkIiwiX2FjdGl2ZSIsImVmZmVjdHMiLCJjbGVhbnVwcyIsInBhcmVudCIsImluZGV4Iiwic2NvcGVzIiwiYWN0aXZlIiwicnVuIiwiY3VycmVudEVmZmVjdFNjb3BlIiwib24iLCJvZmYiLCJzdG9wIiwiZnJvbVBhcmVudCIsImwiLCJsYXN0IiwicG9wIiwiUmVhY3RpdmVFZmZlY3QiLCJ0cmlnZ2VyIiwic2NoZWR1bGVyIiwic2NvcGUiLCJkZXBzIiwiX2RpcnR5TGV2ZWwiLCJfdHJhY2tJZCIsIl9ydW5uaW5ncyIsIl9zaG91bGRTY2hlZHVsZSIsIl9kZXBzTGVuZ3RoIiwiZWZmZWN0IiwicmVjb3JkRWZmZWN0U2NvcGUiLCJkaXJ0eSIsInBhdXNlVHJhY2tpbmciLCJkZXAiLCJjb21wdXRlZCIsInRyaWdnZXJDb21wdXRlZCIsInJlc2V0VHJhY2tpbmciLCJsYXN0U2hvdWxkVHJhY2siLCJzaG91bGRUcmFjayIsImxhc3RFZmZlY3QiLCJwcmVDbGVhbnVwRWZmZWN0IiwicG9zdENsZWFudXBFZmZlY3QiLCJvblN0b3AiLCJlZmZlY3QyIiwiY2xlYW51cERlcEVmZmVjdCIsInRyYWNrSWQiLCJkZWxldGUiLCJjbGVhbnVwIiwicGF1c2VTY2hlZHVsZVN0YWNrIiwidHJhY2tTdGFjayIsInBhdXNlU2NoZWR1bGluZyIsInJlc2V0U2NoZWR1bGluZyIsInF1ZXVlRWZmZWN0U2NoZWR1bGVycyIsInNoaWZ0IiwidHJhY2tFZmZlY3QiLCJkZWJ1Z2dlckV2ZW50RXh0cmFJbmZvIiwib2xkRGVwIiwidHJpZ2dlckVmZmVjdHMiLCJkaXJ0eUxldmVsIiwidHJhY2tpbmciLCJhbGxvd1JlY3Vyc2UiLCJjcmVhdGVEZXAiLCJNYXAiLCJ0YXJnZXRNYXAiLCJXZWFrTWFwIiwiSVRFUkFURV9LRVkiLCJNQVBfS0VZX0lURVJBVEVfS0VZIiwiZGVwc01hcCIsIm5ld1ZhbHVlIiwib2xkVGFyZ2V0IiwibmV3TGVuZ3RoIiwia2V5MiIsImlzTm9uVHJhY2thYmxlS2V5cyIsImJ1aWx0SW5TeW1ib2xzIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsImZpbHRlciIsImFycmF5SW5zdHJ1bWVudGF0aW9ucyIsImNyZWF0ZUFycmF5SW5zdHJ1bWVudGF0aW9ucyIsImluc3RydW1lbnRhdGlvbnMiLCJhcmdzIiwiQmFzZVJlYWN0aXZlSGFuZGxlciIsIl9pc1JlYWRvbmx5IiwiX2lzU2hhbGxvdyIsInJlY2VpdmVyIiwiaXNSZWFkb25seTIiLCJpc1NoYWxsb3cyIiwic2hhbGxvd1JlYWRvbmx5TWFwIiwicmVhZG9ubHlNYXAiLCJzaGFsbG93UmVhY3RpdmVNYXAiLCJyZWFjdGl2ZU1hcCIsImdldFByb3RvdHlwZU9mIiwidGFyZ2V0SXNBcnJheSIsIlJlZmxlY3QiLCJyZWFkb25seSIsInJlYWN0aXZlIiwiTXV0YWJsZVJlYWN0aXZlSGFuZGxlciIsInN1cGVyIiwiaXNPbGRWYWx1ZVJlYWRvbmx5IiwiaGFkS2V5IiwicmVzdWx0IiwiZGVsZXRlUHJvcGVydHkiLCJvd25LZXlzIiwiUmVhZG9ubHlSZWFjdGl2ZUhhbmRsZXIiLCJtdXRhYmxlSGFuZGxlcnMiLCJyZWFkb25seUhhbmRsZXJzIiwic2hhbGxvd1JlYWN0aXZlSGFuZGxlcnMiLCJ0b1NoYWxsb3ciLCJnZXRQcm90byIsImlzUmVhZG9ubHkiLCJpc1NoYWxsb3ciLCJyYXdUYXJnZXQiLCJyYXdLZXkiLCJoYXMyIiwid3JhcCIsInRvUmVhZG9ubHkiLCJ0b1JlYWN0aXZlIiwiYWRkIiwiZ2V0MiIsImRlbGV0ZUVudHJ5IiwiY2xlYXIiLCJoYWRJdGVtcyIsImNyZWF0ZUZvckVhY2giLCJjYWxsYmFjayIsInRoaXNBcmciLCJvYnNlcnZlZCIsImNyZWF0ZUl0ZXJhYmxlTWV0aG9kIiwibWV0aG9kIiwidGFyZ2V0SXNNYXAiLCJpc1BhaXIiLCJpdGVyYXRvciIsImlzS2V5T25seSIsImlubmVySXRlcmF0b3IiLCJuZXh0IiwiZG9uZSIsImNyZWF0ZVJlYWRvbmx5TWV0aG9kIiwiY3JlYXRlSW5zdHJ1bWVudGF0aW9ucyIsIm11dGFibGVJbnN0cnVtZW50YXRpb25zMiIsInNoYWxsb3dJbnN0cnVtZW50YXRpb25zMiIsInJlYWRvbmx5SW5zdHJ1bWVudGF0aW9uczIiLCJzaGFsbG93UmVhZG9ubHlJbnN0cnVtZW50YXRpb25zMiIsIm11dGFibGVJbnN0cnVtZW50YXRpb25zIiwicmVhZG9ubHlJbnN0cnVtZW50YXRpb25zIiwic2hhbGxvd0luc3RydW1lbnRhdGlvbnMiLCJzaGFsbG93UmVhZG9ubHlJbnN0cnVtZW50YXRpb25zIiwiY3JlYXRlSW5zdHJ1bWVudGF0aW9uR2V0dGVyIiwic2hhbGxvdyIsIm11dGFibGVDb2xsZWN0aW9uSGFuZGxlcnMiLCJzaGFsbG93Q29sbGVjdGlvbkhhbmRsZXJzIiwicmVhZG9ubHlDb2xsZWN0aW9uSGFuZGxlcnMiLCJjcmVhdGVSZWFjdGl2ZU9iamVjdCIsInNoYWxsb3dSZWFjdGl2ZSIsImJhc2VIYW5kbGVycyIsImNvbGxlY3Rpb25IYW5kbGVycyIsInByb3h5TWFwIiwiZXhpc3RpbmdQcm94eSIsInRhcmdldFR5cGUiLCJpc0V4dGVuc2libGUiLCJyYXdUeXBlIiwidGFyZ2V0VHlwZU1hcCIsInByb3h5IiwiUHJveHkiLCJpc1Byb3h5IiwicmF3IiwiQ29tcHV0ZWRSZWZJbXBsIiwiX3NldHRlciIsImlzU1NSIiwiX3ZhbHVlIiwidHJpZ2dlclJlZlZhbHVlIiwiX2NhY2hlYWJsZSIsInRyYWNrUmVmVmFsdWUiLCJfZGlydHkiLCJyZWYyIiwibmV3VmFsIiwib2xkVmFsIiwiY3JlYXRlUmVmIiwic2hhbGxvd1JlZiIsInJhd1ZhbHVlIiwiUmVmSW1wbCIsIl9fdl9pc1NoYWxsb3ciLCJfcmF3VmFsdWUiLCJ1c2VEaXJlY3RWYWx1ZSIsInVucmVmIiwic2hhbGxvd1Vud3JhcEhhbmRsZXJzIiwicHJveHlSZWZzIiwib2JqZWN0V2l0aFJlZnMiLCJjYWxsV2l0aEVycm9ySGFuZGxpbmciLCJpbnN0YW5jZSIsImVyciIsImhhbmRsZUVycm9yIiwiY2FsbFdpdGhBc3luY0Vycm9ySGFuZGxpbmciLCJ0aHJvd0luRGV2Iiwidm5vZGUiLCJjdXIiLCJleHBvc2VkSW5zdGFuY2UiLCJlcnJvckluZm8iLCJlcnJvckNhcHR1cmVkSG9va3MiLCJlYyIsImFwcEVycm9ySGFuZGxlciIsImFwcENvbnRleHQiLCJjb25maWciLCJlcnJvckhhbmRsZXIiLCJjb250ZXh0Vk5vZGUiLCJjb25zb2xlIiwiZXJyb3IiLCJsb2dFcnJvciIsImlzRmx1c2hpbmciLCJpc0ZsdXNoUGVuZGluZyIsInF1ZXVlIiwiZmx1c2hJbmRleCIsInBlbmRpbmdQb3N0Rmx1c2hDYnMiLCJhY3RpdmVQb3N0Rmx1c2hDYnMiLCJwb3N0Rmx1c2hJbmRleCIsInJlc29sdmVkUHJvbWlzZSIsIlByb21pc2UiLCJyZXNvbHZlIiwiY3VycmVudEZsdXNoUHJvbWlzZSIsIm5leHRUaWNrIiwicCIsImJpbmQiLCJxdWV1ZUpvYiIsImpvYiIsImluY2x1ZGVzIiwiaWQiLCJzdGFydCIsImVuZCIsIm1pZGRsZSIsIm1pZGRsZUpvYiIsIm1pZGRsZUpvYklkIiwiZ2V0SWQiLCJwcmUiLCJmaW5kSW5zZXJ0aW9uSW5kZXgiLCJxdWV1ZUZsdXNoIiwiZmx1c2hKb2JzIiwiZmx1c2hQcmVGbHVzaENicyIsInNlZW4iLCJjYiIsInVpZCIsImZsdXNoUG9zdEZsdXNoQ2JzIiwiZGVkdXBlZCIsInNvcnQiLCJiIiwiSW5maW5pdHkiLCJjb21wYXJhdG9yIiwiZGlmZiIsImRldnRvb2xzJDEiLCJidWZmZXIiLCJkZXZ0b29sc05vdEluc3RhbGxlZCIsImVtaXQkMSIsImV2ZW50IiwiZW1pdCIsInNldERldnRvb2xzSG9vayQxIiwiaG9vayIsIl9iIiwiZW5hYmxlZCIsIkhUTUxFbGVtZW50IiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiX19WVUVfREVWVE9PTFNfSE9PS19SRVBMQVlfXyIsIm5ld0hvb2siLCJzZXRUaW1lb3V0IiwiZGV2dG9vbHNDb21wb25lbnRBZGRlZCIsImNyZWF0ZURldnRvb2xzQ29tcG9uZW50SG9vayIsImRldnRvb2xzQ29tcG9uZW50VXBkYXRlZCIsIl9kZXZ0b29sc0NvbXBvbmVudFJlbW92ZWQiLCJkZXZ0b29sc0NvbXBvbmVudFJlbW92ZWQiLCJjb21wb25lbnQiLCJjbGVhbnVwQnVmZmVyIiwiYXBwIiwicmF3QXJncyIsImlzVW5tb3VudGVkIiwibW9kZWxBcmciLCJtb2RpZmllcnNLZXkiLCJoYW5kbGVyTmFtZSIsIl9fVlVFX1BST0RfREVWVE9PTFNfXyIsInBhcmFtcyIsImRldnRvb2xzQ29tcG9uZW50RW1pdCIsImhhbmRsZXIiLCJvbmNlSGFuZGxlciIsImVtaXR0ZWQiLCJub3JtYWxpemVFbWl0c09wdGlvbnMiLCJjb21wIiwiYXNNaXhpbiIsImVtaXRzQ2FjaGUiLCJjYWNoZWQiLCJlbWl0cyIsImhhc0V4dGVuZHMiLCJfX1ZVRV9PUFRJT05TX0FQSV9fIiwiZXh0ZW5kRW1pdHMiLCJyYXcyIiwibm9ybWFsaXplZEZyb21FeHRlbmQiLCJtaXhpbnMiLCJleHRlbmRzIiwiaXNFbWl0TGlzdGVuZXIiLCJvcHRpb25zIiwiY3VycmVudFJlbmRlcmluZ0luc3RhbmNlIiwiY3VycmVudFNjb3BlSWQiLCJzZXRDdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UiLCJwcmV2IiwiX19zY29wZUlkIiwicHVzaFNjb3BlSWQiLCJwb3BTY29wZUlkIiwid2l0aEN0eCIsImN0eCIsImlzTm9uU2NvcGVkU2xvdCIsIl9uIiwicmVuZGVyRm5XaXRoQ29udGV4dCIsIl9kIiwic2V0QmxvY2tUcmFja2luZyIsInByZXZJbnN0YW5jZSIsIl9jIiwicmVuZGVyQ29tcG9uZW50Um9vdCIsIkNvbXBvbmVudCIsIndpdGhQcm94eSIsInByb3BzT3B0aW9ucyIsInNsb3RzIiwiYXR0cnMiLCJyZW5kZXIiLCJyZW5kZXJDYWNoZSIsImRhdGEiLCJzZXR1cFN0YXRlIiwiaW5oZXJpdEF0dHJzIiwiZmFsbHRocm91Z2hBdHRycyIsInNoYXBlRmxhZyIsInByb3h5VG9Vc2UiLCJ0aGlzUHJveHkiLCJub3JtYWxpemVWTm9kZSIsInJlbmRlcjIiLCJnZXRGdW5jdGlvbmFsRmFsbHRocm91Z2giLCJibG9ja1N0YWNrIiwiY3JlYXRlVk5vZGUiLCJDb21tZW50Iiwicm9vdCIsInNvbWUiLCJmaWx0ZXJNb2RlbExpc3RlbmVycyIsImNsb25lVk5vZGUiLCJkaXJzIiwidHJhbnNpdGlvbiIsImhhc1Byb3BzQ2hhbmdlZCIsInByZXZQcm9wcyIsIm5leHRQcm9wcyIsImVtaXRzT3B0aW9ucyIsIm5leHRLZXlzIiwiQ09NUE9ORU5UUyIsInJlc29sdmVDb21wb25lbnQiLCJtYXliZVNlbGZSZWZlcmVuY2UiLCJ3YXJuTWlzc2luZyIsImN1cnJlbnRJbnN0YW5jZSIsInNlbGZOYW1lIiwiaW5jbHVkZUluZmVycmVkIiwiZGlzcGxheU5hbWUiLCJfX25hbWUiLCJnZXRDb21wb25lbnROYW1lIiwicmVzb2x2ZUFzc2V0IiwiTlVMTF9EWU5BTUlDX0NPTVBPTkVOVCIsImZvciIsInJlZ2lzdHJ5IiwiaW5qZWN0SG9vayIsInByZXBlbmQiLCJob29rcyIsIndyYXBwZWRIb29rIiwiX193ZWgiLCJyZXNldCIsInNldEN1cnJlbnRJbnN0YW5jZSIsInVuc2hpZnQiLCJjcmVhdGVIb29rIiwibGlmZWN5Y2xlIiwiaXNJblNTUkNvbXBvbmVudFNldHVwIiwib25CZWZvcmVNb3VudCIsIm9uQmVmb3JlVXBkYXRlIiwib25VcGRhdGVkIiwib25CZWZvcmVVbm1vdW50Iiwib25TZXJ2ZXJQcmVmZXRjaCIsIm9uUmVuZGVyVHJpZ2dlcmVkIiwib25SZW5kZXJUcmFja2VkIiwib25FcnJvckNhcHR1cmVkIiwiaW52b2tlRGlyZWN0aXZlSG9vayIsInByZXZWTm9kZSIsImJpbmRpbmdzIiwib2xkQmluZGluZ3MiLCJiaW5kaW5nIiwiZGlyIiwicmVuZGVyTGlzdCIsInNvdXJjZSIsInJlbmRlckl0ZW0iLCJmcm9tIiwiZXh0cmFPcHRpb25zIiwic2V0dXAiLCJpc0FzeW5jV3JhcHBlciIsIl9fYXN5bmNMb2FkZXIiLCJyZW5kZXJTbG90IiwiZmFsbGJhY2siLCJub1Nsb3R0ZWQiLCJpc0NFIiwic2xvdCIsIm9wZW5CbG9jayIsInZhbGlkU2xvdENvbnRlbnQiLCJlbnN1cmVWYWxpZFZOb2RlIiwicmVuZGVyZWQiLCJjcmVhdGVCbG9jayIsInNjb3BlSWQiLCJzbG90U2NvcGVJZHMiLCJ2bm9kZXMiLCJjaGlsZCIsImlzVk5vZGUiLCJjaGlsZHJlbiIsImdldFB1YmxpY0luc3RhbmNlIiwiaXNTdGF0ZWZ1bENvbXBvbmVudCIsImdldENvbXBvbmVudFB1YmxpY0luc3RhbmNlIiwicHVibGljUHJvcGVydGllc01hcCIsIiQiLCIkZWwiLCIkZGF0YSIsIiRwcm9wcyIsIiRhdHRycyIsIiRzbG90cyIsIiRyZWZzIiwicmVmcyIsIiRwYXJlbnQiLCIkcm9vdCIsIiRlbWl0IiwiJG9wdGlvbnMiLCJyZXNvbHZlTWVyZ2VkT3B0aW9ucyIsIiRmb3JjZVVwZGF0ZSIsImYiLCJ1cGRhdGUiLCIkbmV4dFRpY2siLCIkd2F0Y2giLCJpbnN0YW5jZVdhdGNoIiwiaGFzU2V0dXBCaW5kaW5nIiwic3RhdGUiLCJfX2lzU2NyaXB0U2V0dXAiLCJQdWJsaWNJbnN0YW5jZVByb3h5SGFuZGxlcnMiLCJhY2Nlc3NDYWNoZSIsIm5vcm1hbGl6ZWRQcm9wcyIsInNob3VsZENhY2hlQWNjZXNzIiwicHVibGljR2V0dGVyIiwiY3NzTW9kdWxlIiwiZ2xvYmFsUHJvcGVydGllcyIsIl9fY3NzTW9kdWxlcyIsImRlc2NyaXB0b3IiLCJub3JtYWxpemVQcm9wc09yRW1pdHMiLCJjYWxsSG9vayIsImgiLCJjcmVhdGVXYXRjaGVyIiwicHVibGljVGhpcyIsImNyZWF0ZVBhdGhHZXR0ZXIiLCJ3YXRjaCIsImJhc2UiLCJleHRlbmRzT3B0aW9ucyIsImdsb2JhbE1peGlucyIsIm9wdGlvbnNDYWNoZSIsIm9wdGlvbk1lcmdlU3RyYXRlZ2llcyIsInJlc29sdmVkIiwibSIsIm1lcmdlT3B0aW9ucyIsInRvIiwic3RyYXRzIiwic3RyYXQiLCJpbnRlcm5hbE9wdGlvbk1lcmdlU3RyYXRzIiwibWVyZ2VEYXRhRm4iLCJtZXJnZUVtaXRzT3JQcm9wc09wdGlvbnMiLCJtZXRob2RzIiwibWVyZ2VPYmplY3RPcHRpb25zIiwiYmVmb3JlQ3JlYXRlIiwibWVyZ2VBc0FycmF5IiwiY3JlYXRlZCIsImJlZm9yZU1vdW50IiwibW91bnRlZCIsImJlZm9yZVVwZGF0ZSIsInVwZGF0ZWQiLCJiZWZvcmVEZXN0cm95IiwiYmVmb3JlVW5tb3VudCIsImRlc3Ryb3llZCIsInVubW91bnRlZCIsImFjdGl2YXRlZCIsImRlYWN0aXZhdGVkIiwiZXJyb3JDYXB0dXJlZCIsInNlcnZlclByZWZldGNoIiwiY29tcG9uZW50cyIsImRpcmVjdGl2ZXMiLCJtZXJnZWQiLCJwcm92aWRlIiwiaW5qZWN0Iiwibm9ybWFsaXplSW5qZWN0IiwiY3JlYXRlQXBwQ29udGV4dCIsImlzTmF0aXZlVGFnIiwicGVyZm9ybWFuY2UiLCJ3YXJuSGFuZGxlciIsImNvbXBpbGVyT3B0aW9ucyIsInByb3ZpZGVzIiwicHJvcHNDYWNoZSIsInVpZCQxIiwiY3JlYXRlQXBwQVBJIiwiaHlkcmF0ZSIsInJvb3RDb21wb25lbnQiLCJyb290UHJvcHMiLCJjb250ZXh0IiwiaW5zdGFsbGVkUGx1Z2lucyIsIldlYWtTZXQiLCJpc01vdW50ZWQiLCJfdWlkIiwiX2NvbXBvbmVudCIsIl9wcm9wcyIsIl9jb250YWluZXIiLCJfY29udGV4dCIsIl9pbnN0YW5jZSIsInZlcnNpb24iLCJ1c2UiLCJwbHVnaW4iLCJpbnN0YWxsIiwibWl4aW4iLCJkaXJlY3RpdmUiLCJtb3VudCIsInJvb3RDb250YWluZXIiLCJpc0h5ZHJhdGUiLCJuYW1lc3BhY2UiLCJfX3Z1ZV9hcHBfXyIsIkZyYWdtZW50IiwiVGV4dCIsIlN0YXRpYyIsImRldnRvb2xzSW5pdEFwcCIsInVubW91bnQiLCJkZXZ0b29sc1VubW91bnRBcHAiLCJydW5XaXRoQ29udGV4dCIsImxhc3RBcHAiLCJjdXJyZW50QXBwIiwicGFyZW50UHJvdmlkZXMiLCJkZWZhdWx0VmFsdWUiLCJ0cmVhdERlZmF1bHRBc0ZhY3RvcnkiLCJpbnRlcm5hbE9iamVjdFByb3RvIiwiY3JlYXRlSW50ZXJuYWxPYmplY3QiLCJpc0ludGVybmFsT2JqZWN0Iiwic2V0RnVsbFByb3BzIiwicmF3UHJvcHMiLCJuZWVkQ2FzdEtleXMiLCJyYXdDYXN0VmFsdWVzIiwiaGFzQXR0cnNDaGFuZ2VkIiwiY2FtZWxLZXkiLCJyYXdDdXJyZW50UHJvcHMiLCJjYXN0VmFsdWVzIiwicmVzb2x2ZVByb3BWYWx1ZSIsImlzQWJzZW50Iiwib3B0IiwiaGFzRGVmYXVsdCIsImRlZmF1bHQiLCJza2lwRmFjdG9yeSIsInByb3BzRGVmYXVsdHMiLCJub3JtYWxpemVQcm9wc09wdGlvbnMiLCJleHRlbmRQcm9wcyIsIm5vcm1hbGl6ZWRLZXkiLCJ2YWxpZGF0ZVByb3BOYW1lIiwiYm9vbGVhbkluZGV4IiwiZ2V0VHlwZUluZGV4IiwiQm9vbGVhbiIsInN0cmluZ0luZGV4IiwiZ2V0VHlwZSIsImN0b3IiLCJpc1NhbWVUeXBlIiwiZXhwZWN0ZWRUeXBlcyIsImZpbmRJbmRleCIsInQiLCJpc0ludGVybmFsS2V5Iiwibm9ybWFsaXplU2xvdFZhbHVlIiwibm9ybWFsaXplU2xvdCIsInJhd1Nsb3QiLCJub3JtYWxpemVPYmplY3RTbG90cyIsInJhd1Nsb3RzIiwiX2N0eCIsIm5vcm1hbGl6ZVZOb2RlU2xvdHMiLCJpbml0U2xvdHMiLCJ1cGRhdGVTbG90cyIsIm9wdGltaXplZCIsIm5lZWREZWxldGlvbkNoZWNrIiwiZGVsZXRpb25Db21wYXJpc29uVGFyZ2V0IiwiJHN0YWJsZSIsInNldFJlZiIsInJhd1JlZiIsIm9sZFJhd1JlZiIsInBhcmVudFN1c3BlbnNlIiwiaXNVbm1vdW50IiwicmVmVmFsdWUiLCJvd25lciIsInJlZiIsIm9sZFJlZiIsIl9pc1N0cmluZyIsIl9pc1JlZiIsImRvU2V0IiwiZXhpc3RpbmciLCJxdWV1ZVBvc3RSZW5kZXJFZmZlY3QiLCJzdXNwZW5zZSIsInBlbmRpbmdCcmFuY2giLCJiYXNlQ3JlYXRlUmVuZGVyZXIiLCJjcmVhdGVIeWRyYXRpb25GbnMiLCJfX1ZVRV9QUk9EX0hZRFJBVElPTl9NSVNNQVRDSF9ERVRBSUxTX18iLCJfX1ZVRV9fIiwiX19WVUVfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyIsImluc2VydCIsImhvc3RJbnNlcnQiLCJob3N0UmVtb3ZlIiwicGF0Y2hQcm9wIiwiaG9zdFBhdGNoUHJvcCIsImNyZWF0ZUVsZW1lbnQiLCJob3N0Q3JlYXRlRWxlbWVudCIsImNyZWF0ZVRleHQiLCJob3N0Q3JlYXRlVGV4dCIsImNyZWF0ZUNvbW1lbnQiLCJob3N0Q3JlYXRlQ29tbWVudCIsInNldFRleHQiLCJob3N0U2V0VGV4dCIsInNldEVsZW1lbnRUZXh0IiwiaG9zdFNldEVsZW1lbnRUZXh0IiwicGFyZW50Tm9kZSIsImhvc3RQYXJlbnROb2RlIiwibmV4dFNpYmxpbmciLCJob3N0TmV4dFNpYmxpbmciLCJzZXRTY29wZUlkIiwiaG9zdFNldFNjb3BlSWQiLCJpbnNlcnRTdGF0aWNDb250ZW50IiwiaG9zdEluc2VydFN0YXRpY0NvbnRlbnQiLCJwYXRjaCIsIm4xIiwibjIiLCJjb250YWluZXIiLCJhbmNob3IiLCJwYXJlbnRDb21wb25lbnQiLCJkeW5hbWljQ2hpbGRyZW4iLCJpc1NhbWVWTm9kZVR5cGUiLCJnZXROZXh0SG9zdE5vZGUiLCJwYXRjaEZsYWciLCJwcm9jZXNzVGV4dCIsInByb2Nlc3NDb21tZW50Tm9kZSIsIm1vdW50U3RhdGljTm9kZSIsInByb2Nlc3NGcmFnbWVudCIsInByb2Nlc3NFbGVtZW50IiwicHJvY2Vzc0NvbXBvbmVudCIsInByb2Nlc3MiLCJpbnRlcm5hbHMiLCJtb3VudEVsZW1lbnQiLCJwYXRjaEVsZW1lbnQiLCJ2bm9kZUhvb2siLCJtb3VudENoaWxkcmVuIiwicmVzb2x2ZUNoaWxkcmVuTmFtZXNwYWNlIiwidW5tb3VudENoaWxkcmVuIiwib25Wbm9kZUJlZm9yZU1vdW50IiwiaW52b2tlVk5vZGVIb29rIiwibmVlZENhbGxUcmFuc2l0aW9uSG9va3MiLCJwZXJzaXN0ZWQiLCJuZWVkVHJhbnNpdGlvbiIsImJlZm9yZUVudGVyIiwib25Wbm9kZU1vdW50ZWQiLCJlbnRlciIsInN1YlRyZWUiLCJwYXJlbnRWTm9kZSIsImNsb25lSWZNb3VudGVkIiwib2xkUHJvcHMiLCJuZXdQcm9wcyIsInRvZ2dsZVJlY3Vyc2UiLCJvblZub2RlQmVmb3JlVXBkYXRlIiwicGF0Y2hCbG9ja0NoaWxkcmVuIiwicGF0Y2hDaGlsZHJlbiIsInBhdGNoUHJvcHMiLCJjbGFzcyIsInN0eWxlIiwicHJvcHNUb1VwZGF0ZSIsImR5bmFtaWNQcm9wcyIsIm9uVm5vZGVVcGRhdGVkIiwib2xkQ2hpbGRyZW4iLCJuZXdDaGlsZHJlbiIsImZhbGxiYWNrQ29udGFpbmVyIiwib2xkVk5vZGUiLCJuZXdWTm9kZSIsImZyYWdtZW50U3RhcnRBbmNob3IiLCJmcmFnbWVudEVuZEFuY2hvciIsImZyYWdtZW50U2xvdFNjb3BlSWRzIiwidHJhdmVyc2VTdGF0aWNDaGlsZHJlbiIsImFjdGl2YXRlIiwibW91bnRDb21wb25lbnQiLCJ1cGRhdGVDb21wb25lbnQiLCJpbml0aWFsVk5vZGUiLCJlbXB0eUFwcENvbnRleHQiLCJleHBvc2VkIiwiZXhwb3NlUHJveHkiLCJzZXR1cENvbnRleHQiLCJhdHRyc1Byb3h5Iiwic2xvdHNQcm94eSIsInN1c3BlbnNlSWQiLCJwZW5kaW5nSWQiLCJhc3luY0RlcCIsImFzeW5jUmVzb2x2ZWQiLCJpc0RlYWN0aXZhdGVkIiwiYmMiLCJibSIsImJ1IiwidSIsInVtIiwiYnVtIiwiZGEiLCJydGciLCJydGMiLCJzcCIsImNlIiwiY3JlYXRlQ29tcG9uZW50SW5zdGFuY2UiLCJpc0tlZXBBbGl2ZSIsInJlbmRlcmVyIiwic2V0SW5TU1JTZXR1cFN0YXRlIiwiaXNTdGF0ZWZ1bCIsImluaXRQcm9wcyIsInNldHVwUmVzdWx0IiwiZXhwb3NlIiwiYXR0cnNQcm94eUhhbmRsZXJzIiwiY3JlYXRlU2V0dXBDb250ZXh0IiwidW5zZXRDdXJyZW50SW5zdGFuY2UiLCJyZXNvbHZlZFJlc3VsdCIsImhhbmRsZVNldHVwUmVzdWx0IiwiZmluaXNoQ29tcG9uZW50U2V0dXAiLCJzZXR1cFN0YXRlZnVsQ29tcG9uZW50Iiwic2V0dXBDb21wb25lbnQiLCJyZWdpc3RlckRlcCIsInNldHVwUmVuZGVyRWZmZWN0IiwibmV4dFZOb2RlIiwicHJldkNoaWxkcmVuIiwibmV4dENoaWxkcmVuIiwic2hvdWxkVXBkYXRlQ29tcG9uZW50IiwidXBkYXRlQ29tcG9uZW50UHJlUmVuZGVyIiwiaW52YWxpZGF0ZUpvYiIsImNvbXBvbmVudFVwZGF0ZUZuIiwibm9uSHlkcmF0ZWRBc3luY1Jvb3QiLCJsb2NhdGVOb25IeWRyYXRlZEFzeW5jUm9vdCIsIm9yaWdpbk5leHQiLCJuZXh0VHJlZSIsInByZXZUcmVlIiwiYWN0aXZlQnJhbmNoIiwidXBkYXRlSE9DSG9zdEVsIiwiaXNBc3luY1dyYXBwZXJWTm9kZSIsImh5ZHJhdGVOb2RlIiwiaHlkcmF0ZVN1YlRyZWUiLCJzY29wZWRJbml0aWFsVk5vZGUiLCJyYXdQcmV2UHJvcHMiLCJrZWJhYktleSIsImNhbWVsaXplZEtleSIsInVwZGF0ZVByb3BzIiwiYzEiLCJwcmV2U2hhcGVGbGFnIiwiYzIiLCJwYXRjaEtleWVkQ2hpbGRyZW4iLCJwYXRjaFVua2V5ZWRDaGlsZHJlbiIsIm9sZExlbmd0aCIsImNvbW1vbkxlbmd0aCIsIk1hdGgiLCJtaW4iLCJuZXh0Q2hpbGQiLCJwYXJlbnRBbmNob3IiLCJsMiIsImUxIiwiZTIiLCJuZXh0UG9zIiwiczEiLCJzMiIsImtleVRvTmV3SW5kZXhNYXAiLCJqIiwicGF0Y2hlZCIsInRvQmVQYXRjaGVkIiwibW92ZWQiLCJtYXhOZXdJbmRleFNvRmFyIiwibmV3SW5kZXhUb09sZEluZGV4TWFwIiwicHJldkNoaWxkIiwibmV3SW5kZXgiLCJpbmNyZWFzaW5nTmV3SW5kZXhTZXF1ZW5jZSIsImxlbiIsImFyckkiLCJnZXRTZXF1ZW5jZSIsIm5leHRJbmRleCIsIm1vdmUiLCJtb3ZlVHlwZSIsImxlYXZlIiwiZGVsYXlMZWF2ZSIsImFmdGVyTGVhdmUiLCJyZW1vdmUyIiwicGVyZm9ybUxlYXZlIiwibW92ZVN0YXRpY05vZGUiLCJkb1JlbW92ZSIsIm1lbW9JbmRleCIsImRlYWN0aXZhdGUiLCJzaG91bGRJbnZva2VEaXJzIiwic2hvdWxkSW52b2tlVm5vZGVIb29rIiwib25Wbm9kZUJlZm9yZVVubW91bnQiLCJ1bm1vdW50Q29tcG9uZW50Iiwib25Wbm9kZVVubW91bnRlZCIsInJlbW92ZUZyYWdtZW50IiwicmVtb3ZlU3RhdGljTm9kZSIsInBlcmZvcm1SZW1vdmUiLCJpbnZhbGlkYXRlTW91bnQiLCJfdm5vZGUiLCJtdCIsIm1jIiwicGMiLCJwYmMiLCJjcmVhdGVBcHAiLCJjdXJyZW50TmFtZXNwYWNlIiwiZW5jb2RpbmciLCJhbGxvd2VkIiwiY2gxIiwiY2gyIiwic3ViQ29tcG9uZW50Iiwic3NyQ29udGV4dEtleSIsInVzZVNTUkNvbnRleHQiLCJJTklUSUFMX1dBVENIRVJfVkFMVUUiLCJkb1dhdGNoIiwiaW1tZWRpYXRlIiwiZGVlcCIsImZsdXNoIiwib25jZSIsIm9uVHJhY2siLCJvblRyaWdnZXIiLCJfY2IiLCJ1bndhdGNoIiwicmVhY3RpdmVHZXR0ZXIiLCJzb3VyY2UyIiwidHJhdmVyc2UiLCJmb3JjZVRyaWdnZXIiLCJpc011bHRpU291cmNlIiwicyIsIm9uQ2xlYW51cCIsImJhc2VHZXR0ZXIiLCJzc3JDbGVhbnVwIiwiX193YXRjaGVySGFuZGxlcyIsImZpbGwiLCJwYXRoIiwic2VnbWVudHMiLCJkZXB0aCIsImdldE93blByb3BlcnR5U3ltYm9scyIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwiX19pc0tlZXBBbGl2ZSIsInJlZ2lzdGVyS2VlcEFsaXZlSG9vayIsIl9fd2RjIiwiY3VycmVudCIsImluamVjdFRvS2VlcEFsaXZlUm9vdCIsImtlZXBBbGl2ZVJvb3QiLCJpbmplY3RlZCIsIlJlZ0V4cCIsImxlYXZlQ2JLZXkiLCJlbnRlckNiS2V5IiwiVHJhbnNpdGlvbkhvb2tWYWxpZGF0b3IiLCJCYXNlVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycyIsIm1vZGUiLCJhcHBlYXIiLCJvbkJlZm9yZUVudGVyIiwib25FbnRlciIsIm9uQWZ0ZXJFbnRlciIsIm9uRW50ZXJDYW5jZWxsZWQiLCJvbkJlZm9yZUxlYXZlIiwib25MZWF2ZSIsIm9uQWZ0ZXJMZWF2ZSIsIm9uTGVhdmVDYW5jZWxsZWQiLCJvbkJlZm9yZUFwcGVhciIsIm9uQXBwZWFyIiwib25BZnRlckFwcGVhciIsIm9uQXBwZWFyQ2FuY2VsbGVkIiwicmVjdXJzaXZlR2V0U3VidHJlZSIsIkJhc2VUcmFuc2l0aW9uIiwiaXNMZWF2aW5nIiwiaXNVbm1vdW50aW5nIiwibGVhdmluZ1ZOb2RlcyIsInVzZVRyYW5zaXRpb25TdGF0ZSIsImdldFRyYW5zaXRpb25SYXdDaGlsZHJlbiIsImhhc0ZvdW5kIiwiZW1wdHlQbGFjZWhvbGRlciIsImlubmVyQ2hpbGQiLCJnZXRLZWVwQWxpdmVDaGlsZCIsImVudGVySG9va3MiLCJyZXNvbHZlVHJhbnNpdGlvbkhvb2tzIiwic2V0VHJhbnNpdGlvbkhvb2tzIiwib2xkQ2hpbGQiLCJvbGRJbm5lckNoaWxkIiwibGVhdmluZ0hvb2tzIiwiZWFybHlSZW1vdmUiLCJkZWxheWVkTGVhdmUiLCJnZXRMZWF2aW5nTm9kZXNGb3JUeXBlIiwibGVhdmluZ1ZOb2Rlc0NhY2hlIiwicG9zdENsb25lIiwiY2FsbEFzeW5jSG9vayIsImV2ZXJ5IiwiaG9vazIiLCJsZWF2aW5nVk5vZGUiLCJhZnRlckhvb2siLCJjYW5jZWxIb29rIiwiY2FsbGVkIiwiY2FuY2VsbGVkIiwiY2xvbmUiLCJ2bm9kZTIiLCJob29rczIiLCJzc0NvbnRlbnQiLCJzc0ZhbGxiYWNrIiwia2VlcENvbW1lbnQiLCJwYXJlbnRLZXkiLCJrZXllZEZyYWdtZW50Q291bnQiLCJjdXJyZW50QmxvY2siLCJkaXNhYmxlVHJhY2tpbmciLCJpc0Jsb2NrVHJlZUVuYWJsZWQiLCJzZXR1cEJsb2NrIiwiY3JlYXRlRWxlbWVudEJsb2NrIiwiY3JlYXRlQmFzZVZOb2RlIiwiX192X2lzVk5vZGUiLCJub3JtYWxpemVLZXkiLCJub3JtYWxpemVSZWYiLCJyZWZfa2V5IiwicmVmX2ZvciIsImlzQmxvY2tOb2RlIiwibmVlZEZ1bGxDaGlsZHJlbk5vcm1hbGl6YXRpb24iLCJfX3Zfc2tpcCIsInRhcmdldEFuY2hvciIsInN0YXRpY0NvdW50Iiwibm9ybWFsaXplQ2hpbGRyZW4iLCJub3JtYWxpemUiLCJjbG9uZWQiLCJndWFyZFJlYWN0aXZlUHJvcHMiLCJrbGFzcyIsIl9faXNTdXNwZW5zZSIsImlzU3VzcGVuc2UiLCJfX2lzVGVsZXBvcnQiLCJpc1RlbGVwb3J0IiwiZXh0cmFQcm9wcyIsIm1lcmdlUmVmIiwiY2xvbmVUcmFuc2l0aW9uIiwibWVyZ2VkUHJvcHMiLCJ0b01lcmdlIiwiaW5jb21pbmciLCJtZXJnZVByb3BzIiwiY3JlYXRlVGV4dFZOb2RlIiwiZmxhZyIsImNyZWF0ZUNvbW1lbnRWTm9kZSIsImFzQmxvY2siLCJtZW1vIiwic2xvdEZsYWciLCJpbnRlcm5hbFNldEN1cnJlbnRJbnN0YW5jZSIsInJlZ2lzdGVyR2xvYmFsU2V0dGVyIiwic2V0dGVyIiwic2V0dGVycyIsImNvbXBpbGUiLCJpbnN0YWxsV2l0aFByb3h5IiwiX19zc3JJbmxpbmVSZW5kZXIiLCJzc3JSZW5kZXIiLCJkZXZ0b29sc1Jhd1NldHVwU3RhdGUiLCJza2lwT3B0aW9ucyIsInRlbXBsYXRlIiwiaXNDdXN0b21FbGVtZW50IiwiZGVsaW1pdGVycyIsImNvbXBvbmVudENvbXBpbGVyT3B0aW9ucyIsImZpbmFsQ29tcGlsZXJPcHRpb25zIiwiZGF0YU9wdGlvbnMiLCJjb21wdXRlZE9wdGlvbnMiLCJ3YXRjaE9wdGlvbnMiLCJwcm92aWRlT3B0aW9ucyIsImluamVjdE9wdGlvbnMiLCJyZW5kZXJUcmFja2VkIiwicmVuZGVyVHJpZ2dlcmVkIiwiZmlsdGVycyIsImNoZWNrRHVwbGljYXRlUHJvcGVydGllcyIsInJlc29sdmVJbmplY3Rpb25zIiwibWV0aG9kSGFuZGxlciIsInJlZ2lzdGVyTGlmZWN5Y2xlSG9vayIsInJlZ2lzdGVyIiwiX2hvb2siLCJhcHBseU9wdGlvbnMiLCJnZXR0ZXJPck9wdGlvbnMiLCJkZWJ1Z09wdGlvbnMiLCJvbmx5R2V0dGVyIiwicHJvcHNPckNoaWxkcmVuIiwiZG9jIiwiZG9jdW1lbnQiLCJ0ZW1wbGF0ZUNvbnRhaW5lciIsIm5vZGVPcHMiLCJpbnNlcnRCZWZvcmUiLCJyZW1vdmVDaGlsZCIsInRhZyIsImNyZWF0ZUVsZW1lbnROUyIsIm11bHRpcGxlIiwic2V0QXR0cmlidXRlIiwiY3JlYXRlVGV4dE5vZGUiLCJub2RlIiwibm9kZVZhbHVlIiwidGV4dENvbnRlbnQiLCJxdWVyeVNlbGVjdG9yIiwic2VsZWN0b3IiLCJjb250ZW50IiwiYmVmb3JlIiwicHJldmlvdXNTaWJsaW5nIiwibGFzdENoaWxkIiwiY2xvbmVOb2RlIiwiaW5uZXJIVE1MIiwid3JhcHBlciIsImZpcnN0Q2hpbGQiLCJhcHBlbmRDaGlsZCIsIlRSQU5TSVRJT04iLCJBTklNQVRJT04iLCJ2dGNLZXkiLCJUcmFuc2l0aW9uIiwiYmFzZVByb3BzIiwiRE9NVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycyIsImNzcyIsImR1cmF0aW9uIiwiZW50ZXJGcm9tQ2xhc3MiLCJlbnRlckFjdGl2ZUNsYXNzIiwiZW50ZXJUb0NsYXNzIiwiYXBwZWFyRnJvbUNsYXNzIiwiYXBwZWFyQWN0aXZlQ2xhc3MiLCJhcHBlYXJUb0NsYXNzIiwibGVhdmVGcm9tQ2xhc3MiLCJsZWF2ZUFjdGl2ZUNsYXNzIiwibGVhdmVUb0NsYXNzIiwiZHVyYXRpb25zIiwiTnVtYmVyT2YiLCJub3JtYWxpemVEdXJhdGlvbiIsImVudGVyRHVyYXRpb24iLCJsZWF2ZUR1cmF0aW9uIiwiZmluaXNoRW50ZXIiLCJpc0FwcGVhciIsInJlbW92ZVRyYW5zaXRpb25DbGFzcyIsImZpbmlzaExlYXZlIiwiX2lzTGVhdmluZyIsIm1ha2VFbnRlckhvb2siLCJuZXh0RnJhbWUiLCJhZGRUcmFuc2l0aW9uQ2xhc3MiLCJoYXNFeHBsaWNpdENhbGxiYWNrIiwid2hlblRyYW5zaXRpb25FbmRzIiwiYm9keSIsIm9mZnNldEhlaWdodCIsInJlc29sdmVUcmFuc2l0aW9uUHJvcHMiLCJoMiIsImNscyIsImNsYXNzTGlzdCIsIl92dGMiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJlbmRJZCIsImV4cGVjdGVkVHlwZSIsImV4cGxpY2l0VGltZW91dCIsIl9lbmRJZCIsInJlc29sdmVJZk5vdFN0YWxlIiwidGltZW91dCIsInByb3BDb3VudCIsInN0eWxlcyIsImdldENvbXB1dGVkU3R5bGUiLCJnZXRTdHlsZVByb3BlcnRpZXMiLCJ0cmFuc2l0aW9uRGVsYXlzIiwidHJhbnNpdGlvbkR1cmF0aW9ucyIsInRyYW5zaXRpb25UaW1lb3V0IiwiZ2V0VGltZW91dCIsImFuaW1hdGlvbkRlbGF5cyIsImFuaW1hdGlvbkR1cmF0aW9ucyIsImFuaW1hdGlvblRpbWVvdXQiLCJtYXgiLCJoYXNUcmFuc2Zvcm0iLCJnZXRUcmFuc2l0aW9uSW5mbyIsImVuZEV2ZW50IiwiZW5kZWQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwib25FbmQiLCJhZGRFdmVudExpc3RlbmVyIiwiZGVsYXlzIiwidG9NcyIsInZTaG93T3JpZ2luYWxEaXNwbGF5IiwidlNob3dIaWRkZW4iLCJDU1NfVkFSX1RFWFQiLCJkaXNwbGF5UkUiLCJpbXBvcnRhbnRSRSIsInNldFN0eWxlIiwic2V0UHJvcGVydHkiLCJwcmVmaXhlZCIsInJhd05hbWUiLCJwcmVmaXhDYWNoZSIsInByZWZpeGVzIiwiYXV0b1ByZWZpeCIsInhsaW5rTlMiLCJwYXRjaEF0dHIiLCJpc1NWRyIsImlzQm9vbGVhbiIsInJlbW92ZUF0dHJpYnV0ZU5TIiwic2V0QXR0cmlidXRlTlMiLCJyZW1vdmVBdHRyaWJ1dGUiLCJ2ZWlLZXkiLCJvcHRpb25zTW9kaWZpZXJSRSIsImNhY2hlZE5vdyIsImdldE5vdyIsIkRhdGUiLCJub3ciLCJpc05hdGl2ZU9uIiwic3lzdGVtTW9kaWZpZXJzIiwibW9kaWZpZXJHdWFyZHMiLCJzdG9wUHJvcGFnYXRpb24iLCJwcmV2ZW50IiwicHJldmVudERlZmF1bHQiLCJjdXJyZW50VGFyZ2V0IiwiY3RybCIsImN0cmxLZXkiLCJzaGlmdEtleSIsImFsdCIsImFsdEtleSIsIm1ldGEiLCJtZXRhS2V5IiwibGVmdCIsImJ1dHRvbiIsInJpZ2h0IiwiZXhhY3QiLCJtb2RpZmllcnMiLCJ3aXRoTW9kaWZpZXJzIiwiX3dpdGhNb2RzIiwiY2FjaGVLZXkiLCJqb2luIiwiZ3VhcmQiLCJyZW5kZXJlck9wdGlvbnMiLCJwcmV2VmFsdWUiLCJuZXh0VmFsdWUiLCJ0cmFuc2l0aW9uQ2xhc3NlcyIsImNsYXNzTmFtZSIsInBhdGNoQ2xhc3MiLCJpc0Nzc1N0cmluZyIsImhhc0NvbnRyb2xsZWREaXNwbGF5IiwicHJldlN0eWxlIiwiY3NzVmFyVGV4dCIsImRpc3BsYXkiLCJwYXRjaFN0eWxlIiwiaW52b2tlcnMiLCJleGlzdGluZ0ludm9rZXIiLCJwYXJzZU5hbWUiLCJpbnZva2VyIiwiaW5pdGlhbFZhbHVlIiwiX3Z0cyIsImF0dGFjaGVkIiwib3JpZ2luYWxTdG9wIiwic3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIiwiX3N0b3BwZWQiLCJwYXRjaFN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiIsImNyZWF0ZUludm9rZXIiLCJwYXRjaEV2ZW50IiwidGFnTmFtZSIsInNob3VsZFNldEFzUHJvcCIsImdldEF0dHJpYnV0ZSIsIm5lZWRSZW1vdmUiLCJwYXRjaERPTVByb3AiLCJfdHJ1ZVZhbHVlIiwiX2ZhbHNlVmFsdWUiLCJob29rTmFtZSIsInN0b3JlS2V5IiwicHJpb3JpdHkiLCJob29rc1N0b3JlIiwiaGFuZGxlcnMiLCJfX2N1cnJlbnQiLCJob29rSW5mbyIsImN1cnJlbnRJbmRleCIsInJ1bnMiLCJkb0FjdGlvbiIsInJlbW92ZUFsbCIsImhhbmRsZXJzUmVtb3ZlZCIsInJldHVybkZpcnN0QXJnIiwiX2hvb2tzU3RvcmUkX19jdXJyZW50IiwiX0hvb2tzIiwiYWN0aW9ucyIsImFkZEFjdGlvbiIsImFkZEZpbHRlciIsInJlbW92ZUFjdGlvbiIsInJlbW92ZUZpbHRlciIsImhhc0FjdGlvbiIsImhhc0ZpbHRlciIsInJlbW92ZUFsbEFjdGlvbnMiLCJyZW1vdmVBbGxGaWx0ZXJzIiwiYXBwbHlGaWx0ZXJzIiwiY3VycmVudEFjdGlvbiIsImN1cnJlbnRGaWx0ZXIiLCJkb2luZ0FjdGlvbiIsImRvaW5nRmlsdGVyIiwiZGlkQWN0aW9uIiwiZGlkRmlsdGVyIiwiZGVmYXVsdEhvb2tzIiwiX2NyZWF0ZUVsZW1lbnRCbG9jayIsIl9ob2lzdGVkXzEiLCJfY3JlYXRlRWxlbWVudFZOb2RlIiwiX2hvaXN0ZWRfMiIsIl9jcmVhdGVWTm9kZSIsIl9jb21wb25lbnRfcm91dGVyX2xpbmsiLCJfd2l0aEN0eCIsIl9jcmVhdGVUZXh0Vk5vZGUiLCJfaG9pc3RlZF8zIiwiX2hvaXN0ZWRfNCIsIm1lbnVGaXgiLCJqUXVlcnkiLCJtZW51Um9vdCIsImN1cnJlbnRVcmwiLCJsb2NhdGlvbiIsImhyZWYiLCJjdXJyZW50UGF0aCIsInN1YnN0ciIsInJlbW92ZUNsYXNzIiwiaGFzQ2xhc3MiLCJhZGRDbGFzcyIsInBhcmVudHMiLCJlYWNoIiwiYXR0ciIsIlRhYnMiLCJwcm9VcGdyYWRlTGluayIsInNob3dOb3RpY2UiLCJub3RpY2VNZXNzYWdlIiwibGFzdERpc21pc3NlZCIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJkaXNtaXNzTm90aWNlIiwic2V0SXRlbSIsIiRyb3V0ZSIsInRpdGxlIiwib25DbGljayIsIl9jYWNoZSIsIl9jcmVhdGVDb21tZW50Vk5vZGUiLCJfaG9pc3RlZF81IiwiX2hvaXN0ZWRfNiIsIl90b0Rpc3BsYXlTdHJpbmciLCJfXyIsIl9jb21wb25lbnRfdGFicyIsIl9jb21wb25lbnRfcm91dGVyX3ZpZXciLCJnZXRUYXJnZXQiLCJpc1Byb3h5QXZhaWxhYmxlIiwiSE9PS19TRVRVUCIsIkFwaVByb3h5IiwidGFyZ2V0UXVldWUiLCJvblF1ZXVlIiwiZGVmYXVsdFNldHRpbmdzIiwic2V0dGluZ3MiLCJsb2NhbFNldHRpbmdzU2F2ZUlkIiwiY3VycmVudFNldHRpbmdzIiwicGFyc2UiLCJmYWxsYmFja3MiLCJnZXRTZXR0aW5ncyIsInNldFNldHRpbmdzIiwicGVyZl9ob29rcyIsInBsdWdpbklkIiwicHJveGllZE9uIiwiX3RhcmdldCIsInByb3hpZWRUYXJnZXQiLCJzZXRSZWFsVGFyZ2V0Iiwic2V0dXBEZXZ0b29sc1BsdWdpbiIsInBsdWdpbkRlc2NyaXB0b3IiLCJzZXR1cEZuIiwiZW5hYmxlUHJveHkiLCJlbmFibGVFYXJseVByb3h5IiwiX19WVUVfREVWVE9PTFNfUExVR0lOX0FQSV9BVkFJTEFCTEVfXyIsIl9fVlVFX0RFVlRPT0xTX1BMVUdJTlNfXyIsImlzQnJvd3NlciIsImFwcGx5VG9QYXJhbXMiLCJuZXdQYXJhbXMiLCJub29wIiwiSEFTSF9SRSIsIkFNUEVSU0FORF9SRSIsIlNMQVNIX1JFIiwiRVFVQUxfUkUiLCJJTV9SRSIsIlBMVVNfUkUiLCJFTkNfQlJBQ0tFVF9PUEVOX1JFIiwiRU5DX0JSQUNLRVRfQ0xPU0VfUkUiLCJFTkNfQ0FSRVRfUkUiLCJFTkNfQkFDS1RJQ0tfUkUiLCJFTkNfQ1VSTFlfT1BFTl9SRSIsIkVOQ19QSVBFX1JFIiwiRU5DX0NVUkxZX0NMT1NFX1JFIiwiRU5DX1NQQUNFX1JFIiwiY29tbW9uRW5jb2RlIiwiZW5jb2RlVVJJIiwiZW5jb2RlUXVlcnlWYWx1ZSIsImVuY29kZVBhcmFtIiwiZW5jb2RlUGF0aCIsImRlY29kZSIsImRlY29kZVVSSUNvbXBvbmVudCIsIlRSQUlMSU5HX1NMQVNIX1JFIiwicmVtb3ZlVHJhaWxpbmdTbGFzaCIsInBhcnNlVVJMIiwicGFyc2VRdWVyeSIsImN1cnJlbnRMb2NhdGlvbiIsInF1ZXJ5Iiwic2VhcmNoU3RyaW5nIiwiaGFzaCIsImhhc2hQb3MiLCJzZWFyY2hQb3MiLCJmcm9tU2VnbWVudHMiLCJ0b1NlZ21lbnRzIiwibGFzdFRvU2VnbWVudCIsInRvUG9zaXRpb24iLCJzZWdtZW50IiwicG9zaXRpb24iLCJyZXNvbHZlUmVsYXRpdmVQYXRoIiwiZnVsbFBhdGgiLCJzdHJpcEJhc2UiLCJwYXRobmFtZSIsImlzU2FtZVJvdXRlUmVjb3JkIiwiYWxpYXNPZiIsImlzU2FtZVJvdXRlTG9jYXRpb25QYXJhbXMiLCJpc1NhbWVSb3V0ZUxvY2F0aW9uUGFyYW1zVmFsdWUiLCJpc0VxdWl2YWxlbnRBcnJheSIsIk5hdmlnYXRpb25UeXBlIiwiTmF2aWdhdGlvbkRpcmVjdGlvbiIsIkJFRk9SRV9IQVNIX1JFIiwiY3JlYXRlSHJlZiIsImNvbXB1dGVTY3JvbGxQb3NpdGlvbiIsInNjcm9sbFgiLCJ0b3AiLCJzY3JvbGxZIiwiZ2V0U2Nyb2xsS2V5IiwiZGVsdGEiLCJoaXN0b3J5Iiwic2Nyb2xsUG9zaXRpb25zIiwiY3JlYXRlQmFzZUxvY2F0aW9uIiwicHJvdG9jb2wiLCJob3N0IiwiY3JlYXRlQ3VycmVudExvY2F0aW9uIiwic2VhcmNoIiwic2xpY2VQb3MiLCJwYXRoRnJvbUhhc2giLCJidWlsZFN0YXRlIiwiYmFjayIsImZvcndhcmQiLCJyZXBsYWNlZCIsImNvbXB1dGVTY3JvbGwiLCJzY3JvbGwiLCJpc1JvdXRlTG9jYXRpb24iLCJyb3V0ZSIsImlzUm91dGVOYW1lIiwiU1RBUlRfTE9DQVRJT05fTk9STUFMSVpFRCIsIm1hdGNoZWQiLCJyZWRpcmVjdGVkRnJvbSIsIk5hdmlnYXRpb25GYWlsdXJlU3ltYm9sIiwiTmF2aWdhdGlvbkZhaWx1cmVUeXBlIiwiY3JlYXRlUm91dGVyRXJyb3IiLCJpc05hdmlnYXRpb25GYWlsdXJlIiwiQkFTRV9QQVJBTV9QQVRURVJOIiwiQkFTRV9QQVRIX1BBUlNFUl9PUFRJT05TIiwic2Vuc2l0aXZlIiwic3RyaWN0IiwiUkVHRVhfQ0hBUlNfUkUiLCJjb21wYXJlU2NvcmVBcnJheSIsImNvbXBhcmVQYXRoUGFyc2VyU2NvcmUiLCJhU2NvcmUiLCJzY29yZSIsImJTY29yZSIsImFicyIsImlzTGFzdFNjb3JlTmVnYXRpdmUiLCJST09UX1RPS0VOIiwiVkFMSURfUEFSQU1fUkUiLCJjcmVhdGVSb3V0ZVJlY29yZE1hdGNoZXIiLCJyZWNvcmQiLCJwYXJzZXIiLCJwYXR0ZXJuIiwic2VnbWVudFNjb3JlcyIsInRva2VuSW5kZXgiLCJ0b2tlbiIsInN1YlNlZ21lbnRTY29yZSIsInJlcGVhdGFibGUiLCJvcHRpb25hbCIsInJlZ2V4cCIsIm1lc3NhZ2UiLCJzdWJQYXR0ZXJuIiwiYXZvaWREdXBsaWNhdGVkU2xhc2giLCJlbmRzV2l0aCIsInBhcmFtIiwidG9rZW5zVG9QYXJzZXIiLCJjcmFzaCIsInByZXZpb3VzU3RhdGUiLCJ0b2tlbnMiLCJmaW5hbGl6ZVNlZ21lbnQiLCJjaGFyIiwiY3VzdG9tUmUiLCJjb25zdW1lQnVmZmVyIiwiYWRkQ2hhclRvQnVmZmVyIiwidG9rZW5pemVQYXRoIiwibWF0Y2hlciIsImFsaWFzIiwicGFyYW1zRnJvbUxvY2F0aW9uIiwibm9ybWFsaXplUmVjb3JkUHJvcHMiLCJwcm9wc09iamVjdCIsImlzQWxpYXNSZWNvcmQiLCJtZXJnZU1ldGFGaWVsZHMiLCJkZWZhdWx0cyIsInBhcnRpYWxPcHRpb25zIiwiaXNNYXRjaGFibGUiLCJyZWRpcmVjdCIsInNlYXJjaFBhcmFtcyIsInNlYXJjaFBhcmFtIiwiZXFQb3MiLCJjdXJyZW50VmFsdWUiLCJzdHJpbmdpZnlRdWVyeSIsIm5vcm1hbGl6ZVF1ZXJ5Iiwibm9ybWFsaXplZFF1ZXJ5IiwibWF0Y2hlZFJvdXRlS2V5Iiwidmlld0RlcHRoS2V5Iiwicm91dGVyS2V5Iiwicm91dGVMb2NhdGlvbktleSIsInJvdXRlclZpZXdMb2NhdGlvbktleSIsInVzZUNhbGxiYWNrcyIsImxpc3QiLCJndWFyZFRvUHJvbWlzZUZuIiwiZW50ZXJDYWxsYmFja0FycmF5IiwiZW50ZXJDYWxsYmFja3MiLCJyZWplY3QiLCJ2YWxpZCIsImd1YXJkUmV0dXJuIiwiaW5zdGFuY2VzIiwiZ3VhcmRDYWxsIiwiZXh0cmFjdENvbXBvbmVudHNHdWFyZHMiLCJndWFyZFR5cGUiLCJndWFyZHMiLCJyYXdDb21wb25lbnQiLCJjb21wb25lbnRQcm9taXNlIiwicmVzb2x2ZWRDb21wb25lbnQiLCJ1c2VMaW5rIiwicm91dGVyIiwiY3VycmVudFJvdXRlIiwiYWN0aXZlUmVjb3JkSW5kZXgiLCJyb3V0ZU1hdGNoZWQiLCJjdXJyZW50TWF0Y2hlZCIsInBhcmVudFJlY29yZFBhdGgiLCJnZXRPcmlnaW5hbFBhdGgiLCJpc0FjdGl2ZSIsIm91dGVyIiwiaW5uZXIiLCJpbm5lclZhbHVlIiwib3V0ZXJWYWx1ZSIsImluY2x1ZGVzUGFyYW1zIiwiaXNFeGFjdEFjdGl2ZSIsImxpbmtDb250ZXh0RGV2dG9vbHMiLCJfX3ZybF9kZXZ0b29scyIsIm5hdmlnYXRlIiwiZGVmYXVsdFByZXZlbnRlZCIsImd1YXJkRXZlbnQiLCJSb3V0ZXJMaW5rIiwiY29tcGF0Q29uZmlnIiwiTU9ERSIsInJlcXVpcmVkIiwiYWN0aXZlQ2xhc3MiLCJleGFjdEFjdGl2ZUNsYXNzIiwiY3VzdG9tIiwiYXJpYUN1cnJlbnRWYWx1ZSIsImxpbmsiLCJlbENsYXNzIiwiZ2V0TGlua0NsYXNzIiwibGlua0FjdGl2ZUNsYXNzIiwibGlua0V4YWN0QWN0aXZlQ2xhc3MiLCJwcm9wQ2xhc3MiLCJnbG9iYWxDbGFzcyIsImRlZmF1bHRDbGFzcyIsIlJvdXRlclZpZXdJbXBsIiwiaW5qZWN0ZWRSb3V0ZSIsInJvdXRlVG9EaXNwbGF5IiwiaW5qZWN0ZWREZXB0aCIsImluaXRpYWxEZXB0aCIsIm1hdGNoZWRSb3V0ZSIsIm1hdGNoZWRSb3V0ZVJlZiIsInZpZXdSZWYiLCJvbGRJbnN0YW5jZSIsIm9sZE5hbWUiLCJsZWF2ZUd1YXJkcyIsInVwZGF0ZUd1YXJkcyIsImN1cnJlbnROYW1lIiwiVmlld0NvbXBvbmVudCIsInJvdXRlUHJvcHNPcHRpb24iLCJyb3V0ZVByb3BzIiwiaW5mbyIsIl9fdnJ2X2RldnRvb2xzIiwic2xvdENvbnRlbnQiLCJSb3V0ZXJWaWV3IiwiZm9ybWF0Um91dGVMb2NhdGlvbiIsInJvdXRlTG9jYXRpb24iLCJ0b29sdGlwIiwiY29weSIsIm9taXQiLCJfY3VzdG9tIiwicmVhZE9ubHkiLCJmb3JtYXREaXNwbGF5Iiwicm91dGVySWQiLCJhZGREZXZ0b29scyIsIl9faGFzRGV2dG9vbHMiLCJsYWJlbCIsInBhY2thZ2VOYW1lIiwiaG9tZXBhZ2UiLCJsb2dvIiwiY29tcG9uZW50U3RhdGVUeXBlcyIsImFwaSIsIndhcm4iLCJpbnNwZWN0Q29tcG9uZW50IiwicGF5bG9hZCIsImluc3RhbmNlRGF0YSIsImVkaXRhYmxlIiwidmlzaXRDb21wb25lbnRUcmVlIiwidHJlZU5vZGUiLCJjb21wb25lbnRJbnN0YW5jZSIsInRhZ3MiLCJ0ZXh0Q29sb3IiLCJiYWNrZ3JvdW5kQ29sb3IiLCJQSU5LXzUwMCIsIl9fZGV2dG9vbHNBcGkiLCJkZXZ0b29sc0RhdGEiLCJPUkFOR0VfNDAwIiwiUkVEXzEwMCIsIlJFRF83MDAiLCJMSU1FXzUwMCIsIkJMVUVfNjAwIiwicmVmcmVzaFJvdXRlc1ZpZXciLCJub3RpZnlDb21wb25lbnRVcGRhdGUiLCJzZW5kSW5zcGVjdG9yVHJlZSIsInJvdXRlckluc3BlY3RvcklkIiwic2VuZEluc3BlY3RvclN0YXRlIiwibmF2aWdhdGlvbnNMYXllcklkIiwiYWRkVGltZWxpbmVMYXllciIsImNvbG9yIiwib25FcnJvciIsImFkZFRpbWVsaW5lRXZlbnQiLCJsYXllcklkIiwic3VidGl0bGUiLCJsb2dUeXBlIiwidGltZSIsImdyb3VwSWQiLCJfX25hdmlnYXRpb25JZCIsIm5hdmlnYXRpb25JZCIsImJlZm9yZUVhY2giLCJhZnRlckVhY2giLCJmYWlsdXJlIiwic3RhdHVzIiwiYWN0aXZlUm91dGVzUGF5bG9hZCIsInJvdXRlcyIsImdldFJvdXRlcyIsInJlc2V0TWF0Y2hTdGF0ZU9uUm91dGVSZWNvcmQiLCJpc1JvdXRlTWF0Y2hpbmciLCJtYXJrUm91dGVSZWNvcmRBY3RpdmUiLCJyb290Tm9kZXMiLCJmb3JtYXRSb3V0ZVJlY29yZEZvckluc3BlY3RvciIsImFkZEluc3BlY3RvciIsImljb24iLCJ0cmVlRmlsdGVyUGxhY2Vob2xkZXIiLCJnZXRJbnNwZWN0b3JUcmVlIiwiaW5zcGVjdG9ySWQiLCJnZXRJbnNwZWN0b3JTdGF0ZSIsImZpbmQiLCJfX3ZkX2lkIiwibm9kZUlkIiwiZm9ybWF0Um91dGVSZWNvcmRNYXRjaGVyRm9yU3RhdGVJbnNwZWN0b3IiLCJmaWVsZHMiLCJtb2RpZmllckZvcktleSIsIkNZQU5fNDAwIiwiREFSSyIsIl9fdmRfbWF0Y2giLCJfX3ZkX2V4YWN0QWN0aXZlIiwiX192ZF9hY3RpdmUiLCJyb3V0ZVJlY29yZElkIiwiRVhUUkFDVF9SRUdFWFBfUkUiLCJjaGlsZFJvdXRlIiwiZm91bmQiLCJkZWNvZGVkUGF0aCIsImZvckVhY2hWYWx1ZSIsImdlbmVyaWNTdWJzY3JpYmUiLCJzdWJzIiwicmVzZXRTdG9yZSIsInN0b3JlIiwiaG90IiwiX2FjdGlvbnMiLCJfbXV0YXRpb25zIiwiX3dyYXBwZWRHZXR0ZXJzIiwiX21vZHVsZXNOYW1lc3BhY2VNYXAiLCJpbnN0YWxsTW9kdWxlIiwiX21vZHVsZXMiLCJyZXNldFN0b3JlU3RhdGUiLCJvbGRTdGF0ZSIsIl9zdGF0ZSIsIm9sZFNjb3BlIiwiX3Njb3BlIiwiZ2V0dGVycyIsIl9tYWtlTG9jYWxHZXR0ZXJzQ2FjaGUiLCJ3cmFwcGVkR2V0dGVycyIsImNvbXB1dGVkT2JqIiwiY29tcHV0ZWRDYWNoZSIsInBhcnRpYWwiLCJlbmFibGVTdHJpY3RNb2RlIiwiX3dpdGhDb21taXQiLCJyb290U3RhdGUiLCJpc1Jvb3QiLCJnZXROYW1lc3BhY2UiLCJuYW1lc3BhY2VkIiwicGFyZW50U3RhdGUiLCJnZXROZXN0ZWRTdGF0ZSIsIm1vZHVsZU5hbWUiLCJsb2NhbCIsIm5vTmFtZXNwYWNlIiwiZGlzcGF0Y2giLCJfdHlwZSIsIl9wYXlsb2FkIiwiX29wdGlvbnMiLCJ1bmlmeU9iamVjdFN0eWxlIiwiY29tbWl0IiwiZGVmaW5lUHJvcGVydGllcyIsIm1ha2VMb2NhbEdldHRlcnMiLCJtYWtlTG9jYWxDb250ZXh0IiwiZm9yRWFjaE11dGF0aW9uIiwibXV0YXRpb24iLCJyZWdpc3Rlck11dGF0aW9uIiwiZm9yRWFjaEFjdGlvbiIsImFjdGlvbiIsInJvb3RHZXR0ZXJzIiwiX2RldnRvb2xIb29rIiwicmVnaXN0ZXJBY3Rpb24iLCJmb3JFYWNoR2V0dGVyIiwicmF3R2V0dGVyIiwicmVnaXN0ZXJHZXR0ZXIiLCJmb3JFYWNoQ2hpbGQiLCJnZXR0ZXJzUHJveHkiLCJzcGxpdFBvcyIsImxvY2FsVHlwZSIsIk1VVEFUSU9OU19MQVlFUl9JRCIsIkFDVElPTlNfTEFZRVJfSUQiLCJJTlNQRUNUT1JfSUQiLCJhY3Rpb25JZCIsIkNPTE9SX0xJTUVfNTAwIiwibm9kZXMiLCJmbGF0dGVuU3RvcmVGb3JJbnNwZWN0b3JUcmVlIiwiZm9ybWF0U3RvcmVGb3JJbnNwZWN0b3JUcmVlIiwibW9kdWxlUGF0aCIsImdldHRlcnNLZXlzIiwic3RvcmVTdGF0ZSIsInRyZWUiLCJsZWFmS2V5IiwiYWJzdHJhY3QiLCJjYW5UaHJvdyIsInRyYW5zZm9ybVBhdGhzVG9PYmplY3RUcmVlIiwiZXh0cmFjdE5hbWVGcm9tUGF0aCIsImZvcm1hdFN0b3JlRm9ySW5zcGVjdG9yU3RhdGUiLCJtb2R1bGVNYXAiLCJuYW1lcyIsIl9jaGlsZHJlbiIsImdldFN0b3JlTW9kdWxlIiwiZWRpdEluc3BlY3RvclN0YXRlIiwic3Vic2NyaWJlIiwic3Vic2NyaWJlQWN0aW9uIiwiX2lkIiwiX3RpbWUiLCJhZnRlciIsIlRBR19OQU1FU1BBQ0VEIiwiTW9kdWxlIiwicmF3TW9kdWxlIiwicnVudGltZSIsIl9yYXdNb2R1bGUiLCJyYXdTdGF0ZSIsInByb3RvdHlwZUFjY2Vzc29ycyQxIiwiYWRkQ2hpbGQiLCJnZXRDaGlsZCIsImhhc0NoaWxkIiwibXV0YXRpb25zIiwiTW9kdWxlQ29sbGVjdGlvbiIsInJhd1Jvb3RNb2R1bGUiLCJ0YXJnZXRNb2R1bGUiLCJuZXdNb2R1bGUiLCJtb2R1bGVzIiwidGhpcyQxJDEiLCJyYXdDaGlsZE1vZHVsZSIsInVucmVnaXN0ZXIiLCJpc1JlZ2lzdGVyZWQiLCJTdG9yZSIsInBsdWdpbnMiLCJkZXZ0b29scyIsIl9jb21taXR0aW5nIiwiX2FjdGlvblN1YnNjcmliZXJzIiwiX3N1YnNjcmliZXJzIiwiX2RldnRvb2xzIiwicHJvdG90eXBlQWNjZXNzb3JzIiwiaW5qZWN0S2V5IiwiJHN0b3JlIiwiZW50cnkiLCJzdWIiLCJhbGwiLCJyZXBsYWNlU3RhdGUiLCJyZWdpc3Rlck1vZHVsZSIsInByZXNlcnZlU3RhdGUiLCJ1bnJlZ2lzdGVyTW9kdWxlIiwiaGFzTW9kdWxlIiwiaG90VXBkYXRlIiwibmV3T3B0aW9ucyIsImNvbW1pdHRpbmciLCJub3JtYWxpemVOYW1lc3BhY2UiLCJzdGF0ZXMiLCJub3JtYWxpemVNYXAiLCJnZXRNb2R1bGVCeU5hbWVzcGFjZSIsInZ1ZXgiLCJtYXBHZXR0ZXJzIiwibWFwQWN0aW9ucyIsImlzVmFsaWRNYXAiLCJoZWxwZXIiLCJza2VsZXRvbldpZHRoU3R5bGUiLCJTa2VsZXRvblRleHQiLCJfbm9ybWFsaXplU3R5bGUiLCJUYWJsZUxvYWRpbmciLCJfY29tcG9uZW50X1NrZWxldG9uVGV4dCIsIl9GcmFnbWVudCIsIl9yZW5kZXJMaXN0IiwiaGVhZGVycyIsInJvd3MiLCJsb2FkaW5nIiwiaHRtbENvbHVtbnMiLCJfb2JqZWN0U3ByZWFkIiwiaXNIdG1sIiwia2V5TmFtZSIsIkJhc2VUYWJsZSIsIl9jcmVhdGVCbG9jayIsIl9jb21wb25lbnRfVGFibGVMb2FkaW5nIiwiaGVhZGVyIiwicm93IiwidGFibGVIZWFkZXJzIiwidGFibGVSb3dzIiwiZ2V0VGFibGVEYXRhIiwiX2NvbXBvbmVudF9CYXNlVGFibGUiLCJfcmVuZGVyU2xvdCIsIm9uQ2hhbmdlIiwiaXNEZWZhdWx0SW5wdXQiLCJpc0NoZWNrYm94IiwiaXNDaGVja2VkIiwib25DaGFuZ2VJbnB1dCIsImNoZWNrZWQiLCJfcmVnZW5lcmF0b3JSdW50aW1lIiwiYXN5bmNJdGVyYXRvciIsImRlZmluZSIsIkdlbmVyYXRvciIsIkNvbnRleHQiLCJtYWtlSW52b2tlTWV0aG9kIiwidHJ5Q2F0Y2giLCJ5IiwiR2VuZXJhdG9yRnVuY3Rpb24iLCJHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSIsImRlZmluZUl0ZXJhdG9yTWV0aG9kcyIsIl9pbnZva2UiLCJBc3luY0l0ZXJhdG9yIiwiaW52b2tlIiwiX3R5cGVvZiIsIl9fYXdhaXQiLCJjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZyIsImRlbGVnYXRlIiwibWF5YmVJbnZva2VEZWxlZ2F0ZSIsInNlbnQiLCJfc2VudCIsImRpc3BhdGNoRXhjZXB0aW9uIiwiYWJydXB0IiwicmVzdWx0TmFtZSIsIm5leHRMb2MiLCJwdXNoVHJ5RW50cnkiLCJ0cnlMb2MiLCJjYXRjaExvYyIsImZpbmFsbHlMb2MiLCJhZnRlckxvYyIsInRyeUVudHJpZXMiLCJyZXNldFRyeUVudHJ5IiwiY29tcGxldGlvbiIsImlzR2VuZXJhdG9yRnVuY3Rpb24iLCJtYXJrIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJhd3JhcCIsImFzeW5jIiwicmV2ZXJzZSIsInJ2YWwiLCJoYW5kbGUiLCJjb21wbGV0ZSIsImZpbmlzaCIsImRlbGVnYXRlWWllbGQiLCJhc3luY0dlbmVyYXRvclN0ZXAiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJfZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzIiwidG9QcmltaXRpdmUiLCJfdG9QcmltaXRpdmUiLCJfdG9Qcm9wZXJ0eUtleSIsIkJ1dHRvbiIsIkJhc2VJbnB1dCIsIm9uY2hhbmdlIiwid3BBbVZ1ZSIsInJvd251bWJlciIsIm51bXJvd3MiLCJjaGVja2JveE5hbWUiLCJjaGVja2JveFR5cGUiLCJjaGVja2JveFZhbHVlIiwiY2hlY2tib3hQbGFjZWhvbGRlciIsImVtYWlscyIsInNob3dNZXNzYWdlIiwibWVzc2FnZVR5cGUiLCJwb3B1bGF0ZUZvcm1GaWVsZHMiLCJvblN1Ym1pdCIsIl90aGlzIiwiX2NhbGxlZSIsInNldHRpbmciLCJlbWFpbCIsInJlYWRhYmxlIiwic3RvcmVTZXR0aW5ncyIsInQwIiwiX25leHQiLCJfdGhyb3ciLCJvbk51bVJvd3NDaGFuZ2UiLCJpbnB1dCIsIm9uQ2hlY2tib3hDaGFuZ2UiLCJvbkVtYWlsQ2hhbmdlIiwicmVtb3ZlRW1haWwiLCJhZGRFbWFpbCIsInVzZXIiLCJfd2l0aE1vZGlmaWVycyIsIl9jb21wb25lbnRfQmFzZUlucHV0IiwiX2hvaXN0ZWRfNyIsIl9ob2lzdGVkXzgiLCJfaG9pc3RlZF85IiwiJGV2ZW50IiwiX2hvaXN0ZWRfMTAiLCJfY29tcG9uZW50X0J1dHRvbiIsIl9ub3JtYWxpemVDbGFzcyIsInJvdW5kIiwibGltIiwicDJiIiwibjJiIiwiYjJuIiwibjJwIiwibWFwJDEiLCJBIiwiQiIsIkMiLCJEIiwiRSIsIkYiLCJoZXgiLCJoMSIsImVxIiwiSFVFX1JFIiwiaHNsMnJnYm4iLCJoc3YycmdibiIsImh3YjJyZ2JuIiwidyIsInJnYiIsInJnYjJoc2wiLCJodWVWYWx1ZSIsImNhbGxuIiwiaHNsMnJnYiIsImh1ZSIsIngiLCJaIiwiWSIsIlgiLCJXIiwiViIsIlUiLCJUIiwiUyIsIlIiLCJRIiwiUCIsIk8iLCJOIiwiTSIsIkwiLCJLIiwiRyIsIkgiLCJJIiwiSiIsIm5hbWVzJDEiLCJPaWNlWGUiLCJhbnRpcXVld0V0ZSIsImFxdWEiLCJhcXVhbWFyUmUiLCJhenVZIiwiYmVpZ2UiLCJiaXNxdWUiLCJibGFjayIsImJsYW5LZWRPbW9uZCIsIlhlIiwiWGV2aVRldCIsImJQd24iLCJidXJseXdvb2QiLCJjYU10WGUiLCJLYXJ0WXVzZSIsIktvY1RhdGUiLCJjU08iLCJjU25mbG93ZXJYZSIsImNTbnNpbGsiLCJjcmltc29uIiwiY3lhbiIsInhYZSIsInhjeWFuIiwieGdUTW5QZCIsInhXYXkiLCJ4Z1lGIiwieGdZeSIsInhraGFraSIsInhtYWdGdGEiLCJ4VGl2ZWdZRiIsInhTYW5nZSIsInhTY0VkIiwieFlkIiwieHNPbW9uIiwieHNIZ1lGIiwieFVYZSIsInhVV2F5IiwieFVnWXkiLCJ4UWUiLCJ4dmlUZXQiLCJkQXBwUmsiLCJkQXBza3lYZSIsImRpbVdheSIsImRpbWdZeSIsImRvZGdlclhlIiwiZmlZYnJpY2siLCJmbFNPd0V0ZSIsImZvWXN0V0FuIiwiZnVLc2lhIiwiZ2FSc2JTbyIsImdob3N0d0V0ZSIsImdUZCIsImdUTW5QZCIsIldheSIsImdZRiIsImdZRkx3IiwiZ1l5IiwiaG9uZXlNdyIsImhvdHBSayIsIlJkaWFuWWQiLCJSZGlnbyIsIml2U3kiLCJraGFraSIsImxhdkZNciIsImxhdkZNclhzaCIsImxhd25nWUYiLCJObW9uY0VmZm9uIiwiWlhlIiwiWmNTTyIsIlpjeWFuIiwiWmdUTW5QZEx3IiwiWldheSIsIlpnWUYiLCJaZ1l5IiwiWnBSayIsIlpzT21vbiIsIlpzSGdZRiIsIlpza3lYZSIsIlpVV2F5IiwiWlVnWXkiLCJac3RBbFhlIiwiWkx3IiwibGltZSIsImxpbWVnWUYiLCJsUkYiLCJtYWdGdGEiLCJtYVBvbiIsIlZhcXVhbWFyUmUiLCJWWGUiLCJWU2NFZCIsIlZwdXJwTiIsIlZzSGdZRiIsIlZVWGUiLCJWc3ByUmdnWUYiLCJWUWUiLCJWdmlUZXRZZCIsIm1pZG5pZ2h0WGUiLCJtUnRjWWFtIiwibWlzdHlQc2UiLCJtb2NjYXNSIiwibmF2YWpvd0V0ZSIsIm5hdnkiLCJUZGxhY2UiLCJUaXZlIiwiVGl2ZWRCYiIsIlNhbmdlIiwiU2FuZ2VZZCIsIlNjRWQiLCJwT2VnVE1uUGQiLCJwT2VnWUYiLCJwT2VRZSIsInBPZXZpVGV0WWQiLCJwYXBheWF3RXAiLCJwSEtwdWZmIiwicGVydSIsInBSayIsInBsdW0iLCJwb3dNclhlIiwicHVycE4iLCJZYmVjY2FwdXJwTiIsIllkIiwiUHN5YnJvd24iLCJQeU9YZSIsInNhZGROYlB3biIsInNPbW9uIiwic2FuZHliUHduIiwic0hnWUYiLCJzSHNoZWxsIiwic2lGbmEiLCJzaWx2ZXIiLCJza3lYZSIsIlVYZSIsIlVXYXkiLCJVZ1l5Iiwic25vdyIsInNwclJnZ1lGIiwic3RBbFhlIiwidGFuIiwidGVPIiwidEVzdE4iLCJ0b21hdG8iLCJRZSIsInZpVGV0IiwiSkh0Iiwid0V0ZSIsIndFdGVzbW9rZSIsIkx3IiwiTHdnWUYiLCJSR0JfUkUiLCJwb3ciLCJtb2RIU0wiLCJyYXRpbyIsInByb3RvIiwiZnJvbU9iamVjdCIsImZ1bmN0aW9uUGFyc2UiLCJyZ2JQYXJzZSIsInAxIiwicDIiLCJod2IycmdiIiwiaHN2MnJnYiIsImh1ZVBhcnNlIiwiQ29sb3IiLCJ1bnBhY2tlZCIsInRrZXlzIiwib2siLCJuayIsInVucGFjayIsInRyYW5zcGFyZW50IiwibmFtZVBhcnNlIiwiX3JnYiIsIl92YWxpZCIsInJnYlN0cmluZyIsImhleFN0cmluZyIsImlzU2hvcnQiLCJhbHBoYSIsImhzbFN0cmluZyIsIm1peCIsIndlaWdodCIsIncyIiwidzEiLCJpbnRlcnBvbGF0ZSIsInJnYjEiLCJyZ2IyIiwiY2xlYXJlciIsImdyZXlzY2FsZSIsIm9wYXF1ZXIiLCJuZWdhdGUiLCJsaWdodGVuIiwiZGFya2VuIiwic2F0dXJhdGUiLCJkZXNhdHVyYXRlIiwicm90YXRlIiwiZGVnIiwiaXNOdWxsT3JVbmRlZiIsImlzTnVtYmVyRmluaXRlIiwiaXNGaW5pdGUiLCJmaW5pdGVPckRlZmF1bHQiLCJ2YWx1ZU9yRGVmYXVsdCIsImxvb3BhYmxlIiwiX2VsZW1lbnRzRXF1YWwiLCJhMCIsImExIiwiaWxlbiIsInYwIiwidjEiLCJkYXRhc2V0SW5kZXgiLCJrbGVuIiwiaXNWYWxpZEtleSIsIl9tZXJnZXIiLCJ0dmFsIiwic3ZhbCIsIm1lcmdlIiwic291cmNlcyIsIm1lcmdlciIsIm1lcmdlSWYiLCJfbWVyZ2VySWYiLCJrZXlSZXNvbHZlcnMiLCJyZXNvbHZlT2JqZWN0S2V5IiwicmVzb2x2ZXIiLCJwYXJ0cyIsInBhcnQiLCJfc3BsaXRLZXkiLCJfZ2V0S2V5UmVzb2x2ZXIiLCJfY2FwaXRhbGl6ZSIsImRlZmluZWQiLCJzZXRzRXF1YWwiLCJQSSIsIlRBVSIsIklORklOSVRZIiwiUE9TSVRJVkVfSU5GSU5JVFkiLCJSQURfUEVSX0RFRyIsIkhBTEZfUEkiLCJRVUFSVEVSX1BJIiwiVFdPX1RISVJEU19QSSIsImxvZzEwIiwiYWxtb3N0RXF1YWxzIiwiZXBzaWxvbiIsIm5pY2VOdW0iLCJyYW5nZSIsInJvdW5kZWRSYW5nZSIsIm5pY2VSYW5nZSIsImZsb29yIiwiZnJhY3Rpb24iLCJpc051bWJlciIsInRvUmFkaWFucyIsImRlZ3JlZXMiLCJfZGVjaW1hbFBsYWNlcyIsIl9ub3JtYWxpemVBbmdsZSIsIl9saW1pdFZhbHVlIiwiX2lzQmV0d2VlbiIsIl9sb29rdXAiLCJ0YWJsZSIsImNtcCIsIm1pZCIsImhpIiwibG8iLCJfbG9va3VwQnlLZXkiLCJ0aSIsIl9ybG9va3VwQnlLZXkiLCJhcnJheUV2ZW50cyIsInVubGlzdGVuQXJyYXlFdmVudHMiLCJhcnJheSIsImxpc3RlbmVyIiwic3R1YiIsIl9jaGFydGpzIiwibGlzdGVuZXJzIiwicmVxdWVzdEFuaW1GcmFtZSIsInRocm90dGxlZCIsImFyZ3NUb1VzZSIsInRpY2tpbmciLCJfdG9MZWZ0UmlnaHRDZW50ZXIiLCJfYWxpZ25TdGFydEVuZCIsImF0RWRnZSIsImVsYXN0aWNJbiIsInNpbiIsImVsYXN0aWNPdXQiLCJsaW5lYXIiLCJlYXNlSW5RdWFkIiwiZWFzZU91dFF1YWQiLCJlYXNlSW5PdXRRdWFkIiwiZWFzZUluQ3ViaWMiLCJlYXNlT3V0Q3ViaWMiLCJlYXNlSW5PdXRDdWJpYyIsImVhc2VJblF1YXJ0IiwiZWFzZU91dFF1YXJ0IiwiZWFzZUluT3V0UXVhcnQiLCJlYXNlSW5RdWludCIsImVhc2VPdXRRdWludCIsImVhc2VJbk91dFF1aW50IiwiZWFzZUluU2luZSIsImNvcyIsImVhc2VPdXRTaW5lIiwiZWFzZUluT3V0U2luZSIsImVhc2VJbkV4cG8iLCJlYXNlT3V0RXhwbyIsImVhc2VJbk91dEV4cG8iLCJlYXNlSW5DaXJjIiwic3FydCIsImVhc2VPdXRDaXJjIiwiZWFzZUluT3V0Q2lyYyIsImVhc2VJbkVsYXN0aWMiLCJlYXNlT3V0RWxhc3RpYyIsImVhc2VJbk91dEVsYXN0aWMiLCJlYXNlSW5CYWNrIiwiZWFzZU91dEJhY2siLCJlYXNlSW5PdXRCYWNrIiwiZWFzZUluQm91bmNlIiwiZWFzZU91dEJvdW5jZSIsImVhc2VJbk91dEJvdW5jZSIsImlzUGF0dGVybk9yR3JhZGllbnQiLCJnZXRIb3ZlckNvbG9yIiwibnVtYmVycyIsImNvbG9ycyIsImludGxDYWNoZSIsImZvcm1hdE51bWJlciIsIm51bSIsImxvY2FsZSIsImZvcm1hdHRlciIsIkludGwiLCJOdW1iZXJGb3JtYXQiLCJnZXROdW1iZXJGb3JtYXQiLCJmb3JtYXQiLCJmb3JtYXR0ZXJzIiwibnVtZXJpYyIsInRpY2tWYWx1ZSIsInRpY2tzIiwiY2hhcnQiLCJub3RhdGlvbiIsIm1heFRpY2siLCJjYWxjdWxhdGVEZWx0YSIsImxvZ0RlbHRhIiwibnVtRGVjaW1hbCIsIm1pbmltdW1GcmFjdGlvbkRpZ2l0cyIsIm1heGltdW1GcmFjdGlvbkRpZ2l0cyIsImxvZ2FyaXRobWljIiwicmVtYWluIiwic2lnbmlmaWNhbmQiLCJUaWNrcyIsIm92ZXJyaWRlcyIsImRlc2NyaXB0b3JzIiwiZ2V0U2NvcGUkMSIsIkRlZmF1bHRzIiwiX2Rlc2NyaXB0b3JzIiwiX2FwcGxpZXJzIiwiYW5pbWF0aW9uIiwiYm9yZGVyQ29sb3IiLCJkYXRhc2V0cyIsImRldmljZVBpeGVsUmF0aW8iLCJwbGF0Zm9ybSIsImdldERldmljZVBpeGVsUmF0aW8iLCJlbGVtZW50cyIsImV2ZW50cyIsImZvbnQiLCJmYW1pbHkiLCJsaW5lSGVpZ2h0IiwiaG92ZXIiLCJob3ZlckJhY2tncm91bmRDb2xvciIsImhvdmVyQm9yZGVyQ29sb3IiLCJob3ZlckNvbG9yIiwiaW5kZXhBeGlzIiwiaW50ZXJhY3Rpb24iLCJpbnRlcnNlY3QiLCJpbmNsdWRlSW52aXNpYmxlIiwibWFpbnRhaW5Bc3BlY3RSYXRpbyIsIm9uSG92ZXIiLCJwYXJzaW5nIiwicmVzcG9uc2l2ZSIsInNjYWxlIiwic2NhbGVzIiwic2hvd0xpbmUiLCJkcmF3QWN0aXZlRWxlbWVudHNPblRvcCIsImRlc2NyaWJlIiwib3ZlcnJpZGUiLCJ0YXJnZXRTY29wZSIsInRhcmdldE5hbWUiLCJzY29wZU9iamVjdCIsInRhcmdldFNjb3BlT2JqZWN0IiwicHJpdmF0ZU5hbWUiLCJhcHBsaWVycyIsIl9zY3JpcHRhYmxlIiwiX2luZGV4YWJsZSIsIl9mYWxsYmFjayIsImRlbGF5IiwiZWFzaW5nIiwibG9vcCIsInByb3BlcnRpZXMiLCJyZXNpemUiLCJzaG93IiwiYW5pbWF0aW9ucyIsInZpc2libGUiLCJoaWRlIiwiYXV0b1BhZGRpbmciLCJwYWRkaW5nIiwiYm90dG9tIiwib2Zmc2V0IiwiYmVnaW5BdFplcm8iLCJib3VuZHMiLCJjbGlwIiwiZ3JhY2UiLCJncmlkIiwibGluZVdpZHRoIiwiZHJhd09uQ2hhcnRBcmVhIiwiZHJhd1RpY2tzIiwidGlja0xlbmd0aCIsInRpY2tXaWR0aCIsInRpY2tDb2xvciIsImJvcmRlciIsImRhc2giLCJkYXNoT2Zmc2V0IiwibWluUm90YXRpb24iLCJtYXhSb3RhdGlvbiIsIm1pcnJvciIsInRleHRTdHJva2VXaWR0aCIsInRleHRTdHJva2VDb2xvciIsImF1dG9Ta2lwIiwiYXV0b1NraXBQYWRkaW5nIiwibGFiZWxPZmZzZXQiLCJtaW5vciIsIm1ham9yIiwiY3Jvc3NBbGlnbiIsInNob3dMYWJlbEJhY2tkcm9wIiwiYmFja2Ryb3BDb2xvciIsImJhY2tkcm9wUGFkZGluZyIsIl9tZWFzdXJlVGV4dCIsImdjIiwibG9uZ2VzdCIsInN0cmluZyIsInRleHRXaWR0aCIsIm1lYXN1cmVUZXh0IiwiX2FsaWduUGl4ZWwiLCJwaXhlbCIsImN1cnJlbnREZXZpY2VQaXhlbFJhdGlvIiwiaGFsZldpZHRoIiwiY2xlYXJDYW52YXMiLCJjYW52YXMiLCJnZXRDb250ZXh0Iiwic2F2ZSIsInJlc2V0VHJhbnNmb3JtIiwiY2xlYXJSZWN0IiwiaGVpZ2h0IiwicmVzdG9yZSIsImRyYXdQb2ludCIsImRyYXdQb2ludExlZ2VuZCIsInhPZmZzZXQiLCJ5T2Zmc2V0IiwiY29ybmVyUmFkaXVzIiwieE9mZnNldFciLCJ5T2Zmc2V0VyIsInBvaW50U3R5bGUiLCJyb3RhdGlvbiIsInJhZGl1cyIsInJhZCIsInRyYW5zbGF0ZSIsImRyYXdJbWFnZSIsImJlZ2luUGF0aCIsImVsbGlwc2UiLCJhcmMiLCJjbG9zZVBhdGgiLCJtb3ZlVG8iLCJsaW5lVG8iLCJTUVJUMV8yIiwicmVjdCIsImJvcmRlcldpZHRoIiwic3Ryb2tlIiwiX2lzUG9pbnRJbkFyZWEiLCJwb2ludCIsImFyZWEiLCJtYXJnaW4iLCJjbGlwQXJlYSIsInVuY2xpcEFyZWEiLCJkZWNvcmF0ZVRleHQiLCJsaW5lIiwib3B0cyIsInN0cmlrZXRocm91Z2giLCJ1bmRlcmxpbmUiLCJtZXRyaWNzIiwiYWN0dWFsQm91bmRpbmdCb3hMZWZ0IiwiYWN0dWFsQm91bmRpbmdCb3hSaWdodCIsImFjdHVhbEJvdW5kaW5nQm94QXNjZW50IiwiYWN0dWFsQm91bmRpbmdCb3hEZXNjZW50IiwieURlY29yYXRpb24iLCJzdHJva2VTdHlsZSIsImZpbGxTdHlsZSIsImRlY29yYXRpb25XaWR0aCIsImRyYXdCYWNrZHJvcCIsIm9sZENvbG9yIiwiZmlsbFJlY3QiLCJyZW5kZXJUZXh0IiwibGluZXMiLCJzdHJva2VXaWR0aCIsInN0cm9rZUNvbG9yIiwidHJhbnNsYXRpb24iLCJ0ZXh0QWxpZ24iLCJ0ZXh0QmFzZWxpbmUiLCJzZXRSZW5kZXJPcHRzIiwiYmFja2Ryb3AiLCJzdHJva2VUZXh0IiwibWF4V2lkdGgiLCJmaWxsVGV4dCIsImFkZFJvdW5kZWRSZWN0UGF0aCIsInRvcExlZnQiLCJib3R0b21MZWZ0IiwiYm90dG9tUmlnaHQiLCJ0b3BSaWdodCIsIkxJTkVfSEVJR0hUIiwiRk9OVF9TVFlMRSIsInRvTGluZUhlaWdodCIsIm1hdGNoZXMiLCJudW1iZXJPclplcm8iLCJfcmVhZFZhbHVlVG9Qcm9wcyIsIm9ialByb3BzIiwicmVhZCIsInRvVFJCTCIsInRvVFJCTENvcm5lcnMiLCJ0b1BhZGRpbmciLCJ0b0ZvbnQiLCJ0b0ZvbnRTdHJpbmciLCJpbnB1dHMiLCJjYWNoZWFibGUiLCJjcmVhdGVDb250ZXh0IiwicGFyZW50Q29udGV4dCIsIl9jcmVhdGVSZXNvbHZlciIsInJvb3RTY29wZXMiLCJmaW5hbFJvb3RTY29wZXMiLCJfcmVzb2x2ZSIsIl9zY29wZXMiLCJfcm9vdFNjb3BlcyIsIl9nZXRUYXJnZXQiLCJfa2V5cyIsIl9jYWNoZWQiLCJwcmVmaXgiLCJyZWFkS2V5IiwibmVlZHNTdWJSZXNvbHZlciIsImNyZWF0ZVN1YlJlc29sdmVyIiwiX3Jlc29sdmVXaXRoUHJlZml4ZXMiLCJnZXRLZXlzRnJvbUFsbFNjb3BlcyIsInN0b3JhZ2UiLCJfc3RvcmFnZSIsIl9hdHRhY2hDb250ZXh0Iiwic3ViUHJveHkiLCJkZXNjcmlwdG9yRGVmYXVsdHMiLCJfcHJveHkiLCJfc3ViUHJveHkiLCJfc3RhY2siLCJzZXRDb250ZXh0IiwiaXNTY3JpcHRhYmxlIiwiZ2V0VmFsdWUiLCJfcmVzb2x2ZVNjcmlwdGFibGUiLCJpc0luZGV4YWJsZSIsIl9yZXNvbHZlQXJyYXkiLCJfcmVzb2x2ZVdpdGhDb250ZXh0IiwiYWxsS2V5cyIsInNjcmlwdGFibGUiLCJpbmRleGFibGUiLCJfYWxsS2V5cyIsInJlc29sdmVGYWxsYmFjayIsImdldFNjb3BlIiwiYWRkU2NvcGVzIiwicGFyZW50U2NvcGVzIiwicGFyZW50RmFsbGJhY2siLCJhbGxTY29wZXMiLCJhZGRTY29wZXNGcm9tS2V5Iiwic3ViR2V0VGFyZ2V0IiwicmVzb2x2ZUtleXNGcm9tQWxsU2NvcGVzIiwiX2lzRG9tU3VwcG9ydGVkIiwiX2dldFBhcmVudE5vZGUiLCJkb21Ob2RlIiwicGFyc2VNYXhTdHlsZSIsInN0eWxlVmFsdWUiLCJwYXJlbnRQcm9wZXJ0eSIsInZhbHVlSW5QaXhlbHMiLCJFUFNJTE9OIiwiZWxlbWVudCIsIm93bmVyRG9jdW1lbnQiLCJkZWZhdWx0VmlldyIsInBvc2l0aW9ucyIsImdldFBvc2l0aW9uZWRTdHlsZSIsInN1ZmZpeCIsInBvcyIsInVzZU9mZnNldFBvcyIsInNoYWRvd1Jvb3QiLCJnZXRSZWxhdGl2ZVBvc2l0aW9uIiwiYm9yZGVyQm94IiwiYm94U2l6aW5nIiwicGFkZGluZ3MiLCJib3JkZXJzIiwiYm94IiwidG91Y2hlcyIsIm9mZnNldFgiLCJvZmZzZXRZIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiY2xpZW50WCIsImNsaWVudFkiLCJnZXRDYW52YXNQb3NpdGlvbiIsInJvdW5kMSIsInJldGluYVNjYWxlIiwiZm9yY2VSYXRpbyIsImZvcmNlU3R5bGUiLCJwaXhlbFJhdGlvIiwiZGV2aWNlSGVpZ2h0IiwiZGV2aWNlV2lkdGgiLCJzZXRUcmFuc2Zvcm0iLCJzdXBwb3J0c0V2ZW50TGlzdGVuZXJPcHRpb25zIiwicGFzc2l2ZVN1cHBvcnRlZCIsInBhc3NpdmUiLCJyZWFkVXNlZFNpemUiLCJwcm9wZXJ0eSIsImdldFByb3BlcnR5VmFsdWUiLCJnZXRTdHlsZSIsImdldFJ0bEFkYXB0ZXIiLCJydGwiLCJyZWN0WCIsInNldFdpZHRoIiwieFBsdXMiLCJsZWZ0Rm9yTHRyIiwiaXRlbVdpZHRoIiwiZ2V0UmlnaHRUb0xlZnRBZGFwdGVyIiwiX2l0ZW1XaWR0aCIsIm92ZXJyaWRlVGV4dERpcmVjdGlvbiIsImRpcmVjdGlvbiIsIm9yaWdpbmFsIiwiZ2V0UHJvcGVydHlQcmlvcml0eSIsInByZXZUZXh0RGlyZWN0aW9uIiwicmVzdG9yZVRleHREaXJlY3Rpb24iLCJBbmltYXRvciIsIl9yZXF1ZXN0IiwiX2NoYXJ0cyIsIl9ydW5uaW5nIiwiX2xhc3REYXRlIiwiX25vdGlmeSIsImFuaW1zIiwiZGF0ZSIsImNhbGxiYWNrcyIsIm51bVN0ZXBzIiwiaW5pdGlhbCIsImN1cnJlbnRTdGVwIiwiX3JlZnJlc2giLCJfdXBkYXRlIiwicmVtYWluaW5nIiwicnVubmluZyIsIml0ZW1zIiwiZHJhdyIsIl90b3RhbCIsInRpY2siLCJfZ2V0QW5pbXMiLCJjaGFydHMiLCJwcm9ncmVzcyIsImxpc3RlbiIsImFjYyIsIl9kdXJhdGlvbiIsImNhbmNlbCIsImFuaW1hdG9yIiwiaW50ZXJwb2xhdG9ycyIsImJvb2xlYW4iLCJmYWN0b3IiLCJjMCIsIkFuaW1hdGlvbiIsImNmZyIsIl9mbiIsIl9lYXNpbmciLCJfc3RhcnQiLCJfbG9vcCIsIl9wcm9wIiwiX2Zyb20iLCJfdG8iLCJfcHJvbWlzZXMiLCJlbGFwc2VkIiwid2FpdCIsInByb21pc2VzIiwicmVqIiwiQW5pbWF0aW9ucyIsIl9jaGFydCIsIl9wcm9wZXJ0aWVzIiwiY29uZmlndXJlIiwiYW5pbWF0aW9uT3B0aW9ucyIsImFuaW1hdGVkUHJvcHMiLCJvcHRpb24iLCJfYW5pbWF0ZU9wdGlvbnMiLCIkc2hhcmVkIiwiJGFuaW1hdGlvbnMiLCJyZXNvbHZlVGFyZ2V0T3B0aW9ucyIsIl9jcmVhdGVBbmltYXRpb25zIiwiYW5pbSIsImF3YWl0QWxsIiwic2NhbGVDbGlwIiwiYWxsb3dlZE92ZXJmbG93IiwiZ2V0U29ydGVkRGF0YXNldEluZGljZXMiLCJmaWx0ZXJWaXNpYmxlIiwibWV0YXNldHMiLCJfZ2V0U29ydGVkRGF0YXNldE1ldGFzIiwiYXBwbHlTdGFjayIsInN0YWNrIiwiZHNJbmRleCIsInNpbmdsZU1vZGUiLCJvdGhlclZhbHVlIiwiaXNTdGFja2VkIiwic3RhY2tlZCIsImdldE9yQ3JlYXRlU3RhY2siLCJzdGFja3MiLCJzdGFja0tleSIsImluZGV4VmFsdWUiLCJzdWJTdGFjayIsImdldExhc3RJbmRleEluU3RhY2siLCJ2U2NhbGUiLCJwb3NpdGl2ZSIsImdldE1hdGNoaW5nVmlzaWJsZU1ldGFzIiwidXBkYXRlU3RhY2tzIiwiY29udHJvbGxlciIsInBhcnNlZCIsIl9jYWNoZWRNZXRhIiwiX3N0YWNrcyIsImlTY2FsZSIsImlBeGlzIiwiYXhpcyIsInZBeGlzIiwiaW5kZXhTY2FsZSIsInZhbHVlU2NhbGUiLCJnZXRTdGFja0tleSIsIl90b3AiLCJfYm90dG9tIiwiX3Zpc3VhbFZhbHVlcyIsImdldEZpcnN0U2NhbGVJZCIsImNsZWFyU3RhY2tzIiwiX3BhcnNlZCIsImlzRGlyZWN0VXBkYXRlTW9kZSIsImNsb25lSWZOb3RTaGFyZWQiLCJzaGFyZWQiLCJEYXRhc2V0Q29udHJvbGxlciIsInN0YXRpYyIsIl9jYWNoZWREYXRhT3B0cyIsImdldE1ldGEiLCJfcGFyc2luZyIsIl9kYXRhIiwiX29iamVjdERhdGEiLCJfc2hhcmVkT3B0aW9ucyIsIl9kcmF3U3RhcnQiLCJfZHJhd0NvdW50IiwiZW5hYmxlT3B0aW9uU2hhcmluZyIsInN1cHBvcnRzRGVjaW1hdGlvbiIsIiRjb250ZXh0IiwiX3N5bmNMaXN0IiwiZGF0YXNldEVsZW1lbnRUeXBlIiwiZGF0YUVsZW1lbnRUeXBlIiwiaW5pdGlhbGl6ZSIsImxpbmtTY2FsZXMiLCJfc3RhY2tlZCIsImFkZEVsZW1lbnRzIiwiaXNQbHVnaW5FbmFibGVkIiwidXBkYXRlSW5kZXgiLCJkYXRhc2V0IiwiZ2V0RGF0YXNldCIsImNob29zZUlkIiwieGlkIiwieEF4aXNJRCIsInlpZCIsInlBeGlzSUQiLCJyaWQiLCJyQXhpc0lEIiwiaWlkIiwiaUF4aXNJRCIsInZpZCIsInZBeGlzSUQiLCJ4U2NhbGUiLCJnZXRTY2FsZUZvcklkIiwieVNjYWxlIiwiclNjYWxlIiwiZ2V0RGF0YXNldE1ldGEiLCJzY2FsZUlEIiwiX2dldE90aGVyU2NhbGUiLCJfZGVzdHJveSIsIl9kYXRhQ2hlY2siLCJpQXhpc0tleSIsInZBeGlzS2V5IiwiYWRhdGEiLCJjb252ZXJ0T2JqZWN0RGF0YVRvQXJyYXkiLCJvYmplY3QiLCJidWlsZE9yVXBkYXRlRWxlbWVudHMiLCJyZXNldE5ld0VsZW1lbnRzIiwic3RhY2tDaGFuZ2VkIiwib2xkU3RhY2tlZCIsIl9yZXN5bmNFbGVtZW50cyIsInNjb3BlS2V5cyIsImRhdGFzZXRTY29wZUtleXMiLCJnZXRPcHRpb25TY29wZXMiLCJjcmVhdGVSZXNvbHZlciIsImNvdW50Iiwic29ydGVkIiwiX3NvcnRlZCIsInBhcnNlQXJyYXlEYXRhIiwicGFyc2VPYmplY3REYXRhIiwicGFyc2VQcmltaXRpdmVEYXRhIiwiaXNOb3RJbk9yZGVyQ29tcGFyZWRUb1ByZXYiLCJsYWJlbHMiLCJnZXRMYWJlbHMiLCJzaW5nbGVTY2FsZSIsInhBeGlzS2V5IiwieUF4aXNLZXkiLCJnZXRQYXJzZWQiLCJnZXREYXRhRWxlbWVudCIsInVwZGF0ZVJhbmdlRnJvbVBhcnNlZCIsInBhcnNlZFZhbHVlIiwiZ2V0TWluTWF4IiwiY2FuU3RhY2siLCJvdGhlclNjYWxlIiwiaGlkZGVuIiwiY3JlYXRlU3RhY2siLCJORUdBVElWRV9JTkZJTklUWSIsIm90aGVyTWluIiwib3RoZXJNYXgiLCJtaW5EZWZpbmVkIiwibWF4RGVmaW5lZCIsImdldFVzZXJCb3VuZHMiLCJfc2tpcCIsImdldEFsbFBhcnNlZFZhbHVlcyIsImdldE1heE92ZXJmbG93IiwiZ2V0TGFiZWxBbmRWYWx1ZSIsImdldExhYmVsRm9yVmFsdWUiLCJfY2xpcCIsImRpc2FibGVkIiwidG9DbGlwIiwiZGVmYXVsdENsaXAiLCJjaGFydEFyZWEiLCJyZXNvbHZlRGF0YXNldEVsZW1lbnRPcHRpb25zIiwicmVzb2x2ZURhdGFFbGVtZW50T3B0aW9ucyIsImRhdGFJbmRleCIsImNyZWF0ZURhdGFDb250ZXh0IiwiY3JlYXRlRGF0YXNldENvbnRleHQiLCJfcmVzb2x2ZUVsZW1lbnRPcHRpb25zIiwiZWxlbWVudFR5cGUiLCJzaGFyaW5nIiwiZGF0YXNldEVsZW1lbnRTY29wZUtleXMiLCJyZXNvbHZlTmFtZWRPcHRpb25zIiwiZnJlZXplIiwiX3Jlc29sdmVBbmltYXRpb25zIiwiZGF0YXNldEFuaW1hdGlvblNjb3BlS2V5cyIsImdldFNoYXJlZE9wdGlvbnMiLCJpbmNsdWRlT3B0aW9ucyIsInNoYXJlZE9wdGlvbnMiLCJfYW5pbWF0aW9uc0Rpc2FibGVkIiwiX2dldFNoYXJlZE9wdGlvbnMiLCJmaXJzdE9wdHMiLCJwcmV2aW91c2x5U2hhcmVkT3B0aW9ucyIsInVwZGF0ZVNoYXJlZE9wdGlvbnMiLCJ1cGRhdGVFbGVtZW50IiwiX3NldFN0eWxlIiwicmVtb3ZlSG92ZXJTdHlsZSIsInNldEhvdmVyU3R5bGUiLCJfcmVtb3ZlRGF0YXNldEhvdmVyU3R5bGUiLCJfc2V0RGF0YXNldEhvdmVyU3R5bGUiLCJhcmcxIiwiYXJnMiIsIm51bU1ldGEiLCJudW1EYXRhIiwiX2luc2VydEVsZW1lbnRzIiwiX3JlbW92ZUVsZW1lbnRzIiwidXBkYXRlRWxlbWVudHMiLCJyZW1vdmVkIiwiX3N5bmMiLCJfZGF0YUNoYW5nZXMiLCJfb25EYXRhUHVzaCIsIl9vbkRhdGFQb3AiLCJfb25EYXRhU2hpZnQiLCJfb25EYXRhU3BsaWNlIiwibmV3Q291bnQiLCJfb25EYXRhVW5zaGlmdCIsImNvbXB1dGVNaW5TYW1wbGVTaXplIiwiJGJhciIsInZpc2libGVNZXRhcyIsIl9hcnJheVVuaXF1ZSIsImdldEFsbFNjYWxlVmFsdWVzIiwiY3VyciIsIl9sZW5ndGgiLCJ1cGRhdGVNaW5BbmRQcmV2IiwiZ2V0UGl4ZWxGb3JWYWx1ZSIsImdldFBpeGVsRm9yVGljayIsInBhcnNlVmFsdWUiLCJzdGFydFZhbHVlIiwiZW5kVmFsdWUiLCJiYXJTdGFydCIsImJhckVuZCIsInBhcnNlRmxvYXRCYXIiLCJwYXJzZUFycmF5T3JQcmltaXRpdmUiLCJpc0Zsb2F0QmFyIiwic2V0Qm9yZGVyU2tpcHBlZCIsImVkZ2UiLCJib3JkZXJTa2lwcGVkIiwiaG9yaXpvbnRhbCIsImJvcmRlclByb3BzIiwiZW5hYmxlQm9yZGVyUmFkaXVzIiwicGFyc2VFZGdlIiwib3JpZyIsInYyIiwic3RhcnRFbmQiLCJzZXRJbmZsYXRlQW1vdW50IiwiaW5mbGF0ZUFtb3VudCIsIkJhckNvbnRyb2xsZXIiLCJjYXRlZ29yeVBlcmNlbnRhZ2UiLCJiYXJQZXJjZW50YWdlIiwiZ3JvdXBlZCIsIl9pbmRleF8iLCJfdmFsdWVfIiwiYmFycyIsImdldEJhc2VQaXhlbCIsImlzSG9yaXpvbnRhbCIsInJ1bGVyIiwiX2dldFJ1bGVyIiwidnBpeGVscyIsImhlYWQiLCJfY2FsY3VsYXRlQmFyVmFsdWVQaXhlbHMiLCJpcGl4ZWxzIiwiX2NhbGN1bGF0ZUJhckluZGV4UGl4ZWxzIiwiY2VudGVyIiwiX2dldFN0YWNrcyIsInNraXBOdWxsIiwiX2dldFN0YWNrQ291bnQiLCJfZ2V0U3RhY2tJbmRleCIsInBpeGVscyIsImJhclRoaWNrbmVzcyIsIl9zdGFydFBpeGVsIiwiX2VuZFBpeGVsIiwic3RhY2tDb3VudCIsImJhc2VWYWx1ZSIsIm1pbkJhckxlbmd0aCIsImFjdHVhbEJhc2UiLCJmbG9hdGluZyIsImdldERhdGFWaXNpYmlsaXR5IiwiYmFyU2lnbiIsInN0YXJ0UGl4ZWwiLCJnZXRQaXhlbEZvckRlY2ltYWwiLCJlbmRQaXhlbCIsImdldFZhbHVlRm9yUGl4ZWwiLCJoYWxmR3JpZCIsImdldExpbmVXaWR0aEZvclZhbHVlIiwibWF4QmFyVGhpY2tuZXNzIiwicGVyY2VudCIsImNodW5rIiwiY29tcHV0ZUZsZXhDYXRlZ29yeVRyYWl0cyIsInRoaWNrbmVzcyIsImNvbXB1dGVGaXRDYXRlZ29yeVRyYWl0cyIsInN0YWNrSW5kZXgiLCJyZWN0cyIsImJpbmFyeVNlYXJjaCIsIm1ldGFzZXQiLCJsb29rdXBNZXRob2QiLCJfcmV2ZXJzZVBpeGVscyIsImdldFJhbmdlIiwiZXZhbHVhdGVJbnRlcmFjdGlvbkl0ZW1zIiwiZ2V0U29ydGVkVmlzaWJsZURhdGFzZXRNZXRhcyIsInNraXAiLCJnZXRJbnRlcnNlY3RJdGVtcyIsInVzZUZpbmFsUG9zaXRpb24iLCJpc1BvaW50SW5BcmVhIiwiaW5SYW5nZSIsImdldE5lYXJlc3RJdGVtcyIsImRpc3RhbmNlTWV0cmljIiwidXNlWCIsInVzZVkiLCJwdDEiLCJwdDIiLCJkZWx0YVgiLCJkZWx0YVkiLCJnZXREaXN0YW5jZU1ldHJpY0ZvckF4aXMiLCJtaW5EaXN0YW5jZSIsImdldENlbnRlclBvaW50IiwiZGlzdGFuY2UiLCJnZXROZWFyZXN0Q2FydGVzaWFuSXRlbXMiLCJzdGFydEFuZ2xlIiwiZW5kQW5nbGUiLCJnZXRQcm9wcyIsImFuZ2xlIiwiY2VudHJlUG9pbnQiLCJhbmdsZVBvaW50IiwiZGlzdGFuY2VGcm9tWENlbnRlciIsImRpc3RhbmNlRnJvbVlDZW50ZXIiLCJyYWRpYWxEaXN0YW5jZUZyb21DZW50ZXIiLCJhdGFuMiIsImdldEFuZ2xlRnJvbVBvaW50Iiwic2FtZUFuZ2xlSXNGdWxsQ2lyY2xlIiwiYW5nbGVUb1N0YXJ0IiwiYW5nbGVUb0VuZCIsInN0YXJ0VG9BbmdsZSIsImVuZFRvQW5nbGUiLCJfYW5nbGVCZXR3ZWVuIiwiZ2V0TmVhcmVzdFJhZGlhbEl0ZW1zIiwiZ2V0QXhpc0l0ZW1zIiwicmFuZ2VNZXRob2QiLCJpbnRlcnNlY3RzSXRlbSIsIkludGVyYWN0aW9uIiwibW9kZXMiLCJuZWFyZXN0IiwiU1RBVElDX1BPU0lUSU9OUyIsImZpbHRlckJ5UG9zaXRpb24iLCJmaWx0ZXJEeW5hbWljUG9zaXRpb25CeUF4aXMiLCJzb3J0QnlXZWlnaHQiLCJnZXRDb21iaW5lZE1heCIsIm1heFBhZGRpbmciLCJ1cGRhdGVNYXhQYWRkaW5nIiwiYm94UGFkZGluZyIsInVwZGF0ZURpbXMiLCJsYXlvdXQiLCJnZXRQYWRkaW5nIiwibmV3V2lkdGgiLCJvdXRlcldpZHRoIiwibmV3SGVpZ2h0Iiwib3V0ZXJIZWlnaHQiLCJ3aWR0aENoYW5nZWQiLCJoZWlnaHRDaGFuZ2VkIiwic2FtZSIsIm90aGVyIiwiZ2V0TWFyZ2lucyIsIm1hcmdpbkZvclBvc2l0aW9ucyIsImZpdEJveGVzIiwiYm94ZXMiLCJyZWZpdEJveGVzIiwicmVmaXQiLCJjaGFuZ2VkIiwiZnVsbFNpemUiLCJzZXRCb3hEaW1zIiwicGxhY2VCb3hlcyIsInVzZXJQYWRkaW5nIiwicGxhY2VkIiwic3RhY2tXZWlnaHQiLCJsYXlvdXRzIiwiYWRkQm94IiwiX2xheWVycyIsInoiLCJyZW1vdmVCb3giLCJsYXlvdXRJdGVtIiwibWluUGFkZGluZyIsImF2YWlsYWJsZVdpZHRoIiwiYXZhaWxhYmxlSGVpZ2h0IiwibGF5b3V0Qm94ZXMiLCJ3cmFwQm94ZXMiLCJjZW50ZXJIb3Jpem9udGFsIiwiY2VudGVyVmVydGljYWwiLCJsZWZ0QW5kVG9wIiwicmlnaHRBbmRCb3R0b20iLCJ2ZXJ0aWNhbCIsImJ1aWxkTGF5b3V0Qm94ZXMiLCJ2ZXJ0aWNhbEJveGVzIiwiaG9yaXpvbnRhbEJveGVzIiwiYmVmb3JlTGF5b3V0IiwidmlzaWJsZVZlcnRpY2FsQm94Q291bnQiLCJ0b3RhbCIsInZCb3hNYXhXaWR0aCIsImhCb3hNYXhIZWlnaHQiLCJidWlsZFN0YWNrcyIsInNldExheW91dERpbXMiLCJ1cGRhdGVQb3MiLCJjaGFuZ2UiLCJoYW5kbGVNYXhQYWRkaW5nIiwiQmFzZVBsYXRmb3JtIiwiYWNxdWlyZUNvbnRleHQiLCJhc3BlY3RSYXRpbyIsInJlbGVhc2VDb250ZXh0IiwiZ2V0TWF4aW11bVNpemUiLCJpc0F0dGFjaGVkIiwidXBkYXRlQ29uZmlnIiwiQmFzaWNQbGF0Zm9ybSIsIkVYUEFORE9fS0VZIiwiRVZFTlRfVFlQRVMiLCJ0b3VjaHN0YXJ0IiwidG91Y2htb3ZlIiwidG91Y2hlbmQiLCJwb2ludGVyZW50ZXIiLCJwb2ludGVyZG93biIsInBvaW50ZXJtb3ZlIiwicG9pbnRlcnVwIiwicG9pbnRlcmxlYXZlIiwicG9pbnRlcm91dCIsImlzTnVsbE9yRW1wdHkiLCJldmVudExpc3RlbmVyT3B0aW9ucyIsInJlbW92ZUxpc3RlbmVyIiwibm9kZUxpc3RDb250YWlucyIsIm5vZGVMaXN0IiwiY29udGFpbnMiLCJjcmVhdGVBdHRhY2hPYnNlcnZlciIsIm9ic2VydmVyIiwiTXV0YXRpb25PYnNlcnZlciIsImFkZGVkTm9kZXMiLCJyZW1vdmVkTm9kZXMiLCJvYnNlcnZlIiwiY2hpbGRMaXN0Iiwic3VidHJlZSIsImNyZWF0ZURldGFjaE9ic2VydmVyIiwiZHJwTGlzdGVuaW5nQ2hhcnRzIiwib2xkRGV2aWNlUGl4ZWxSYXRpbyIsIm9uV2luZG93UmVzaXplIiwiZHByIiwiY3JlYXRlUmVzaXplT2JzZXJ2ZXIiLCJjbGllbnRXaWR0aCIsIlJlc2l6ZU9ic2VydmVyIiwiY29udGVudFJlY3QiLCJsaXN0ZW5EZXZpY2VQaXhlbFJhdGlvQ2hhbmdlcyIsInJlbGVhc2VPYnNlcnZlciIsImRpc2Nvbm5lY3QiLCJ1bmxpc3RlbkRldmljZVBpeGVsUmF0aW9DaGFuZ2VzIiwiY3JlYXRlUHJveHlBbmRMaXN0ZW4iLCJuYXRpdmUiLCJmcm9tTmF0aXZlRXZlbnQiLCJhZGRMaXN0ZW5lciIsIkRvbVBsYXRmb3JtIiwicmVuZGVySGVpZ2h0IiwicmVuZGVyV2lkdGgiLCJkaXNwbGF5V2lkdGgiLCJkaXNwbGF5SGVpZ2h0IiwiaW5pdENhbnZhcyIsInByb3hpZXMiLCIkcHJveGllcyIsImF0dGFjaCIsImRldGFjaCIsImJiV2lkdGgiLCJiYkhlaWdodCIsIm1hcmdpbnMiLCJtYXhIZWlnaHQiLCJjb250YWluZXJTaXplIiwiY29udGFpbmVyU3R5bGUiLCJjb250YWluZXJCb3JkZXIiLCJjb250YWluZXJQYWRkaW5nIiwiY2xpZW50SGVpZ2h0IiwiZ2V0Q29udGFpbmVyU2l6ZSIsImlzQ29ubmVjdGVkIiwidG9vbHRpcFBvc2l0aW9uIiwiaGFzVmFsdWUiLCJmaW5hbCIsIm5ld1RpY2tzIiwic3BhY2luZyIsIm1ham9yU3RhcnQiLCJtYWpvckVuZCIsImNlaWwiLCJvZmZzZXRGcm9tRWRnZSIsImdldFRpY2tzTGltaXQiLCJ0aWNrc0xlbmd0aCIsIm1heFRpY2tzTGltaXQiLCJzYW1wbGUiLCJudW1JdGVtcyIsImluY3JlbWVudCIsImdldFBpeGVsRm9yR3JpZExpbmUiLCJvZmZzZXRHcmlkTGluZXMiLCJ2YWxpZEluZGV4IiwibGluZVZhbHVlIiwiZ2V0VGlja01hcmtMZW5ndGgiLCJnZXRUaXRsZUhlaWdodCIsInRpdGxlQWxpZ24iLCJyZXZlcnNlQWxpZ24iLCJTY2FsZSIsIl9tYXJnaW5zIiwicGFkZGluZ1RvcCIsInBhZGRpbmdCb3R0b20iLCJwYWRkaW5nTGVmdCIsInBhZGRpbmdSaWdodCIsImxhYmVsUm90YXRpb24iLCJfcmFuZ2UiLCJfZ3JpZExpbmVJdGVtcyIsIl9sYWJlbEl0ZW1zIiwiX2xhYmVsU2l6ZXMiLCJfbWF4TGVuZ3RoIiwiX2xvbmdlc3RUZXh0Q2FjaGUiLCJfdXNlck1heCIsIl91c2VyTWluIiwiX3N1Z2dlc3RlZE1heCIsIl9zdWdnZXN0ZWRNaW4iLCJfdGlja3NMZW5ndGgiLCJfYm9yZGVyVmFsdWUiLCJfZGF0YUxpbWl0c0NhY2hlZCIsImluaXQiLCJzdWdnZXN0ZWRNaW4iLCJzdWdnZXN0ZWRNYXgiLCJtZXRhcyIsImdldFRpY2tzIiwieExhYmVscyIsInlMYWJlbHMiLCJnZXRMYWJlbEl0ZW1zIiwiX2NvbXB1dGVMYWJlbEl0ZW1zIiwidGlja09wdHMiLCJzYW1wbGVTaXplIiwiYmVmb3JlU2V0RGltZW5zaW9ucyIsInNldERpbWVuc2lvbnMiLCJhZnRlclNldERpbWVuc2lvbnMiLCJiZWZvcmVEYXRhTGltaXRzIiwiZGV0ZXJtaW5lRGF0YUxpbWl0cyIsImFmdGVyRGF0YUxpbWl0cyIsIm1pbm1heCIsImRpbWVuc2lvbiIsImtlZXBaZXJvIiwiX2FkZEdyYWNlIiwiYmVmb3JlQnVpbGRUaWNrcyIsImJ1aWxkVGlja3MiLCJhZnRlckJ1aWxkVGlja3MiLCJzYW1wbGluZ0VuYWJsZWQiLCJfY29udmVydFRpY2tzVG9MYWJlbHMiLCJiZWZvcmVDYWxjdWxhdGVMYWJlbFJvdGF0aW9uIiwiY2FsY3VsYXRlTGFiZWxSb3RhdGlvbiIsImFmdGVyQ2FsY3VsYXRlTGFiZWxSb3RhdGlvbiIsImRldGVybWluZWRNYXhUaWNrcyIsIl90aWNrU2l6ZSIsIm1heFNjYWxlIiwibWF4Q2hhcnQiLCJkZXRlcm1pbmVNYXhUaWNrcyIsInRpY2tzTGltaXQiLCJtYWpvckluZGljZXMiLCJnZXRNYWpvckluZGljZXMiLCJudW1NYWpvckluZGljZXMiLCJmaXJzdCIsInNraXBNYWpvcnMiLCJldmVuTWFqb3JTcGFjaW5nIiwiZ2V0RXZlblNwYWNpbmciLCJmYWN0b3JzIiwiX2ZhY3Rvcml6ZSIsImNhbGN1bGF0ZVNwYWNpbmciLCJhdmdNYWpvclNwYWNpbmciLCJhZnRlckF1dG9Ta2lwIiwiYmVmb3JlRml0IiwiZml0IiwiYWZ0ZXJGaXQiLCJhZnRlclVwZGF0ZSIsInJldmVyc2VQaXhlbHMiLCJfYWxpZ25Ub1BpeGVscyIsImFsaWduVG9QaXhlbHMiLCJfY2FsbEhvb2tzIiwibm90aWZ5UGx1Z2lucyIsImJlZm9yZVRpY2tUb0xhYmVsQ29udmVyc2lvbiIsImdlbmVyYXRlVGlja0xhYmVscyIsImFmdGVyVGlja1RvTGFiZWxDb252ZXJzaW9uIiwibnVtVGlja3MiLCJtYXhMYWJlbERpYWdvbmFsIiwiX2lzVmlzaWJsZSIsImxhYmVsU2l6ZXMiLCJfZ2V0TGFiZWxTaXplcyIsIm1heExhYmVsV2lkdGgiLCJ3aWRlc3QiLCJtYXhMYWJlbEhlaWdodCIsImhpZ2hlc3QiLCJhc2luIiwibWluU2l6ZSIsInRpdGxlT3B0cyIsImdyaWRPcHRzIiwidGl0bGVIZWlnaHQiLCJ0aWNrUGFkZGluZyIsImFuZ2xlUmFkaWFucyIsImxhYmVsSGVpZ2h0IiwibGFiZWxXaWR0aCIsIl9jYWxjdWxhdGVQYWRkaW5nIiwiX2hhbmRsZU1hcmdpbnMiLCJpc1JvdGF0ZWQiLCJsYWJlbHNCZWxvd1RpY2tzIiwib2Zmc2V0TGVmdCIsIm9mZnNldFJpZ2h0IiwiaXNGdWxsU2l6ZSIsIl9jb21wdXRlTGFiZWxTaXplcyIsImNhY2hlcyIsIndpZHRocyIsImhlaWdodHMiLCJqbGVuIiwidGlja0ZvbnQiLCJmb250U3RyaW5nIiwibmVzdGVkTGFiZWwiLCJ3aWRlc3RMYWJlbFNpemUiLCJoaWdoZXN0TGFiZWxTaXplIiwiX3Jlc29sdmVUaWNrRm9udE9wdGlvbnMiLCJnY0xlbiIsImdhcmJhZ2VDb2xsZWN0IiwidmFsdWVBdCIsImlkeCIsImRlY2ltYWwiLCJnZXREZWNpbWFsRm9yUGl4ZWwiLCJnZXRCYXNlVmFsdWUiLCJjcmVhdGVUaWNrQ29udGV4dCIsIm9wdGlvblRpY2tzIiwicm90IiwiX2NvbXB1dGVHcmlkTGluZUl0ZW1zIiwidGwiLCJib3JkZXJPcHRzIiwiYXhpc1dpZHRoIiwiYXhpc0hhbGZXaWR0aCIsImFsaWduQm9yZGVyVmFsdWUiLCJib3JkZXJWYWx1ZSIsImFsaWduZWRMaW5lVmFsdWUiLCJ0eDEiLCJ0eTEiLCJ0eDIiLCJ0eTIiLCJ4MSIsInkxIiwieDIiLCJ5MiIsInBvc2l0aW9uQXhpc0lEIiwibGltaXQiLCJzdGVwIiwib3B0c0F0SW5kZXgiLCJvcHRzQXRJbmRleEJvcmRlciIsImxpbmVDb2xvciIsImJvcmRlckRhc2giLCJib3JkZXJEYXNoT2Zmc2V0IiwidGlja0JvcmRlckRhc2giLCJ0aWNrQm9yZGVyRGFzaE9mZnNldCIsInRpY2tBbmRQYWRkaW5nIiwiaFRpY2tBbmRQYWRkaW5nIiwibGluZUNvdW50IiwidGV4dE9mZnNldCIsIl9nZXRYQXhpc0xhYmVsQWxpZ25tZW50IiwiX2dldFlBeGlzTGFiZWxBbGlnbm1lbnQiLCJoYWxmQ291bnQiLCJ0aWNrVGV4dEFsaWduIiwibGFiZWxQYWRkaW5nIiwiX2NvbXB1dGVMYWJlbEFyZWEiLCJkcmF3QmFja2dyb3VuZCIsImRyYXdHcmlkIiwiZHJhd0xpbmUiLCJzZXRMaW5lRGFzaCIsImxpbmVEYXNoT2Zmc2V0IiwiZHJhd0JvcmRlciIsImxhc3RMaW5lV2lkdGgiLCJkcmF3TGFiZWxzIiwicmVuZGVyVGV4dE9wdGlvbnMiLCJkcmF3VGl0bGUiLCJ0aXRsZVgiLCJ0aXRsZVkiLCJ0aXRsZUFyZ3MiLCJ0eiIsImd6IiwiYnoiLCJheGlzSUQiLCJfbWF4RGlnaXRzIiwiZm9udFNpemUiLCJUeXBlZFJlZ2lzdHJ5IiwiaXNGb3JUeXBlIiwiaXNQcm90b3R5cGVPZiIsInBhcmVudFNjb3BlIiwiaXNJQ2hhcnRDb21wb25lbnQiLCJpdGVtRGVmYXVsdHMiLCJkZWZhdWx0Um91dGVzIiwicHJvcGVydHlQYXJ0cyIsInNvdXJjZU5hbWUiLCJzb3VyY2VTY29wZSIsInJvdXRlRGVmYXVsdHMiLCJyZWdpc3RlckRlZmF1bHRzIiwiUmVnaXN0cnkiLCJjb250cm9sbGVycyIsIl90eXBlZFJlZ2lzdHJpZXMiLCJfZWFjaCIsImFkZENvbnRyb2xsZXJzIiwiYWRkUGx1Z2lucyIsImFkZFNjYWxlcyIsImdldENvbnRyb2xsZXIiLCJfZ2V0IiwiZ2V0RWxlbWVudCIsImdldFBsdWdpbiIsImdldFNjYWxlIiwicmVtb3ZlQ29udHJvbGxlcnMiLCJyZW1vdmVFbGVtZW50cyIsInJlbW92ZVBsdWdpbnMiLCJyZW1vdmVTY2FsZXMiLCJ0eXBlZFJlZ2lzdHJ5IiwicmVnIiwiX2dldFJlZ2lzdHJ5Rm9yVHlwZSIsIl9leGVjIiwiaXRlbVJlZyIsImNhbWVsTWV0aG9kIiwiUGx1Z2luU2VydmljZSIsIl9pbml0Iiwibm90aWZ5IiwiX2NyZWF0ZURlc2NyaXB0b3JzIiwiY2FuY2VsYWJsZSIsImludmFsaWRhdGUiLCJfb2xkQ2FjaGUiLCJfbm90aWZ5U3RhdGVDaGFuZ2VzIiwibG9jYWxJZHMiLCJhbGxQbHVnaW5zIiwiZ2V0T3B0cyIsInBsdWdpbk9wdHMiLCJjcmVhdGVEZXNjcmlwdG9ycyIsInByZXZpb3VzRGVzY3JpcHRvcnMiLCJwbHVnaW5TY29wZUtleXMiLCJnZXRJbmRleEF4aXMiLCJkYXRhc2V0RGVmYXVsdHMiLCJpZE1hdGNoZXNBeGlzIiwiZGV0ZXJtaW5lQXhpcyIsInNjYWxlT3B0aW9ucyIsImdldEF4aXNGcm9tRGF0YXNldCIsImluaXRPcHRpb25zIiwiY2hhcnREZWZhdWx0cyIsImNvbmZpZ1NjYWxlcyIsImNoYXJ0SW5kZXhBeGlzIiwic2NhbGVDb25mIiwiYm91bmREcyIsInJldHJpZXZlQXhpc0Zyb21EYXRhc2V0cyIsImRlZmF1bHRJZCIsImdldERlZmF1bHRTY2FsZUlERnJvbUF4aXMiLCJkZWZhdWx0U2NhbGVPcHRpb25zIiwiZGVmYXVsdElEIiwiZ2V0QXhpc0Zyb21EZWZhdWx0U2NhbGVJRCIsIm1lcmdlU2NhbGVDb25maWciLCJpbml0RGF0YSIsImtleUNhY2hlIiwia2V5c0NhY2hlZCIsImNhY2hlZEtleXMiLCJnZW5lcmF0ZSIsImFkZElmRm91bmQiLCJDb25maWciLCJfY29uZmlnIiwiaW5pdENvbmZpZyIsIl9zY29wZUNhY2hlIiwiX3Jlc29sdmVyQ2FjaGUiLCJjbGVhckNhY2hlIiwiZGF0YXNldFR5cGUiLCJhZGRpdGlvbmFsT3B0aW9uU2NvcGVzIiwiX2NhY2hlZFNjb3BlcyIsIm1haW5TY29wZSIsInJlc2V0Q2FjaGUiLCJrZXlMaXN0cyIsImNoYXJ0T3B0aW9uU2NvcGVzIiwic3ViUHJlZml4ZXMiLCJnZXRSZXNvbHZlciIsImhhc0Z1bmN0aW9uIiwibmVlZENvbnRleHQiLCJyZXNvbHZlckNhY2hlIiwiS05PV05fUE9TSVRJT05TIiwicG9zaXRpb25Jc0hvcml6b250YWwiLCJjb21wYXJlMkxldmVsIiwibDEiLCJvbkFuaW1hdGlvbnNDb21wbGV0ZSIsIm9uQ29tcGxldGUiLCJvbkFuaW1hdGlvblByb2dyZXNzIiwib25Qcm9ncmVzcyIsImdldENhbnZhcyIsImdldEVsZW1lbnRCeUlkIiwiZ2V0Q2hhcnQiLCJtb3ZlTnVtZXJpY0tleXMiLCJpbnRLZXkiLCJnZXRTaXplRm9yQXJlYSIsImZpZWxkIiwiQ2hhcnQiLCJpbnZhbGlkYXRlUGx1Z2lucyIsInVzZXJDb25maWciLCJpbml0aWFsQ2FudmFzIiwiZXhpc3RpbmdDaGFydCIsIk9mZnNjcmVlbkNhbnZhcyIsIl9kZXRlY3RQbGF0Zm9ybSIsIl9hc3BlY3RSYXRpbyIsIl9tZXRhc2V0cyIsIl9sYXN0RXZlbnQiLCJfbGlzdGVuZXJzIiwiX3Jlc3BvbnNpdmVMaXN0ZW5lcnMiLCJfc29ydGVkTWV0YXNldHMiLCJfcGx1Z2lucyIsIl9oaWRkZW5JbmRpY2VzIiwiX2RvUmVzaXplIiwiY2xlYXJUaW1lb3V0IiwiZGVib3VuY2UiLCJyZXNpemVEZWxheSIsIl9pbml0aWFsaXplIiwiYmluZEV2ZW50cyIsIl9yZXNpemVCZWZvcmVEcmF3IiwiX3Jlc2l6ZSIsIm5ld1NpemUiLCJuZXdSYXRpbyIsIm9uUmVzaXplIiwiZW5zdXJlU2NhbGVzSGF2ZUlEcyIsImF4aXNPcHRpb25zIiwiYnVpbGRPclVwZGF0ZVNjYWxlcyIsInNjYWxlT3B0cyIsImlzUmFkaWFsIiwiZHBvc2l0aW9uIiwiZHR5cGUiLCJzY2FsZVR5cGUiLCJoYXNVcGRhdGVkIiwiX3VwZGF0ZU1ldGFzZXRzIiwiX2Rlc3Ryb3lEYXRhc2V0TWV0YSIsIl9yZW1vdmVVbnJlZmVyZW5jZWRNZXRhc2V0cyIsIl9kYXRhc2V0IiwiYnVpbGRPclVwZGF0ZUNvbnRyb2xsZXJzIiwibmV3Q29udHJvbGxlcnMiLCJvcmRlciIsImlzRGF0YXNldFZpc2libGUiLCJDb250cm9sbGVyQ2xhc3MiLCJfcmVzZXRFbGVtZW50cyIsImFuaW1zRGlzYWJsZWQiLCJfdXBkYXRlU2NhbGVzIiwiX2NoZWNrRXZlbnRCaW5kaW5ncyIsIl91cGRhdGVIaWRkZW5JbmRpY2VzIiwiX21pblBhZGRpbmciLCJfdXBkYXRlTGF5b3V0IiwiX3VwZGF0ZURhdGFzZXRzIiwiX2V2ZW50SGFuZGxlciIsIl91cGRhdGVIb3ZlclN0eWxlcyIsImV4aXN0aW5nRXZlbnRzIiwibmV3RXZlbnRzIiwidW5iaW5kRXZlbnRzIiwiY2hhbmdlcyIsIl9nZXRVbmlmb3JtRGF0YUNoYW5nZXMiLCJkYXRhc2V0Q291bnQiLCJtYWtlU2V0IiwiY2hhbmdlU2V0Iiwibm9BcmVhIiwiX2lkeCIsIl91cGRhdGVEYXRhc2V0IiwibGF5ZXJzIiwiX2RyYXdEYXRhc2V0cyIsIl9kcmF3RGF0YXNldCIsInVzZUNsaXAiLCJnZXREYXRhc2V0QXJlYSIsImdldEVsZW1lbnRzQXRFdmVudEZvck1vZGUiLCJnZXRWaXNpYmxlRGF0YXNldENvdW50Iiwic2V0RGF0YXNldFZpc2liaWxpdHkiLCJ0b2dnbGVEYXRhVmlzaWJpbGl0eSIsIl91cGRhdGVWaXNpYmlsaXR5IiwiX3N0b3AiLCJkZXN0cm95IiwidG9CYXNlNjRJbWFnZSIsInRvRGF0YVVSTCIsImJpbmRVc2VyRXZlbnRzIiwiYmluZFJlc3BvbnNpdmVFdmVudHMiLCJfYWRkIiwiX3JlbW92ZSIsInVwZGF0ZUhvdmVyU3R5bGUiLCJnZXRBY3RpdmVFbGVtZW50cyIsInNldEFjdGl2ZUVsZW1lbnRzIiwiYWN0aXZlRWxlbWVudHMiLCJsYXN0QWN0aXZlIiwicmVwbGF5IiwiaG92ZXJPcHRpb25zIiwiaW5DaGFydEFyZWEiLCJldmVudEZpbHRlciIsIl9oYW5kbGVFdmVudCIsIl9nZXRBY3RpdmVFbGVtZW50cyIsImlzQ2xpY2siLCJfaXNDbGlja0V2ZW50IiwibGFzdEV2ZW50IiwiZGV0ZXJtaW5lTGFzdEV2ZW50IiwiZ2V0QmFyQm91bmRzIiwiYmFyIiwiaGFsZiIsInNraXBPckxpbWl0Iiwic2tpcFgiLCJza2lwWSIsImFkZE5vcm1hbFJlY3RQYXRoIiwiaW5mbGF0ZVJlY3QiLCJhbW91bnQiLCJyZWZSZWN0IiwiQmFyRWxlbWVudCIsImJvcmRlclJhZGl1cyIsIm1heFciLCJtYXhIIiwicGFyc2VCb3JkZXJXaWR0aCIsIm1heFIiLCJlbmFibGVCb3JkZXIiLCJwYXJzZUJvcmRlclJhZGl1cyIsImJvdW5kaW5nUmVjdHMiLCJhZGRSZWN0UGF0aCIsIm1vdXNlWCIsIm1vdXNlWSIsImluWFJhbmdlIiwiaW5ZUmFuZ2UiLCJnZXRCb3hTaXplIiwibGFiZWxPcHRzIiwiYm94SGVpZ2h0IiwiYm94V2lkdGgiLCJ1c2VQb2ludFN0eWxlIiwicG9pbnRTdHlsZVdpZHRoIiwiaXRlbUhlaWdodCIsIkxlZ2VuZCIsIl9hZGRlZCIsImxlZ2VuZEhpdEJveGVzIiwiX2hvdmVyZWRJdGVtIiwiZG91Z2hudXRNb2RlIiwibGVnZW5kSXRlbXMiLCJjb2x1bW5TaXplcyIsImxpbmVXaWR0aHMiLCJidWlsZExhYmVscyIsImdlbmVyYXRlTGFiZWxzIiwibGFiZWxGb250IiwiX2NvbXB1dGVUaXRsZUhlaWdodCIsIl9maXRSb3dzIiwiX2ZpdENvbHMiLCJoaXRib3hlcyIsInRvdGFsSGVpZ2h0IiwibGVnZW5kSXRlbSIsIl9pdGVtSGVpZ2h0IiwiaGVpZ2h0TGltaXQiLCJ0b3RhbFdpZHRoIiwiY3VycmVudENvbFdpZHRoIiwiY3VycmVudENvbEhlaWdodCIsImNvbCIsImxlZ2VuZEl0ZW1UZXh0IiwiY2FsY3VsYXRlSXRlbVdpZHRoIiwiZm9udExpbmVIZWlnaHQiLCJjYWxjdWxhdGVMZWdlbmRJdGVtSGVpZ2h0IiwiY2FsY3VsYXRlSXRlbUhlaWdodCIsImNhbGN1bGF0ZUl0ZW1TaXplIiwiYWRqdXN0SGl0Qm94ZXMiLCJydGxIZWxwZXIiLCJoaXRib3giLCJfZHJhdyIsImRlZmF1bHRDb2xvciIsImhhbGZGb250U2l6ZSIsInRleHREaXJlY3Rpb24iLCJmb250Q29sb3IiLCJsaW5lQ2FwIiwibGluZUpvaW4iLCJsaW5lRGFzaCIsImRyYXdPcHRpb25zIiwiU1FSVDIiLCJjZW50ZXJYIiwieUJveFRvcCIsInhCb3hMZWZ0IiwiZHJhd0xlZ2VuZEJveCIsIl90ZXh0WCIsInRpdGxlRm9udCIsInRpdGxlUGFkZGluZyIsInRvcFBhZGRpbmdQbHVzSGFsZkZvbnRTaXplIiwiX2dldExlZ2VuZEl0ZW1BdCIsImhpdEJveCIsImxoIiwiaGFuZGxlRXZlbnQiLCJpc0xpc3RlbmVkIiwiaG92ZXJlZEl0ZW0iLCJwcmV2aW91cyIsInNhbWVJdGVtIiwicGx1Z2luX2xlZ2VuZCIsIl9lbGVtZW50IiwiX2FyZ3MiLCJsZWdlbmQiLCJhZnRlckV2ZW50IiwiY2kiLCJ1c2VCb3JkZXJSYWRpdXMiLCJib3JkZXJDYXBTdHlsZSIsImJvcmRlckpvaW5TdHlsZSIsIlRpdGxlIiwiX3BhZGRpbmciLCJ0ZXh0U2l6ZSIsIl9kcmF3QXJncyIsImZvbnRPcHRzIiwicGx1Z2luX3RpdGxlIiwidGl0bGVCbG9jayIsImNyZWF0ZVRpdGxlIiwicG9zaXRpb25lcnMiLCJhdmVyYWdlIiwieFNldCIsImV2ZW50UG9zaXRpb24iLCJuZWFyZXN0RWxlbWVudCIsInRwIiwicHVzaE9yQ29uY2F0IiwidG9QdXNoIiwic3BsaXROZXdsaW5lcyIsImNyZWF0ZVRvb2x0aXBJdGVtIiwiZm9ybWF0dGVkVmFsdWUiLCJnZXRUb29sdGlwU2l6ZSIsImZvb3RlciIsImJvZHlGb250IiwiZm9vdGVyRm9udCIsInRpdGxlTGluZUNvdW50IiwiZm9vdGVyTGluZUNvdW50IiwiYm9keUxpbmVJdGVtQ291bnQiLCJjb21iaW5lZEJvZHlMZW5ndGgiLCJib2R5SXRlbSIsImJlZm9yZUJvZHkiLCJhZnRlckJvZHkiLCJ0aXRsZVNwYWNpbmciLCJ0aXRsZU1hcmdpbkJvdHRvbSIsImRpc3BsYXlDb2xvcnMiLCJib2R5U3BhY2luZyIsImZvb3Rlck1hcmdpblRvcCIsImZvb3RlclNwYWNpbmciLCJ3aWR0aFBhZGRpbmciLCJtYXhMaW5lV2lkdGgiLCJkZXRlcm1pbmVYQWxpZ24iLCJ5QWxpZ24iLCJjaGFydFdpZHRoIiwieEFsaWduIiwiY2FyZXQiLCJjYXJldFNpemUiLCJjYXJldFBhZGRpbmciLCJkb2VzTm90Rml0V2l0aEFsaWduIiwiZGV0ZXJtaW5lQWxpZ25tZW50IiwiZGV0ZXJtaW5lWUFsaWduIiwiZ2V0QmFja2dyb3VuZFBvaW50IiwiYWxpZ25tZW50IiwicGFkZGluZ0FuZFNpemUiLCJhbGlnblgiLCJhbGlnblkiLCJnZXRBbGlnbmVkWCIsImdldEJlZm9yZUFmdGVyQm9keUxpbmVzIiwib3ZlcnJpZGVDYWxsYmFja3MiLCJkZWZhdWx0Q2FsbGJhY2tzIiwiYmVmb3JlVGl0bGUiLCJ0b29sdGlwSXRlbXMiLCJsYWJlbENvdW50IiwiYWZ0ZXJUaXRsZSIsImJlZm9yZUxhYmVsIiwidG9vbHRpcEl0ZW0iLCJsYWJlbENvbG9yIiwibGFiZWxUZXh0Q29sb3IiLCJib2R5Q29sb3IiLCJsYWJlbFBvaW50U3R5bGUiLCJhZnRlckxhYmVsIiwiYmVmb3JlRm9vdGVyIiwiYWZ0ZXJGb290ZXIiLCJpbnZva2VDYWxsYmFja1dpdGhGYWxsYmFjayIsIlRvb2x0aXAiLCJvcGFjaXR5IiwiX2V2ZW50UG9zaXRpb24iLCJfc2l6ZSIsIl9jYWNoZWRBbmltYXRpb25zIiwiX3Rvb2x0aXBJdGVtcyIsImRhdGFQb2ludHMiLCJjYXJldFgiLCJjYXJldFkiLCJsYWJlbENvbG9ycyIsImxhYmVsUG9pbnRTdHlsZXMiLCJsYWJlbFRleHRDb2xvcnMiLCJnZXRUaXRsZSIsImdldEJlZm9yZUJvZHkiLCJnZXRCb2R5IiwiYm9keUl0ZW1zIiwic2NvcGVkIiwiZ2V0QWZ0ZXJCb2R5IiwiZ2V0Rm9vdGVyIiwiX2NyZWF0ZUl0ZW1zIiwiaXRlbVNvcnQiLCJwb3NpdGlvbkFuZFNpemUiLCJiYWNrZ3JvdW5kUG9pbnQiLCJleHRlcm5hbCIsImRyYXdDYXJldCIsInRvb2x0aXBQb2ludCIsImNhcmV0UG9zaXRpb24iLCJnZXRDYXJldFBvc2l0aW9uIiwieDMiLCJ5MyIsInB0WCIsInB0WSIsInB0IiwidGl0bGVDb2xvciIsIl9kcmF3Q29sb3JCb3giLCJjb2xvclgiLCJydGxDb2xvclgiLCJ5T2ZmU2V0IiwiY29sb3JZIiwiY2VudGVyWSIsIm11bHRpS2V5QmFja2dyb3VuZCIsIm91dGVyWCIsImlubmVyWCIsInN0cm9rZVJlY3QiLCJkcmF3Qm9keSIsImJvZHlBbGlnbiIsImJvZHlMaW5lSGVpZ2h0IiwieExpbmVQYWRkaW5nIiwiZmlsbExpbmVPZlRleHQiLCJib2R5QWxpZ25Gb3JDYWxjdWxhdGlvbiIsImRyYXdGb290ZXIiLCJmb290ZXJBbGlnbiIsImZvb3RlckNvbG9yIiwidG9vbHRpcFNpemUiLCJxdWFkcmF0aWNDdXJ2ZVRvIiwiX3VwZGF0ZUFuaW1hdGlvblRhcmdldCIsImFuaW1YIiwiYW5pbVkiLCJfd2lsbFJlbmRlciIsImhhc1Rvb2x0aXBDb250ZW50IiwiZ2xvYmFsQWxwaGEiLCJwb3NpdGlvbkNoYW5nZWQiLCJfcG9zaXRpb25DaGFuZ2VkIiwiX2lnbm9yZVJlcGxheUV2ZW50cyIsInBsdWdpbl90b29sdGlwIiwiYWZ0ZXJJbml0IiwiYWZ0ZXJEcmF3IiwiX2dldExhYmVsRm9yVmFsdWUiLCJDYXRlZ29yeVNjYWxlIiwiX3N0YXJ0VmFsdWUiLCJfdmFsdWVSYW5nZSIsIl9hZGRlZExhYmVscyIsImFkZGVkIiwiYWRkZWRMYWJlbHMiLCJhZGRJZlN0cmluZyIsImxhc3RJbmRleE9mIiwiZmluZE9yQWRkTGFiZWwiLCJyZWxhdGl2ZUxhYmVsU2l6ZSIsIm1pblNwYWNpbmciLCJMaW5lYXJTY2FsZUJhc2UiLCJfZW5kVmFsdWUiLCJoYW5kbGVUaWNrUmFuZ2VPcHRpb25zIiwic2V0TWluIiwic2V0TWF4IiwibWluU2lnbiIsIm1heFNpZ24iLCJnZXRUaWNrTGltaXQiLCJtYXhUaWNrcyIsInN0ZXBTaXplIiwiY29tcHV0ZVRpY2tMaW1pdCIsImdlbmVyYXRpb25PcHRpb25zIiwiZGF0YVJhbmdlIiwibWF4RGlnaXRzIiwiaW5jbHVkZUJvdW5kcyIsInVuaXQiLCJtYXhTcGFjZXMiLCJybWluIiwicm1heCIsImNvdW50RGVmaW5lZCIsIm5pY2VNaW4iLCJuaWNlTWF4IiwibnVtU3BhY2VzIiwicm91bmRlZCIsImFsbW9zdFdob2xlIiwiZGVjaW1hbFBsYWNlcyIsImdlbmVyYXRlVGlja3MkMSIsIl9zZXRNaW5BbmRNYXhCeUtleSIsIkxpbmVhclNjYWxlIiwiQ29tbW9uUHJvcHMiLCJkYXRhc2V0SWRLZXkiLCJ1cGRhdGVNb2RlIiwiQTExeVByb3BzIiwiYXJpYUxhYmVsIiwiYXJpYURlc2NyaWJlZGJ5IiwiUHJvcHMiLCJkZXN0cm95RGVsYXkiLCJjb21wYXRQcm9wcyIsInRvUmF3SWZQcm94eSIsInNldExhYmVscyIsImN1cnJlbnREYXRhIiwibmV4dExhYmVscyIsInNldERhdGFzZXRzIiwibmV4dERhdGFzZXRzIiwiYWRkZWREYXRhc2V0cyIsIm5leHREYXRhc2V0IiwiY3VycmVudERhdGFzZXQiLCJjYW52YXNSZWYiLCJjaGFydFJlZiIsImNsb25lZERhdGEiLCJuZXh0RGF0YSIsImNsb25lRGF0YSIsInByb3hpZWREYXRhIiwiY2xvbmVQcm94eSIsInBhcmFtMSIsIm5leHRPcHRpb25zUHJveHkiLCJuZXh0RGF0YVByb3h5IiwicHJldk9wdGlvbnNQcm94eSIsInByZXZEYXRhUHJveHkiLCJzaG91bGRVcGRhdGUiLCJuZXh0T3B0aW9ucyIsInByZXZPcHRpb25zIiwic2V0T3B0aW9ucyIsInByZXZMYWJlbHMiLCJwcmV2RGF0YXNldHMiLCJyb2xlIiwiY3JlYXRlVHlwZWRDaGFydCIsInJlZ2lzdGVyYWJsZXMiLCJyZWZvcndhcmRSZWYiLCJCYXIiLCJfX2RlZmF1bHRfXyIsImNoYXJ0SWQiLCJjc3NDbGFzc2VzIiwiY2hhcnRPcHRpb25zIiwiY2hhcnREYXRhIiwiQmFyQ2hhcnQiLCJDaGFydEpTIiwiZ3JhcGhEYXRhIiwiZ2V0R3JhcGhEYXRhIiwiZmV0Y2hHcmFwaERhdGEiLCJTZXR0aW5ncyIsIlRhYmxlIiwiX2NvbXBvbmVudF9CYXJDaGFydCIsImdsb2JhbE9wdGlvbnMiLCJtYXRjaGVycyIsIm1hdGNoZXJNYXAiLCJhZGRSb3V0ZSIsIm9yaWdpbmFsUmVjb3JkIiwiaXNSb290QWRkIiwibWFpbk5vcm1hbGl6ZWRSZWNvcmQiLCJub3JtYWxpemVSb3V0ZVJlY29yZCIsIm5vcm1hbGl6ZWRSZWNvcmRzIiwiYWxpYXNlcyIsIm9yaWdpbmFsTWF0Y2hlciIsIm5vcm1hbGl6ZWRSZWNvcmQiLCJwYXJlbnRQYXRoIiwiY29ubmVjdGluZ1NsYXNoIiwicmVtb3ZlUm91dGUiLCJpbnNlcnRNYXRjaGVyIiwibWF0Y2hlclJlZiIsImxvd2VyIiwidXBwZXIiLCJpbnNlcnRpb25BbmNlc3RvciIsImFuY2VzdG9yIiwiZ2V0SW5zZXJ0aW9uQW5jZXN0b3IiLCJwYXJlbnRNYXRjaGVyIiwiZ2V0UmVjb3JkTWF0Y2hlciIsImNyZWF0ZVJvdXRlck1hdGNoZXIiLCJwYXJzZVF1ZXJ5JDEiLCJzdHJpbmdpZnlRdWVyeSQxIiwicm91dGVySGlzdG9yeSIsImJlZm9yZUd1YXJkcyIsImJlZm9yZVJlc29sdmVHdWFyZHMiLCJhZnRlckd1YXJkcyIsInBlbmRpbmdMb2NhdGlvbiIsInNjcm9sbEJlaGF2aW9yIiwic2Nyb2xsUmVzdG9yYXRpb24iLCJub3JtYWxpemVQYXJhbXMiLCJwYXJhbVZhbHVlIiwiZW5jb2RlUGFyYW1zIiwiZGVjb2RlUGFyYW1zIiwicmF3TG9jYXRpb24iLCJsb2NhdGlvbk5vcm1hbGl6ZWQiLCJtYXRjaGVyTG9jYXRpb24iLCJ0YXJnZXRQYXJhbXMiLCJzdHJpbmdpZnlVUkwiLCJsb2NhdGlvbkFzT2JqZWN0IiwiY2hlY2tDYW5jZWxlZE5hdmlnYXRpb24iLCJwdXNoV2l0aFJlZGlyZWN0IiwiaGFuZGxlUmVkaXJlY3RSZWNvcmQiLCJsYXN0TWF0Y2hlZCIsIm5ld1RhcmdldExvY2F0aW9uIiwidGFyZ2V0TG9jYXRpb24iLCJmb3JjZSIsInNob3VsZFJlZGlyZWN0IiwidG9Mb2NhdGlvbiIsImFMYXN0SW5kZXgiLCJiTGFzdEluZGV4IiwiaXNTYW1lUm91dGVMb2NhdGlvbiIsImhhbmRsZVNjcm9sbCIsIm1hcmtBc1JlYWR5IiwidHJpZ2dlckVycm9yIiwiZmluYWxpemVOYXZpZ2F0aW9uIiwidHJpZ2dlckFmdGVyRWFjaCIsImNoZWNrQ2FuY2VsZWROYXZpZ2F0aW9uQW5kUmVqZWN0IiwiaW5zdGFsbGVkQXBwcyIsImxlYXZpbmdSZWNvcmRzIiwidXBkYXRpbmdSZWNvcmRzIiwiZW50ZXJpbmdSZWNvcmRzIiwicmVjb3JkRnJvbSIsInJlY29yZFRvIiwiZXh0cmFjdENoYW5naW5nUmVjb3JkcyIsImNhbmNlbGVkTmF2aWdhdGlvbkNoZWNrIiwicnVuR3VhcmRRdWV1ZSIsImlzUHVzaCIsImlzRmlyc3ROYXZpZ2F0aW9uIiwicmVtb3ZlSGlzdG9yeUxpc3RlbmVyIiwicmVhZHkiLCJyZWFkeUhhbmRsZXJzIiwiZXJyb3JMaXN0ZW5lcnMiLCJsaXN0ZW5pbmciLCJzY3JvbGxQb3NpdGlvbiIsImdvIiwiZ2V0U2F2ZWRTY3JvbGxQb3NpdGlvbiIsInNjcm9sbFRvT3B0aW9ucyIsInBvc2l0aW9uRWwiLCJpc0lkU2VsZWN0b3IiLCJkb2NSZWN0IiwiZG9jdW1lbnRFbGVtZW50IiwiZWxSZWN0IiwiYmVoYXZpb3IiLCJnZXRFbGVtZW50UG9zaXRpb24iLCJzY3JvbGxUbyIsInNjcm9sbFRvUG9zaXRpb24iLCJzdGFydGVkIiwicGFyZW50T3JSb3V0ZSIsInJlY29yZE1hdGNoZXIiLCJoYXNSb3V0ZSIsInJvdXRlTWF0Y2hlciIsImJlZm9yZVJlc29sdmUiLCJpc1JlYWR5IiwiJHJvdXRlciIsInJlYWN0aXZlUm91dGUiLCJ1bm1vdW50QXBwIiwicHJvbWlzZSIsImNyZWF0ZVJvdXRlciIsImhpc3RvcnlOYXZpZ2F0aW9uIiwiaGlzdG9yeVN0YXRlIiwiY2hhbmdlTG9jYXRpb24iLCJoYXNoSW5kZXgiLCJ1cmwiLCJjdXJyZW50U3RhdGUiLCJ1c2VIaXN0b3J5U3RhdGVOYXZpZ2F0aW9uIiwiYmFzZUVsIiwibm9ybWFsaXplQmFzZSIsImhpc3RvcnlMaXN0ZW5lcnMiLCJ0ZWFyZG93bnMiLCJwYXVzZVN0YXRlIiwicG9wU3RhdGVIYW5kbGVyIiwiZnJvbVN0YXRlIiwidW5rbm93biIsImJlZm9yZVVubG9hZExpc3RlbmVyIiwicGF1c2VMaXN0ZW5lcnMiLCJ0ZWFyZG93biIsInVzZUhpc3RvcnlMaXN0ZW5lcnMiLCJ0cmlnZ2VyTGlzdGVuZXJzIiwiY3JlYXRlV2ViSGlzdG9yeSIsInNpdGUiLCJiYXNlX3VybCIsImxvZ0Vycm9yT25jZSIsInRhaWwiLCJtZW1vaXplZCIsInNlYXJjaENhY2hlIiwibWF4U2l6ZSIsIlBSRUNFREVOQ0UiLCJPUEVORVJTIiwiVEVSTUlOQVRPUlMiLCJQQVRURVJOIiwiT1BFUkFUT1JTIiwiREVGQVVMVF9PUFRJT05TIiwiY29udGV4dERlbGltaXRlciIsIm9uTWlzc2luZ0tleSIsIlRhbm5pbiIsInBsdXJhbEZvcm1zIiwiZ2V0UGx1cmFsRm9ybSIsImRvbWFpbiIsInBsdXJhbCIsInBmIiwiZXZhbHVhdGUiLCJwbHVyYWxfZm9ybXMiLCJnZXRQbHVyYWxFeHByZXNzaW9uIiwiZXhwcmVzc2lvbiIsInRlcm1zIiwib3BlcmF0b3IiLCJ0ZXJtIiwicG9zdGZpeCIsInZhcmlhYmxlcyIsImdldE9wZXJhdG9yUmVzdWx0IiwiZWFybHlSZXR1cm4iLCJkY25wZ2V0dGV4dCIsInNpbmd1bGFyIiwiREVGQVVMVF9MT0NBTEVfREFUQSIsIkkxOE5fSE9PS19SRUdFWFAiLCJpMThuIiwiaW5pdGlhbERhdGEiLCJpbml0aWFsRG9tYWluIiwidGFubmluIiwibm90aWZ5TGlzdGVuZXJzIiwiZG9TZXRMb2NhbGVEYXRhIiwic2V0TG9jYWxlRGF0YSIsInNpbmdsZSIsImdldEZpbHRlckRvbWFpbiIsIl94Iiwib25Ib29rQWRkZWRPclJlbW92ZWQiLCJnZXRMb2NhbGVEYXRhIiwiYWRkTG9jYWxlRGF0YSIsInJlc2V0TG9jYWxlRGF0YSIsIl9ueCIsImlzUlRMIiwiaGFzVHJhbnNsYXRpb24iLCJjcmVhdGVJMThuIiwiX3gyIiwiX3NwcmludGYiLCJfeDMiLCJfbGVuIiwia2luZE9mIiwidGhpbmciLCJraW5kT2ZUZXN0IiwidHlwZU9mVGVzdCIsImlzVW5kZWZpbmVkIiwiaXNBcnJheUJ1ZmZlciIsImlzRmlsZSIsImlzQmxvYiIsImlzRmlsZUxpc3QiLCJpc1VSTFNlYXJjaFBhcmFtcyIsImlzUmVhZGFibGVTdHJlYW0iLCJpc1JlcXVlc3QiLCJpc1Jlc3BvbnNlIiwiaXNIZWFkZXJzIiwiYWxsT3duS2V5cyIsImZpbmRLZXkiLCJfZ2xvYmFsIiwiZ2xvYmFsIiwiaXNDb250ZXh0RGVmaW5lZCIsImlzVHlwZWRBcnJheSIsIlR5cGVkQXJyYXkiLCJVaW50OEFycmF5IiwiaXNIVE1MRm9ybSIsInJlZHVjZURlc2NyaXB0b3JzIiwicmVkdWNlciIsInJlZHVjZWREZXNjcmlwdG9ycyIsIkFMUEhBIiwiRElHSVQiLCJBTFBIQUJFVCIsIkFMUEhBX0RJR0lUIiwiaXNBc3luY0ZuIiwiaXNCdWZmZXIiLCJpc0Zvcm1EYXRhIiwia2luZCIsIkZvcm1EYXRhIiwiYXBwZW5kIiwiaXNBcnJheUJ1ZmZlclZpZXciLCJBcnJheUJ1ZmZlciIsImlzVmlldyIsImlzU3RyaW5nIiwiaXNPYmplY3QiLCJpc0RhdGUiLCJpc1JlZ0V4cCIsImlzRnVuY3Rpb24iLCJpc1N0cmVhbSIsInBpcGUiLCJjYXNlbGVzcyIsImFzc2lnblZhbHVlIiwidGFyZ2V0S2V5IiwiZXh0ZW5kIiwic3RyaXBCT00iLCJpbmhlcml0cyIsInN1cGVyQ29uc3RydWN0b3IiLCJ0b0ZsYXRPYmplY3QiLCJzb3VyY2VPYmoiLCJkZXN0T2JqIiwicHJvcEZpbHRlciIsImxhc3RJbmRleCIsInRvQXJyYXkiLCJmb3JFYWNoRW50cnkiLCJwYWlyIiwibWF0Y2hBbGwiLCJyZWdFeHAiLCJoYXNPd25Qcm9wIiwiZnJlZXplTWV0aG9kcyIsInRvT2JqZWN0U2V0IiwiYXJyYXlPclN0cmluZyIsImRlbGltaXRlciIsInRvQ2FtZWxDYXNlIiwidG9GaW5pdGVOdW1iZXIiLCJnZW5lcmF0ZVN0cmluZyIsImFscGhhYmV0IiwicmFuZG9tIiwiaXNTcGVjQ29tcGxpYW50Rm9ybSIsInRvSlNPTk9iamVjdCIsInZpc2l0IiwicmVkdWNlZFZhbHVlIiwiaXNUaGVuYWJsZSIsIkF4aW9zRXJyb3IiLCJjb2RlIiwicmVxdWVzdCIsInJlc3BvbnNlIiwiY2FwdHVyZVN0YWNrVHJhY2UiLCJ1dGlscyIsInRvSlNPTiIsImZpbGVOYW1lIiwibGluZU51bWJlciIsImNvbHVtbk51bWJlciIsImN1c3RvbVByb3BzIiwiYXhpb3NFcnJvciIsImNhdXNlIiwiaXNWaXNpdGFibGUiLCJyZW1vdmVCcmFja2V0cyIsInJlbmRlcktleSIsImRvdHMiLCJwcmVkaWNhdGVzIiwiZm9ybURhdGEiLCJtZXRhVG9rZW5zIiwiaW5kZXhlcyIsInZpc2l0b3IiLCJkZWZhdWx0VmlzaXRvciIsInVzZUJsb2IiLCJCbG9iIiwiY29udmVydFZhbHVlIiwidG9JU09TdHJpbmciLCJCdWZmZXIiLCJpc0ZsYXRBcnJheSIsImV4cG9zZWRIZWxwZXJzIiwiYnVpbGQiLCJlbmNvZGUiLCJjaGFyTWFwIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiQXhpb3NVUkxTZWFyY2hQYXJhbXMiLCJfcGFpcnMiLCJlbmNvZGVyIiwiX2VuY29kZSIsImJ1aWxkVVJMIiwic2VyaWFsaXplRm4iLCJzZXJpYWxpemUiLCJzZXJpYWxpemVkUGFyYW1zIiwiaGFzaG1hcmtJbmRleCIsImZ1bGZpbGxlZCIsInJlamVjdGVkIiwic3luY2hyb25vdXMiLCJydW5XaGVuIiwiZWplY3QiLCJzaWxlbnRKU09OUGFyc2luZyIsImZvcmNlZEpTT05QYXJzaW5nIiwiY2xhcmlmeVRpbWVvdXRFcnJvciIsImNsYXNzZXMiLCJVUkxTZWFyY2hQYXJhbXMiLCJwcm90b2NvbHMiLCJoYXNCcm93c2VyRW52IiwiaGFzU3RhbmRhcmRCcm93c2VyRW52IiwicHJvZHVjdCIsImhhc1N0YW5kYXJkQnJvd3NlcldlYldvcmtlckVudiIsIldvcmtlckdsb2JhbFNjb3BlIiwiaW1wb3J0U2NyaXB0cyIsIm9yaWdpbiIsImJ1aWxkUGF0aCIsImlzTnVtZXJpY0tleSIsImlzTGFzdCIsImFycmF5VG9PYmplY3QiLCJwYXJzZVByb3BQYXRoIiwidHJhbnNpdGlvbmFsIiwiYWRhcHRlciIsInRyYW5zZm9ybVJlcXVlc3QiLCJjb250ZW50VHlwZSIsImdldENvbnRlbnRUeXBlIiwiaGFzSlNPTkNvbnRlbnRUeXBlIiwiaXNPYmplY3RQYXlsb2FkIiwic2V0Q29udGVudFR5cGUiLCJoZWxwZXJzIiwiaXNOb2RlIiwidG9VUkxFbmNvZGVkRm9ybSIsImZvcm1TZXJpYWxpemVyIiwiX0Zvcm1EYXRhIiwiZW52Iiwic3RyaW5naWZ5U2FmZWx5IiwidHJhbnNmb3JtUmVzcG9uc2UiLCJKU09OUmVxdWVzdGVkIiwicmVzcG9uc2VUeXBlIiwic3RyaWN0SlNPTlBhcnNpbmciLCJFUlJfQkFEX1JFU1BPTlNFIiwieHNyZkNvb2tpZU5hbWUiLCJ4c3JmSGVhZGVyTmFtZSIsIm1heENvbnRlbnRMZW5ndGgiLCJtYXhCb2R5TGVuZ3RoIiwidmFsaWRhdGVTdGF0dXMiLCJjb21tb24iLCJpZ25vcmVEdXBsaWNhdGVPZiIsIiRpbnRlcm5hbHMiLCJub3JtYWxpemVIZWFkZXIiLCJub3JtYWxpemVWYWx1ZSIsIm1hdGNoSGVhZGVyVmFsdWUiLCJpc0hlYWRlck5hbWVGaWx0ZXIiLCJBeGlvc0hlYWRlcnMiLCJ2YWx1ZU9yUmV3cml0ZSIsInJld3JpdGUiLCJzZXRIZWFkZXIiLCJfaGVhZGVyIiwiX3Jld3JpdGUiLCJsSGVhZGVyIiwic2V0SGVhZGVycyIsInJhd0hlYWRlcnMiLCJwYXJzZUhlYWRlcnMiLCJ0b2tlbnNSRSIsInBhcnNlVG9rZW5zIiwiZGVsZXRlZCIsImRlbGV0ZUhlYWRlciIsImZvcm1hdEhlYWRlciIsInRhcmdldHMiLCJhc1N0cmluZ3MiLCJhY2Nlc3NvciIsImFjY2Vzc29ycyIsImRlZmluZUFjY2Vzc29yIiwiYWNjZXNzb3JOYW1lIiwibWV0aG9kTmFtZSIsImFyZzMiLCJidWlsZEFjY2Vzc29ycyIsIm1hcHBlZCIsImhlYWRlclZhbHVlIiwidHJhbnNmb3JtRGF0YSIsImlzQ2FuY2VsIiwiX19DQU5DRUxfXyIsIkNhbmNlbGVkRXJyb3IiLCJFUlJfQ0FOQ0VMRUQiLCJzZXR0bGUiLCJFUlJfQkFEX1JFUVVFU1QiLCJpc0Rvd25sb2FkU3RyZWFtIiwiZnJlcSIsImJ5dGVzTm90aWZpZWQiLCJfc3BlZWRvbWV0ZXIiLCJzYW1wbGVzQ291bnQiLCJieXRlcyIsInRpbWVzdGFtcHMiLCJmaXJzdFNhbXBsZVRTIiwiY2h1bmtMZW5ndGgiLCJzdGFydGVkQXQiLCJieXRlc0NvdW50IiwicGFzc2VkIiwidGltZXN0YW1wIiwidGhyZXNob2xkIiwidGltZXIiLCJsb2FkZWQiLCJsZW5ndGhDb21wdXRhYmxlIiwicHJvZ3Jlc3NCeXRlcyIsInJhdGUiLCJlc3RpbWF0ZWQiLCJtc2llIiwidXJsUGFyc2luZ05vZGUiLCJvcmlnaW5VUkwiLCJyZXNvbHZlVVJMIiwiaG9zdG5hbWUiLCJwb3J0IiwicmVxdWVzdFVSTCIsIndyaXRlIiwiZXhwaXJlcyIsInNlY3VyZSIsImNvb2tpZSIsInRvR01UU3RyaW5nIiwiYnVpbGRGdWxsUGF0aCIsImJhc2VVUkwiLCJyZXF1ZXN0ZWRVUkwiLCJyZWxhdGl2ZVVSTCIsImNvbWJpbmVVUkxzIiwiaGVhZGVyc1RvT2JqZWN0IiwibWVyZ2VDb25maWciLCJjb25maWcxIiwiY29uZmlnMiIsImdldE1lcmdlZFZhbHVlIiwibWVyZ2VEZWVwUHJvcGVydGllcyIsInZhbHVlRnJvbUNvbmZpZzIiLCJkZWZhdWx0VG9Db25maWcyIiwibWVyZ2VEaXJlY3RLZXlzIiwibWVyZ2VNYXAiLCJwYXJhbXNTZXJpYWxpemVyIiwidGltZW91dE1lc3NhZ2UiLCJ3aXRoQ3JlZGVudGlhbHMiLCJ3aXRoWFNSRlRva2VuIiwib25VcGxvYWRQcm9ncmVzcyIsIm9uRG93bmxvYWRQcm9ncmVzcyIsImRlY29tcHJlc3MiLCJiZWZvcmVSZWRpcmVjdCIsInRyYW5zcG9ydCIsImh0dHBBZ2VudCIsImh0dHBzQWdlbnQiLCJjYW5jZWxUb2tlbiIsInNvY2tldFBhdGgiLCJyZXNwb25zZUVuY29kaW5nIiwiY29uZmlnVmFsdWUiLCJuZXdDb25maWciLCJhdXRoIiwiYnRvYSIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJ1bmVzY2FwZSIsImlzVVJMU2FtZU9yaWdpbiIsInhzcmZWYWx1ZSIsImNvb2tpZXMiLCJYTUxIdHRwUmVxdWVzdCIsInJlc29sdmVDb25maWciLCJyZXF1ZXN0RGF0YSIsInJlcXVlc3RIZWFkZXJzIiwib25DYW5jZWxlZCIsInVuc3Vic2NyaWJlIiwic2lnbmFsIiwib25sb2FkZW5kIiwicmVzcG9uc2VIZWFkZXJzIiwiZ2V0QWxsUmVzcG9uc2VIZWFkZXJzIiwicmVzcG9uc2VUZXh0Iiwic3RhdHVzVGV4dCIsIm9wZW4iLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwicmVzcG9uc2VVUkwiLCJvbmFib3J0IiwiRUNPTk5BQk9SVEVEIiwib25lcnJvciIsIkVSUl9ORVRXT1JLIiwib250aW1lb3V0IiwidGltZW91dEVycm9yTWVzc2FnZSIsIkVUSU1FRE9VVCIsInNldFJlcXVlc3RIZWFkZXIiLCJwcm9ncmVzc0V2ZW50UmVkdWNlciIsInVwbG9hZCIsImFib3J0IiwiYWJvcnRlZCIsInBhcnNlUHJvdG9jb2wiLCJzZW5kIiwic2lnbmFscyIsIkFib3J0Q29udHJvbGxlciIsInJlYXNvbiIsInN0cmVhbUNodW5rIiwiY2h1bmtTaXplIiwiYnl0ZUxlbmd0aCIsInRyYWNrU3RyZWFtIiwic3RyZWFtIiwib25GaW5pc2giLCJpdGVyYWJsZSIsInJlYWRCeXRlcyIsIlJlYWRhYmxlU3RyZWFtIiwicHVsbCIsImNsb3NlIiwiZW5xdWV1ZSIsInJldHVybiIsImhpZ2hXYXRlck1hcmsiLCJmZXRjaFByb2dyZXNzRGVjb3JhdG9yIiwiaXNGZXRjaFN1cHBvcnRlZCIsImZldGNoIiwiUmVxdWVzdCIsIlJlc3BvbnNlIiwiaXNSZWFkYWJsZVN0cmVhbVN1cHBvcnRlZCIsImVuY29kZVRleHQiLCJUZXh0RW5jb2RlciIsImFycmF5QnVmZmVyIiwic3VwcG9ydHNSZXF1ZXN0U3RyZWFtIiwiZHVwbGV4QWNjZXNzZWQiLCJoYXNDb250ZW50VHlwZSIsImR1cGxleCIsInN1cHBvcnRzUmVzcG9uc2VTdHJlYW0iLCJyZXNvbHZlcnMiLCJFUlJfTk9UX1NVUFBPUlQiLCJmZXRjaE9wdGlvbnMiLCJmaW5pc2hlZCIsImNvbXBvc2VkU2lnbmFsIiwic3RvcFRpbWVvdXQiLCJyZXF1ZXN0Q29udGVudExlbmd0aCIsImdldENvbnRlbnRMZW5ndGgiLCJnZXRCb2R5TGVuZ3RoIiwicmVzb2x2ZUJvZHlMZW5ndGgiLCJjb250ZW50VHlwZUhlYWRlciIsImlzU3RyZWFtUmVzcG9uc2UiLCJyZXNwb25zZUNvbnRlbnRMZW5ndGgiLCJyZXNwb25zZURhdGEiLCJrbm93bkFkYXB0ZXJzIiwiaHR0cCIsInhociIsInJlbmRlclJlYXNvbiIsImlzUmVzb2x2ZWRIYW5kbGUiLCJhZGFwdGVycyIsIm5hbWVPckFkYXB0ZXIiLCJyZWplY3RlZFJlYXNvbnMiLCJyZWFzb25zIiwidGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZCIsInRocm93SWZSZXF1ZXN0ZWQiLCJkaXNwYXRjaFJlcXVlc3QiLCJ2YWxpZGF0b3JzIiwiZGVwcmVjYXRlZFdhcm5pbmdzIiwidmFsaWRhdG9yIiwiZm9ybWF0TWVzc2FnZSIsImRlc2MiLCJFUlJfREVQUkVDQVRFRCIsImFzc2VydE9wdGlvbnMiLCJzY2hlbWEiLCJhbGxvd1Vua25vd24iLCJFUlJfQkFEX09QVElPTl9WQUxVRSIsIkVSUl9CQURfT1BUSU9OIiwiQXhpb3MiLCJpbnN0YW5jZUNvbmZpZyIsImludGVyY2VwdG9ycyIsImNvbmZpZ09yVXJsIiwiZHVtbXkiLCJmdW5jdGlvbiIsImNvbnRleHRIZWFkZXJzIiwicmVxdWVzdEludGVyY2VwdG9yQ2hhaW4iLCJzeW5jaHJvbm91c1JlcXVlc3RJbnRlcmNlcHRvcnMiLCJpbnRlcmNlcHRvciIsInJlc3BvbnNlSW50ZXJjZXB0b3JDaGFpbiIsImNoYWluIiwib25GdWxmaWxsZWQiLCJvblJlamVjdGVkIiwiZ2V0VXJpIiwiZ2VuZXJhdGVIVFRQTWV0aG9kIiwiaXNGb3JtIiwiQ2FuY2VsVG9rZW4iLCJleGVjdXRvciIsInJlc29sdmVQcm9taXNlIiwib25mdWxmaWxsZWQiLCJIdHRwU3RhdHVzQ29kZSIsIkNvbnRpbnVlIiwiU3dpdGNoaW5nUHJvdG9jb2xzIiwiUHJvY2Vzc2luZyIsIkVhcmx5SGludHMiLCJPayIsIkNyZWF0ZWQiLCJBY2NlcHRlZCIsIk5vbkF1dGhvcml0YXRpdmVJbmZvcm1hdGlvbiIsIk5vQ29udGVudCIsIlJlc2V0Q29udGVudCIsIlBhcnRpYWxDb250ZW50IiwiTXVsdGlTdGF0dXMiLCJBbHJlYWR5UmVwb3J0ZWQiLCJJbVVzZWQiLCJNdWx0aXBsZUNob2ljZXMiLCJNb3ZlZFBlcm1hbmVudGx5IiwiRm91bmQiLCJTZWVPdGhlciIsIk5vdE1vZGlmaWVkIiwiVXNlUHJveHkiLCJVbnVzZWQiLCJUZW1wb3JhcnlSZWRpcmVjdCIsIlBlcm1hbmVudFJlZGlyZWN0IiwiQmFkUmVxdWVzdCIsIlVuYXV0aG9yaXplZCIsIlBheW1lbnRSZXF1aXJlZCIsIkZvcmJpZGRlbiIsIk5vdEZvdW5kIiwiTWV0aG9kTm90QWxsb3dlZCIsIk5vdEFjY2VwdGFibGUiLCJQcm94eUF1dGhlbnRpY2F0aW9uUmVxdWlyZWQiLCJSZXF1ZXN0VGltZW91dCIsIkNvbmZsaWN0IiwiR29uZSIsIkxlbmd0aFJlcXVpcmVkIiwiUHJlY29uZGl0aW9uRmFpbGVkIiwiUGF5bG9hZFRvb0xhcmdlIiwiVXJpVG9vTG9uZyIsIlVuc3VwcG9ydGVkTWVkaWFUeXBlIiwiUmFuZ2VOb3RTYXRpc2ZpYWJsZSIsIkV4cGVjdGF0aW9uRmFpbGVkIiwiSW1BVGVhcG90IiwiTWlzZGlyZWN0ZWRSZXF1ZXN0IiwiVW5wcm9jZXNzYWJsZUVudGl0eSIsIkxvY2tlZCIsIkZhaWxlZERlcGVuZGVuY3kiLCJUb29FYXJseSIsIlVwZ3JhZGVSZXF1aXJlZCIsIlByZWNvbmRpdGlvblJlcXVpcmVkIiwiVG9vTWFueVJlcXVlc3RzIiwiUmVxdWVzdEhlYWRlckZpZWxkc1Rvb0xhcmdlIiwiVW5hdmFpbGFibGVGb3JMZWdhbFJlYXNvbnMiLCJJbnRlcm5hbFNlcnZlckVycm9yIiwiTm90SW1wbGVtZW50ZWQiLCJCYWRHYXRld2F5IiwiU2VydmljZVVuYXZhaWxhYmxlIiwiR2F0ZXdheVRpbWVvdXQiLCJIdHRwVmVyc2lvbk5vdFN1cHBvcnRlZCIsIlZhcmlhbnRBbHNvTmVnb3RpYXRlcyIsIkluc3VmZmljaWVudFN0b3JhZ2UiLCJMb29wRGV0ZWN0ZWQiLCJOb3RFeHRlbmRlZCIsIk5ldHdvcmtBdXRoZW50aWNhdGlvblJlcXVpcmVkIiwiYXhpb3MiLCJjcmVhdGVJbnN0YW5jZSIsImRlZmF1bHRDb25maWciLCJWRVJTSU9OIiwidG9Gb3JtRGF0YSIsIkNhbmNlbCIsInNwcmVhZCIsImlzQXhpb3NFcnJvciIsImZvcm1Ub0pTT04iLCJnZXRBZGFwdGVyIiwiX2FzeW5jVG9HZW5lcmF0b3IiLCJfcmVmIiwicG9zdCIsInJlc3RfYmFzZSIsIm5vbmNlIiwiX3JlZjIiLCJfY2FsbGVlMiIsIl9jb250ZXh0MiIsInNsaWNlZFJvd3MiLCJwYWdldmlld3MiLCJ0b0xvY2FsZVN0cmluZyIsImFsZXJ0IiwiaXNWaXNpYmxlIiwic2V0QWxlcnQiLCJzaG93QWxlcnQiLCJoaWRlQWxlcnQiLCJfcmVmMyIsInNldElzQWxlcnRWaXNpYmxlIiwiaXNTYXZpbmciLCJzZXRTZXR0aW5nc1NhdmluZyIsImdyYXBoIiwiU0VUX0dSQVBIX0RBVEEiLCJuZXdEYXRhIiwiX3N0YXRlJGdyYXBoRGF0YSRsYWJlIiwiX3N0YXRlJGdyYXBoRGF0YSR2YWx1IiwiX3RvQ29uc3VtYWJsZUFycmF5IiwibW9udGgiLCJTRVRfVEFCTEVfSEVBREVSUyIsIlNFVF9UQUJMRV9ST1dTIiwiZ2V0VGFibGVIZWFkZXJzIiwiZ2V0VGFibGVSb3dzIiwiY29udGFpbmVyT3JTZWxlY3RvciIsIm5vcm1hbGl6ZUNvbnRhaW5lciIsIlNWR0VsZW1lbnQiLCJNYXRoTUxFbGVtZW50IiwicmVzb2x2ZVJvb3ROYW1lc3BhY2UiLCJFbGVtZW50IiwiQXBwIiwiaTE4bk1peGluIiwid3BBbVZ1ZUhvb2tzIiwiY3JlYXRlSG9va3MiXSwic291cmNlUm9vdCI6IiJ9